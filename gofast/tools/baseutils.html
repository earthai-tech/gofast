<!DOCTYPE html>
<!-- Generated by Cython 3.0.9 -->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Cython: baseutils.pyx</title>
    <style type="text/css">
    
body.cython { font-family: courier; font-size: 12; }

.cython.tag  {  }
.cython.line { color: #000000; margin: 0em }
.cython.code { font-size: 9; color: #444444; display: none; margin: 0px 0px 0px 8px; border-left: 8px none; }

.cython.line .run { background-color: #B0FFB0; }
.cython.line .mis { background-color: #FFB0B0; }
.cython.code.run  { border-left: 8px solid #B0FFB0; }
.cython.code.mis  { border-left: 8px solid #FFB0B0; }

.cython.code .py_c_api  { color: red; }
.cython.code .py_macro_api  { color: #FF7000; }
.cython.code .pyx_c_api  { color: #FF3000; }
.cython.code .pyx_macro_api  { color: #FF7000; }
.cython.code .refnanny  { color: #FFA000; }
.cython.code .trace  { color: #FFA000; }
.cython.code .error_goto  { color: #FFA000; }

.cython.code .coerce  { color: #008000; border: 1px dotted #008000 }
.cython.code .py_attr { color: #FF0000; font-weight: bold; }
.cython.code .c_attr  { color: #0000FF; }
.cython.code .py_call { color: #FF0000; font-weight: bold; }
.cython.code .c_call  { color: #0000FF; }

.cython.score-0 {background-color: #FFFFff;}
.cython.score-1 {background-color: #FFFFe7;}
.cython.score-2 {background-color: #FFFFd4;}
.cython.score-3 {background-color: #FFFFc4;}
.cython.score-4 {background-color: #FFFFb6;}
.cython.score-5 {background-color: #FFFFaa;}
.cython.score-6 {background-color: #FFFF9f;}
.cython.score-7 {background-color: #FFFF96;}
.cython.score-8 {background-color: #FFFF8d;}
.cython.score-9 {background-color: #FFFF86;}
.cython.score-10 {background-color: #FFFF7f;}
.cython.score-11 {background-color: #FFFF79;}
.cython.score-12 {background-color: #FFFF73;}
.cython.score-13 {background-color: #FFFF6e;}
.cython.score-14 {background-color: #FFFF6a;}
.cython.score-15 {background-color: #FFFF66;}
.cython.score-16 {background-color: #FFFF62;}
.cython.score-17 {background-color: #FFFF5e;}
.cython.score-18 {background-color: #FFFF5b;}
.cython.score-19 {background-color: #FFFF57;}
.cython.score-20 {background-color: #FFFF55;}
.cython.score-21 {background-color: #FFFF52;}
.cython.score-22 {background-color: #FFFF4f;}
.cython.score-23 {background-color: #FFFF4d;}
.cython.score-24 {background-color: #FFFF4b;}
.cython.score-25 {background-color: #FFFF48;}
.cython.score-26 {background-color: #FFFF46;}
.cython.score-27 {background-color: #FFFF44;}
.cython.score-28 {background-color: #FFFF43;}
.cython.score-29 {background-color: #FFFF41;}
.cython.score-30 {background-color: #FFFF3f;}
.cython.score-31 {background-color: #FFFF3e;}
.cython.score-32 {background-color: #FFFF3c;}
.cython.score-33 {background-color: #FFFF3b;}
.cython.score-34 {background-color: #FFFF39;}
.cython.score-35 {background-color: #FFFF38;}
.cython.score-36 {background-color: #FFFF37;}
.cython.score-37 {background-color: #FFFF36;}
.cython.score-38 {background-color: #FFFF35;}
.cython.score-39 {background-color: #FFFF34;}
.cython.score-40 {background-color: #FFFF33;}
.cython.score-41 {background-color: #FFFF32;}
.cython.score-42 {background-color: #FFFF31;}
.cython.score-43 {background-color: #FFFF30;}
.cython.score-44 {background-color: #FFFF2f;}
.cython.score-45 {background-color: #FFFF2e;}
.cython.score-46 {background-color: #FFFF2d;}
.cython.score-47 {background-color: #FFFF2c;}
.cython.score-48 {background-color: #FFFF2b;}
.cython.score-49 {background-color: #FFFF2b;}
.cython.score-50 {background-color: #FFFF2a;}
.cython.score-51 {background-color: #FFFF29;}
.cython.score-52 {background-color: #FFFF29;}
.cython.score-53 {background-color: #FFFF28;}
.cython.score-54 {background-color: #FFFF27;}
.cython.score-55 {background-color: #FFFF27;}
.cython.score-56 {background-color: #FFFF26;}
.cython.score-57 {background-color: #FFFF26;}
.cython.score-58 {background-color: #FFFF25;}
.cython.score-59 {background-color: #FFFF24;}
.cython.score-60 {background-color: #FFFF24;}
.cython.score-61 {background-color: #FFFF23;}
.cython.score-62 {background-color: #FFFF23;}
.cython.score-63 {background-color: #FFFF22;}
.cython.score-64 {background-color: #FFFF22;}
.cython.score-65 {background-color: #FFFF22;}
.cython.score-66 {background-color: #FFFF21;}
.cython.score-67 {background-color: #FFFF21;}
.cython.score-68 {background-color: #FFFF20;}
.cython.score-69 {background-color: #FFFF20;}
.cython.score-70 {background-color: #FFFF1f;}
.cython.score-71 {background-color: #FFFF1f;}
.cython.score-72 {background-color: #FFFF1f;}
.cython.score-73 {background-color: #FFFF1e;}
.cython.score-74 {background-color: #FFFF1e;}
.cython.score-75 {background-color: #FFFF1e;}
.cython.score-76 {background-color: #FFFF1d;}
.cython.score-77 {background-color: #FFFF1d;}
.cython.score-78 {background-color: #FFFF1c;}
.cython.score-79 {background-color: #FFFF1c;}
.cython.score-80 {background-color: #FFFF1c;}
.cython.score-81 {background-color: #FFFF1c;}
.cython.score-82 {background-color: #FFFF1b;}
.cython.score-83 {background-color: #FFFF1b;}
.cython.score-84 {background-color: #FFFF1b;}
.cython.score-85 {background-color: #FFFF1a;}
.cython.score-86 {background-color: #FFFF1a;}
.cython.score-87 {background-color: #FFFF1a;}
.cython.score-88 {background-color: #FFFF1a;}
.cython.score-89 {background-color: #FFFF19;}
.cython.score-90 {background-color: #FFFF19;}
.cython.score-91 {background-color: #FFFF19;}
.cython.score-92 {background-color: #FFFF19;}
.cython.score-93 {background-color: #FFFF18;}
.cython.score-94 {background-color: #FFFF18;}
.cython.score-95 {background-color: #FFFF18;}
.cython.score-96 {background-color: #FFFF18;}
.cython.score-97 {background-color: #FFFF17;}
.cython.score-98 {background-color: #FFFF17;}
.cython.score-99 {background-color: #FFFF17;}
.cython.score-100 {background-color: #FFFF17;}
.cython.score-101 {background-color: #FFFF16;}
.cython.score-102 {background-color: #FFFF16;}
.cython.score-103 {background-color: #FFFF16;}
.cython.score-104 {background-color: #FFFF16;}
.cython.score-105 {background-color: #FFFF16;}
.cython.score-106 {background-color: #FFFF15;}
.cython.score-107 {background-color: #FFFF15;}
.cython.score-108 {background-color: #FFFF15;}
.cython.score-109 {background-color: #FFFF15;}
.cython.score-110 {background-color: #FFFF15;}
.cython.score-111 {background-color: #FFFF15;}
.cython.score-112 {background-color: #FFFF14;}
.cython.score-113 {background-color: #FFFF14;}
.cython.score-114 {background-color: #FFFF14;}
.cython.score-115 {background-color: #FFFF14;}
.cython.score-116 {background-color: #FFFF14;}
.cython.score-117 {background-color: #FFFF14;}
.cython.score-118 {background-color: #FFFF13;}
.cython.score-119 {background-color: #FFFF13;}
.cython.score-120 {background-color: #FFFF13;}
.cython.score-121 {background-color: #FFFF13;}
.cython.score-122 {background-color: #FFFF13;}
.cython.score-123 {background-color: #FFFF13;}
.cython.score-124 {background-color: #FFFF13;}
.cython.score-125 {background-color: #FFFF12;}
.cython.score-126 {background-color: #FFFF12;}
.cython.score-127 {background-color: #FFFF12;}
.cython.score-128 {background-color: #FFFF12;}
.cython.score-129 {background-color: #FFFF12;}
.cython.score-130 {background-color: #FFFF12;}
.cython.score-131 {background-color: #FFFF12;}
.cython.score-132 {background-color: #FFFF11;}
.cython.score-133 {background-color: #FFFF11;}
.cython.score-134 {background-color: #FFFF11;}
.cython.score-135 {background-color: #FFFF11;}
.cython.score-136 {background-color: #FFFF11;}
.cython.score-137 {background-color: #FFFF11;}
.cython.score-138 {background-color: #FFFF11;}
.cython.score-139 {background-color: #FFFF11;}
.cython.score-140 {background-color: #FFFF11;}
.cython.score-141 {background-color: #FFFF10;}
.cython.score-142 {background-color: #FFFF10;}
.cython.score-143 {background-color: #FFFF10;}
.cython.score-144 {background-color: #FFFF10;}
.cython.score-145 {background-color: #FFFF10;}
.cython.score-146 {background-color: #FFFF10;}
.cython.score-147 {background-color: #FFFF10;}
.cython.score-148 {background-color: #FFFF10;}
.cython.score-149 {background-color: #FFFF10;}
.cython.score-150 {background-color: #FFFF0f;}
.cython.score-151 {background-color: #FFFF0f;}
.cython.score-152 {background-color: #FFFF0f;}
.cython.score-153 {background-color: #FFFF0f;}
.cython.score-154 {background-color: #FFFF0f;}
.cython.score-155 {background-color: #FFFF0f;}
.cython.score-156 {background-color: #FFFF0f;}
.cython.score-157 {background-color: #FFFF0f;}
.cython.score-158 {background-color: #FFFF0f;}
.cython.score-159 {background-color: #FFFF0f;}
.cython.score-160 {background-color: #FFFF0f;}
.cython.score-161 {background-color: #FFFF0e;}
.cython.score-162 {background-color: #FFFF0e;}
.cython.score-163 {background-color: #FFFF0e;}
.cython.score-164 {background-color: #FFFF0e;}
.cython.score-165 {background-color: #FFFF0e;}
.cython.score-166 {background-color: #FFFF0e;}
.cython.score-167 {background-color: #FFFF0e;}
.cython.score-168 {background-color: #FFFF0e;}
.cython.score-169 {background-color: #FFFF0e;}
.cython.score-170 {background-color: #FFFF0e;}
.cython.score-171 {background-color: #FFFF0e;}
.cython.score-172 {background-color: #FFFF0e;}
.cython.score-173 {background-color: #FFFF0d;}
.cython.score-174 {background-color: #FFFF0d;}
.cython.score-175 {background-color: #FFFF0d;}
.cython.score-176 {background-color: #FFFF0d;}
.cython.score-177 {background-color: #FFFF0d;}
.cython.score-178 {background-color: #FFFF0d;}
.cython.score-179 {background-color: #FFFF0d;}
.cython.score-180 {background-color: #FFFF0d;}
.cython.score-181 {background-color: #FFFF0d;}
.cython.score-182 {background-color: #FFFF0d;}
.cython.score-183 {background-color: #FFFF0d;}
.cython.score-184 {background-color: #FFFF0d;}
.cython.score-185 {background-color: #FFFF0d;}
.cython.score-186 {background-color: #FFFF0d;}
.cython.score-187 {background-color: #FFFF0c;}
.cython.score-188 {background-color: #FFFF0c;}
.cython.score-189 {background-color: #FFFF0c;}
.cython.score-190 {background-color: #FFFF0c;}
.cython.score-191 {background-color: #FFFF0c;}
.cython.score-192 {background-color: #FFFF0c;}
.cython.score-193 {background-color: #FFFF0c;}
.cython.score-194 {background-color: #FFFF0c;}
.cython.score-195 {background-color: #FFFF0c;}
.cython.score-196 {background-color: #FFFF0c;}
.cython.score-197 {background-color: #FFFF0c;}
.cython.score-198 {background-color: #FFFF0c;}
.cython.score-199 {background-color: #FFFF0c;}
.cython.score-200 {background-color: #FFFF0c;}
.cython.score-201 {background-color: #FFFF0c;}
.cython.score-202 {background-color: #FFFF0c;}
.cython.score-203 {background-color: #FFFF0b;}
.cython.score-204 {background-color: #FFFF0b;}
.cython.score-205 {background-color: #FFFF0b;}
.cython.score-206 {background-color: #FFFF0b;}
.cython.score-207 {background-color: #FFFF0b;}
.cython.score-208 {background-color: #FFFF0b;}
.cython.score-209 {background-color: #FFFF0b;}
.cython.score-210 {background-color: #FFFF0b;}
.cython.score-211 {background-color: #FFFF0b;}
.cython.score-212 {background-color: #FFFF0b;}
.cython.score-213 {background-color: #FFFF0b;}
.cython.score-214 {background-color: #FFFF0b;}
.cython.score-215 {background-color: #FFFF0b;}
.cython.score-216 {background-color: #FFFF0b;}
.cython.score-217 {background-color: #FFFF0b;}
.cython.score-218 {background-color: #FFFF0b;}
.cython.score-219 {background-color: #FFFF0b;}
.cython.score-220 {background-color: #FFFF0b;}
.cython.score-221 {background-color: #FFFF0b;}
.cython.score-222 {background-color: #FFFF0a;}
.cython.score-223 {background-color: #FFFF0a;}
.cython.score-224 {background-color: #FFFF0a;}
.cython.score-225 {background-color: #FFFF0a;}
.cython.score-226 {background-color: #FFFF0a;}
.cython.score-227 {background-color: #FFFF0a;}
.cython.score-228 {background-color: #FFFF0a;}
.cython.score-229 {background-color: #FFFF0a;}
.cython.score-230 {background-color: #FFFF0a;}
.cython.score-231 {background-color: #FFFF0a;}
.cython.score-232 {background-color: #FFFF0a;}
.cython.score-233 {background-color: #FFFF0a;}
.cython.score-234 {background-color: #FFFF0a;}
.cython.score-235 {background-color: #FFFF0a;}
.cython.score-236 {background-color: #FFFF0a;}
.cython.score-237 {background-color: #FFFF0a;}
.cython.score-238 {background-color: #FFFF0a;}
.cython.score-239 {background-color: #FFFF0a;}
.cython.score-240 {background-color: #FFFF0a;}
.cython.score-241 {background-color: #FFFF0a;}
.cython.score-242 {background-color: #FFFF0a;}
.cython.score-243 {background-color: #FFFF0a;}
.cython.score-244 {background-color: #FFFF0a;}
.cython.score-245 {background-color: #FFFF0a;}
.cython.score-246 {background-color: #FFFF09;}
.cython.score-247 {background-color: #FFFF09;}
.cython.score-248 {background-color: #FFFF09;}
.cython.score-249 {background-color: #FFFF09;}
.cython.score-250 {background-color: #FFFF09;}
.cython.score-251 {background-color: #FFFF09;}
.cython.score-252 {background-color: #FFFF09;}
.cython.score-253 {background-color: #FFFF09;}
.cython.score-254 {background-color: #FFFF09;}
    </style>
</head>
<body class="cython">
<p><span style="border-bottom: solid 1px grey;">Generated by Cython 3.0.9</span></p>
<p>
    <span style="background-color: #FFFF00">Yellow lines</span> hint at Python interaction.<br />
    Click on a line that starts with a "<code>+</code>" to see the C code that Cython generated for it.
</p>
<p>Raw output: <a href="baseutils.c">baseutils.c</a></p>
<div class="cython"><pre class="cython line score-223" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0001</span>: # -*- coding: utf-8 -*-</pre>
<pre class='cython code score-223 '>  <span class='trace'>__Pyx_TraceLine</span>(1,0,<span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(43);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_remove_outliers_line_76, __pyx_kp_u_Efficient_strategy_to_remove_ou) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_interpolate_grid_line_237, __pyx_kp_u_Interpolate_data_containing_mis) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_fillNaN_line_343, __pyx_kp_u_Fill_NaN_values_in_a_numpy_arra) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_convert_array_dimensions_line_46, __pyx_kp_u_Convert_arrays_between_1D_2D_an) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_filter_nan_entries_line_576, __pyx_kp_u_Filters_out_NaN_values_from_mul) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_filter_nan_values_line_754, __pyx_kp_u_Filters_out_NaN_values_from_pro) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_adjust_weights_line_845, __pyx_kp_u_Adjusts_sample_weights_to_match) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_filter_nan_from_line_1076, __pyx_kp_u_Filters_out_NaN_values_from_mul_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_standardize_input_line_1148, __pyx_kp_u_Standardizes_input_formats_for) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_smart_rotation_line_1239, __pyx_kp_u_Automatically_adjusts_the_rotat) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_select_features_line_1313, __pyx_kp_u_Selects_features_from_a_DataFra) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_speed_rowwise_process_line_1415, __pyx_kp_u_Processes_a_large_dataset_by_ap) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_run_shell_command_line_1467, __pyx_kp_u_Run_a_shell_command_with_an_ind) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_download_file_line_1530, __pyx_kp_u_download_a_remote_file_Parameter) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_fancier_downloader_line_1575, __pyx_kp_u_Download_remote_file_with_a_bar) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_move_file_line_1629, __pyx_kp_u_Move_file_to_a_directory_Create) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_check_file_exists_line_1655, __pyx_kp_u_Check_if_a_file_exists_in_a_pac) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_lowertify_line_1759, __pyx_kp_u_Convert_all_input_values_to_low) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_save_or_load_line_1829, __pyx_kp_u_Save_or_load_Numpy_array_Paramet) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_array2hdf5_line_1951, __pyx_kp_u_Load_or_write_array_to_hdf5_Par) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_remove_target_from_array_line_20, __pyx_kp_u_Remove_specified_columns_from_a) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_extract_target_line_2073, __pyx_kp_u_Extracts_specified_target_colum) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_categorize_target_line_2266, __pyx_kp_u_Categorize_array_to_hold_the_gi) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_labels_validator_line_2508, __pyx_kp_u_Validates_if_specified_labels_a) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_generate_placeholders_line_2572, __pyx_kp_u_Generates_a_list_of_string_plac) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_compute_set_operation_line_2594, __pyx_kp_u_Computes_the_intersection_or_di) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_find_intersection_line_2656, __pyx_kp_u_Computes_the_intersection_of_tw) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_find_unique_elements_line_2695, __pyx_kp_u_Computes_the_difference_between) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_control_existing_estimator_line, __pyx_kp_u_Validates_and_retrieves_the_cor) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_get_target_line_2906, __pyx_kp_u_Extracts_one_or_more_target_col) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_binning_statistic_line_2974, __pyx_kp_u_Compute_a_statistic_for_each_ca) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_category_count_line_3046, __pyx_kp_u_Count_occurrences_of_each_categ) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_soft_bin_stat_line_3127, __pyx_kp_u_Compute_a_statistic_for_each_ca_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_reshape_to_dataframe_line_3199, __pyx_kp_u_Reshapes_a_flattened_array_into) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_save_figure_line_3271, __pyx_kp_u_Saves_a_matplotlib_figure_to_a) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_normalizer_line_3421, __pyx_kp_u_Normalize_given_arrays_using_a) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_smooth1d_line_3558, __pyx_kp_u_Smooth_one_dimensional_array_Pa) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_smoothing_line_3687, __pyx_kp_u_Smooth_data_along_axis_Paramete) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_scale_y_line_3829, __pyx_kp_u_Scaling_value_using_a_fitting_c) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_interpolate_data_line_3965, __pyx_kp_u_Interpolates_1D_or_2D_data_allo) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_denormalizer_line_4116, __pyx_kp_u_Denormalizes_data_from_a_normal) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_pandas_manager_line_4286, __pyx_kp_u_Manages_pandas_objects_by_getti) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_make_df_line_4379, __pyx_kp_u_Prepare_a_DataFrame_from_input) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_test, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0002</span>: #   License: BSD-3-Clause</pre>
<pre class="cython line score-0">&#xA0;<span class="">0003</span>: #   Author: LKouadio &lt;etanoyau@gmail.com&gt;</pre>
<pre class="cython line score-0">&#xA0;<span class="">0004</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0005</span>: """</pre>
<pre class="cython line score-0">&#xA0;<span class="">0006</span>: `baseutils` module offers essential utilities for data processing and analysis,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0007</span>: including functions for normalization, interpolation, feature selection,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0008</span>: outlier removal, and various data manipulation tasks.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0009</span>: """</pre>
<pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0010</span>: import os</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(10,0,<span class='error_goto'>__PYX_ERR(0, 10, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_os, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 10, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_os, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 10, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0011</span>: import copy</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(11,0,<span class='error_goto'>__PYX_ERR(0, 11, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_copy, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 11, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_copy, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 11, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0012</span>: import time</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(12,0,<span class='error_goto'>__PYX_ERR(0, 12, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_time, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 12, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_time, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 12, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0013</span>: import shutil</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(13,0,<span class='error_goto'>__PYX_ERR(0, 13, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_shutil, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 13, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_shutil, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 13, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0014</span>: import inspect</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(14,0,<span class='error_goto'>__PYX_ERR(0, 14, __pyx_L1_error)</span>)
  __pyx_t_2 = __Pyx_patch_inspect(<span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_inspect, NULL));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 14, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_inspect, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 14, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0015</span>: import pathlib</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(15,0,<span class='error_goto'>__PYX_ERR(0, 15, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_pathlib, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 15, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_pathlib, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 15, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0016</span>: import warnings</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(16,0,<span class='error_goto'>__PYX_ERR(0, 16, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_warnings, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 16, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_warnings, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 16, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0017</span>: import functools</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(17,0,<span class='error_goto'>__PYX_ERR(0, 17, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_functools, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 17, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_functools, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 17, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0018</span>: import threading</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(18,0,<span class='error_goto'>__PYX_ERR(0, 18, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_threading, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 18, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_threading, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 18, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0019</span>: import subprocess</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(19,0,<span class='error_goto'>__PYX_ERR(0, 19, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_subprocess, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 19, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_subprocess, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 19, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0020</span>: import numpy as np</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(20,0,<span class='error_goto'>__PYX_ERR(0, 20, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_numpy, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 20, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_np, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 20, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0021</span>: import pandas as pd</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(21,0,<span class='error_goto'>__PYX_ERR(0, 21, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_pandas, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 21, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_pd, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 21, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0022</span>: from tqdm import tqdm</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(22,0,<span class='error_goto'>__PYX_ERR(0, 22, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 22, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_tqdm);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_tqdm);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_tqdm)) <span class='error_goto'>__PYX_ERR(0, 22, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_tqdm, __pyx_t_2, 0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 22, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_tqdm);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 22, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_tqdm, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 22, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0023</span>: from datetime import datetime</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(23,0,<span class='error_goto'>__PYX_ERR(0, 23, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 23, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_datetime);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_datetime);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_s_datetime)) <span class='error_goto'>__PYX_ERR(0, 23, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_datetime, __pyx_t_3, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 23, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_datetime);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 23, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_datetime, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 23, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-13" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0024</span>: import matplotlib.pyplot as plt</pre>
<pre class='cython code score-13 '>  <span class='trace'>__Pyx_TraceLine</span>(24,0,<span class='error_goto'>__PYX_ERR(0, 24, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_matplotlib_pyplot, __pyx_tuple__147);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 24, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_plt, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 24, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
/* â€¦ */
  __pyx_tuple__147 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_n_s_matplotlib, __pyx_n_s_pyplot);<span class='error_goto'> if (unlikely(!__pyx_tuple__147)) __PYX_ERR(0, 24, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__147);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__147);
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0025</span>: from joblib import Parallel, delayed</pre>
<pre class='cython code score-31 '>  <span class='trace'>__Pyx_TraceLine</span>(25,0,<span class='error_goto'>__PYX_ERR(0, 25, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 25, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_Parallel);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_Parallel);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_Parallel)) <span class='error_goto'>__PYX_ERR(0, 25, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_delayed);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_delayed);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 1, __pyx_n_s_delayed)) <span class='error_goto'>__PYX_ERR(0, 25, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_joblib, __pyx_t_2, 0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 25, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_Parallel);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 25, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_Parallel, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 25, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_delayed);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 25, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_delayed, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 25, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0026</span>: from scipy.signal import argrelextrema</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(26,0,<span class='error_goto'>__PYX_ERR(0, 26, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 26, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_argrelextrema);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_argrelextrema);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_s_argrelextrema)) <span class='error_goto'>__PYX_ERR(0, 26, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_scipy_signal, __pyx_t_3, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 26, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_argrelextrema);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 26, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_argrelextrema, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 26, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0027</span>: from scipy.interpolate import interp1d, griddata</pre>
<pre class='cython code score-31 '>  <span class='trace'>__Pyx_TraceLine</span>(27,0,<span class='error_goto'>__PYX_ERR(0, 27, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 27, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_interp1d);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_interp1d);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_interp1d)) <span class='error_goto'>__PYX_ERR(0, 27, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_griddata);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_griddata);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 1, __pyx_n_s_griddata)) <span class='error_goto'>__PYX_ERR(0, 27, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_scipy_interpolate, __pyx_t_2, 0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 27, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_interp1d);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 27, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_interp1d, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 27, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_griddata);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 27, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_griddata, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 27, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0028</span>: from matplotlib.ticker import FixedLocator</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(28,0,<span class='error_goto'>__PYX_ERR(0, 28, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 28, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_FixedLocator);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_FixedLocator);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_s_FixedLocator)) <span class='error_goto'>__PYX_ERR(0, 28, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_matplotlib_ticker, __pyx_t_3, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 28, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_FixedLocator);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 28, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_FixedLocator, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 28, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0029</span>: from sklearn.utils import all_estimators</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(29,0,<span class='error_goto'>__PYX_ERR(0, 29, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 29, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_all_estimators);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_all_estimators);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_all_estimators)) <span class='error_goto'>__PYX_ERR(0, 29, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_sklearn_utils, __pyx_t_2, 0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 29, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_all_estimators);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 29, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_all_estimators, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 29, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0030</span>: from collections.abc import Iterable as IterableInstance</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(30,0,<span class='error_goto'>__PYX_ERR(0, 30, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 30, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_Iterable);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_Iterable);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_s_Iterable)) <span class='error_goto'>__PYX_ERR(0, 30, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_collections_abc, __pyx_t_3, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 30, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_Iterable);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 30, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_IterableInstance, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 30, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0031</span>: </pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0032</span>: from ..api.property import  Config</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(32,0,<span class='error_goto'>__PYX_ERR(0, 32, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 32, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_Config);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_Config);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_Config)) <span class='error_goto'>__PYX_ERR(0, 32, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_api_property, __pyx_t_2, 2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 32, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_Config);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 32, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_Config, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 32, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-86" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0033</span>: from ..api.types import Union, List, Optional, Tuple, Iterable, Any, Set</pre>
<pre class='cython code score-86 '>  <span class='trace'>__Pyx_TraceLine</span>(33,0,<span class='error_goto'>__PYX_ERR(0, 33, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(7);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 33, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_Union);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_Union);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_s_Union)) <span class='error_goto'>__PYX_ERR(0, 33, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_List);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_List);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 1, __pyx_n_s_List)) <span class='error_goto'>__PYX_ERR(0, 33, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_Optional);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_Optional);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 2, __pyx_n_s_Optional)) <span class='error_goto'>__PYX_ERR(0, 33, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_Tuple);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_Tuple);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 3, __pyx_n_s_Tuple)) <span class='error_goto'>__PYX_ERR(0, 33, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_Iterable);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_Iterable);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 4, __pyx_n_s_Iterable)) <span class='error_goto'>__PYX_ERR(0, 33, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_Any);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_Any);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 5, __pyx_n_s_Any)) <span class='error_goto'>__PYX_ERR(0, 33, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_Set);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_Set);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 6, __pyx_n_s_Set)) <span class='error_goto'>__PYX_ERR(0, 33, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_api_types, __pyx_t_3, 2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 33, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_Union);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 33, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_Union, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 33, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_List);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 33, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_List, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 33, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_Optional);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 33, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_Optional, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 33, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_Tuple);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 33, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_Tuple, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 33, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_Iterable);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 33, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_Iterable, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 33, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_Any);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 33, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_Any, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 33, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_Set);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 33, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_Set, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 33, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-75" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0034</span>: from ..api.types import _T, _F, DataFrame, ArrayLike, Series, NDArray</pre>
<pre class='cython code score-75 '>  <span class='trace'>__Pyx_TraceLine</span>(34,0,<span class='error_goto'>__PYX_ERR(0, 34, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(6);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 34, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_T_2);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_T_2);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_T_2)) <span class='error_goto'>__PYX_ERR(0, 34, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_F);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_F);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 1, __pyx_n_s_F)) <span class='error_goto'>__PYX_ERR(0, 34, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_DataFrame);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_DataFrame);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 2, __pyx_n_s_DataFrame)) <span class='error_goto'>__PYX_ERR(0, 34, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_ArrayLike);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_ArrayLike);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 3, __pyx_n_s_ArrayLike)) <span class='error_goto'>__PYX_ERR(0, 34, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_Series);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_Series);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 4, __pyx_n_s_Series)) <span class='error_goto'>__PYX_ERR(0, 34, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_NDArray);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_NDArray);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 5, __pyx_n_s_NDArray)) <span class='error_goto'>__PYX_ERR(0, 34, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_api_types, __pyx_t_2, 2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 34, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_T_2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 34, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_T_2, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 34, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_F);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 34, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_F, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 34, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 34, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_DataFrame, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 34, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_ArrayLike);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 34, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_ArrayLike, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 34, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 34, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_Series, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 34, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_NDArray);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 34, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_NDArray, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 34, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0035</span>: from ..compat.scipy import check_scipy_interpolate</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(35,0,<span class='error_goto'>__PYX_ERR(0, 35, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 35, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_check_scipy_interpolate);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_check_scipy_interpolate);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_s_check_scipy_interpolate)) <span class='error_goto'>__PYX_ERR(0, 35, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_compat_scipy, __pyx_t_3, 2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 35, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_check_scipy_interpolate);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 35, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_check_scipy_interpolate, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 35, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0036</span>: from ..decorators import Dataify</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(36,0,<span class='error_goto'>__PYX_ERR(0, 36, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 36, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_Dataify);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_Dataify);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_Dataify)) <span class='error_goto'>__PYX_ERR(0, 36, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_decorators, __pyx_t_2, 2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 36, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_Dataify);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 36, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_Dataify, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 36, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0037</span>: from ..exceptions import FileHandlingError</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(37,0,<span class='error_goto'>__PYX_ERR(0, 37, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 37, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_FileHandlingError);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_FileHandlingError);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_s_FileHandlingError)) <span class='error_goto'>__PYX_ERR(0, 37, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_exceptions, __pyx_t_3, 2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 37, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_FileHandlingError);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 37, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_FileHandlingError, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 37, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0038</span>: from ._dependency import import_optional_dependency</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(38,0,<span class='error_goto'>__PYX_ERR(0, 38, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 38, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_import_optional_dependency);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_import_optional_dependency);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_import_optional_dependency)) <span class='error_goto'>__PYX_ERR(0, 38, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_dependency, __pyx_t_2, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 38, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_import_optional_dependency);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 38, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_import_optional_dependency, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 38, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-42" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0039</span>: from .coreutils import is_iterable , ellipsis2false, smart_format</pre>
<pre class='cython code score-42 '>  <span class='trace'>__Pyx_TraceLine</span>(39,0,<span class='error_goto'>__PYX_ERR(0, 39, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 39, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_is_iterable);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_is_iterable);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_s_is_iterable)) <span class='error_goto'>__PYX_ERR(0, 39, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_ellipsis2false);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_ellipsis2false);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 1, __pyx_n_s_ellipsis2false)) <span class='error_goto'>__PYX_ERR(0, 39, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_smart_format);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_smart_format);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 2, __pyx_n_s_smart_format)) <span class='error_goto'>__PYX_ERR(0, 39, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_coreutils, __pyx_t_3, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 39, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_is_iterable);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 39, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_is_iterable, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 39, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_ellipsis2false);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 39, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_ellipsis2false, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 39, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_smart_format);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 39, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_smart_format, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 39, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0040</span>: from .coreutils import to_numeric_dtypes, validate_feature</pre>
<pre class='cython code score-31 '>  <span class='trace'>__Pyx_TraceLine</span>(40,0,<span class='error_goto'>__PYX_ERR(0, 40, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 40, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_to_numeric_dtypes);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_to_numeric_dtypes);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_to_numeric_dtypes)) <span class='error_goto'>__PYX_ERR(0, 40, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_validate_feature);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_validate_feature);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 1, __pyx_n_s_validate_feature)) <span class='error_goto'>__PYX_ERR(0, 40, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_coreutils, __pyx_t_2, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 40, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_to_numeric_dtypes);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 40, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_to_numeric_dtypes, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 40, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_validate_feature);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 40, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_validate_feature, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 40, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-42" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0041</span>: from .coreutils import _assert_all_types, exist_features, reshape</pre>
<pre class='cython code score-42 '>  <span class='trace'>__Pyx_TraceLine</span>(41,0,<span class='error_goto'>__PYX_ERR(0, 41, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 41, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_assert_all_types);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_assert_all_types);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_s_assert_all_types)) <span class='error_goto'>__PYX_ERR(0, 41, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_exist_features);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_exist_features);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 1, __pyx_n_s_exist_features)) <span class='error_goto'>__PYX_ERR(0, 41, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_reshape);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_reshape);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 2, __pyx_n_s_reshape)) <span class='error_goto'>__PYX_ERR(0, 41, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_coreutils, __pyx_t_3, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 41, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_assert_all_types);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 41, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_assert_all_types, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 41, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_exist_features);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 41, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_exist_features, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 41, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_reshape);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 41, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_reshape, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 41, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0042</span>: from .validator import check_consistent_length, get_estimator_name</pre>
<pre class='cython code score-31 '>  <span class='trace'>__Pyx_TraceLine</span>(42,0,<span class='error_goto'>__PYX_ERR(0, 42, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 42, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_check_consistent_length);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_check_consistent_length);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_check_consistent_length)) <span class='error_goto'>__PYX_ERR(0, 42, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_get_estimator_name);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_get_estimator_name);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 1, __pyx_n_s_get_estimator_name)) <span class='error_goto'>__PYX_ERR(0, 42, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_validator, __pyx_t_2, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 42, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_check_consistent_length);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 42, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_check_consistent_length, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 42, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_get_estimator_name);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 42, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_get_estimator_name, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 42, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-42" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0043</span>: from .validator import _is_arraylike_1d, array_to_frame, build_data_if</pre>
<pre class='cython code score-42 '>  <span class='trace'>__Pyx_TraceLine</span>(43,0,<span class='error_goto'>__PYX_ERR(0, 43, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 43, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_is_arraylike_1d);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_is_arraylike_1d);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_s_is_arraylike_1d)) <span class='error_goto'>__PYX_ERR(0, 43, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_array_to_frame);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_array_to_frame);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 1, __pyx_n_s_array_to_frame)) <span class='error_goto'>__PYX_ERR(0, 43, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_build_data_if);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_build_data_if);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 2, __pyx_n_s_build_data_if)) <span class='error_goto'>__PYX_ERR(0, 43, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_validator, __pyx_t_3, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 43, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_is_arraylike_1d);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 43, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_is_arraylike_1d, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 43, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_array_to_frame);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 43, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_array_to_frame, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 43, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_build_data_if);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 43, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_build_data_if, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 43, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-42" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0044</span>: from .validator import _is_numeric_dtype, check_y, check_consistency_size</pre>
<pre class='cython code score-42 '>  <span class='trace'>__Pyx_TraceLine</span>(44,0,<span class='error_goto'>__PYX_ERR(0, 44, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 44, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_is_numeric_dtype);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_is_numeric_dtype);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_is_numeric_dtype)) <span class='error_goto'>__PYX_ERR(0, 44, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_check_y);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_check_y);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 1, __pyx_n_s_check_y)) <span class='error_goto'>__PYX_ERR(0, 44, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_check_consistency_size);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_check_consistency_size);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 2, __pyx_n_s_check_consistency_size)) <span class='error_goto'>__PYX_ERR(0, 44, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_validator, __pyx_t_2, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 44, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_is_numeric_dtype);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 44, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_is_numeric_dtype, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 44, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_check_y);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 44, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_check_y, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 44, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_check_consistency_size);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 44, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_check_consistency_size, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 44, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-42" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0045</span>: from .validator import is_categorical, is_valid_policies, contains_nested_objects</pre>
<pre class='cython code score-42 '>  <span class='trace'>__Pyx_TraceLine</span>(45,0,<span class='error_goto'>__PYX_ERR(0, 45, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 45, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_is_categorical);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_is_categorical);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_s_is_categorical)) <span class='error_goto'>__PYX_ERR(0, 45, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_is_valid_policies);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_is_valid_policies);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 1, __pyx_n_s_is_valid_policies)) <span class='error_goto'>__PYX_ERR(0, 45, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_contains_nested_objects);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_contains_nested_objects);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 2, __pyx_n_s_contains_nested_objects)) <span class='error_goto'>__PYX_ERR(0, 45, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_validator, __pyx_t_3, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 45, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_is_categorical);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 45, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_is_categorical, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 45, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_is_valid_policies);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 45, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_is_valid_policies, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 45, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_contains_nested_objects);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 45, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_contains_nested_objects, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 45, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0046</span>: from .validator import parameter_validator, normalize_array</pre>
<pre class='cython code score-31 '>  <span class='trace'>__Pyx_TraceLine</span>(46,0,<span class='error_goto'>__PYX_ERR(0, 46, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 46, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_parameter_validator);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_parameter_validator);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_parameter_validator)) <span class='error_goto'>__PYX_ERR(0, 46, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_normalize_array);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_normalize_array);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 1, __pyx_n_s_normalize_array)) <span class='error_goto'>__PYX_ERR(0, 46, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_validator, __pyx_t_2, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 46, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_parameter_validator);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 46, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_parameter_validator, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 46, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_normalize_array);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 46, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_normalize_array, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 46, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0047</span>: </pre>
<pre class="cython line score-86" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0048</span>: __all__= [</pre>
<pre class='cython code score-86 '>  <span class='trace'>__Pyx_TraceLine</span>(48,0,<span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(25);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 48, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_array2hdf5);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_array2hdf5);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_u_array2hdf5)) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_binning_statistic);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_binning_statistic);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 1, __pyx_n_u_binning_statistic)) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_categorize_target);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_categorize_target);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 2, __pyx_n_u_categorize_target)) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_category_count);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_category_count);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 3, __pyx_n_u_category_count)) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_denormalizer);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_denormalizer);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 4, __pyx_n_u_denormalizer)) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_extract_target);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_extract_target);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 5, __pyx_n_u_extract_target)) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_fancier_downloader);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_fancier_downloader);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 6, __pyx_n_u_fancier_downloader)) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_fillNaN);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_fillNaN);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 7, __pyx_n_u_fillNaN)) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_get_target);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_get_target);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 8, __pyx_n_u_get_target)) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_interpolate_grid);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_interpolate_grid);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 9, __pyx_n_u_interpolate_grid)) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_interpolate_data);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_interpolate_data);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 10, __pyx_n_u_interpolate_data)) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_labels_validator);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_labels_validator);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 11, __pyx_n_u_labels_validator)) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_make_df);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_make_df);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 12, __pyx_n_u_make_df)) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_normalizer);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_normalizer);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 13, __pyx_n_u_normalizer)) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_remove_outliers_2);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_remove_outliers_2);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 14, __pyx_n_u_remove_outliers_2)) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_remove_target_from_array);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_remove_target_from_array);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 15, __pyx_n_u_remove_target_from_array)) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_rename_labels_in);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_rename_labels_in);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 16, __pyx_n_u_rename_labels_in)) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_save_or_load);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_save_or_load);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 17, __pyx_n_u_save_or_load)) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_scale_y);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_scale_y);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 18, __pyx_n_u_scale_y)) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_select_features);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_select_features);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 19, __pyx_n_u_select_features)) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_select_features);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_select_features);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 20, __pyx_n_u_select_features)) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_smooth1d);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_smooth1d);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 21, __pyx_n_u_smooth1d)) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_smoothing);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_smoothing);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 22, __pyx_n_u_smoothing)) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_soft_bin_stat);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_soft_bin_stat);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 23, __pyx_n_u_soft_bin_stat)) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_speed_rowwise_process);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_speed_rowwise_process);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 24, __pyx_n_u_speed_rowwise_process)) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_all, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0049</span>:     'array2hdf5',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0050</span>:     'binning_statistic',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0051</span>:     'categorize_target',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0052</span>:     'category_count',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0053</span>:     'denormalizer',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0054</span>:     'extract_target',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0055</span>:     'fancier_downloader',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0056</span>:     'fillNaN',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0057</span>:     'get_target',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0058</span>:     'interpolate_grid',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0059</span>:     'interpolate_data',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0060</span>:     'labels_validator',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0061</span>:     'make_df',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0062</span>:     'normalizer',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0063</span>:     'remove_outliers',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0064</span>:     'remove_target_from_array',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0065</span>:     'rename_labels_in',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0066</span>:     'save_or_load',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0067</span>:     'scale_y',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0068</span>:     'select_features',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0069</span>:     'select_features',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0070</span>:     'smooth1d',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0071</span>:     'smoothing',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0072</span>:     'soft_bin_stat',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0073</span>:     'speed_rowwise_process'</pre>
<pre class="cython line score-0">&#xA0;<span class="">0074</span>:     ]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0075</span>: </pre>
<pre class="cython line score-133" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0076</span>: def remove_outliers(</pre>
<pre class='cython code score-133 '>static PyObject *__pyx_pf_6gofast_5tools_9baseutils_131__defaults__(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceCall</span>("__defaults__", __pyx_f[0], 76, 0, <span class='error_goto'>__PYX_ERR(0, 76, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(76,0,<span class='error_goto'>__PYX_ERR(0, 76, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(6);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 76, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(((PyObject*)__pyx_n_u_IQR));
  <span class='refnanny'>__Pyx_GIVEREF</span>(((PyObject*)__pyx_n_u_IQR));
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, ((PyObject*)__pyx_n_u_IQR))) <span class='error_goto'>__PYX_ERR(0, 76, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 76, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 2, Py_None)) <span class='error_goto'>__PYX_ERR(0, 76, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(<span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults, __pyx_self)-&gt;__pyx_arg_axis);
  <span class='refnanny'>__Pyx_GIVEREF</span>(<span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults, __pyx_self)-&gt;__pyx_arg_axis);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 3, <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults, __pyx_self)-&gt;__pyx_arg_axis)) <span class='error_goto'>__PYX_ERR(0, 76, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(((PyObject *)Py_False));
  <span class='refnanny'>__Pyx_GIVEREF</span>(((PyObject *)Py_False));
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 4, ((PyObject *)Py_False))) <span class='error_goto'>__PYX_ERR(0, 76, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(((PyObject*)__pyx_n_u_linear));
  <span class='refnanny'>__Pyx_GIVEREF</span>(((PyObject*)__pyx_n_u_linear));
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 5, ((PyObject*)__pyx_n_u_linear))) <span class='error_goto'>__PYX_ERR(0, 76, __pyx_L1_error)</span>;
  __pyx_t_1 = 0;
  __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 76, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 76, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, Py_None)) <span class='error_goto'>__PYX_ERR(0, 76, __pyx_L1_error)</span>;
  __pyx_t_2 = 0;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.__defaults__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_1remove_outliers(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_remove_outliers, "\n    Efficient strategy to remove outliers in the data. \n    \n    An outlier is a data point in a sample, observation, or distribution \n    that lies outside the overall pattern. A commonly used rule is to \n    consider a data point an outlier if it is more than 1.5 * IQR below \n    the first quartile or above the third quartile.\n    \n    Two approaches are used to identify and remove outliers:\n\n    - Inter Quartile Range (``IQR``)\n      IQR is the most commonly used and most trusted approach in \n      research. Outliers are defined as points lying below Q1 - 1.5 * IQR \n      or above Q3 + 1.5 * IQR. The quartiles and IQR are calculated as follows:\n      \n      .. math::\n          \n        Q1 = \014rac{1}{4}(n + 1),\\\n        Q3 = \014rac{3}{4}(n + 1),\\\n        IQR = Q3 - Q1,\\\n        \text{Upper} = Q3 + 1.5 \times IQR,\\\n        \text{Lower} = Q1 - 1.5 \times IQR.\n    \n    - Z-score \n      Also known as a standard score, this value helps to understand how \n      far a data point is from the mean. After setting a threshold, data \n      points with Z-scores beyond this threshold are considered outliers.\n      \n      .. math::\n          \n          \text{Zscore} = \014rac{(\text{data\\_point} - \text{mean})}{\text{std\\_deviation}}\n      \n    A threshold value of generally 3.0 is chosen as 99.7% of data points \n    lie within +/- 3 standard deviations in a Gaussian Distribution.\n\n    Parameters\n    ----------\n    ar : Union[np.ndarray, pd.DataFrame]\n        The input data from which to remove outliers, either a numpy array \n        or pandas DataFrame.\n    method : str, default 'IQR'\n        Method to detect and remove outliers:\n        - ``'IQR'`` uses the Inter Quartile Range to define outliers.\n        - ``'Z-score'`` identifies outliers based on standard deviation.\n        See detailed explanation on how each method works in the function's \n        description.\n    threshold : float, default 3.0\n        For ``'Z-scor""e'``, this is the number of standard deviations a data point\n        must be from the mean to be considered an outlier. For 'IQR', \n        this multiplies the IQR range.\n    fill_value : float, optional\n        Value used to replace outliers. If None, outliers are removed from \n        the dataset.\n    axis : int, default 1\n        Specifies the axis along which to remove outliers, applicable to \n        multi-dimensional data.\n    interpolate : bool, default False\n        Enables interpolation to estimate and replace outliers, only applicable\n        if `fill_value` is NaN.\n    kind : str, default 'linear'\n        Type of interpolation used if interpolation is True. Options include\n        ``'nearest'``, ``'linear'``, ``'cubic'``.\n    \n    Returns\n    -------\n    Union[np.ndarray, DataFrame]\n        Array or DataFrame with outliers removed or replaced.\n\n    Examples\n    --------\n    &gt;&gt;&gt; import numpy as np\n    &gt;&gt;&gt; from gofast.tools.baseutils import remove_outliers \n    &gt;&gt;&gt; np.random.seed(42)\n    &gt;&gt;&gt; data = np.random.randn(7, 3)\n    &gt;&gt;&gt; data_r = remove_outliers(data)\n    &gt;&gt;&gt; data.shape, data_r.shape\n    (7, 3), (5, 3)\n    &gt;&gt;&gt; remove_outliers(data, fill_value=np.nan)\n    array([[ 0.49671415, -0.1382643 ,  0.64768854],\n           [ 1.52302986, -0.23415337, -0.23413696],\n           [ 1.57921282,  0.76743473, -0.46947439],\n           [ 0.54256004, -0.46341769, -0.46572975],\n           [ 0.24196227,         nan,         nan],\n           [-0.56228753, -1.01283112,  0.31424733],\n           [-0.90802408,         nan,  1.46564877]])\n    &gt;&gt;&gt; remove_outliers(data[:, 0], fill_value=np.nan, interpolate=True)\n    &gt;&gt;&gt; import matplotlib.pyplot as plt\n    &gt;&gt;&gt; plt.plot(np.arange(len(data)), data, 'r-')\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_1remove_outliers = {"remove_outliers", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_1remove_outliers, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_remove_outliers};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_1remove_outliers(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_ar = 0;
  PyObject *__pyx_v_method = 0;
  double __pyx_v_threshold;
  PyObject *__pyx_v_fill_value = 0;
  CYTHON_UNUSED PyObject *__pyx_v_axis = 0;
  PyObject *__pyx_v_interpolate = 0;
  PyObject *__pyx_v_kind = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("remove_outliers (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_ar,&amp;__pyx_n_s_method,&amp;__pyx_n_s_threshold,&amp;__pyx_n_s_fill_value,&amp;__pyx_n_s_axis,&amp;__pyx_n_s_interpolate,&amp;__pyx_n_s_kind,0};
  PyObject* values[7] = {0,0,0,0,0,0,0};
    __pyx_defaults *__pyx_dynamic_args = <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults, __pyx_self);
    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject*)((PyObject*)__pyx_n_u_IQR)));
/* â€¦ */
  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_remove_outliers(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_ar, PyObject *__pyx_v_method, double __pyx_v_threshold, PyObject *__pyx_v_fill_value, CYTHON_UNUSED PyObject *__pyx_v_axis, PyObject *__pyx_v_interpolate, PyObject *__pyx_v_kind) {
  int __pyx_v_is_series;
  PyObject *__pyx_v_arr = NULL;
  PyObject *__pyx_v_Q1 = NULL;
  PyObject *__pyx_v_Q3 = NULL;
  PyObject *__pyx_v_IQR = NULL;
  PyObject *__pyx_v_upper = NULL;
  PyObject *__pyx_v_upper_arr = NULL;
  PyObject *__pyx_v_lower = NULL;
  PyObject *__pyx_v_lower_arr = NULL;
  PyObject *__pyx_v_stats = NULL;
  PyObject *__pyx_v_z = NULL;
  PyObject *__pyx_v_zmask = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj_)
  <span class='trace'>__Pyx_TraceCall</span>("remove_outliers", __pyx_f[0], 76, 0, <span class='error_goto'>__PYX_ERR(0, 76, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_method);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.remove_outliers", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_arr);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_Q1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_Q3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_IQR);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_upper);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_upper_arr);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_lower);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_lower_arr);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_stats);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_z);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_zmask);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_method);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__148 = <span class='py_c_api'>PyTuple_Pack</span>(19, __pyx_n_s_ar, __pyx_n_s_method, __pyx_n_s_threshold, __pyx_n_s_fill_value, __pyx_n_s_axis, __pyx_n_s_interpolate, __pyx_n_s_kind, __pyx_n_s_is_series, __pyx_n_s_arr, __pyx_n_s_Q1, __pyx_n_s_Q3, __pyx_n_s_IQR, __pyx_n_s_upper, __pyx_n_s_upper_arr, __pyx_n_s_lower, __pyx_n_s_lower_arr, __pyx_n_s_stats, __pyx_n_s_z, __pyx_n_s_zmask);<span class='error_goto'> if (unlikely(!__pyx_tuple__148)) __PYX_ERR(0, 76, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__148);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__148);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(76,0,<span class='error_goto'>__PYX_ERR(0, 76, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(8);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 76, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_ar, __pyx_kp_s_Union_ArrayLike_DataFrame) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 76, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_method, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 76, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_threshold, __pyx_n_s_float) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 76, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_fill_value, __pyx_kp_s_Optional_float) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 76, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_axis, __pyx_n_s_int) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 76, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_interpolate, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 76, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_kind, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 76, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return, __pyx_kp_s_Union_ArrayLike_DataFrame) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 76, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_1remove_outliers, 0, __pyx_n_s_remove_outliers_2, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj_));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 76, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (!<span class='pyx_c_api'>__Pyx_CyFunction_InitDefaults</span>(__pyx_t_2, sizeof(__pyx_defaults), 1)) <span class='error_goto'>__PYX_ERR(0, 76, __pyx_L1_error)</span>
  __pyx_codeobj_ = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(7, 0, 0, 19, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__148, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_remove_outliers_2, 76, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj_)) __PYX_ERR(0, 76, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0077</span>:     ar: Union[ArrayLike,DataFrame],</pre>
<pre class="cython line score-0">&#xA0;<span class="">0078</span>:     method: str = 'IQR',</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0079</span>:     threshold: float = 3.0,</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(79,0,<span class='error_goto'>__PYX_ERR(0, 79, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyFloat_FromDouble</span>(((double)3.0));<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 79, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
</pre><pre class="cython line score-125" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0080</span>:     fill_value: Optional[float] = None,</pre>
<pre class='cython code score-125 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(__pyx_dynamic_args-&gt;__pyx_arg_axis);
    values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject*)((PyObject*)__pyx_n_u_linear)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  7: values[6] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 6);
        CYTHON_FALLTHROUGH;
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_ar)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 76, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_method);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 76, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_threshold);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 76, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_fill_value);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 76, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_axis);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 76, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  5:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_interpolate);
          if (value) { values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 76, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  6:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_kind);
          if (value) { values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 76, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "remove_outliers") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 76, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  7: values[6] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 6);
        CYTHON_FALLTHROUGH;
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_ar = values[0];
    __pyx_v_method = ((PyObject*)values[1]);
    if (values[2]) {
      __pyx_v_threshold = __pyx_<span class='py_c_api'>PyFloat_AsDouble</span>(values[2]); if (unlikely((__pyx_v_threshold == (double)-1) &amp;&amp; <span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 79, __pyx_L3_error)</span>
    } else {
      __pyx_v_threshold = ((double)((double)3.0));
    }
    __pyx_v_fill_value = values[3];
    __pyx_v_axis = ((PyObject*)values[4]);
    __pyx_v_interpolate = values[5];
    __pyx_v_kind = ((PyObject*)values[6]);
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("remove_outliers", 0, 1, 7, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 76, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.remove_outliers", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_method), (&amp;PyUnicode_Type), 0, "method", 1))) <span class='error_goto'>__PYX_ERR(0, 78, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_axis), (&amp;PyInt_Type), 0, "axis", 1))) <span class='error_goto'>__PYX_ERR(0, 81, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_kind), (&amp;PyUnicode_Type), 0, "kind", 1))) <span class='error_goto'>__PYX_ERR(0, 83, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_remove_outliers(__pyx_self, __pyx_v_ar, __pyx_v_method, __pyx_v_threshold, __pyx_v_fill_value, __pyx_v_axis, __pyx_v_interpolate, __pyx_v_kind);
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0081</span>:     axis: int = 1,</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(81,0,<span class='error_goto'>__PYX_ERR(0, 81, __pyx_L1_error)</span>)
  if (!(likely(__Pyx_Py3Int_CheckExact(__pyx_int_1)) || <span class='pyx_c_api'>__Pyx_RaiseUnexpectedTypeError</span>("int", __pyx_int_1))) <span class='error_goto'>__PYX_ERR(0, 81, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_int_1);
  <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults, __pyx_t_2)-&gt;__pyx_arg_axis = ((PyObject*)__pyx_int_1);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_int_1);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsGetter</span>(__pyx_t_2, __pyx_pf_6gofast_5tools_9baseutils_131__defaults__);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_2, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_remove_outliers_2, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 76, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0082</span>:     interpolate: bool = False,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0083</span>:     kind: str = 'linear'</pre>
<pre class="cython line score-0">&#xA0;<span class="">0084</span>: ) -&gt; Union[ArrayLike, DataFrame]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0085</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">0086</span>:     Efficient strategy to remove outliers in the data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0087</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0088</span>:     An outlier is a data point in a sample, observation, or distribution</pre>
<pre class="cython line score-0">&#xA0;<span class="">0089</span>:     that lies outside the overall pattern. A commonly used rule is to</pre>
<pre class="cython line score-0">&#xA0;<span class="">0090</span>:     consider a data point an outlier if it is more than 1.5 * IQR below</pre>
<pre class="cython line score-0">&#xA0;<span class="">0091</span>:     the first quartile or above the third quartile.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0092</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0093</span>:     Two approaches are used to identify and remove outliers:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0094</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0095</span>:     - Inter Quartile Range (``IQR``)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0096</span>:       IQR is the most commonly used and most trusted approach in</pre>
<pre class="cython line score-0">&#xA0;<span class="">0097</span>:       research. Outliers are defined as points lying below Q1 - 1.5 * IQR</pre>
<pre class="cython line score-0">&#xA0;<span class="">0098</span>:       or above Q3 + 1.5 * IQR. The quartiles and IQR are calculated as follows:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0099</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0100</span>:       .. math::</pre>
<pre class="cython line score-0">&#xA0;<span class="">0101</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0102</span>:         Q1 = \frac{1}{4}(n + 1),\\</pre>
<pre class="cython line score-0">&#xA0;<span class="">0103</span>:         Q3 = \frac{3}{4}(n + 1),\\</pre>
<pre class="cython line score-0">&#xA0;<span class="">0104</span>:         IQR = Q3 - Q1,\\</pre>
<pre class="cython line score-0">&#xA0;<span class="">0105</span>:         \text{Upper} = Q3 + 1.5 \times IQR,\\</pre>
<pre class="cython line score-0">&#xA0;<span class="">0106</span>:         \text{Lower} = Q1 - 1.5 \times IQR.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0107</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0108</span>:     - Z-score</pre>
<pre class="cython line score-0">&#xA0;<span class="">0109</span>:       Also known as a standard score, this value helps to understand how</pre>
<pre class="cython line score-0">&#xA0;<span class="">0110</span>:       far a data point is from the mean. After setting a threshold, data</pre>
<pre class="cython line score-0">&#xA0;<span class="">0111</span>:       points with Z-scores beyond this threshold are considered outliers.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0112</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0113</span>:       .. math::</pre>
<pre class="cython line score-0">&#xA0;<span class="">0114</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0115</span>:           \text{Zscore} = \frac{(\text{data\_point} - \text{mean})}{\text{std\_deviation}}</pre>
<pre class="cython line score-0">&#xA0;<span class="">0116</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0117</span>:     A threshold value of generally 3.0 is chosen as 99.7% of data points</pre>
<pre class="cython line score-0">&#xA0;<span class="">0118</span>:     lie within +/- 3 standard deviations in a Gaussian Distribution.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0119</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0120</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">0121</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0122</span>:     ar : Union[np.ndarray, pd.DataFrame]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0123</span>:         The input data from which to remove outliers, either a numpy array</pre>
<pre class="cython line score-0">&#xA0;<span class="">0124</span>:         or pandas DataFrame.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0125</span>:     method : str, default 'IQR'</pre>
<pre class="cython line score-0">&#xA0;<span class="">0126</span>:         Method to detect and remove outliers:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0127</span>:         - ``'IQR'`` uses the Inter Quartile Range to define outliers.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0128</span>:         - ``'Z-score'`` identifies outliers based on standard deviation.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0129</span>:         See detailed explanation on how each method works in the function's</pre>
<pre class="cython line score-0">&#xA0;<span class="">0130</span>:         description.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0131</span>:     threshold : float, default 3.0</pre>
<pre class="cython line score-0">&#xA0;<span class="">0132</span>:         For ``'Z-score'``, this is the number of standard deviations a data point</pre>
<pre class="cython line score-0">&#xA0;<span class="">0133</span>:         must be from the mean to be considered an outlier. For 'IQR',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0134</span>:         this multiplies the IQR range.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0135</span>:     fill_value : float, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">0136</span>:         Value used to replace outliers. If None, outliers are removed from</pre>
<pre class="cython line score-0">&#xA0;<span class="">0137</span>:         the dataset.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0138</span>:     axis : int, default 1</pre>
<pre class="cython line score-0">&#xA0;<span class="">0139</span>:         Specifies the axis along which to remove outliers, applicable to</pre>
<pre class="cython line score-0">&#xA0;<span class="">0140</span>:         multi-dimensional data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0141</span>:     interpolate : bool, default False</pre>
<pre class="cython line score-0">&#xA0;<span class="">0142</span>:         Enables interpolation to estimate and replace outliers, only applicable</pre>
<pre class="cython line score-0">&#xA0;<span class="">0143</span>:         if `fill_value` is NaN.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0144</span>:     kind : str, default 'linear'</pre>
<pre class="cython line score-0">&#xA0;<span class="">0145</span>:         Type of interpolation used if interpolation is True. Options include</pre>
<pre class="cython line score-0">&#xA0;<span class="">0146</span>:         ``'nearest'``, ``'linear'``, ``'cubic'``.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0147</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0148</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">0149</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0150</span>:     Union[np.ndarray, DataFrame]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0151</span>:         Array or DataFrame with outliers removed or replaced.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0152</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0153</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">0154</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0155</span>:     &gt;&gt;&gt; import numpy as np</pre>
<pre class="cython line score-0">&#xA0;<span class="">0156</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import remove_outliers</pre>
<pre class="cython line score-0">&#xA0;<span class="">0157</span>:     &gt;&gt;&gt; np.random.seed(42)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0158</span>:     &gt;&gt;&gt; data = np.random.randn(7, 3)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0159</span>:     &gt;&gt;&gt; data_r = remove_outliers(data)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0160</span>:     &gt;&gt;&gt; data.shape, data_r.shape</pre>
<pre class="cython line score-0">&#xA0;<span class="">0161</span>:     (7, 3), (5, 3)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0162</span>:     &gt;&gt;&gt; remove_outliers(data, fill_value=np.nan)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0163</span>:     array([[ 0.49671415, -0.1382643 ,  0.64768854],</pre>
<pre class="cython line score-0">&#xA0;<span class="">0164</span>:            [ 1.52302986, -0.23415337, -0.23413696],</pre>
<pre class="cython line score-0">&#xA0;<span class="">0165</span>:            [ 1.57921282,  0.76743473, -0.46947439],</pre>
<pre class="cython line score-0">&#xA0;<span class="">0166</span>:            [ 0.54256004, -0.46341769, -0.46572975],</pre>
<pre class="cython line score-0">&#xA0;<span class="">0167</span>:            [ 0.24196227,         nan,         nan],</pre>
<pre class="cython line score-0">&#xA0;<span class="">0168</span>:            [-0.56228753, -1.01283112,  0.31424733],</pre>
<pre class="cython line score-0">&#xA0;<span class="">0169</span>:            [-0.90802408,         nan,  1.46564877]])</pre>
<pre class="cython line score-0">&#xA0;<span class="">0170</span>:     &gt;&gt;&gt; remove_outliers(data[:, 0], fill_value=np.nan, interpolate=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0171</span>:     &gt;&gt;&gt; import matplotlib.pyplot as plt</pre>
<pre class="cython line score-0">&#xA0;<span class="">0172</span>:     &gt;&gt;&gt; plt.plot(np.arange(len(data)), data, 'r-')</pre>
<pre class="cython line score-0">&#xA0;<span class="">0173</span>:     """</pre>
<pre class="cython line score-27" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0174</span>:     method = str(method).lower()</pre>
<pre class='cython code score-27 '>  <span class='trace'>__Pyx_TraceLine</span>(174,0,<span class='error_goto'>__PYX_ERR(0, 174, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Str</span>(__pyx_v_method);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 174, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_lower);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 174, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_2, NULL};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 174, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  if (!(likely(<span class='py_c_api'>PyUnicode_CheckExact</span>(__pyx_t_1))||((__pyx_t_1) == Py_None) || <span class='pyx_c_api'>__Pyx_RaiseUnexpectedTypeError</span>("unicode", __pyx_t_1))) <span class='error_goto'>__PYX_ERR(0, 174, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_method, ((PyObject*)__pyx_t_1));
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0175</span>: </pre>
<pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0176</span>:     if isinstance (ar, pd.DataFrame):</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(176,0,<span class='error_goto'>__PYX_ERR(0, 176, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 176, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 176, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_5 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_ar, __pyx_t_3);<span class='error_goto'> if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 176, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (__pyx_t_5) {
/* â€¦ */
  }
</pre><pre class="cython line score-29" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0177</span>:         return _remove_outliers( ar, n_std= threshold )</pre>
<pre class='cython code score-29 '>    <span class='trace'>__Pyx_TraceLine</span>(177,0,<span class='error_goto'>__PYX_ERR(0, 177, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_remove_outliers);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 177, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 177, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_ar);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_ar);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_ar)) <span class='error_goto'>__PYX_ERR(0, 177, __pyx_L1_error)</span>;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 177, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_6 = <span class='py_c_api'>PyFloat_FromDouble</span>(__pyx_v_threshold);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 177, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_n_std, __pyx_t_6) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 177, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_1, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 177, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_r = __pyx_t_6;
    __pyx_t_6 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0178</span>: </pre>
<pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0179</span>:     is_series = isinstance ( ar, pd.Series)</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(179,0,<span class='error_goto'>__PYX_ERR(0, 179, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 179, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 179, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_5 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_ar, __pyx_t_2);<span class='error_goto'> if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 179, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_is_series = __pyx_t_5;
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0180</span>:     arr =np.array (ar, dtype = float)</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(180,0,<span class='error_goto'>__PYX_ERR(0, 180, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 180, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 180, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 180, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_ar);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_ar);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_ar)) <span class='error_goto'>__PYX_ERR(0, 180, __pyx_L1_error)</span>;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 180, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_dtype, ((PyObject *)(&amp;PyFloat_Type))) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 180, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_6, __pyx_t_2, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 180, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_arr = __pyx_t_3;
  __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0181</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0182</span>:     if method =='iqr':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(182,0,<span class='error_goto'>__PYX_ERR(0, 182, __pyx_L1_error)</span>)
  __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_method, __pyx_n_u_iqr, Py_EQ)); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 182, __pyx_L1_error)</span>
  if (__pyx_t_5) {
/* â€¦ */
  }
</pre><pre class="cython line score-48" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0183</span>:         Q1 = np.percentile(arr[~np.isnan(arr)], 25,)</pre>
<pre class='cython code score-48 '>    <span class='trace'>__Pyx_TraceLine</span>(183,0,<span class='error_goto'>__PYX_ERR(0, 183, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 183, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_percentile);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 183, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 183, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_isnan);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 183, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_v_arr};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 183, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    }
    __pyx_t_7 = <span class='py_c_api'>PyNumber_Invert</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 183, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_arr, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 183, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_7 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_7)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_7, __pyx_t_1, __pyx_int_25};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 183, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    __pyx_v_Q1 = __pyx_t_3;
    __pyx_t_3 = 0;
</pre><pre class="cython line score-48" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0184</span>:         Q3 = np.percentile(arr[~np.isnan(arr)], 75)</pre>
<pre class='cython code score-48 '>    <span class='trace'>__Pyx_TraceLine</span>(184,0,<span class='error_goto'>__PYX_ERR(0, 184, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 184, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_percentile);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 184, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_7, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 184, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_7, __pyx_n_s_isnan);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 184, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_7 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
      __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
      if (likely(__pyx_t_7)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_7, __pyx_v_arr};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 184, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    __pyx_t_6 = <span class='py_c_api'>PyNumber_Invert</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 184, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_arr, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 184, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_6, __pyx_t_2, __pyx_int_75};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 184, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_v_Q3 = __pyx_t_3;
    __pyx_t_3 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0185</span>:         IQR = Q3 - Q1</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(185,0,<span class='error_goto'>__PYX_ERR(0, 185, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='py_c_api'>PyNumber_Subtract</span>(__pyx_v_Q3, __pyx_v_Q1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 185, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_v_IQR = __pyx_t_3;
    __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0186</span>: </pre>
<pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0187</span>:         upper = Q3 + 1.5 * IQR</pre>
<pre class='cython code score-11 '>    <span class='trace'>__Pyx_TraceLine</span>(187,0,<span class='error_goto'>__PYX_ERR(0, 187, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='py_c_api'>PyNumber_Multiply</span>(__pyx_float_1_5, __pyx_v_IQR);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 187, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_1 = <span class='py_c_api'>PyNumber_Add</span>(__pyx_v_Q3, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 187, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_v_upper = __pyx_t_1;
    __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0188</span>: </pre>
<pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0189</span>:         upper_arr = np.array (arr &gt;= upper)</pre>
<pre class='cython code score-25 '>    <span class='trace'>__Pyx_TraceLine</span>(189,0,<span class='error_goto'>__PYX_ERR(0, 189, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 189, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 189, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_v_arr, __pyx_v_upper, Py_GE); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 189, __pyx_L1_error)</span>
    __pyx_t_6 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_t_3};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 189, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    __pyx_v_upper_arr = __pyx_t_1;
    __pyx_t_1 = 0;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0190</span>:         lower = Q3 - 1.5 * IQR</pre>
<pre class='cython code score-11 '>    <span class='trace'>__Pyx_TraceLine</span>(190,0,<span class='error_goto'>__PYX_ERR(0, 190, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='py_c_api'>PyNumber_Multiply</span>(__pyx_float_1_5, __pyx_v_IQR);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 190, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_2 = <span class='py_c_api'>PyNumber_Subtract</span>(__pyx_v_Q3, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 190, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_v_lower = __pyx_t_2;
    __pyx_t_2 = 0;
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0191</span>:         lower_arr =  np.array ( arr &lt;= lower )</pre>
<pre class='cython code score-25 '>    <span class='trace'>__Pyx_TraceLine</span>(191,0,<span class='error_goto'>__PYX_ERR(0, 191, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 191, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 191, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_v_arr, __pyx_v_lower, Py_LE); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 191, __pyx_L1_error)</span>
    __pyx_t_6 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_t_1};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 191, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    __pyx_v_lower_arr = __pyx_t_2;
    __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0192</span>:         # replace the oulier by nan</pre>
<pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0193</span>:         arr [upper_arr]= fill_value if fill_value else np.nan</pre>
<pre class='cython code score-14 '>    <span class='trace'>__Pyx_TraceLine</span>(193,0,<span class='error_goto'>__PYX_ERR(0, 193, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_fill_value); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 193, __pyx_L1_error)</span>
    if (__pyx_t_5) {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_fill_value);
      __pyx_t_2 = __pyx_v_fill_value;
    } else {
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 193, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_nan);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 193, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_2 = __pyx_t_1;
      __pyx_t_1 = 0;
    }
    if (unlikely((<span class='py_c_api'>PyObject_SetItem</span>(__pyx_v_arr, __pyx_v_upper_arr, __pyx_t_2) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 193, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0194</span>:         arr[ lower_arr]= fill_value if fill_value else np.nan</pre>
<pre class='cython code score-14 '>    <span class='trace'>__Pyx_TraceLine</span>(194,0,<span class='error_goto'>__PYX_ERR(0, 194, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_fill_value); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 194, __pyx_L1_error)</span>
    if (__pyx_t_5) {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_fill_value);
      __pyx_t_2 = __pyx_v_fill_value;
    } else {
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 194, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_nan);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 194, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_2 = __pyx_t_3;
      __pyx_t_3 = 0;
    }
    if (unlikely((<span class='py_c_api'>PyObject_SetItem</span>(__pyx_v_arr, __pyx_v_lower_arr, __pyx_t_2) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 194, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0195</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0196</span>:     if method =='z-score':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(196,0,<span class='error_goto'>__PYX_ERR(0, 196, __pyx_L1_error)</span>)
  __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_method, __pyx_kp_u_z_score, Py_EQ)); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 196, __pyx_L1_error)</span>
  if (__pyx_t_5) {
/* â€¦ */
  }
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0197</span>:         from scipy import stats</pre>
<pre class='cython code score-16 '>    <span class='trace'>__Pyx_TraceLine</span>(197,0,<span class='error_goto'>__PYX_ERR(0, 197, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 197, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_stats);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_stats);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_stats)) <span class='error_goto'>__PYX_ERR(0, 197, __pyx_L1_error)</span>;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_scipy, __pyx_t_2, 0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 197, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_stats);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 197, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
    __pyx_v_stats = __pyx_t_2;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-65" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0198</span>:         z = np.abs(stats.zscore(arr[~np.isnan(arr)]))</pre>
<pre class='cython code score-65 '>    <span class='trace'>__Pyx_TraceLine</span>(198,0,<span class='error_goto'>__PYX_ERR(0, 198, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 198, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_abs);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 198, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_stats, __pyx_n_s_zscore);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 198, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_8, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 198, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_8, __pyx_n_s_isnan);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 198, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    __pyx_t_8 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
      __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
      if (likely(__pyx_t_8)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_8, __pyx_v_arr};
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      if (unlikely(!__pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 198, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    }
    __pyx_t_9 = <span class='py_c_api'>PyNumber_Invert</span>(__pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 198, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_arr, __pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 198, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    __pyx_t_9 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
      __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
      if (likely(__pyx_t_9)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_9, __pyx_t_7};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 198, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    __pyx_t_6 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_t_2};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 198, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_v_z = __pyx_t_3;
    __pyx_t_3 = 0;
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0199</span>:         zmask  = np.array ( z &gt; threshold )</pre>
<pre class='cython code score-31 '>    <span class='trace'>__Pyx_TraceLine</span>(199,0,<span class='error_goto'>__PYX_ERR(0, 199, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 199, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 199, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='py_c_api'>PyFloat_FromDouble</span>(__pyx_v_threshold);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 199, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_6 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_v_z, __pyx_t_1, Py_GT); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 199, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_t_6};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 199, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    __pyx_v_zmask = __pyx_t_3;
    __pyx_t_3 = 0;
</pre><pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0200</span>:         arr [zmask]= fill_value if fill_value else np.nan</pre>
<pre class='cython code score-14 '>    <span class='trace'>__Pyx_TraceLine</span>(200,0,<span class='error_goto'>__PYX_ERR(0, 200, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_fill_value); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 200, __pyx_L1_error)</span>
    if (__pyx_t_5) {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_fill_value);
      __pyx_t_3 = __pyx_v_fill_value;
    } else {
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 200, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_nan);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 200, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_3 = __pyx_t_6;
      __pyx_t_6 = 0;
    }
    if (unlikely((<span class='py_c_api'>PyObject_SetItem</span>(__pyx_v_arr, __pyx_v_zmask, __pyx_t_3) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 200, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0201</span>: </pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0202</span>:     if fill_value is None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(202,0,<span class='error_goto'>__PYX_ERR(0, 202, __pyx_L1_error)</span>)
  __pyx_t_5 = (__pyx_v_fill_value == Py_None);
  if (__pyx_t_5) {
/* â€¦ */
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">0203</span>:         # delete nan if fill value is not provided</pre>
<pre class="cython line score-42" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0204</span>:         arr = arr[ ~np.isnan (arr ).any(axis =1)</pre>
<pre class='cython code score-42 '>      <span class='trace'>__Pyx_TraceLine</span>(204,0,<span class='error_goto'>__PYX_ERR(0, 204, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 204, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_isnan);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 204, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_t_6 = NULL;
      __pyx_t_4 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
        __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
        if (likely(__pyx_t_6)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
          __pyx_t_4 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_v_arr};
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
        if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 204, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      }
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_any);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 204, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 204, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_axis, __pyx_int_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 204, __pyx_L1_error)</span>
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_empty_tuple, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 204, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = <span class='py_c_api'>PyNumber_Invert</span>(__pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 204, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_arr, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 204, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_3 = __pyx_t_6;
      __pyx_t_6 = 0;
    } else {
</pre><pre class="cython line score-57" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0205</span>:                   ]  if np.ndim (arr) &gt; 1 else arr [~np.isnan(arr)]</pre>
<pre class='cython code score-57 '>    <span class='trace'>__Pyx_TraceLine</span>(205,0,<span class='error_goto'>__PYX_ERR(0, 205, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 205, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_ndim);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 205, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_arr};
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 205, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_t_1 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_6, __pyx_int_1, Py_GT); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 205, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_1); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 205, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (__pyx_t_5) {
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(205,0,<span class='error_goto'>__PYX_ERR(0, 205, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 205, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_isnan);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 205, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = NULL;
      __pyx_t_4 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
        __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
        if (likely(__pyx_t_1)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
          __pyx_t_4 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_v_arr};
        __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 205, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      }
      __pyx_t_2 = <span class='py_c_api'>PyNumber_Invert</span>(__pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 205, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_arr, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 205, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_3 = __pyx_t_6;
      __pyx_t_6 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_3);
    __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0206</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0207</span>:     if interpolate:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(207,0,<span class='error_goto'>__PYX_ERR(0, 207, __pyx_L1_error)</span>)
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_interpolate); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 207, __pyx_L1_error)</span>
  if (__pyx_t_5) {
/* â€¦ */
  }
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0208</span>:         arr = interpolate_grid (arr, method = kind)</pre>
<pre class='cython code score-23 '>    <span class='trace'>__Pyx_TraceLine</span>(208,0,<span class='error_goto'>__PYX_ERR(0, 208, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_interpolate_grid);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 208, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 208, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arr);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_v_arr)) <span class='error_goto'>__PYX_ERR(0, 208, __pyx_L1_error)</span>;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 208, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_method, __pyx_v_kind) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 208, __pyx_L1_error)</span>
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_6, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 208, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0209</span>: </pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0210</span>:     if is_series:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(210,0,<span class='error_goto'>__PYX_ERR(0, 210, __pyx_L1_error)</span>)
  if (__pyx_v_is_series) {
/* â€¦ */
  }
</pre><pre class="cython line score-44" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0211</span>:         arr =pd.Series (arr.squeeze(), name =ar.name )</pre>
<pre class='cython code score-44 '>    <span class='trace'>__Pyx_TraceLine</span>(211,0,<span class='error_goto'>__PYX_ERR(0, 211, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 211, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 211, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_arr, __pyx_n_s_squeeze);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 211, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_3 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 211, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 211, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 211, __pyx_L1_error)</span>;
    __pyx_t_1 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 211, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_ar, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 211, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_name, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 211, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_6, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 211, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_3);
    __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0212</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0213</span>:     return arr</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(213,0,<span class='error_goto'>__PYX_ERR(0, 213, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
  __pyx_r = __pyx_v_arr;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0214</span>: </pre>
<pre class="cython line score-86" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0215</span>: def _remove_outliers(data, n_std=3):</pre>
<pre class='cython code score-86 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_3_remove_outliers(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_2_remove_outliers, "Remove outliers from a dataframe.");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_3_remove_outliers = {"_remove_outliers", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_3_remove_outliers, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_2_remove_outliers};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_3_remove_outliers(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_data = 0;
  PyObject *__pyx_v_n_std = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_remove_outliers (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_data,&amp;__pyx_n_s_n_std,0};
  PyObject* values[2] = {0,0};
    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)__pyx_int_3)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 215, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_n_std);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 215, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_remove_outliers") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 215, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_data = values[0];
    __pyx_v_n_std = values[1];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_remove_outliers", 0, 1, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 215, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._remove_outliers", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_2_remove_outliers(__pyx_self, __pyx_v_data, __pyx_v_n_std);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_2_remove_outliers(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_data, PyObject *__pyx_v_n_std) {
  PyObject *__pyx_v_df = NULL;
  PyObject *__pyx_v_numf = NULL;
  PyObject *__pyx_v_catf = NULL;
  PyObject *__pyx_v_col = NULL;
  PyObject *__pyx_v_mean = NULL;
  PyObject *__pyx_v_sd = NULL;
  PyObject *__pyx_v_index = NULL;
  PyObject *__pyx_v_df_cat = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__3)
  <span class='trace'>__Pyx_TraceCall</span>("_remove_outliers", __pyx_f[0], 215, 0, <span class='error_goto'>__PYX_ERR(0, 215, __pyx_L1_error)</span>);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._remove_outliers", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_df);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_numf);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_catf);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_col);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_mean);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_sd);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_index);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_df_cat);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__149 = <span class='py_c_api'>PyTuple_Pack</span>(10, __pyx_n_s_data, __pyx_n_s_n_std, __pyx_n_s_df, __pyx_n_s_numf, __pyx_n_s_catf, __pyx_n_s_col, __pyx_n_s_mean, __pyx_n_s_sd, __pyx_n_s_index, __pyx_n_s_df_cat);<span class='error_goto'> if (unlikely(!__pyx_tuple__149)) __PYX_ERR(0, 215, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__149);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__149);
  __pyx_codeobj__3 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(2, 0, 0, 10, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__149, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_remove_outliers, 215, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__3)) __PYX_ERR(0, 215, __pyx_L1_error)</span>
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(215,0,<span class='error_goto'>__PYX_ERR(0, 215, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_3_remove_outliers, 0, __pyx_n_s_remove_outliers, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__3));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 215, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_2, __pyx_tuple__150);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_remove_outliers, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 215, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_tuple__150 = <span class='py_c_api'>PyTuple_Pack</span>(1, ((PyObject *)__pyx_int_3));<span class='error_goto'> if (unlikely(!__pyx_tuple__150)) __PYX_ERR(0, 215, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__150);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__150);
</pre><pre class="cython line score-0">&#xA0;<span class="">0216</span>:     """Remove outliers from a dataframe."""</pre>
<pre class="cython line score-0">&#xA0;<span class="">0217</span>:     # separate cat feature and numeric features</pre>
<pre class="cython line score-0">&#xA0;<span class="">0218</span>:     # if exists</pre>
<pre class="cython line score-65" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0219</span>:     df, numf, catf = to_numeric_dtypes(</pre>
<pre class='cython code score-65 '>  <span class='trace'>__Pyx_TraceLine</span>(219,0,<span class='error_goto'>__PYX_ERR(0, 219, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_to_numeric_dtypes);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 219, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(220,0,<span class='error_goto'>__PYX_ERR(0, 220, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 219, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_data)) <span class='error_goto'>__PYX_ERR(0, 219, __pyx_L1_error)</span>;
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(219,0,<span class='error_goto'>__PYX_ERR(0, 219, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_2, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 219, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_4))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_4))) {
    PyObject* sequence = __pyx_t_4;
    Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
    if (unlikely(size != 3)) {
      if (size &gt; 3) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(3);
      else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
      <span class='error_goto'>__PYX_ERR(0, 219, __pyx_L1_error)</span>
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
      __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
      __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
      __pyx_t_1 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 2); 
    } else {
      __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
      __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
      __pyx_t_1 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 2); 
    }
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    #else
    __pyx_t_3 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 219, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 219, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_1 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 219, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    #endif
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  } else {
    Py_ssize_t index = -1;
    __pyx_t_5 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 219, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_5);
    index = 0; __pyx_t_3 = __pyx_t_6(__pyx_t_5); if (unlikely(!__pyx_t_3)) goto __pyx_L3_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    index = 1; __pyx_t_2 = __pyx_t_6(__pyx_t_5); if (unlikely(!__pyx_t_2)) goto __pyx_L3_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    index = 2; __pyx_t_1 = __pyx_t_6(__pyx_t_5); if (unlikely(!__pyx_t_1)) goto __pyx_L3_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_6(__pyx_t_5), 3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 219, __pyx_L1_error)</span>
    __pyx_t_6 = NULL;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    goto __pyx_L4_unpacking_done;
    __pyx_L3_unpacking_failed:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_6 = NULL;
    if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
    <span class='error_goto'>__PYX_ERR(0, 219, __pyx_L1_error)</span>
    __pyx_L4_unpacking_done:;
  }
  __pyx_v_df = __pyx_t_3;
  __pyx_t_3 = 0;
  __pyx_v_numf = __pyx_t_2;
  __pyx_t_2 = 0;
  __pyx_v_catf = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0220</span>:         data , return_feature_types= True,  drop_nan_columns =True )</pre>
<pre class='cython code score-12 '>  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 220, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return_feature_types, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 220, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_drop_nan_columns, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 220, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0221</span>:     # get on;y the numeric</pre>
<pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0222</span>:     df = df[numf]</pre>
<pre class='cython code score-3 '>  <span class='trace'>__Pyx_TraceLine</span>(222,0,<span class='error_goto'>__PYX_ERR(0, 222, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_df, __pyx_v_numf);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 222, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_df, __pyx_t_4);
  __pyx_t_4 = 0;
</pre><pre class="cython line score-52" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0223</span>:     for col in df.columns:</pre>
<pre class='cython code score-52 '>  <span class='trace'>__Pyx_TraceLine</span>(223,0,<span class='error_goto'>__PYX_ERR(0, 223, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_df, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 223, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_4)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_4)) {
    __pyx_t_1 = __pyx_t_4; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    __pyx_t_7 = 0;
    __pyx_t_8 = NULL;
  } else {
    __pyx_t_7 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 223, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 223, __pyx_L1_error)</span>
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  for (;;) {
    if (likely(!__pyx_t_8)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 223, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_7 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_7); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_7++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 223, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_7); __pyx_t_7++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 223, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 223, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_7 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_7); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_7++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 223, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_7); __pyx_t_7++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 223, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      }
    } else {
      __pyx_t_4 = __pyx_t_8(__pyx_t_1);
      if (unlikely(!__pyx_t_4)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 223, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_col, __pyx_t_4);
    __pyx_t_4 = 0;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(223,0,<span class='error_goto'>__PYX_ERR(0, 223, __pyx_L1_error)</span>)
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0224</span>:         # print('Working on column: {}'.format(col))</pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0225</span>:         mean = df[col].mean()</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(225,0,<span class='error_goto'>__PYX_ERR(0, 225, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_df, __pyx_v_col);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 225, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_mean);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 225, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = NULL;
    __pyx_t_9 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_9 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_2, NULL};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_9, 0+__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 225, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_mean, __pyx_t_4);
    __pyx_t_4 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0226</span>:         sd = df[col].std()</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(226,0,<span class='error_goto'>__PYX_ERR(0, 226, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_df, __pyx_v_col);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 226, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_std);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 226, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = NULL;
    __pyx_t_9 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_9 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_9, 0+__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 226, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_sd, __pyx_t_4);
    __pyx_t_4 = 0;
</pre><pre class="cython line score-24" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0227</span>:         df = df[(df[col] &lt;= mean+(n_std*sd))]</pre>
<pre class='cython code score-24 '>    <span class='trace'>__Pyx_TraceLine</span>(227,0,<span class='error_goto'>__PYX_ERR(0, 227, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_df, __pyx_v_col);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 227, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_2 = <span class='py_c_api'>PyNumber_Multiply</span>(__pyx_v_n_std, __pyx_v_sd);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 227, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='py_c_api'>PyNumber_Add</span>(__pyx_v_mean, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 227, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_4, __pyx_t_3, Py_LE); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 227, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_df, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 227, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_df, __pyx_t_3);
    __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0228</span>:     # get the index and select only the index</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0229</span>:     index = df.index</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(229,0,<span class='error_goto'>__PYX_ERR(0, 229, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_df, __pyx_n_s_index);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 229, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_index = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0230</span>:     # get the data by index then</pre>
<pre class="cython line score-0">&#xA0;<span class="">0231</span>:     # concatename</pre>
<pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0232</span>:     df_cat = data [catf].iloc [ index ]</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(232,0,<span class='error_goto'>__PYX_ERR(0, 232, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_v_catf);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 232, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_iloc);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 232, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_t_3, __pyx_v_index);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 232, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_v_df_cat = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-36" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0233</span>:     df = pd.concat ( [df_cat, df ], axis = 1 )</pre>
<pre class='cython code score-36 '>  <span class='trace'>__Pyx_TraceLine</span>(233,0,<span class='error_goto'>__PYX_ERR(0, 233, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 233, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_concat);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 233, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 233, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_df_cat);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_df_cat);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_df_cat)) <span class='error_goto'>__PYX_ERR(0, 233, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_df);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_df);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 1, __pyx_v_df)) <span class='error_goto'>__PYX_ERR(0, 233, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 233, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 233, __pyx_L1_error)</span>;
  __pyx_t_1 = 0;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 233, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_axis, __pyx_int_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 233, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_2, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 233, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_df, __pyx_t_4);
  __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0234</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0235</span>:     return df</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(235,0,<span class='error_goto'>__PYX_ERR(0, 235, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_df);
  __pyx_r = __pyx_v_df;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0236</span>: </pre>
<pre class="cython line score-57" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0237</span>: def interpolate_grid (</pre>
<pre class='cython code score-57 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_5interpolate_grid(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_4interpolate_grid, "\n    Interpolate data containing missing values. \n\n    Parameters \n    -----------\n    arr: ArrayLike2D \n       Two dimensional array for interpolation \n    method: str, default='cubic'\n      kind of interpolation. It could be ['nearest'|'linear'|'cubic']. \n     \n    fill_value: float, str, default='auto' \n       Fill the interpolated grid at the egdes or surrounding NaN with \n       a filled value. The ``auto`` uses the forward and backward \n       fill strategy. \n       \n    view: bool, default=False, \n       Quick visualize the interpolated grid. \n \n    Returns \n    ---------\n    arri: ArrayLike2d \n       Interpolated 2D grid. \n       \n    See also \n    ---------\n    spi.griddata: \n        Scipy interpolate Grid data \n    fillNaN: \n        Fill missing data strategy. \n        \n    Examples\n    ---------\n    &gt;&gt;&gt; import numpy as np\n    &gt;&gt;&gt; from gofast.tools.coreutils import interpolate_grid \n    &gt;&gt;&gt; x = [28, np.nan, 50, 60] ; y = [np.nan, 1000, 2000, 3000]\n    &gt;&gt;&gt; xy = np.vstack ((x, y))._T\n    &gt;&gt;&gt; xyi = interpolate_grid (xy, view=True ) \n    &gt;&gt;&gt; xyi \n    array([[  28.        ,   28.        ],\n           [  22.78880663, 1000.        ],\n           [  50.        , 2000.        ],\n           [  60.        , 3000.        ]])\n\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_5interpolate_grid = {"interpolate_grid", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_5interpolate_grid, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_4interpolate_grid};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_5interpolate_grid(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_arr = 0;
  PyObject *__pyx_v_method = 0;
  PyObject *__pyx_v_fill_value = 0;
  PyObject *__pyx_v_view = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("interpolate_grid (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_arr,&amp;__pyx_n_s_method,&amp;__pyx_n_s_fill_value,&amp;__pyx_n_s_view,0};
  PyObject* values[4] = {0,0,0,0};
    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_n_u_cubic)));
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_n_u_auto)));
/* â€¦ */
  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_4interpolate_grid(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_arr, PyObject *__pyx_v_method, PyObject *__pyx_v_fill_value, PyObject *__pyx_v_view) {
  PyObject *__pyx_v_spi = NULL;
  int __pyx_v_is2d;
  PyObject *__pyx_v_x = NULL;
  PyObject *__pyx_v_y = NULL;
  PyObject *__pyx_v_xx = NULL;
  PyObject *__pyx_v_yy = NULL;
  PyObject *__pyx_v_x1 = NULL;
  PyObject *__pyx_v_y1 = NULL;
  PyObject *__pyx_v_newarr = NULL;
  PyObject *__pyx_v_arri = NULL;
  CYTHON_UNUSED PyObject *__pyx_v_fig = NULL;
  PyObject *__pyx_v_ax = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__4)
  <span class='trace'>__Pyx_TraceCall</span>("interpolate_grid", __pyx_f[0], 237, 0, <span class='error_goto'>__PYX_ERR(0, 237, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.interpolate_grid", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_spi);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_x);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_y);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_xx);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_yy);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_x1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_y1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_newarr);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_arri);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_fig);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_ax);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_arr);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__151 = <span class='py_c_api'>PyTuple_Pack</span>(16, __pyx_n_s_arr, __pyx_n_s_method, __pyx_n_s_fill_value, __pyx_n_s_view, __pyx_n_s_spi, __pyx_n_s_is2d, __pyx_n_s_x, __pyx_n_s_y, __pyx_n_s_xx, __pyx_n_s_yy, __pyx_n_s_x1, __pyx_n_s_y1, __pyx_n_s_newarr, __pyx_n_s_arri, __pyx_n_s_fig, __pyx_n_s_ax);<span class='error_goto'> if (unlikely(!__pyx_tuple__151)) __PYX_ERR(0, 237, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__151);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__151);
  __pyx_codeobj__4 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(4, 0, 0, 16, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__151, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_interpolate_grid, 237, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__4)) __PYX_ERR(0, 237, __pyx_L1_error)</span>
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(237,0,<span class='error_goto'>__PYX_ERR(0, 237, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_5interpolate_grid, 0, __pyx_n_s_interpolate_grid, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__4));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 237, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_2, __pyx_tuple__152);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_interpolate_grid, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 237, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_tuple__152 = <span class='py_c_api'>PyTuple_Pack</span>(3, ((PyObject*)__pyx_n_u_cubic), ((PyObject*)__pyx_n_u_auto), ((PyObject *)Py_False));<span class='error_goto'> if (unlikely(!__pyx_tuple__152)) __PYX_ERR(0, 237, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__152);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__152);
</pre><pre class="cython line score-0">&#xA0;<span class="">0238</span>:     arr,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0239</span>:     method ='cubic',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0240</span>:     fill_value='auto',</pre>
<pre class="cython line score-64" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0241</span>:     view = False,</pre>
<pre class='cython code score-64 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_arr)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 237, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_method);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 237, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_fill_value);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 237, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_view);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 237, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "interpolate_grid") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 237, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_arr = values[0];
    __pyx_v_method = values[1];
    __pyx_v_fill_value = values[2];
    __pyx_v_view = values[3];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("interpolate_grid", 0, 1, 4, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 237, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.interpolate_grid", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_4interpolate_grid(__pyx_self, __pyx_v_arr, __pyx_v_method, __pyx_v_fill_value, __pyx_v_view);
</pre><pre class="cython line score-0">&#xA0;<span class="">0242</span>:     ):</pre>
<pre class="cython line score-0">&#xA0;<span class="">0243</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">0244</span>:     Interpolate data containing missing values.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0245</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0246</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">0247</span>:     -----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0248</span>:     arr: ArrayLike2D</pre>
<pre class="cython line score-0">&#xA0;<span class="">0249</span>:        Two dimensional array for interpolation</pre>
<pre class="cython line score-0">&#xA0;<span class="">0250</span>:     method: str, default='cubic'</pre>
<pre class="cython line score-0">&#xA0;<span class="">0251</span>:       kind of interpolation. It could be ['nearest'|'linear'|'cubic'].</pre>
<pre class="cython line score-0">&#xA0;<span class="">0252</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0253</span>:     fill_value: float, str, default='auto'</pre>
<pre class="cython line score-0">&#xA0;<span class="">0254</span>:        Fill the interpolated grid at the egdes or surrounding NaN with</pre>
<pre class="cython line score-0">&#xA0;<span class="">0255</span>:        a filled value. The ``auto`` uses the forward and backward</pre>
<pre class="cython line score-0">&#xA0;<span class="">0256</span>:        fill strategy.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0257</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0258</span>:     view: bool, default=False,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0259</span>:        Quick visualize the interpolated grid.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0260</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0261</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">0262</span>:     ---------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0263</span>:     arri: ArrayLike2d</pre>
<pre class="cython line score-0">&#xA0;<span class="">0264</span>:        Interpolated 2D grid.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0265</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0266</span>:     See also</pre>
<pre class="cython line score-0">&#xA0;<span class="">0267</span>:     ---------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0268</span>:     spi.griddata:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0269</span>:         Scipy interpolate Grid data</pre>
<pre class="cython line score-0">&#xA0;<span class="">0270</span>:     fillNaN:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0271</span>:         Fill missing data strategy.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0272</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0273</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">0274</span>:     ---------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0275</span>:     &gt;&gt;&gt; import numpy as np</pre>
<pre class="cython line score-0">&#xA0;<span class="">0276</span>:     &gt;&gt;&gt; from gofast.tools.coreutils import interpolate_grid</pre>
<pre class="cython line score-0">&#xA0;<span class="">0277</span>:     &gt;&gt;&gt; x = [28, np.nan, 50, 60] ; y = [np.nan, 1000, 2000, 3000]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0278</span>:     &gt;&gt;&gt; xy = np.vstack ((x, y))._T</pre>
<pre class="cython line score-0">&#xA0;<span class="">0279</span>:     &gt;&gt;&gt; xyi = interpolate_grid (xy, view=True )</pre>
<pre class="cython line score-0">&#xA0;<span class="">0280</span>:     &gt;&gt;&gt; xyi</pre>
<pre class="cython line score-0">&#xA0;<span class="">0281</span>:     array([[  28.        ,   28.        ],</pre>
<pre class="cython line score-0">&#xA0;<span class="">0282</span>:            [  22.78880663, 1000.        ],</pre>
<pre class="cython line score-0">&#xA0;<span class="">0283</span>:            [  50.        , 2000.        ],</pre>
<pre class="cython line score-0">&#xA0;<span class="">0284</span>:            [  60.        , 3000.        ]])</pre>
<pre class="cython line score-0">&#xA0;<span class="">0285</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0286</span>:     """</pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0287</span>:     spi = check_scipy_interpolate()</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(287,0,<span class='error_goto'>__PYX_ERR(0, 287, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_check_scipy_interpolate);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 287, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 287, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_v_spi = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0288</span>:     if spi is None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(288,0,<span class='error_goto'>__PYX_ERR(0, 288, __pyx_L1_error)</span>)
  __pyx_t_5 = (__pyx_v_spi == Py_None);
  if (__pyx_t_5) {
/* â€¦ */
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0289</span>:         return None</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(289,0,<span class='error_goto'>__PYX_ERR(0, 289, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0290</span>: </pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0291</span>:     is2d = True</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(291,0,<span class='error_goto'>__PYX_ERR(0, 291, __pyx_L1_error)</span>)
  __pyx_v_is2d = 1;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0292</span>:     if not hasattr(arr, '__array__'):</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(292,0,<span class='error_goto'>__PYX_ERR(0, 292, __pyx_L1_error)</span>)
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_HasAttr</span>(__pyx_v_arr, __pyx_n_u_array_2);<span class='error_goto'> if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 292, __pyx_L1_error)</span>
  __pyx_t_6 = (!__pyx_t_5);
  if (__pyx_t_6) {
/* â€¦ */
  }
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0293</span>:         arr = np.array (arr)</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(293,0,<span class='error_goto'>__PYX_ERR(0, 293, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 293, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 293, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_arr};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 293, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0294</span>: </pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0295</span>:     if arr.ndim==1:</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(295,0,<span class='error_goto'>__PYX_ERR(0, 295, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_arr, __pyx_n_s_ndim);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 295, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PyInt_BoolEqObjC</span>(__pyx_t_1, __pyx_int_1, 1, 0)); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 295, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_6) {
/* â€¦ */
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">0296</span>:         #convert to two dimension array</pre>
<pre class="cython line score-32" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0297</span>:         arr = np.vstack ((arr, arr ))</pre>
<pre class='cython code score-32 '>    <span class='trace'>__Pyx_TraceLine</span>(297,0,<span class='error_goto'>__PYX_ERR(0, 297, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 297, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_vstack);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 297, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 297, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arr);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_arr)) <span class='error_goto'>__PYX_ERR(0, 297, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arr);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_v_arr)) <span class='error_goto'>__PYX_ERR(0, 297, __pyx_L1_error)</span>;
    __pyx_t_7 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_7)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_7, __pyx_t_3};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 297, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0298</span>:         is2d =False</pre>
<pre class='cython code score-0 '>    <span class='trace'>__Pyx_TraceLine</span>(298,0,<span class='error_goto'>__PYX_ERR(0, 298, __pyx_L1_error)</span>)
    __pyx_v_is2d = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0299</span>:         # raise TypeError(</pre>
<pre class="cython line score-0">&#xA0;<span class="">0300</span>:         #     "Expect two dimensional array for grid interpolation.")</pre>
<pre class="cython line score-0">&#xA0;<span class="">0301</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0302</span>:     # make x, y array for mapping</pre>
<pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0303</span>:     x = np.arange(0, arr.shape[1])</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(303,0,<span class='error_goto'>__PYX_ERR(0, 303, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 303, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_arange);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 303, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_arr, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 303, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_2, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 303, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_2, __pyx_int_0, __pyx_t_7};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 303, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_v_x = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0304</span>:     y = np.arange(0, arr.shape[0])</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(304,0,<span class='error_goto'>__PYX_ERR(0, 304, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 304, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_arange);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 304, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_arr, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 304, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_3, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 304, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_3, __pyx_int_0, __pyx_t_2};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 304, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  }
  __pyx_v_y = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0305</span>:     #mask invalid values</pre>
<pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0306</span>:     arr= np.ma.masked_invalid(arr)</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(306,0,<span class='error_goto'>__PYX_ERR(0, 306, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_7, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 306, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_7, __pyx_n_s_ma);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 306, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_masked_invalid);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 306, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_arr};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 306, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-65" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0307</span>:     xx, yy = np.meshgrid(x, y)</pre>
<pre class='cython code score-65 '>  <span class='trace'>__Pyx_TraceLine</span>(307,0,<span class='error_goto'>__PYX_ERR(0, 307, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_7, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 307, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_7, __pyx_n_s_meshgrid);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 307, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  __pyx_t_7 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_7)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_7, __pyx_v_x, __pyx_v_y};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 307, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_1))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
    PyObject* sequence = __pyx_t_1;
    Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
    if (unlikely(size != 2)) {
      if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
      else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
      <span class='error_goto'>__PYX_ERR(0, 307, __pyx_L1_error)</span>
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
      __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
      __pyx_t_7 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
    } else {
      __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
      __pyx_t_7 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
    }
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
    #else
    __pyx_t_2 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 307, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_7 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 307, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    #endif
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  } else {
    Py_ssize_t index = -1;
    __pyx_t_3 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 307, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_3);
    index = 0; __pyx_t_2 = __pyx_t_8(__pyx_t_3); if (unlikely(!__pyx_t_2)) goto __pyx_L6_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    index = 1; __pyx_t_7 = __pyx_t_8(__pyx_t_3); if (unlikely(!__pyx_t_7)) goto __pyx_L6_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_8(__pyx_t_3), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 307, __pyx_L1_error)</span>
    __pyx_t_8 = NULL;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    goto __pyx_L7_unpacking_done;
    __pyx_L6_unpacking_failed:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_8 = NULL;
    if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
    <span class='error_goto'>__PYX_ERR(0, 307, __pyx_L1_error)</span>
    __pyx_L7_unpacking_done:;
  }
  __pyx_v_xx = __pyx_t_2;
  __pyx_t_2 = 0;
  __pyx_v_yy = __pyx_t_7;
  __pyx_t_7 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0308</span>:     #get only the valid values</pre>
<pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0309</span>:     x1 = xx[~arr.mask]</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(309,0,<span class='error_goto'>__PYX_ERR(0, 309, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_arr, __pyx_n_s_mask);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 309, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_7 = <span class='py_c_api'>PyNumber_Invert</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 309, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_xx, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 309, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  __pyx_v_x1 = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0310</span>:     y1 = yy[~arr.mask]</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(310,0,<span class='error_goto'>__PYX_ERR(0, 310, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_arr, __pyx_n_s_mask);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 310, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_7 = <span class='py_c_api'>PyNumber_Invert</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 310, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_yy, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 310, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  __pyx_v_y1 = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0311</span>:     newarr = arr[~arr.mask]</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(311,0,<span class='error_goto'>__PYX_ERR(0, 311, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_arr, __pyx_n_s_mask);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 311, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_7 = <span class='py_c_api'>PyNumber_Invert</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 311, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_arr, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 311, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  __pyx_v_newarr = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0312</span>: </pre>
<pre class="cython line score-18" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0313</span>:     arri = spi.griddata(</pre>
<pre class='cython code score-18 '>  <span class='trace'>__Pyx_TraceLine</span>(313,0,<span class='error_goto'>__PYX_ERR(0, 313, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_spi, __pyx_n_s_griddata);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 313, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(313,0,<span class='error_goto'>__PYX_ERR(0, 313, __pyx_L1_error)</span>)
  __pyx_t_9 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 313, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_7);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_9, 0, __pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 313, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_9, 1, __pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 313, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_9, 2, __pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 313, __pyx_L1_error)</span>;
  __pyx_t_7 = 0;
  __pyx_t_2 = 0;
  __pyx_t_3 = 0;
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(313,0,<span class='error_goto'>__PYX_ERR(0, 313, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_9, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 313, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_v_arri = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0314</span>:         (x1, y1),</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(314,0,<span class='error_goto'>__PYX_ERR(0, 314, __pyx_L1_error)</span>)
  __pyx_t_7 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 314, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_x1);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_x1);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 0, __pyx_v_x1)) <span class='error_goto'>__PYX_ERR(0, 314, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y1);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_y1);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 1, __pyx_v_y1)) <span class='error_goto'>__PYX_ERR(0, 314, __pyx_L1_error)</span>;
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0315</span>:         newarr.ravel(),</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(315,0,<span class='error_goto'>__PYX_ERR(0, 315, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_newarr, __pyx_n_s_ravel);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 315, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_9 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_9)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_9, NULL};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 315, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0316</span>:         (xx, yy),</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(316,0,<span class='error_goto'>__PYX_ERR(0, 316, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 316, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_xx);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_xx);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_xx)) <span class='error_goto'>__PYX_ERR(0, 316, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_yy);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_yy);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_v_yy)) <span class='error_goto'>__PYX_ERR(0, 316, __pyx_L1_error)</span>;
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0317</span>:         method=method</pre>
<pre class='cython code score-7 '>  <span class='trace'>__Pyx_TraceLine</span>(317,0,<span class='error_goto'>__PYX_ERR(0, 317, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 317, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_method, __pyx_v_method) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 317, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0318</span>:         )</pre>
<pre class="cython line score-0">&#xA0;<span class="">0319</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0320</span>:     if fill_value =='auto':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(320,0,<span class='error_goto'>__PYX_ERR(0, 320, __pyx_L1_error)</span>)
  __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_fill_value, __pyx_n_u_auto, Py_EQ)); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 320, __pyx_L1_error)</span>
  if (__pyx_t_6) {
/* â€¦ */
    goto __pyx_L8;
  }
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0321</span>:         arri = fillNaN(arri, method ='both ')</pre>
<pre class='cython code score-23 '>    <span class='trace'>__Pyx_TraceLine</span>(321,0,<span class='error_goto'>__PYX_ERR(0, 321, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_fillNaN);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 321, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 321, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arri);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arri);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_arri)) <span class='error_goto'>__PYX_ERR(0, 321, __pyx_L1_error)</span>;
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 321, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_9, __pyx_n_s_method, __pyx_kp_u_both) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 321, __pyx_L1_error)</span>
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_3, __pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 321, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arri, __pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0322</span>:     else:</pre>
<pre class="cython line score-50" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0323</span>:         arri [np.isnan(arri)] = float( _assert_all_types(</pre>
<pre class='cython code score-50 '>  <span class='trace'>__Pyx_TraceLine</span>(323,0,<span class='error_goto'>__PYX_ERR(0, 323, __pyx_L1_error)</span>)
  /*else*/ {
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_assert_all_types);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 323, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(324,0,<span class='error_goto'>__PYX_ERR(0, 324, __pyx_L1_error)</span>)
    __pyx_t_9 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 323, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_fill_value);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_fill_value);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_9, 0, __pyx_v_fill_value)) <span class='error_goto'>__PYX_ERR(0, 323, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>((PyObject *)(&amp;PyFloat_Type));
    <span class='refnanny'>__Pyx_GIVEREF</span>((PyObject *)(&amp;PyFloat_Type));
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_9, 1, ((PyObject *)(&amp;PyFloat_Type)))) <span class='error_goto'>__PYX_ERR(0, 323, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>((PyObject *)(&amp;PyInt_Type));
    <span class='refnanny'>__Pyx_GIVEREF</span>((PyObject *)(&amp;PyInt_Type));
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_9, 2, ((PyObject *)(&amp;PyInt_Type)))) <span class='error_goto'>__PYX_ERR(0, 323, __pyx_L1_error)</span>;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(323,0,<span class='error_goto'>__PYX_ERR(0, 323, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_9, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 323, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyNumber_Float</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 323, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_9, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 323, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_9, __pyx_n_s_isnan);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 323, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    __pyx_t_9 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_9)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_9, __pyx_v_arri};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 323, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    if (unlikely((<span class='py_c_api'>PyObject_SetItem</span>(__pyx_v_arri, __pyx_t_2, __pyx_t_3) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 323, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_L8:;
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0324</span>:             fill_value, float, int, objname ="'fill_value'" )</pre>
<pre class='cython code score-7 '>    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 324, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_objname, __pyx_kp_u_fill_value_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 324, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0325</span>:             )</pre>
<pre class="cython line score-0">&#xA0;<span class="">0326</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0327</span>:     if view :</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(327,0,<span class='error_goto'>__PYX_ERR(0, 327, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_view); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 327, __pyx_L1_error)</span>
  if (__pyx_t_6) {
/* â€¦ */
  }
</pre><pre class="cython line score-72" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0328</span>:         fig, ax  = plt.subplots (nrows = 1, ncols = 2 , sharey= True, )</pre>
<pre class='cython code score-72 '>    <span class='trace'>__Pyx_TraceLine</span>(328,0,<span class='error_goto'>__PYX_ERR(0, 328, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_plt);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 328, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_subplots);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 328, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 328, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_nrows, __pyx_int_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 328, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_ncols, __pyx_int_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 328, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_sharey, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 328, __pyx_L1_error)</span>
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_empty_tuple, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 328, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_1))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
      PyObject* sequence = __pyx_t_1;
      Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
      if (unlikely(size != 2)) {
        if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
        else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
        <span class='error_goto'>__PYX_ERR(0, 328, __pyx_L1_error)</span>
      }
      #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
      if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
        __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
        __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
      } else {
        __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
        __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
      }
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      #else
      __pyx_t_3 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 328, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_2 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 328, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      #endif
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    } else {
      Py_ssize_t index = -1;
      __pyx_t_9 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 328, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_9);
      index = 0; __pyx_t_3 = __pyx_t_8(__pyx_t_9); if (unlikely(!__pyx_t_3)) goto __pyx_L10_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      index = 1; __pyx_t_2 = __pyx_t_8(__pyx_t_9); if (unlikely(!__pyx_t_2)) goto __pyx_L10_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_8(__pyx_t_9), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 328, __pyx_L1_error)</span>
      __pyx_t_8 = NULL;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      goto __pyx_L11_unpacking_done;
      __pyx_L10_unpacking_failed:;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_8 = NULL;
      if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
      <span class='error_goto'>__PYX_ERR(0, 328, __pyx_L1_error)</span>
      __pyx_L11_unpacking_done:;
    }
    __pyx_v_fig = __pyx_t_3;
    __pyx_t_3 = 0;
    __pyx_v_ax = __pyx_t_2;
    __pyx_t_2 = 0;
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0329</span>:         ax[0].imshow(arr ,interpolation='nearest', label ='Raw Grid')</pre>
<pre class='cython code score-31 '>    <span class='trace'>__Pyx_TraceLine</span>(329,0,<span class='error_goto'>__PYX_ERR(0, 329, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_ax, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 329, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_imshow);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 329, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 329, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arr);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_arr)) <span class='error_goto'>__PYX_ERR(0, 329, __pyx_L1_error)</span>;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 329, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_interpolation, __pyx_n_u_nearest) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 329, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_label, __pyx_kp_u_Raw_Grid) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 329, __pyx_L1_error)</span>
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_1, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 329, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0330</span>:         ax[1].imshow (arri, interpolation ='nearest',</pre>
<pre class='cython code score-31 '>    <span class='trace'>__Pyx_TraceLine</span>(330,0,<span class='error_goto'>__PYX_ERR(0, 330, __pyx_L1_error)</span>)
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_ax, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 330, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_9, __pyx_n_s_imshow);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 330, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    __pyx_t_9 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 330, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arri);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arri);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_9, 0, __pyx_v_arri)) <span class='error_goto'>__PYX_ERR(0, 330, __pyx_L1_error)</span>;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 330, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_interpolation, __pyx_n_u_nearest) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 330, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_label, __pyx_kp_u_Interpolate_Grid) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 330, __pyx_L1_error)</span>
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_9, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 330, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0331</span>:                       label = 'Interpolate Grid')</pre>
<pre class="cython line score-0">&#xA0;<span class="">0332</span>: </pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0333</span>:         ax[0].set_title ('Raw Grid')</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(333,0,<span class='error_goto'>__PYX_ERR(0, 333, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_ax, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 333, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_set_title);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 333, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_kp_u_Raw_Grid};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 333, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0334</span>:         ax[1].set_title ('Interpolate Grid')</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(334,0,<span class='error_goto'>__PYX_ERR(0, 334, __pyx_L1_error)</span>)
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_ax, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 334, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_9, __pyx_n_s_set_title);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 334, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    __pyx_t_9 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_9)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_9, __pyx_kp_u_Interpolate_Grid};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 334, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0335</span>: </pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0336</span>:         plt.show ()</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(336,0,<span class='error_goto'>__PYX_ERR(0, 336, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_plt);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 336, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_show);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 336, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, NULL};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 336, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0337</span>: </pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0338</span>:     if not is2d:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(338,0,<span class='error_goto'>__PYX_ERR(0, 338, __pyx_L1_error)</span>)
  __pyx_t_6 = (!__pyx_v_is2d);
  if (__pyx_t_6) {
/* â€¦ */
  }
</pre><pre class="cython line score-13" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0339</span>:         arri = arri[0, :]</pre>
<pre class='cython code score-13 '>  __pyx_slice__5 = <span class='py_c_api'>PySlice_New</span>(Py_None, Py_None, Py_None);<span class='error_goto'> if (unlikely(!__pyx_slice__5)) __PYX_ERR(0, 339, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_slice__5);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_slice__5);
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(339,0,<span class='error_goto'>__PYX_ERR(0, 339, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_arri, __pyx_tuple__6);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 339, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arri, __pyx_t_2);
    __pyx_t_2 = 0;
  __pyx_tuple__6 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_int_0, __pyx_slice__5);<span class='error_goto'> if (unlikely(!__pyx_tuple__6)) __PYX_ERR(0, 339, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__6);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__6);
</pre><pre class="cython line score-0">&#xA0;<span class="">0340</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0341</span>:     return arri</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(341,0,<span class='error_goto'>__PYX_ERR(0, 341, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arri);
  __pyx_r = __pyx_v_arri;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0342</span>: </pre>
<pre class="cython line score-110" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0343</span>: def fillNaN(</pre>
<pre class='cython code score-110 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_7fillNaN(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_6fillNaN, "\n    Fill NaN values in a numpy array, pandas Series, or pandas DataFrame \n    using specified methods for forward filling, backward filling, or both.\n\n    Parameters\n    ----------\n    arr : Union[np.ndarray, pd.Series, pd.DataFrame]\n        The input data containing NaN values to be filled. This can be a numpy\n        array, pandas Series,  or DataFrame expected to contain numeric data\n        types.\n    method : str, optional\n        The method used for filling NaN values. Valid options are:\n        - 'ff': forward fill (default)\n        - 'bf': backward fill\n        - 'both': applies both forward and backward fill sequentially\n\n    Returns\n    -------\n    Union[np.ndarray, pd.Series, pd.DataFrame]\n        The array with NaN values filled according to the specified method. \n        The return type matches the input type (numpy array, Series, or DataFrame).\n\n    Raises\n    ------\n    ValueError\n        If an unsupported filling method is specified.\n\n    Notes\n    -----\n    The function is designed to handle scenarios where NaN values are \n    framed between valid numbersand at the ends of the dataset. Forward fill \n    (``ff``) is preferred when NaNs are at the end of the data, while backward \n    fill (``bf``) is better suited for NaNs at the beginning. The `both` method\n    combines both fills but at a higher computation cost.\n\n    Examples\n    --------\n    &gt;&gt;&gt; import numpy as np \n    &gt;&gt;&gt; from gofast.tools.baseutils import fillNaN \n    &gt;&gt;&gt; arr2d = np.random.randn(7, 3)\n    &gt;&gt;&gt; arr2d[[0, 2, 3, 3], [0, 2, 1, 2]] = np.nan\n    &gt;&gt;&gt; print(arr2d)\n    [[       nan -0.74636104  1.12731613]\n     [0.48178017 -0.18593812 -0.67673698]\n     [0.17143421 -2.15184895        nan]\n     [-0.6839212         nan        nan]]\n    &gt;&gt;&gt; print(fillNaN(arr2d))\n    [[       nan -0.74636104  1.12731613]\n     [0.48178017 -0.18593812 -0.67673698]\n     [0.17143421 -2.15184895 -2.15184895]\n     [-0.6839212 -0.6839212 -0.6839212]]\n    &gt;&gt;&gt; print(f""illNaN(arr2d, 'bf'))\n    [[-0.74636104 -0.74636104  1.12731613]\n     [0.48178017 -0.18593812 -0.67673698]\n     [0.17143421 -2.15184895        nan]\n     [-0.6839212         nan        nan]]\n    &gt;&gt;&gt; print(fillNaN(arr2d, 'both'))\n    [[-0.74636104 -0.74636104  1.12731613]\n     [0.48178017 -0.18593812 -0.67673698]\n     [0.17143421 -2.15184895 -2.15184895]\n     [-0.6839212 -0.6839212 -0.6839212]]\n\n    References\n    ----------\n    Further details can be found at:\n    https://pyquestions.com/most-efficient-way-to-forward-fill-nan-values-in-numpy-array\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_7fillNaN = {"fillNaN", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_7fillNaN, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_6fillNaN};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_7fillNaN(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_arr = 0;
  PyObject *__pyx_v_method = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("fillNaN (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_arr,&amp;__pyx_n_s_method,0};
  PyObject* values[2] = {0,0};
    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject*)((PyObject*)__pyx_n_u_ff)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_arr)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 343, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_method);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 343, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "fillNaN") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 343, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_arr = values[0];
    __pyx_v_method = ((PyObject*)values[1]);
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("fillNaN", 0, 1, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 343, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.fillNaN", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_method), (&amp;PyUnicode_Type), 0, "method", 1))) <span class='error_goto'>__PYX_ERR(0, 345, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_6fillNaN(__pyx_self, __pyx_v_arr, __pyx_v_method);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
static PyObject *__pyx_pf_6gofast_5tools_9baseutils_6fillNaN(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_arr, PyObject *__pyx_v_method) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct__fillNaN *__pyx_cur_scope;
  PyObject *__pyx_v_name_or_columns = NULL;
  PyObject *__pyx_v_ffill = 0;
  PyObject *__pyx_v_bfill = 0;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__10)
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct__fillNaN *)__pyx_tp_new_6gofast_5tools_9baseutils___pyx_scope_struct__fillNaN(__pyx_ptype_6gofast_5tools_9baseutils___pyx_scope_struct__fillNaN, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct__fillNaN *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 343, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  <span class='trace'>__Pyx_TraceCall</span>("fillNaN", __pyx_f[0], 343, 0, <span class='error_goto'>__PYX_ERR(0, 343, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_method);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.fillNaN", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_name_or_columns);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_ffill);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_bfill);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_arr);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_method);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__153 = <span class='py_c_api'>PyTuple_Pack</span>(8, __pyx_n_s_arr, __pyx_n_s_method, __pyx_n_s_name_or_columns, __pyx_n_s_ffill, __pyx_n_s_ffill, __pyx_n_s_bfill, __pyx_n_s_bfill, __pyx_n_s_mask);<span class='error_goto'> if (unlikely(!__pyx_tuple__153)) __PYX_ERR(0, 343, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__153);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__153);
  __pyx_codeobj__10 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(2, 0, 0, 8, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__153, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_fillNaN, 343, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__10)) __PYX_ERR(0, 343, __pyx_L1_error)</span>
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(343,0,<span class='error_goto'>__PYX_ERR(0, 343, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 343, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_arr, __pyx_kp_s_Union_ArrayLike_Series_DataFrame) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 343, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_method, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 343, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_return, __pyx_kp_s_Union_ArrayLike_Series_DataFrame) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 343, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_7fillNaN, 0, __pyx_n_s_fillNaN, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__10));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 343, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_3, __pyx_tuple__154);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_3, __pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_fillNaN, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 343, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_tuple__154 = <span class='py_c_api'>PyTuple_Pack</span>(1, ((PyObject*)__pyx_n_u_ff));<span class='error_goto'> if (unlikely(!__pyx_tuple__154)) __PYX_ERR(0, 343, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__154);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__154);
/* â€¦ */
struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct__fillNaN {
  PyObject_HEAD
  PyObject *__pyx_v_mask;
};

</pre><pre class="cython line score-0">&#xA0;<span class="">0344</span>:     arr: Union[ArrayLike, Series, DataFrame],</pre>
<pre class="cython line score-0">&#xA0;<span class="">0345</span>:     method: str = 'ff'</pre>
<pre class="cython line score-0">&#xA0;<span class="">0346</span>:     ) -&gt; Union[ArrayLike, Series, DataFrame]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0347</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">0348</span>:     Fill NaN values in a numpy array, pandas Series, or pandas DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">0349</span>:     using specified methods for forward filling, backward filling, or both.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0350</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0351</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">0352</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0353</span>:     arr : Union[np.ndarray, pd.Series, pd.DataFrame]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0354</span>:         The input data containing NaN values to be filled. This can be a numpy</pre>
<pre class="cython line score-0">&#xA0;<span class="">0355</span>:         array, pandas Series,  or DataFrame expected to contain numeric data</pre>
<pre class="cython line score-0">&#xA0;<span class="">0356</span>:         types.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0357</span>:     method : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">0358</span>:         The method used for filling NaN values. Valid options are:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0359</span>:         - 'ff': forward fill (default)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0360</span>:         - 'bf': backward fill</pre>
<pre class="cython line score-0">&#xA0;<span class="">0361</span>:         - 'both': applies both forward and backward fill sequentially</pre>
<pre class="cython line score-0">&#xA0;<span class="">0362</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0363</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">0364</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0365</span>:     Union[np.ndarray, pd.Series, pd.DataFrame]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0366</span>:         The array with NaN values filled according to the specified method.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0367</span>:         The return type matches the input type (numpy array, Series, or DataFrame).</pre>
<pre class="cython line score-0">&#xA0;<span class="">0368</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0369</span>:     Raises</pre>
<pre class="cython line score-0">&#xA0;<span class="">0370</span>:     ------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0371</span>:     ValueError</pre>
<pre class="cython line score-0">&#xA0;<span class="">0372</span>:         If an unsupported filling method is specified.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0373</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0374</span>:     Notes</pre>
<pre class="cython line score-0">&#xA0;<span class="">0375</span>:     -----</pre>
<pre class="cython line score-0">&#xA0;<span class="">0376</span>:     The function is designed to handle scenarios where NaN values are</pre>
<pre class="cython line score-0">&#xA0;<span class="">0377</span>:     framed between valid numbersand at the ends of the dataset. Forward fill</pre>
<pre class="cython line score-0">&#xA0;<span class="">0378</span>:     (``ff``) is preferred when NaNs are at the end of the data, while backward</pre>
<pre class="cython line score-0">&#xA0;<span class="">0379</span>:     fill (``bf``) is better suited for NaNs at the beginning. The `both` method</pre>
<pre class="cython line score-0">&#xA0;<span class="">0380</span>:     combines both fills but at a higher computation cost.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0381</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0382</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">0383</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0384</span>:     &gt;&gt;&gt; import numpy as np</pre>
<pre class="cython line score-0">&#xA0;<span class="">0385</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import fillNaN</pre>
<pre class="cython line score-0">&#xA0;<span class="">0386</span>:     &gt;&gt;&gt; arr2d = np.random.randn(7, 3)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0387</span>:     &gt;&gt;&gt; arr2d[[0, 2, 3, 3], [0, 2, 1, 2]] = np.nan</pre>
<pre class="cython line score-0">&#xA0;<span class="">0388</span>:     &gt;&gt;&gt; print(arr2d)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0389</span>:     [[       nan -0.74636104  1.12731613]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0390</span>:      [0.48178017 -0.18593812 -0.67673698]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0391</span>:      [0.17143421 -2.15184895        nan]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0392</span>:      [-0.6839212         nan        nan]]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0393</span>:     &gt;&gt;&gt; print(fillNaN(arr2d))</pre>
<pre class="cython line score-0">&#xA0;<span class="">0394</span>:     [[       nan -0.74636104  1.12731613]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0395</span>:      [0.48178017 -0.18593812 -0.67673698]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0396</span>:      [0.17143421 -2.15184895 -2.15184895]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0397</span>:      [-0.6839212 -0.6839212 -0.6839212]]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0398</span>:     &gt;&gt;&gt; print(fillNaN(arr2d, 'bf'))</pre>
<pre class="cython line score-0">&#xA0;<span class="">0399</span>:     [[-0.74636104 -0.74636104  1.12731613]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0400</span>:      [0.48178017 -0.18593812 -0.67673698]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0401</span>:      [0.17143421 -2.15184895        nan]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0402</span>:      [-0.6839212         nan        nan]]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0403</span>:     &gt;&gt;&gt; print(fillNaN(arr2d, 'both'))</pre>
<pre class="cython line score-0">&#xA0;<span class="">0404</span>:     [[-0.74636104 -0.74636104  1.12731613]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0405</span>:      [0.48178017 -0.18593812 -0.67673698]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0406</span>:      [0.17143421 -2.15184895 -2.15184895]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0407</span>:      [-0.6839212 -0.6839212 -0.6839212]]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0408</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0409</span>:     References</pre>
<pre class="cython line score-0">&#xA0;<span class="">0410</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0411</span>:     Further details can be found at:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0412</span>:     https://pyquestions.com/most-efficient-way-to-forward-fill-nan-values-in-numpy-array</pre>
<pre class="cython line score-0">&#xA0;<span class="">0413</span>:     """</pre>
<pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0414</span>:     name_or_columns=None</pre>
<pre class='cython code score-1 '>  <span class='trace'>__Pyx_TraceLine</span>(414,0,<span class='error_goto'>__PYX_ERR(0, 414, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  __pyx_v_name_or_columns = Py_None;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0415</span>:     if not hasattr(arr, '__array__'):</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(415,0,<span class='error_goto'>__PYX_ERR(0, 415, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_HasAttr</span>(__pyx_v_arr, __pyx_n_u_array_2);<span class='error_goto'> if (unlikely(__pyx_t_1 == ((int)-1))) __PYX_ERR(0, 415, __pyx_L1_error)</span>
  __pyx_t_2 = (!__pyx_t_1);
  if (__pyx_t_2) {
/* â€¦ */
  }
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0416</span>:         arr = np.array(arr)</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(416,0,<span class='error_goto'>__PYX_ERR(0, 416, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 416, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 416, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_4)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_v_arr};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 416, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_3);
    __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0417</span>: </pre>
<pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0418</span>:     arr = _handle_non_numeric(arr, action ='fill missing values NaN')</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(418,0,<span class='error_goto'>__PYX_ERR(0, 418, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_handle_non_numeric);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 418, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 418, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arr);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_v_arr)) <span class='error_goto'>__PYX_ERR(0, 418, __pyx_L1_error)</span>;
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 418, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_action, __pyx_kp_u_fill_missing_values_NaN) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 418, __pyx_L1_error)</span>
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_5, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 418, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_7);
  __pyx_t_7 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0419</span>: </pre>
<pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0420</span>:     if isinstance (arr, (pd.Series, pd.DataFrame)):</pre>
<pre class='cython code score-22 '>  <span class='trace'>__Pyx_TraceLine</span>(420,0,<span class='error_goto'>__PYX_ERR(0, 420, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_7, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 420, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_7, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 420, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_7, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 420, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_7, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 420, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  __pyx_t_1 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_arr, __pyx_t_4); 
  if (!__pyx_t_1) {
  } else {
    __pyx_t_2 = __pyx_t_1;
    goto __pyx_L5_bool_binop_done;
  }
  __pyx_t_1 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_arr, __pyx_t_5); 
  __pyx_t_2 = __pyx_t_1;
  __pyx_L5_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (__pyx_t_2) {
/* â€¦ */
  }
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0421</span>:         name_or_columns = arr.name if isinstance (arr, pd.Series) else arr.columns</pre>
<pre class='cython code score-16 '>    <span class='trace'>__Pyx_TraceLine</span>(421,0,<span class='error_goto'>__PYX_ERR(0, 421, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 421, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 421, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_2 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_arr, __pyx_t_7);<span class='error_goto'> if (unlikely(__pyx_t_2 == ((int)-1))) __PYX_ERR(0, 421, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    if (__pyx_t_2) {
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_arr, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 421, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      __pyx_t_4 = __pyx_t_7;
      __pyx_t_7 = 0;
    } else {
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_arr, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 421, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      __pyx_t_4 = __pyx_t_7;
      __pyx_t_7 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_name_or_columns, __pyx_t_4);
    __pyx_t_4 = 0;
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0422</span>:         arr = arr.to_numpy() # get numpy array</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(422,0,<span class='error_goto'>__PYX_ERR(0, 422, __pyx_L1_error)</span>)
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_arr, __pyx_n_s_to_numpy);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 422, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_5 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_5, NULL};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 422, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_4);
    __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0423</span>: </pre>
<pre class="cython line score-55" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0424</span>:     def ffill (arr):</pre>
<pre class='cython code score-55 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_7fillNaN_1ffill(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_7fillNaN_ffill, " Forward fill.");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_7fillNaN_1ffill = {"ffill", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_7fillNaN_1ffill, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_7fillNaN_ffill};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_7fillNaN_1ffill(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_arr = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("ffill (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_arr,0};
  PyObject* values[1] = {0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_arr)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 424, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "ffill") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 424, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 1)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
    }
    __pyx_v_arr = values[0];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("ffill", 1, 1, 1, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 424, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.fillNaN.ffill", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_7fillNaN_ffill(__pyx_self, __pyx_v_arr);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_7fillNaN_ffill(PyObject *__pyx_self, PyObject *__pyx_v_arr) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct__fillNaN *__pyx_cur_scope;
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct__fillNaN *__pyx_outer_scope;
  PyObject *__pyx_v_idx = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_outer_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct__fillNaN *) <span class='pyx_c_api'>__Pyx_CyFunction_GetClosure</span>(__pyx_self);
  __pyx_cur_scope = __pyx_outer_scope;
  <span class='trace'>__Pyx_TraceCall</span>("ffill", __pyx_f[0], 424, 0, <span class='error_goto'>__PYX_ERR(0, 424, __pyx_L1_error)</span>);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.fillNaN.ffill", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_idx);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__11 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_n_s_arr, __pyx_n_s_idx);<span class='error_goto'> if (unlikely(!__pyx_tuple__11)) __PYX_ERR(0, 424, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__11);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__11);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(424,0,<span class='error_goto'>__PYX_ERR(0, 424, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_7fillNaN_1ffill, 0, __pyx_n_s_fillNaN_locals_ffill, ((PyObject*)__pyx_cur_scope), __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__12));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 424, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_v_ffill = __pyx_t_4;
  __pyx_t_4 = 0;
  __pyx_codeobj__12 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(1, 0, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__11, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_ffill, 424, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__12)) __PYX_ERR(0, 424, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0425</span>:         """ Forward fill."""</pre>
<pre class="cython line score-55" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0426</span>:         idx = np.where (~mask, np.arange(mask.shape[1]), 0)</pre>
<pre class='cython code score-55 '>  <span class='trace'>__Pyx_TraceLine</span>(426,0,<span class='error_goto'>__PYX_ERR(0, 426, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 426, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_where);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 426, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_mask)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("mask"); <span class='error_goto'>__PYX_ERR(0, 426, __pyx_L1_error)</span> }
  __pyx_t_2 = <span class='py_c_api'>PyNumber_Invert</span>(__pyx_cur_scope-&gt;__pyx_v_mask);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 426, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 426, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_arange);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 426, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_mask)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("mask"); <span class='error_goto'>__PYX_ERR(0, 426, __pyx_L1_error)</span> }
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_cur_scope-&gt;__pyx_v_mask, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 426, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_5, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 426, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_5 = NULL;
  __pyx_t_8 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
    __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
    if (likely(__pyx_t_5)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
      __pyx_t_8 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_t_7};
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 426, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  }
  __pyx_t_6 = NULL;
  __pyx_t_8 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_6)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_8 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[4] = {__pyx_t_6, __pyx_t_2, __pyx_t_4, __pyx_int_0};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_8, 3+__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 426, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_v_idx = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-34" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0427</span>:         np.maximum.accumulate (idx, axis =1 , out =idx )</pre>
<pre class='cython code score-34 '>  <span class='trace'>__Pyx_TraceLine</span>(427,0,<span class='error_goto'>__PYX_ERR(0, 427, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 427, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_maximum);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 427, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_accumulate);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 427, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 427, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_idx);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_idx);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_idx)) <span class='error_goto'>__PYX_ERR(0, 427, __pyx_L1_error)</span>;
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 427, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_axis, __pyx_int_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 427, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_out, __pyx_v_idx) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 427, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_3, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 427, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-47" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0428</span>:         return arr[np.arange(idx.shape[0])[:, None], idx ]</pre>
<pre class='cython code score-47 '>  <span class='trace'>__Pyx_TraceLine</span>(428,0,<span class='error_goto'>__PYX_ERR(0, 428, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 428, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_arange);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 428, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_idx, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 428, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_4, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 428, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = NULL;
  __pyx_t_8 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_4)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_8 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_t_1};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 428, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_t_2, __pyx_tuple__7);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 428, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 428, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 428, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_idx);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_idx);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_v_idx)) <span class='error_goto'>__PYX_ERR(0, 428, __pyx_L1_error)</span>;
  __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_arr, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 428, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_r = __pyx_t_3;
  __pyx_t_3 = 0;
  goto __pyx_L0;
/* â€¦ */
  __pyx_tuple__7 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_slice__5, Py_None);<span class='error_goto'> if (unlikely(!__pyx_tuple__7)) __PYX_ERR(0, 428, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__7);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__7);
</pre><pre class="cython line score-0">&#xA0;<span class="">0429</span>: </pre>
<pre class="cython line score-50" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0430</span>:     def bfill (arr):</pre>
<pre class='cython code score-50 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_7fillNaN_3bfill(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_7fillNaN_2bfill, " Backward fill ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_7fillNaN_3bfill = {"bfill", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_7fillNaN_3bfill, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_7fillNaN_2bfill};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_7fillNaN_3bfill(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_arr = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("bfill (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_arr,0};
  PyObject* values[1] = {0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_arr)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 430, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "bfill") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 430, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 1)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
    }
    __pyx_v_arr = values[0];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("bfill", 1, 1, 1, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 430, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.fillNaN.bfill", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_7fillNaN_2bfill(__pyx_self, __pyx_v_arr);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_7fillNaN_2bfill(PyObject *__pyx_self, PyObject *__pyx_v_arr) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct__fillNaN *__pyx_cur_scope;
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct__fillNaN *__pyx_outer_scope;
  PyObject *__pyx_v_idx = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_outer_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct__fillNaN *) <span class='pyx_c_api'>__Pyx_CyFunction_GetClosure</span>(__pyx_self);
  __pyx_cur_scope = __pyx_outer_scope;
  <span class='trace'>__Pyx_TraceCall</span>("bfill", __pyx_f[0], 430, 0, <span class='error_goto'>__PYX_ERR(0, 430, __pyx_L1_error)</span>);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.fillNaN.bfill", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_idx);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(430,0,<span class='error_goto'>__PYX_ERR(0, 430, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_7fillNaN_3bfill, 0, __pyx_n_s_fillNaN_locals_bfill, ((PyObject*)__pyx_cur_scope), __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__13));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 430, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_v_bfill = __pyx_t_4;
  __pyx_t_4 = 0;
/* â€¦ */
  __pyx_codeobj__13 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(1, 0, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__11, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_bfill, 430, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__13)) __PYX_ERR(0, 430, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0431</span>:         """ Backward fill """</pre>
<pre class="cython line score-66" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0432</span>:         idx = np.where (~mask, np.arange(mask.shape[1]) , mask.shape[1]-1)</pre>
<pre class='cython code score-66 '>  <span class='trace'>__Pyx_TraceLine</span>(432,0,<span class='error_goto'>__PYX_ERR(0, 432, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 432, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_where);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 432, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_mask)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("mask"); <span class='error_goto'>__PYX_ERR(0, 432, __pyx_L1_error)</span> }
  __pyx_t_2 = <span class='py_c_api'>PyNumber_Invert</span>(__pyx_cur_scope-&gt;__pyx_v_mask);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 432, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 432, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_arange);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 432, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_mask)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("mask"); <span class='error_goto'>__PYX_ERR(0, 432, __pyx_L1_error)</span> }
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_cur_scope-&gt;__pyx_v_mask, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 432, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_5, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 432, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_5 = NULL;
  __pyx_t_8 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
    __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
    if (likely(__pyx_t_5)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
      __pyx_t_8 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_t_7};
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 432, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  }
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_mask)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("mask"); <span class='error_goto'>__PYX_ERR(0, 432, __pyx_L1_error)</span> }
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_cur_scope-&gt;__pyx_v_mask, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 432, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_6, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 432, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyInt_SubtractObjC</span>(__pyx_t_7, __pyx_int_1, 1, 0, 0);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 432, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  __pyx_t_7 = NULL;
  __pyx_t_8 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_7)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_8 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[4] = {__pyx_t_7, __pyx_t_2, __pyx_t_4, __pyx_t_6};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_8, 3+__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 432, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_v_idx = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-43" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0433</span>:         idx = np.minimum.accumulate(idx[:, ::-1], axis =1)[:, ::-1]</pre>
<pre class='cython code score-43 '>  <span class='trace'>__Pyx_TraceLine</span>(433,0,<span class='error_goto'>__PYX_ERR(0, 433, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 433, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_minimum);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 433, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_accumulate);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 433, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
/* â€¦ */
  __pyx_slice__8 = <span class='py_c_api'>PySlice_New</span>(Py_None, Py_None, __pyx_int_neg_1);<span class='error_goto'> if (unlikely(!__pyx_slice__8)) __PYX_ERR(0, 433, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_slice__8);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_slice__8);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_idx, __pyx_tuple__9);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 433, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 433, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 433, __pyx_L1_error)</span>;
  __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 433, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_axis, __pyx_int_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 433, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_6, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 433, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_t_4, __pyx_tuple__9);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 433, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_idx, __pyx_t_3);
  __pyx_t_3 = 0;
  __pyx_tuple__9 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_slice__5, __pyx_slice__8);<span class='error_goto'> if (unlikely(!__pyx_tuple__9)) __PYX_ERR(0, 433, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__9);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__9);
</pre><pre class="cython line score-42" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0434</span>:         return arr [np.arange(idx.shape [0])[:, None], idx ]</pre>
<pre class='cython code score-42 '>  <span class='trace'>__Pyx_TraceLine</span>(434,0,<span class='error_goto'>__PYX_ERR(0, 434, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 434, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_arange);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 434, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_idx, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 434, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_4, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 434, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = NULL;
  __pyx_t_8 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
    __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
    if (likely(__pyx_t_4)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
      __pyx_t_8 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_t_1};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 434, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  }
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_t_3, __pyx_tuple__7);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 434, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 434, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_6);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 434, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_idx);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_idx);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_v_idx)) <span class='error_goto'>__PYX_ERR(0, 434, __pyx_L1_error)</span>;
  __pyx_t_6 = 0;
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_arr, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 434, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_r = __pyx_t_6;
  __pyx_t_6 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0435</span>: </pre>
<pre class="cython line score-44" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0436</span>:     method= str(method).lower().strip()</pre>
<pre class='cython code score-44 '>  <span class='trace'>__Pyx_TraceLine</span>(436,0,<span class='error_goto'>__PYX_ERR(0, 436, __pyx_L1_error)</span>)
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Str</span>(__pyx_v_method);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 436, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_lower);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 436, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_5 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_5)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_5, NULL};
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(!__pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 436, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_7, __pyx_n_s_strip);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 436, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  __pyx_t_7 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_7)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_7, NULL};
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 436, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  if (!(likely(<span class='py_c_api'>PyUnicode_CheckExact</span>(__pyx_t_4))||((__pyx_t_4) == Py_None) || <span class='pyx_c_api'>__Pyx_RaiseUnexpectedTypeError</span>("unicode", __pyx_t_4))) <span class='error_goto'>__PYX_ERR(0, 436, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_method, ((PyObject*)__pyx_t_4));
  __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0437</span>: </pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0438</span>:     if arr.ndim ==1:</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(438,0,<span class='error_goto'>__PYX_ERR(0, 438, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_arr, __pyx_n_s_ndim);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 438, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_2 = (<span class='pyx_c_api'>__Pyx_PyInt_BoolEqObjC</span>(__pyx_t_4, __pyx_int_1, 1, 0)); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 438, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (__pyx_t_2) {
/* â€¦ */
  }
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0439</span>:         arr = reshape(arr, axis=1)</pre>
<pre class='cython code score-23 '>    <span class='trace'>__Pyx_TraceLine</span>(439,0,<span class='error_goto'>__PYX_ERR(0, 439, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_reshape);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 439, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 439, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arr);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_arr)) <span class='error_goto'>__PYX_ERR(0, 439, __pyx_L1_error)</span>;
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 439, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_7, __pyx_n_s_axis, __pyx_int_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 439, __pyx_L1_error)</span>
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_4, __pyx_t_3, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 439, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_5);
    __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0440</span>: </pre>
<pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0441</span>:     if method  in ('backward', 'bf',  'bwd'):</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(441,0,<span class='error_goto'>__PYX_ERR(0, 441, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_method);
  __pyx_t_8 = __pyx_v_method;
  __pyx_t_1 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_8, __pyx_n_u_backward, Py_EQ)); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 441, __pyx_L1_error)</span>
  if (!__pyx_t_1) {
  } else {
    __pyx_t_2 = __pyx_t_1;
    goto __pyx_L9_bool_binop_done;
  }
  __pyx_t_1 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_8, __pyx_n_u_bf, Py_EQ)); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 441, __pyx_L1_error)</span>
  if (!__pyx_t_1) {
  } else {
    __pyx_t_2 = __pyx_t_1;
    goto __pyx_L9_bool_binop_done;
  }
  __pyx_t_1 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_8, __pyx_n_u_bwd, Py_EQ)); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 441, __pyx_L1_error)</span>
  __pyx_t_2 = __pyx_t_1;
  __pyx_L9_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
  __pyx_t_1 = __pyx_t_2;
  if (__pyx_t_1) {
/* â€¦ */
    goto __pyx_L8;
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0442</span>:         method = 'bf'</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(442,0,<span class='error_goto'>__PYX_ERR(0, 442, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_bf);
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_method, __pyx_n_u_bf);
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0443</span>:     elif method in ('forward', 'ff', 'fwd'):</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(443,0,<span class='error_goto'>__PYX_ERR(0, 443, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_method);
  __pyx_t_8 = __pyx_v_method;
  __pyx_t_2 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_8, __pyx_n_u_forward, Py_EQ)); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 443, __pyx_L1_error)</span>
  if (!__pyx_t_2) {
  } else {
    __pyx_t_1 = __pyx_t_2;
    goto __pyx_L12_bool_binop_done;
  }
  __pyx_t_2 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_8, __pyx_n_u_ff, Py_EQ)); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 443, __pyx_L1_error)</span>
  if (!__pyx_t_2) {
  } else {
    __pyx_t_1 = __pyx_t_2;
    goto __pyx_L12_bool_binop_done;
  }
  __pyx_t_2 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_8, __pyx_n_u_fwd, Py_EQ)); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 443, __pyx_L1_error)</span>
  __pyx_t_1 = __pyx_t_2;
  __pyx_L12_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
  __pyx_t_2 = __pyx_t_1;
  if (__pyx_t_2) {
/* â€¦ */
    goto __pyx_L8;
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0444</span>:         method= 'ff'</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(444,0,<span class='error_goto'>__PYX_ERR(0, 444, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_ff);
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_method, __pyx_n_u_ff);
</pre><pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0445</span>:     elif method in ('both', 'ffbf', 'fbwf', 'bff', 'full'):</pre>
<pre class='cython code score-12 '>  <span class='trace'>__Pyx_TraceLine</span>(445,0,<span class='error_goto'>__PYX_ERR(0, 445, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_method);
  __pyx_t_8 = __pyx_v_method;
  __pyx_t_1 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_8, __pyx_n_u_both_2, Py_EQ)); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 445, __pyx_L1_error)</span>
  if (!__pyx_t_1) {
  } else {
    __pyx_t_2 = __pyx_t_1;
    goto __pyx_L15_bool_binop_done;
  }
  __pyx_t_1 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_8, __pyx_n_u_ffbf, Py_EQ)); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 445, __pyx_L1_error)</span>
  if (!__pyx_t_1) {
  } else {
    __pyx_t_2 = __pyx_t_1;
    goto __pyx_L15_bool_binop_done;
  }
  __pyx_t_1 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_8, __pyx_n_u_fbwf, Py_EQ)); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 445, __pyx_L1_error)</span>
  if (!__pyx_t_1) {
  } else {
    __pyx_t_2 = __pyx_t_1;
    goto __pyx_L15_bool_binop_done;
  }
  __pyx_t_1 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_8, __pyx_n_u_bff, Py_EQ)); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 445, __pyx_L1_error)</span>
  if (!__pyx_t_1) {
  } else {
    __pyx_t_2 = __pyx_t_1;
    goto __pyx_L15_bool_binop_done;
  }
  __pyx_t_1 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_8, __pyx_n_u_full, Py_EQ)); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 445, __pyx_L1_error)</span>
  __pyx_t_2 = __pyx_t_1;
  __pyx_L15_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
  __pyx_t_1 = __pyx_t_2;
  if (__pyx_t_1) {
/* â€¦ */
  }
  __pyx_L8:;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0446</span>:         method ='both'</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(446,0,<span class='error_goto'>__PYX_ERR(0, 446, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_both_2);
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_method, __pyx_n_u_both_2);
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0447</span>:     if method not in ('bf', 'ff', 'both'):</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(447,0,<span class='error_goto'>__PYX_ERR(0, 447, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_method);
  __pyx_t_8 = __pyx_v_method;
  __pyx_t_2 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_8, __pyx_n_u_bf, Py_NE)); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 447, __pyx_L1_error)</span>
  if (__pyx_t_2) {
  } else {
    __pyx_t_1 = __pyx_t_2;
    goto __pyx_L21_bool_binop_done;
  }
  __pyx_t_2 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_8, __pyx_n_u_ff, Py_NE)); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 447, __pyx_L1_error)</span>
  if (__pyx_t_2) {
  } else {
    __pyx_t_1 = __pyx_t_2;
    goto __pyx_L21_bool_binop_done;
  }
  __pyx_t_2 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_8, __pyx_n_u_both_2, Py_NE)); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 447, __pyx_L1_error)</span>
  __pyx_t_1 = __pyx_t_2;
  __pyx_L21_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
  __pyx_t_2 = __pyx_t_1;
  if (unlikely(__pyx_t_2)) {
/* â€¦ */
  }
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0448</span>:         raise ValueError ("Expect a backward &lt;'bf'&gt;, forward &lt;'ff'&gt; fill "</pre>
<pre class='cython code score-9 '>    <span class='trace'>__Pyx_TraceLine</span>(448,0,<span class='error_goto'>__PYX_ERR(0, 448, __pyx_L1_error)</span>)
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_kp_u_Expect_a_backward_bf_forward_ff, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 448, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 448, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_5, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='error_goto'>__PYX_ERR(0, 448, __pyx_L1_error)</span>
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0449</span>:                           f" or both &lt;'bff'&gt; not {method!r}")</pre>
<pre class='cython code score-7 '>    <span class='trace'>__Pyx_TraceLine</span>(449,0,<span class='error_goto'>__PYX_ERR(0, 449, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_v_method), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 449, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0450</span>:     mask = np.isnan (arr )</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(450,0,<span class='error_goto'>__PYX_ERR(0, 450, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_7, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 450, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_7, __pyx_n_s_isnan);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 450, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  __pyx_t_7 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_7)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_7, __pyx_v_arr};
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 450, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_5);
  __pyx_cur_scope-&gt;__pyx_v_mask = __pyx_t_5;
  __pyx_t_5 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0451</span>:     if method =='both':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(451,0,<span class='error_goto'>__PYX_ERR(0, 451, __pyx_L1_error)</span>)
  __pyx_t_2 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_method, __pyx_n_u_both_2, Py_EQ)); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 451, __pyx_L1_error)</span>
  if (__pyx_t_2) {
/* â€¦ */
  }
</pre><pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0452</span>:         arr = ffill(arr) ;</pre>
<pre class='cython code score-1 '>    <span class='trace'>__Pyx_TraceLine</span>(452,0,<span class='error_goto'>__PYX_ERR(0, 452, __pyx_L1_error)</span>)
    __pyx_t_5 = __pyx_pf_6gofast_5tools_9baseutils_7fillNaN_ffill(__pyx_v_ffill, __pyx_v_arr);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 452, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_5);
    __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0453</span>:         #mask = np.isnan (arr)</pre>
<pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0454</span>:         arr = bfill(arr)</pre>
<pre class='cython code score-1 '>    <span class='trace'>__Pyx_TraceLine</span>(454,0,<span class='error_goto'>__PYX_ERR(0, 454, __pyx_L1_error)</span>)
    __pyx_t_5 = __pyx_pf_6gofast_5tools_9baseutils_7fillNaN_2bfill(__pyx_v_bfill, __pyx_v_arr);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 454, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_5);
    __pyx_t_5 = 0;
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0455</span>:     if method in ('bf', 'ff'):</pre>
<pre class='cython code score-6 '>  <span class='trace'>__Pyx_TraceLine</span>(455,0,<span class='error_goto'>__PYX_ERR(0, 455, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_method);
  __pyx_t_8 = __pyx_v_method;
  __pyx_t_1 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_8, __pyx_n_u_bf, Py_EQ)); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 455, __pyx_L1_error)</span>
  if (!__pyx_t_1) {
  } else {
    __pyx_t_2 = __pyx_t_1;
    goto __pyx_L26_bool_binop_done;
  }
  __pyx_t_1 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_8, __pyx_n_u_ff, Py_EQ)); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 455, __pyx_L1_error)</span>
  __pyx_t_2 = __pyx_t_1;
  __pyx_L26_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
  __pyx_t_1 = __pyx_t_2;
  if (__pyx_t_1) {
/* â€¦ */
  }
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0456</span>:         arr = ffill(arr) if method =='ff' else bfill(arr)</pre>
<pre class='cython code score-3 '>    <span class='trace'>__Pyx_TraceLine</span>(456,0,<span class='error_goto'>__PYX_ERR(0, 456, __pyx_L1_error)</span>)
    __pyx_t_1 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_method, __pyx_n_u_ff, Py_EQ)); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 456, __pyx_L1_error)</span>
    if (__pyx_t_1) {
      __pyx_t_3 = __pyx_pf_6gofast_5tools_9baseutils_7fillNaN_ffill(__pyx_v_ffill, __pyx_v_arr);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 456, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_5 = __pyx_t_3;
      __pyx_t_3 = 0;
    } else {
      __pyx_t_3 = __pyx_pf_6gofast_5tools_9baseutils_7fillNaN_2bfill(__pyx_v_bfill, __pyx_v_arr);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 456, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_5 = __pyx_t_3;
      __pyx_t_3 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_5);
    __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0457</span>: </pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0458</span>:     if name_or_columns is not None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(458,0,<span class='error_goto'>__PYX_ERR(0, 458, __pyx_L1_error)</span>)
  __pyx_t_1 = (__pyx_v_name_or_columns != Py_None);
  if (__pyx_t_1) {
/* â€¦ */
  }
</pre><pre class="cython line score-40" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0459</span>:         arr = pd.Series ( arr.squeeze(), name = name_or_columns) if isinstance (</pre>
<pre class='cython code score-40 '>      <span class='trace'>__Pyx_TraceLine</span>(459,0,<span class='error_goto'>__PYX_ERR(0, 459, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 459, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 459, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_arr, __pyx_n_s_squeeze);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 459, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_9 = NULL;
      __pyx_t_6 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
        __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
        if (likely(__pyx_t_9)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
          __pyx_t_6 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_9, NULL};
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 459, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      }
      __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 459, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 459, __pyx_L1_error)</span>;
      __pyx_t_3 = 0;
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 459, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_name, __pyx_v_name_or_columns) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 459, __pyx_L1_error)</span>
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_7, __pyx_t_4, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 459, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_5 = __pyx_t_9;
      __pyx_t_9 = 0;
    } else {
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0460</span>:             name_or_columns, str ) else pd.DataFrame(arr, columns = name_or_columns)</pre>
<pre class='cython code score-31 '>    <span class='trace'>__Pyx_TraceLine</span>(460,0,<span class='error_goto'>__PYX_ERR(0, 460, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_name_or_columns); 
    if (__pyx_t_1) {
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(460,0,<span class='error_goto'>__PYX_ERR(0, 460, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_9, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 460, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_9, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 460, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_9 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 460, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arr);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_9, 0, __pyx_v_arr)) <span class='error_goto'>__PYX_ERR(0, 460, __pyx_L1_error)</span>;
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 460, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_columns, __pyx_v_name_or_columns) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 460, __pyx_L1_error)</span>
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_9, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 460, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_5 = __pyx_t_7;
      __pyx_t_7 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_5);
    __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0461</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0462</span>:     return arr</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(462,0,<span class='error_goto'>__PYX_ERR(0, 462, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
  __pyx_r = __pyx_v_arr;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0463</span>: </pre>
<pre class="cython line score-53" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0464</span>: def convert_array_dimensions(</pre>
<pre class='cython code score-53 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_9convert_array_dimensions(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_8convert_array_dimensions, "\n    Convert arrays between 1D, 2D, and higher dimensions. \n    \n    Function dynamically adjusts the dimensions of the input arrays based on \n    the target dimension specified and can reshape arrays according to a new \n    shape.\n\n    Parameters:\n    -----------\n    *arrays : tuple of array-like\n        Variable number of array-like structures (lists, tuples, np.ndarray).\n    target_dim : int, optional\n        The target dimension to which the arrays should be converted. Options \n        are primarily 1 or 2.\n        Default is 1, which flattens arrays to 1D.\n    new_shape : tuple of ints, optional\n        The new shape for the array when converting to 2D or reshaping a\n        higher-dimensional array.\n        If None, defaults are used (e.g., flattening to 1D or reshaping to \n                                    one row per array in 2D).\n    orient : str or int, optional\n        Specifies the orientation for reshaping the array into 2D when no \n        new_shape is provided. \n        Accepts 'row' or 0 to reshape the array into a single row \n        (default behavior), and 'column' or 1 \n        to reshape the array into a single column. This parameter determines \n        the structure of the 2D array:\n        - 'row' or 0: The array is reshaped to have one row with multiple \n          columns.\n        - 'column' or 1: The array is reshaped to have one column with \n           multiple rows.\n        If an invalid option is provided, a ValueError is raised.\n\n    Returns:\n    --------\n    list\n        A list of arrays converted to the specified target dimension.\n\n    Raises:\n    -------\n    ValueError\n        If the target_dim is not supported or if conversion is not feasible \n        for the given dimensions.\n        \n    Examples\n    --------\n    &gt;&gt;&gt; from gofast.tools.baseutils import convert_array_dimensions\n    &gt;&gt;&gt; import numpy as np\n\n    # Example 1: Convert a 1D array to a 2D array with a specific shape\n    &gt;&gt;&gt;"" array_1d = np.array([1, 2, 3, 4, 5])\n    &gt;&gt;&gt; convert_array_dimensions(array_1d, target_dim=2, new_shape=(5, 1))\n    [array([[1],\n            [2],\n            [3],\n            [4],\n            [5]])]\n\n    # Example 2: Flatten a 2D array to 1D\n    &gt;&gt;&gt; array_2d = np.array([[1, 2, 3], [4, 5, 6]])\n    &gt;&gt;&gt; convert_array_dimensions(array_2d, target_dim=1)\n    [array([1, 2, 3, 4, 5, 6])]\n\n    # Example 3: Convert a 1D array to a default 2D array (one row)\n    &gt;&gt;&gt; array_1d = np.array([7, 8, 9, 10])\n    &gt;&gt;&gt; convert_array_dimensions(array_1d, target_dim=2)\n    [array([[ 7,  8,  9, 10]])]\n\n    # Example 4: Attempt to reshape a 1D array into an \n    # incompatible 2D shape (should raise an error)\n    &gt;&gt;&gt; array_1d = np.array([1, 2, 3, 4, 5, 6])\n    &gt;&gt;&gt; convert_array_dimensions(array_1d, target_dim=2, new_shape=(2, 4))\n    Traceback (most recent call last):\n      ...\n    ValueError: Cannot reshape array of size 6 into shape (2, 4)\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_9convert_array_dimensions = {"convert_array_dimensions", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_9convert_array_dimensions, METH_VARARGS|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_8convert_array_dimensions};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_9convert_array_dimensions(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_target_dim = 0;
  PyObject *__pyx_v_new_shape = 0;
  PyObject *__pyx_v_orient = 0;
  PyObject *__pyx_v_arrays = 0;
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("convert_array_dimensions (wrapper)", 0);
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_VARARGS</span>(__pyx_args, __pyx_nargs);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_args);
  __pyx_v_arrays = __pyx_args;
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_target_dim,&amp;__pyx_n_s_new_shape,&amp;__pyx_n_s_orient,0};
  PyObject* values[3] = {0,0,0};
    values[0] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_VARARGS</span>(((PyObject *)((PyObject *)__pyx_int_1)));
/* â€¦ */
  /* function exit code */
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_arrays);
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_VARARGS</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_8convert_array_dimensions(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_target_dim, PyObject *__pyx_v_new_shape, PyObject *__pyx_v_orient, PyObject *__pyx_v_arrays) {
  PyObject *__pyx_v_converted_arrays = NULL;
  PyObject *__pyx_v_arr = NULL;
  PyObject *__pyx_v_array = NULL;
  PyObject *__pyx_v_e = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__14)
  <span class='trace'>__Pyx_TraceCall</span>("convert_array_dimensions", __pyx_f[0], 464, 0, <span class='error_goto'>__PYX_ERR(0, 464, __pyx_L1_error)</span>);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_15);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_16);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.convert_array_dimensions", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_converted_arrays);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_arr);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_array);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_e);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__155 = <span class='py_c_api'>PyTuple_Pack</span>(8, __pyx_n_s_target_dim, __pyx_n_s_new_shape, __pyx_n_s_orient, __pyx_n_s_arrays, __pyx_n_s_converted_arrays, __pyx_n_s_arr, __pyx_n_s_array, __pyx_n_s_e);<span class='error_goto'> if (unlikely(!__pyx_tuple__155)) __PYX_ERR(0, 464, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__155);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__155);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(464,0,<span class='error_goto'>__PYX_ERR(0, 464, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 464, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_target_dim, ((PyObject *)__pyx_int_1)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 464, __pyx_L1_error)</span>
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(464,0,<span class='error_goto'>__PYX_ERR(0, 464, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_9convert_array_dimensions, 0, __pyx_n_s_convert_array_dimensions, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__14));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 464, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsKwDict</span>(__pyx_t_2, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_convert_array_dimensions, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 464, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_codeobj__14 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(0, 0, 3, 8, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARARGS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__155, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_convert_array_dimensions, 464, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__14)) __PYX_ERR(0, 464, __pyx_L1_error)</span>
</pre><pre class="cython line score-34" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0465</span>:         *arrays, target_dim=1, new_shape=None, orient='row'):</pre>
<pre class='cython code score-34 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_VARARGS</span>(((PyObject *)Py_None));
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_VARARGS</span>(((PyObject *)((PyObject*)__pyx_n_u_row)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        default:
        case  0: break;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_VARARGS</span>(__pyx_kwds);
      if (kw_args &gt; 0 &amp;&amp; likely(kw_args &lt;= 3)) {
        Py_ssize_t index;
        for (index = 0; index &lt; 3 &amp;&amp; kw_args &gt; 0; index++) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_VARARGS</span>(__pyx_kwds, __pyx_kwvalues, *__pyx_pyargnames[index]);
          if (value) { values[index] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_VARARGS</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 464, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, 0, "convert_array_dimensions") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 464, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs &lt; 0)) {
      goto __pyx_L5_argtuple_error;
    } else {
    }
    __pyx_v_target_dim = values[0];
    __pyx_v_new_shape = values[1];
    __pyx_v_orient = values[2];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("convert_array_dimensions", 0, 0, 0, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 464, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_VARARGS</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_arrays); __pyx_v_arrays = 0;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.convert_array_dimensions", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_8convert_array_dimensions(__pyx_self, __pyx_v_target_dim, __pyx_v_new_shape, __pyx_v_orient, __pyx_v_arrays);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(465,0,<span class='error_goto'>__PYX_ERR(0, 465, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_new_shape, Py_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 464, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_orient, ((PyObject*)__pyx_n_u_row)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 464, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0466</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">0467</span>:     Convert arrays between 1D, 2D, and higher dimensions.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0468</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0469</span>:     Function dynamically adjusts the dimensions of the input arrays based on</pre>
<pre class="cython line score-0">&#xA0;<span class="">0470</span>:     the target dimension specified and can reshape arrays according to a new</pre>
<pre class="cython line score-0">&#xA0;<span class="">0471</span>:     shape.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0472</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0473</span>:     Parameters:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0474</span>:     -----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0475</span>:     *arrays : tuple of array-like</pre>
<pre class="cython line score-0">&#xA0;<span class="">0476</span>:         Variable number of array-like structures (lists, tuples, np.ndarray).</pre>
<pre class="cython line score-0">&#xA0;<span class="">0477</span>:     target_dim : int, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">0478</span>:         The target dimension to which the arrays should be converted. Options</pre>
<pre class="cython line score-0">&#xA0;<span class="">0479</span>:         are primarily 1 or 2.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0480</span>:         Default is 1, which flattens arrays to 1D.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0481</span>:     new_shape : tuple of ints, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">0482</span>:         The new shape for the array when converting to 2D or reshaping a</pre>
<pre class="cython line score-0">&#xA0;<span class="">0483</span>:         higher-dimensional array.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0484</span>:         If None, defaults are used (e.g., flattening to 1D or reshaping to</pre>
<pre class="cython line score-0">&#xA0;<span class="">0485</span>:                                     one row per array in 2D).</pre>
<pre class="cython line score-0">&#xA0;<span class="">0486</span>:     orient : str or int, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">0487</span>:         Specifies the orientation for reshaping the array into 2D when no</pre>
<pre class="cython line score-0">&#xA0;<span class="">0488</span>:         new_shape is provided.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0489</span>:         Accepts 'row' or 0 to reshape the array into a single row</pre>
<pre class="cython line score-0">&#xA0;<span class="">0490</span>:         (default behavior), and 'column' or 1</pre>
<pre class="cython line score-0">&#xA0;<span class="">0491</span>:         to reshape the array into a single column. This parameter determines</pre>
<pre class="cython line score-0">&#xA0;<span class="">0492</span>:         the structure of the 2D array:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0493</span>:         - 'row' or 0: The array is reshaped to have one row with multiple</pre>
<pre class="cython line score-0">&#xA0;<span class="">0494</span>:           columns.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0495</span>:         - 'column' or 1: The array is reshaped to have one column with</pre>
<pre class="cython line score-0">&#xA0;<span class="">0496</span>:            multiple rows.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0497</span>:         If an invalid option is provided, a ValueError is raised.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0498</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0499</span>:     Returns:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0500</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0501</span>:     list</pre>
<pre class="cython line score-0">&#xA0;<span class="">0502</span>:         A list of arrays converted to the specified target dimension.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0503</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0504</span>:     Raises:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0505</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0506</span>:     ValueError</pre>
<pre class="cython line score-0">&#xA0;<span class="">0507</span>:         If the target_dim is not supported or if conversion is not feasible</pre>
<pre class="cython line score-0">&#xA0;<span class="">0508</span>:         for the given dimensions.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0509</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0510</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">0511</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0512</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import convert_array_dimensions</pre>
<pre class="cython line score-0">&#xA0;<span class="">0513</span>:     &gt;&gt;&gt; import numpy as np</pre>
<pre class="cython line score-0">&#xA0;<span class="">0514</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0515</span>:     # Example 1: Convert a 1D array to a 2D array with a specific shape</pre>
<pre class="cython line score-0">&#xA0;<span class="">0516</span>:     &gt;&gt;&gt; array_1d = np.array([1, 2, 3, 4, 5])</pre>
<pre class="cython line score-0">&#xA0;<span class="">0517</span>:     &gt;&gt;&gt; convert_array_dimensions(array_1d, target_dim=2, new_shape=(5, 1))</pre>
<pre class="cython line score-0">&#xA0;<span class="">0518</span>:     [array([[1],</pre>
<pre class="cython line score-0">&#xA0;<span class="">0519</span>:             [2],</pre>
<pre class="cython line score-0">&#xA0;<span class="">0520</span>:             [3],</pre>
<pre class="cython line score-0">&#xA0;<span class="">0521</span>:             [4],</pre>
<pre class="cython line score-0">&#xA0;<span class="">0522</span>:             [5]])]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0523</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0524</span>:     # Example 2: Flatten a 2D array to 1D</pre>
<pre class="cython line score-0">&#xA0;<span class="">0525</span>:     &gt;&gt;&gt; array_2d = np.array([[1, 2, 3], [4, 5, 6]])</pre>
<pre class="cython line score-0">&#xA0;<span class="">0526</span>:     &gt;&gt;&gt; convert_array_dimensions(array_2d, target_dim=1)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0527</span>:     [array([1, 2, 3, 4, 5, 6])]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0528</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0529</span>:     # Example 3: Convert a 1D array to a default 2D array (one row)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0530</span>:     &gt;&gt;&gt; array_1d = np.array([7, 8, 9, 10])</pre>
<pre class="cython line score-0">&#xA0;<span class="">0531</span>:     &gt;&gt;&gt; convert_array_dimensions(array_1d, target_dim=2)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0532</span>:     [array([[ 7,  8,  9, 10]])]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0533</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0534</span>:     # Example 4: Attempt to reshape a 1D array into an</pre>
<pre class="cython line score-0">&#xA0;<span class="">0535</span>:     # incompatible 2D shape (should raise an error)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0536</span>:     &gt;&gt;&gt; array_1d = np.array([1, 2, 3, 4, 5, 6])</pre>
<pre class="cython line score-0">&#xA0;<span class="">0537</span>:     &gt;&gt;&gt; convert_array_dimensions(array_1d, target_dim=2, new_shape=(2, 4))</pre>
<pre class="cython line score-0">&#xA0;<span class="">0538</span>:     Traceback (most recent call last):</pre>
<pre class="cython line score-0">&#xA0;<span class="">0539</span>:       ...</pre>
<pre class="cython line score-0">&#xA0;<span class="">0540</span>:     ValueError: Cannot reshape array of size 6 into shape (2, 4)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0541</span>:     """</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0542</span>:     converted_arrays = []</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(542,0,<span class='error_goto'>__PYX_ERR(0, 542, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 542, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_converted_arrays = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0543</span>:     for arr in arrays:</pre>
<pre class='cython code score-9 '>  <span class='trace'>__Pyx_TraceLine</span>(543,0,<span class='error_goto'>__PYX_ERR(0, 543, __pyx_L1_error)</span>)
  __pyx_t_1 = __pyx_v_arrays; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
  __pyx_t_2 = 0;
  for (;;) {
    {
      Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
      #if !CYTHON_ASSUME_SAFE_MACROS
      if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 543, __pyx_L1_error)</span>
      #endif
      if (__pyx_t_2 &gt;= __pyx_temp) break;
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 543, __pyx_L1_error)</span>
    #else
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 543, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    #endif
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_arr, __pyx_t_3);
    __pyx_t_3 = 0;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(543,0,<span class='error_goto'>__PYX_ERR(0, 543, __pyx_L1_error)</span>)
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0544</span>:         # Ensure input is converted to a NumPy array for manipulation</pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0545</span>:         array = np.array(arr)</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(545,0,<span class='error_goto'>__PYX_ERR(0, 545, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 545, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 545, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_4)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_v_arr};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 545, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_array, __pyx_t_3);
    __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0546</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0547</span>:         if target_dim == 1:</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(547,0,<span class='error_goto'>__PYX_ERR(0, 547, __pyx_L1_error)</span>)
    __pyx_t_7 = (<span class='pyx_c_api'>__Pyx_PyInt_BoolEqObjC</span>(__pyx_v_target_dim, __pyx_int_1, 1, 0)); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 547, __pyx_L1_error)</span>
    if (__pyx_t_7) {
/* â€¦ */
      goto __pyx_L5;
    }
</pre><pre class="cython line score-0">&#xA0;<span class="">0548</span>:             # Flatten the array to 1D</pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0549</span>:             converted_arrays.append(array.ravel())</pre>
<pre class='cython code score-19 '>      <span class='trace'>__Pyx_TraceLine</span>(549,0,<span class='error_goto'>__PYX_ERR(0, 549, __pyx_L1_error)</span>)
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_array, __pyx_n_s_ravel);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 549, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      __pyx_t_4 = NULL;
      __pyx_t_6 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
        __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
        if (likely(__pyx_t_4)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
          __pyx_t_6 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_4, NULL};
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 549, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      }
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_v_converted_arrays, __pyx_t_3);<span class='error_goto'> if (unlikely(__pyx_t_8 == ((int)-1))) __PYX_ERR(0, 549, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0550</span>:         elif target_dim == 2:</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(550,0,<span class='error_goto'>__PYX_ERR(0, 550, __pyx_L1_error)</span>)
    __pyx_t_7 = (<span class='pyx_c_api'>__Pyx_PyInt_BoolEqObjC</span>(__pyx_v_target_dim, __pyx_int_2, 2, 0)); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 550, __pyx_L1_error)</span>
    if (likely(__pyx_t_7)) {
/* â€¦ */
      goto __pyx_L5;
    }
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0551</span>:             if new_shape is not None:</pre>
<pre class='cython code score-0 '>      <span class='trace'>__Pyx_TraceLine</span>(551,0,<span class='error_goto'>__PYX_ERR(0, 551, __pyx_L1_error)</span>)
      __pyx_t_7 = (__pyx_v_new_shape != Py_None);
      if (__pyx_t_7) {
/* â€¦ */
        goto __pyx_L6;
      }
</pre><pre class="cython line score-0">&#xA0;<span class="">0552</span>:                 # Reshape according to the provided new_shape</pre>
<pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0553</span>:                 try:</pre>
<pre class='cython code score-8 '>        <span class='trace'>__Pyx_TraceLine</span>(553,0,<span class='error_goto'>__PYX_ERR(0, 553, __pyx_L1_error)</span>)
        {
          /*try:*/ {
/* â€¦ */
          }
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
          goto __pyx_L14_try_end;
          __pyx_L7_error:;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
/* â€¦ */
          __pyx_L9_except_error:;
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_9);
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_10);
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
          <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_9, __pyx_t_10, __pyx_t_11);
          goto __pyx_L1_error;
          __pyx_L14_try_end:;
        }
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0554</span>:                     converted_arrays.append(array.reshape(new_shape))</pre>
<pre class='cython code score-19 '>            <span class='trace'>__Pyx_TraceLine</span>(554,0,<span class='error_goto'>__PYX_ERR(0, 554, __pyx_L7_error)</span>)
            __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_array, __pyx_n_s_reshape);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 554, __pyx_L7_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
            __pyx_t_4 = NULL;
            __pyx_t_6 = 0;
            #if CYTHON_UNPACK_METHODS
            if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
              __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
              if (likely(__pyx_t_4)) {
                PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
                <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
                <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
                <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
                __pyx_t_6 = 1;
              }
            }
            #endif
            {
              PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_v_new_shape};
              __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
              if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 554, __pyx_L7_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
            }
            __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_v_converted_arrays, __pyx_t_3);<span class='error_goto'> if (unlikely(__pyx_t_8 == ((int)-1))) __PYX_ERR(0, 554, __pyx_L7_error)</span>
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-21" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0555</span>:                 except ValueError as e:</pre>
<pre class='cython code score-21 '>          <span class='trace'>__Pyx_TraceLine</span>(555,0,<span class='error_goto'>__PYX_ERR(0, 555, __pyx_L9_except_error)</span>)
          __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyErr_ExceptionMatches</span>(__pyx_builtin_ValueError);
          if (__pyx_t_6) {
            <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.convert_array_dimensions", __pyx_clineno, __pyx_lineno, __pyx_filename);
            if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_3, &amp;__pyx_t_5, &amp;__pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 555, __pyx_L9_except_error)</span>
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_5);
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_4);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
            __pyx_v_e = __pyx_t_5;
            /*try:*/ {
/* â€¦ */
            <span class='trace'>__Pyx_TraceLine</span>(555,0,<span class='error_goto'>__PYX_ERR(0, 555, __pyx_L20_error)</span>)
            /*finally:*/ {
              __pyx_L20_error:;
              /*exception exit:*/{
                __Pyx_PyThreadState_declare
                __Pyx_PyThreadState_assign
                __pyx_t_19 = 0; __pyx_t_20 = 0; __pyx_t_21 = 0; __pyx_t_22 = 0; __pyx_t_23 = 0; __pyx_t_24 = 0;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_16); __pyx_t_16 = 0;
                if (PY_MAJOR_VERSION &gt;= 3) <span class='pyx_c_api'>__Pyx_ExceptionSwap</span>(&amp;__pyx_t_22, &amp;__pyx_t_23, &amp;__pyx_t_24);
                if ((PY_MAJOR_VERSION &lt; 3) || unlikely(<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_19, &amp;__pyx_t_20, &amp;__pyx_t_21) &lt; 0)) <span class='pyx_c_api'>__Pyx_ErrFetch</span>(&amp;__pyx_t_19, &amp;__pyx_t_20, &amp;__pyx_t_21);
                <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_19);
                <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_20);
                <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_21);
                <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_22);
                <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_23);
                <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_24);
                __pyx_t_6 = __pyx_lineno; __pyx_t_17 = __pyx_clineno; __pyx_t_18 = __pyx_filename;
                {
                  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_e); __pyx_v_e = 0;
                }
                if (PY_MAJOR_VERSION &gt;= 3) {
                  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_22);
                  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_23);
                  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_24);
                  <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_22, __pyx_t_23, __pyx_t_24);
                }
                <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_19);
                <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_20);
                <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_21);
                <span class='pyx_c_api'>__Pyx_ErrRestore</span>(__pyx_t_19, __pyx_t_20, __pyx_t_21);
                __pyx_t_19 = 0; __pyx_t_20 = 0; __pyx_t_21 = 0; __pyx_t_22 = 0; __pyx_t_23 = 0; __pyx_t_24 = 0;
                __pyx_lineno = __pyx_t_6; __pyx_clineno = __pyx_t_17; __pyx_filename = __pyx_t_18;
                goto __pyx_L9_except_error;
              }
            }
          }
          goto __pyx_L9_except_error;
</pre><pre class="cython line score-27" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0556</span>:                     raise ValueError(f"Cannot reshape array of size {array.size}"</pre>
<pre class='cython code score-27 '>              <span class='trace'>__Pyx_TraceLine</span>(556,0,<span class='error_goto'>__PYX_ERR(0, 556, __pyx_L20_error)</span>)
              __pyx_t_12 = <span class='py_c_api'>PyTuple_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 556, __pyx_L20_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
              __pyx_t_13 = 0;
              __pyx_t_14 = 127;
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Cannot_reshape_array_of_size);
              __pyx_t_13 += 29;
              <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Cannot_reshape_array_of_size);
              <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_12, 0, __pyx_kp_u_Cannot_reshape_array_of_size);
              __pyx_t_15 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_array, __pyx_n_s_size);<span class='error_goto'> if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 556, __pyx_L20_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_15);
              __pyx_t_16 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_t_15, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 556, __pyx_L20_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_16);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
              __pyx_t_14 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_16) &gt; __pyx_t_14) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_16) : __pyx_t_14;
              __pyx_t_13 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_16);
              <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_16);
              <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_12, 1, __pyx_t_16);
              __pyx_t_16 = 0;
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_into_shape);
              __pyx_t_13 += 12;
              <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_into_shape);
              <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_12, 2, __pyx_kp_u_into_shape);
/* â€¦ */
              <span class='trace'>__Pyx_TraceLine</span>(556,0,<span class='error_goto'>__PYX_ERR(0, 556, __pyx_L20_error)</span>)
              __pyx_t_16 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_12, 4, __pyx_t_13, __pyx_t_14);<span class='error_goto'> if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 556, __pyx_L20_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_16);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
              __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_16);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 556, __pyx_L20_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_16); __pyx_t_16 = 0;
</pre><pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0557</span>:                                      f" into shape {new_shape}") from e</pre>
<pre class='cython code score-12 '>              <span class='trace'>__Pyx_TraceLine</span>(557,0,<span class='error_goto'>__PYX_ERR(0, 557, __pyx_L20_error)</span>)
              __pyx_t_16 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_new_shape, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 557, __pyx_L20_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_16);
              __pyx_t_14 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_16) &gt; __pyx_t_14) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_16) : __pyx_t_14;
              __pyx_t_13 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_16);
              <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_16);
              <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_12, 3, __pyx_t_16);
              __pyx_t_16 = 0;
/* â€¦ */
              <span class='trace'>__Pyx_TraceLine</span>(557,0,<span class='error_goto'>__PYX_ERR(0, 557, __pyx_L20_error)</span>)
              <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_12, 0, 0, __pyx_v_e);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
              <span class='error_goto'>__PYX_ERR(0, 556, __pyx_L20_error)</span>
            }
</pre><pre class="cython line score-0">&#xA0;<span class="">0558</span>:             else:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0559</span>:                 # Skip reshaping if the array is already 2D and no new shape is provided</pre>
<pre class="cython line score-37" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0560</span>:                 if array.ndim == 2 and array.shape == (1, -1) or array.shape == (-1, 1):</pre>
<pre class='cython code score-37 '>      <span class='trace'>__Pyx_TraceLine</span>(560,0,<span class='error_goto'>__PYX_ERR(0, 560, __pyx_L1_error)</span>)
      /*else*/ {
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_array, __pyx_n_s_ndim);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 560, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        __pyx_t_25 = (<span class='pyx_c_api'>__Pyx_PyInt_BoolEqObjC</span>(__pyx_t_4, __pyx_int_2, 2, 0)); if (unlikely((__pyx_t_25 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 560, __pyx_L1_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        if (!__pyx_t_25) {
          goto __pyx_L28_next_or;
        } else {
        }
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_array, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 560, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        __pyx_t_5 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_4, __pyx_tuple__15, Py_EQ); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 560, __pyx_L1_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        __pyx_t_25 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_5); if (unlikely((__pyx_t_25 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 560, __pyx_L1_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        if (!__pyx_t_25) {
        } else {
          __pyx_t_7 = __pyx_t_25;
          goto __pyx_L27_bool_binop_done;
        }
        __pyx_L28_next_or:;
        __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_array, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 560, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
/* â€¦ */
  __pyx_tuple__15 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_int_1, __pyx_int_neg_1);<span class='error_goto'> if (unlikely(!__pyx_tuple__15)) __PYX_ERR(0, 560, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__15);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__15);
        __pyx_t_4 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_5, __pyx_tuple__16, Py_EQ); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 560, __pyx_L1_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        __pyx_t_25 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_4); if (unlikely((__pyx_t_25 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 560, __pyx_L1_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        __pyx_t_7 = __pyx_t_25;
        __pyx_L27_bool_binop_done:;
        if (__pyx_t_7) {
/* â€¦ */
          goto __pyx_L26;
        }
  __pyx_tuple__16 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_int_neg_1, __pyx_int_1);<span class='error_goto'> if (unlikely(!__pyx_tuple__16)) __PYX_ERR(0, 560, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__16);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__16);
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0561</span>:                     converted_arrays.append(array)</pre>
<pre class='cython code score-2 '>          <span class='trace'>__Pyx_TraceLine</span>(561,0,<span class='error_goto'>__PYX_ERR(0, 561, __pyx_L1_error)</span>)
          __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_v_converted_arrays, __pyx_v_array);<span class='error_goto'> if (unlikely(__pyx_t_8 == ((int)-1))) __PYX_ERR(0, 561, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0562</span>:                 else:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0563</span>:                     # Default 2D shape based on orientation</pre>
<pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0564</span>:                     if orient == 'row' or orient == 0:</pre>
<pre class='cython code score-4 '>        <span class='trace'>__Pyx_TraceLine</span>(564,0,<span class='error_goto'>__PYX_ERR(0, 564, __pyx_L1_error)</span>)
        /*else*/ {
          __pyx_t_25 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_orient, __pyx_n_u_row, Py_EQ)); if (unlikely((__pyx_t_25 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 564, __pyx_L1_error)</span>
          if (!__pyx_t_25) {
          } else {
            __pyx_t_7 = __pyx_t_25;
            goto __pyx_L31_bool_binop_done;
          }
          __pyx_t_25 = (<span class='pyx_c_api'>__Pyx_PyInt_BoolEqObjC</span>(__pyx_v_orient, __pyx_int_0, 0, 0)); if (unlikely((__pyx_t_25 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 564, __pyx_L1_error)</span>
          __pyx_t_7 = __pyx_t_25;
          __pyx_L31_bool_binop_done:;
          if (__pyx_t_7) {
/* â€¦ */
            goto __pyx_L30;
          }
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0565</span>:                         converted_arrays.append(array.reshape(1, -1))</pre>
<pre class='cython code score-8 '>            <span class='trace'>__Pyx_TraceLine</span>(565,0,<span class='error_goto'>__PYX_ERR(0, 565, __pyx_L1_error)</span>)
            __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_array, __pyx_n_s_reshape);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 565, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
            __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_4, __pyx_tuple__15, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 565, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
            __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_v_converted_arrays, __pyx_t_5);<span class='error_goto'> if (unlikely(__pyx_t_8 == ((int)-1))) __PYX_ERR(0, 565, __pyx_L1_error)</span>
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0566</span>:                     elif orient == 'column' or orient == 1:</pre>
<pre class='cython code score-4 '>          <span class='trace'>__Pyx_TraceLine</span>(566,0,<span class='error_goto'>__PYX_ERR(0, 566, __pyx_L1_error)</span>)
          __pyx_t_25 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_orient, __pyx_n_u_column, Py_EQ)); if (unlikely((__pyx_t_25 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 566, __pyx_L1_error)</span>
          if (!__pyx_t_25) {
          } else {
            __pyx_t_7 = __pyx_t_25;
            goto __pyx_L33_bool_binop_done;
          }
          __pyx_t_25 = (<span class='pyx_c_api'>__Pyx_PyInt_BoolEqObjC</span>(__pyx_v_orient, __pyx_int_1, 1, 0)); if (unlikely((__pyx_t_25 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 566, __pyx_L1_error)</span>
          __pyx_t_7 = __pyx_t_25;
          __pyx_L33_bool_binop_done:;
          if (likely(__pyx_t_7)) {
/* â€¦ */
            goto __pyx_L30;
          }
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0567</span>:                         converted_arrays.append(array.reshape(-1, 1))</pre>
<pre class='cython code score-8 '>            <span class='trace'>__Pyx_TraceLine</span>(567,0,<span class='error_goto'>__PYX_ERR(0, 567, __pyx_L1_error)</span>)
            __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_array, __pyx_n_s_reshape);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 567, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
            __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_tuple__16, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 567, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
            __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_v_converted_arrays, __pyx_t_4);<span class='error_goto'> if (unlikely(__pyx_t_8 == ((int)-1))) __PYX_ERR(0, 567, __pyx_L1_error)</span>
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0568</span>:                     else:</pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0569</span>:                         raise ValueError("orient must be 'row', 'column', 0, or 1.")</pre>
<pre class='cython code score-10 '>          <span class='trace'>__Pyx_TraceLine</span>(569,0,<span class='error_goto'>__PYX_ERR(0, 569, __pyx_L1_error)</span>)
          /*else*/ {
            __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__17, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 569, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
            <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_4, 0, 0, 0);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
            <span class='error_goto'>__PYX_ERR(0, 569, __pyx_L1_error)</span>
          }
          __pyx_L30:;
        }
        __pyx_L26:;
      }
      __pyx_L6:;
/* â€¦ */
  __pyx_tuple__17 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_orient_must_be_row_column_0_or_1);<span class='error_goto'> if (unlikely(!__pyx_tuple__17)) __PYX_ERR(0, 569, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__17);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__17);
</pre><pre class="cython line score-0">&#xA0;<span class="">0570</span>:         else:</pre>
<pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0571</span>:             raise ValueError(</pre>
<pre class='cython code score-6 '>    <span class='trace'>__Pyx_TraceLine</span>(571,0,<span class='error_goto'>__PYX_ERR(0, 571, __pyx_L1_error)</span>)
    /*else*/ {
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(571,0,<span class='error_goto'>__PYX_ERR(0, 571, __pyx_L1_error)</span>)
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 571, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_4, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='error_goto'>__PYX_ERR(0, 571, __pyx_L1_error)</span>
    }
    __pyx_L5:;
</pre><pre class="cython line score-21" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0572</span>:                 f"Invalid target dimension {target_dim}. Only 1 or 2 are supported.")</pre>
<pre class='cython code score-21 '>      <span class='trace'>__Pyx_TraceLine</span>(572,0,<span class='error_goto'>__PYX_ERR(0, 572, __pyx_L1_error)</span>)
      __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 572, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_13 = 0;
      __pyx_t_14 = 127;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Invalid_target_dimension);
      __pyx_t_13 += 25;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Invalid_target_dimension);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_kp_u_Invalid_target_dimension);
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_target_dim, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 572, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      __pyx_t_14 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_5) &gt; __pyx_t_14) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_5) : __pyx_t_14;
      __pyx_t_13 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_5);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_5);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_t_5);
      __pyx_t_5 = 0;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Only_1_or_2_are_supported);
      __pyx_t_13 += 28;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Only_1_or_2_are_supported);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 2, __pyx_kp_u_Only_1_or_2_are_supported);
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_4, 3, __pyx_t_13, __pyx_t_14);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 572, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0573</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0574</span>:     return converted_arrays</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(574,0,<span class='error_goto'>__PYX_ERR(0, 574, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_converted_arrays);
  __pyx_r = __pyx_v_converted_arrays;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0575</span>: </pre>
<pre class="cython line score-53" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0576</span>: def filter_nan_entries(</pre>
<pre class='cython code score-53 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_11filter_nan_entries(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_10filter_nan_entries, "\n    Filters out NaN values from multiple lists of lists, or arrays, \n    based on the specified NaN handling policy ('omit', 'propagate', 'raise'), \n    and adjusts the sample weights accordingly if provided.\n\n    This function is particularly useful when preprocessing data for\n    machine learning algorithms that do not support NaN values or when NaN values\n    signify missing data that should be excluded from analysis.\n\n    Parameters\n    ----------\n    nan_policy : {'omit', 'propagate', 'raise'}\n        The policy for handling NaN values.\n        - 'omit': Exclude NaN values from all lists in `listof`. \n        - 'propagate': Keep NaN values, which may result in NaN values in output.\n        - 'raise': If NaN values are detected, raise a ValueError.\n    *listof : array-like sequences\n        Variable number of list-like sequences from which NaN values are to be \n        filtered out.  Each sequence in `listof` must have the same length.\n    sample_weights : array-like, optional\n        Weights corresponding to the elements in each sequence in `listof`.\n        Must have the same length as the sequences. If `nan_policy` is 'omit',\n        weights are adjusted to match the filtered sequences.\n    mode : str, optional\n        Specifies the mode of NaN filtering:\n        - 'strict': Indices are retained only if all corresponding elements \n          across sequences are non-NaN.\n        - 'soft': Indices are retained if any corresponding element across \n          sequences is non-NaN.\n    trim_weights : bool, optional\n        If True and `sample_weights` is provided, trims the sample_weights to\n        match the length of the filtered data when the 'soft' mode results in\n        fewer data points than there are weights.\n        \n    Returns\n    -------\n    tuple of lists\n        A tuple containing the filtered list-like sequences as per the specified\n        `nan_policy`.\n        If `nan_policy` is 'omit', sequences with NaN val""ues removed are \n        returned.\n    np.ndarray or None\n        The adjusted sample weights matching the filtered sequences if \n        `nan_policy` is 'omit'.\n        If `sample_weights` is not provided, None is returned.\n\n    Raises\n    ------\n    ValueError\n        If `nan_policy` is 'raise' and NaN values are present in any input \n        sequence.\n\n    Examples\n    --------\n    &gt;&gt;&gt; from gofast.tools.baseutils import filter_nan_entries\n    &gt;&gt;&gt; list1 = [1, 2, np.nan, 4]\n    &gt;&gt;&gt; list2 = [np.nan, 2, 3, 4]\n    &gt;&gt;&gt; weights = [0.5, 1.0, 1.5, 2.0]\n    &gt;&gt;&gt; filter_nan_entries('omit', list1, list2,sample_weights=weights,\n                           mode=\"soft\" ,)\n    ([1.0, 2.0, 4.0], [2.0, 3.0, 4.0], array([0.5, 1. , 1.5, 2. ]))\n\n    &gt;&gt;&gt; filter_nan_entries('omit', list1, list2,sample_weights=weights, )\n    ([2.0, 4.0], [2.0, 4.0], array([1., 2.]))\n    &gt;&gt;&gt; filter_nan_entries(\n    ...     'omit', list1, list2,sample_weights=weights, mode=\"soft\" ,\n    ... trim_weights=True)\n    ([1.0, 2.0, 4.0], [2.0, 3.0, 4.0], array([0.5, 1. , 1.5])) \n    &gt;&gt;&gt; filter_nan_entries('raise', list1, list2)\n    ValueError: NaN values present and nan_policy is 'raise'.\n\n    Notes\n    -----\n    This function is designed to work with numerical data where NaN values\n    may indicate missing data. It allows for flexible preprocessing by supporting\n    multiple NaN handling strategies, making it suitable for various machine learning\n    and data analysis workflows.\n\n    When using 'omit' in 'soft' mode, it's important to ensure that all sequences\n    in `listof`and the corresponding `sample_weights` (if provided) are \n    correctly aligned so that filtering does not introduce misalignments in the data.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_11filter_nan_entries = {"filter_nan_entries", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_11filter_nan_entries, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_10filter_nan_entries};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_11filter_nan_entries(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_nan_policy = 0;
  PyObject *__pyx_v_sample_weights = 0;
  PyObject *__pyx_v_mode = 0;
  PyObject *__pyx_v_trim_weights = 0;
  PyObject *__pyx_v_listof = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("filter_nan_entries (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  __pyx_v_listof = <span class='pyx_c_api'>__Pyx_ArgsSlice_FASTCALL</span>(__pyx_args, 1, __pyx_nargs);
  if (unlikely(!__pyx_v_listof)) {
    <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
    return NULL;
  }
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_v_listof);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_nan_policy,&amp;__pyx_n_s_sample_weights,&amp;__pyx_n_s_mode,&amp;__pyx_n_s_trim_weights,0};
  PyObject* values[4] = {0,0,0,0};
/* â€¦ */
  /* function exit code */
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_listof);
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_10filter_nan_entries(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_nan_policy, PyObject *__pyx_v_sample_weights, PyObject *__pyx_v_mode, PyObject *__pyx_v_trim_weights, PyObject *__pyx_v_listof) {
  PyObject *__pyx_v_d = NULL;
  PyObject *__pyx_v_arrays = NULL;
  PyObject *__pyx_v_filtered_arrays = NULL;
  PyObject *__pyx_v_non_nan_mask = NULL;
  PyObject *__pyx_v_filtered_listof = NULL;
  PyObject *__pyx_7genexpr__pyx_v_lst = NULL;
  PyObject *__pyx_8genexpr1__pyx_v_arr = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__18)
  <span class='trace'>__Pyx_TraceCall</span>("filter_nan_entries", __pyx_f[0], 576, 0, <span class='error_goto'>__PYX_ERR(0, 576, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_nan_policy);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_sample_weights);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.filter_nan_entries", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_d);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_arrays);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_filtered_arrays);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_non_nan_mask);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_filtered_listof);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_7genexpr__pyx_v_lst);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr1__pyx_v_arr);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_nan_policy);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_sample_weights);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__156 = <span class='py_c_api'>PyTuple_Pack</span>(12, __pyx_n_s_nan_policy, __pyx_n_s_sample_weights, __pyx_n_s_mode, __pyx_n_s_trim_weights, __pyx_n_s_listof, __pyx_n_s_d, __pyx_n_s_arrays, __pyx_n_s_filtered_arrays, __pyx_n_s_non_nan_mask, __pyx_n_s_filtered_listof, __pyx_n_s_lst, __pyx_n_s_arr);<span class='error_goto'> if (unlikely(!__pyx_tuple__156)) __PYX_ERR(0, 576, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__156);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__156);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(576,0,<span class='error_goto'>__PYX_ERR(0, 576, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 576, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(576,0,<span class='error_goto'>__PYX_ERR(0, 576, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_11filter_nan_entries, 0, __pyx_n_s_filter_nan_entries, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__18));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 576, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsKwDict</span>(__pyx_t_3, __pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_filter_nan_entries, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 576, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_codeobj__18 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(1, 0, 3, 12, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARARGS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__156, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_filter_nan_entries, 576, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__18)) __PYX_ERR(0, 576, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0577</span>:     nan_policy, *listof,</pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0578</span>:     sample_weights=None,</pre>
<pre class='cython code score-19 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_n_u_strict)));
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(578,0,<span class='error_goto'>__PYX_ERR(0, 578, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_sample_weights, Py_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 576, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_mode, ((PyObject*)__pyx_n_u_strict)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 576, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_trim_weights, ((PyObject *)Py_False)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 576, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0579</span>:     mode="strict",</pre>
<pre class="cython line score-35" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0580</span>:     trim_weights=False</pre>
<pre class='cython code score-35 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        default:
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_nan_policy)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 576, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
      }
      if (kw_args &gt; 0 &amp;&amp; likely(kw_args &lt;= 3)) {
        Py_ssize_t index;
        for (index = 1; index &lt; 4 &amp;&amp; kw_args &gt; 0; index++) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, *__pyx_pyargnames[index]);
          if (value) { values[index] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 576, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        const Py_ssize_t used_pos_args = (kwd_pos_args &lt; 1) ? kwd_pos_args : 1;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, used_pos_args, "filter_nan_entries") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 576, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs &lt; 1)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
    }
    __pyx_v_nan_policy = values[0];
    __pyx_v_sample_weights = values[1];
    __pyx_v_mode = values[2];
    __pyx_v_trim_weights = values[3];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("filter_nan_entries", 0, 1, 1, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 576, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_listof); __pyx_v_listof = 0;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.filter_nan_entries", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_10filter_nan_entries(__pyx_self, __pyx_v_nan_policy, __pyx_v_sample_weights, __pyx_v_mode, __pyx_v_trim_weights, __pyx_v_listof);
</pre><pre class="cython line score-0">&#xA0;<span class="">0581</span>:     ):</pre>
<pre class="cython line score-0">&#xA0;<span class="">0582</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">0583</span>:     Filters out NaN values from multiple lists of lists, or arrays,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0584</span>:     based on the specified NaN handling policy ('omit', 'propagate', 'raise'),</pre>
<pre class="cython line score-0">&#xA0;<span class="">0585</span>:     and adjusts the sample weights accordingly if provided.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0586</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0587</span>:     This function is particularly useful when preprocessing data for</pre>
<pre class="cython line score-0">&#xA0;<span class="">0588</span>:     machine learning algorithms that do not support NaN values or when NaN values</pre>
<pre class="cython line score-0">&#xA0;<span class="">0589</span>:     signify missing data that should be excluded from analysis.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0590</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0591</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">0592</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0593</span>:     nan_policy : {'omit', 'propagate', 'raise'}</pre>
<pre class="cython line score-0">&#xA0;<span class="">0594</span>:         The policy for handling NaN values.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0595</span>:         - 'omit': Exclude NaN values from all lists in `listof`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0596</span>:         - 'propagate': Keep NaN values, which may result in NaN values in output.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0597</span>:         - 'raise': If NaN values are detected, raise a ValueError.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0598</span>:     *listof : array-like sequences</pre>
<pre class="cython line score-0">&#xA0;<span class="">0599</span>:         Variable number of list-like sequences from which NaN values are to be</pre>
<pre class="cython line score-0">&#xA0;<span class="">0600</span>:         filtered out.  Each sequence in `listof` must have the same length.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0601</span>:     sample_weights : array-like, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">0602</span>:         Weights corresponding to the elements in each sequence in `listof`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0603</span>:         Must have the same length as the sequences. If `nan_policy` is 'omit',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0604</span>:         weights are adjusted to match the filtered sequences.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0605</span>:     mode : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">0606</span>:         Specifies the mode of NaN filtering:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0607</span>:         - 'strict': Indices are retained only if all corresponding elements</pre>
<pre class="cython line score-0">&#xA0;<span class="">0608</span>:           across sequences are non-NaN.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0609</span>:         - 'soft': Indices are retained if any corresponding element across</pre>
<pre class="cython line score-0">&#xA0;<span class="">0610</span>:           sequences is non-NaN.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0611</span>:     trim_weights : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">0612</span>:         If True and `sample_weights` is provided, trims the sample_weights to</pre>
<pre class="cython line score-0">&#xA0;<span class="">0613</span>:         match the length of the filtered data when the 'soft' mode results in</pre>
<pre class="cython line score-0">&#xA0;<span class="">0614</span>:         fewer data points than there are weights.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0615</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0616</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">0617</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0618</span>:     tuple of lists</pre>
<pre class="cython line score-0">&#xA0;<span class="">0619</span>:         A tuple containing the filtered list-like sequences as per the specified</pre>
<pre class="cython line score-0">&#xA0;<span class="">0620</span>:         `nan_policy`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0621</span>:         If `nan_policy` is 'omit', sequences with NaN values removed are</pre>
<pre class="cython line score-0">&#xA0;<span class="">0622</span>:         returned.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0623</span>:     np.ndarray or None</pre>
<pre class="cython line score-0">&#xA0;<span class="">0624</span>:         The adjusted sample weights matching the filtered sequences if</pre>
<pre class="cython line score-0">&#xA0;<span class="">0625</span>:         `nan_policy` is 'omit'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0626</span>:         If `sample_weights` is not provided, None is returned.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0627</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0628</span>:     Raises</pre>
<pre class="cython line score-0">&#xA0;<span class="">0629</span>:     ------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0630</span>:     ValueError</pre>
<pre class="cython line score-0">&#xA0;<span class="">0631</span>:         If `nan_policy` is 'raise' and NaN values are present in any input</pre>
<pre class="cython line score-0">&#xA0;<span class="">0632</span>:         sequence.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0633</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0634</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">0635</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0636</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import filter_nan_entries</pre>
<pre class="cython line score-0">&#xA0;<span class="">0637</span>:     &gt;&gt;&gt; list1 = [1, 2, np.nan, 4]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0638</span>:     &gt;&gt;&gt; list2 = [np.nan, 2, 3, 4]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0639</span>:     &gt;&gt;&gt; weights = [0.5, 1.0, 1.5, 2.0]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0640</span>:     &gt;&gt;&gt; filter_nan_entries('omit', list1, list2,sample_weights=weights,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0641</span>:                            mode="soft" ,)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0642</span>:     ([1.0, 2.0, 4.0], [2.0, 3.0, 4.0], array([0.5, 1. , 1.5, 2. ]))</pre>
<pre class="cython line score-0">&#xA0;<span class="">0643</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0644</span>:     &gt;&gt;&gt; filter_nan_entries('omit', list1, list2,sample_weights=weights, )</pre>
<pre class="cython line score-0">&#xA0;<span class="">0645</span>:     ([2.0, 4.0], [2.0, 4.0], array([1., 2.]))</pre>
<pre class="cython line score-0">&#xA0;<span class="">0646</span>:     &gt;&gt;&gt; filter_nan_entries(</pre>
<pre class="cython line score-0">&#xA0;<span class="">0647</span>:     ...     'omit', list1, list2,sample_weights=weights, mode="soft" ,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0648</span>:     ... trim_weights=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0649</span>:     ([1.0, 2.0, 4.0], [2.0, 3.0, 4.0], array([0.5, 1. , 1.5]))</pre>
<pre class="cython line score-0">&#xA0;<span class="">0650</span>:     &gt;&gt;&gt; filter_nan_entries('raise', list1, list2)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0651</span>:     ValueError: NaN values present and nan_policy is 'raise'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0652</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0653</span>:     Notes</pre>
<pre class="cython line score-0">&#xA0;<span class="">0654</span>:     -----</pre>
<pre class="cython line score-0">&#xA0;<span class="">0655</span>:     This function is designed to work with numerical data where NaN values</pre>
<pre class="cython line score-0">&#xA0;<span class="">0656</span>:     may indicate missing data. It allows for flexible preprocessing by supporting</pre>
<pre class="cython line score-0">&#xA0;<span class="">0657</span>:     multiple NaN handling strategies, making it suitable for various machine learning</pre>
<pre class="cython line score-0">&#xA0;<span class="">0658</span>:     and data analysis workflows.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0659</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0660</span>:     When using 'omit' in 'soft' mode, it's important to ensure that all sequences</pre>
<pre class="cython line score-0">&#xA0;<span class="">0661</span>:     in `listof`and the corresponding `sample_weights` (if provided) are</pre>
<pre class="cython line score-0">&#xA0;<span class="">0662</span>:     correctly aligned so that filtering does not introduce misalignments in the data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0663</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">0664</span>:     # Validate nan_policy and check if any list contains nested objects</pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0665</span>:     nan_policy = is_valid_policies(nan_policy)</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(665,0,<span class='error_goto'>__PYX_ERR(0, 665, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_is_valid_policies);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 665, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_nan_policy};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 665, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_nan_policy, __pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0666</span>: </pre>
<pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0667</span>:     for d in listof:</pre>
<pre class='cython code score-9 '>  <span class='trace'>__Pyx_TraceLine</span>(667,0,<span class='error_goto'>__PYX_ERR(0, 667, __pyx_L1_error)</span>)
  __pyx_t_1 = __pyx_v_listof; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
  __pyx_t_5 = 0;
  for (;;) {
    {
      Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
      #if !CYTHON_ASSUME_SAFE_MACROS
      if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 667, __pyx_L1_error)</span>
      #endif
      if (__pyx_t_5 &gt;= __pyx_temp) break;
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_5); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_5++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 667, __pyx_L1_error)</span>
    #else
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_5); __pyx_t_5++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 667, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    #endif
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_d, __pyx_t_2);
    __pyx_t_2 = 0;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(667,0,<span class='error_goto'>__PYX_ERR(0, 667, __pyx_L1_error)</span>)
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0668</span>:         if contains_nested_objects(d):</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(668,0,<span class='error_goto'>__PYX_ERR(0, 668, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_contains_nested_objects);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 668, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_6 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_v_d};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 668, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_2); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 668, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(__pyx_t_7)) {
/* â€¦ */
    }
</pre><pre class="cython line score-0">&#xA0;<span class="">0669</span>:             # write a professionnal error message</pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0670</span>:             raise ValueError ("filter_nan_entries does not support nested items.")</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(670,0,<span class='error_goto'>__PYX_ERR(0, 670, __pyx_L1_error)</span>)
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__19, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 670, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='error_goto'>__PYX_ERR(0, 670, __pyx_L1_error)</span>
/* â€¦ */
  __pyx_tuple__19 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_filter_nan_entries_does_not_supp);<span class='error_goto'> if (unlikely(!__pyx_tuple__19)) __PYX_ERR(0, 670, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__19);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__19);
</pre><pre class="cython line score-0">&#xA0;<span class="">0671</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0672</span>:     # Prepare the data arrays</pre>
<pre class="cython line score-44" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0673</span>:     arrays = [np.array(lst, dtype=float) for lst in listof]</pre>
<pre class='cython code score-44 '>  <span class='trace'>__Pyx_TraceLine</span>(673,0,<span class='error_goto'>__PYX_ERR(0, 673, __pyx_L1_error)</span>)
  { /* enter inner scope */
    __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 673, __pyx_L9_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_2 = __pyx_v_listof; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
    __pyx_t_5 = 0;
    for (;;) {
      {
        Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_2);
        #if !CYTHON_ASSUME_SAFE_MACROS
        if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 673, __pyx_L9_error)</span>
        #endif
        if (__pyx_t_5 &gt;= __pyx_temp) break;
      }
      #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
      __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_2, __pyx_t_5); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3); __pyx_t_5++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 673, __pyx_L9_error)</span>
      #else
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_2, __pyx_t_5); __pyx_t_5++;<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 673, __pyx_L9_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      #endif
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_7genexpr__pyx_v_lst, __pyx_t_3);
      __pyx_t_3 = 0;
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 673, __pyx_L9_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 673, __pyx_L9_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 673, __pyx_L9_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_7genexpr__pyx_v_lst);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_7genexpr__pyx_v_lst);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_7genexpr__pyx_v_lst)) <span class='error_goto'>__PYX_ERR(0, 673, __pyx_L9_error)</span>;
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 673, __pyx_L9_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_8, __pyx_n_s_dtype, ((PyObject *)(&amp;PyFloat_Type))) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 673, __pyx_L9_error)</span>
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_6, __pyx_t_3, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 673, __pyx_L9_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_1, (PyObject*)__pyx_t_9))) <span class='error_goto'>__PYX_ERR(0, 673, __pyx_L9_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_7genexpr__pyx_v_lst); __pyx_7genexpr__pyx_v_lst = 0;
    goto __pyx_L13_exit_scope;
    __pyx_L9_error:;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_7genexpr__pyx_v_lst); __pyx_7genexpr__pyx_v_lst = 0;
    goto __pyx_L1_error;
    __pyx_L13_exit_scope:;
  } /* exit inner scope */
  __pyx_v_arrays = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0674</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0675</span>:     # Apply NaN filtering based on the selected policy</pre>
<pre class="cython line score-62" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0676</span>:     filtered_arrays, non_nan_mask = _filter_nan_policies(arrays, nan_policy, mode)</pre>
<pre class='cython code score-62 '>  <span class='trace'>__Pyx_TraceLine</span>(676,0,<span class='error_goto'>__PYX_ERR(0, 676, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_filter_nan_policies);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 676, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_9 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_9)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[4] = {__pyx_t_9, __pyx_v_arrays, __pyx_v_nan_policy, __pyx_v_mode};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 3+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 676, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_1))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
    PyObject* sequence = __pyx_t_1;
    Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
    if (unlikely(size != 2)) {
      if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
      else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
      <span class='error_goto'>__PYX_ERR(0, 676, __pyx_L1_error)</span>
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
      __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
      __pyx_t_9 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
    } else {
      __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
      __pyx_t_9 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
    }
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
    #else
    __pyx_t_2 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 676, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_9 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 676, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    #endif
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  } else {
    Py_ssize_t index = -1;
    __pyx_t_8 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 676, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_8);
    index = 0; __pyx_t_2 = __pyx_t_10(__pyx_t_8); if (unlikely(!__pyx_t_2)) goto __pyx_L14_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    index = 1; __pyx_t_9 = __pyx_t_10(__pyx_t_8); if (unlikely(!__pyx_t_9)) goto __pyx_L14_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_10(__pyx_t_8), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 676, __pyx_L1_error)</span>
    __pyx_t_10 = NULL;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    goto __pyx_L15_unpacking_done;
    __pyx_L14_unpacking_failed:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    __pyx_t_10 = NULL;
    if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
    <span class='error_goto'>__PYX_ERR(0, 676, __pyx_L1_error)</span>
    __pyx_L15_unpacking_done:;
  }
  __pyx_v_filtered_arrays = __pyx_t_2;
  __pyx_t_2 = 0;
  __pyx_v_non_nan_mask = __pyx_t_9;
  __pyx_t_9 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0677</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0678</span>:     # Adjust sample weights if necessary</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0679</span>:     if sample_weights is not None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(679,0,<span class='error_goto'>__PYX_ERR(0, 679, __pyx_L1_error)</span>)
  __pyx_t_7 = (__pyx_v_sample_weights != Py_None);
  if (__pyx_t_7) {
/* â€¦ */
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0680</span>:         sample_weights = _adjust_weights(</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(680,0,<span class='error_goto'>__PYX_ERR(0, 680, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_9, __pyx_n_s_adjust_weights);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 680, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0681</span>:             sample_weights, non_nan_mask, mode, trim_weights, filtered_arrays</pre>
<pre class='cython code score-15 '>    <span class='trace'>__Pyx_TraceLine</span>(681,0,<span class='error_goto'>__PYX_ERR(0, 681, __pyx_L1_error)</span>)
    __pyx_t_2 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[6] = {__pyx_t_2, __pyx_v_sample_weights, __pyx_v_non_nan_mask, __pyx_v_mode, __pyx_v_trim_weights, __pyx_v_filtered_arrays};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_4, 5+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 680, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_sample_weights, __pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0682</span>:             )</pre>
<pre class="cython line score-0">&#xA0;<span class="">0683</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0684</span>:     # Prepare the output to be returned</pre>
<pre class="cython line score-75" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0685</span>:     filtered_listof = [arr.tolist() for arr in filtered_arrays]</pre>
<pre class='cython code score-75 '>  <span class='trace'>__Pyx_TraceLine</span>(685,0,<span class='error_goto'>__PYX_ERR(0, 685, __pyx_L1_error)</span>)
  { /* enter inner scope */
    __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 685, __pyx_L19_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_filtered_arrays)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_filtered_arrays)) {
      __pyx_t_9 = __pyx_v_filtered_arrays; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
      __pyx_t_5 = 0;
      __pyx_t_11 = NULL;
    } else {
      __pyx_t_5 = -1; __pyx_t_9 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_filtered_arrays);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 685, __pyx_L19_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 685, __pyx_L19_error)</span>
    }
    for (;;) {
      if (likely(!__pyx_t_11)) {
        if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_9))) {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_9);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 685, __pyx_L19_error)</span>
            #endif
            if (__pyx_t_5 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_9, __pyx_t_5); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_5++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 685, __pyx_L19_error)</span>
          #else
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_9, __pyx_t_5); __pyx_t_5++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 685, __pyx_L19_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          #endif
        } else {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_9);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 685, __pyx_L19_error)</span>
            #endif
            if (__pyx_t_5 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_9, __pyx_t_5); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_5++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 685, __pyx_L19_error)</span>
          #else
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_9, __pyx_t_5); __pyx_t_5++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 685, __pyx_L19_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          #endif
        }
      } else {
        __pyx_t_2 = __pyx_t_11(__pyx_t_9);
        if (unlikely(!__pyx_t_2)) {
          PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
          if (exc_type) {
            if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
            else <span class='error_goto'>__PYX_ERR(0, 685, __pyx_L19_error)</span>
          }
          break;
        }
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      }
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_8genexpr1__pyx_v_arr, __pyx_t_2);
      __pyx_t_2 = 0;
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_8genexpr1__pyx_v_arr, __pyx_n_s_tolist);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 685, __pyx_L19_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      __pyx_t_3 = NULL;
      __pyx_t_4 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_8))) {
        __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_8);
        if (likely(__pyx_t_3)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_8);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_8, function);
          __pyx_t_4 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_8, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 685, __pyx_L19_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      }
      if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_1, (PyObject*)__pyx_t_2))) <span class='error_goto'>__PYX_ERR(0, 685, __pyx_L19_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr1__pyx_v_arr); __pyx_8genexpr1__pyx_v_arr = 0;
    goto __pyx_L23_exit_scope;
    __pyx_L19_error:;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr1__pyx_v_arr); __pyx_8genexpr1__pyx_v_arr = 0;
    goto __pyx_L1_error;
    __pyx_L23_exit_scope:;
  } /* exit inner scope */
  __pyx_v_filtered_listof = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0686</span>:     return (*filtered_listof, sample_weights</pre>
<pre class='cython code score-14 '>  <span class='trace'>__Pyx_TraceLine</span>(686,0,<span class='error_goto'>__PYX_ERR(0, 686, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(686,0,<span class='error_goto'>__PYX_ERR(0, 686, __pyx_L1_error)</span>)
    __pyx_t_9 = <span class='py_c_api'>PySequence_List</span>(__pyx_v_filtered_listof);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 686, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    if (<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_9, __pyx_v_sample_weights) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 686, __pyx_L1_error)</span>
    {
      PyObject *__pyx_temp = <span class='py_c_api'>PyList_AsTuple</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9);
      __pyx_t_9 = __pyx_temp;<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 686, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    }
    __pyx_t_1 = __pyx_t_9;
    __pyx_t_9 = 0;
  } else {
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0687</span>:             ) if sample_weights is not None else tuple(filtered_listof)</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(687,0,<span class='error_goto'>__PYX_ERR(0, 687, __pyx_L1_error)</span>)
  __pyx_t_7 = (__pyx_v_sample_weights != Py_None);
  if (__pyx_t_7) {
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(687,0,<span class='error_goto'>__PYX_ERR(0, 687, __pyx_L1_error)</span>)
    __pyx_t_9 = <span class='py_c_api'>PyList_AsTuple</span>(__pyx_v_filtered_listof);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 687, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_1 = __pyx_t_9;
    __pyx_t_9 = 0;
  }
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0688</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0689</span>: </pre>
<pre class="cython line score-93" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0690</span>: def _filter_nan_policies(arrays, policy, mode):</pre>
<pre class='cython code score-93 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_13_filter_nan_policies(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_12_filter_nan_policies, "Apply the NaN policy to filter the data arrays.");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_13_filter_nan_policies = {"_filter_nan_policies", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_13_filter_nan_policies, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_12_filter_nan_policies};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_13_filter_nan_policies(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_arrays = 0;
  PyObject *__pyx_v_policy = 0;
  PyObject *__pyx_v_mode = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_filter_nan_policies (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_arrays,&amp;__pyx_n_s_policy,&amp;__pyx_n_s_mode,0};
  PyObject* values[3] = {0,0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_arrays)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 690, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_policy)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 690, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_filter_nan_policies", 1, 3, 3, 1); <span class='error_goto'>__PYX_ERR(0, 690, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (likely((values[2] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_mode)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[2]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 690, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_filter_nan_policies", 1, 3, 3, 2); <span class='error_goto'>__PYX_ERR(0, 690, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_filter_nan_policies") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 690, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 3)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
      values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
    }
    __pyx_v_arrays = values[0];
    __pyx_v_policy = values[1];
    __pyx_v_mode = values[2];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_filter_nan_policies", 1, 3, 3, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 690, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._filter_nan_policies", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_12_filter_nan_policies(__pyx_self, __pyx_v_arrays, __pyx_v_policy, __pyx_v_mode);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
static PyObject *__pyx_gb_6gofast_5tools_9baseutils_20_filter_nan_policies_2generator1(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
/* â€¦ */
static PyObject *__pyx_pf_6gofast_5tools_9baseutils_12_filter_nan_policies(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_arrays, PyObject *__pyx_v_policy, PyObject *__pyx_v_mode) {
  PyObject *__pyx_v_non_nan_mask = NULL;
  PyObject *__pyx_v_filtered_arrays = NULL;
  PyObject *__pyx_8genexpr2__pyx_v_arr = NULL;
  PyObject *__pyx_8genexpr3__pyx_v_arr = NULL;
  PyObject *__pyx_gb_6gofast_5tools_9baseutils_20_filter_nan_policies_2generator1 = 0;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__20)
  <span class='trace'>__Pyx_TraceCall</span>("_filter_nan_policies", __pyx_f[0], 690, 0, <span class='error_goto'>__PYX_ERR(0, 690, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_mode);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._filter_nan_policies", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_non_nan_mask);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_filtered_arrays);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr2__pyx_v_arr);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr3__pyx_v_arr);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_gb_6gofast_5tools_9baseutils_20_filter_nan_policies_2generator1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_mode);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__157 = <span class='py_c_api'>PyTuple_Pack</span>(9, __pyx_n_s_arrays, __pyx_n_s_policy, __pyx_n_s_mode, __pyx_n_s_non_nan_mask, __pyx_n_s_filtered_arrays, __pyx_n_s_arr, __pyx_n_s_arr, __pyx_n_s_genexpr, __pyx_n_s_genexpr);<span class='error_goto'> if (unlikely(!__pyx_tuple__157)) __PYX_ERR(0, 690, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__157);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__157);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(690,0,<span class='error_goto'>__PYX_ERR(0, 690, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_13_filter_nan_policies, 0, __pyx_n_s_filter_nan_policies, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__20));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 690, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_filter_nan_policies, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 690, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_codeobj__20 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(3, 0, 0, 9, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__157, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_filter_nan_policies, 690, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__20)) __PYX_ERR(0, 690, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0691</span>:     """Apply the NaN policy to filter the data arrays."""</pre>
<pre class="cython line score-49" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0692</span>:     mode = parameter_validator("mode", target_strs={"soft", "strict"})(mode)</pre>
<pre class='cython code score-49 '>  <span class='trace'>__Pyx_TraceLine</span>(692,0,<span class='error_goto'>__PYX_ERR(0, 692, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_parameter_validator);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 692, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 692, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_4 = <span class='py_c_api'>PySet_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 692, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PySet_Add</span>(__pyx_t_4, __pyx_n_u_soft) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 692, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PySet_Add</span>(__pyx_t_4, __pyx_n_u_strict) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 692, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_target_strs, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 692, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_tuple__21, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 692, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_mode};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 692, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_mode, __pyx_t_1);
  __pyx_t_1 = 0;
/* â€¦ */
  __pyx_tuple__21 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_n_u_mode);<span class='error_goto'> if (unlikely(!__pyx_tuple__21)) __PYX_ERR(0, 692, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__21);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__21);
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0693</span>:     if policy == 'omit':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(693,0,<span class='error_goto'>__PYX_ERR(0, 693, __pyx_L1_error)</span>)
  __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_policy, __pyx_n_u_omit, Py_EQ)); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 693, __pyx_L1_error)</span>
  if (__pyx_t_6) {
/* â€¦ */
    goto __pyx_L3;
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0694</span>:         if mode == "strict":</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(694,0,<span class='error_goto'>__PYX_ERR(0, 694, __pyx_L1_error)</span>)
    __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_mode, __pyx_n_u_strict, Py_EQ)); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 694, __pyx_L1_error)</span>
    if (__pyx_t_6) {
/* â€¦ */
      goto __pyx_L4;
    }
</pre><pre class="cython line score-48" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0695</span>:             non_nan_mask = np.logical_and.reduce(~np.isnan(arrays))</pre>
<pre class='cython code score-48 '>      <span class='trace'>__Pyx_TraceLine</span>(695,0,<span class='error_goto'>__PYX_ERR(0, 695, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 695, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_logical_and);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 695, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_reduce);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 695, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 695, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_isnan);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 695, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_2 = NULL;
      __pyx_t_5 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
        __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
        if (likely(__pyx_t_2)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
          __pyx_t_5 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_arrays};
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 695, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      }
      __pyx_t_7 = <span class='py_c_api'>PyNumber_Invert</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 695, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = NULL;
      __pyx_t_5 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
        __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
        if (likely(__pyx_t_3)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
          __pyx_t_5 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_t_7};
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 695, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      }
      __pyx_v_non_nan_mask = __pyx_t_1;
      __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0696</span>:             # Filter arrays using the computed mask</pre>
<pre class="cython line score-61" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0697</span>:             filtered_arrays = [arr[non_nan_mask] for arr in arrays]</pre>
<pre class='cython code score-61 '>      <span class='trace'>__Pyx_TraceLine</span>(697,0,<span class='error_goto'>__PYX_ERR(0, 697, __pyx_L1_error)</span>)
      { /* enter inner scope */
        __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 697, __pyx_L7_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_arrays)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_arrays)) {
          __pyx_t_4 = __pyx_v_arrays; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
          __pyx_t_8 = 0;
          __pyx_t_9 = NULL;
        } else {
          __pyx_t_8 = -1; __pyx_t_4 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_arrays);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 697, __pyx_L7_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
          __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 697, __pyx_L7_error)</span>
        }
        for (;;) {
          if (likely(!__pyx_t_9)) {
            if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_4))) {
              {
                Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_4);
                #if !CYTHON_ASSUME_SAFE_MACROS
                if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 697, __pyx_L7_error)</span>
                #endif
                if (__pyx_t_8 &gt;= __pyx_temp) break;
              }
              #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
              __pyx_t_7 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_4, __pyx_t_8); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7); __pyx_t_8++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 697, __pyx_L7_error)</span>
              #else
              __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_4, __pyx_t_8); __pyx_t_8++;<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 697, __pyx_L7_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
              #endif
            } else {
              {
                Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_4);
                #if !CYTHON_ASSUME_SAFE_MACROS
                if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 697, __pyx_L7_error)</span>
                #endif
                if (__pyx_t_8 &gt;= __pyx_temp) break;
              }
              #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
              __pyx_t_7 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_4, __pyx_t_8); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7); __pyx_t_8++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 697, __pyx_L7_error)</span>
              #else
              __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_4, __pyx_t_8); __pyx_t_8++;<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 697, __pyx_L7_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
              #endif
            }
          } else {
            __pyx_t_7 = __pyx_t_9(__pyx_t_4);
            if (unlikely(!__pyx_t_7)) {
              PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
              if (exc_type) {
                if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
                else <span class='error_goto'>__PYX_ERR(0, 697, __pyx_L7_error)</span>
              }
              break;
            }
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
          }
          <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_8genexpr2__pyx_v_arr, __pyx_t_7);
          __pyx_t_7 = 0;
          __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_8genexpr2__pyx_v_arr, __pyx_v_non_nan_mask);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 697, __pyx_L7_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
          if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_1, (PyObject*)__pyx_t_7))) <span class='error_goto'>__PYX_ERR(0, 697, __pyx_L7_error)</span>
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        }
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr2__pyx_v_arr); __pyx_8genexpr2__pyx_v_arr = 0;
        goto __pyx_L11_exit_scope;
        __pyx_L7_error:;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr2__pyx_v_arr); __pyx_8genexpr2__pyx_v_arr = 0;
        goto __pyx_L1_error;
        __pyx_L11_exit_scope:;
      } /* exit inner scope */
      __pyx_v_filtered_arrays = __pyx_t_1;
      __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0698</span>:         elif mode == "soft":</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(698,0,<span class='error_goto'>__PYX_ERR(0, 698, __pyx_L1_error)</span>)
    __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_mode, __pyx_n_u_soft, Py_EQ)); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 698, __pyx_L1_error)</span>
    if (__pyx_t_6) {
/* â€¦ */
    }
    __pyx_L4:;
</pre><pre class="cython line score-48" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0699</span>:            non_nan_mask = np.logical_or.reduce(~np.isnan(arrays))</pre>
<pre class='cython code score-48 '>      <span class='trace'>__Pyx_TraceLine</span>(699,0,<span class='error_goto'>__PYX_ERR(0, 699, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 699, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_logical_or);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 699, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_7, __pyx_n_s_reduce);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 699, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 699, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_isnan);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 699, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = NULL;
      __pyx_t_5 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
        __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
        if (likely(__pyx_t_3)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
          __pyx_t_5 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_arrays};
        __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        if (unlikely(!__pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 699, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      }
      __pyx_t_2 = <span class='py_c_api'>PyNumber_Invert</span>(__pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 699, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      __pyx_t_7 = NULL;
      __pyx_t_5 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
        __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
        if (likely(__pyx_t_7)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
          __pyx_t_5 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_7, __pyx_t_2};
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 699, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      }
      __pyx_v_non_nan_mask = __pyx_t_1;
      __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0700</span>:            # Ensure that elements are NaN only if they are NaN across all arrays</pre>
<pre class="cython line score-87" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0701</span>:            filtered_arrays =[arr[~np.isnan(arr)] for arr in  arrays]</pre>
<pre class='cython code score-87 '>      <span class='trace'>__Pyx_TraceLine</span>(701,0,<span class='error_goto'>__PYX_ERR(0, 701, __pyx_L1_error)</span>)
      { /* enter inner scope */
        __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 701, __pyx_L14_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_arrays)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_arrays)) {
          __pyx_t_4 = __pyx_v_arrays; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
          __pyx_t_8 = 0;
          __pyx_t_9 = NULL;
        } else {
          __pyx_t_8 = -1; __pyx_t_4 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_arrays);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 701, __pyx_L14_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
          __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 701, __pyx_L14_error)</span>
        }
        for (;;) {
          if (likely(!__pyx_t_9)) {
            if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_4))) {
              {
                Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_4);
                #if !CYTHON_ASSUME_SAFE_MACROS
                if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 701, __pyx_L14_error)</span>
                #endif
                if (__pyx_t_8 &gt;= __pyx_temp) break;
              }
              #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
              __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_4, __pyx_t_8); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_8++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 701, __pyx_L14_error)</span>
              #else
              __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_4, __pyx_t_8); __pyx_t_8++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 701, __pyx_L14_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
              #endif
            } else {
              {
                Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_4);
                #if !CYTHON_ASSUME_SAFE_MACROS
                if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 701, __pyx_L14_error)</span>
                #endif
                if (__pyx_t_8 &gt;= __pyx_temp) break;
              }
              #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
              __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_4, __pyx_t_8); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_8++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 701, __pyx_L14_error)</span>
              #else
              __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_4, __pyx_t_8); __pyx_t_8++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 701, __pyx_L14_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
              #endif
            }
          } else {
            __pyx_t_2 = __pyx_t_9(__pyx_t_4);
            if (unlikely(!__pyx_t_2)) {
              PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
              if (exc_type) {
                if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
                else <span class='error_goto'>__PYX_ERR(0, 701, __pyx_L14_error)</span>
              }
              break;
            }
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          }
          <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_8genexpr3__pyx_v_arr, __pyx_t_2);
          __pyx_t_2 = 0;
          <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_7, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 701, __pyx_L14_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
          __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_7, __pyx_n_s_isnan);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 701, __pyx_L14_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
          __pyx_t_7 = NULL;
          __pyx_t_5 = 0;
          #if CYTHON_UNPACK_METHODS
          if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
            __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
            if (likely(__pyx_t_7)) {
              PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
              <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
              __pyx_t_5 = 1;
            }
          }
          #endif
          {
            PyObject *__pyx_callargs[2] = {__pyx_t_7, __pyx_8genexpr3__pyx_v_arr};
            __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
            if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 701, __pyx_L14_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          }
          __pyx_t_3 = <span class='py_c_api'>PyNumber_Invert</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 701, __pyx_L14_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_8genexpr3__pyx_v_arr, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 701, __pyx_L14_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_1, (PyObject*)__pyx_t_2))) <span class='error_goto'>__PYX_ERR(0, 701, __pyx_L14_error)</span>
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        }
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr3__pyx_v_arr); __pyx_8genexpr3__pyx_v_arr = 0;
        goto __pyx_L18_exit_scope;
        __pyx_L14_error:;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr3__pyx_v_arr); __pyx_8genexpr3__pyx_v_arr = 0;
        goto __pyx_L1_error;
        __pyx_L18_exit_scope:;
      } /* exit inner scope */
      __pyx_v_filtered_arrays = __pyx_t_1;
      __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0702</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0703</span>:     elif policy == 'raise':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(703,0,<span class='error_goto'>__PYX_ERR(0, 703, __pyx_L1_error)</span>)
  __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_policy, __pyx_n_u_raise, Py_EQ)); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 703, __pyx_L1_error)</span>
  if (__pyx_t_6) {
/* â€¦ */
    goto __pyx_L3;
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">0704</span>:         # Raise an error if any NaN values are detected</pre>
<pre class="cython line score-122" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0705</span>:         if any(np.isnan(arr).any() for arr in arrays):</pre>
<pre class='cython code score-122 '>static PyObject *__pyx_pf_6gofast_5tools_9baseutils_20_filter_nan_policies_genexpr(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_genexpr_arg_0) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_1_genexpr *__pyx_cur_scope;
  PyObject *__pyx_r = NULL;
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_1_genexpr *)__pyx_tp_new_6gofast_5tools_9baseutils___pyx_scope_struct_1_genexpr(__pyx_ptype_6gofast_5tools_9baseutils___pyx_scope_struct_1_genexpr, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_1_genexpr *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 705, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  __pyx_cur_scope-&gt;__pyx_genexpr_arg_0 = __pyx_genexpr_arg_0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  {
    __pyx_CoroutineObject *gen = <span class='pyx_c_api'>__Pyx_Generator_New</span>((__pyx_coroutine_body_t) __pyx_gb_6gofast_5tools_9baseutils_20_filter_nan_policies_2generator1, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_filter_nan_policies_locals_gene, __pyx_n_s_gofast_tools_baseutils);<span class='error_goto'> if (unlikely(!gen)) __PYX_ERR(0, 705, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_cur_scope);
    <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
    return (PyObject *) gen;
  }

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._filter_nan_policies.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_gb_6gofast_5tools_9baseutils_20_filter_nan_policies_2generator1(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
{
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("genexpr", 0);
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_L3_first_run:;
  if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 705, __pyx_L1_error)</span>
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>(".0"); <span class='error_goto'>__PYX_ERR(0, 705, __pyx_L1_error)</span> }
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) {
    __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_genexpr_arg_0; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    __pyx_t_2 = 0;
    __pyx_t_3 = NULL;
  } else {
    __pyx_t_2 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 705, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 705, __pyx_L1_error)</span>
  }
  for (;;) {
    if (likely(!__pyx_t_3)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 705, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 705, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 705, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 705, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 705, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 705, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      }
    } else {
      __pyx_t_4 = __pyx_t_3(__pyx_t_1);
      if (unlikely(!__pyx_t_4)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 705, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    }
    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_cur_scope-&gt;__pyx_v_arr);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_cur_scope-&gt;__pyx_v_arr, __pyx_t_4);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
    __pyx_t_4 = 0;
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 705, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_isnan);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 705, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = NULL;
    __pyx_t_8 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
        __pyx_t_8 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_cur_scope-&gt;__pyx_v_arr};
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 705, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    }
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_any);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 705, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = NULL;
    __pyx_t_8 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
        __pyx_t_8 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_5, NULL};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_8, 0+__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 705, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    }
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_4); if (unlikely((__pyx_t_9 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 705, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (__pyx_t_9) {
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_True);
      __pyx_r = Py_True;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      goto __pyx_L0;
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  /*else*/ {
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_False);
    __pyx_r = Py_False;
    goto __pyx_L0;
  }
  CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);

  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_Generator_Replace_StopIteration</span>(0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  #if !CYTHON_USE_EXC_INFO_STACK
  <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
  #endif
  __pyx_generator-&gt;resume_label = -1;
  <span class='pyx_c_api'>__Pyx_Coroutine_clear</span>((PyObject*)__pyx_generator);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(705,0,<span class='error_goto'>__PYX_ERR(0, 705, __pyx_L1_error)</span>)
    __pyx_t_1 = __pyx_pf_6gofast_5tools_9baseutils_20_filter_nan_policies_genexpr(NULL, __pyx_v_arrays);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 705, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_Generator_Next</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 705, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_4); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 705, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (unlikely(__pyx_t_6)) {
/* â€¦ */
    }
/* â€¦ */
struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_1_genexpr {
  PyObject_HEAD
  PyObject *__pyx_genexpr_arg_0;
  PyObject *__pyx_v_arr;
};

</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0706</span>:             raise ValueError("NaN values present and nan_policy is 'raise'.")</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(706,0,<span class='error_goto'>__PYX_ERR(0, 706, __pyx_L1_error)</span>)
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__22, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 706, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_4, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='error_goto'>__PYX_ERR(0, 706, __pyx_L1_error)</span>
/* â€¦ */
  __pyx_tuple__22 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_NaN_values_present_and_nan_polic);<span class='error_goto'> if (unlikely(!__pyx_tuple__22)) __PYX_ERR(0, 706, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__22);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__22);
</pre><pre class="cython line score-0">&#xA0;<span class="">0707</span>:     else:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0708</span>:         # If 'propagate' is selected, return the original arrays</pre>
<pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0709</span>:         filtered_arrays = arrays</pre>
<pre class='cython code score-1 '>  <span class='trace'>__Pyx_TraceLine</span>(709,0,<span class='error_goto'>__PYX_ERR(0, 709, __pyx_L1_error)</span>)
  /*else*/ {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arrays);
    __pyx_v_filtered_arrays = __pyx_v_arrays;
  }
  __pyx_L3:;
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0710</span>:     return filtered_arrays, non_nan_mask</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(710,0,<span class='error_goto'>__PYX_ERR(0, 710, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  if (unlikely(!__pyx_v_filtered_arrays)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("filtered_arrays"); <span class='error_goto'>__PYX_ERR(0, 710, __pyx_L1_error)</span> }
  if (unlikely(!__pyx_v_non_nan_mask)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("non_nan_mask"); <span class='error_goto'>__PYX_ERR(0, 710, __pyx_L1_error)</span> }
  __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 710, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_filtered_arrays);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_filtered_arrays);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_v_filtered_arrays)) <span class='error_goto'>__PYX_ERR(0, 710, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_non_nan_mask);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_non_nan_mask);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_v_non_nan_mask)) <span class='error_goto'>__PYX_ERR(0, 710, __pyx_L1_error)</span>;
  __pyx_r = __pyx_t_4;
  __pyx_t_4 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0711</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0712</span>: </pre>
<pre class="cython line score-121" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0713</span>: def _adjust_weights(weights, mask, mode, adjusted_weights, arrays):</pre>
<pre class='cython code score-121 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_15_adjust_weights(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_14_adjust_weights, "Adjust sample weights according to the filtered data.");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_15_adjust_weights = {"_adjust_weights", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_15_adjust_weights, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_14_adjust_weights};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_15_adjust_weights(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_weights = 0;
  PyObject *__pyx_v_mask = 0;
  PyObject *__pyx_v_mode = 0;
  PyObject *__pyx_v_adjusted_weights = 0;
  PyObject *__pyx_v_arrays = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_adjust_weights (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_weights,&amp;__pyx_n_s_mask,&amp;__pyx_n_s_mode,&amp;__pyx_n_s_adjusted_weights,&amp;__pyx_n_s_arrays,0};
  PyObject* values[5] = {0,0,0,0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_weights)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 713, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_mask)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 713, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_adjust_weights", 1, 5, 5, 1); <span class='error_goto'>__PYX_ERR(0, 713, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (likely((values[2] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_mode)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[2]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 713, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_adjust_weights", 1, 5, 5, 2); <span class='error_goto'>__PYX_ERR(0, 713, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (likely((values[3] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_adjusted_weights)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[3]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 713, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_adjust_weights", 1, 5, 5, 3); <span class='error_goto'>__PYX_ERR(0, 713, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (likely((values[4] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_arrays)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[4]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 713, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_adjust_weights", 1, 5, 5, 4); <span class='error_goto'>__PYX_ERR(0, 713, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_adjust_weights") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 713, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 5)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
      values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
      values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
      values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
    }
    __pyx_v_weights = values[0];
    __pyx_v_mask = values[1];
    __pyx_v_mode = values[2];
    __pyx_v_adjusted_weights = values[3];
    __pyx_v_arrays = values[4];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_adjust_weights", 1, 5, 5, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 713, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._adjust_weights", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_14_adjust_weights(__pyx_self, __pyx_v_weights, __pyx_v_mask, __pyx_v_mode, __pyx_v_adjusted_weights, __pyx_v_arrays);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
static PyObject *__pyx_gb_6gofast_5tools_9baseutils_15_adjust_weights_2generator2(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
/* â€¦ */
static PyObject *__pyx_pf_6gofast_5tools_9baseutils_14_adjust_weights(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_weights, PyObject *__pyx_v_mask, PyObject *__pyx_v_mode, PyObject *__pyx_v_adjusted_weights, PyObject *__pyx_v_arrays) {
  PyObject *__pyx_v_min_length = NULL;
  PyObject *__pyx_v_valid_indices = NULL;
  PyObject *__pyx_v_adjusted_non_nan_mask = NULL;
  PyObject *__pyx_gb_6gofast_5tools_9baseutils_15_adjust_weights_2generator2 = 0;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__23)
  <span class='trace'>__Pyx_TraceCall</span>("_adjust_weights", __pyx_f[0], 713, 0, <span class='error_goto'>__PYX_ERR(0, 713, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_mask);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._adjust_weights", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_min_length);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_valid_indices);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_adjusted_non_nan_mask);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_gb_6gofast_5tools_9baseutils_15_adjust_weights_2generator2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_mask);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
static PyObject *__pyx_gb_6gofast_5tools_9baseutils_18generator(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
/* â€¦ */
  __pyx_tuple__158 = <span class='py_c_api'>PyTuple_Pack</span>(10, __pyx_n_s_weights, __pyx_n_s_mask, __pyx_n_s_mode, __pyx_n_s_adjusted_weights, __pyx_n_s_arrays, __pyx_n_s_min_length, __pyx_n_s_valid_indices, __pyx_n_s_adjusted_non_nan_mask, __pyx_n_s_genexpr, __pyx_n_s_genexpr);<span class='error_goto'> if (unlikely(!__pyx_tuple__158)) __PYX_ERR(0, 713, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__158);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__158);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(713,0,<span class='error_goto'>__PYX_ERR(0, 713, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_15_adjust_weights, 0, __pyx_n_s_adjust_weights, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__23));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 713, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_adjust_weights, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 713, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_codeobj__23 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(5, 0, 0, 10, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__158, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_adjust_weights, 713, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__23)) __PYX_ERR(0, 713, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0714</span>:     """Adjust sample weights according to the filtered data."""</pre>
<pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0715</span>:     if mode == 'soft' and adjusted_weights:</pre>
<pre class='cython code score-4 '>  <span class='trace'>__Pyx_TraceLine</span>(715,0,<span class='error_goto'>__PYX_ERR(0, 715, __pyx_L1_error)</span>)
  __pyx_t_2 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_mode, __pyx_n_u_soft, Py_EQ)); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 715, __pyx_L1_error)</span>
  if (__pyx_t_2) {
  } else {
    __pyx_t_1 = __pyx_t_2;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_adjusted_weights); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 715, __pyx_L1_error)</span>
  __pyx_t_1 = __pyx_t_2;
  __pyx_L4_bool_binop_done:;
  if (__pyx_t_1) {
/* â€¦ */
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">0716</span>:         # Determine the minimum length among the filtered arrays</pre>
<pre class="cython line score-0">&#xA0;<span class="">0717</span>:         # to ensure weights consistency</pre>
<pre class="cython line score-90" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0718</span>:         min_length = min(len(arr) for arr in arrays)</pre>
<pre class='cython code score-90 '>static PyObject *__pyx_pf_6gofast_5tools_9baseutils_15_adjust_weights_genexpr(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_genexpr_arg_0) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_2_genexpr *__pyx_cur_scope;
  PyObject *__pyx_r = NULL;
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_2_genexpr *)__pyx_tp_new_6gofast_5tools_9baseutils___pyx_scope_struct_2_genexpr(__pyx_ptype_6gofast_5tools_9baseutils___pyx_scope_struct_2_genexpr, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_2_genexpr *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 718, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  __pyx_cur_scope-&gt;__pyx_genexpr_arg_0 = __pyx_genexpr_arg_0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  {
    __pyx_CoroutineObject *gen = <span class='pyx_c_api'>__Pyx_Generator_New</span>((__pyx_coroutine_body_t) __pyx_gb_6gofast_5tools_9baseutils_15_adjust_weights_2generator2, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_adjust_weights_locals_genexpr, __pyx_n_s_gofast_tools_baseutils);<span class='error_goto'> if (unlikely(!gen)) __PYX_ERR(0, 718, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_cur_scope);
    <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
    return (PyObject *) gen;
  }

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._adjust_weights.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_gb_6gofast_5tools_9baseutils_15_adjust_weights_2generator2(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
{
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("genexpr", 0);
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_L3_first_run:;
  if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 718, __pyx_L1_error)</span>
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>(".0"); <span class='error_goto'>__PYX_ERR(0, 718, __pyx_L1_error)</span> }
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) {
    __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_genexpr_arg_0; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    __pyx_t_2 = 0;
    __pyx_t_3 = NULL;
  } else {
    __pyx_t_2 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 718, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 718, __pyx_L1_error)</span>
  }
  for (;;) {
    if (likely(!__pyx_t_3)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 718, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 718, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 718, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 718, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 718, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 718, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      }
    } else {
      __pyx_t_4 = __pyx_t_3(__pyx_t_1);
      if (unlikely(!__pyx_t_4)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 718, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    }
    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_cur_scope-&gt;__pyx_v_arr);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_cur_scope-&gt;__pyx_v_arr, __pyx_t_4);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
    __pyx_t_4 = 0;
    __pyx_t_5 = <span class='py_c_api'>PyObject_Length</span>(__pyx_cur_scope-&gt;__pyx_v_arr);<span class='error_goto'> if (unlikely(__pyx_t_5 == ((Py_ssize_t)-1))) __PYX_ERR(0, 718, __pyx_L1_error)</span>
    __pyx_t_4 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 718, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_r = __pyx_t_4;
    __pyx_t_4 = 0;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_1);
    __pyx_cur_scope-&gt;__pyx_t_0 = __pyx_t_1;
    __pyx_cur_scope-&gt;__pyx_t_1 = __pyx_t_2;
    __pyx_cur_scope-&gt;__pyx_t_2 = __pyx_t_3;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
    <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
    <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
    <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
    /* return from generator, yielding value */
    __pyx_generator-&gt;resume_label = 1;
    return __pyx_r;
    __pyx_L6_resume_from_yield:;
    __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_t_0;
    __pyx_cur_scope-&gt;__pyx_t_0 = 0;
    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
    __pyx_t_2 = __pyx_cur_scope-&gt;__pyx_t_1;
    __pyx_t_3 = __pyx_cur_scope-&gt;__pyx_t_2;
    if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 718, __pyx_L1_error)</span>
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);

  /* function exit code */
  <span class='py_c_api'>PyErr_SetNone</span>(PyExc_StopIteration);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_Generator_Replace_StopIteration</span>(0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r); __pyx_r = 0;
  #if !CYTHON_USE_EXC_INFO_STACK
  <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
  #endif
  __pyx_generator-&gt;resume_label = -1;
  <span class='pyx_c_api'>__Pyx_Coroutine_clear</span>((PyObject*)__pyx_generator);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(718,0,<span class='error_goto'>__PYX_ERR(0, 718, __pyx_L1_error)</span>)
    __pyx_t_3 = __pyx_pf_6gofast_5tools_9baseutils_15_adjust_weights_genexpr(NULL, __pyx_v_arrays);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 718, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_min, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 718, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_v_min_length = __pyx_t_4;
    __pyx_t_4 = 0;
/* â€¦ */
struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_2_genexpr {
  PyObject_HEAD
  PyObject *__pyx_genexpr_arg_0;
  PyObject *__pyx_v_arr;
  PyObject *__pyx_t_0;
  Py_ssize_t __pyx_t_1;
  PyObject *(*__pyx_t_2)(PyObject *);
};

</pre><pre class="cython line score-0">&#xA0;<span class="">0719</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0720</span>:         # Validate and adjust the non_nan_mask to ensure it aligns</pre>
<pre class="cython line score-0">&#xA0;<span class="">0721</span>:         # with the smallest array length</pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0722</span>:         if len(weights) &gt; min_length:</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(722,0,<span class='error_goto'>__PYX_ERR(0, 722, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_weights);<span class='error_goto'> if (unlikely(__pyx_t_5 == ((Py_ssize_t)-1))) __PYX_ERR(0, 722, __pyx_L1_error)</span>
    __pyx_t_4 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 722, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_3 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_4, __pyx_v_min_length, Py_GT); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 722, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_3); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 722, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (__pyx_t_1) {
/* â€¦ */
    }
</pre><pre class="cython line score-0">&#xA0;<span class="">0723</span>:             # Generate a warning if the original weights exceed the size</pre>
<pre class="cython line score-0">&#xA0;<span class="">0724</span>:             # of available data</pre>
<pre class="cython line score-43" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0725</span>:             warnings.warn(f"Adjusting sample weights from {len(weights)}"</pre>
<pre class='cython code score-43 '>      <span class='trace'>__Pyx_TraceLine</span>(725,0,<span class='error_goto'>__PYX_ERR(0, 725, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_warnings);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 725, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_warn);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 725, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 725, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_5 = 0;
      __pyx_t_7 = 127;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Adjusting_sample_weights_from);
      __pyx_t_5 += 30;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Adjusting_sample_weights_from);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_kp_u_Adjusting_sample_weights_from);
      __pyx_t_8 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_weights);<span class='error_goto'> if (unlikely(__pyx_t_8 == ((Py_ssize_t)-1))) __PYX_ERR(0, 725, __pyx_L1_error)</span>
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyUnicode_From_Py_ssize_t</span>(__pyx_t_8, 0, ' ', 'd');<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 725, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_t_5 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_9);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_9);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_t_9);
      __pyx_t_9 = 0;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_to);
      __pyx_t_5 += 4;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_to);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 2, __pyx_kp_u_to);
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(725,0,<span class='error_goto'>__PYX_ERR(0, 725, __pyx_L1_error)</span>)
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_4, 5, __pyx_t_5, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 725, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_4 = NULL;
      __pyx_t_10 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
        __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
        if (likely(__pyx_t_4)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
          __pyx_t_10 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_t_9};
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_10, 1+__pyx_t_10);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 725, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0726</span>:                           f" to {min_length} due to mismatched data lengths.")</pre>
<pre class='cython code score-11 '>      <span class='trace'>__Pyx_TraceLine</span>(726,0,<span class='error_goto'>__PYX_ERR(0, 726, __pyx_L1_error)</span>)
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_min_length, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 726, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_t_7 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_9) &gt; __pyx_t_7) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_9) : __pyx_t_7;
      __pyx_t_5 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_9);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_9);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 3, __pyx_t_9);
      __pyx_t_9 = 0;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_due_to_mismatched_data_lengths);
      __pyx_t_5 += 32;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_due_to_mismatched_data_lengths);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 4, __pyx_kp_u_due_to_mismatched_data_lengths);
</pre><pre class="cython line score-0">&#xA0;<span class="">0727</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0728</span>:             # Resize the non_nan_mask to match the minimum length of the filtered data</pre>
<pre class="cython line score-0">&#xA0;<span class="">0729</span>:             #       Indices where non_nan_mask is True</pre>
<pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0730</span>:             valid_indices = np.where(mask)[0]</pre>
<pre class='cython code score-22 '>      <span class='trace'>__Pyx_TraceLine</span>(730,0,<span class='error_goto'>__PYX_ERR(0, 730, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 730, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_where);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 730, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_t_6 = NULL;
      __pyx_t_10 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
        __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
        if (likely(__pyx_t_6)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
          __pyx_t_10 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_v_mask};
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_10, 1+__pyx_t_10);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
        if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 730, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      }
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_3, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 730, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_v_valid_indices = __pyx_t_9;
      __pyx_t_9 = 0;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0731</span>:             if valid_indices.size &gt; min_length:</pre>
<pre class='cython code score-11 '>      <span class='trace'>__Pyx_TraceLine</span>(731,0,<span class='error_goto'>__PYX_ERR(0, 731, __pyx_L1_error)</span>)
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_valid_indices, __pyx_n_s_size);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 731, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_t_3 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_9, __pyx_v_min_length, Py_GT); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 731, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_3); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 731, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (__pyx_t_1) {
/* â€¦ */
      }
</pre><pre class="cython line score-0">&#xA0;<span class="">0732</span>:                 # Truncate valid_indices to match the size of the shortest</pre>
<pre class="cython line score-0">&#xA0;<span class="">0733</span>:                 # filtered array</pre>
<pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0734</span>:                 valid_indices = valid_indices[:min_length]</pre>
<pre class='cython code score-3 '>        <span class='trace'>__Pyx_TraceLine</span>(734,0,<span class='error_goto'>__PYX_ERR(0, 734, __pyx_L1_error)</span>)
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetSlice</span>(__pyx_v_valid_indices, 0, 0, NULL, &amp;__pyx_v_min_length, NULL, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 734, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_valid_indices, __pyx_t_3);
        __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0735</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0736</span>:             # Create a new mask that only includes the valid indices</pre>
<pre class="cython line score-0">&#xA0;<span class="">0737</span>:             # adjusted to min_length</pre>
<pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0738</span>:             adjusted_non_nan_mask = np.zeros_like(mask, dtype=bool)</pre>
<pre class='cython code score-25 '>      <span class='trace'>__Pyx_TraceLine</span>(738,0,<span class='error_goto'>__PYX_ERR(0, 738, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 738, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_zeros_like);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 738, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 738, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_mask);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_mask);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_mask)) <span class='error_goto'>__PYX_ERR(0, 738, __pyx_L1_error)</span>;
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 738, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_dtype, ((PyObject*)&amp;PyBool_Type)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 738, __pyx_L1_error)</span>
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_9, __pyx_t_3, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 738, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_v_adjusted_non_nan_mask = __pyx_t_4;
      __pyx_t_4 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0739</span>:             adjusted_non_nan_mask[valid_indices] = True</pre>
<pre class='cython code score-5 '>      <span class='trace'>__Pyx_TraceLine</span>(739,0,<span class='error_goto'>__PYX_ERR(0, 739, __pyx_L1_error)</span>)
      if (unlikely((<span class='py_c_api'>PyObject_SetItem</span>(__pyx_v_adjusted_non_nan_mask, __pyx_v_valid_indices, Py_True) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 739, __pyx_L1_error)</span>
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0740</span>:             mask = adjusted_non_nan_mask</pre>
<pre class='cython code score-2 '>      <span class='trace'>__Pyx_TraceLine</span>(740,0,<span class='error_goto'>__PYX_ERR(0, 740, __pyx_L1_error)</span>)
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_adjusted_non_nan_mask);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_mask, __pyx_v_adjusted_non_nan_mask);
</pre><pre class="cython line score-0">&#xA0;<span class="">0741</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0742</span>:     # Update sample weights using the final adjusted non_nan_mask</pre>
<pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0743</span>:     return np.asarray(weights)[mask]</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(743,0,<span class='error_goto'>__PYX_ERR(0, 743, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 743, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_asarray);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 743, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_6 = NULL;
  __pyx_t_10 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_6)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_10 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_v_weights};
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_10, 1+__pyx_t_10);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 743, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_t_4, __pyx_v_mask);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 743, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_r = __pyx_t_3;
  __pyx_t_3 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0744</span>: </pre>
<pre class="cython line score-75" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0745</span>: def _flatten(items):</pre>
<pre class='cython code score-75 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_17_flatten(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_16_flatten, "Helper function to flatten complex nested structures into a flat list.");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_17_flatten = {"_flatten", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_17_flatten, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_16_flatten};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_17_flatten(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_items = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_flatten (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_items,0};
  PyObject* values[1] = {0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_items)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 745, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_flatten") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 745, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 1)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
    }
    __pyx_v_items = values[0];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_flatten", 1, 1, 1, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 745, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._flatten", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_16_flatten(__pyx_self, __pyx_v_items);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_16_flatten(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_items) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_3__flatten *__pyx_cur_scope;
  PyObject *__pyx_r = NULL;
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_3__flatten *)__pyx_tp_new_6gofast_5tools_9baseutils___pyx_scope_struct_3__flatten(__pyx_ptype_6gofast_5tools_9baseutils___pyx_scope_struct_3__flatten, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_3__flatten *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 745, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  __pyx_cur_scope-&gt;__pyx_v_items = __pyx_v_items;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_items);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_v_items);
  {
    __pyx_CoroutineObject *gen = <span class='pyx_c_api'>__Pyx_Generator_New</span>((__pyx_coroutine_body_t) __pyx_gb_6gofast_5tools_9baseutils_18generator, __pyx_codeobj__24, (PyObject *) __pyx_cur_scope, __pyx_n_s_flatten, __pyx_n_s_flatten, __pyx_n_s_gofast_tools_baseutils);<span class='error_goto'> if (unlikely(!gen)) __PYX_ERR(0, 745, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_cur_scope);
    <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
    return (PyObject *) gen;
  }

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._flatten", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_gb_6gofast_5tools_9baseutils_18generator(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
{
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_flatten", 0);
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__24)
  __pyx_L3_first_run:;
  if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 745, __pyx_L1_error)</span>
/* â€¦ */
  /* function exit code */
  <span class='py_c_api'>PyErr_SetNone</span>(PyExc_StopIteration);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_Generator_Replace_StopIteration</span>(0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("_flatten", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r); __pyx_r = 0;
  #if !CYTHON_USE_EXC_INFO_STACK
  <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
  #endif
  __pyx_generator-&gt;resume_label = -1;
  <span class='pyx_c_api'>__Pyx_Coroutine_clear</span>((PyObject*)__pyx_generator);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__159 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_n_s_items, __pyx_n_s_x, __pyx_n_s_sub_x);<span class='error_goto'> if (unlikely(!__pyx_tuple__159)) __PYX_ERR(0, 745, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__159);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__159);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(745,0,<span class='error_goto'>__PYX_ERR(0, 745, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_17_flatten, 0, __pyx_n_s_flatten, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__24));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 745, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_flatten, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 745, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_codeobj__24 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(1, 0, 0, 3, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_GENERATOR, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__159, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_flatten, 745, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__24)) __PYX_ERR(0, 745, __pyx_L1_error)</span>
/* â€¦ */
struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_3__flatten {
  PyObject_HEAD
  PyObject *__pyx_v_items;
  PyObject *__pyx_v_sub_x;
  PyObject *__pyx_v_x;
  PyObject *__pyx_t_0;
  Py_ssize_t __pyx_t_1;
  PyObject *(*__pyx_t_2)(PyObject *);
  PyObject *__pyx_t_3;
  Py_ssize_t __pyx_t_4;
  PyObject *(*__pyx_t_5)(PyObject *);
};

</pre><pre class="cython line score-0">&#xA0;<span class="">0746</span>:     """Helper function to flatten complex nested structures into a flat list."""</pre>
<pre class="cython line score-49" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0747</span>:     for x in items:</pre>
<pre class='cython code score-49 '>  <span class='trace'>__Pyx_TraceLine</span>(747,0,<span class='error_goto'>__PYX_ERR(0, 747, __pyx_L1_error)</span>)
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_v_items)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_v_items)) {
    __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_v_items; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    __pyx_t_2 = 0;
    __pyx_t_3 = NULL;
  } else {
    __pyx_t_2 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_cur_scope-&gt;__pyx_v_items);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 747, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 747, __pyx_L1_error)</span>
  }
  for (;;) {
    if (likely(!__pyx_t_3)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 747, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 747, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 747, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 747, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 747, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 747, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      }
    } else {
      __pyx_t_4 = __pyx_t_3(__pyx_t_1);
      if (unlikely(!__pyx_t_4)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 747, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    }
    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_cur_scope-&gt;__pyx_v_x);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_cur_scope-&gt;__pyx_v_x, __pyx_t_4);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
    __pyx_t_4 = 0;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(747,0,<span class='error_goto'>__PYX_ERR(0, 747, __pyx_L1_error)</span>)
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);
</pre><pre class="cython line score-18" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0748</span>:         if isinstance(x, IterableInstance) and not isinstance(x, (str, bytes)):</pre>
<pre class='cython code score-18 '>    <span class='trace'>__Pyx_TraceLine</span>(748,0,<span class='error_goto'>__PYX_ERR(0, 748, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_IterableInstance);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 748, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_6 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_cur_scope-&gt;__pyx_v_x, __pyx_t_4);<span class='error_goto'> if (unlikely(__pyx_t_6 == ((int)-1))) __PYX_ERR(0, 748, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (__pyx_t_6) {
    } else {
      __pyx_t_5 = __pyx_t_6;
      goto __pyx_L7_bool_binop_done;
    }
    __pyx_t_7 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_cur_scope-&gt;__pyx_v_x); 
    if (!__pyx_t_7) {
    } else {
      __pyx_t_6 = __pyx_t_7;
      goto __pyx_L9_bool_binop_done;
    }
    __pyx_t_7 = <span class='py_c_api'>PyBytes_Check</span>(__pyx_cur_scope-&gt;__pyx_v_x); 
    __pyx_t_6 = __pyx_t_7;
    __pyx_L9_bool_binop_done:;
    __pyx_t_7 = (!__pyx_t_6);
    __pyx_t_5 = __pyx_t_7;
    __pyx_L7_bool_binop_done:;
    if (__pyx_t_5) {
/* â€¦ */
      goto __pyx_L6;
    }
</pre><pre class="cython line score-66" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0749</span>:             for sub_x in _flatten(x):</pre>
<pre class='cython code score-66 '>      <span class='trace'>__Pyx_TraceLine</span>(749,0,<span class='error_goto'>__PYX_ERR(0, 749, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_8, __pyx_n_s_flatten);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 749, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      __pyx_t_9 = NULL;
      __pyx_t_10 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_8))) {
        __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_8);
        if (likely(__pyx_t_9)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_8);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_8, function);
          __pyx_t_10 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_9, __pyx_cur_scope-&gt;__pyx_v_x};
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_8, __pyx_callargs+1-__pyx_t_10, 1+__pyx_t_10);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 749, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      }
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_4)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_4)) {
        __pyx_t_8 = __pyx_t_4; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
        __pyx_t_11 = 0;
        __pyx_t_12 = NULL;
      } else {
        __pyx_t_11 = -1; __pyx_t_8 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 749, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
        __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 749, __pyx_L1_error)</span>
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      for (;;) {
        if (likely(!__pyx_t_12)) {
          if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_8))) {
            {
              Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_8);
              #if !CYTHON_ASSUME_SAFE_MACROS
              if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 749, __pyx_L1_error)</span>
              #endif
              if (__pyx_t_11 &gt;= __pyx_temp) break;
            }
            #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
            __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_8, __pyx_t_11); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_11++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 749, __pyx_L1_error)</span>
            #else
            __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_8, __pyx_t_11); __pyx_t_11++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 749, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
            #endif
          } else {
            {
              Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_8);
              #if !CYTHON_ASSUME_SAFE_MACROS
              if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 749, __pyx_L1_error)</span>
              #endif
              if (__pyx_t_11 &gt;= __pyx_temp) break;
            }
            #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
            __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_8, __pyx_t_11); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_11++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 749, __pyx_L1_error)</span>
            #else
            __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_8, __pyx_t_11); __pyx_t_11++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 749, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
            #endif
          }
        } else {
          __pyx_t_4 = __pyx_t_12(__pyx_t_8);
          if (unlikely(!__pyx_t_4)) {
            PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
            if (exc_type) {
              if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
              else <span class='error_goto'>__PYX_ERR(0, 749, __pyx_L1_error)</span>
            }
            break;
          }
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        }
        <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_cur_scope-&gt;__pyx_v_sub_x);
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_cur_scope-&gt;__pyx_v_sub_x, __pyx_t_4);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
        __pyx_t_4 = 0;
/* â€¦ */
        <span class='trace'>__Pyx_TraceLine</span>(749,0,<span class='error_goto'>__PYX_ERR(0, 749, __pyx_L1_error)</span>)
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0750</span>:                 yield sub_x</pre>
<pre class='cython code score-3 '>        <span class='trace'>__Pyx_TraceLine</span>(750,0,<span class='error_goto'>__PYX_ERR(0, 750, __pyx_L1_error)</span>)
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_sub_x);
        __pyx_r = __pyx_cur_scope-&gt;__pyx_v_sub_x;
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_1);
        __pyx_cur_scope-&gt;__pyx_t_0 = __pyx_t_1;
        __pyx_cur_scope-&gt;__pyx_t_1 = __pyx_t_2;
        __pyx_cur_scope-&gt;__pyx_t_2 = __pyx_t_3;
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_8);
        __pyx_cur_scope-&gt;__pyx_t_3 = __pyx_t_8;
        __pyx_cur_scope-&gt;__pyx_t_4 = __pyx_t_11;
        __pyx_cur_scope-&gt;__pyx_t_5 = __pyx_t_12;
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
        <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
        <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
        <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
        /* return from generator, yielding value */
        __pyx_generator-&gt;resume_label = 1;
        return __pyx_r;
        __pyx_L13_resume_from_yield:;
        __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_t_0;
        __pyx_cur_scope-&gt;__pyx_t_0 = 0;
        <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
        __pyx_t_2 = __pyx_cur_scope-&gt;__pyx_t_1;
        __pyx_t_3 = __pyx_cur_scope-&gt;__pyx_t_2;
        __pyx_t_8 = __pyx_cur_scope-&gt;__pyx_t_3;
        __pyx_cur_scope-&gt;__pyx_t_3 = 0;
        <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_8);
        __pyx_t_11 = __pyx_cur_scope-&gt;__pyx_t_4;
        __pyx_t_12 = __pyx_cur_scope-&gt;__pyx_t_5;
        if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 750, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0751</span>:         else:</pre>
<pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0752</span>:             yield x</pre>
<pre class='cython code score-3 '>    <span class='trace'>__Pyx_TraceLine</span>(752,0,<span class='error_goto'>__PYX_ERR(0, 752, __pyx_L1_error)</span>)
    /*else*/ {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_x);
      __pyx_r = __pyx_cur_scope-&gt;__pyx_v_x;
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_1);
      __pyx_cur_scope-&gt;__pyx_t_0 = __pyx_t_1;
      __pyx_cur_scope-&gt;__pyx_t_1 = __pyx_t_2;
      __pyx_cur_scope-&gt;__pyx_t_2 = __pyx_t_3;
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
      <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
      <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
      <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
      /* return from generator, yielding value */
      __pyx_generator-&gt;resume_label = 2;
      return __pyx_r;
      __pyx_L15_resume_from_yield:;
      __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_t_0;
      __pyx_cur_scope-&gt;__pyx_t_0 = 0;
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
      __pyx_t_2 = __pyx_cur_scope-&gt;__pyx_t_1;
      __pyx_t_3 = __pyx_cur_scope-&gt;__pyx_t_2;
      if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 752, __pyx_L1_error)</span>
    }
    __pyx_L6:;
</pre><pre class="cython line score-0">&#xA0;<span class="">0753</span>: </pre>
<pre class="cython line score-48" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0754</span>: def filter_nan_values(</pre>
<pre class='cython code score-48 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_20filter_nan_values(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_19filter_nan_values, "\n    Filters out NaN values from provided lists based on a specified policy,\n    adjusts sample weights if necessary, and can optionally flatten the input lists.\n\n    Parameters\n    ----------\n    nan_policy : {'omit', 'propagate', 'raise'}\n        Determines how NaN values are handled:\n        - 'omit': Removes NaN values from the lists.\n        - 'propagate': Keeps NaN values in the lists.\n        - 'raise': Raises an error if NaN values are found.\n    data_lists : list of lists or arrays\n        Variable number of list-like or array-like sequences from which NaN\n        values are to be filtered based on the `nan_policy`.\n    sample_weights : array-like, optional\n        Weights corresponding to each entry in `data_lists`. If provided,\n        they are adjusted to match the filtering operation.\n    error : {'raise', 'warn'}, default 'raise'\n        Error handling strategy if sample weights do not match the number\n        of entries after filtering.\n    flatten : bool, default False\n        If True, flattens each list in `data_lists` before applying the filter.\n    preserve_type : bool, default False\n        If True, preserves the original type of nested structures within `data_lists`.\n\n    Returns\n    -------\n    tuple\n        A tuple containing the filtered lists. If `sample_weights` is provided,\n        it is included as the last element of the tuple.\n\n    Raises\n    ------\n    ValueError\n        If `nan_policy` is 'raise' and NaN values are present.\n\n    Examples\n    --------\n    &gt;&gt;&gt; from gofast.tools.baseutils import filter_nan_values\n    &gt;&gt;&gt; list1 = [{2, 3}, {1, 2, np.nan}]\n    &gt;&gt;&gt; list2 = [{1, 2, 3}, {1, 2, 3, np.nan}]\n    &gt;&gt;&gt; weights = [0.5, 1.0, 1.5, 2.0]\n    &gt;&gt;&gt; print(filter_nan_values('omit', list1, list2, sample_weights=weights,\n    ...             error=\"warn\", flatten=True, preserve_type=True))\n    ({1, 2, 3}, {1, 2, 3}, [0.5, 1.0, 1.5, 2.0])\n\n    &gt;&gt;&gt; filter_nan_values('raise', data1, error='warn')\n   "" ValueError: NaN values present and nan_policy is 'raise'.\n\n    Notes\n    -----\n    This function is useful for pre-processing data for algorithms that do not\n    support NaN values or require array-like input with optional weighting. The\n    `flatten` option is particularly useful for handling nested lists or arrays.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_20filter_nan_values = {"filter_nan_values", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_20filter_nan_values, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_19filter_nan_values};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_20filter_nan_values(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_nan_policy = 0;
  PyObject *__pyx_v_sample_weights = 0;
  PyObject *__pyx_v_error = 0;
  PyObject *__pyx_v_flatten = 0;
  PyObject *__pyx_v_preserve_type = 0;
  PyObject *__pyx_v_data_lists = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("filter_nan_values (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  __pyx_v_data_lists = <span class='pyx_c_api'>__Pyx_ArgsSlice_FASTCALL</span>(__pyx_args, 1, __pyx_nargs);
  if (unlikely(!__pyx_v_data_lists)) {
    <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
    return NULL;
  }
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_v_data_lists);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_nan_policy,&amp;__pyx_n_s_sample_weights,&amp;__pyx_n_s_error,&amp;__pyx_n_s_flatten_2,&amp;__pyx_n_s_preserve_type,0};
  PyObject* values[5] = {0,0,0,0,0};
/* â€¦ */
  /* function exit code */
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_data_lists);
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_19filter_nan_values(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_nan_policy, PyObject *__pyx_v_sample_weights, PyObject *__pyx_v_error, PyObject *__pyx_v_flatten, PyObject *__pyx_v_preserve_type, PyObject *__pyx_v_data_lists) {
  PyObject *__pyx_v_listof = NULL;
  PyObject *__pyx_v_arrays = NULL;
  PyObject *__pyx_v_filtered_arrays = NULL;
  PyObject *__pyx_v_non_nan_mask = NULL;
  PyObject *__pyx_v_filtered_listof = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__25)
  <span class='trace'>__Pyx_TraceCall</span>("filter_nan_values", __pyx_f[0], 754, 0, <span class='error_goto'>__PYX_ERR(0, 754, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_sample_weights);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.filter_nan_values", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_listof);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_arrays);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_filtered_arrays);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_non_nan_mask);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_filtered_listof);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_sample_weights);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__160 = <span class='py_c_api'>PyTuple_Pack</span>(11, __pyx_n_s_nan_policy, __pyx_n_s_sample_weights, __pyx_n_s_error, __pyx_n_s_flatten_2, __pyx_n_s_preserve_type, __pyx_n_s_data_lists, __pyx_n_s_listof, __pyx_n_s_arrays, __pyx_n_s_filtered_arrays, __pyx_n_s_non_nan_mask, __pyx_n_s_filtered_listof);<span class='error_goto'> if (unlikely(!__pyx_tuple__160)) __PYX_ERR(0, 754, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__160);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__160);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(754,0,<span class='error_goto'>__PYX_ERR(0, 754, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 754, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(754,0,<span class='error_goto'>__PYX_ERR(0, 754, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_20filter_nan_values, 0, __pyx_n_s_filter_nan_values, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__25));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 754, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsKwDict</span>(__pyx_t_2, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_filter_nan_values, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 754, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_codeobj__25 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(1, 0, 4, 11, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARARGS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__160, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_filter_nan_values, 754, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__25)) __PYX_ERR(0, 754, __pyx_L1_error)</span>
</pre><pre class="cython line score-24" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0755</span>:         nan_policy, *data_lists, sample_weights=None, error="raise",</pre>
<pre class='cython code score-24 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_n_u_raise)));
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(755,0,<span class='error_goto'>__PYX_ERR(0, 755, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_sample_weights, Py_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 754, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_error, ((PyObject*)__pyx_n_u_raise)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 754, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_flatten_2, ((PyObject *)Py_False)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 754, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_preserve_type, ((PyObject *)Py_False)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 754, __pyx_L1_error)</span>
</pre><pre class="cython line score-37" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0756</span>:         flatten=False, preserve_type=False):</pre>
<pre class='cython code score-37 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        default:
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_nan_policy)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 754, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
      }
      if (kw_args &gt; 0 &amp;&amp; likely(kw_args &lt;= 4)) {
        Py_ssize_t index;
        for (index = 1; index &lt; 5 &amp;&amp; kw_args &gt; 0; index++) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, *__pyx_pyargnames[index]);
          if (value) { values[index] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 754, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        const Py_ssize_t used_pos_args = (kwd_pos_args &lt; 1) ? kwd_pos_args : 1;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, used_pos_args, "filter_nan_values") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 754, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs &lt; 1)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
    }
    __pyx_v_nan_policy = values[0];
    __pyx_v_sample_weights = values[1];
    __pyx_v_error = values[2];
    __pyx_v_flatten = values[3];
    __pyx_v_preserve_type = values[4];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("filter_nan_values", 0, 1, 1, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 754, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_data_lists); __pyx_v_data_lists = 0;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.filter_nan_values", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_19filter_nan_values(__pyx_self, __pyx_v_nan_policy, __pyx_v_sample_weights, __pyx_v_error, __pyx_v_flatten, __pyx_v_preserve_type, __pyx_v_data_lists);
</pre><pre class="cython line score-0">&#xA0;<span class="">0757</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">0758</span>:     Filters out NaN values from provided lists based on a specified policy,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0759</span>:     adjusts sample weights if necessary, and can optionally flatten the input lists.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0760</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0761</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">0762</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0763</span>:     nan_policy : {'omit', 'propagate', 'raise'}</pre>
<pre class="cython line score-0">&#xA0;<span class="">0764</span>:         Determines how NaN values are handled:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0765</span>:         - 'omit': Removes NaN values from the lists.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0766</span>:         - 'propagate': Keeps NaN values in the lists.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0767</span>:         - 'raise': Raises an error if NaN values are found.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0768</span>:     data_lists : list of lists or arrays</pre>
<pre class="cython line score-0">&#xA0;<span class="">0769</span>:         Variable number of list-like or array-like sequences from which NaN</pre>
<pre class="cython line score-0">&#xA0;<span class="">0770</span>:         values are to be filtered based on the `nan_policy`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0771</span>:     sample_weights : array-like, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">0772</span>:         Weights corresponding to each entry in `data_lists`. If provided,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0773</span>:         they are adjusted to match the filtering operation.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0774</span>:     error : {'raise', 'warn'}, default 'raise'</pre>
<pre class="cython line score-0">&#xA0;<span class="">0775</span>:         Error handling strategy if sample weights do not match the number</pre>
<pre class="cython line score-0">&#xA0;<span class="">0776</span>:         of entries after filtering.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0777</span>:     flatten : bool, default False</pre>
<pre class="cython line score-0">&#xA0;<span class="">0778</span>:         If True, flattens each list in `data_lists` before applying the filter.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0779</span>:     preserve_type : bool, default False</pre>
<pre class="cython line score-0">&#xA0;<span class="">0780</span>:         If True, preserves the original type of nested structures within `data_lists`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0781</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0782</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">0783</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0784</span>:     tuple</pre>
<pre class="cython line score-0">&#xA0;<span class="">0785</span>:         A tuple containing the filtered lists. If `sample_weights` is provided,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0786</span>:         it is included as the last element of the tuple.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0787</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0788</span>:     Raises</pre>
<pre class="cython line score-0">&#xA0;<span class="">0789</span>:     ------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0790</span>:     ValueError</pre>
<pre class="cython line score-0">&#xA0;<span class="">0791</span>:         If `nan_policy` is 'raise' and NaN values are present.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0792</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0793</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">0794</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0795</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import filter_nan_values</pre>
<pre class="cython line score-0">&#xA0;<span class="">0796</span>:     &gt;&gt;&gt; list1 = [{2, 3}, {1, 2, np.nan}]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0797</span>:     &gt;&gt;&gt; list2 = [{1, 2, 3}, {1, 2, 3, np.nan}]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0798</span>:     &gt;&gt;&gt; weights = [0.5, 1.0, 1.5, 2.0]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0799</span>:     &gt;&gt;&gt; print(filter_nan_values('omit', list1, list2, sample_weights=weights,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0800</span>:     ...             error="warn", flatten=True, preserve_type=True))</pre>
<pre class="cython line score-0">&#xA0;<span class="">0801</span>:     ({1, 2, 3}, {1, 2, 3}, [0.5, 1.0, 1.5, 2.0])</pre>
<pre class="cython line score-0">&#xA0;<span class="">0802</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0803</span>:     &gt;&gt;&gt; filter_nan_values('raise', data1, error='warn')</pre>
<pre class="cython line score-0">&#xA0;<span class="">0804</span>:     ValueError: NaN values present and nan_policy is 'raise'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0805</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0806</span>:     Notes</pre>
<pre class="cython line score-0">&#xA0;<span class="">0807</span>:     -----</pre>
<pre class="cython line score-0">&#xA0;<span class="">0808</span>:     This function is useful for pre-processing data for algorithms that do not</pre>
<pre class="cython line score-0">&#xA0;<span class="">0809</span>:     support NaN values or require array-like input with optional weighting. The</pre>
<pre class="cython line score-0">&#xA0;<span class="">0810</span>:     `flatten` option is particularly useful for handling nested lists or arrays.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0811</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">0812</span>:     # Validate nan_policy</pre>
<pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0813</span>:     if nan_policy not in ['omit', 'propagate', 'raise']:</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(813,0,<span class='error_goto'>__PYX_ERR(0, 813, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_nan_policy);
  __pyx_t_1 = __pyx_v_nan_policy;
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_1, __pyx_n_u_omit, Py_NE)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 813, __pyx_L1_error)</span>
  if (__pyx_t_3) {
  } else {
    __pyx_t_2 = __pyx_t_3;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_1, __pyx_n_u_propagate, Py_NE)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 813, __pyx_L1_error)</span>
  if (__pyx_t_3) {
  } else {
    __pyx_t_2 = __pyx_t_3;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_1, __pyx_n_u_raise, Py_NE)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 813, __pyx_L1_error)</span>
  __pyx_t_2 = __pyx_t_3;
  __pyx_L4_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = __pyx_t_2;
  if (unlikely(__pyx_t_3)) {
/* â€¦ */
  }
</pre><pre class="cython line score-27" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0814</span>:         raise ValueError(f"Invalid nan_policy: {nan_policy}. Must be one of"</pre>
<pre class='cython code score-27 '>    <span class='trace'>__Pyx_TraceLine</span>(814,0,<span class='error_goto'>__PYX_ERR(0, 814, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 814, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_4 = 0;
    __pyx_t_5 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Invalid_nan_policy);
    __pyx_t_4 += 20;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Invalid_nan_policy);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_kp_u_Invalid_nan_policy);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_nan_policy, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 814, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_6) &gt; __pyx_t_5) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_6) : __pyx_t_5;
    __pyx_t_4 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_6);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_6);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_t_6);
    __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Must_be_one_of_omit_propagate_r);
    __pyx_t_4 += 46;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Must_be_one_of_omit_propagate_r);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 2, __pyx_kp_u_Must_be_one_of_omit_propagate_r);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_1, 3, __pyx_t_4, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 814, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 814, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_1, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='error_goto'>__PYX_ERR(0, 814, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0815</span>:                          " 'omit', 'propagate', 'raise'.")</pre>
<pre class="cython line score-0">&#xA0;<span class="">0816</span>: </pre>
<pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0817</span>:     for listof in data_lists:</pre>
<pre class='cython code score-9 '>  <span class='trace'>__Pyx_TraceLine</span>(817,0,<span class='error_goto'>__PYX_ERR(0, 817, __pyx_L1_error)</span>)
  __pyx_t_1 = __pyx_v_data_lists; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
  __pyx_t_4 = 0;
  for (;;) {
    {
      Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
      #if !CYTHON_ASSUME_SAFE_MACROS
      if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 817, __pyx_L1_error)</span>
      #endif
      if (__pyx_t_4 &gt;= __pyx_temp) break;
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    __pyx_t_6 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_4); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6); __pyx_t_4++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 817, __pyx_L1_error)</span>
    #else
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_4); __pyx_t_4++;<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 817, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    #endif
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_listof, __pyx_t_6);
    __pyx_t_6 = 0;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(817,0,<span class='error_goto'>__PYX_ERR(0, 817, __pyx_L1_error)</span>)
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0818</span>:         if not contains_nested_objects(listof, strict=True):</pre>
<pre class='cython code score-25 '>    <span class='trace'>__Pyx_TraceLine</span>(818,0,<span class='error_goto'>__PYX_ERR(0, 818, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_contains_nested_objects);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 818, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_7 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 818, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_listof);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_listof);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 0, __pyx_v_listof)) <span class='error_goto'>__PYX_ERR(0, 818, __pyx_L1_error)</span>;
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 818, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_8, __pyx_n_s_strict, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 818, __pyx_L1_error)</span>
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_6, __pyx_t_7, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 818, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_9); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 818, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    __pyx_t_2 = (!__pyx_t_3);
    if (unlikely(__pyx_t_2)) {
/* â€¦ */
    }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0819</span>:             raise ValueError(</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(819,0,<span class='error_goto'>__PYX_ERR(0, 819, __pyx_L1_error)</span>)
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__26, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 819, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_9, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      <span class='error_goto'>__PYX_ERR(0, 819, __pyx_L1_error)</span>
/* â€¦ */
  __pyx_tuple__26 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_filter_nan_values_expects_each_i);<span class='error_goto'> if (unlikely(!__pyx_tuple__26)) __PYX_ERR(0, 819, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__26);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__26);
</pre><pre class="cython line score-0">&#xA0;<span class="">0820</span>:                 "filter_nan_values expects each item in the data_lists"</pre>
<pre class="cython line score-0">&#xA0;<span class="">0821</span>:                 " to be a nested structure (e.g., list, set, or dict)."</pre>
<pre class="cython line score-0">&#xA0;<span class="">0822</span>:                 " Please ensure all elements are nested."</pre>
<pre class="cython line score-0">&#xA0;<span class="">0823</span>:                 )</pre>
<pre class="cython line score-0">&#xA0;<span class="">0824</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0825</span>:     # Prepare arrays by flattening if requested</pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0826</span>:     arrays = _prepare_arrays(data_lists, flatten)</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(826,0,<span class='error_goto'>__PYX_ERR(0, 826, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_9, __pyx_n_s_prepare_arrays);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 826, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  __pyx_t_8 = NULL;
  __pyx_t_10 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
    __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
    if (likely(__pyx_t_8)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
      __pyx_t_10 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_8, __pyx_v_data_lists, __pyx_v_flatten};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_10, 2+__pyx_t_10);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 826, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
  }
  __pyx_v_arrays = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0827</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0828</span>:     # Apply NaN policy to arrays</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0829</span>:     filtered_arrays, non_nan_mask = _apply_nan_policy(</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(829,0,<span class='error_goto'>__PYX_ERR(0, 829, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_9, __pyx_n_s_apply_nan_policy);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 829, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(829,0,<span class='error_goto'>__PYX_ERR(0, 829, __pyx_L1_error)</span>)
  __pyx_v_filtered_arrays = __pyx_t_9;
  __pyx_t_9 = 0;
  __pyx_v_non_nan_mask = __pyx_t_8;
  __pyx_t_8 = 0;
</pre><pre class="cython line score-60" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0830</span>:         arrays, nan_policy, flatten)</pre>
<pre class='cython code score-60 '>  <span class='trace'>__Pyx_TraceLine</span>(830,0,<span class='error_goto'>__PYX_ERR(0, 830, __pyx_L1_error)</span>)
  __pyx_t_8 = NULL;
  __pyx_t_10 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
    __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
    if (likely(__pyx_t_8)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
      __pyx_t_10 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[4] = {__pyx_t_8, __pyx_v_arrays, __pyx_v_nan_policy, __pyx_v_flatten};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_10, 3+__pyx_t_10);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 829, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
  }
  if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_1))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
    PyObject* sequence = __pyx_t_1;
    Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
    if (unlikely(size != 2)) {
      if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
      else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
      <span class='error_goto'>__PYX_ERR(0, 829, __pyx_L1_error)</span>
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
      __pyx_t_9 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
      __pyx_t_8 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
    } else {
      __pyx_t_9 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
      __pyx_t_8 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
    }
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
    #else
    __pyx_t_9 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 829, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_8 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 829, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    #endif
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  } else {
    Py_ssize_t index = -1;
    __pyx_t_7 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 829, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_7);
    index = 0; __pyx_t_9 = __pyx_t_11(__pyx_t_7); if (unlikely(!__pyx_t_9)) goto __pyx_L11_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    index = 1; __pyx_t_8 = __pyx_t_11(__pyx_t_7); if (unlikely(!__pyx_t_8)) goto __pyx_L11_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_11(__pyx_t_7), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 829, __pyx_L1_error)</span>
    __pyx_t_11 = NULL;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    goto __pyx_L12_unpacking_done;
    __pyx_L11_unpacking_failed:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_11 = NULL;
    if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
    <span class='error_goto'>__PYX_ERR(0, 829, __pyx_L1_error)</span>
    __pyx_L12_unpacking_done:;
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">0831</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0832</span>:     # Adjust sample weights according to the filtered data</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0833</span>:     if sample_weights is not None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(833,0,<span class='error_goto'>__PYX_ERR(0, 833, __pyx_L1_error)</span>)
  __pyx_t_2 = (__pyx_v_sample_weights != Py_None);
  if (__pyx_t_2) {
/* â€¦ */
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0834</span>:         sample_weights = _adjust_sample_weights(</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(834,0,<span class='error_goto'>__PYX_ERR(0, 834, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_8, __pyx_n_s_adjust_sample_weights);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 834, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0835</span>:             sample_weights, non_nan_mask, error)</pre>
<pre class='cython code score-15 '>    <span class='trace'>__Pyx_TraceLine</span>(835,0,<span class='error_goto'>__PYX_ERR(0, 835, __pyx_L1_error)</span>)
    __pyx_t_9 = NULL;
    __pyx_t_10 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_8))) {
      __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_8);
      if (likely(__pyx_t_9)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_8, function);
        __pyx_t_10 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[4] = {__pyx_t_9, __pyx_v_sample_weights, __pyx_v_non_nan_mask, __pyx_v_error};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_8, __pyx_callargs+1-__pyx_t_10, 3+__pyx_t_10);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 834, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_sample_weights, __pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0836</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0837</span>:     # Prepare the output list, preserving types if required</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0838</span>:     filtered_listof = _prepare_output(</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(838,0,<span class='error_goto'>__PYX_ERR(0, 838, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_8, __pyx_n_s_prepare_output);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 838, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
</pre><pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0839</span>:         filtered_arrays, preserve_type, data_lists, flatten)</pre>
<pre class='cython code score-14 '>  <span class='trace'>__Pyx_TraceLine</span>(839,0,<span class='error_goto'>__PYX_ERR(0, 839, __pyx_L1_error)</span>)
  __pyx_t_9 = NULL;
  __pyx_t_10 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_8))) {
    __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_8);
    if (likely(__pyx_t_9)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_8, function);
      __pyx_t_10 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[5] = {__pyx_t_9, __pyx_v_filtered_arrays, __pyx_v_preserve_type, __pyx_v_data_lists, __pyx_v_flatten};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_8, __pyx_callargs+1-__pyx_t_10, 4+__pyx_t_10);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 838, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
  }
  __pyx_v_filtered_listof = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0840</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0841</span>:     # Return the filtered data, including sample weights if provided</pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0842</span>:     return (*filtered_listof, sample_weights) if sample_weights is not None else tuple(</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(842,0,<span class='error_goto'>__PYX_ERR(0, 842, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_2 = (__pyx_v_sample_weights != Py_None);
  if (__pyx_t_2) {
    __pyx_t_8 = <span class='py_c_api'>PySequence_List</span>(__pyx_v_filtered_listof);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 842, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    if (<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_8, __pyx_v_sample_weights) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 842, __pyx_L1_error)</span>
    {
      PyObject *__pyx_temp = <span class='py_c_api'>PyList_AsTuple</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8);
      __pyx_t_8 = __pyx_temp;<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 842, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    }
    __pyx_t_1 = __pyx_t_8;
    __pyx_t_8 = 0;
  } else {
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(843,0,<span class='error_goto'>__PYX_ERR(0, 843, __pyx_L1_error)</span>)
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PySequence_Tuple</span>(__pyx_v_filtered_listof);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 842, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    __pyx_t_1 = __pyx_t_8;
    __pyx_t_8 = 0;
  }
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0843</span>:         filtered_listof)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0844</span>: </pre>
<pre class="cython line score-51" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0845</span>: def adjust_weights(</pre>
<pre class='cython code score-51 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_22adjust_weights(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_21adjust_weights, "\n    Adjusts sample weights to match the lengths of filtered or transformed datasets.\n    This function can handle scenarios where the filtered data is shorter than the\n    original weights array, either by truncating or by filling the remaining weights.\n\n    Normalization can be applied to adjust the scale of the weights after \n    adjusting their length.\n    \n    Parameters\n    ----------\n    data_lengths : list or array-like\n        A list of integers representing the lengths of the filtered datasets.\n        This is used to determine how to adjust the sample weights array.\n    original_weights : array-like\n        The original weights array that needs adjustment to match the filtered data.\n    mode : str, optional\n        Specifies the method for adjusting the weights:\n        - 'auto': Automatically decides based on the data_lengths. If any length in\n          data_lengths is less than the length of original_weights, it trims the weights;\n          otherwise, it fills or repeats weights if fill_value is not None.\n        - 'trim': Trims the weights to match the shortest length in data_lengths.\n        - 'fill': Extends the weights to match the longest length in data_lengths,\n          using fill_value for the new elements.\n    fill_value : float or None, optional\n        The value used to fill the weights array if 'fill' mode is active and the\n        weights need to be extended. If None and 'fill' is required, an error will\n        be raised.\n    normalize : bool or str, optional\n        If True normalizes the weights after adjusting their length.\n        If False, no normalization is applied.\n    normalize_method : str, optional\n        Normalization method ('01' for 0-1 scaling, 'zscore' for Z-score, or 'sum'\n        to scale by the sum of weights).\n    Returns\n    -------\n    np.ndarray\n        The adjusted weights array that matches the specified requirements based on the\n        filtered data lengths.\n\n    Raises""\n    ------\n    ValueError\n        If 'fill' mode is selected but fill_value is None and the weights need\n        extending.\n\n    Examples\n    --------\n    &gt;&gt;&gt; from gofast.tools.baseutils import adjust_weights\n    &gt;&gt;&gt; weights = [1, 2, 3, 4, 5]\n    &gt;&gt;&gt; data_lengths = [3, 4]\n    &gt;&gt;&gt; adjust_weights(data_lengths, weights, match_mode='trim')\n    array([1, 2, 3])\n\n    &gt;&gt;&gt; adjust_weights(data_lengths, weights, match_mode='fill', fill_value=0)\n    array([1, 2, 3, 4, 5, 0])\n\n    &gt;&gt;&gt; adjust_weights(data_lengths, weights, mode='auto', fill_value=0, \n    ...                normalize=True, normalize_method='01')\n    array([0.2, 0.4, 0.6, 0.8, 1. , 0. ])\n    \n    Notes\n    -----\n    Normalization is applied after adjusting the weights to ensure that the \n    processed weights are ready for use in weighted statistical analyses or models.\n    The choice between trimming and filling depends on the analysis needs and \n    the nature of the data. Care should be taken with 'fill' mode as it \n    introduces artificial values.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_22adjust_weights = {"adjust_weights", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_22adjust_weights, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_21adjust_weights};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_22adjust_weights(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_data_lengths = 0;
  PyObject *__pyx_v_original_weights = 0;
  PyObject *__pyx_v_mode = 0;
  PyObject *__pyx_v_fill_value = 0;
  PyObject *__pyx_v_normalize = 0;
  PyObject *__pyx_v_normalize_method = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("adjust_weights (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_data_lengths,&amp;__pyx_n_s_original_weights,&amp;__pyx_n_s_mode,&amp;__pyx_n_s_fill_value,&amp;__pyx_n_s_normalize,&amp;__pyx_n_s_normalize_method,0};
  PyObject* values[6] = {0,0,0,0,0,0};
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_n_u_auto)));
/* â€¦ */
  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_21adjust_weights(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_data_lengths, PyObject *__pyx_v_original_weights, PyObject *__pyx_v_mode, PyObject *__pyx_v_fill_value, PyObject *__pyx_v_normalize, PyObject *__pyx_v_normalize_method) {
  PyObject *__pyx_v_max_length = NULL;
  PyObject *__pyx_v_min_length = NULL;
  PyObject *__pyx_v_required_length = NULL;
  PyObject *__pyx_v_adjusted_weights = NULL;
  PyObject *__pyx_v_extra_length = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__27)
  <span class='trace'>__Pyx_TraceCall</span>("adjust_weights", __pyx_f[0], 845, 0, <span class='error_goto'>__PYX_ERR(0, 845, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data_lengths);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_original_weights);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.adjust_weights", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_max_length);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_min_length);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_required_length);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_adjusted_weights);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_extra_length);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_data_lengths);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_original_weights);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__161 = <span class='py_c_api'>PyTuple_Pack</span>(11, __pyx_n_s_data_lengths, __pyx_n_s_original_weights, __pyx_n_s_mode, __pyx_n_s_fill_value, __pyx_n_s_normalize, __pyx_n_s_normalize_method, __pyx_n_s_max_length, __pyx_n_s_min_length, __pyx_n_s_required_length, __pyx_n_s_adjusted_weights, __pyx_n_s_extra_length);<span class='error_goto'> if (unlikely(!__pyx_tuple__161)) __PYX_ERR(0, 845, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__161);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__161);
  __pyx_codeobj__27 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(6, 0, 0, 11, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__161, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_adjust_weights_2, 845, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__27)) __PYX_ERR(0, 845, __pyx_L1_error)</span>
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(845,0,<span class='error_goto'>__PYX_ERR(0, 845, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_22adjust_weights, 0, __pyx_n_s_adjust_weights_2, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__27));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 845, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_2, __pyx_tuple__162);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_adjust_weights_2, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 845, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_tuple__162 = <span class='py_c_api'>PyTuple_Pack</span>(4, ((PyObject*)__pyx_n_u_auto), Py_None, ((PyObject *)Py_False), ((PyObject*)__pyx_kp_u_01));<span class='error_goto'> if (unlikely(!__pyx_tuple__162)) __PYX_ERR(0, 845, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__162);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__162);
</pre><pre class="cython line score-0">&#xA0;<span class="">0846</span>:     data_lengths,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0847</span>:     original_weights,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0848</span>:     mode="auto",</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0849</span>:     fill_value=None,</pre>
<pre class='cython code score-2 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-94" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0850</span>:     normalize=False,</pre>
<pre class='cython code score-94 '>    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_kp_u_01)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data_lengths)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 845, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_original_weights)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 845, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("adjust_weights", 0, 2, 6, 1); <span class='error_goto'>__PYX_ERR(0, 845, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_mode);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 845, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_fill_value);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 845, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_normalize);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 845, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  5:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_normalize_method);
          if (value) { values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 845, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "adjust_weights") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 845, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_data_lengths = values[0];
    __pyx_v_original_weights = values[1];
    __pyx_v_mode = values[2];
    __pyx_v_fill_value = values[3];
    __pyx_v_normalize = values[4];
    __pyx_v_normalize_method = values[5];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("adjust_weights", 0, 2, 6, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 845, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.adjust_weights", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_21adjust_weights(__pyx_self, __pyx_v_data_lengths, __pyx_v_original_weights, __pyx_v_mode, __pyx_v_fill_value, __pyx_v_normalize, __pyx_v_normalize_method);
</pre><pre class="cython line score-0">&#xA0;<span class="">0851</span>:     normalize_method="01"</pre>
<pre class="cython line score-0">&#xA0;<span class="">0852</span>:     ):</pre>
<pre class="cython line score-0">&#xA0;<span class="">0853</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">0854</span>:     Adjusts sample weights to match the lengths of filtered or transformed datasets.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0855</span>:     This function can handle scenarios where the filtered data is shorter than the</pre>
<pre class="cython line score-0">&#xA0;<span class="">0856</span>:     original weights array, either by truncating or by filling the remaining weights.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0857</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0858</span>:     Normalization can be applied to adjust the scale of the weights after</pre>
<pre class="cython line score-0">&#xA0;<span class="">0859</span>:     adjusting their length.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0860</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0861</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">0862</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0863</span>:     data_lengths : list or array-like</pre>
<pre class="cython line score-0">&#xA0;<span class="">0864</span>:         A list of integers representing the lengths of the filtered datasets.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0865</span>:         This is used to determine how to adjust the sample weights array.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0866</span>:     original_weights : array-like</pre>
<pre class="cython line score-0">&#xA0;<span class="">0867</span>:         The original weights array that needs adjustment to match the filtered data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0868</span>:     mode : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">0869</span>:         Specifies the method for adjusting the weights:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0870</span>:         - 'auto': Automatically decides based on the data_lengths. If any length in</pre>
<pre class="cython line score-0">&#xA0;<span class="">0871</span>:           data_lengths is less than the length of original_weights, it trims the weights;</pre>
<pre class="cython line score-0">&#xA0;<span class="">0872</span>:           otherwise, it fills or repeats weights if fill_value is not None.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0873</span>:         - 'trim': Trims the weights to match the shortest length in data_lengths.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0874</span>:         - 'fill': Extends the weights to match the longest length in data_lengths,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0875</span>:           using fill_value for the new elements.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0876</span>:     fill_value : float or None, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">0877</span>:         The value used to fill the weights array if 'fill' mode is active and the</pre>
<pre class="cython line score-0">&#xA0;<span class="">0878</span>:         weights need to be extended. If None and 'fill' is required, an error will</pre>
<pre class="cython line score-0">&#xA0;<span class="">0879</span>:         be raised.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0880</span>:     normalize : bool or str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">0881</span>:         If True normalizes the weights after adjusting their length.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0882</span>:         If False, no normalization is applied.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0883</span>:     normalize_method : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">0884</span>:         Normalization method ('01' for 0-1 scaling, 'zscore' for Z-score, or 'sum'</pre>
<pre class="cython line score-0">&#xA0;<span class="">0885</span>:         to scale by the sum of weights).</pre>
<pre class="cython line score-0">&#xA0;<span class="">0886</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">0887</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0888</span>:     np.ndarray</pre>
<pre class="cython line score-0">&#xA0;<span class="">0889</span>:         The adjusted weights array that matches the specified requirements based on the</pre>
<pre class="cython line score-0">&#xA0;<span class="">0890</span>:         filtered data lengths.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0891</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0892</span>:     Raises</pre>
<pre class="cython line score-0">&#xA0;<span class="">0893</span>:     ------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0894</span>:     ValueError</pre>
<pre class="cython line score-0">&#xA0;<span class="">0895</span>:         If 'fill' mode is selected but fill_value is None and the weights need</pre>
<pre class="cython line score-0">&#xA0;<span class="">0896</span>:         extending.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0897</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0898</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">0899</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0900</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import adjust_weights</pre>
<pre class="cython line score-0">&#xA0;<span class="">0901</span>:     &gt;&gt;&gt; weights = [1, 2, 3, 4, 5]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0902</span>:     &gt;&gt;&gt; data_lengths = [3, 4]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0903</span>:     &gt;&gt;&gt; adjust_weights(data_lengths, weights, match_mode='trim')</pre>
<pre class="cython line score-0">&#xA0;<span class="">0904</span>:     array([1, 2, 3])</pre>
<pre class="cython line score-0">&#xA0;<span class="">0905</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0906</span>:     &gt;&gt;&gt; adjust_weights(data_lengths, weights, match_mode='fill', fill_value=0)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0907</span>:     array([1, 2, 3, 4, 5, 0])</pre>
<pre class="cython line score-0">&#xA0;<span class="">0908</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0909</span>:     &gt;&gt;&gt; adjust_weights(data_lengths, weights, mode='auto', fill_value=0,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0910</span>:     ...                normalize=True, normalize_method='01')</pre>
<pre class="cython line score-0">&#xA0;<span class="">0911</span>:     array([0.2, 0.4, 0.6, 0.8, 1. , 0. ])</pre>
<pre class="cython line score-0">&#xA0;<span class="">0912</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0913</span>:     Notes</pre>
<pre class="cython line score-0">&#xA0;<span class="">0914</span>:     -----</pre>
<pre class="cython line score-0">&#xA0;<span class="">0915</span>:     Normalization is applied after adjusting the weights to ensure that the</pre>
<pre class="cython line score-0">&#xA0;<span class="">0916</span>:     processed weights are ready for use in weighted statistical analyses or models.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0917</span>:     The choice between trimming and filling depends on the analysis needs and</pre>
<pre class="cython line score-0">&#xA0;<span class="">0918</span>:     the nature of the data. Care should be taken with 'fill' mode as it</pre>
<pre class="cython line score-0">&#xA0;<span class="">0919</span>:     introduces artificial values.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0920</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">0921</span>:     # Validate input types and values</pre>
<pre class="cython line score-21" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0922</span>:     if not isinstance(data_lengths, (list, tuple, np.ndarray)):</pre>
<pre class='cython code score-21 '>  <span class='trace'>__Pyx_TraceLine</span>(922,0,<span class='error_goto'>__PYX_ERR(0, 922, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 922, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_ndarray);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 922, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_4 = <span class='py_c_api'>PyList_Check</span>(__pyx_v_data_lengths); 
  if (!__pyx_t_4) {
  } else {
    __pyx_t_3 = __pyx_t_4;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_4 = <span class='py_c_api'>PyTuple_Check</span>(__pyx_v_data_lengths); 
  if (!__pyx_t_4) {
  } else {
    __pyx_t_3 = __pyx_t_4;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_4 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data_lengths, __pyx_t_2); 
  __pyx_t_3 = __pyx_t_4;
  __pyx_L4_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_4 = (!__pyx_t_3);
  if (unlikely(__pyx_t_4)) {
/* â€¦ */
  }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0923</span>:         raise TypeError("data_lengths must be a list, tuple, or numpy array.")</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(923,0,<span class='error_goto'>__PYX_ERR(0, 923, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_TypeError, __pyx_tuple__28, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 923, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='error_goto'>__PYX_ERR(0, 923, __pyx_L1_error)</span>
/* â€¦ */
  __pyx_tuple__28 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_data_lengths_must_be_a_list_tupl);<span class='error_goto'> if (unlikely(!__pyx_tuple__28)) __PYX_ERR(0, 923, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__28);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__28);
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0924</span>:     if not isinstance(original_weights, (list, np.ndarray)):</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(924,0,<span class='error_goto'>__PYX_ERR(0, 924, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 924, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_ndarray);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 924, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_3 = <span class='py_c_api'>PyList_Check</span>(__pyx_v_original_weights); 
  if (!__pyx_t_3) {
  } else {
    __pyx_t_4 = __pyx_t_3;
    goto __pyx_L8_bool_binop_done;
  }
  __pyx_t_3 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_original_weights, __pyx_t_1); 
  __pyx_t_4 = __pyx_t_3;
  __pyx_L8_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = (!__pyx_t_4);
  if (unlikely(__pyx_t_3)) {
/* â€¦ */
  }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0925</span>:         raise TypeError("original_weights must be a list or numpy array.")</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(925,0,<span class='error_goto'>__PYX_ERR(0, 925, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_TypeError, __pyx_tuple__29, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 925, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_1, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='error_goto'>__PYX_ERR(0, 925, __pyx_L1_error)</span>
/* â€¦ */
  __pyx_tuple__29 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_original_weights_must_be_a_list);<span class='error_goto'> if (unlikely(!__pyx_tuple__29)) __PYX_ERR(0, 925, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__29);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__29);
</pre><pre class="cython line score-0">&#xA0;<span class="">0926</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0927</span>:     # Convert inputs to numpy arrays for uniformity</pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0928</span>:     data_lengths = np.array(data_lengths)</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(928,0,<span class='error_goto'>__PYX_ERR(0, 928, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 928, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 928, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_data_lengths};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 928, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_data_lengths, __pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0929</span>:     original_weights = np.array(original_weights)</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(929,0,<span class='error_goto'>__PYX_ERR(0, 929, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 929, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 929, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_5 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_5)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_v_original_weights};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 929, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_original_weights, __pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0930</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0931</span>:     # Determine the required length based on the match mode</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0932</span>:     if mode == 'auto':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(932,0,<span class='error_goto'>__PYX_ERR(0, 932, __pyx_L1_error)</span>)
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_mode, __pyx_n_u_auto, Py_EQ)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 932, __pyx_L1_error)</span>
  if (__pyx_t_3) {
/* â€¦ */
    goto __pyx_L10;
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0933</span>:         max_length = max(data_lengths)</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(933,0,<span class='error_goto'>__PYX_ERR(0, 933, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_max, __pyx_v_data_lengths);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 933, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_v_max_length = __pyx_t_1;
    __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0934</span>:         min_length = min(data_lengths)</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(934,0,<span class='error_goto'>__PYX_ERR(0, 934, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_min, __pyx_v_data_lengths);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 934, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_v_min_length = __pyx_t_1;
    __pyx_t_1 = 0;
</pre><pre class="cython line score-21" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0935</span>:         required_length = max_length if len(original_weights) &lt; max_length else min_length</pre>
<pre class='cython code score-21 '>    <span class='trace'>__Pyx_TraceLine</span>(935,0,<span class='error_goto'>__PYX_ERR(0, 935, __pyx_L1_error)</span>)
    __pyx_t_7 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_original_weights);<span class='error_goto'> if (unlikely(__pyx_t_7 == ((Py_ssize_t)-1))) __PYX_ERR(0, 935, __pyx_L1_error)</span>
    __pyx_t_2 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 935, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_5 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_2, __pyx_v_max_length, Py_LT); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 935, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_5); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 935, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (__pyx_t_3) {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_max_length);
      __pyx_t_1 = __pyx_v_max_length;
    } else {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_min_length);
      __pyx_t_1 = __pyx_v_min_length;
    }
    __pyx_v_required_length = __pyx_t_1;
    __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0936</span>:     elif mode == 'trim':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(936,0,<span class='error_goto'>__PYX_ERR(0, 936, __pyx_L1_error)</span>)
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_mode, __pyx_n_u_trim, Py_EQ)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 936, __pyx_L1_error)</span>
  if (__pyx_t_3) {
/* â€¦ */
    goto __pyx_L10;
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0937</span>:         required_length = min(data_lengths)</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(937,0,<span class='error_goto'>__PYX_ERR(0, 937, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_min, __pyx_v_data_lengths);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 937, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_v_required_length = __pyx_t_1;
    __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0938</span>:     elif mode == 'fill':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(938,0,<span class='error_goto'>__PYX_ERR(0, 938, __pyx_L1_error)</span>)
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_mode, __pyx_n_u_fill, Py_EQ)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 938, __pyx_L1_error)</span>
  if (likely(__pyx_t_3)) {
/* â€¦ */
    goto __pyx_L10;
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0939</span>:         required_length = max(data_lengths)</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(939,0,<span class='error_goto'>__PYX_ERR(0, 939, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_max, __pyx_v_data_lengths);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 939, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_v_required_length = __pyx_t_1;
    __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0940</span>:     else:</pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0941</span>:         raise ValueError("Invalid match_mode. Choose from 'auto', 'trim', or 'fill'.")</pre>
<pre class='cython code score-10 '>  <span class='trace'>__Pyx_TraceLine</span>(941,0,<span class='error_goto'>__PYX_ERR(0, 941, __pyx_L1_error)</span>)
  /*else*/ {
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__30, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 941, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_1, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='error_goto'>__PYX_ERR(0, 941, __pyx_L1_error)</span>
  }
  __pyx_L10:;
/* â€¦ */
  __pyx_tuple__30 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Invalid_match_mode_Choose_from_a);<span class='error_goto'> if (unlikely(!__pyx_tuple__30)) __PYX_ERR(0, 941, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__30);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__30);
</pre><pre class="cython line score-0">&#xA0;<span class="">0942</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0943</span>:     # Adjust weights according to the required length</pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0944</span>:     if len(original_weights) &gt; required_length:</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(944,0,<span class='error_goto'>__PYX_ERR(0, 944, __pyx_L1_error)</span>)
  __pyx_t_7 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_original_weights);<span class='error_goto'> if (unlikely(__pyx_t_7 == ((Py_ssize_t)-1))) __PYX_ERR(0, 944, __pyx_L1_error)</span>
  __pyx_t_1 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 944, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_5 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_1, __pyx_v_required_length, Py_GT); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 944, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_5); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 944, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  if (__pyx_t_3) {
/* â€¦ */
    goto __pyx_L11;
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0945</span>:         adjusted_weights = original_weights[:required_length]</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(945,0,<span class='error_goto'>__PYX_ERR(0, 945, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetSlice</span>(__pyx_v_original_weights, 0, 0, NULL, &amp;__pyx_v_required_length, NULL, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 945, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_v_adjusted_weights = __pyx_t_5;
    __pyx_t_5 = 0;
</pre><pre class="cython line score-21" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0946</span>:     elif len(original_weights) &lt; required_length and mode == 'fill':</pre>
<pre class='cython code score-21 '>  <span class='trace'>__Pyx_TraceLine</span>(946,0,<span class='error_goto'>__PYX_ERR(0, 946, __pyx_L1_error)</span>)
  __pyx_t_7 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_original_weights);<span class='error_goto'> if (unlikely(__pyx_t_7 == ((Py_ssize_t)-1))) __PYX_ERR(0, 946, __pyx_L1_error)</span>
  __pyx_t_5 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 946, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_1 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_5, __pyx_v_required_length, Py_LT); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 946, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_1); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 946, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_4) {
  } else {
    __pyx_t_3 = __pyx_t_4;
    goto __pyx_L12_bool_binop_done;
  }
  __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_mode, __pyx_n_u_fill, Py_EQ)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 946, __pyx_L1_error)</span>
  __pyx_t_3 = __pyx_t_4;
  __pyx_L12_bool_binop_done:;
  if (__pyx_t_3) {
/* â€¦ */
    goto __pyx_L11;
  }
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0947</span>:         if fill_value is None:</pre>
<pre class='cython code score-0 '>    <span class='trace'>__Pyx_TraceLine</span>(947,0,<span class='error_goto'>__PYX_ERR(0, 947, __pyx_L1_error)</span>)
    __pyx_t_3 = (__pyx_v_fill_value == Py_None);
    if (unlikely(__pyx_t_3)) {
/* â€¦ */
    }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0948</span>:             raise ValueError("fill_value must be provided when extending"</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(948,0,<span class='error_goto'>__PYX_ERR(0, 948, __pyx_L1_error)</span>)
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__31, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 948, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_1, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='error_goto'>__PYX_ERR(0, 948, __pyx_L1_error)</span>
/* â€¦ */
  __pyx_tuple__31 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_fill_value_must_be_provided_when);<span class='error_goto'> if (unlikely(!__pyx_tuple__31)) __PYX_ERR(0, 948, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__31);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__31);
</pre><pre class="cython line score-0">&#xA0;<span class="">0949</span>:                              " weights in 'fill' mode.")</pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0950</span>:         extra_length = required_length - len(original_weights)</pre>
<pre class='cython code score-16 '>    <span class='trace'>__Pyx_TraceLine</span>(950,0,<span class='error_goto'>__PYX_ERR(0, 950, __pyx_L1_error)</span>)
    __pyx_t_7 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_original_weights);<span class='error_goto'> if (unlikely(__pyx_t_7 == ((Py_ssize_t)-1))) __PYX_ERR(0, 950, __pyx_L1_error)</span>
    __pyx_t_1 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 950, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_5 = <span class='py_c_api'>PyNumber_Subtract</span>(__pyx_v_required_length, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 950, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_v_extra_length = __pyx_t_5;
    __pyx_t_5 = 0;
</pre><pre class="cython line score-35" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0951</span>:         adjusted_weights = np.concatenate([original_weights, np.full(</pre>
<pre class='cython code score-35 '>    <span class='trace'>__Pyx_TraceLine</span>(951,0,<span class='error_goto'>__PYX_ERR(0, 951, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 951, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_concatenate);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 951, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_8, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 951, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_8, __pyx_n_s_full);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 951, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(951,0,<span class='error_goto'>__PYX_ERR(0, 951, __pyx_L1_error)</span>)
    __pyx_t_9 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 951, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_original_weights);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_original_weights);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_9, 0, __pyx_v_original_weights)) <span class='error_goto'>__PYX_ERR(0, 951, __pyx_L1_error)</span>;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_9, 1, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 951, __pyx_L1_error)</span>;
    __pyx_t_1 = 0;
    __pyx_t_1 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_t_9};
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 951, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    __pyx_v_adjusted_weights = __pyx_t_5;
    __pyx_t_5 = 0;
</pre><pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0952</span>:             extra_length, fill_value)])</pre>
<pre class='cython code score-14 '>    <span class='trace'>__Pyx_TraceLine</span>(952,0,<span class='error_goto'>__PYX_ERR(0, 952, __pyx_L1_error)</span>)
    __pyx_t_8 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
      __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
      if (likely(__pyx_t_8)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_8, __pyx_v_extra_length, __pyx_v_fill_value};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_6, 2+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 951, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    }
</pre><pre class="cython line score-0">&#xA0;<span class="">0953</span>:     else:</pre>
<pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0954</span>:         adjusted_weights = original_weights</pre>
<pre class='cython code score-1 '>  <span class='trace'>__Pyx_TraceLine</span>(954,0,<span class='error_goto'>__PYX_ERR(0, 954, __pyx_L1_error)</span>)
  /*else*/ {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_original_weights);
    __pyx_v_adjusted_weights = __pyx_v_original_weights;
  }
  __pyx_L11:;
</pre><pre class="cython line score-0">&#xA0;<span class="">0955</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0956</span>:     # Normalize weights if requested</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0957</span>:     if normalize:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(957,0,<span class='error_goto'>__PYX_ERR(0, 957, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_normalize); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 957, __pyx_L1_error)</span>
  if (__pyx_t_3) {
/* â€¦ */
  }
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0958</span>:         adjusted_weights = normalize_array(adjusted_weights, method=normalize_method)</pre>
<pre class='cython code score-23 '>    <span class='trace'>__Pyx_TraceLine</span>(958,0,<span class='error_goto'>__PYX_ERR(0, 958, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_normalize_array);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 958, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 958, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_adjusted_weights);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_adjusted_weights);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_adjusted_weights)) <span class='error_goto'>__PYX_ERR(0, 958, __pyx_L1_error)</span>;
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 958, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_9, __pyx_n_s_method, __pyx_v_normalize_method) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 958, __pyx_L1_error)</span>
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_t_2, __pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 958, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_adjusted_weights, __pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0959</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0960</span>:     return adjusted_weights</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(960,0,<span class='error_goto'>__PYX_ERR(0, 960, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_adjusted_weights);
  __pyx_r = __pyx_v_adjusted_weights;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0961</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0962</span>: </pre>
<pre class="cython line score-107" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0963</span>: def _prepare_output(filtered_arrays, preserve_type, original_lists, flatten):</pre>
<pre class='cython code score-107 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_24_prepare_output(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_23_prepare_output, "\n    Prepares the output list from filtered arrays, optionally preserving the \n    original data types of the nested structures.\n\n    Parameters\n    ----------\n    filtered_arrays : list of arrays\n        Arrays that have been filtered based on NaN policies.\n    preserve_type : bool\n        Whether to preserve the original types of nested structures in the output.\n    original_lists : list of lists\n        The original list of lists provided by the user, used for type reference\n        if `preserve_type` is True.\n   flatten : bool, default False\n       If True, flattens each list in `data_lists` before applying the filter.\n    Returns\n    -------\n    list\n        The list of filtered arrays, with types preserved if `preserve_type` is True.\n\n    Notes\n    -----\n    This function aids in maintaining the integrity of the data types in nested \n    structures when required by the user. If `preserve_type` is False, all nested\n    structures are converted to lists. If True, the original data structure type \n    (e.g., set, list) is preserved based on the type of the first element in each\n    corresponding original list.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_24_prepare_output = {"_prepare_output", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_24_prepare_output, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_23_prepare_output};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_24_prepare_output(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_filtered_arrays = 0;
  PyObject *__pyx_v_preserve_type = 0;
  PyObject *__pyx_v_original_lists = 0;
  PyObject *__pyx_v_flatten = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_prepare_output (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_filtered_arrays,&amp;__pyx_n_s_preserve_type,&amp;__pyx_n_s_original_lists,&amp;__pyx_n_s_flatten_2,0};
  PyObject* values[4] = {0,0,0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_filtered_arrays)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 963, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_preserve_type)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 963, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_prepare_output", 1, 4, 4, 1); <span class='error_goto'>__PYX_ERR(0, 963, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (likely((values[2] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_original_lists)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[2]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 963, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_prepare_output", 1, 4, 4, 2); <span class='error_goto'>__PYX_ERR(0, 963, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (likely((values[3] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_flatten_2)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[3]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 963, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_prepare_output", 1, 4, 4, 3); <span class='error_goto'>__PYX_ERR(0, 963, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_prepare_output") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 963, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 4)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
      values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
      values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
    }
    __pyx_v_filtered_arrays = values[0];
    __pyx_v_preserve_type = values[1];
    __pyx_v_original_lists = values[2];
    __pyx_v_flatten = values[3];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_prepare_output", 1, 4, 4, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 963, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._prepare_output", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_23_prepare_output(__pyx_self, __pyx_v_filtered_arrays, __pyx_v_preserve_type, __pyx_v_original_lists, __pyx_v_flatten);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_23_prepare_output(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_filtered_arrays, PyObject *__pyx_v_preserve_type, PyObject *__pyx_v_original_lists, PyObject *__pyx_v_flatten) {
  PyObject *__pyx_v_filtered_listof = NULL;
  PyObject *__pyx_v_arr = NULL;
  PyObject *__pyx_v_original = NULL;
  PyTypeObject *__pyx_v_original_type = NULL;
  PyObject *__pyx_v_filtered_sublistof = NULL;
  PyObject *__pyx_8genexpr6__pyx_v_subarr = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__32)
  <span class='trace'>__Pyx_TraceCall</span>("_prepare_output", __pyx_f[0], 963, 0, <span class='error_goto'>__PYX_ERR(0, 963, __pyx_L1_error)</span>);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._prepare_output", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_filtered_listof);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_arr);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_original);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>((PyObject *)__pyx_v_original_type);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_filtered_sublistof);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr6__pyx_v_subarr);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__163 = <span class='py_c_api'>PyTuple_Pack</span>(10, __pyx_n_s_filtered_arrays, __pyx_n_s_preserve_type, __pyx_n_s_original_lists, __pyx_n_s_flatten_2, __pyx_n_s_filtered_listof, __pyx_n_s_arr, __pyx_n_s_original, __pyx_n_s_original_type, __pyx_n_s_filtered_sublistof, __pyx_n_s_subarr);<span class='error_goto'> if (unlikely(!__pyx_tuple__163)) __PYX_ERR(0, 963, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__163);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__163);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(963,0,<span class='error_goto'>__PYX_ERR(0, 963, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_24_prepare_output, 0, __pyx_n_s_prepare_output, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__32));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 963, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_prepare_output, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 963, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_codeobj__32 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(4, 0, 0, 10, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__163, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_prepare_output, 963, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__32)) __PYX_ERR(0, 963, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0964</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">0965</span>:     Prepares the output list from filtered arrays, optionally preserving the</pre>
<pre class="cython line score-0">&#xA0;<span class="">0966</span>:     original data types of the nested structures.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0967</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0968</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">0969</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0970</span>:     filtered_arrays : list of arrays</pre>
<pre class="cython line score-0">&#xA0;<span class="">0971</span>:         Arrays that have been filtered based on NaN policies.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0972</span>:     preserve_type : bool</pre>
<pre class="cython line score-0">&#xA0;<span class="">0973</span>:         Whether to preserve the original types of nested structures in the output.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0974</span>:     original_lists : list of lists</pre>
<pre class="cython line score-0">&#xA0;<span class="">0975</span>:         The original list of lists provided by the user, used for type reference</pre>
<pre class="cython line score-0">&#xA0;<span class="">0976</span>:         if `preserve_type` is True.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0977</span>:    flatten : bool, default False</pre>
<pre class="cython line score-0">&#xA0;<span class="">0978</span>:        If True, flattens each list in `data_lists` before applying the filter.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0979</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">0980</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0981</span>:     list</pre>
<pre class="cython line score-0">&#xA0;<span class="">0982</span>:         The list of filtered arrays, with types preserved if `preserve_type` is True.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0983</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0984</span>:     Notes</pre>
<pre class="cython line score-0">&#xA0;<span class="">0985</span>:     -----</pre>
<pre class="cython line score-0">&#xA0;<span class="">0986</span>:     This function aids in maintaining the integrity of the data types in nested</pre>
<pre class="cython line score-0">&#xA0;<span class="">0987</span>:     structures when required by the user. If `preserve_type` is False, all nested</pre>
<pre class="cython line score-0">&#xA0;<span class="">0988</span>:     structures are converted to lists. If True, the original data structure type</pre>
<pre class="cython line score-0">&#xA0;<span class="">0989</span>:     (e.g., set, list) is preserved based on the type of the first element in each</pre>
<pre class="cython line score-0">&#xA0;<span class="">0990</span>:     corresponding original list.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0991</span>:     """</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0992</span>:     filtered_listof = []</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(992,0,<span class='error_goto'>__PYX_ERR(0, 992, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 992, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_filtered_listof = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-111" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0993</span>:     for arr, original in zip(filtered_arrays, original_lists):</pre>
<pre class='cython code score-111 '>  <span class='trace'>__Pyx_TraceLine</span>(993,0,<span class='error_goto'>__PYX_ERR(0, 993, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 993, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_filtered_arrays);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_filtered_arrays);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_filtered_arrays)) <span class='error_goto'>__PYX_ERR(0, 993, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_original_lists);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_original_lists);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_v_original_lists)) <span class='error_goto'>__PYX_ERR(0, 993, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_zip, __pyx_t_1, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 993, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_2)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_2)) {
    __pyx_t_1 = __pyx_t_2; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    __pyx_t_3 = 0;
    __pyx_t_4 = NULL;
  } else {
    __pyx_t_3 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 993, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 993, __pyx_L1_error)</span>
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  for (;;) {
    if (likely(!__pyx_t_4)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 993, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_3 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_3); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_3++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 993, __pyx_L1_error)</span>
        #else
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_3); __pyx_t_3++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 993, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 993, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_3 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_3); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_3++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 993, __pyx_L1_error)</span>
        #else
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_3); __pyx_t_3++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 993, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        #endif
      }
    } else {
      __pyx_t_2 = __pyx_t_4(__pyx_t_1);
      if (unlikely(!__pyx_t_2)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 993, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    }
    if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_2))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_2))) {
      PyObject* sequence = __pyx_t_2;
      Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
      if (unlikely(size != 2)) {
        if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
        else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
        <span class='error_goto'>__PYX_ERR(0, 993, __pyx_L1_error)</span>
      }
      #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
      if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
        __pyx_t_5 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
        __pyx_t_6 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
      } else {
        __pyx_t_5 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
        __pyx_t_6 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
      }
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
      #else
      __pyx_t_5 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 993, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      __pyx_t_6 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 993, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      #endif
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    } else {
      Py_ssize_t index = -1;
      __pyx_t_7 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 993, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_7);
      index = 0; __pyx_t_5 = __pyx_t_8(__pyx_t_7); if (unlikely(!__pyx_t_5)) goto __pyx_L5_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      index = 1; __pyx_t_6 = __pyx_t_8(__pyx_t_7); if (unlikely(!__pyx_t_6)) goto __pyx_L5_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_8(__pyx_t_7), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 993, __pyx_L1_error)</span>
      __pyx_t_8 = NULL;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      goto __pyx_L6_unpacking_done;
      __pyx_L5_unpacking_failed:;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      __pyx_t_8 = NULL;
      if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
      <span class='error_goto'>__PYX_ERR(0, 993, __pyx_L1_error)</span>
      __pyx_L6_unpacking_done:;
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_arr, __pyx_t_5);
    __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_original, __pyx_t_6);
    __pyx_t_6 = 0;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(993,0,<span class='error_goto'>__PYX_ERR(0, 993, __pyx_L1_error)</span>)
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0994</span>:         original_type = type(original[0]) if original else list</pre>
<pre class='cython code score-8 '>    <span class='trace'>__Pyx_TraceLine</span>(994,0,<span class='error_goto'>__PYX_ERR(0, 994, __pyx_L1_error)</span>)
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_original); if (unlikely((__pyx_t_9 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 994, __pyx_L1_error)</span>
    if (__pyx_t_9) {
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_original, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 994, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(((PyObject *)Py_TYPE(__pyx_t_6)));
      __pyx_t_2 = ((PyObject *)Py_TYPE(__pyx_t_6));
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    } else {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>((PyObject *)(&amp;PyList_Type));
      __pyx_t_2 = ((PyObject *)(&amp;PyList_Type));
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_original_type, ((PyTypeObject*)__pyx_t_2));
    __pyx_t_2 = 0;
</pre><pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0995</span>:         if preserve_type and not flatten:</pre>
<pre class='cython code score-4 '>    <span class='trace'>__Pyx_TraceLine</span>(995,0,<span class='error_goto'>__PYX_ERR(0, 995, __pyx_L1_error)</span>)
    __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_preserve_type); if (unlikely((__pyx_t_10 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 995, __pyx_L1_error)</span>
    if (__pyx_t_10) {
    } else {
      __pyx_t_9 = __pyx_t_10;
      goto __pyx_L8_bool_binop_done;
    }
    __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_flatten); if (unlikely((__pyx_t_10 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 995, __pyx_L1_error)</span>
    __pyx_t_11 = (!__pyx_t_10);
    __pyx_t_9 = __pyx_t_11;
    __pyx_L8_bool_binop_done:;
    if (__pyx_t_9) {
/* â€¦ */
      goto __pyx_L7;
    }
</pre><pre class="cython line score-0">&#xA0;<span class="">0996</span>:             # Determine the type of the original nested structure</pre>
<pre class="cython line score-62" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0997</span>:             filtered_sublistof = [original_type(subarr) for subarr in arr]</pre>
<pre class='cython code score-62 '>      <span class='trace'>__Pyx_TraceLine</span>(997,0,<span class='error_goto'>__PYX_ERR(0, 997, __pyx_L1_error)</span>)
      { /* enter inner scope */
        __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 997, __pyx_L12_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_arr)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_arr)) {
          __pyx_t_6 = __pyx_v_arr; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
          __pyx_t_12 = 0;
          __pyx_t_13 = NULL;
        } else {
          __pyx_t_12 = -1; __pyx_t_6 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_arr);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 997, __pyx_L12_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
          __pyx_t_13 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 997, __pyx_L12_error)</span>
        }
        for (;;) {
          if (likely(!__pyx_t_13)) {
            if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_6))) {
              {
                Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_6);
                #if !CYTHON_ASSUME_SAFE_MACROS
                if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 997, __pyx_L12_error)</span>
                #endif
                if (__pyx_t_12 &gt;= __pyx_temp) break;
              }
              #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
              __pyx_t_5 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_6, __pyx_t_12); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5); __pyx_t_12++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 997, __pyx_L12_error)</span>
              #else
              __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_6, __pyx_t_12); __pyx_t_12++;<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 997, __pyx_L12_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
              #endif
            } else {
              {
                Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_6);
                #if !CYTHON_ASSUME_SAFE_MACROS
                if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 997, __pyx_L12_error)</span>
                #endif
                if (__pyx_t_12 &gt;= __pyx_temp) break;
              }
              #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
              __pyx_t_5 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_6, __pyx_t_12); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5); __pyx_t_12++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 997, __pyx_L12_error)</span>
              #else
              __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_6, __pyx_t_12); __pyx_t_12++;<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 997, __pyx_L12_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
              #endif
            }
          } else {
            __pyx_t_5 = __pyx_t_13(__pyx_t_6);
            if (unlikely(!__pyx_t_5)) {
              PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
              if (exc_type) {
                if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
                else <span class='error_goto'>__PYX_ERR(0, 997, __pyx_L12_error)</span>
              }
              break;
            }
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
          }
          <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_8genexpr6__pyx_v_subarr, __pyx_t_5);
          __pyx_t_5 = 0;
          __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(((PyObject *)__pyx_v_original_type), __pyx_8genexpr6__pyx_v_subarr);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 997, __pyx_L12_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
          if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_2, (PyObject*)__pyx_t_5))) <span class='error_goto'>__PYX_ERR(0, 997, __pyx_L12_error)</span>
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        }
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr6__pyx_v_subarr); __pyx_8genexpr6__pyx_v_subarr = 0;
        goto __pyx_L16_exit_scope;
        __pyx_L12_error:;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr6__pyx_v_subarr); __pyx_8genexpr6__pyx_v_subarr = 0;
        goto __pyx_L1_error;
        __pyx_L16_exit_scope:;
      } /* exit inner scope */
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_filtered_sublistof, __pyx_t_2);
      __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0998</span>:         else:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0999</span>:             # Convert all sub-arrays to lists</pre>
<pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1000</span>:             filtered_sublistof = original_type(arr)</pre>
<pre class='cython code score-3 '>    <span class='trace'>__Pyx_TraceLine</span>(1000,0,<span class='error_goto'>__PYX_ERR(0, 1000, __pyx_L1_error)</span>)
    /*else*/ {
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(((PyObject *)__pyx_v_original_type), __pyx_v_arr);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1000, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_filtered_sublistof, __pyx_t_2);
      __pyx_t_2 = 0;
    }
    __pyx_L7:;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1001</span>:         filtered_listof.append(filtered_sublistof)</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(1001,0,<span class='error_goto'>__PYX_ERR(0, 1001, __pyx_L1_error)</span>)
    __pyx_t_14 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_v_filtered_listof, __pyx_v_filtered_sublistof);<span class='error_goto'> if (unlikely(__pyx_t_14 == ((int)-1))) __PYX_ERR(0, 1001, __pyx_L1_error)</span>
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1002</span>:     return filtered_listof</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1002,0,<span class='error_goto'>__PYX_ERR(0, 1002, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_filtered_listof);
  __pyx_r = __pyx_v_filtered_listof;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1003</span>: </pre>
<pre class="cython line score-79" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1004</span>: def _prepare_arrays(listof, flatten_lst):</pre>
<pre class='cython code score-79 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_26_prepare_arrays(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_25_prepare_arrays, "Prepares and converts lists to numpy arrays, handling flattening if specified.");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_26_prepare_arrays = {"_prepare_arrays", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_26_prepare_arrays, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_25_prepare_arrays};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_26_prepare_arrays(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_listof = 0;
  PyObject *__pyx_v_flatten_lst = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_prepare_arrays (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_listof,&amp;__pyx_n_s_flatten_lst,0};
  PyObject* values[2] = {0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_listof)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1004, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_flatten_lst)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1004, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_prepare_arrays", 1, 2, 2, 1); <span class='error_goto'>__PYX_ERR(0, 1004, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_prepare_arrays") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1004, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 2)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
    }
    __pyx_v_listof = values[0];
    __pyx_v_flatten_lst = values[1];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_prepare_arrays", 1, 2, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1004, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._prepare_arrays", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_25_prepare_arrays(__pyx_self, __pyx_v_listof, __pyx_v_flatten_lst);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_25_prepare_arrays(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_listof, PyObject *__pyx_v_flatten_lst) {
  PyObject *__pyx_v_arrays = NULL;
  PyObject *__pyx_v_lst = NULL;
  PyObject *__pyx_v_flattened_list = NULL;
  PyObject *__pyx_8genexpr7__pyx_v_item = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__33)
  <span class='trace'>__Pyx_TraceCall</span>("_prepare_arrays", __pyx_f[0], 1004, 0, <span class='error_goto'>__PYX_ERR(0, 1004, __pyx_L1_error)</span>);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_14);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_15);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_16);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_17);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._prepare_arrays", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_arrays);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_lst);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_flattened_list);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr7__pyx_v_item);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__164 = <span class='py_c_api'>PyTuple_Pack</span>(6, __pyx_n_s_listof, __pyx_n_s_flatten_lst, __pyx_n_s_arrays, __pyx_n_s_lst, __pyx_n_s_flattened_list, __pyx_n_s_item);<span class='error_goto'> if (unlikely(!__pyx_tuple__164)) __PYX_ERR(0, 1004, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__164);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__164);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1004,0,<span class='error_goto'>__PYX_ERR(0, 1004, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_26_prepare_arrays, 0, __pyx_n_s_prepare_arrays, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__33));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1004, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_prepare_arrays, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1004, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_codeobj__33 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(2, 0, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__164, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_prepare_arrays, 1004, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__33)) __PYX_ERR(0, 1004, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">1005</span>:     """Prepares and converts lists to numpy arrays, handling flattening if specified."""</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1006</span>:     arrays = []</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(1006,0,<span class='error_goto'>__PYX_ERR(0, 1006, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1006, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_arrays = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-49" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1007</span>:     for lst in listof:</pre>
<pre class='cython code score-49 '>  <span class='trace'>__Pyx_TraceLine</span>(1007,0,<span class='error_goto'>__PYX_ERR(0, 1007, __pyx_L1_error)</span>)
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_listof)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_listof)) {
    __pyx_t_1 = __pyx_v_listof; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    __pyx_t_2 = 0;
    __pyx_t_3 = NULL;
  } else {
    __pyx_t_2 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_listof);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1007, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1007, __pyx_L1_error)</span>
  }
  for (;;) {
    if (likely(!__pyx_t_3)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1007, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1007, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1007, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1007, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1007, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1007, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      }
    } else {
      __pyx_t_4 = __pyx_t_3(__pyx_t_1);
      if (unlikely(!__pyx_t_4)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 1007, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_lst, __pyx_t_4);
    __pyx_t_4 = 0;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(1007,0,<span class='error_goto'>__PYX_ERR(0, 1007, __pyx_L1_error)</span>)
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1008</span>:         if flatten_lst:</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(1008,0,<span class='error_goto'>__PYX_ERR(0, 1008, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_flatten_lst); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1008, __pyx_L1_error)</span>
    if (__pyx_t_5) {
/* â€¦ */
      goto __pyx_L5;
    }
</pre><pre class="cython line score-0">&#xA0;<span class="">1009</span>:             # Flatten and then convert to numpy array</pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1010</span>:             flattened_list = list(_flatten(lst))</pre>
<pre class='cython code score-20 '>      <span class='trace'>__Pyx_TraceLine</span>(1010,0,<span class='error_goto'>__PYX_ERR(0, 1010, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_flatten);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1010, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_7 = NULL;
      __pyx_t_8 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
        __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
        if (likely(__pyx_t_7)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
          __pyx_t_8 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_7, __pyx_v_lst};
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1010, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      }
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PySequence_ListKeepNew</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1010, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_flattened_list, ((PyObject*)__pyx_t_6));
      __pyx_t_6 = 0;
</pre><pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1011</span>:             arrays.append(np.array(flattened_list, dtype=object))</pre>
<pre class='cython code score-28 '>      <span class='trace'>__Pyx_TraceLine</span>(1011,0,<span class='error_goto'>__PYX_ERR(0, 1011, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1011, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1011, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1011, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_flattened_list);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_flattened_list);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_v_flattened_list)) <span class='error_goto'>__PYX_ERR(0, 1011, __pyx_L1_error)</span>;
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1011, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_7, __pyx_n_s_dtype, __pyx_builtin_object) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1011, __pyx_L1_error)</span>
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_4, __pyx_t_6, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1011, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_v_arrays, __pyx_t_9);<span class='error_goto'> if (unlikely(__pyx_t_10 == ((int)-1))) __PYX_ERR(0, 1011, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1012</span>:         else:</pre>
<pre class="cython line score-0">&#xA0;<span class="">1013</span>:             # Apply filtering to each nested element directly</pre>
<pre class="cython line score-54" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1014</span>:             arrays.append(np.array([np.array(list(item), dtype=object) if isinstance(</pre>
<pre class='cython code score-54 '>    <span class='trace'>__Pyx_TraceLine</span>(1014,0,<span class='error_goto'>__PYX_ERR(0, 1014, __pyx_L1_error)</span>)
    /*else*/ {
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_9, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1014, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_9, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1014, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      { /* enter inner scope */
        __pyx_t_9 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1014, __pyx_L8_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
/* â€¦ */
            <span class='trace'>__Pyx_TraceLine</span>(1014,0,<span class='error_goto'>__PYX_ERR(0, 1014, __pyx_L8_error)</span>)
            <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_14, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 1014, __pyx_L8_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_14);
            __pyx_t_15 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_14, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1014, __pyx_L8_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_15);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
            __pyx_t_14 = <span class='py_c_api'>PySequence_List</span>(__pyx_8genexpr7__pyx_v_item);<span class='error_goto'> if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 1014, __pyx_L8_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_14);
            __pyx_t_16 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 1014, __pyx_L8_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_16);
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_14);
            if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_16, 0, __pyx_t_14)) <span class='error_goto'>__PYX_ERR(0, 1014, __pyx_L8_error)</span>;
            __pyx_t_14 = 0;
            __pyx_t_14 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 1014, __pyx_L8_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_14);
            if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_14, __pyx_n_s_dtype, __pyx_builtin_object) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1014, __pyx_L8_error)</span>
            __pyx_t_17 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_15, __pyx_t_16, __pyx_t_14);<span class='error_goto'> if (unlikely(!__pyx_t_17)) __PYX_ERR(0, 1014, __pyx_L8_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_17);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_16); __pyx_t_16 = 0;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
            __pyx_t_4 = __pyx_t_17;
            __pyx_t_17 = 0;
          } else {
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(1014,0,<span class='error_goto'>__PYX_ERR(0, 1014, __pyx_L1_error)</span>)
      __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1014, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_9);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_t_9)) <span class='error_goto'>__PYX_ERR(0, 1014, __pyx_L1_error)</span>;
      __pyx_t_9 = 0;
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(1014,0,<span class='error_goto'>__PYX_ERR(0, 1014, __pyx_L1_error)</span>)
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_7, __pyx_t_6, __pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1014, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_v_arrays, __pyx_t_4);<span class='error_goto'> if (unlikely(__pyx_t_10 == ((int)-1))) __PYX_ERR(0, 1014, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    }
    __pyx_L5:;
</pre><pre class="cython line score-72" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1015</span>:                 item, (list, set)) else item for item in lst], dtype=object))</pre>
<pre class='cython code score-72 '>        <span class='trace'>__Pyx_TraceLine</span>(1015,0,<span class='error_goto'>__PYX_ERR(0, 1015, __pyx_L8_error)</span>)
        if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_lst)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_lst)) {
          __pyx_t_6 = __pyx_v_lst; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
          __pyx_t_11 = 0;
          __pyx_t_12 = NULL;
        } else {
          __pyx_t_11 = -1; __pyx_t_6 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_lst);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1015, __pyx_L8_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
          __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1015, __pyx_L8_error)</span>
        }
        for (;;) {
          if (likely(!__pyx_t_12)) {
            if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_6))) {
              {
                Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_6);
                #if !CYTHON_ASSUME_SAFE_MACROS
                if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1015, __pyx_L8_error)</span>
                #endif
                if (__pyx_t_11 &gt;= __pyx_temp) break;
              }
              #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
              __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_6, __pyx_t_11); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_11++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1015, __pyx_L8_error)</span>
              #else
              __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_6, __pyx_t_11); __pyx_t_11++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1015, __pyx_L8_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
              #endif
            } else {
              {
                Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_6);
                #if !CYTHON_ASSUME_SAFE_MACROS
                if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1015, __pyx_L8_error)</span>
                #endif
                if (__pyx_t_11 &gt;= __pyx_temp) break;
              }
              #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
              __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_6, __pyx_t_11); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_11++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1015, __pyx_L8_error)</span>
              #else
              __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_6, __pyx_t_11); __pyx_t_11++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1015, __pyx_L8_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
              #endif
            }
          } else {
            __pyx_t_4 = __pyx_t_12(__pyx_t_6);
            if (unlikely(!__pyx_t_4)) {
              PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
              if (exc_type) {
                if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
                else <span class='error_goto'>__PYX_ERR(0, 1015, __pyx_L8_error)</span>
              }
              break;
            }
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
          }
          <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_8genexpr7__pyx_v_item, __pyx_t_4);
          __pyx_t_4 = 0;
/* â€¦ */
          <span class='trace'>__Pyx_TraceLine</span>(1014,0,<span class='error_goto'>__PYX_ERR(0, 1014, __pyx_L8_error)</span>)
          __pyx_t_13 = <span class='py_c_api'>PyList_Check</span>(__pyx_8genexpr7__pyx_v_item); 
          if (!__pyx_t_13) {
          } else {
            __pyx_t_5 = __pyx_t_13;
            goto __pyx_L11_bool_binop_done;
          }
/* â€¦ */
          <span class='trace'>__Pyx_TraceLine</span>(1015,0,<span class='error_goto'>__PYX_ERR(0, 1015, __pyx_L8_error)</span>)
          __pyx_t_13 = <span class='py_c_api'>PySet_Check</span>(__pyx_8genexpr7__pyx_v_item); 
          __pyx_t_5 = __pyx_t_13;
          __pyx_L11_bool_binop_done:;
          if (__pyx_t_5) {
/* â€¦ */
            <span class='trace'>__Pyx_TraceLine</span>(1015,0,<span class='error_goto'>__PYX_ERR(0, 1015, __pyx_L8_error)</span>)
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_8genexpr7__pyx_v_item);
            __pyx_t_4 = __pyx_8genexpr7__pyx_v_item;
          }
          if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_9, (PyObject*)__pyx_t_4))) <span class='error_goto'>__PYX_ERR(0, 1014, __pyx_L8_error)</span>
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        }
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr7__pyx_v_item); __pyx_8genexpr7__pyx_v_item = 0;
        goto __pyx_L14_exit_scope;
        __pyx_L8_error:;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr7__pyx_v_item); __pyx_8genexpr7__pyx_v_item = 0;
        goto __pyx_L1_error;
        __pyx_L14_exit_scope:;
      } /* exit inner scope */
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(1015,0,<span class='error_goto'>__PYX_ERR(0, 1015, __pyx_L1_error)</span>)
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1015, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_9, __pyx_n_s_dtype, __pyx_builtin_object) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1015, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">1016</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1017</span>:     return arrays</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1017,0,<span class='error_goto'>__PYX_ERR(0, 1017, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arrays);
  __pyx_r = __pyx_v_arrays;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1018</span>: </pre>
<pre class="cython line score-98" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1019</span>: def _apply_nan_policy(arrays, nan_policy, flatten_lst):</pre>
<pre class='cython code score-98 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_28_apply_nan_policy(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_27_apply_nan_policy, "Applies the specified NaN policy to the arrays.");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_28_apply_nan_policy = {"_apply_nan_policy", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_28_apply_nan_policy, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_27_apply_nan_policy};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_28_apply_nan_policy(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_arrays = 0;
  PyObject *__pyx_v_nan_policy = 0;
  PyObject *__pyx_v_flatten_lst = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_apply_nan_policy (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_arrays,&amp;__pyx_n_s_nan_policy,&amp;__pyx_n_s_flatten_lst,0};
  PyObject* values[3] = {0,0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_arrays)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1019, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_nan_policy)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1019, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_apply_nan_policy", 1, 3, 3, 1); <span class='error_goto'>__PYX_ERR(0, 1019, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (likely((values[2] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_flatten_lst)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[2]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1019, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_apply_nan_policy", 1, 3, 3, 2); <span class='error_goto'>__PYX_ERR(0, 1019, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_apply_nan_policy") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1019, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 3)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
      values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
    }
    __pyx_v_arrays = values[0];
    __pyx_v_nan_policy = values[1];
    __pyx_v_flatten_lst = values[2];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_apply_nan_policy", 1, 3, 3, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1019, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._apply_nan_policy", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_27_apply_nan_policy(__pyx_self, __pyx_v_arrays, __pyx_v_nan_policy, __pyx_v_flatten_lst);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_27_apply_nan_policy(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_arrays, PyObject *__pyx_v_nan_policy, PyObject *__pyx_v_flatten_lst) {
  PyObject *__pyx_v_filtered_arrays = NULL;
  PyObject *__pyx_v_all_non_nan_mask = NULL;
  PyObject *__pyx_v_arr = NULL;
  PyObject *__pyx_v_non_nan_mask = NULL;
  PyObject *__pyx_v_filtered_array = NULL;
  PyObject *__pyx_v_filtered_subarrays = NULL;
  PyObject *__pyx_v_subarr = NULL;
  PyObject *__pyx_8genexpr8__pyx_v_x = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__34)
  <span class='trace'>__Pyx_TraceCall</span>("_apply_nan_policy", __pyx_f[0], 1019, 0, <span class='error_goto'>__PYX_ERR(0, 1019, __pyx_L1_error)</span>);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_14);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_15);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._apply_nan_policy", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_filtered_arrays);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_all_non_nan_mask);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_arr);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_non_nan_mask);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_filtered_array);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_filtered_subarrays);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_subarr);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr8__pyx_v_x);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__165 = <span class='py_c_api'>PyTuple_Pack</span>(11, __pyx_n_s_arrays, __pyx_n_s_nan_policy, __pyx_n_s_flatten_lst, __pyx_n_s_filtered_arrays, __pyx_n_s_all_non_nan_mask, __pyx_n_s_arr, __pyx_n_s_non_nan_mask, __pyx_n_s_filtered_array, __pyx_n_s_filtered_subarrays, __pyx_n_s_subarr, __pyx_n_s_x);<span class='error_goto'> if (unlikely(!__pyx_tuple__165)) __PYX_ERR(0, 1019, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__165);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__165);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1019,0,<span class='error_goto'>__PYX_ERR(0, 1019, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_28_apply_nan_policy, 0, __pyx_n_s_apply_nan_policy, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__34));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1019, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_apply_nan_policy, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1019, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_codeobj__34 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(3, 0, 0, 11, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__165, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_apply_nan_policy, 1019, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__34)) __PYX_ERR(0, 1019, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">1020</span>:     """Applies the specified NaN policy to the arrays."""</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1021</span>:     filtered_arrays = []</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(1021,0,<span class='error_goto'>__PYX_ERR(0, 1021, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1021, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_filtered_arrays = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1022</span>:     all_non_nan_mask = []</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(1022,0,<span class='error_goto'>__PYX_ERR(0, 1022, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1022, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_all_non_nan_mask = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-49" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1023</span>:     for arr in arrays:</pre>
<pre class='cython code score-49 '>  <span class='trace'>__Pyx_TraceLine</span>(1023,0,<span class='error_goto'>__PYX_ERR(0, 1023, __pyx_L1_error)</span>)
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_arrays)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_arrays)) {
    __pyx_t_1 = __pyx_v_arrays; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    __pyx_t_2 = 0;
    __pyx_t_3 = NULL;
  } else {
    __pyx_t_2 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_arrays);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1023, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1023, __pyx_L1_error)</span>
  }
  for (;;) {
    if (likely(!__pyx_t_3)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1023, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1023, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1023, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1023, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1023, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1023, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      }
    } else {
      __pyx_t_4 = __pyx_t_3(__pyx_t_1);
      if (unlikely(!__pyx_t_4)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 1023, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_arr, __pyx_t_4);
    __pyx_t_4 = 0;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(1023,0,<span class='error_goto'>__PYX_ERR(0, 1023, __pyx_L1_error)</span>)
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1024</span>:         if nan_policy == 'omit':</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(1024,0,<span class='error_goto'>__PYX_ERR(0, 1024, __pyx_L1_error)</span>)
    __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_nan_policy, __pyx_n_u_omit, Py_EQ)); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1024, __pyx_L1_error)</span>
    if (__pyx_t_5) {
/* â€¦ */
      goto __pyx_L5;
    }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1025</span>:             if flatten_lst:</pre>
<pre class='cython code score-2 '>      <span class='trace'>__Pyx_TraceLine</span>(1025,0,<span class='error_goto'>__PYX_ERR(0, 1025, __pyx_L1_error)</span>)
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_flatten_lst); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1025, __pyx_L1_error)</span>
      if (__pyx_t_5) {
/* â€¦ */
        goto __pyx_L6;
      }
</pre><pre class="cython line score-0">&#xA0;<span class="">1026</span>:                 # Create a mask for non-NaN entries</pre>
<pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1027</span>:                 if arr.dtype == object:</pre>
<pre class='cython code score-11 '>        <span class='trace'>__Pyx_TraceLine</span>(1027,0,<span class='error_goto'>__PYX_ERR(0, 1027, __pyx_L1_error)</span>)
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_arr, __pyx_n_s_dtype);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1027, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        __pyx_t_6 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_4, __pyx_builtin_object, Py_EQ); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1027, __pyx_L1_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_6); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1027, __pyx_L1_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
        if (__pyx_t_5) {
/* â€¦ */
          goto __pyx_L7;
        }
</pre><pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1028</span>:                     non_nan_mask = np.array([not isinstance(</pre>
<pre class='cython code score-12 '>          <span class='trace'>__Pyx_TraceLine</span>(1028,0,<span class='error_goto'>__PYX_ERR(0, 1028, __pyx_L1_error)</span>)
          <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1028, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
          __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1028, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
          { /* enter inner scope */
            __pyx_t_4 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1028, __pyx_L10_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
              __pyx_t_12 = (!__pyx_t_5);
              if (!__pyx_t_12) {
              } else {
                __pyx_t_13 = <span class='pyx_c_api'>__Pyx_PyBool_FromLong</span>(__pyx_t_12);<span class='error_goto'> if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 1028, __pyx_L10_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_13);
                __pyx_t_11 = __pyx_t_13;
                __pyx_t_13 = 0;
                goto __pyx_L13_bool_binop_done;
              }
</pre><pre class="cython line score-99" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1029</span>:                         x, float) or not np.isnan(x) for x in arr])</pre>
<pre class='cython code score-99 '>            <span class='trace'>__Pyx_TraceLine</span>(1029,0,<span class='error_goto'>__PYX_ERR(0, 1029, __pyx_L10_error)</span>)
            if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_arr)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_arr)) {
              __pyx_t_8 = __pyx_v_arr; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
              __pyx_t_9 = 0;
              __pyx_t_10 = NULL;
            } else {
              __pyx_t_9 = -1; __pyx_t_8 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_arr);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1029, __pyx_L10_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
              __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1029, __pyx_L10_error)</span>
            }
            for (;;) {
              if (likely(!__pyx_t_10)) {
                if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_8))) {
                  {
                    Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_8);
                    #if !CYTHON_ASSUME_SAFE_MACROS
                    if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1029, __pyx_L10_error)</span>
                    #endif
                    if (__pyx_t_9 &gt;= __pyx_temp) break;
                  }
                  #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
                  __pyx_t_11 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_8, __pyx_t_9); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_11); __pyx_t_9++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1029, __pyx_L10_error)</span>
                  #else
                  __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_8, __pyx_t_9); __pyx_t_9++;<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1029, __pyx_L10_error)</span>
                  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
                  #endif
                } else {
                  {
                    Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_8);
                    #if !CYTHON_ASSUME_SAFE_MACROS
                    if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1029, __pyx_L10_error)</span>
                    #endif
                    if (__pyx_t_9 &gt;= __pyx_temp) break;
                  }
                  #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
                  __pyx_t_11 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_8, __pyx_t_9); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_11); __pyx_t_9++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1029, __pyx_L10_error)</span>
                  #else
                  __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_8, __pyx_t_9); __pyx_t_9++;<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1029, __pyx_L10_error)</span>
                  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
                  #endif
                }
              } else {
                __pyx_t_11 = __pyx_t_10(__pyx_t_8);
                if (unlikely(!__pyx_t_11)) {
                  PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
                  if (exc_type) {
                    if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
                    else <span class='error_goto'>__PYX_ERR(0, 1029, __pyx_L10_error)</span>
                  }
                  break;
                }
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
              }
              <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_8genexpr8__pyx_v_x, __pyx_t_11);
              __pyx_t_11 = 0;
/* â€¦ */
              <span class='trace'>__Pyx_TraceLine</span>(1028,0,<span class='error_goto'>__PYX_ERR(0, 1028, __pyx_L10_error)</span>)
              __pyx_t_5 = <span class='py_c_api'>PyFloat_Check</span>(__pyx_8genexpr8__pyx_v_x); 
/* â€¦ */
              <span class='trace'>__Pyx_TraceLine</span>(1029,0,<span class='error_goto'>__PYX_ERR(0, 1029, __pyx_L10_error)</span>)
              <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_14, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 1029, __pyx_L10_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_14);
              __pyx_t_15 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_14, __pyx_n_s_isnan);<span class='error_goto'> if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1029, __pyx_L10_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_15);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
              __pyx_t_14 = NULL;
              __pyx_t_16 = 0;
              #if CYTHON_UNPACK_METHODS
              if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_15))) {
                __pyx_t_14 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_15);
                if (likely(__pyx_t_14)) {
                  PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_15);
                  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_14);
                  <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
                  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_15, function);
                  __pyx_t_16 = 1;
                }
              }
              #endif
              {
                PyObject *__pyx_callargs[2] = {__pyx_t_14, __pyx_8genexpr8__pyx_v_x};
                __pyx_t_13 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_15, __pyx_callargs+1-__pyx_t_16, 1+__pyx_t_16);
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
                if (unlikely(!__pyx_t_13)) <span class='error_goto'>__PYX_ERR(0, 1029, __pyx_L10_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_13);
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
              }
              __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_13); if (unlikely((__pyx_t_12 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1029, __pyx_L10_error)</span>
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
              __pyx_t_5 = (!__pyx_t_12);
              __pyx_t_13 = <span class='pyx_c_api'>__Pyx_PyBool_FromLong</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 1029, __pyx_L10_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_13);
              __pyx_t_11 = __pyx_t_13;
              __pyx_t_13 = 0;
              __pyx_L13_bool_binop_done:;
              if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_4, (PyObject*)__pyx_t_11))) <span class='error_goto'>__PYX_ERR(0, 1028, __pyx_L10_error)</span>
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
            }
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr8__pyx_v_x); __pyx_8genexpr8__pyx_v_x = 0;
            goto __pyx_L16_exit_scope;
            __pyx_L10_error:;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr8__pyx_v_x); __pyx_8genexpr8__pyx_v_x = 0;
            goto __pyx_L1_error;
            __pyx_L16_exit_scope:;
          } /* exit inner scope */
          __pyx_t_8 = NULL;
          __pyx_t_16 = 0;
          #if CYTHON_UNPACK_METHODS
          if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
            __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
            if (likely(__pyx_t_8)) {
              PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
              <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
              __pyx_t_16 = 1;
            }
          }
          #endif
          {
            PyObject *__pyx_callargs[2] = {__pyx_t_8, __pyx_t_4};
            __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_16, 1+__pyx_t_16);
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
            if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 1028, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
          }
          <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_non_nan_mask, __pyx_t_6);
          __pyx_t_6 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1030</span>:                 else:</pre>
<pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1031</span>:                     non_nan_mask = ~np.isnan(arr)</pre>
<pre class='cython code score-26 '>        <span class='trace'>__Pyx_TraceLine</span>(1031,0,<span class='error_goto'>__PYX_ERR(0, 1031, __pyx_L1_error)</span>)
        /*else*/ {
          <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_7, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1031, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
          __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_7, __pyx_n_s_isnan);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1031, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
          __pyx_t_7 = NULL;
          __pyx_t_16 = 0;
          #if CYTHON_UNPACK_METHODS
          if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
            __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
            if (likely(__pyx_t_7)) {
              PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
              <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
              __pyx_t_16 = 1;
            }
          }
          #endif
          {
            PyObject *__pyx_callargs[2] = {__pyx_t_7, __pyx_v_arr};
            __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_16, 1+__pyx_t_16);
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
            if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 1031, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
          }
          __pyx_t_4 = <span class='py_c_api'>PyNumber_Invert</span>(__pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1031, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_non_nan_mask, __pyx_t_4);
          __pyx_t_4 = 0;
        }
        __pyx_L7:;
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1032</span>:                 filtered_array = arr[non_nan_mask]</pre>
<pre class='cython code score-3 '>        <span class='trace'>__Pyx_TraceLine</span>(1032,0,<span class='error_goto'>__PYX_ERR(0, 1032, __pyx_L1_error)</span>)
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_arr, __pyx_v_non_nan_mask);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1032, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_filtered_array, __pyx_t_4);
        __pyx_t_4 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1033</span>:                 filtered_arrays.append(filtered_array)</pre>
<pre class='cython code score-2 '>        <span class='trace'>__Pyx_TraceLine</span>(1033,0,<span class='error_goto'>__PYX_ERR(0, 1033, __pyx_L1_error)</span>)
        __pyx_t_17 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_v_filtered_arrays, __pyx_v_filtered_array);<span class='error_goto'> if (unlikely(__pyx_t_17 == ((int)-1))) __PYX_ERR(0, 1033, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">1034</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1035</span>:             else:</pre>
<pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1036</span>:                filtered_subarrays = []</pre>
<pre class='cython code score-6 '>      <span class='trace'>__Pyx_TraceLine</span>(1036,0,<span class='error_goto'>__PYX_ERR(0, 1036, __pyx_L1_error)</span>)
      /*else*/ {
        __pyx_t_4 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1036, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_filtered_subarrays, ((PyObject*)__pyx_t_4));
        __pyx_t_4 = 0;
</pre><pre class="cython line score-49" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1037</span>:                for subarr in arr:</pre>
<pre class='cython code score-49 '>        <span class='trace'>__Pyx_TraceLine</span>(1037,0,<span class='error_goto'>__PYX_ERR(0, 1037, __pyx_L1_error)</span>)
        if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_arr)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_arr)) {
          __pyx_t_4 = __pyx_v_arr; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
          __pyx_t_9 = 0;
          __pyx_t_10 = NULL;
        } else {
          __pyx_t_9 = -1; __pyx_t_4 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_arr);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1037, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
          __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1037, __pyx_L1_error)</span>
        }
        for (;;) {
          if (likely(!__pyx_t_10)) {
            if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_4))) {
              {
                Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_4);
                #if !CYTHON_ASSUME_SAFE_MACROS
                if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1037, __pyx_L1_error)</span>
                #endif
                if (__pyx_t_9 &gt;= __pyx_temp) break;
              }
              #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
              __pyx_t_6 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_4, __pyx_t_9); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6); __pyx_t_9++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1037, __pyx_L1_error)</span>
              #else
              __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_4, __pyx_t_9); __pyx_t_9++;<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1037, __pyx_L1_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
              #endif
            } else {
              {
                Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_4);
                #if !CYTHON_ASSUME_SAFE_MACROS
                if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1037, __pyx_L1_error)</span>
                #endif
                if (__pyx_t_9 &gt;= __pyx_temp) break;
              }
              #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
              __pyx_t_6 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_4, __pyx_t_9); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6); __pyx_t_9++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1037, __pyx_L1_error)</span>
              #else
              __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_4, __pyx_t_9); __pyx_t_9++;<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1037, __pyx_L1_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
              #endif
            }
          } else {
            __pyx_t_6 = __pyx_t_10(__pyx_t_4);
            if (unlikely(!__pyx_t_6)) {
              PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
              if (exc_type) {
                if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
                else <span class='error_goto'>__PYX_ERR(0, 1037, __pyx_L1_error)</span>
              }
              break;
            }
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
          }
          <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_subarr, __pyx_t_6);
          __pyx_t_6 = 0;
/* â€¦ */
          <span class='trace'>__Pyx_TraceLine</span>(1037,0,<span class='error_goto'>__PYX_ERR(0, 1037, __pyx_L1_error)</span>)
        }
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1038</span>:                    if isinstance(subarr, np.ndarray):</pre>
<pre class='cython code score-11 '>          <span class='trace'>__Pyx_TraceLine</span>(1038,0,<span class='error_goto'>__PYX_ERR(0, 1038, __pyx_L1_error)</span>)
          <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1038, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
          __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_ndarray);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1038, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
          __pyx_t_5 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_subarr, __pyx_t_7);<span class='error_goto'> if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 1038, __pyx_L1_error)</span>
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
          if (__pyx_t_5) {
/* â€¦ */
            goto __pyx_L19;
          }
</pre><pre class="cython line score-0">&#xA0;<span class="">1039</span>:                        # Apply the non-NaN mask to each sub-array</pre>
<pre class="cython line score-43" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1040</span>:                        non_nan_mask = ~np.isnan(subarr.astype(float))</pre>
<pre class='cython code score-43 '>            <span class='trace'>__Pyx_TraceLine</span>(1040,0,<span class='error_goto'>__PYX_ERR(0, 1040, __pyx_L1_error)</span>)
            <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1040, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
            __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_isnan);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1040, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
            __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_subarr, __pyx_n_s_astype);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1040, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
            __pyx_t_13 = NULL;
            __pyx_t_16 = 0;
            #if CYTHON_UNPACK_METHODS
            if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_11))) {
              __pyx_t_13 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_11);
              if (likely(__pyx_t_13)) {
                PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_11);
                <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_13);
                <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
                <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_11, function);
                __pyx_t_16 = 1;
              }
            }
            #endif
            {
              PyObject *__pyx_callargs[2] = {__pyx_t_13, ((PyObject *)(&amp;PyFloat_Type))};
              __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_11, __pyx_callargs+1-__pyx_t_16, 1+__pyx_t_16);
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
              if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 1040, __pyx_L1_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
            }
            __pyx_t_11 = NULL;
            __pyx_t_16 = 0;
            #if CYTHON_UNPACK_METHODS
            if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_8))) {
              __pyx_t_11 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_8);
              if (likely(__pyx_t_11)) {
                PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_8);
                <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_11);
                <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
                <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_8, function);
                __pyx_t_16 = 1;
              }
            }
            #endif
            {
              PyObject *__pyx_callargs[2] = {__pyx_t_11, __pyx_t_6};
              __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_8, __pyx_callargs+1-__pyx_t_16, 1+__pyx_t_16);
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
              if (unlikely(!__pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 1040, __pyx_L1_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
            }
            __pyx_t_8 = <span class='py_c_api'>PyNumber_Invert</span>(__pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1040, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_non_nan_mask, __pyx_t_8);
            __pyx_t_8 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1041</span>:                        filtered_subarrays.append(subarr[non_nan_mask])</pre>
<pre class='cython code score-5 '>            <span class='trace'>__Pyx_TraceLine</span>(1041,0,<span class='error_goto'>__PYX_ERR(0, 1041, __pyx_L1_error)</span>)
            __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_subarr, __pyx_v_non_nan_mask);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1041, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
            __pyx_t_17 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_v_filtered_subarrays, __pyx_t_8);<span class='error_goto'> if (unlikely(__pyx_t_17 == ((int)-1))) __PYX_ERR(0, 1041, __pyx_L1_error)</span>
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1042</span>:                    else:</pre>
<pre class="cython line score-0">&#xA0;<span class="">1043</span>:                        # If it's not an array, just append as is</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1044</span>:                        filtered_subarrays.append(subarr)</pre>
<pre class='cython code score-2 '>          <span class='trace'>__Pyx_TraceLine</span>(1044,0,<span class='error_goto'>__PYX_ERR(0, 1044, __pyx_L1_error)</span>)
          /*else*/ {
            __pyx_t_17 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_v_filtered_subarrays, __pyx_v_subarr);<span class='error_goto'> if (unlikely(__pyx_t_17 == ((int)-1))) __PYX_ERR(0, 1044, __pyx_L1_error)</span>
          }
          __pyx_L19:;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1045</span>:                filtered_arrays.append(filtered_subarrays)</pre>
<pre class='cython code score-2 '>        <span class='trace'>__Pyx_TraceLine</span>(1045,0,<span class='error_goto'>__PYX_ERR(0, 1045, __pyx_L1_error)</span>)
        __pyx_t_17 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_v_filtered_arrays, __pyx_v_filtered_subarrays);<span class='error_goto'> if (unlikely(__pyx_t_17 == ((int)-1))) __PYX_ERR(0, 1045, __pyx_L1_error)</span>
      }
      __pyx_L6:;
</pre><pre class="cython line score-0">&#xA0;<span class="">1046</span>: </pre>
<pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1047</span>:             all_non_nan_mask.append(non_nan_mask)</pre>
<pre class='cython code score-4 '>      <span class='trace'>__Pyx_TraceLine</span>(1047,0,<span class='error_goto'>__PYX_ERR(0, 1047, __pyx_L1_error)</span>)
      if (unlikely(!__pyx_v_non_nan_mask)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("non_nan_mask"); <span class='error_goto'>__PYX_ERR(0, 1047, __pyx_L1_error)</span> }
      __pyx_t_17 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_v_all_non_nan_mask, __pyx_v_non_nan_mask);<span class='error_goto'> if (unlikely(__pyx_t_17 == ((int)-1))) __PYX_ERR(0, 1047, __pyx_L1_error)</span>
</pre><pre class="cython line score-58" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1048</span>:         elif nan_policy == 'raise' and np.isnan(arr.astype(float)).any():</pre>
<pre class='cython code score-58 '>    <span class='trace'>__Pyx_TraceLine</span>(1048,0,<span class='error_goto'>__PYX_ERR(0, 1048, __pyx_L1_error)</span>)
    __pyx_t_12 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_nan_policy, __pyx_n_u_raise, Py_EQ)); if (unlikely((__pyx_t_12 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1048, __pyx_L1_error)</span>
    if (__pyx_t_12) {
    } else {
      __pyx_t_5 = __pyx_t_12;
      goto __pyx_L21_bool_binop_done;
    }
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_7, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1048, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_7, __pyx_n_s_isnan);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1048, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_arr, __pyx_n_s_astype);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1048, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
    __pyx_t_13 = NULL;
    __pyx_t_16 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_11))) {
      __pyx_t_13 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_11);
      if (likely(__pyx_t_13)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_13);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_11, function);
        __pyx_t_16 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_13, ((PyObject *)(&amp;PyFloat_Type))};
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_11, __pyx_callargs+1-__pyx_t_16, 1+__pyx_t_16);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
      if (unlikely(!__pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 1048, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
    }
    __pyx_t_11 = NULL;
    __pyx_t_16 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
      __pyx_t_11 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
      if (likely(__pyx_t_11)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
        __pyx_t_16 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_11, __pyx_t_7};
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_16, 1+__pyx_t_16);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      if (unlikely(!__pyx_t_8)) <span class='error_goto'>__PYX_ERR(0, 1048, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_8, __pyx_n_s_any);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1048, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    __pyx_t_8 = NULL;
    __pyx_t_16 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
      __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
      if (likely(__pyx_t_8)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
        __pyx_t_16 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_8, NULL};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_16, 0+__pyx_t_16);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1048, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_4); if (unlikely((__pyx_t_12 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1048, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_5 = __pyx_t_12;
    __pyx_L21_bool_binop_done:;
    if (unlikely(__pyx_t_5)) {
/* â€¦ */
    }
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1049</span>:             raise ValueError("NaN values present and nan_policy is 'raise'.")</pre>
<pre class='cython code score-5 '>      <span class='trace'>__Pyx_TraceLine</span>(1049,0,<span class='error_goto'>__PYX_ERR(0, 1049, __pyx_L1_error)</span>)
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__22, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1049, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_4, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='error_goto'>__PYX_ERR(0, 1049, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">1050</span>:         else:</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1051</span>:             filtered_arrays.append(arr)</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(1051,0,<span class='error_goto'>__PYX_ERR(0, 1051, __pyx_L1_error)</span>)
    /*else*/ {
      __pyx_t_17 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_v_filtered_arrays, __pyx_v_arr);<span class='error_goto'> if (unlikely(__pyx_t_17 == ((int)-1))) __PYX_ERR(0, 1051, __pyx_L1_error)</span>
    }
    __pyx_L5:;
</pre><pre class="cython line score-0">&#xA0;<span class="">1052</span>: </pre>
<pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1053</span>:     return filtered_arrays, all_non_nan_mask</pre>
<pre class='cython code score-12 '>  <span class='trace'>__Pyx_TraceLine</span>(1053,0,<span class='error_goto'>__PYX_ERR(0, 1053, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1053, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_filtered_arrays);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_filtered_arrays);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_filtered_arrays)) <span class='error_goto'>__PYX_ERR(0, 1053, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_all_non_nan_mask);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_all_non_nan_mask);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_v_all_non_nan_mask)) <span class='error_goto'>__PYX_ERR(0, 1053, __pyx_L1_error)</span>;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1054</span>: </pre>
<pre class="cython line score-88" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1055</span>: def _adjust_sample_weights(sample_weights, non_nan_mask, error):</pre>
<pre class='cython code score-88 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_30_adjust_sample_weights(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_29_adjust_sample_weights, "Adjusts sample weights to match the filtered data's length.");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_30_adjust_sample_weights = {"_adjust_sample_weights", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_30_adjust_sample_weights, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_29_adjust_sample_weights};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_30_adjust_sample_weights(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_sample_weights = 0;
  PyObject *__pyx_v_non_nan_mask = 0;
  PyObject *__pyx_v_error = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_adjust_sample_weights (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_sample_weights,&amp;__pyx_n_s_non_nan_mask,&amp;__pyx_n_s_error,0};
  PyObject* values[3] = {0,0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_sample_weights)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1055, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_non_nan_mask)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1055, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_adjust_sample_weights", 1, 3, 3, 1); <span class='error_goto'>__PYX_ERR(0, 1055, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (likely((values[2] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_error)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[2]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1055, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_adjust_sample_weights", 1, 3, 3, 2); <span class='error_goto'>__PYX_ERR(0, 1055, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_adjust_sample_weights") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1055, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 3)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
      values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
    }
    __pyx_v_sample_weights = values[0];
    __pyx_v_non_nan_mask = values[1];
    __pyx_v_error = values[2];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_adjust_sample_weights", 1, 3, 3, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1055, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._adjust_sample_weights", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_29_adjust_sample_weights(__pyx_self, __pyx_v_sample_weights, __pyx_v_non_nan_mask, __pyx_v_error);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
static PyObject *__pyx_gb_6gofast_5tools_9baseutils_22_adjust_sample_weights_2generator3(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
/* â€¦ */
static PyObject *__pyx_pf_6gofast_5tools_9baseutils_29_adjust_sample_weights(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_sample_weights, PyObject *__pyx_v_non_nan_mask, PyObject *__pyx_v_error) {
  PyObject *__pyx_v_total_entries = NULL;
  PyObject *__pyx_gb_6gofast_5tools_9baseutils_22_adjust_sample_weights_2generator3 = 0;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__35)
  <span class='trace'>__Pyx_TraceCall</span>("_adjust_sample_weights", __pyx_f[0], 1055, 0, <span class='error_goto'>__PYX_ERR(0, 1055, __pyx_L1_error)</span>);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._adjust_sample_weights", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_total_entries);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_gb_6gofast_5tools_9baseutils_22_adjust_sample_weights_2generator3);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__166 = <span class='py_c_api'>PyTuple_Pack</span>(6, __pyx_n_s_sample_weights, __pyx_n_s_non_nan_mask, __pyx_n_s_error, __pyx_n_s_total_entries, __pyx_n_s_genexpr, __pyx_n_s_genexpr);<span class='error_goto'> if (unlikely(!__pyx_tuple__166)) __PYX_ERR(0, 1055, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__166);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__166);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1055,0,<span class='error_goto'>__PYX_ERR(0, 1055, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_30_adjust_sample_weights, 0, __pyx_n_s_adjust_sample_weights, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__35));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1055, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_adjust_sample_weights, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1055, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_codeobj__35 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(3, 0, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__166, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_adjust_sample_weights, 1055, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__35)) __PYX_ERR(0, 1055, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">1056</span>:     """Adjusts sample weights to match the filtered data's length."""</pre>
<pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1057</span>:     try:</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(1057,0,<span class='error_goto'>__PYX_ERR(0, 1057, __pyx_L1_error)</span>)
  {
    /*try:*/ {
/* â€¦ */
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    goto __pyx_L8_try_end;
    __pyx_L3_error:;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
/* â€¦ */
    __pyx_L5_except_error:;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_1);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_2);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_3);
    <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_1, __pyx_t_2, __pyx_t_3);
    goto __pyx_L1_error;
    __pyx_L4_exception_handled:;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_1);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_2);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_3);
    <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_1, __pyx_t_2, __pyx_t_3);
    __pyx_L8_try_end:;
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1058</span>:         total_entries = sum(non_nan_mask) # if flatten_lst</pre>
<pre class='cython code score-2 '>      <span class='trace'>__Pyx_TraceLine</span>(1058,0,<span class='error_goto'>__PYX_ERR(0, 1058, __pyx_L3_error)</span>)
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_sum, __pyx_v_non_nan_mask);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1058, __pyx_L3_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_v_total_entries = __pyx_t_4;
      __pyx_t_4 = 0;
</pre><pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1059</span>:     except:</pre>
<pre class='cython code score-4 '>    <span class='trace'>__Pyx_TraceLine</span>(1059,0,<span class='error_goto'>__PYX_ERR(0, 1059, __pyx_L5_except_error)</span>)
    /*except:*/ {
      <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._adjust_sample_weights", __pyx_clineno, __pyx_lineno, __pyx_filename);
      if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_4, &amp;__pyx_t_5, &amp;__pyx_t_6) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1059, __pyx_L5_except_error)</span>
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_4);
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_5);
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_6);
</pre><pre class="cython line score-94" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1060</span>:         total_entries = sum(len(arr) for arr in non_nan_mask )</pre>
<pre class='cython code score-94 '>static PyObject *__pyx_pf_6gofast_5tools_9baseutils_22_adjust_sample_weights_genexpr(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_genexpr_arg_0) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_4_genexpr *__pyx_cur_scope;
  PyObject *__pyx_r = NULL;
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_4_genexpr *)__pyx_tp_new_6gofast_5tools_9baseutils___pyx_scope_struct_4_genexpr(__pyx_ptype_6gofast_5tools_9baseutils___pyx_scope_struct_4_genexpr, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_4_genexpr *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 1060, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  __pyx_cur_scope-&gt;__pyx_genexpr_arg_0 = __pyx_genexpr_arg_0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  {
    __pyx_CoroutineObject *gen = <span class='pyx_c_api'>__Pyx_Generator_New</span>((__pyx_coroutine_body_t) __pyx_gb_6gofast_5tools_9baseutils_22_adjust_sample_weights_2generator3, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_adjust_sample_weights_locals_ge, __pyx_n_s_gofast_tools_baseutils);<span class='error_goto'> if (unlikely(!gen)) __PYX_ERR(0, 1060, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_cur_scope);
    <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
    return (PyObject *) gen;
  }

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._adjust_sample_weights.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_gb_6gofast_5tools_9baseutils_22_adjust_sample_weights_2generator3(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
{
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("genexpr", 0);
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_L3_first_run:;
  if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 1060, __pyx_L1_error)</span>
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>(".0"); <span class='error_goto'>__PYX_ERR(0, 1060, __pyx_L1_error)</span> }
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) {
    __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_genexpr_arg_0; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    __pyx_t_2 = 0;
    __pyx_t_3 = NULL;
  } else {
    __pyx_t_2 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1060, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1060, __pyx_L1_error)</span>
  }
  for (;;) {
    if (likely(!__pyx_t_3)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1060, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1060, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1060, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1060, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1060, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1060, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      }
    } else {
      __pyx_t_4 = __pyx_t_3(__pyx_t_1);
      if (unlikely(!__pyx_t_4)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 1060, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    }
    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_cur_scope-&gt;__pyx_v_arr);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_cur_scope-&gt;__pyx_v_arr, __pyx_t_4);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
    __pyx_t_4 = 0;
    __pyx_t_5 = <span class='py_c_api'>PyObject_Length</span>(__pyx_cur_scope-&gt;__pyx_v_arr);<span class='error_goto'> if (unlikely(__pyx_t_5 == ((Py_ssize_t)-1))) __PYX_ERR(0, 1060, __pyx_L1_error)</span>
    __pyx_t_4 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1060, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_r = __pyx_t_4;
    __pyx_t_4 = 0;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_1);
    __pyx_cur_scope-&gt;__pyx_t_0 = __pyx_t_1;
    __pyx_cur_scope-&gt;__pyx_t_1 = __pyx_t_2;
    __pyx_cur_scope-&gt;__pyx_t_2 = __pyx_t_3;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
    <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
    <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
    <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
    /* return from generator, yielding value */
    __pyx_generator-&gt;resume_label = 1;
    return __pyx_r;
    __pyx_L6_resume_from_yield:;
    __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_t_0;
    __pyx_cur_scope-&gt;__pyx_t_0 = 0;
    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
    __pyx_t_2 = __pyx_cur_scope-&gt;__pyx_t_1;
    __pyx_t_3 = __pyx_cur_scope-&gt;__pyx_t_2;
    if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 1060, __pyx_L1_error)</span>
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);

  /* function exit code */
  <span class='py_c_api'>PyErr_SetNone</span>(PyExc_StopIteration);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_Generator_Replace_StopIteration</span>(0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r); __pyx_r = 0;
  #if !CYTHON_USE_EXC_INFO_STACK
  <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
  #endif
  __pyx_generator-&gt;resume_label = -1;
  <span class='pyx_c_api'>__Pyx_Coroutine_clear</span>((PyObject*)__pyx_generator);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(1060,0,<span class='error_goto'>__PYX_ERR(0, 1060, __pyx_L5_except_error)</span>)
      __pyx_t_7 = __pyx_pf_6gofast_5tools_9baseutils_22_adjust_sample_weights_genexpr(NULL, __pyx_v_non_nan_mask);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1060, __pyx_L5_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_sum, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1060, __pyx_L5_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_total_entries, __pyx_t_8);
      __pyx_t_8 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      goto __pyx_L4_exception_handled;
    }
/* â€¦ */
struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_4_genexpr {
  PyObject_HEAD
  PyObject *__pyx_genexpr_arg_0;
  PyObject *__pyx_v_arr;
  PyObject *__pyx_t_0;
  Py_ssize_t __pyx_t_1;
  PyObject *(*__pyx_t_2)(PyObject *);
};

</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1061</span>:     if len(sample_weights) == total_entries:</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(1061,0,<span class='error_goto'>__PYX_ERR(0, 1061, __pyx_L1_error)</span>)
  __pyx_t_9 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_sample_weights);<span class='error_goto'> if (unlikely(__pyx_t_9 == ((Py_ssize_t)-1))) __PYX_ERR(0, 1061, __pyx_L1_error)</span>
  __pyx_t_6 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1061, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  __pyx_t_5 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_6, __pyx_v_total_entries, Py_EQ); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1061, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_5); if (unlikely((__pyx_t_10 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1061, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  if (__pyx_t_10) {
/* â€¦ */
  }
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1062</span>:         return np.asarray(sample_weights)[non_nan_mask]</pre>
<pre class='cython code score-23 '>    <span class='trace'>__Pyx_TraceLine</span>(1062,0,<span class='error_goto'>__PYX_ERR(0, 1062, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1062, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_asarray);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1062, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = NULL;
    __pyx_t_11 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
        __pyx_t_11 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_v_sample_weights};
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_11, 1+__pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 1062, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    }
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_t_5, __pyx_v_non_nan_mask);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1062, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_r = __pyx_t_4;
    __pyx_t_4 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1063</span>:     elif error == 'warn':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1063,0,<span class='error_goto'>__PYX_ERR(0, 1063, __pyx_L1_error)</span>)
  __pyx_t_10 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_error, __pyx_n_u_warn, Py_EQ)); if (unlikely((__pyx_t_10 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1063, __pyx_L1_error)</span>
  if (__pyx_t_10) {
/* â€¦ */
    goto __pyx_L11;
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">1064</span>:         # If the length of the sample weights does not match but is greater,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1065</span>:         # reduce the sample weights array to match the filtered data length.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1066</span>:         # Note: This may not always be the desired behavior, as it can lead to</pre>
<pre class="cython line score-0">&#xA0;<span class="">1067</span>:         #       unexpected results if data misalignment occurs.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1068</span>:         #       Use with caution or consider whether this should raise an error instead.</pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1069</span>:         warnings.warn("Length of sample_weights does not match the number"</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(1069,0,<span class='error_goto'>__PYX_ERR(0, 1069, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_warnings);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1069, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_warn);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1069, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = NULL;
    __pyx_t_11 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
        __pyx_t_11 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_kp_u_Length_of_sample_weights_does_no};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_11, 1+__pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1069, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1070</span>:                       " of entries after NaN filtering.")</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1071</span>:     elif error == 'raise':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1071,0,<span class='error_goto'>__PYX_ERR(0, 1071, __pyx_L1_error)</span>)
  __pyx_t_10 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_error, __pyx_n_u_raise, Py_EQ)); if (unlikely((__pyx_t_10 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1071, __pyx_L1_error)</span>
  if (unlikely(__pyx_t_10)) {
/* â€¦ */
  }
  __pyx_L11:;
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1072</span>:         raise ValueError("Length of sample_weights must match the number of entries in listof.")</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(1072,0,<span class='error_goto'>__PYX_ERR(0, 1072, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__36, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1072, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_4, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='error_goto'>__PYX_ERR(0, 1072, __pyx_L1_error)</span>
/* â€¦ */
  __pyx_tuple__36 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Length_of_sample_weights_must_ma);<span class='error_goto'> if (unlikely(!__pyx_tuple__36)) __PYX_ERR(0, 1072, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__36);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__36);
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1073</span>:     return sample_weights</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1073,0,<span class='error_goto'>__PYX_ERR(0, 1073, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_sample_weights);
  __pyx_r = __pyx_v_sample_weights;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1074</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1075</span>: </pre>
<pre class="cython line score-80" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1076</span>: def filter_nan_from( *listof, sample_weights=None):</pre>
<pre class='cython code score-80 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_32filter_nan_from(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_31filter_nan_from, "\n    Filters out NaN values from multiple lists of lists, adjusting \n    sample_weights accordingly.\n\n    Parameters\n    ----------\n    *listof : tuple of list of lists\n        Variable number of list of lists from which NaN values need to be \n        filtered out.\n    sample_weights : list or np.ndarray, optional\n        Sample weights corresponding to each sublist in the input list of lists.\n        Must have the same outer length as each list in *listof.\n\n    Returns\n    -------\n    filtered_listof : tuple of list of lists\n        The input list of lists with NaN values removed.\n    adjusted_sample_weights : np.ndarray or None\n        The sample weights adjusted to match the filtered data. Same length as\n        the filtered list of lists.\n\n    Examples\n    --------\n    &gt;&gt;&gt; from gofast.tools.baseutils import filter_nan_from\n    &gt;&gt;&gt; list1 = [[1, 2, np.nan], [4, np.nan, 6]]\n    &gt;&gt;&gt; list2 = [[np.nan, 8, 9], [10, 11, np.nan]]\n    &gt;&gt;&gt; weights = [0.5, 1.0]\n    &gt;&gt;&gt; filtered_lists, adjusted_weights = filter_nan_from(\n        list1, list2, sample_weights=weights)\n    &gt;&gt;&gt; print(filtered_lists)\n    ([[1, 2], [4, 6]], [[8, 9], [10, 11]])\n    &gt;&gt;&gt; print(adjusted_weights)\n    [0.5 1. ]\n\n    Notes\n    -----\n    This function assumes that all lists in *listof and sample_weights have \n    compatible shapes. Each sublist is expected to correspond to a set of \n    sample_weights, which are adjusted based on the presence of NaNs in \n    the sublist.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_32filter_nan_from = {"filter_nan_from", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_32filter_nan_from, METH_VARARGS|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_31filter_nan_from};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_32filter_nan_from(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_sample_weights = 0;
  PyObject *__pyx_v_listof = 0;
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("filter_nan_from (wrapper)", 0);
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_VARARGS</span>(__pyx_args, __pyx_nargs);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_args);
  __pyx_v_listof = __pyx_args;
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_sample_weights,0};
  PyObject* values[1] = {0};
    values[0] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_VARARGS</span>(((PyObject *)Py_None));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        default:
        case  0: break;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_VARARGS</span>(__pyx_kwds);
      if (kw_args == 1) {
        const Py_ssize_t index = 0;
        PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_VARARGS</span>(__pyx_kwds, __pyx_kwvalues, *__pyx_pyargnames[index]);
        if (value) { values[index] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_VARARGS</span>(value); kw_args--; }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1076, __pyx_L3_error)</span>
      }
      if (unlikely(kw_args &gt; 0)) {
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, 0, "filter_nan_from") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1076, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs &lt; 0)) {
      goto __pyx_L5_argtuple_error;
    } else {
    }
    __pyx_v_sample_weights = values[0];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("filter_nan_from", 0, 0, 0, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1076, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_VARARGS</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_listof); __pyx_v_listof = 0;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.filter_nan_from", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_31filter_nan_from(__pyx_self, __pyx_v_sample_weights, __pyx_v_listof);

  /* function exit code */
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_listof);
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_VARARGS</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
static PyObject *__pyx_gb_6gofast_5tools_9baseutils_15filter_nan_from_2generator4(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
/* â€¦ */
static PyObject *__pyx_pf_6gofast_5tools_9baseutils_31filter_nan_from(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_sample_weights, PyObject *__pyx_v_listof) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_5_filter_nan_from *__pyx_cur_scope;
  PyObject *__pyx_v_filtered_listof = NULL;
  PyObject *__pyx_v_valid_indices = NULL;
  PyObject *__pyx_v_lst = NULL;
  PyObject *__pyx_v_idx = NULL;
  PyObject *__pyx_v_sublist = NULL;
  PyObject *__pyx_v_filtered_list = NULL;
  PyObject *__pyx_v_adjusted_sample_weights = NULL;
  PyObject *__pyx_gb_6gofast_5tools_9baseutils_15filter_nan_from_2generator4 = 0;
  PyObject *__pyx_9genexpr11__pyx_v_idx = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__37)
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_5_filter_nan_from *)__pyx_tp_new_6gofast_5tools_9baseutils___pyx_scope_struct_5_filter_nan_from(__pyx_ptype_6gofast_5tools_9baseutils___pyx_scope_struct_5_filter_nan_from, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_5_filter_nan_from *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 1076, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  <span class='trace'>__Pyx_TraceCall</span>("filter_nan_from", __pyx_f[0], 1076, 0, <span class='error_goto'>__PYX_ERR(0, 1076, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_sample_weights);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.filter_nan_from", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_filtered_listof);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_valid_indices);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_lst);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_idx);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_sublist);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_filtered_list);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_adjusted_sample_weights);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_gb_6gofast_5tools_9baseutils_15filter_nan_from_2generator4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr11__pyx_v_idx);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_sample_weights);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__167 = <span class='py_c_api'>PyTuple_Pack</span>(13, __pyx_n_s_sample_weights, __pyx_n_s_listof, __pyx_n_s_math, __pyx_n_s_filtered_listof, __pyx_n_s_valid_indices, __pyx_n_s_lst, __pyx_n_s_idx, __pyx_n_s_sublist, __pyx_n_s_filtered_list, __pyx_n_s_adjusted_sample_weights, __pyx_n_s_genexpr, __pyx_n_s_genexpr, __pyx_n_s_idx);<span class='error_goto'> if (unlikely(!__pyx_tuple__167)) __PYX_ERR(0, 1076, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__167);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__167);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1076,0,<span class='error_goto'>__PYX_ERR(0, 1076, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1076, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_sample_weights, Py_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1076, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_32filter_nan_from, 0, __pyx_n_s_filter_nan_from, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__37));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1076, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsKwDict</span>(__pyx_t_3, __pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_filter_nan_from, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1076, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_codeobj__37 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(0, 0, 1, 13, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARARGS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__167, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_filter_nan_from, 1076, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__37)) __PYX_ERR(0, 1076, __pyx_L1_error)</span>
/* â€¦ */
struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_5_filter_nan_from {
  PyObject_HEAD
  PyObject *__pyx_v_math;
};

</pre><pre class="cython line score-0">&#xA0;<span class="">1077</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">1078</span>:     Filters out NaN values from multiple lists of lists, adjusting</pre>
<pre class="cython line score-0">&#xA0;<span class="">1079</span>:     sample_weights accordingly.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1080</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1081</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">1082</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1083</span>:     *listof : tuple of list of lists</pre>
<pre class="cython line score-0">&#xA0;<span class="">1084</span>:         Variable number of list of lists from which NaN values need to be</pre>
<pre class="cython line score-0">&#xA0;<span class="">1085</span>:         filtered out.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1086</span>:     sample_weights : list or np.ndarray, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1087</span>:         Sample weights corresponding to each sublist in the input list of lists.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1088</span>:         Must have the same outer length as each list in *listof.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1089</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1090</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">1091</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1092</span>:     filtered_listof : tuple of list of lists</pre>
<pre class="cython line score-0">&#xA0;<span class="">1093</span>:         The input list of lists with NaN values removed.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1094</span>:     adjusted_sample_weights : np.ndarray or None</pre>
<pre class="cython line score-0">&#xA0;<span class="">1095</span>:         The sample weights adjusted to match the filtered data. Same length as</pre>
<pre class="cython line score-0">&#xA0;<span class="">1096</span>:         the filtered list of lists.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1097</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1098</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">1099</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1100</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import filter_nan_from</pre>
<pre class="cython line score-0">&#xA0;<span class="">1101</span>:     &gt;&gt;&gt; list1 = [[1, 2, np.nan], [4, np.nan, 6]]</pre>
<pre class="cython line score-0">&#xA0;<span class="">1102</span>:     &gt;&gt;&gt; list2 = [[np.nan, 8, 9], [10, 11, np.nan]]</pre>
<pre class="cython line score-0">&#xA0;<span class="">1103</span>:     &gt;&gt;&gt; weights = [0.5, 1.0]</pre>
<pre class="cython line score-0">&#xA0;<span class="">1104</span>:     &gt;&gt;&gt; filtered_lists, adjusted_weights = filter_nan_from(</pre>
<pre class="cython line score-0">&#xA0;<span class="">1105</span>:         list1, list2, sample_weights=weights)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1106</span>:     &gt;&gt;&gt; print(filtered_lists)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1107</span>:     ([[1, 2], [4, 6]], [[8, 9], [10, 11]])</pre>
<pre class="cython line score-0">&#xA0;<span class="">1108</span>:     &gt;&gt;&gt; print(adjusted_weights)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1109</span>:     [0.5 1. ]</pre>
<pre class="cython line score-0">&#xA0;<span class="">1110</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1111</span>:     Notes</pre>
<pre class="cython line score-0">&#xA0;<span class="">1112</span>:     -----</pre>
<pre class="cython line score-0">&#xA0;<span class="">1113</span>:     This function assumes that all lists in *listof and sample_weights have</pre>
<pre class="cython line score-0">&#xA0;<span class="">1114</span>:     compatible shapes. Each sublist is expected to correspond to a set of</pre>
<pre class="cython line score-0">&#xA0;<span class="">1115</span>:     sample_weights, which are adjusted based on the presence of NaNs in</pre>
<pre class="cython line score-0">&#xA0;<span class="">1116</span>:     the sublist.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1117</span>:     """</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1118</span>:     import math</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1118,0,<span class='error_goto'>__PYX_ERR(0, 1118, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_math, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1118, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  __pyx_cur_scope-&gt;__pyx_v_math = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-13" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1119</span>:     if sample_weights is not None and len(sample_weights) != len(listof[0]):</pre>
<pre class='cython code score-13 '>  <span class='trace'>__Pyx_TraceLine</span>(1119,0,<span class='error_goto'>__PYX_ERR(0, 1119, __pyx_L1_error)</span>)
  __pyx_t_3 = (__pyx_v_sample_weights != Py_None);
  if (__pyx_t_3) {
  } else {
    __pyx_t_2 = __pyx_t_3;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_4 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_sample_weights);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(0, 1119, __pyx_L1_error)</span>
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_GetItemInt_Tuple</span>(__pyx_v_listof, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1119, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_5 = <span class='py_c_api'>PyObject_Length</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(__pyx_t_5 == ((Py_ssize_t)-1))) __PYX_ERR(0, 1119, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = (__pyx_t_4 != __pyx_t_5);
  __pyx_t_2 = __pyx_t_3;
  __pyx_L4_bool_binop_done:;
  if (unlikely(__pyx_t_2)) {
/* â€¦ */
  }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1120</span>:         raise ValueError(</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(1120,0,<span class='error_goto'>__PYX_ERR(0, 1120, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__39, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1120, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_1, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='error_goto'>__PYX_ERR(0, 1120, __pyx_L1_error)</span>
/* â€¦ */
  __pyx_tuple__39 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_sample_weights_length_must_match);<span class='error_goto'> if (unlikely(!__pyx_tuple__39)) __PYX_ERR(0, 1120, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__39);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__39);
</pre><pre class="cython line score-0">&#xA0;<span class="">1121</span>:             "sample_weights length must match the number of sublists in listof.")</pre>
<pre class="cython line score-0">&#xA0;<span class="">1122</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1123</span>:     # Convert sample_weights to a numpy array for easier manipulation</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1124</span>:     if sample_weights is not None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(1124,0,<span class='error_goto'>__PYX_ERR(0, 1124, __pyx_L1_error)</span>)
  __pyx_t_2 = (__pyx_v_sample_weights != Py_None);
  if (__pyx_t_2) {
/* â€¦ */
  }
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1125</span>:         sample_weights = np.asarray(sample_weights)</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(1125,0,<span class='error_goto'>__PYX_ERR(0, 1125, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1125, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_asarray);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1125, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = NULL;
    __pyx_t_8 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
        __pyx_t_8 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_v_sample_weights};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1125, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_sample_weights, __pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1126</span>: </pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1127</span>:     filtered_listof = []</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(1127,0,<span class='error_goto'>__PYX_ERR(0, 1127, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1127, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_filtered_listof = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1128</span>:     valid_indices = set(range(len(listof[0])))  # Initialize with all indices as valid</pre>
<pre class='cython code score-22 '>  <span class='trace'>__Pyx_TraceLine</span>(1128,0,<span class='error_goto'>__PYX_ERR(0, 1128, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_GetItemInt_Tuple</span>(__pyx_v_listof, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1128, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_5 = <span class='py_c_api'>PyObject_Length</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(__pyx_t_5 == ((Py_ssize_t)-1))) __PYX_ERR(0, 1128, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1128, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_range, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1128, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='py_c_api'>PySet_New</span>(__pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1128, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  __pyx_v_valid_indices = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1129</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1130</span>:     # Identify indices with NaNs across all lists</pre>
<pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1131</span>:     for lst in listof:</pre>
<pre class='cython code score-9 '>  <span class='trace'>__Pyx_TraceLine</span>(1131,0,<span class='error_goto'>__PYX_ERR(0, 1131, __pyx_L1_error)</span>)
  __pyx_t_1 = __pyx_v_listof; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
  __pyx_t_5 = 0;
  for (;;) {
    {
      Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
      #if !CYTHON_ASSUME_SAFE_MACROS
      if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1131, __pyx_L1_error)</span>
      #endif
      if (__pyx_t_5 &gt;= __pyx_temp) break;
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    __pyx_t_7 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_5); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7); __pyx_t_5++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1131, __pyx_L1_error)</span>
    #else
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_5); __pyx_t_5++;<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1131, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    #endif
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_lst, __pyx_t_7);
    __pyx_t_7 = 0;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(1131,0,<span class='error_goto'>__PYX_ERR(0, 1131, __pyx_L1_error)</span>)
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-56" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1132</span>:         for idx, sublist in enumerate(lst):</pre>
<pre class='cython code score-56 '>    <span class='trace'>__Pyx_TraceLine</span>(1132,0,<span class='error_goto'>__PYX_ERR(0, 1132, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_int_0);
    __pyx_t_7 = __pyx_int_0;
    if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_lst)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_lst)) {
      __pyx_t_6 = __pyx_v_lst; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
      __pyx_t_4 = 0;
      __pyx_t_9 = NULL;
    } else {
      __pyx_t_4 = -1; __pyx_t_6 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_lst);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1132, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1132, __pyx_L1_error)</span>
    }
    for (;;) {
      if (likely(!__pyx_t_9)) {
        if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_6))) {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_6);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1132, __pyx_L1_error)</span>
            #endif
            if (__pyx_t_4 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_10 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_6, __pyx_t_4); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_10); __pyx_t_4++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1132, __pyx_L1_error)</span>
          #else
          __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_6, __pyx_t_4); __pyx_t_4++;<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1132, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
          #endif
        } else {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_6);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1132, __pyx_L1_error)</span>
            #endif
            if (__pyx_t_4 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_10 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_6, __pyx_t_4); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_10); __pyx_t_4++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1132, __pyx_L1_error)</span>
          #else
          __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_6, __pyx_t_4); __pyx_t_4++;<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1132, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
          #endif
        }
      } else {
        __pyx_t_10 = __pyx_t_9(__pyx_t_6);
        if (unlikely(!__pyx_t_10)) {
          PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
          if (exc_type) {
            if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
            else <span class='error_goto'>__PYX_ERR(0, 1132, __pyx_L1_error)</span>
          }
          break;
        }
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
      }
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_sublist, __pyx_t_10);
      __pyx_t_10 = 0;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_idx, __pyx_t_7);
      __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyInt_AddObjC</span>(__pyx_t_7, __pyx_int_1, 1, 0, 0);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1132, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7);
      __pyx_t_7 = __pyx_t_10;
      __pyx_t_10 = 0;
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(1132,0,<span class='error_goto'>__PYX_ERR(0, 1132, __pyx_L1_error)</span>)
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
</pre><pre class="cython line score-54" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1133</span>:             if any(math.isnan(item) if isinstance(item, (</pre>
<pre class='cython code score-54 '>static PyObject *__pyx_pf_6gofast_5tools_9baseutils_15filter_nan_from_genexpr(PyObject *__pyx_self, PyObject *__pyx_genexpr_arg_0) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_6_genexpr *__pyx_cur_scope;
  PyObject *__pyx_r = NULL;
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_6_genexpr *)__pyx_tp_new_6gofast_5tools_9baseutils___pyx_scope_struct_6_genexpr(__pyx_ptype_6gofast_5tools_9baseutils___pyx_scope_struct_6_genexpr, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_6_genexpr *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 1133, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  __pyx_cur_scope-&gt;__pyx_outer_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_5_filter_nan_from *) __pyx_self;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>((PyObject *)__pyx_cur_scope-&gt;__pyx_outer_scope);
  <span class='refnanny'>__Pyx_GIVEREF</span>((PyObject *)__pyx_cur_scope-&gt;__pyx_outer_scope);
  __pyx_cur_scope-&gt;__pyx_genexpr_arg_0 = __pyx_genexpr_arg_0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  {
    __pyx_CoroutineObject *gen = <span class='pyx_c_api'>__Pyx_Generator_New</span>((__pyx_coroutine_body_t) __pyx_gb_6gofast_5tools_9baseutils_15filter_nan_from_2generator4, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_filter_nan_from_locals_genexpr, __pyx_n_s_gofast_tools_baseutils);<span class='error_goto'> if (unlikely(!gen)) __PYX_ERR(0, 1133, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_cur_scope);
    <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
    return (PyObject *) gen;
  }

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.filter_nan_from.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_gb_6gofast_5tools_9baseutils_15filter_nan_from_2generator4(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
{
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("genexpr", 0);
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_L3_first_run:;
  if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 1133, __pyx_L1_error)</span>
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(1133,0,<span class='error_goto'>__PYX_ERR(0, 1133, __pyx_L1_error)</span>)
      if (unlikely(!__pyx_cur_scope-&gt;__pyx_outer_scope-&gt;__pyx_v_math)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("math"); <span class='error_goto'>__PYX_ERR(0, 1133, __pyx_L1_error)</span> }
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_cur_scope-&gt;__pyx_outer_scope-&gt;__pyx_v_math, __pyx_n_s_isnan);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1133, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      __pyx_t_9 = NULL;
      __pyx_t_10 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
        __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
        if (likely(__pyx_t_9)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
          __pyx_t_10 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_9, __pyx_cur_scope-&gt;__pyx_v_item};
        __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_10, 1+__pyx_t_10);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 1133, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      }
      __pyx_t_4 = __pyx_t_6;
      __pyx_t_6 = 0;
    } else {
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(1133,0,<span class='error_goto'>__PYX_ERR(0, 1133, __pyx_L1_error)</span>)
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_4); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1133, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (__pyx_t_7) {
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_True);
      __pyx_r = Py_True;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      goto __pyx_L0;
    }
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(1133,0,<span class='error_goto'>__PYX_ERR(0, 1133, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_False);
    __pyx_r = Py_False;
    goto __pyx_L0;
  }
  CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);

  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_Generator_Replace_StopIteration</span>(0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  #if !CYTHON_USE_EXC_INFO_STACK
  <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
  #endif
  __pyx_generator-&gt;resume_label = -1;
  <span class='pyx_c_api'>__Pyx_Coroutine_clear</span>((PyObject*)__pyx_generator);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(1133,0,<span class='error_goto'>__PYX_ERR(0, 1133, __pyx_L1_error)</span>)
      __pyx_t_10 = __pyx_pf_6gofast_5tools_9baseutils_15filter_nan_from_genexpr(((PyObject*)__pyx_cur_scope), __pyx_v_sublist);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1133, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
      __pyx_t_11 = <span class='pyx_c_api'>__Pyx_Generator_Next</span>(__pyx_t_10);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1133, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_11); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1133, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
      if (__pyx_t_2) {
/* â€¦ */
      }
/* â€¦ */
struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_6_genexpr {
  PyObject_HEAD
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_5_filter_nan_from *__pyx_outer_scope;
  PyObject *__pyx_genexpr_arg_0;
  PyObject *__pyx_v_item;
};

</pre><pre class="cython line score-68" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1134</span>:                     float, np.floating)) else False for item in sublist):</pre>
<pre class='cython code score-68 '>  <span class='trace'>__Pyx_TraceLine</span>(1134,0,<span class='error_goto'>__PYX_ERR(0, 1134, __pyx_L1_error)</span>)
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>(".0"); <span class='error_goto'>__PYX_ERR(0, 1134, __pyx_L1_error)</span> }
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) {
    __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_genexpr_arg_0; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    __pyx_t_2 = 0;
    __pyx_t_3 = NULL;
  } else {
    __pyx_t_2 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1134, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1134, __pyx_L1_error)</span>
  }
  for (;;) {
    if (likely(!__pyx_t_3)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1134, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1134, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1134, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1134, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1134, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1134, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      }
    } else {
      __pyx_t_4 = __pyx_t_3(__pyx_t_1);
      if (unlikely(!__pyx_t_4)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 1134, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    }
    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_cur_scope-&gt;__pyx_v_item);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_cur_scope-&gt;__pyx_v_item, __pyx_t_4);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
    __pyx_t_4 = 0;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(1133,0,<span class='error_goto'>__PYX_ERR(0, 1133, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1134, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(1134,0,<span class='error_goto'>__PYX_ERR(0, 1134, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_floating);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1134, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(1133,0,<span class='error_goto'>__PYX_ERR(0, 1133, __pyx_L1_error)</span>)
    __pyx_t_8 = <span class='py_c_api'>PyFloat_Check</span>(__pyx_cur_scope-&gt;__pyx_v_item); 
    if (!__pyx_t_8) {
    } else {
      __pyx_t_7 = __pyx_t_8;
      goto __pyx_L7_bool_binop_done;
    }
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(1134,0,<span class='error_goto'>__PYX_ERR(0, 1134, __pyx_L1_error)</span>)
    __pyx_t_8 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_cur_scope-&gt;__pyx_v_item, __pyx_t_6); 
    __pyx_t_7 = __pyx_t_8;
    __pyx_L7_bool_binop_done:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    if (__pyx_t_7) {
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(1134,0,<span class='error_goto'>__PYX_ERR(0, 1134, __pyx_L1_error)</span>)
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_False);
      __pyx_t_4 = Py_False;
    }
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(1134,0,<span class='error_goto'>__PYX_ERR(0, 1134, __pyx_L1_error)</span>)
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  /*else*/ {
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1135</span>:                 valid_indices.discard(idx)</pre>
<pre class='cython code score-2 '>        <span class='trace'>__Pyx_TraceLine</span>(1135,0,<span class='error_goto'>__PYX_ERR(0, 1135, __pyx_L1_error)</span>)
        __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PySet_Discard</span>(__pyx_v_valid_indices, __pyx_v_idx);<span class='error_goto'> if (unlikely(__pyx_t_12 == ((int)-1))) __PYX_ERR(0, 1135, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">1136</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1137</span>:     # Filter lists based on valid indices</pre>
<pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1138</span>:     for lst in listof:</pre>
<pre class='cython code score-9 '>  <span class='trace'>__Pyx_TraceLine</span>(1138,0,<span class='error_goto'>__PYX_ERR(0, 1138, __pyx_L1_error)</span>)
  __pyx_t_1 = __pyx_v_listof; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
  __pyx_t_5 = 0;
  for (;;) {
    {
      Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
      #if !CYTHON_ASSUME_SAFE_MACROS
      if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1138, __pyx_L1_error)</span>
      #endif
      if (__pyx_t_5 &gt;= __pyx_temp) break;
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    __pyx_t_7 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_5); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7); __pyx_t_5++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1138, __pyx_L1_error)</span>
    #else
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_5); __pyx_t_5++;<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1138, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    #endif
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_lst, __pyx_t_7);
    __pyx_t_7 = 0;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(1138,0,<span class='error_goto'>__PYX_ERR(0, 1138, __pyx_L1_error)</span>)
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-33" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1139</span>:         filtered_list = [lst[idx] for idx in sorted(valid_indices)]</pre>
<pre class='cython code score-33 '>    <span class='trace'>__Pyx_TraceLine</span>(1139,0,<span class='error_goto'>__PYX_ERR(0, 1139, __pyx_L1_error)</span>)
    { /* enter inner scope */
      __pyx_t_7 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1139, __pyx_L18_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      __pyx_t_11 = <span class='py_c_api'>PySequence_List</span>(__pyx_v_valid_indices);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1139, __pyx_L18_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
      __pyx_t_6 = ((PyObject*)__pyx_t_11);
      __pyx_t_11 = 0;
      __pyx_t_12 = <span class='py_c_api'>PyList_Sort</span>(__pyx_t_6);<span class='error_goto'> if (unlikely(__pyx_t_12 == ((int)-1))) __PYX_ERR(0, 1139, __pyx_L18_error)</span>
      __pyx_t_11 = __pyx_t_6; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_11);
      __pyx_t_4 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      for (;;) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_11);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1139, __pyx_L18_error)</span>
          #endif
          if (__pyx_t_4 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_6 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_11, __pyx_t_4); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6); __pyx_t_4++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1139, __pyx_L18_error)</span>
        #else
        __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_11, __pyx_t_4); __pyx_t_4++;<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1139, __pyx_L18_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
        #endif
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr11__pyx_v_idx, __pyx_t_6);
        __pyx_t_6 = 0;
        __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_lst, __pyx_9genexpr11__pyx_v_idx);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1139, __pyx_L18_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
        if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_7, (PyObject*)__pyx_t_6))) <span class='error_goto'>__PYX_ERR(0, 1139, __pyx_L18_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr11__pyx_v_idx); __pyx_9genexpr11__pyx_v_idx = 0;
      goto __pyx_L22_exit_scope;
      __pyx_L18_error:;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr11__pyx_v_idx); __pyx_9genexpr11__pyx_v_idx = 0;
      goto __pyx_L1_error;
      __pyx_L22_exit_scope:;
    } /* exit inner scope */
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_filtered_list, ((PyObject*)__pyx_t_7));
    __pyx_t_7 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1140</span>:         filtered_listof.append(filtered_list)</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(1140,0,<span class='error_goto'>__PYX_ERR(0, 1140, __pyx_L1_error)</span>)
    __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_v_filtered_listof, __pyx_v_filtered_list);<span class='error_goto'> if (unlikely(__pyx_t_12 == ((int)-1))) __PYX_ERR(0, 1140, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">1141</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1142</span>:     # Adjust sample_weights based on valid indices</pre>
<pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1143</span>:     adjusted_sample_weights = sample_weights[</pre>
<pre class='cython code score-3 '>    <span class='trace'>__Pyx_TraceLine</span>(1143,0,<span class='error_goto'>__PYX_ERR(0, 1143, __pyx_L1_error)</span>)
    __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_sample_weights, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1143, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_1 = __pyx_t_11;
    __pyx_t_11 = 0;
  } else {
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1144</span>:         sorted(valid_indices)] if sample_weights is not None else None</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(1144,0,<span class='error_goto'>__PYX_ERR(0, 1144, __pyx_L1_error)</span>)
  __pyx_t_2 = (__pyx_v_sample_weights != Py_None);
  if (__pyx_t_2) {
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(1143,0,<span class='error_goto'>__PYX_ERR(0, 1143, __pyx_L1_error)</span>)
    __pyx_t_11 = <span class='py_c_api'>PySequence_List</span>(__pyx_v_valid_indices);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1144, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
    __pyx_t_7 = ((PyObject*)__pyx_t_11);
    __pyx_t_11 = 0;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(1144,0,<span class='error_goto'>__PYX_ERR(0, 1144, __pyx_L1_error)</span>)
    __pyx_t_12 = <span class='py_c_api'>PyList_Sort</span>(__pyx_t_7);<span class='error_goto'> if (unlikely(__pyx_t_12 == ((int)-1))) __PYX_ERR(0, 1144, __pyx_L1_error)</span>
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(1144,0,<span class='error_goto'>__PYX_ERR(0, 1144, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    __pyx_t_1 = Py_None;
  }
  __pyx_v_adjusted_sample_weights = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1145</span>: </pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1146</span>:     return tuple(filtered_listof), adjusted_sample_weights</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(1146,0,<span class='error_goto'>__PYX_ERR(0, 1146, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_1 = <span class='py_c_api'>PyList_AsTuple</span>(__pyx_v_filtered_listof);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1146, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_11 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1146, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_11, 0, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1146, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_adjusted_sample_weights);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_adjusted_sample_weights);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_11, 1, __pyx_v_adjusted_sample_weights)) <span class='error_goto'>__PYX_ERR(0, 1146, __pyx_L1_error)</span>;
  __pyx_t_1 = 0;
  __pyx_r = __pyx_t_11;
  __pyx_t_11 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1147</span>: </pre>
<pre class="cython line score-45" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1148</span>: def standardize_input(*arrays):</pre>
<pre class='cython code score-45 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_34standardize_input(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_33standardize_input, "\n    Standardizes input formats for comparison metrics, converting input data\n    into a uniform format of lists of sets. This function can handle a variety\n    of input formats, including 1D and 2D numpy arrays, lists of lists, and\n    tuples, making it versatile for tasks that involve comparing lists of items\n    like ranking or recommendation systems.\n\n    Parameters\n    ----------\n    *arrays : variable number of array-like or list of lists\n        Each array-like argument represents a set of labels or items, such as \n        `y_true` and `y_pred`. The function is designed to handle:\n        \n        - 1D arrays where each element represents a single item.\n        - 2D arrays where rows represent samples and columns represent items\n          (for multi-output scenarios).\n        - Lists of lists or tuples, where each inner list or tuple represents \n          a set of items for a sample.\n\n    Returns\n    -------\n    standardized : list of lists of set\n        A list containing the standardized inputs as lists of sets. Each outer\n        list corresponds to one of the input arrays, and each inner list \n        corresponds to a sample within that array.\n\n    Raises\n    ------\n    ValueError\n        If the lengths of the input arrays are inconsistent.\n    TypeError\n        If the inputs are not array-like, lists of lists, or lists of tuples,\n        or if an ndarray has more than 2 dimensions.\n\n    Examples\n    --------\n    &gt;&gt;&gt; from numpy import array\n    &gt;&gt;&gt; from gofast.tools.baseutils import standardize_input\n    &gt;&gt;&gt; y_true = [[1, 2], [3]]\n    &gt;&gt;&gt; y_pred = array([[2, 1], [3]])\n    &gt;&gt;&gt; standardized_inputs = standardize_input(y_true, y_pred)\n    &gt;&gt;&gt; for standardized in standardized_inputs:\n    ...     print([list(s) for s in standardized])\n    [[1, 2], [3]]\n    [[2, 1], [3]]\n\n    &gt;&gt;&gt; y_true_1d = array([1, 2, 3])\n    &gt;&gt;&gt; y_pred_1d = [4, 5, 6]\n    &gt;&gt;&gt; standardized_inputs = standardize_input(y_true_1d, y_pred_1d)\n    &gt;&gt;&gt;"" for standardized in standardized_inputs:\n    ...     print([list(s) for s in standardized])\n    [[1], [2], [3]]\n    [[4], [5], [6]]\n\n    Notes\n    -----\n    The function is particularly useful for preprocessing inputs to metrics \n    that require comparison of sets of items across samples, such as precision\n    at K, recall at K, or NDCG. By standardizing the inputs to lists of sets,\n    the function facilitates consistent handling of these computations\n    regardless of the original format of the input data. This standardization\n    is critical when working with real-world data, which can vary widely in\n    format and structure.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_34standardize_input = {"standardize_input", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_34standardize_input, METH_VARARGS|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_33standardize_input};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_34standardize_input(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_arrays = 0;
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("standardize_input (wrapper)", 0);
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_VARARGS</span>(__pyx_args, __pyx_nargs);
  if (unlikely(__pyx_kwds) &amp;&amp; <span class='pyx_c_api'>__Pyx_NumKwargs_VARARGS</span>(__pyx_kwds) &amp;&amp; unlikely(!<span class='pyx_c_api'>__Pyx_CheckKeywordStrings</span>(__pyx_kwds, "standardize_input", 0))) return NULL;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_args);
  __pyx_v_arrays = __pyx_args;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_33standardize_input(__pyx_self, __pyx_v_arrays);

  /* function exit code */
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_arrays);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
static PyObject *__pyx_gb_6gofast_5tools_9baseutils_17standardize_input_2generator5(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
/* â€¦ */
static PyObject *__pyx_pf_6gofast_5tools_9baseutils_33standardize_input(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_arrays) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_7_standardize_input *__pyx_cur_scope;
  PyObject *__pyx_v_data = NULL;
  PyObject *__pyx_9genexpr12__pyx_v_item = NULL;
  PyObject *__pyx_9genexpr13__pyx_v_row = NULL;
  PyObject *__pyx_gb_6gofast_5tools_9baseutils_17standardize_input_2generator5 = 0;
  PyObject *__pyx_9genexpr15__pyx_v_item = NULL;
  PyObject *__pyx_9genexpr16__pyx_v_item = NULL;
  PyObject *__pyx_gb_6gofast_5tools_9baseutils_17standardize_input_5generator6 = 0;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__40)
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_7_standardize_input *)__pyx_tp_new_6gofast_5tools_9baseutils___pyx_scope_struct_7_standardize_input(__pyx_ptype_6gofast_5tools_9baseutils___pyx_scope_struct_7_standardize_input, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_7_standardize_input *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 1148, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  <span class='trace'>__Pyx_TraceCall</span>("standardize_input", __pyx_f[0], 1148, 0, <span class='error_goto'>__PYX_ERR(0, 1148, __pyx_L1_error)</span>);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.standardize_input", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_data);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr12__pyx_v_item);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr13__pyx_v_row);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_gb_6gofast_5tools_9baseutils_17standardize_input_2generator5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr15__pyx_v_item);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr16__pyx_v_item);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_gb_6gofast_5tools_9baseutils_17standardize_input_5generator6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__168 = <span class='py_c_api'>PyTuple_Pack</span>(10, __pyx_n_s_arrays, __pyx_n_s_standardized, __pyx_n_s_data, __pyx_n_s_item, __pyx_n_s_row, __pyx_n_s_genexpr, __pyx_n_s_genexpr, __pyx_n_s_item, __pyx_n_s_item, __pyx_n_s_genexpr);<span class='error_goto'> if (unlikely(!__pyx_tuple__168)) __PYX_ERR(0, 1148, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__168);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__168);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1148,0,<span class='error_goto'>__PYX_ERR(0, 1148, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_34standardize_input, 0, __pyx_n_s_standardize_input, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__40));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1148, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_standardize_input, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1148, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_codeobj__40 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(0, 0, 0, 10, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARARGS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__168, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_standardize_input, 1148, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__40)) __PYX_ERR(0, 1148, __pyx_L1_error)</span>
/* â€¦ */
struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_7_standardize_input {
  PyObject_HEAD
  PyObject *__pyx_v_standardized;
};

</pre><pre class="cython line score-0">&#xA0;<span class="">1149</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">1150</span>:     Standardizes input formats for comparison metrics, converting input data</pre>
<pre class="cython line score-0">&#xA0;<span class="">1151</span>:     into a uniform format of lists of sets. This function can handle a variety</pre>
<pre class="cython line score-0">&#xA0;<span class="">1152</span>:     of input formats, including 1D and 2D numpy arrays, lists of lists, and</pre>
<pre class="cython line score-0">&#xA0;<span class="">1153</span>:     tuples, making it versatile for tasks that involve comparing lists of items</pre>
<pre class="cython line score-0">&#xA0;<span class="">1154</span>:     like ranking or recommendation systems.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1155</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1156</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">1157</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1158</span>:     *arrays : variable number of array-like or list of lists</pre>
<pre class="cython line score-0">&#xA0;<span class="">1159</span>:         Each array-like argument represents a set of labels or items, such as</pre>
<pre class="cython line score-0">&#xA0;<span class="">1160</span>:         `y_true` and `y_pred`. The function is designed to handle:</pre>
<pre class="cython line score-0">&#xA0;<span class="">1161</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1162</span>:         - 1D arrays where each element represents a single item.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1163</span>:         - 2D arrays where rows represent samples and columns represent items</pre>
<pre class="cython line score-0">&#xA0;<span class="">1164</span>:           (for multi-output scenarios).</pre>
<pre class="cython line score-0">&#xA0;<span class="">1165</span>:         - Lists of lists or tuples, where each inner list or tuple represents</pre>
<pre class="cython line score-0">&#xA0;<span class="">1166</span>:           a set of items for a sample.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1167</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1168</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">1169</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1170</span>:     standardized : list of lists of set</pre>
<pre class="cython line score-0">&#xA0;<span class="">1171</span>:         A list containing the standardized inputs as lists of sets. Each outer</pre>
<pre class="cython line score-0">&#xA0;<span class="">1172</span>:         list corresponds to one of the input arrays, and each inner list</pre>
<pre class="cython line score-0">&#xA0;<span class="">1173</span>:         corresponds to a sample within that array.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1174</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1175</span>:     Raises</pre>
<pre class="cython line score-0">&#xA0;<span class="">1176</span>:     ------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1177</span>:     ValueError</pre>
<pre class="cython line score-0">&#xA0;<span class="">1178</span>:         If the lengths of the input arrays are inconsistent.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1179</span>:     TypeError</pre>
<pre class="cython line score-0">&#xA0;<span class="">1180</span>:         If the inputs are not array-like, lists of lists, or lists of tuples,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1181</span>:         or if an ndarray has more than 2 dimensions.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1182</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1183</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">1184</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1185</span>:     &gt;&gt;&gt; from numpy import array</pre>
<pre class="cython line score-0">&#xA0;<span class="">1186</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import standardize_input</pre>
<pre class="cython line score-0">&#xA0;<span class="">1187</span>:     &gt;&gt;&gt; y_true = [[1, 2], [3]]</pre>
<pre class="cython line score-0">&#xA0;<span class="">1188</span>:     &gt;&gt;&gt; y_pred = array([[2, 1], [3]])</pre>
<pre class="cython line score-0">&#xA0;<span class="">1189</span>:     &gt;&gt;&gt; standardized_inputs = standardize_input(y_true, y_pred)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1190</span>:     &gt;&gt;&gt; for standardized in standardized_inputs:</pre>
<pre class="cython line score-0">&#xA0;<span class="">1191</span>:     ...     print([list(s) for s in standardized])</pre>
<pre class="cython line score-0">&#xA0;<span class="">1192</span>:     [[1, 2], [3]]</pre>
<pre class="cython line score-0">&#xA0;<span class="">1193</span>:     [[2, 1], [3]]</pre>
<pre class="cython line score-0">&#xA0;<span class="">1194</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1195</span>:     &gt;&gt;&gt; y_true_1d = array([1, 2, 3])</pre>
<pre class="cython line score-0">&#xA0;<span class="">1196</span>:     &gt;&gt;&gt; y_pred_1d = [4, 5, 6]</pre>
<pre class="cython line score-0">&#xA0;<span class="">1197</span>:     &gt;&gt;&gt; standardized_inputs = standardize_input(y_true_1d, y_pred_1d)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1198</span>:     &gt;&gt;&gt; for standardized in standardized_inputs:</pre>
<pre class="cython line score-0">&#xA0;<span class="">1199</span>:     ...     print([list(s) for s in standardized])</pre>
<pre class="cython line score-0">&#xA0;<span class="">1200</span>:     [[1], [2], [3]]</pre>
<pre class="cython line score-0">&#xA0;<span class="">1201</span>:     [[4], [5], [6]]</pre>
<pre class="cython line score-0">&#xA0;<span class="">1202</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1203</span>:     Notes</pre>
<pre class="cython line score-0">&#xA0;<span class="">1204</span>:     -----</pre>
<pre class="cython line score-0">&#xA0;<span class="">1205</span>:     The function is particularly useful for preprocessing inputs to metrics</pre>
<pre class="cython line score-0">&#xA0;<span class="">1206</span>:     that require comparison of sets of items across samples, such as precision</pre>
<pre class="cython line score-0">&#xA0;<span class="">1207</span>:     at K, recall at K, or NDCG. By standardizing the inputs to lists of sets,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1208</span>:     the function facilitates consistent handling of these computations</pre>
<pre class="cython line score-0">&#xA0;<span class="">1209</span>:     regardless of the original format of the input data. This standardization</pre>
<pre class="cython line score-0">&#xA0;<span class="">1210</span>:     is critical when working with real-world data, which can vary widely in</pre>
<pre class="cython line score-0">&#xA0;<span class="">1211</span>:     format and structure.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1212</span>:     """</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1213</span>:     standardized = []</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(1213,0,<span class='error_goto'>__PYX_ERR(0, 1213, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1213, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  __pyx_cur_scope-&gt;__pyx_v_standardized = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1214</span>:     for data in arrays:</pre>
<pre class='cython code score-9 '>  <span class='trace'>__Pyx_TraceLine</span>(1214,0,<span class='error_goto'>__PYX_ERR(0, 1214, __pyx_L1_error)</span>)
  __pyx_t_1 = __pyx_v_arrays; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
  __pyx_t_2 = 0;
  for (;;) {
    {
      Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
      #if !CYTHON_ASSUME_SAFE_MACROS
      if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1214, __pyx_L1_error)</span>
      #endif
      if (__pyx_t_2 &gt;= __pyx_temp) break;
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1214, __pyx_L1_error)</span>
    #else
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1214, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    #endif
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_data, __pyx_t_3);
    __pyx_t_3 = 0;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(1214,0,<span class='error_goto'>__PYX_ERR(0, 1214, __pyx_L1_error)</span>)
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1215</span>:         # Transform ndarray based on its dimensions</pre>
<pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1216</span>:         if isinstance(data, np.ndarray):</pre>
<pre class='cython code score-11 '>    <span class='trace'>__Pyx_TraceLine</span>(1216,0,<span class='error_goto'>__PYX_ERR(0, 1216, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1216, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_ndarray);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1216, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_5 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data, __pyx_t_4);<span class='error_goto'> if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 1216, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (__pyx_t_5) {
/* â€¦ */
      goto __pyx_L5;
    }
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1217</span>:             if data.ndim == 1:</pre>
<pre class='cython code score-5 '>      <span class='trace'>__Pyx_TraceLine</span>(1217,0,<span class='error_goto'>__PYX_ERR(0, 1217, __pyx_L1_error)</span>)
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_ndim);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1217, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyInt_BoolEqObjC</span>(__pyx_t_4, __pyx_int_1, 1, 0)); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1217, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (__pyx_t_5) {
/* â€¦ */
        goto __pyx_L6;
      }
</pre><pre class="cython line score-72" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1218</span>:                 standardized.append([set([item]) for item in data])</pre>
<pre class='cython code score-72 '>        <span class='trace'>__Pyx_TraceLine</span>(1218,0,<span class='error_goto'>__PYX_ERR(0, 1218, __pyx_L1_error)</span>)
        { /* enter inner scope */
          __pyx_t_4 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1218, __pyx_L9_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
          if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_data)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_data)) {
            __pyx_t_3 = __pyx_v_data; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
            __pyx_t_6 = 0;
            __pyx_t_7 = NULL;
          } else {
            __pyx_t_6 = -1; __pyx_t_3 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_data);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1218, __pyx_L9_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
            __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1218, __pyx_L9_error)</span>
          }
          for (;;) {
            if (likely(!__pyx_t_7)) {
              if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_3))) {
                {
                  Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_3);
                  #if !CYTHON_ASSUME_SAFE_MACROS
                  if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1218, __pyx_L9_error)</span>
                  #endif
                  if (__pyx_t_6 &gt;= __pyx_temp) break;
                }
                #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
                __pyx_t_8 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_3, __pyx_t_6); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8); __pyx_t_6++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1218, __pyx_L9_error)</span>
                #else
                __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_3, __pyx_t_6); __pyx_t_6++;<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1218, __pyx_L9_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
                #endif
              } else {
                {
                  Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_3);
                  #if !CYTHON_ASSUME_SAFE_MACROS
                  if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1218, __pyx_L9_error)</span>
                  #endif
                  if (__pyx_t_6 &gt;= __pyx_temp) break;
                }
                #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
                __pyx_t_8 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_3, __pyx_t_6); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8); __pyx_t_6++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1218, __pyx_L9_error)</span>
                #else
                __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_3, __pyx_t_6); __pyx_t_6++;<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1218, __pyx_L9_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
                #endif
              }
            } else {
              __pyx_t_8 = __pyx_t_7(__pyx_t_3);
              if (unlikely(!__pyx_t_8)) {
                PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
                if (exc_type) {
                  if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
                  else <span class='error_goto'>__PYX_ERR(0, 1218, __pyx_L9_error)</span>
                }
                break;
              }
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
            }
            <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr12__pyx_v_item, __pyx_t_8);
            __pyx_t_8 = 0;
            __pyx_t_8 = <span class='py_c_api'>PySet_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1218, __pyx_L9_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
            if (<span class='py_c_api'>PySet_Add</span>(__pyx_t_8, __pyx_9genexpr12__pyx_v_item) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1218, __pyx_L9_error)</span>
            if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_4, (PyObject*)__pyx_t_8))) <span class='error_goto'>__PYX_ERR(0, 1218, __pyx_L9_error)</span>
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
          }
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr12__pyx_v_item); __pyx_9genexpr12__pyx_v_item = 0;
          goto __pyx_L13_exit_scope;
          __pyx_L9_error:;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr12__pyx_v_item); __pyx_9genexpr12__pyx_v_item = 0;
          goto __pyx_L1_error;
          __pyx_L13_exit_scope:;
        } /* exit inner scope */
        __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_cur_scope-&gt;__pyx_v_standardized, __pyx_t_4);<span class='error_goto'> if (unlikely(__pyx_t_9 == ((int)-1))) __PYX_ERR(0, 1218, __pyx_L1_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1219</span>:             elif data.ndim == 2:</pre>
<pre class='cython code score-5 '>      <span class='trace'>__Pyx_TraceLine</span>(1219,0,<span class='error_goto'>__PYX_ERR(0, 1219, __pyx_L1_error)</span>)
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_ndim);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1219, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyInt_BoolEqObjC</span>(__pyx_t_4, __pyx_int_2, 2, 0)); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1219, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (likely(__pyx_t_5)) {
/* â€¦ */
        goto __pyx_L6;
      }
</pre><pre class="cython line score-67" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1220</span>:                 standardized.append([set(row) for row in data])</pre>
<pre class='cython code score-67 '>        <span class='trace'>__Pyx_TraceLine</span>(1220,0,<span class='error_goto'>__PYX_ERR(0, 1220, __pyx_L1_error)</span>)
        { /* enter inner scope */
          __pyx_t_4 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1220, __pyx_L16_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
          if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_data)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_data)) {
            __pyx_t_3 = __pyx_v_data; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
            __pyx_t_6 = 0;
            __pyx_t_7 = NULL;
          } else {
            __pyx_t_6 = -1; __pyx_t_3 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_data);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1220, __pyx_L16_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
            __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1220, __pyx_L16_error)</span>
          }
          for (;;) {
            if (likely(!__pyx_t_7)) {
              if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_3))) {
                {
                  Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_3);
                  #if !CYTHON_ASSUME_SAFE_MACROS
                  if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1220, __pyx_L16_error)</span>
                  #endif
                  if (__pyx_t_6 &gt;= __pyx_temp) break;
                }
                #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
                __pyx_t_8 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_3, __pyx_t_6); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8); __pyx_t_6++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1220, __pyx_L16_error)</span>
                #else
                __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_3, __pyx_t_6); __pyx_t_6++;<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1220, __pyx_L16_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
                #endif
              } else {
                {
                  Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_3);
                  #if !CYTHON_ASSUME_SAFE_MACROS
                  if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1220, __pyx_L16_error)</span>
                  #endif
                  if (__pyx_t_6 &gt;= __pyx_temp) break;
                }
                #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
                __pyx_t_8 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_3, __pyx_t_6); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8); __pyx_t_6++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1220, __pyx_L16_error)</span>
                #else
                __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_3, __pyx_t_6); __pyx_t_6++;<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1220, __pyx_L16_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
                #endif
              }
            } else {
              __pyx_t_8 = __pyx_t_7(__pyx_t_3);
              if (unlikely(!__pyx_t_8)) {
                PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
                if (exc_type) {
                  if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
                  else <span class='error_goto'>__PYX_ERR(0, 1220, __pyx_L16_error)</span>
                }
                break;
              }
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
            }
            <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr13__pyx_v_row, __pyx_t_8);
            __pyx_t_8 = 0;
            __pyx_t_8 = <span class='py_c_api'>PySet_New</span>(__pyx_9genexpr13__pyx_v_row);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1220, __pyx_L16_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
            if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_4, (PyObject*)__pyx_t_8))) <span class='error_goto'>__PYX_ERR(0, 1220, __pyx_L16_error)</span>
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
          }
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr13__pyx_v_row); __pyx_9genexpr13__pyx_v_row = 0;
          goto __pyx_L20_exit_scope;
          __pyx_L16_error:;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr13__pyx_v_row); __pyx_9genexpr13__pyx_v_row = 0;
          goto __pyx_L1_error;
          __pyx_L20_exit_scope:;
        } /* exit inner scope */
        __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_cur_scope-&gt;__pyx_v_standardized, __pyx_t_4);<span class='error_goto'> if (unlikely(__pyx_t_9 == ((int)-1))) __PYX_ERR(0, 1220, __pyx_L1_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1221</span>:             else:</pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1222</span>:                 raise TypeError("Unsupported ndarray shape. Must be 1D or 2D.")</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(1222,0,<span class='error_goto'>__PYX_ERR(0, 1222, __pyx_L1_error)</span>)
      /*else*/ {
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_TypeError, __pyx_tuple__41, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1222, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_4, 0, 0, 0);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        <span class='error_goto'>__PYX_ERR(0, 1222, __pyx_L1_error)</span>
      }
      __pyx_L6:;
/* â€¦ */
  __pyx_tuple__41 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Unsupported_ndarray_shape_Must_b);<span class='error_goto'> if (unlikely(!__pyx_tuple__41)) __PYX_ERR(0, 1222, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__41);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__41);
</pre><pre class="cython line score-0">&#xA0;<span class="">1223</span>:         # Transform lists or tuples</pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1224</span>:         elif isinstance(data, (list, tuple)):</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(1224,0,<span class='error_goto'>__PYX_ERR(0, 1224, __pyx_L1_error)</span>)
    __pyx_t_10 = <span class='py_c_api'>PyList_Check</span>(__pyx_v_data); 
    if (!__pyx_t_10) {
    } else {
      __pyx_t_5 = __pyx_t_10;
      goto __pyx_L21_bool_binop_done;
    }
    __pyx_t_10 = <span class='py_c_api'>PyTuple_Check</span>(__pyx_v_data); 
    __pyx_t_5 = __pyx_t_10;
    __pyx_L21_bool_binop_done:;
    if (likely(__pyx_t_5)) {
/* â€¦ */
      goto __pyx_L5;
    }
</pre><pre class="cython line score-102" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1225</span>:             if all(isinstance(item, (list, tuple, np.ndarray)) for item in data):</pre>
<pre class='cython code score-102 '>static PyObject *__pyx_pf_6gofast_5tools_9baseutils_17standardize_input_genexpr(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_genexpr_arg_0) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_8_genexpr *__pyx_cur_scope;
  PyObject *__pyx_r = NULL;
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_8_genexpr *)__pyx_tp_new_6gofast_5tools_9baseutils___pyx_scope_struct_8_genexpr(__pyx_ptype_6gofast_5tools_9baseutils___pyx_scope_struct_8_genexpr, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_8_genexpr *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 1225, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  __pyx_cur_scope-&gt;__pyx_genexpr_arg_0 = __pyx_genexpr_arg_0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  {
    __pyx_CoroutineObject *gen = <span class='pyx_c_api'>__Pyx_Generator_New</span>((__pyx_coroutine_body_t) __pyx_gb_6gofast_5tools_9baseutils_17standardize_input_2generator5, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_standardize_input_locals_genexpr, __pyx_n_s_gofast_tools_baseutils);<span class='error_goto'> if (unlikely(!gen)) __PYX_ERR(0, 1225, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_cur_scope);
    <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
    return (PyObject *) gen;
  }

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.standardize_input.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_gb_6gofast_5tools_9baseutils_17standardize_input_2generator5(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
{
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("genexpr", 0);
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_L3_first_run:;
  if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 1225, __pyx_L1_error)</span>
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>(".0"); <span class='error_goto'>__PYX_ERR(0, 1225, __pyx_L1_error)</span> }
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) {
    __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_genexpr_arg_0; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    __pyx_t_2 = 0;
    __pyx_t_3 = NULL;
  } else {
    __pyx_t_2 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1225, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1225, __pyx_L1_error)</span>
  }
  for (;;) {
    if (likely(!__pyx_t_3)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1225, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1225, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1225, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1225, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1225, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1225, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      }
    } else {
      __pyx_t_4 = __pyx_t_3(__pyx_t_1);
      if (unlikely(!__pyx_t_4)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 1225, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    }
    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_cur_scope-&gt;__pyx_v_item);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_cur_scope-&gt;__pyx_v_item, __pyx_t_4);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
    __pyx_t_4 = 0;
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1225, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_ndarray);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1225, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_7 = <span class='py_c_api'>PyList_Check</span>(__pyx_cur_scope-&gt;__pyx_v_item); 
    if (!__pyx_t_7) {
    } else {
      __pyx_t_6 = __pyx_t_7;
      goto __pyx_L7_bool_binop_done;
    }
    __pyx_t_7 = <span class='py_c_api'>PyTuple_Check</span>(__pyx_cur_scope-&gt;__pyx_v_item); 
    if (!__pyx_t_7) {
    } else {
      __pyx_t_6 = __pyx_t_7;
      goto __pyx_L7_bool_binop_done;
    }
    __pyx_t_7 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_cur_scope-&gt;__pyx_v_item, __pyx_t_5); 
    __pyx_t_6 = __pyx_t_7;
    __pyx_L7_bool_binop_done:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_7 = (!__pyx_t_6);
    if (__pyx_t_7) {
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_False);
      __pyx_r = Py_False;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      goto __pyx_L0;
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  /*else*/ {
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_True);
    __pyx_r = Py_True;
    goto __pyx_L0;
  }
  CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);

  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_Generator_Replace_StopIteration</span>(0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  #if !CYTHON_USE_EXC_INFO_STACK
  <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
  #endif
  __pyx_generator-&gt;resume_label = -1;
  <span class='pyx_c_api'>__Pyx_Coroutine_clear</span>((PyObject*)__pyx_generator);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
static PyObject *__pyx_gb_6gofast_5tools_9baseutils_17standardize_input_5generator6(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(1225,0,<span class='error_goto'>__PYX_ERR(0, 1225, __pyx_L1_error)</span>)
      __pyx_t_4 = __pyx_pf_6gofast_5tools_9baseutils_17standardize_input_genexpr(NULL, __pyx_v_data);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1225, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Generator_Next</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1225, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_3); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1225, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (__pyx_t_5) {
/* â€¦ */
        goto __pyx_L23;
      }
/* â€¦ */
struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_8_genexpr {
  PyObject_HEAD
  PyObject *__pyx_genexpr_arg_0;
  PyObject *__pyx_v_item;
};

</pre><pre class="cython line score-67" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1226</span>:                 standardized.append([set(item) for item in data])</pre>
<pre class='cython code score-67 '>        <span class='trace'>__Pyx_TraceLine</span>(1226,0,<span class='error_goto'>__PYX_ERR(0, 1226, __pyx_L1_error)</span>)
        { /* enter inner scope */
          __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1226, __pyx_L26_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_data)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_data)) {
            __pyx_t_4 = __pyx_v_data; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
            __pyx_t_6 = 0;
            __pyx_t_7 = NULL;
          } else {
            __pyx_t_6 = -1; __pyx_t_4 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_data);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1226, __pyx_L26_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
            __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1226, __pyx_L26_error)</span>
          }
          for (;;) {
            if (likely(!__pyx_t_7)) {
              if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_4))) {
                {
                  Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_4);
                  #if !CYTHON_ASSUME_SAFE_MACROS
                  if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1226, __pyx_L26_error)</span>
                  #endif
                  if (__pyx_t_6 &gt;= __pyx_temp) break;
                }
                #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
                __pyx_t_8 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_4, __pyx_t_6); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8); __pyx_t_6++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1226, __pyx_L26_error)</span>
                #else
                __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_4, __pyx_t_6); __pyx_t_6++;<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1226, __pyx_L26_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
                #endif
              } else {
                {
                  Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_4);
                  #if !CYTHON_ASSUME_SAFE_MACROS
                  if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1226, __pyx_L26_error)</span>
                  #endif
                  if (__pyx_t_6 &gt;= __pyx_temp) break;
                }
                #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
                __pyx_t_8 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_4, __pyx_t_6); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8); __pyx_t_6++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1226, __pyx_L26_error)</span>
                #else
                __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_4, __pyx_t_6); __pyx_t_6++;<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1226, __pyx_L26_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
                #endif
              }
            } else {
              __pyx_t_8 = __pyx_t_7(__pyx_t_4);
              if (unlikely(!__pyx_t_8)) {
                PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
                if (exc_type) {
                  if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
                  else <span class='error_goto'>__PYX_ERR(0, 1226, __pyx_L26_error)</span>
                }
                break;
              }
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
            }
            <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr15__pyx_v_item, __pyx_t_8);
            __pyx_t_8 = 0;
            __pyx_t_8 = <span class='py_c_api'>PySet_New</span>(__pyx_9genexpr15__pyx_v_item);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1226, __pyx_L26_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
            if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_3, (PyObject*)__pyx_t_8))) <span class='error_goto'>__PYX_ERR(0, 1226, __pyx_L26_error)</span>
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
          }
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr15__pyx_v_item); __pyx_9genexpr15__pyx_v_item = 0;
          goto __pyx_L30_exit_scope;
          __pyx_L26_error:;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr15__pyx_v_item); __pyx_9genexpr15__pyx_v_item = 0;
          goto __pyx_L1_error;
          __pyx_L30_exit_scope:;
        } /* exit inner scope */
        __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_cur_scope-&gt;__pyx_v_standardized, __pyx_t_3);<span class='error_goto'> if (unlikely(__pyx_t_9 == ((int)-1))) __PYX_ERR(0, 1226, __pyx_L1_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1227</span>:             else:</pre>
<pre class="cython line score-72" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1228</span>:                 standardized.append([set([item]) for item in data])</pre>
<pre class='cython code score-72 '>      <span class='trace'>__Pyx_TraceLine</span>(1228,0,<span class='error_goto'>__PYX_ERR(0, 1228, __pyx_L1_error)</span>)
      /*else*/ {
        { /* enter inner scope */
          __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1228, __pyx_L33_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_data)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_data)) {
            __pyx_t_4 = __pyx_v_data; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
            __pyx_t_6 = 0;
            __pyx_t_7 = NULL;
          } else {
            __pyx_t_6 = -1; __pyx_t_4 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_data);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1228, __pyx_L33_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
            __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1228, __pyx_L33_error)</span>
          }
          for (;;) {
            if (likely(!__pyx_t_7)) {
              if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_4))) {
                {
                  Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_4);
                  #if !CYTHON_ASSUME_SAFE_MACROS
                  if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1228, __pyx_L33_error)</span>
                  #endif
                  if (__pyx_t_6 &gt;= __pyx_temp) break;
                }
                #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
                __pyx_t_8 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_4, __pyx_t_6); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8); __pyx_t_6++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1228, __pyx_L33_error)</span>
                #else
                __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_4, __pyx_t_6); __pyx_t_6++;<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1228, __pyx_L33_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
                #endif
              } else {
                {
                  Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_4);
                  #if !CYTHON_ASSUME_SAFE_MACROS
                  if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1228, __pyx_L33_error)</span>
                  #endif
                  if (__pyx_t_6 &gt;= __pyx_temp) break;
                }
                #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
                __pyx_t_8 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_4, __pyx_t_6); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8); __pyx_t_6++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1228, __pyx_L33_error)</span>
                #else
                __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_4, __pyx_t_6); __pyx_t_6++;<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1228, __pyx_L33_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
                #endif
              }
            } else {
              __pyx_t_8 = __pyx_t_7(__pyx_t_4);
              if (unlikely(!__pyx_t_8)) {
                PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
                if (exc_type) {
                  if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
                  else <span class='error_goto'>__PYX_ERR(0, 1228, __pyx_L33_error)</span>
                }
                break;
              }
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
            }
            <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr16__pyx_v_item, __pyx_t_8);
            __pyx_t_8 = 0;
            __pyx_t_8 = <span class='py_c_api'>PySet_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1228, __pyx_L33_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
            if (<span class='py_c_api'>PySet_Add</span>(__pyx_t_8, __pyx_9genexpr16__pyx_v_item) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1228, __pyx_L33_error)</span>
            if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_3, (PyObject*)__pyx_t_8))) <span class='error_goto'>__PYX_ERR(0, 1228, __pyx_L33_error)</span>
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
          }
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr16__pyx_v_item); __pyx_9genexpr16__pyx_v_item = 0;
          goto __pyx_L37_exit_scope;
          __pyx_L33_error:;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr16__pyx_v_item); __pyx_9genexpr16__pyx_v_item = 0;
          goto __pyx_L1_error;
          __pyx_L37_exit_scope:;
        } /* exit inner scope */
        __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_cur_scope-&gt;__pyx_v_standardized, __pyx_t_3);<span class='error_goto'> if (unlikely(__pyx_t_9 == ((int)-1))) __PYX_ERR(0, 1228, __pyx_L1_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      }
      __pyx_L23:;
</pre><pre class="cython line score-0">&#xA0;<span class="">1229</span>:         else:</pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1230</span>:             raise TypeError(</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(1230,0,<span class='error_goto'>__PYX_ERR(0, 1230, __pyx_L1_error)</span>)
    /*else*/ {
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_TypeError, __pyx_tuple__42, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1230, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_3, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='error_goto'>__PYX_ERR(0, 1230, __pyx_L1_error)</span>
    }
    __pyx_L5:;
/* â€¦ */
  __pyx_tuple__42 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Inputs_must_be_array_like_lists);<span class='error_goto'> if (unlikely(!__pyx_tuple__42)) __PYX_ERR(0, 1230, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__42);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__42);
</pre><pre class="cython line score-0">&#xA0;<span class="">1231</span>:                 "Inputs must be array-like, lists of lists, or lists of tuples.")</pre>
<pre class="cython line score-0">&#xA0;<span class="">1232</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1233</span>:     # Check consistent length across all transformed inputs</pre>
<pre class="cython line score-64" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1234</span>:     if any(len(standardized[0]) != len(arr) for arr in standardized[1:]):</pre>
<pre class='cython code score-64 '>static PyObject *__pyx_pf_6gofast_5tools_9baseutils_17standardize_input_3genexpr(PyObject *__pyx_self, PyObject *__pyx_genexpr_arg_0) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_9_genexpr *__pyx_cur_scope;
  PyObject *__pyx_r = NULL;
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_9_genexpr *)__pyx_tp_new_6gofast_5tools_9baseutils___pyx_scope_struct_9_genexpr(__pyx_ptype_6gofast_5tools_9baseutils___pyx_scope_struct_9_genexpr, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_9_genexpr *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 1234, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  __pyx_cur_scope-&gt;__pyx_outer_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_7_standardize_input *) __pyx_self;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>((PyObject *)__pyx_cur_scope-&gt;__pyx_outer_scope);
  <span class='refnanny'>__Pyx_GIVEREF</span>((PyObject *)__pyx_cur_scope-&gt;__pyx_outer_scope);
  __pyx_cur_scope-&gt;__pyx_genexpr_arg_0 = __pyx_genexpr_arg_0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  {
    __pyx_CoroutineObject *gen = <span class='pyx_c_api'>__Pyx_Generator_New</span>((__pyx_coroutine_body_t) __pyx_gb_6gofast_5tools_9baseutils_17standardize_input_5generator6, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_standardize_input_locals_genexpr, __pyx_n_s_gofast_tools_baseutils);<span class='error_goto'> if (unlikely(!gen)) __PYX_ERR(0, 1234, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_cur_scope);
    <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
    return (PyObject *) gen;
  }

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.standardize_input.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_gb_6gofast_5tools_9baseutils_17standardize_input_5generator6(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
{
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("genexpr", 0);
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_L3_first_run:;
  if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 1234, __pyx_L1_error)</span>
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>(".0"); <span class='error_goto'>__PYX_ERR(0, 1234, __pyx_L1_error)</span> }
  __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_genexpr_arg_0; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
  __pyx_t_2 = 0;
  for (;;) {
    {
      Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
      #if !CYTHON_ASSUME_SAFE_MACROS
      if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1234, __pyx_L1_error)</span>
      #endif
      if (__pyx_t_2 &gt;= __pyx_temp) break;
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1234, __pyx_L1_error)</span>
    #else
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1234, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    #endif
    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_cur_scope-&gt;__pyx_v_arr);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_cur_scope-&gt;__pyx_v_arr, __pyx_t_3);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
    __pyx_t_3 = 0;
    if (unlikely(!__pyx_cur_scope-&gt;__pyx_outer_scope-&gt;__pyx_v_standardized)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("standardized"); <span class='error_goto'>__PYX_ERR(0, 1234, __pyx_L1_error)</span> }
    if (unlikely(__pyx_cur_scope-&gt;__pyx_outer_scope-&gt;__pyx_v_standardized == Py_None)) {
      <span class='py_c_api'>PyErr_SetString</span>(PyExc_TypeError, "'NoneType' object is not subscriptable");
      <span class='error_goto'>__PYX_ERR(0, 1234, __pyx_L1_error)</span>
    }
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_GetItemInt_List</span>(__pyx_cur_scope-&gt;__pyx_outer_scope-&gt;__pyx_v_standardized, 0, long, 1, __Pyx_PyInt_From_long, 1, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1234, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_4 = <span class='py_c_api'>PyObject_Length</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(0, 1234, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_5 = <span class='py_c_api'>PyObject_Length</span>(__pyx_cur_scope-&gt;__pyx_v_arr);<span class='error_goto'> if (unlikely(__pyx_t_5 == ((Py_ssize_t)-1))) __PYX_ERR(0, 1234, __pyx_L1_error)</span>
    __pyx_t_6 = (__pyx_t_4 != __pyx_t_5);
    if (__pyx_t_6) {
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_True);
      __pyx_r = Py_True;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      goto __pyx_L0;
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  /*else*/ {
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_False);
    __pyx_r = Py_False;
    goto __pyx_L0;
  }
  CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);

  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_Generator_Replace_StopIteration</span>(0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  #if !CYTHON_USE_EXC_INFO_STACK
  <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
  #endif
  __pyx_generator-&gt;resume_label = -1;
  <span class='pyx_c_api'>__Pyx_Coroutine_clear</span>((PyObject*)__pyx_generator);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1234,0,<span class='error_goto'>__PYX_ERR(0, 1234, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyList_GetSlice</span>(__pyx_cur_scope-&gt;__pyx_v_standardized, 1, PY_SSIZE_T_MAX);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1234, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = __pyx_pf_6gofast_5tools_9baseutils_17standardize_input_3genexpr(((PyObject*)__pyx_cur_scope), __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1234, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_Generator_Next</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1234, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_1); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1234, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  if (unlikely(__pyx_t_5)) {
/* â€¦ */
  }
/* â€¦ */
struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_9_genexpr {
  PyObject_HEAD
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_7_standardize_input *__pyx_outer_scope;
  PyObject *__pyx_genexpr_arg_0;
  PyObject *__pyx_v_arr;
};

</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1235</span>:         raise ValueError("All inputs must have the same length.")</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(1235,0,<span class='error_goto'>__PYX_ERR(0, 1235, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__43, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1235, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_1, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='error_goto'>__PYX_ERR(0, 1235, __pyx_L1_error)</span>
/* â€¦ */
  __pyx_tuple__43 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_All_inputs_must_have_the_same_le);<span class='error_goto'> if (unlikely(!__pyx_tuple__43)) __PYX_ERR(0, 1235, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__43);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__43);
</pre><pre class="cython line score-0">&#xA0;<span class="">1236</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1237</span>:     return standardized</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1237,0,<span class='error_goto'>__PYX_ERR(0, 1237, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_standardized);
  __pyx_r = __pyx_cur_scope-&gt;__pyx_v_standardized;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1238</span>: </pre>
<pre class="cython line score-64" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1239</span>: def smart_rotation(ax):</pre>
<pre class='cython code score-64 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_36smart_rotation(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_35smart_rotation, "\n    Automatically adjusts the rotation of x-axis tick labels on a matplotlib\n    axis object based on the overlap of labels. This function assesses the\n    overlap by comparing the horizontal extents of adjacent tick labels. If\n    any overlap is detected, it rotates the labels by 45 degrees to reduce\n    or eliminate the overlap. If no overlap is detected, labels remain\n    horizontal.\n\n    Parameters\n    ----------\n    ax : matplotlib.axes.Axes\n        The Axes object for which to adjust the tick label rotation.\n\n    Examples\n    --------\n    # Example of creating a simple time series plot with date overlap handling\n    &gt;&gt;&gt; import pandas as pd\n    &gt;&gt;&gt; import matplotlib.pyplot as plt\n    &gt;&gt;&gt; from matplotlib.dates import DateFormatter\n    &gt;&gt;&gt; from gofast.tools.baseutils import smart_rotation\n\n    # Generate a date range and some random data\n    &gt;&gt;&gt; dates = pd.date_range(start=\"2020-01-01\", periods=100, freq='D')\n    &gt;&gt;&gt; values = np.random.rand(100)\n\n    # Create a DataFrame\n    &gt;&gt;&gt; df = pd.DataFrame({'Date': dates, 'Value': values})\n\n    # Create a plot\n    &gt;&gt;&gt; fig, ax = plt.subplots()\n    &gt;&gt;&gt; ax.plot(df['Date'], df['Value'])\n    &gt;&gt;&gt; ax.xaxis.set_major_formatter(DateFormatter('%Y-%m-%d'))\n\n    # Apply smart rotation to adjust tick labels dynamically\n    &gt;&gt;&gt; smart_rotation(ax)\n\n    # Show the plot\n    &gt;&gt;&gt; plt.show()\n\n    Notes\n    -----\n    This function needs to be used in conjunction with matplotlib plots where\n    the axis ('ax') is already set up with tick labels. It is especially useful\n    in time series and other plots where the x-axis labels are dates or other\n    large strings that may easily overlap. Drawing the canvas (plt.gcf().canvas.draw())\n    is necessary to render the labels and calculate their positions, which may\n    impact performance for very large plots or in tight loops.\n    \n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_36smart_rotation = {"smart_rotation", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_36smart_rotation, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_35smart_rotation};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_36smart_rotation(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_ax = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("smart_rotation (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_ax,0};
  PyObject* values[1] = {0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_ax)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1239, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "smart_rotation") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1239, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 1)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
    }
    __pyx_v_ax = values[0];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("smart_rotation", 1, 1, 1, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1239, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.smart_rotation", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_35smart_rotation(__pyx_self, __pyx_v_ax);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_35smart_rotation(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_ax) {
  PyObject *__pyx_v_labels = NULL;
  PyObject *__pyx_v_tick_locs = NULL;
  PyObject *__pyx_v_label_extents = NULL;
  int __pyx_v_overlap;
  PyObject *__pyx_v_num_labels = NULL;
  PyObject *__pyx_v_i = NULL;
  long __pyx_v_rotation;
  PyObject *__pyx_9genexpr18__pyx_v_label = NULL;
  PyObject *__pyx_9genexpr19__pyx_v_label = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__44)
  <span class='trace'>__Pyx_TraceCall</span>("smart_rotation", __pyx_f[0], 1239, 0, <span class='error_goto'>__PYX_ERR(0, 1239, __pyx_L1_error)</span>);
/* â€¦ */
  /* function exit code */
  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.smart_rotation", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_labels);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_tick_locs);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_label_extents);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_num_labels);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_i);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr18__pyx_v_label);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr19__pyx_v_label);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__169 = <span class='py_c_api'>PyTuple_Pack</span>(10, __pyx_n_s_ax, __pyx_n_s_labels, __pyx_n_s_tick_locs, __pyx_n_s_label_extents, __pyx_n_s_overlap, __pyx_n_s_num_labels, __pyx_n_s_i, __pyx_n_s_rotation, __pyx_n_s_label, __pyx_n_s_label);<span class='error_goto'> if (unlikely(!__pyx_tuple__169)) __PYX_ERR(0, 1239, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__169);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__169);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1239,0,<span class='error_goto'>__PYX_ERR(0, 1239, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_36smart_rotation, 0, __pyx_n_s_smart_rotation, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__44));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1239, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_smart_rotation, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1239, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_codeobj__44 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(1, 0, 0, 10, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__169, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_smart_rotation, 1239, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__44)) __PYX_ERR(0, 1239, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">1240</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">1241</span>:     Automatically adjusts the rotation of x-axis tick labels on a matplotlib</pre>
<pre class="cython line score-0">&#xA0;<span class="">1242</span>:     axis object based on the overlap of labels. This function assesses the</pre>
<pre class="cython line score-0">&#xA0;<span class="">1243</span>:     overlap by comparing the horizontal extents of adjacent tick labels. If</pre>
<pre class="cython line score-0">&#xA0;<span class="">1244</span>:     any overlap is detected, it rotates the labels by 45 degrees to reduce</pre>
<pre class="cython line score-0">&#xA0;<span class="">1245</span>:     or eliminate the overlap. If no overlap is detected, labels remain</pre>
<pre class="cython line score-0">&#xA0;<span class="">1246</span>:     horizontal.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1247</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1248</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">1249</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1250</span>:     ax : matplotlib.axes.Axes</pre>
<pre class="cython line score-0">&#xA0;<span class="">1251</span>:         The Axes object for which to adjust the tick label rotation.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1252</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1253</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">1254</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1255</span>:     # Example of creating a simple time series plot with date overlap handling</pre>
<pre class="cython line score-0">&#xA0;<span class="">1256</span>:     &gt;&gt;&gt; import pandas as pd</pre>
<pre class="cython line score-0">&#xA0;<span class="">1257</span>:     &gt;&gt;&gt; import matplotlib.pyplot as plt</pre>
<pre class="cython line score-0">&#xA0;<span class="">1258</span>:     &gt;&gt;&gt; from matplotlib.dates import DateFormatter</pre>
<pre class="cython line score-0">&#xA0;<span class="">1259</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import smart_rotation</pre>
<pre class="cython line score-0">&#xA0;<span class="">1260</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1261</span>:     # Generate a date range and some random data</pre>
<pre class="cython line score-0">&#xA0;<span class="">1262</span>:     &gt;&gt;&gt; dates = pd.date_range(start="2020-01-01", periods=100, freq='D')</pre>
<pre class="cython line score-0">&#xA0;<span class="">1263</span>:     &gt;&gt;&gt; values = np.random.rand(100)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1264</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1265</span>:     # Create a DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">1266</span>:     &gt;&gt;&gt; df = pd.DataFrame({'Date': dates, 'Value': values})</pre>
<pre class="cython line score-0">&#xA0;<span class="">1267</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1268</span>:     # Create a plot</pre>
<pre class="cython line score-0">&#xA0;<span class="">1269</span>:     &gt;&gt;&gt; fig, ax = plt.subplots()</pre>
<pre class="cython line score-0">&#xA0;<span class="">1270</span>:     &gt;&gt;&gt; ax.plot(df['Date'], df['Value'])</pre>
<pre class="cython line score-0">&#xA0;<span class="">1271</span>:     &gt;&gt;&gt; ax.xaxis.set_major_formatter(DateFormatter('%Y-%m-%d'))</pre>
<pre class="cython line score-0">&#xA0;<span class="">1272</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1273</span>:     # Apply smart rotation to adjust tick labels dynamically</pre>
<pre class="cython line score-0">&#xA0;<span class="">1274</span>:     &gt;&gt;&gt; smart_rotation(ax)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1275</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1276</span>:     # Show the plot</pre>
<pre class="cython line score-0">&#xA0;<span class="">1277</span>:     &gt;&gt;&gt; plt.show()</pre>
<pre class="cython line score-0">&#xA0;<span class="">1278</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1279</span>:     Notes</pre>
<pre class="cython line score-0">&#xA0;<span class="">1280</span>:     -----</pre>
<pre class="cython line score-0">&#xA0;<span class="">1281</span>:     This function needs to be used in conjunction with matplotlib plots where</pre>
<pre class="cython line score-0">&#xA0;<span class="">1282</span>:     the axis ('ax') is already set up with tick labels. It is especially useful</pre>
<pre class="cython line score-0">&#xA0;<span class="">1283</span>:     in time series and other plots where the x-axis labels are dates or other</pre>
<pre class="cython line score-0">&#xA0;<span class="">1284</span>:     large strings that may easily overlap. Drawing the canvas (plt.gcf().canvas.draw())</pre>
<pre class="cython line score-0">&#xA0;<span class="">1285</span>:     is necessary to render the labels and calculate their positions, which may</pre>
<pre class="cython line score-0">&#xA0;<span class="">1286</span>:     impact performance for very large plots or in tight loops.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1287</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1288</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">1289</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1290</span>:     # Draw the canvas to get the labels rendered, which is necessary for calculating overlap</pre>
<pre class="cython line score-40" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1291</span>:     plt.gcf().canvas.draw()</pre>
<pre class='cython code score-40 '>  <span class='trace'>__Pyx_TraceLine</span>(1291,0,<span class='error_goto'>__PYX_ERR(0, 1291, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_plt);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1291, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_gcf);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1291, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_5, 0+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1291, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  }
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_canvas);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1291, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_draw);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1291, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_4)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_4, NULL};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_5, 0+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1291, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1292</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1293</span>:     # Retrieve the x-axis tick labels and their extents</pre>
<pre class="cython line score-92" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1294</span>:     labels = [label.get_text() for label in ax.get_xticklabels()]</pre>
<pre class='cython code score-92 '>  <span class='trace'>__Pyx_TraceLine</span>(1294,0,<span class='error_goto'>__PYX_ERR(0, 1294, __pyx_L1_error)</span>)
  { /* enter inner scope */
    __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1294, __pyx_L5_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_ax, __pyx_n_s_get_xticklabels);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1294, __pyx_L5_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_3 = NULL;
    __pyx_t_5 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
        __pyx_t_5 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_5, 0+__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1294, __pyx_L5_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    }
    if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_2)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_2)) {
      __pyx_t_4 = __pyx_t_2; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
      __pyx_t_6 = 0;
      __pyx_t_7 = NULL;
    } else {
      __pyx_t_6 = -1; __pyx_t_4 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1294, __pyx_L5_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1294, __pyx_L5_error)</span>
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    for (;;) {
      if (likely(!__pyx_t_7)) {
        if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_4))) {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_4);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1294, __pyx_L5_error)</span>
            #endif
            if (__pyx_t_6 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_4, __pyx_t_6); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_6++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1294, __pyx_L5_error)</span>
          #else
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_4, __pyx_t_6); __pyx_t_6++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1294, __pyx_L5_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          #endif
        } else {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_4);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1294, __pyx_L5_error)</span>
            #endif
            if (__pyx_t_6 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_4, __pyx_t_6); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_6++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1294, __pyx_L5_error)</span>
          #else
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_4, __pyx_t_6); __pyx_t_6++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1294, __pyx_L5_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          #endif
        }
      } else {
        __pyx_t_2 = __pyx_t_7(__pyx_t_4);
        if (unlikely(!__pyx_t_2)) {
          PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
          if (exc_type) {
            if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
            else <span class='error_goto'>__PYX_ERR(0, 1294, __pyx_L5_error)</span>
          }
          break;
        }
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      }
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr18__pyx_v_label, __pyx_t_2);
      __pyx_t_2 = 0;
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_9genexpr18__pyx_v_label, __pyx_n_s_get_text);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1294, __pyx_L5_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_8 = NULL;
      __pyx_t_5 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
        __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
        if (likely(__pyx_t_8)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
          __pyx_t_5 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_8, NULL};
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_5, 0+__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
        if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1294, __pyx_L5_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      }
      if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_1, (PyObject*)__pyx_t_2))) <span class='error_goto'>__PYX_ERR(0, 1294, __pyx_L5_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr18__pyx_v_label); __pyx_9genexpr18__pyx_v_label = 0;
    goto __pyx_L9_exit_scope;
    __pyx_L5_error:;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr18__pyx_v_label); __pyx_9genexpr18__pyx_v_label = 0;
    goto __pyx_L1_error;
    __pyx_L9_exit_scope:;
  } /* exit inner scope */
  __pyx_v_labels = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1295</span>:     tick_locs = ax.get_xticks()  # get the locations of the current ticks</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(1295,0,<span class='error_goto'>__PYX_ERR(0, 1295, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_ax, __pyx_n_s_get_xticks);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1295, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_2 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_2, NULL};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_5, 0+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1295, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  }
  __pyx_v_tick_locs = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-92" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1296</span>:     label_extents = [label.get_window_extent() for label in ax.get_xticklabels()]</pre>
<pre class='cython code score-92 '>  <span class='trace'>__Pyx_TraceLine</span>(1296,0,<span class='error_goto'>__PYX_ERR(0, 1296, __pyx_L1_error)</span>)
  { /* enter inner scope */
    __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1296, __pyx_L12_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_ax, __pyx_n_s_get_xticklabels);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1296, __pyx_L12_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = NULL;
    __pyx_t_5 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_5 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_5, 0+__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1296, __pyx_L12_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_4)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_4)) {
      __pyx_t_2 = __pyx_t_4; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      __pyx_t_6 = 0;
      __pyx_t_7 = NULL;
    } else {
      __pyx_t_6 = -1; __pyx_t_2 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1296, __pyx_L12_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1296, __pyx_L12_error)</span>
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    for (;;) {
      if (likely(!__pyx_t_7)) {
        if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_2))) {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_2);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1296, __pyx_L12_error)</span>
            #endif
            if (__pyx_t_6 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_2, __pyx_t_6); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_6++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1296, __pyx_L12_error)</span>
          #else
          __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_2, __pyx_t_6); __pyx_t_6++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1296, __pyx_L12_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
          #endif
        } else {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_2);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1296, __pyx_L12_error)</span>
            #endif
            if (__pyx_t_6 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_2, __pyx_t_6); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_6++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1296, __pyx_L12_error)</span>
          #else
          __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_2, __pyx_t_6); __pyx_t_6++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1296, __pyx_L12_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
          #endif
        }
      } else {
        __pyx_t_4 = __pyx_t_7(__pyx_t_2);
        if (unlikely(!__pyx_t_4)) {
          PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
          if (exc_type) {
            if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
            else <span class='error_goto'>__PYX_ERR(0, 1296, __pyx_L12_error)</span>
          }
          break;
        }
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      }
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr19__pyx_v_label, __pyx_t_4);
      __pyx_t_4 = 0;
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_9genexpr19__pyx_v_label, __pyx_n_s_get_window_extent);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1296, __pyx_L12_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_8 = NULL;
      __pyx_t_5 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
        __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
        if (likely(__pyx_t_8)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
          __pyx_t_5 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_8, NULL};
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_5, 0+__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
        if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1296, __pyx_L12_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      }
      if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_1, (PyObject*)__pyx_t_4))) <span class='error_goto'>__PYX_ERR(0, 1296, __pyx_L12_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr19__pyx_v_label); __pyx_9genexpr19__pyx_v_label = 0;
    goto __pyx_L16_exit_scope;
    __pyx_L12_error:;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr19__pyx_v_label); __pyx_9genexpr19__pyx_v_label = 0;
    goto __pyx_L1_error;
    __pyx_L16_exit_scope:;
  } /* exit inner scope */
  __pyx_v_label_extents = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1297</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1298</span>:     # Check for overlap by examining the extents</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1299</span>:     overlap = False</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(1299,0,<span class='error_goto'>__PYX_ERR(0, 1299, __pyx_L1_error)</span>)
  __pyx_v_overlap = 0;
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1300</span>:     num_labels = len(label_extents)</pre>
<pre class='cython code score-7 '>  <span class='trace'>__Pyx_TraceLine</span>(1300,0,<span class='error_goto'>__PYX_ERR(0, 1300, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_v_label_extents);<span class='error_goto'> if (unlikely(__pyx_t_6 == ((Py_ssize_t)-1))) __PYX_ERR(0, 1300, __pyx_L1_error)</span>
  __pyx_t_1 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1300, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_num_labels = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-56" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1301</span>:     for i in range(num_labels - 1):</pre>
<pre class='cython code score-56 '>  <span class='trace'>__Pyx_TraceLine</span>(1301,0,<span class='error_goto'>__PYX_ERR(0, 1301, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyInt_SubtractObjC</span>(__pyx_v_num_labels, __pyx_int_1, 1, 0, 0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1301, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_range, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1301, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_2)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_2)) {
    __pyx_t_1 = __pyx_t_2; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    __pyx_t_6 = 0;
    __pyx_t_7 = NULL;
  } else {
    __pyx_t_6 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1301, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1301, __pyx_L1_error)</span>
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  for (;;) {
    if (likely(!__pyx_t_7)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1301, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_6 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_6); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_6++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1301, __pyx_L1_error)</span>
        #else
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_6); __pyx_t_6++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1301, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1301, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_6 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_6); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_6++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1301, __pyx_L1_error)</span>
        #else
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_6); __pyx_t_6++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1301, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        #endif
      }
    } else {
      __pyx_t_2 = __pyx_t_7(__pyx_t_1);
      if (unlikely(!__pyx_t_2)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 1301, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_i, __pyx_t_2);
    __pyx_t_2 = 0;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(1301,0,<span class='error_goto'>__PYX_ERR(0, 1301, __pyx_L1_error)</span>)
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  goto __pyx_L20_for_end;
  __pyx_L18_break:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  goto __pyx_L20_for_end;
  __pyx_L20_for_end:;
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1302</span>:         if label_extents[i].xmax &gt; label_extents[i + 1].xmin:</pre>
<pre class='cython code score-23 '>    <span class='trace'>__Pyx_TraceLine</span>(1302,0,<span class='error_goto'>__PYX_ERR(0, 1302, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_label_extents, __pyx_v_i);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1302, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_xmax);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1302, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyInt_AddObjC</span>(__pyx_v_i, __pyx_int_1, 1, 0, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1302, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_label_extents, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1302, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_xmin);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1302, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_4, __pyx_t_2, Py_GT); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1302, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_3); if (unlikely((__pyx_t_9 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1302, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (__pyx_t_9) {
/* â€¦ */
    }
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1303</span>:             overlap = True</pre>
<pre class='cython code score-0 '>      <span class='trace'>__Pyx_TraceLine</span>(1303,0,<span class='error_goto'>__PYX_ERR(0, 1303, __pyx_L1_error)</span>)
      __pyx_v_overlap = 1;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1304</span>:             break</pre>
<pre class='cython code score-0 '>      <span class='trace'>__Pyx_TraceLine</span>(1304,0,<span class='error_goto'>__PYX_ERR(0, 1304, __pyx_L1_error)</span>)
      goto __pyx_L18_break;
</pre><pre class="cython line score-0">&#xA0;<span class="">1305</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1306</span>:     # Apply rotation if overlap is detected</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1307</span>:     rotation = 45 if overlap else 0</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(1307,0,<span class='error_goto'>__PYX_ERR(0, 1307, __pyx_L1_error)</span>)
  if (__pyx_v_overlap) {
    __pyx_t_10 = 45;
  } else {
    __pyx_t_10 = 0;
  }
  __pyx_v_rotation = __pyx_t_10;
</pre><pre class="cython line score-0">&#xA0;<span class="">1308</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1309</span>:     # Set the locator before setting labels</pre>
<pre class="cython line score-37" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1310</span>:     ax.xaxis.set_major_locator(FixedLocator(tick_locs))</pre>
<pre class='cython code score-37 '>  <span class='trace'>__Pyx_TraceLine</span>(1310,0,<span class='error_goto'>__PYX_ERR(0, 1310, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_ax, __pyx_n_s_xaxis);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1310, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_set_major_locator);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1310, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_FixedLocator);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1310, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_8 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
    __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
    if (likely(__pyx_t_8)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_8, __pyx_v_tick_locs};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1310, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  }
  __pyx_t_4 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_4)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_t_3};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1310, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1311</span>:     ax.set_xticklabels(labels, rotation=rotation)</pre>
<pre class='cython code score-26 '>  <span class='trace'>__Pyx_TraceLine</span>(1311,0,<span class='error_goto'>__PYX_ERR(0, 1311, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_ax, __pyx_n_s_set_xticklabels);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1311, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1311, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_labels);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_labels);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_labels)) <span class='error_goto'>__PYX_ERR(0, 1311, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1311, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyInt_From_long</span>(__pyx_v_rotation);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1311, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_rotation, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1311, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_2, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1311, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1312</span>: </pre>
<pre class="cython line score-106" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1313</span>: def select_features(</pre>
<pre class='cython code score-106 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_38select_features(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_37select_features, "\n    Selects features from a DataFrame according to specified criteria,\n    returning a new DataFrame.\n\n    Parameters\n    ----------\n    data : DataFrame\n        The DataFrame from which to select features.\n    features : List[str], optional\n        Specific feature names to select. An error is raised if any\n        feature is not present in `data`.\n    dtypes_include : str or List[str], optional\n        The data type(s) to include in the selection. Possible values\n        are the same as for the pandas `include` parameter in `select_dtypes`.\n    dtypes_exclude : str or List[str], optional\n        The data type(s) to exclude from the selection. Possible values\n        are the same as for the pandas `exclude` parameter in `select_dtypes`.\n    coerce : bool, default False\n        If True, numeric columns are coerced to the appropriate types without\n        selection, ignoring `features`, `include`, and `exclude` parameters.\n    columns : List[str], optional\n        Columns to construct a DataFrame if `data` is passed as a Numpy array.\n    verify_integrity : bool, default False\n        Verifies the data type integrity and converts data to the correct\n        types if necessary.\n    parse_features : bool, default False\n        Parses string features and converts them to an iterable object.\n    **kwd : dict\n        Additional keyword arguments for `pandas.DataFrame.astype`.\n\n    Returns\n    -------\n    DataFrame\n        A new DataFrame with the selected features.\n\n    Examples\n    --------\n    &gt;&gt;&gt; from gofast.tools.baseutils import select_features\n    &gt;&gt;&gt; data = {\"Color\": ['Blue', 'Red', 'Green'],\n                \"Name\": ['Mary', \"Daniel\", \"Augustine\"],\n                \"Price ($)\": ['200', \"300\", \"100\"]}\n    &gt;&gt;&gt; select_features(data, include='number')\n    Empty DataFrame\n    Columns: []\n    Index: [0, 1, 2]\n\n    &gt;&gt;&gt; select_features(data, include='number', verify_integrity=True)\n        Price ($)\n    0   200.0""\n    1   300.0\n    2   100.0\n\n    &gt;&gt;&gt; select_features(data, features=['Color', 'Price ($)'])\n       Color Price ($)\n    0  Blue  200\n    1  Red   300\n    2  Green 100\n\n    See Also\n    --------\n    pandas.DataFrame.select_dtypes : For more information on how to use\n                                      `include` and `exclude`.\n\n    Reference\n    ---------\n    https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.astype.html\n    \n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_38select_features = {"select_features", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_38select_features, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_37select_features};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_38select_features(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_data = 0;
  PyObject *__pyx_v_features = 0;
  PyObject *__pyx_v_dtypes_include = 0;
  PyObject *__pyx_v_dtypes_exclude = 0;
  PyObject *__pyx_v_coerce = 0;
  PyObject *__pyx_v_columns = 0;
  PyObject *__pyx_v_verify_integrity = 0;
  PyObject *__pyx_v_parse_features = 0;
  PyObject *__pyx_v_kwd = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("select_features (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  __pyx_v_kwd = <span class='py_c_api'>PyDict_New</span>(); if (unlikely(!__pyx_v_kwd)) return NULL;
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_v_kwd);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_data,&amp;__pyx_n_s_features,&amp;__pyx_n_s_dtypes_include,&amp;__pyx_n_s_dtypes_exclude,&amp;__pyx_n_s_coerce,&amp;__pyx_n_s_columns,&amp;__pyx_n_s_verify_integrity,&amp;__pyx_n_s_parse_features,0};
  PyObject* values[8] = {0,0,0,0,0,0,0,0};
/* â€¦ */
  /* function exit code */
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_kwd);
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_37select_features(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_data, PyObject *__pyx_v_features, PyObject *__pyx_v_dtypes_include, PyObject *__pyx_v_dtypes_exclude, PyObject *__pyx_v_coerce, PyObject *__pyx_v_columns, PyObject *__pyx_v_verify_integrity, PyObject *__pyx_v_parse_features, PyObject *__pyx_v_kwd) {
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__45)
  <span class='trace'>__Pyx_TraceCall</span>("select_features", __pyx_f[0], 1313, 0, <span class='error_goto'>__PYX_ERR(0, 1313, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_features);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_coerce);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_verify_integrity);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_parse_features);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.select_features", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_data);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_features);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_coerce);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_verify_integrity);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_parse_features);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__170 = <span class='py_c_api'>PyTuple_Pack</span>(9, __pyx_n_s_data, __pyx_n_s_features, __pyx_n_s_dtypes_include, __pyx_n_s_dtypes_exclude, __pyx_n_s_coerce, __pyx_n_s_columns, __pyx_n_s_verify_integrity, __pyx_n_s_parse_features, __pyx_n_s_kwd);<span class='error_goto'> if (unlikely(!__pyx_tuple__170)) __PYX_ERR(0, 1313, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__170);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__170);
  __pyx_codeobj__45 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(8, 0, 0, 9, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__170, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_select_features, 1313, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__45)) __PYX_ERR(0, 1313, __pyx_L1_error)</span>
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1313,0,<span class='error_goto'>__PYX_ERR(0, 1313, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(9);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1313, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_data, __pyx_n_s_DataFrame) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1313, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_features, __pyx_kp_s_Optional_List_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1313, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_dtypes_include, __pyx_kp_s_Optional_Union_str_List_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1313, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_dtypes_exclude, __pyx_kp_s_Optional_Union_str_List_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1313, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_coerce, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1313, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_columns, __pyx_kp_s_Optional_List_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1313, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_verify_integrity, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1313, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_parse_features, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1313, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return, __pyx_n_s_DataFrame) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1313, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_38select_features, 0, __pyx_n_s_select_features, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__45));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1313, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_2, __pyx_tuple__171);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_2, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_select_features, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1313, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_tuple__171 = <span class='py_c_api'>PyTuple_Pack</span>(7, Py_None, Py_None, Py_None, ((PyObject *)Py_False), Py_None, ((PyObject *)Py_False), ((PyObject *)Py_False));<span class='error_goto'> if (unlikely(!__pyx_tuple__171)) __PYX_ERR(0, 1313, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__171);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__171);
</pre><pre class="cython line score-0">&#xA0;<span class="">1314</span>:     data: DataFrame,</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1315</span>:     features: Optional[List[str]] = None,</pre>
<pre class='cython code score-2 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1316</span>:     dtypes_include: Optional[Union[str, List[str]]] = None,</pre>
<pre class='cython code score-2 '>    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1317</span>:     dtypes_exclude: Optional[Union[str, List[str]]] = None,</pre>
<pre class='cython code score-2 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1318</span>:     coerce: bool = False,</pre>
<pre class='cython code score-2 '>    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1319</span>:     columns: Optional[List[str]] = None,</pre>
<pre class='cython code score-2 '>    values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1320</span>:     verify_integrity: bool = False,</pre>
<pre class='cython code score-2 '>    values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
</pre><pre class="cython line score-117" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1321</span>:     parse_features: bool = False,</pre>
<pre class='cython code score-117 '>    values[7] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  8: values[7] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 7);
        CYTHON_FALLTHROUGH;
        case  7: values[6] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 6);
        CYTHON_FALLTHROUGH;
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1313, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_features);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1313, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_dtypes_include);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1313, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_dtypes_exclude);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1313, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_coerce);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1313, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  5:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_columns);
          if (value) { values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1313, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  6:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_verify_integrity);
          if (value) { values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1313, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  7:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_parse_features);
          if (value) { values[7] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1313, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, __pyx_v_kwd, values + 0, kwd_pos_args, "select_features") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1313, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  8: values[7] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 7);
        CYTHON_FALLTHROUGH;
        case  7: values[6] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 6);
        CYTHON_FALLTHROUGH;
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_data = values[0];
    __pyx_v_features = values[1];
    __pyx_v_dtypes_include = values[2];
    __pyx_v_dtypes_exclude = values[3];
    __pyx_v_coerce = values[4];
    __pyx_v_columns = values[5];
    __pyx_v_verify_integrity = values[6];
    __pyx_v_parse_features = values[7];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("select_features", 0, 1, 8, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1313, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_kwd); __pyx_v_kwd = 0;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.select_features", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_37select_features(__pyx_self, __pyx_v_data, __pyx_v_features, __pyx_v_dtypes_include, __pyx_v_dtypes_exclude, __pyx_v_coerce, __pyx_v_columns, __pyx_v_verify_integrity, __pyx_v_parse_features, __pyx_v_kwd);
</pre><pre class="cython line score-0">&#xA0;<span class="">1322</span>:     **kwd</pre>
<pre class="cython line score-0">&#xA0;<span class="">1323</span>: ) -&gt; DataFrame:</pre>
<pre class="cython line score-0">&#xA0;<span class="">1324</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">1325</span>:     Selects features from a DataFrame according to specified criteria,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1326</span>:     returning a new DataFrame.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1327</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1328</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">1329</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1330</span>:     data : DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">1331</span>:         The DataFrame from which to select features.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1332</span>:     features : List[str], optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1333</span>:         Specific feature names to select. An error is raised if any</pre>
<pre class="cython line score-0">&#xA0;<span class="">1334</span>:         feature is not present in `data`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1335</span>:     dtypes_include : str or List[str], optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1336</span>:         The data type(s) to include in the selection. Possible values</pre>
<pre class="cython line score-0">&#xA0;<span class="">1337</span>:         are the same as for the pandas `include` parameter in `select_dtypes`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1338</span>:     dtypes_exclude : str or List[str], optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1339</span>:         The data type(s) to exclude from the selection. Possible values</pre>
<pre class="cython line score-0">&#xA0;<span class="">1340</span>:         are the same as for the pandas `exclude` parameter in `select_dtypes`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1341</span>:     coerce : bool, default False</pre>
<pre class="cython line score-0">&#xA0;<span class="">1342</span>:         If True, numeric columns are coerced to the appropriate types without</pre>
<pre class="cython line score-0">&#xA0;<span class="">1343</span>:         selection, ignoring `features`, `include`, and `exclude` parameters.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1344</span>:     columns : List[str], optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1345</span>:         Columns to construct a DataFrame if `data` is passed as a Numpy array.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1346</span>:     verify_integrity : bool, default False</pre>
<pre class="cython line score-0">&#xA0;<span class="">1347</span>:         Verifies the data type integrity and converts data to the correct</pre>
<pre class="cython line score-0">&#xA0;<span class="">1348</span>:         types if necessary.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1349</span>:     parse_features : bool, default False</pre>
<pre class="cython line score-0">&#xA0;<span class="">1350</span>:         Parses string features and converts them to an iterable object.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1351</span>:     **kwd : dict</pre>
<pre class="cython line score-0">&#xA0;<span class="">1352</span>:         Additional keyword arguments for `pandas.DataFrame.astype`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1353</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1354</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">1355</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1356</span>:     DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">1357</span>:         A new DataFrame with the selected features.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1358</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1359</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">1360</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1361</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import select_features</pre>
<pre class="cython line score-0">&#xA0;<span class="">1362</span>:     &gt;&gt;&gt; data = {"Color": ['Blue', 'Red', 'Green'],</pre>
<pre class="cython line score-0">&#xA0;<span class="">1363</span>:                 "Name": ['Mary', "Daniel", "Augustine"],</pre>
<pre class="cython line score-0">&#xA0;<span class="">1364</span>:                 "Price ($)": ['200', "300", "100"]}</pre>
<pre class="cython line score-0">&#xA0;<span class="">1365</span>:     &gt;&gt;&gt; select_features(data, include='number')</pre>
<pre class="cython line score-0">&#xA0;<span class="">1366</span>:     Empty DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">1367</span>:     Columns: []</pre>
<pre class="cython line score-0">&#xA0;<span class="">1368</span>:     Index: [0, 1, 2]</pre>
<pre class="cython line score-0">&#xA0;<span class="">1369</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1370</span>:     &gt;&gt;&gt; select_features(data, include='number', verify_integrity=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1371</span>:         Price ($)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1372</span>:     0   200.0</pre>
<pre class="cython line score-0">&#xA0;<span class="">1373</span>:     1   300.0</pre>
<pre class="cython line score-0">&#xA0;<span class="">1374</span>:     2   100.0</pre>
<pre class="cython line score-0">&#xA0;<span class="">1375</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1376</span>:     &gt;&gt;&gt; select_features(data, features=['Color', 'Price ($)'])</pre>
<pre class="cython line score-0">&#xA0;<span class="">1377</span>:        Color Price ($)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1378</span>:     0  Blue  200</pre>
<pre class="cython line score-0">&#xA0;<span class="">1379</span>:     1  Red   300</pre>
<pre class="cython line score-0">&#xA0;<span class="">1380</span>:     2  Green 100</pre>
<pre class="cython line score-0">&#xA0;<span class="">1381</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1382</span>:     See Also</pre>
<pre class="cython line score-0">&#xA0;<span class="">1383</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1384</span>:     pandas.DataFrame.select_dtypes : For more information on how to use</pre>
<pre class="cython line score-0">&#xA0;<span class="">1385</span>:                                       `include` and `exclude`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1386</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1387</span>:     Reference</pre>
<pre class="cython line score-0">&#xA0;<span class="">1388</span>:     ---------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1389</span>:     https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.astype.html</pre>
<pre class="cython line score-0">&#xA0;<span class="">1390</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1391</span>:     """</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1392</span>:     coerce, verify_integrity, parse_features= ellipsis2false(</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(1392,0,<span class='error_goto'>__PYX_ERR(0, 1392, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_ellipsis2false);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1392, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1392,0,<span class='error_goto'>__PYX_ERR(0, 1392, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_coerce, __pyx_t_2);
  __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_verify_integrity, __pyx_t_3);
  __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_parse_features, __pyx_t_5);
  __pyx_t_5 = 0;
</pre><pre class="cython line score-64" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1393</span>:         coerce, verify_integrity, parse_features)</pre>
<pre class='cython code score-64 '>  <span class='trace'>__Pyx_TraceLine</span>(1393,0,<span class='error_goto'>__PYX_ERR(0, 1393, __pyx_L1_error)</span>)
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[4] = {__pyx_t_3, __pyx_v_coerce, __pyx_v_verify_integrity, __pyx_v_parse_features};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 3+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1392, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_1))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
    PyObject* sequence = __pyx_t_1;
    Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
    if (unlikely(size != 3)) {
      if (size &gt; 3) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(3);
      else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
      <span class='error_goto'>__PYX_ERR(0, 1392, __pyx_L1_error)</span>
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
      __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
      __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
      __pyx_t_5 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 2); 
    } else {
      __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
      __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
      __pyx_t_5 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 2); 
    }
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
    #else
    __pyx_t_2 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1392, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1392, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_5 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1392, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    #endif
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  } else {
    Py_ssize_t index = -1;
    __pyx_t_6 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1392, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_6);
    index = 0; __pyx_t_2 = __pyx_t_7(__pyx_t_6); if (unlikely(!__pyx_t_2)) goto __pyx_L3_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    index = 1; __pyx_t_3 = __pyx_t_7(__pyx_t_6); if (unlikely(!__pyx_t_3)) goto __pyx_L3_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    index = 2; __pyx_t_5 = __pyx_t_7(__pyx_t_6); if (unlikely(!__pyx_t_5)) goto __pyx_L3_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_7(__pyx_t_6), 3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1392, __pyx_L1_error)</span>
    __pyx_t_7 = NULL;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    goto __pyx_L4_unpacking_done;
    __pyx_L3_unpacking_failed:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_7 = NULL;
    if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
    <span class='error_goto'>__PYX_ERR(0, 1392, __pyx_L1_error)</span>
    __pyx_L4_unpacking_done:;
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">1394</span>: </pre>
<pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1395</span>:     data = build_data_if(data, columns = columns, )</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(1395,0,<span class='error_goto'>__PYX_ERR(0, 1395, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_build_data_if);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1395, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1395, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_v_data)) <span class='error_goto'>__PYX_ERR(0, 1395, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1395, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_columns, __pyx_v_columns) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1395, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_5, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1395, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_data, __pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1396</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1397</span>:     if verify_integrity:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1397,0,<span class='error_goto'>__PYX_ERR(0, 1397, __pyx_L1_error)</span>)
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_verify_integrity); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1397, __pyx_L1_error)</span>
  if (__pyx_t_8) {
/* â€¦ */
  }
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1398</span>:         data = to_numeric_dtypes(data )</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(1398,0,<span class='error_goto'>__PYX_ERR(0, 1398, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_to_numeric_dtypes);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1398, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_5 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_v_data};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1398, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_data, __pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1399</span>: </pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1400</span>:     if features is not None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(1400,0,<span class='error_goto'>__PYX_ERR(0, 1400, __pyx_L1_error)</span>)
  __pyx_t_8 = (__pyx_v_features != Py_None);
  if (__pyx_t_8) {
/* â€¦ */
  }
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1401</span>:         features= list(is_iterable (</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(1401,0,<span class='error_goto'>__PYX_ERR(0, 1401, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_is_iterable);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1401, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(1402,0,<span class='error_goto'>__PYX_ERR(0, 1402, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1401, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_features);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_features);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_features)) <span class='error_goto'>__PYX_ERR(0, 1401, __pyx_L1_error)</span>;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(1401,0,<span class='error_goto'>__PYX_ERR(0, 1401, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_3, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1401, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PySequence_ListKeepNew</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1401, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_features, __pyx_t_5);
    __pyx_t_5 = 0;
</pre><pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1402</span>:             features, exclude_string=True, transform=True,</pre>
<pre class='cython code score-12 '>    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1402, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_exclude_string, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1402, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_transform, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1402, __pyx_L1_error)</span>
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1403</span>:             parse_string = parse_features)</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(1403,0,<span class='error_goto'>__PYX_ERR(0, 1403, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_parse_string, __pyx_v_parse_features) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1402, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">1404</span>:             )</pre>
<pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1405</span>:         validate_feature(data, features, verbose ='raise')</pre>
<pre class='cython code score-26 '>    <span class='trace'>__Pyx_TraceLine</span>(1405,0,<span class='error_goto'>__PYX_ERR(0, 1405, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_validate_feature);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1405, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1405, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_data)) <span class='error_goto'>__PYX_ERR(0, 1405, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_features);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_features);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_v_features)) <span class='error_goto'>__PYX_ERR(0, 1405, __pyx_L1_error)</span>;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1405, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_verbose, __pyx_n_u_raise) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1405, __pyx_L1_error)</span>
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_t_1, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1405, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1406</span>:     # change the dataype</pre>
<pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1407</span>:     data = data.astype (float, errors ='ignore', **kwd)</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(1407,0,<span class='error_goto'>__PYX_ERR(0, 1407, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_astype);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1407, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1407, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>((PyObject *)(&amp;PyFloat_Type));
  <span class='refnanny'>__Pyx_GIVEREF</span>((PyObject *)(&amp;PyFloat_Type));
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, ((PyObject *)(&amp;PyFloat_Type)))) <span class='error_goto'>__PYX_ERR(0, 1407, __pyx_L1_error)</span>;
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1407, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_errors, __pyx_n_u_ignore) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1407, __pyx_L1_error)</span>
  __pyx_t_1 = __pyx_t_5;
  __pyx_t_5 = 0;
  if (<span class='pyx_c_api'>__Pyx_MergeKeywords</span>(__pyx_t_1, __pyx_v_kwd) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1407, __pyx_L1_error)</span>
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_3, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1407, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_data, __pyx_t_5);
  __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1408</span>:     # assert whether the features are in the data columns</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1409</span>:     if features is not None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(1409,0,<span class='error_goto'>__PYX_ERR(0, 1409, __pyx_L1_error)</span>)
  __pyx_t_8 = (__pyx_v_features != Py_None);
  if (__pyx_t_8) {
/* â€¦ */
  }
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1410</span>:         return data [features]</pre>
<pre class='cython code score-3 '>    <span class='trace'>__Pyx_TraceLine</span>(1410,0,<span class='error_goto'>__PYX_ERR(0, 1410, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_v_features);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1410, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_r = __pyx_t_5;
    __pyx_t_5 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1411</span>:     # raise ValueError: at least one of include or exclude must be nonempty</pre>
<pre class="cython line score-0">&#xA0;<span class="">1412</span>:     # use coerce to no raise error and return data frame instead.</pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1413</span>:     return data if coerce else data.select_dtypes (dtypes_include, dtypes_exclude)</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(1413,0,<span class='error_goto'>__PYX_ERR(0, 1413, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_coerce); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1413, __pyx_L1_error)</span>
  if (__pyx_t_8) {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
    __pyx_t_5 = __pyx_v_data;
  } else {
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_select_dtypes);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1413, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_2, __pyx_v_dtypes_include, __pyx_v_dtypes_exclude};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1413, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    __pyx_t_5 = __pyx_t_1;
    __pyx_t_1 = 0;
  }
  __pyx_r = __pyx_t_5;
  __pyx_t_5 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1414</span>: </pre>
<pre class="cython line score-99" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1415</span>: def speed_rowwise_process(</pre>
<pre class='cython code score-99 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_40speed_rowwise_process(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_39speed_rowwise_process, "\n    Processes a large dataset by applying a complex function to each row. \n    \n    Function utilizes parallel processing to optimize for speed.\n\n    Parameters\n    ----------\n    data : pd.DataFrames\n        The large dataset to be processed. Assumes the \n        dataset is a Pandas DataFrame.\n\n    func : function\n        A complex function to apply to each row of the dataset. \n        This function should take a row of the DataFrame as \n        input and return a processed row.\n\n    n_jobs : int, optional\n        The number of jobs to run in parallel. -1 means using \n        all processors. Default is -1.\n\n    Returns\n    -------\n    pd.DataFrame\n        The processed dataset.\n\n    Example\n    -------\n    &gt;&gt;&gt; def complex_calculation(row):\n    &gt;&gt;&gt;     # Example of a complex row-wise calculation\n    &gt;&gt;&gt;     return row * 2  # This is a simple placeholder for demonstration.\n    &gt;&gt;&gt;\n    &gt;&gt;&gt; large_data = pd.DataFrame(np.random.rand(10000, 10))\n    &gt;&gt;&gt; processed_data = speed_rowwise_process(large_data, complex_calculation)\n\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_40speed_rowwise_process = {"speed_rowwise_process", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_40speed_rowwise_process, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_39speed_rowwise_process};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_40speed_rowwise_process(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_data = 0;
  PyObject *__pyx_v_func = 0;
  PyObject *__pyx_v_n_jobs = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("speed_rowwise_process (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_data,&amp;__pyx_n_s_func,&amp;__pyx_n_s_n_jobs,0};
  PyObject* values[3] = {0,0,0};
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)__pyx_int_neg_1)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1415, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_func)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1415, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("speed_rowwise_process", 0, 2, 3, 1); <span class='error_goto'>__PYX_ERR(0, 1415, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_n_jobs);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1415, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "speed_rowwise_process") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1415, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_data = values[0];
    __pyx_v_func = values[1];
    __pyx_v_n_jobs = values[2];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("speed_rowwise_process", 0, 2, 3, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1415, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.speed_rowwise_process", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_39speed_rowwise_process(__pyx_self, __pyx_v_data, __pyx_v_func, __pyx_v_n_jobs);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
static PyObject *__pyx_pf_6gofast_5tools_9baseutils_39speed_rowwise_process(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_data, PyObject *__pyx_v_func, PyObject *__pyx_v_n_jobs) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_10_speed_rowwise_process *__pyx_cur_scope;
  PyObject *__pyx_v_results = NULL;
  PyObject *__pyx_v_processed_data = NULL;
  PyObject *__pyx_gb_6gofast_5tools_9baseutils_21speed_rowwise_process_4generator7 = 0;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__46)
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_10_speed_rowwise_process *)__pyx_tp_new_6gofast_5tools_9baseutils___pyx_scope_struct_10_speed_rowwise_process(__pyx_ptype_6gofast_5tools_9baseutils___pyx_scope_struct_10_speed_rowwise_process, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_10_speed_rowwise_process *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 1415, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  <span class='trace'>__Pyx_TraceCall</span>("speed_rowwise_process", __pyx_f[0], 1415, 0, <span class='error_goto'>__PYX_ERR(0, 1415, __pyx_L1_error)</span>);
  __pyx_cur_scope-&gt;__pyx_v_func = __pyx_v_func;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_func);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_v_func);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.speed_rowwise_process", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_results);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_processed_data);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_gb_6gofast_5tools_9baseutils_21speed_rowwise_process_4generator7);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__172 = <span class='py_c_api'>PyTuple_Pack</span>(9, __pyx_n_s_data, __pyx_n_s_func, __pyx_n_s_n_jobs, __pyx_n_s_process_row, __pyx_n_s_process_row, __pyx_n_s_results, __pyx_n_s_processed_data, __pyx_n_s_genexpr, __pyx_n_s_genexpr);<span class='error_goto'> if (unlikely(!__pyx_tuple__172)) __PYX_ERR(0, 1415, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__172);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__172);
  __pyx_codeobj__46 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(3, 0, 0, 9, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__172, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_speed_rowwise_process, 1415, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__46)) __PYX_ERR(0, 1415, __pyx_L1_error)</span>
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1415,0,<span class='error_goto'>__PYX_ERR(0, 1415, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_40speed_rowwise_process, 0, __pyx_n_s_speed_rowwise_process, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__46));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1415, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_2, __pyx_tuple__173);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_speed_rowwise_process, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1415, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_tuple__173 = <span class='py_c_api'>PyTuple_Pack</span>(1, ((PyObject *)__pyx_int_neg_1));<span class='error_goto'> if (unlikely(!__pyx_tuple__173)) __PYX_ERR(0, 1415, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__173);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__173);
/* â€¦ */
struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_10_speed_rowwise_process {
  PyObject_HEAD
  PyObject *__pyx_v_func;
  PyObject *__pyx_v_process_row;
};

</pre><pre class="cython line score-0">&#xA0;<span class="">1416</span>:     data,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1417</span>:     func,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1418</span>:     n_jobs=-1</pre>
<pre class="cython line score-0">&#xA0;<span class="">1419</span>:     ):</pre>
<pre class="cython line score-0">&#xA0;<span class="">1420</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">1421</span>:     Processes a large dataset by applying a complex function to each row.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1422</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1423</span>:     Function utilizes parallel processing to optimize for speed.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1424</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1425</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">1426</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1427</span>:     data : pd.DataFrames</pre>
<pre class="cython line score-0">&#xA0;<span class="">1428</span>:         The large dataset to be processed. Assumes the</pre>
<pre class="cython line score-0">&#xA0;<span class="">1429</span>:         dataset is a Pandas DataFrame.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1430</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1431</span>:     func : function</pre>
<pre class="cython line score-0">&#xA0;<span class="">1432</span>:         A complex function to apply to each row of the dataset.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1433</span>:         This function should take a row of the DataFrame as</pre>
<pre class="cython line score-0">&#xA0;<span class="">1434</span>:         input and return a processed row.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1435</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1436</span>:     n_jobs : int, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1437</span>:         The number of jobs to run in parallel. -1 means using</pre>
<pre class="cython line score-0">&#xA0;<span class="">1438</span>:         all processors. Default is -1.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1439</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1440</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">1441</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1442</span>:     pd.DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">1443</span>:         The processed dataset.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1444</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1445</span>:     Example</pre>
<pre class="cython line score-0">&#xA0;<span class="">1446</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1447</span>:     &gt;&gt;&gt; def complex_calculation(row):</pre>
<pre class="cython line score-0">&#xA0;<span class="">1448</span>:     &gt;&gt;&gt;     # Example of a complex row-wise calculation</pre>
<pre class="cython line score-0">&#xA0;<span class="">1449</span>:     &gt;&gt;&gt;     return row * 2  # This is a simple placeholder for demonstration.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1450</span>:     &gt;&gt;&gt;</pre>
<pre class="cython line score-0">&#xA0;<span class="">1451</span>:     &gt;&gt;&gt; large_data = pd.DataFrame(np.random.rand(10000, 10))</pre>
<pre class="cython line score-0">&#xA0;<span class="">1452</span>:     &gt;&gt;&gt; processed_data = speed_rowwise_process(large_data, complex_calculation)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1453</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1454</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">1455</span>:     # Function to apply `func` to each row in parallel</pre>
<pre class="cython line score-49" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1456</span>:     def process_row(row):</pre>
<pre class='cython code score-49 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_21speed_rowwise_process_1process_row(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_21speed_rowwise_process_1process_row = {"process_row", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_21speed_rowwise_process_1process_row, __Pyx_METH_FASTCALL|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_21speed_rowwise_process_1process_row(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_row = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("process_row (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_row,0};
  PyObject* values[1] = {0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_row)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1456, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "process_row") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1456, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 1)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
    }
    __pyx_v_row = values[0];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("process_row", 1, 1, 1, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1456, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.speed_rowwise_process.process_row", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_21speed_rowwise_process_process_row(__pyx_self, __pyx_v_row);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_21speed_rowwise_process_process_row(PyObject *__pyx_self, PyObject *__pyx_v_row) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_10_speed_rowwise_process *__pyx_cur_scope;
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_10_speed_rowwise_process *__pyx_outer_scope;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_outer_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_10_speed_rowwise_process *) <span class='pyx_c_api'>__Pyx_CyFunction_GetClosure</span>(__pyx_self);
  __pyx_cur_scope = __pyx_outer_scope;
  <span class='trace'>__Pyx_TraceCall</span>("process_row", __pyx_f[0], 1456, 0, <span class='error_goto'>__PYX_ERR(0, 1456, __pyx_L1_error)</span>);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.speed_rowwise_process.process_row", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
static PyObject *__pyx_gb_6gofast_5tools_9baseutils_21speed_rowwise_process_4generator7(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
/* â€¦ */
  __pyx_tuple__47 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_n_s_row);<span class='error_goto'> if (unlikely(!__pyx_tuple__47)) __PYX_ERR(0, 1456, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__47);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__47);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1456,0,<span class='error_goto'>__PYX_ERR(0, 1456, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_21speed_rowwise_process_1process_row, 0, __pyx_n_s_speed_rowwise_process_locals_pro, ((PyObject*)__pyx_cur_scope), __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__48));<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1456, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  __pyx_cur_scope-&gt;__pyx_v_process_row = __pyx_t_1;
  __pyx_t_1 = 0;
  __pyx_codeobj__48 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(1, 0, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__47, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_process_row, 1456, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__48)) __PYX_ERR(0, 1456, __pyx_L1_error)</span>
</pre><pre class="cython line score-18" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1457</span>:         return func(row)</pre>
<pre class='cython code score-18 '>  <span class='trace'>__Pyx_TraceLine</span>(1457,0,<span class='error_goto'>__PYX_ERR(0, 1457, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_func)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("func"); <span class='error_goto'>__PYX_ERR(0, 1457, __pyx_L1_error)</span> }
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_func);
  __pyx_t_2 = __pyx_cur_scope-&gt;__pyx_v_func; __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_row};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1457, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1458</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1459</span>:     # Using Joblib's Parallel and delayed to apply the function in parallel</pre>
<pre class="cython line score-91" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1460</span>:     results = Parallel(n_jobs=n_jobs)(delayed(process_row)(row)</pre>
<pre class='cython code score-91 '>static PyObject *__pyx_pf_6gofast_5tools_9baseutils_21speed_rowwise_process_2genexpr(PyObject *__pyx_self, PyObject *__pyx_genexpr_arg_0) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_11_genexpr *__pyx_cur_scope;
  PyObject *__pyx_r = NULL;
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_11_genexpr *)__pyx_tp_new_6gofast_5tools_9baseutils___pyx_scope_struct_11_genexpr(__pyx_ptype_6gofast_5tools_9baseutils___pyx_scope_struct_11_genexpr, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_11_genexpr *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 1460, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  __pyx_cur_scope-&gt;__pyx_outer_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_10_speed_rowwise_process *) __pyx_self;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>((PyObject *)__pyx_cur_scope-&gt;__pyx_outer_scope);
  <span class='refnanny'>__Pyx_GIVEREF</span>((PyObject *)__pyx_cur_scope-&gt;__pyx_outer_scope);
  __pyx_cur_scope-&gt;__pyx_genexpr_arg_0 = __pyx_genexpr_arg_0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  {
    __pyx_CoroutineObject *gen = <span class='pyx_c_api'>__Pyx_Generator_New</span>((__pyx_coroutine_body_t) __pyx_gb_6gofast_5tools_9baseutils_21speed_rowwise_process_4generator7, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_speed_rowwise_process_locals_gen, __pyx_n_s_gofast_tools_baseutils);<span class='error_goto'> if (unlikely(!gen)) __PYX_ERR(0, 1460, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_cur_scope);
    <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
    return (PyObject *) gen;
  }

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.speed_rowwise_process.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_gb_6gofast_5tools_9baseutils_21speed_rowwise_process_4generator7(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
{
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("genexpr", 0);
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_L3_first_run:;
  if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 1460, __pyx_L1_error)</span>
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(1460,0,<span class='error_goto'>__PYX_ERR(0, 1460, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_delayed);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1460, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    if (unlikely(!__pyx_cur_scope-&gt;__pyx_outer_scope-&gt;__pyx_v_process_row)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("process_row"); <span class='error_goto'>__PYX_ERR(0, 1460, __pyx_L1_error)</span> }
    __pyx_t_7 = NULL;
    __pyx_t_8 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
      __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
      if (likely(__pyx_t_7)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
        __pyx_t_8 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_7, __pyx_cur_scope-&gt;__pyx_outer_scope-&gt;__pyx_v_process_row};
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 1460, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    __pyx_t_6 = NULL;
    __pyx_t_8 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_8 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_cur_scope-&gt;__pyx_v_row};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1460, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    __pyx_r = __pyx_t_4;
    __pyx_t_4 = 0;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_1);
    __pyx_cur_scope-&gt;__pyx_t_0 = __pyx_t_1;
    __pyx_cur_scope-&gt;__pyx_t_1 = __pyx_t_2;
    __pyx_cur_scope-&gt;__pyx_t_2 = __pyx_t_3;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
    <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
    <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
    <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
    /* return from generator, yielding value */
    __pyx_generator-&gt;resume_label = 1;
    return __pyx_r;
    __pyx_L6_resume_from_yield:;
    __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_t_0;
    __pyx_cur_scope-&gt;__pyx_t_0 = 0;
    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
    __pyx_t_2 = __pyx_cur_scope-&gt;__pyx_t_1;
    __pyx_t_3 = __pyx_cur_scope-&gt;__pyx_t_2;
    if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 1460, __pyx_L1_error)</span>
/* â€¦ */
  /* function exit code */
  <span class='py_c_api'>PyErr_SetNone</span>(PyExc_StopIteration);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_Generator_Replace_StopIteration</span>(0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r); __pyx_r = 0;
  #if !CYTHON_USE_EXC_INFO_STACK
  <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
  #endif
  __pyx_generator-&gt;resume_label = -1;
  <span class='pyx_c_api'>__Pyx_Coroutine_clear</span>((PyObject*)__pyx_generator);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1460,0,<span class='error_goto'>__PYX_ERR(0, 1460, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_Parallel);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1460, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1460, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_n_jobs, __pyx_v_n_jobs) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1460, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_empty_tuple, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1460, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1460,0,<span class='error_goto'>__PYX_ERR(0, 1460, __pyx_L1_error)</span>)
  __pyx_t_2 = __pyx_pf_6gofast_5tools_9baseutils_21speed_rowwise_process_2genexpr(((PyObject*)__pyx_cur_scope), __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1460, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_5 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
    __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
    if (likely(__pyx_t_5)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_t_2};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1460, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  }
  __pyx_v_results = __pyx_t_1;
  __pyx_t_1 = 0;
/* â€¦ */
struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_11_genexpr {
  PyObject_HEAD
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_10_speed_rowwise_process *__pyx_outer_scope;
  PyObject *__pyx_genexpr_arg_0;
  PyObject *__pyx_v_row;
  PyObject *__pyx_t_0;
  Py_ssize_t __pyx_t_1;
  PyObject *(*__pyx_t_2)(PyObject *);
};

</pre><pre class="cython line score-64" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1461</span>:                                       for row in data.itertuples(index=False))</pre>
<pre class='cython code score-64 '>  <span class='trace'>__Pyx_TraceLine</span>(1461,0,<span class='error_goto'>__PYX_ERR(0, 1461, __pyx_L1_error)</span>)
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>(".0"); <span class='error_goto'>__PYX_ERR(0, 1461, __pyx_L1_error)</span> }
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) {
    __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_genexpr_arg_0; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    __pyx_t_2 = 0;
    __pyx_t_3 = NULL;
  } else {
    __pyx_t_2 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1461, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1461, __pyx_L1_error)</span>
  }
  for (;;) {
    if (likely(!__pyx_t_3)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1461, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1461, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1461, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1461, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1461, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1461, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      }
    } else {
      __pyx_t_4 = __pyx_t_3(__pyx_t_1);
      if (unlikely(!__pyx_t_4)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 1461, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    }
    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_cur_scope-&gt;__pyx_v_row);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_cur_scope-&gt;__pyx_v_row, __pyx_t_4);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
    __pyx_t_4 = 0;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(1461,0,<span class='error_goto'>__PYX_ERR(0, 1461, __pyx_L1_error)</span>)
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1461,0,<span class='error_goto'>__PYX_ERR(0, 1461, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_itertuples);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1461, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1461, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_index, Py_False) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1461, __pyx_L1_error)</span>
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_empty_tuple, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1461, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1462</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1463</span>:     # Converting results back to DataFrame</pre>
<pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1464</span>:     processed_data = pd.DataFrame(results, columns=data.columns)</pre>
<pre class='cython code score-28 '>  <span class='trace'>__Pyx_TraceLine</span>(1464,0,<span class='error_goto'>__PYX_ERR(0, 1464, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1464, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1464, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1464, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_results);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_results);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_results)) <span class='error_goto'>__PYX_ERR(0, 1464, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1464, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1464, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_columns, __pyx_t_5) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1464, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_4, __pyx_t_1, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1464, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_processed_data = __pyx_t_5;
  __pyx_t_5 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1465</span>:     return processed_data</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1465,0,<span class='error_goto'>__PYX_ERR(0, 1465, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_processed_data);
  __pyx_r = __pyx_v_processed_data;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1466</span>: </pre>
<pre class="cython line score-98" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1467</span>: def run_shell_command(command, progress_bar_duration=30, pkg=None):</pre>
<pre class='cython code score-98 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_42run_shell_command(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_41run_shell_command, "\n    Run a shell command with an indeterminate progress bar.\n\n    This function will display a progress bar for a predefined duration while \n    the package installation command runs in a separate thread. The progress \n    bar is purely for visual effect and does not reflect the actual \n    progress of the installation.\n\n    Keep in mind:\n    \n    This function assumes that you have tqdm installed (pip install tqdm).\n    The actual progress of the installation isn't tracked; the progress bar \n    is merely for aesthetics.\n    The function assumes the command is a blocking one \n    (like most pip install commands) and waits for it to complete.\n    Adjust progress_bar_duration based on how long you expect the installation\n    to take. If the installation finishes before the progress bar, the bar\n    will stop early. If the installation takes longer, the bar will complete, \n    but the function will continue to wait until the installation is done.\n    \n    Parameters:\n    -----------\n    command : list\n        The command to run, provided as a list of strings.\n\n    progress_bar_duration : int\n        The maximum duration to display the progress bar for, in seconds.\n        Defaults to 30 seconds.\n    pkg: str, optional \n        The name of package to install for customizing bar description. \n\n    Returns:\n    --------\n    None\n    \n    Example \n    -------\n    &gt;&gt;&gt; from gofast.tools.baseutils import run_shell_command \n    &gt;&gt;&gt; run_shell_command([\"pip\", \"install\", \"gofast\"])\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_42run_shell_command = {"run_shell_command", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_42run_shell_command, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_41run_shell_command};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_42run_shell_command(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_command = 0;
  PyObject *__pyx_v_progress_bar_duration = 0;
  PyObject *__pyx_v_pkg = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("run_shell_command (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_command,&amp;__pyx_n_s_progress_bar_duration,&amp;__pyx_n_s_pkg,0};
  PyObject* values[3] = {0,0,0};
    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)__pyx_int_30)));
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_command)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1467, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_progress_bar_duration);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1467, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_pkg);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1467, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "run_shell_command") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1467, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_command = values[0];
    __pyx_v_progress_bar_duration = values[1];
    __pyx_v_pkg = values[2];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("run_shell_command", 0, 1, 3, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1467, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.run_shell_command", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_41run_shell_command(__pyx_self, __pyx_v_command, __pyx_v_progress_bar_duration, __pyx_v_pkg);

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
static PyObject *__pyx_pf_6gofast_5tools_9baseutils_41run_shell_command(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_command, PyObject *__pyx_v_progress_bar_duration, PyObject *__pyx_v_pkg) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_12_run_shell_command *__pyx_cur_scope;
  PyObject *__pyx_v_run_command = 0;
  PyObject *__pyx_v_show_progress_bar = 0;
  PyObject *__pyx_v_thread = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__52)
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_12_run_shell_command *)__pyx_tp_new_6gofast_5tools_9baseutils___pyx_scope_struct_12_run_shell_command(__pyx_ptype_6gofast_5tools_9baseutils___pyx_scope_struct_12_run_shell_command, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_12_run_shell_command *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 1467, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  <span class='trace'>__Pyx_TraceCall</span>("run_shell_command", __pyx_f[0], 1467, 0, <span class='error_goto'>__PYX_ERR(0, 1467, __pyx_L1_error)</span>);
  __pyx_cur_scope-&gt;__pyx_v_pkg = __pyx_v_pkg;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_pkg);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_v_pkg);
/* â€¦ */
  /* function exit code */
  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.run_shell_command", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_run_command);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_show_progress_bar);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_thread);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__174 = <span class='py_c_api'>PyTuple_Pack</span>(8, __pyx_n_s_command, __pyx_n_s_progress_bar_duration, __pyx_n_s_pkg, __pyx_n_s_run_command, __pyx_n_s_run_command, __pyx_n_s_show_progress_bar, __pyx_n_s_show_progress_bar, __pyx_n_s_thread);<span class='error_goto'> if (unlikely(!__pyx_tuple__174)) __PYX_ERR(0, 1467, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__174);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__174);
  __pyx_codeobj__52 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(3, 0, 0, 8, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__174, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_run_shell_command, 1467, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__52)) __PYX_ERR(0, 1467, __pyx_L1_error)</span>
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1467,0,<span class='error_goto'>__PYX_ERR(0, 1467, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_42run_shell_command, 0, __pyx_n_s_run_shell_command, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__52));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1467, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_2, __pyx_tuple__175);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_run_shell_command, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1467, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_tuple__175 = <span class='py_c_api'>PyTuple_Pack</span>(2, ((PyObject *)__pyx_int_30), Py_None);<span class='error_goto'> if (unlikely(!__pyx_tuple__175)) __PYX_ERR(0, 1467, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__175);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__175);
/* â€¦ */
struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_12_run_shell_command {
  PyObject_HEAD
  PyObject *__pyx_v_pkg;
};

</pre><pre class="cython line score-0">&#xA0;<span class="">1468</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">1469</span>:     Run a shell command with an indeterminate progress bar.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1470</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1471</span>:     This function will display a progress bar for a predefined duration while</pre>
<pre class="cython line score-0">&#xA0;<span class="">1472</span>:     the package installation command runs in a separate thread. The progress</pre>
<pre class="cython line score-0">&#xA0;<span class="">1473</span>:     bar is purely for visual effect and does not reflect the actual</pre>
<pre class="cython line score-0">&#xA0;<span class="">1474</span>:     progress of the installation.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1475</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1476</span>:     Keep in mind:</pre>
<pre class="cython line score-0">&#xA0;<span class="">1477</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1478</span>:     This function assumes that you have tqdm installed (pip install tqdm).</pre>
<pre class="cython line score-0">&#xA0;<span class="">1479</span>:     The actual progress of the installation isn't tracked; the progress bar</pre>
<pre class="cython line score-0">&#xA0;<span class="">1480</span>:     is merely for aesthetics.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1481</span>:     The function assumes the command is a blocking one</pre>
<pre class="cython line score-0">&#xA0;<span class="">1482</span>:     (like most pip install commands) and waits for it to complete.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1483</span>:     Adjust progress_bar_duration based on how long you expect the installation</pre>
<pre class="cython line score-0">&#xA0;<span class="">1484</span>:     to take. If the installation finishes before the progress bar, the bar</pre>
<pre class="cython line score-0">&#xA0;<span class="">1485</span>:     will stop early. If the installation takes longer, the bar will complete,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1486</span>:     but the function will continue to wait until the installation is done.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1487</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1488</span>:     Parameters:</pre>
<pre class="cython line score-0">&#xA0;<span class="">1489</span>:     -----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1490</span>:     command : list</pre>
<pre class="cython line score-0">&#xA0;<span class="">1491</span>:         The command to run, provided as a list of strings.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1492</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1493</span>:     progress_bar_duration : int</pre>
<pre class="cython line score-0">&#xA0;<span class="">1494</span>:         The maximum duration to display the progress bar for, in seconds.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1495</span>:         Defaults to 30 seconds.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1496</span>:     pkg: str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1497</span>:         The name of package to install for customizing bar description.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1498</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1499</span>:     Returns:</pre>
<pre class="cython line score-0">&#xA0;<span class="">1500</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1501</span>:     None</pre>
<pre class="cython line score-0">&#xA0;<span class="">1502</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1503</span>:     Example</pre>
<pre class="cython line score-0">&#xA0;<span class="">1504</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1505</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import run_shell_command</pre>
<pre class="cython line score-0">&#xA0;<span class="">1506</span>:     &gt;&gt;&gt; run_shell_command(["pip", "install", "gofast"])</pre>
<pre class="cython line score-0">&#xA0;<span class="">1507</span>:     """</pre>
<pre class="cython line score-49" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1508</span>:     def run_command(command):</pre>
<pre class='cython code score-49 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_17run_shell_command_1run_command(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_17run_shell_command_1run_command = {"run_command", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_17run_shell_command_1run_command, __Pyx_METH_FASTCALL|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_17run_shell_command_1run_command(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_command = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("run_command (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_command,0};
  PyObject* values[1] = {0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_command)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1508, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "run_command") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1508, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 1)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
    }
    __pyx_v_command = values[0];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("run_command", 1, 1, 1, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1508, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.run_shell_command.run_command", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_17run_shell_command_run_command(__pyx_self, __pyx_v_command);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_17run_shell_command_run_command(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_command) {
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceCall</span>("run_command", __pyx_f[0], 1508, 0, <span class='error_goto'>__PYX_ERR(0, 1508, __pyx_L1_error)</span>);
/* â€¦ */
  /* function exit code */
  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.run_shell_command.run_command", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__53 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_n_s_command);<span class='error_goto'> if (unlikely(!__pyx_tuple__53)) __PYX_ERR(0, 1508, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__53);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__53);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1508,0,<span class='error_goto'>__PYX_ERR(0, 1508, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_17run_shell_command_1run_command, 0, __pyx_n_s_run_shell_command_locals_run_com, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__54));<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1508, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_run_command = __pyx_t_1;
  __pyx_t_1 = 0;
  __pyx_codeobj__54 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(1, 0, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__53, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_run_command, 1508, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__54)) __PYX_ERR(0, 1508, __pyx_L1_error)</span>
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1509</span>:         subprocess.run(command, check=True)</pre>
<pre class='cython code score-26 '>  <span class='trace'>__Pyx_TraceLine</span>(1509,0,<span class='error_goto'>__PYX_ERR(0, 1509, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_subprocess);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1509, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_run);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1509, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1509, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_command);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_command);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_command)) <span class='error_goto'>__PYX_ERR(0, 1509, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1509, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_check, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1509, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_1, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1509, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1510</span>: </pre>
<pre class="cython line score-56" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1511</span>:     def show_progress_bar(duration):</pre>
<pre class='cython code score-56 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_17run_shell_command_3show_progress_bar(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_17run_shell_command_3show_progress_bar = {"show_progress_bar", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_17run_shell_command_3show_progress_bar, __Pyx_METH_FASTCALL|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_17run_shell_command_3show_progress_bar(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_duration = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("show_progress_bar (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_duration,0};
  PyObject* values[1] = {0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_duration)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1511, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "show_progress_bar") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1511, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 1)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
    }
    __pyx_v_duration = values[0];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("show_progress_bar", 1, 1, 1, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1511, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.run_shell_command.show_progress_bar", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_17run_shell_command_2show_progress_bar(__pyx_self, __pyx_v_duration);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_17run_shell_command_2show_progress_bar(PyObject *__pyx_self, PyObject *__pyx_v_duration) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_12_run_shell_command *__pyx_cur_scope;
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_12_run_shell_command *__pyx_outer_scope;
  PyObject *__pyx_v_pbar = NULL;
  CYTHON_UNUSED PyObject *__pyx_v_i = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_outer_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_12_run_shell_command *) <span class='pyx_c_api'>__Pyx_CyFunction_GetClosure</span>(__pyx_self);
  __pyx_cur_scope = __pyx_outer_scope;
  <span class='trace'>__Pyx_TraceCall</span>("show_progress_bar", __pyx_f[0], 1511, 0, <span class='error_goto'>__PYX_ERR(0, 1511, __pyx_L1_error)</span>);
/* â€¦ */
  /* function exit code */
  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.run_shell_command.show_progress_bar", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_pbar);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_i);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__55 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_n_s_duration, __pyx_n_s_pbar, __pyx_n_s_i);<span class='error_goto'> if (unlikely(!__pyx_tuple__55)) __PYX_ERR(0, 1511, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__55);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__55);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1511,0,<span class='error_goto'>__PYX_ERR(0, 1511, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_17run_shell_command_3show_progress_bar, 0, __pyx_n_s_run_shell_command_locals_show_pr, ((PyObject*)__pyx_cur_scope), __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__56));<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1511, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_show_progress_bar = __pyx_t_1;
  __pyx_t_1 = 0;
  __pyx_codeobj__56 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(1, 0, 0, 3, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__55, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_show_progress_bar, 1511, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__56)) __PYX_ERR(0, 1511, __pyx_L1_error)</span>
</pre><pre class="cython line score-79" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1512</span>:         with tqdm(total=duration, desc="Installing{}".format(</pre>
<pre class='cython code score-79 '>  <span class='trace'>__Pyx_TraceLine</span>(1512,0,<span class='error_goto'>__PYX_ERR(0, 1512, __pyx_L1_error)</span>)
  /*with:*/ {
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_tqdm);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1512, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1512, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_total, __pyx_v_duration) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1512, __pyx_L1_error)</span>
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_kp_u_Installing, __pyx_n_s_format);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1512, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(1512,0,<span class='error_goto'>__PYX_ERR(0, 1512, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_empty_tuple, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1512, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_3, __pyx_n_s_exit);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1512, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_3, __pyx_n_s_enter);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1512, __pyx_L3_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_4 = NULL;
    __pyx_t_9 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_4)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_9 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_4, NULL};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_9, 0+__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1512, __pyx_L3_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_t_1 = __pyx_t_2;
    __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    /*try:*/ {
      {
        /*try:*/ {
          __pyx_v_pbar = __pyx_t_1;
          __pyx_t_1 = 0;
/* â€¦ */
        }
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
        goto __pyx_L12_try_end;
        __pyx_L7_error:;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
        /*except:*/ {
          <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.run_shell_command.show_progress_bar", __pyx_clineno, __pyx_lineno, __pyx_filename);
          if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_3, &amp;__pyx_t_1, &amp;__pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1512, __pyx_L9_except_error)</span>
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_4);
          __pyx_t_2 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_t_3, __pyx_t_1, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1512, __pyx_L9_except_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          __pyx_t_16 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_10, __pyx_t_2, NULL);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          if (unlikely(!__pyx_t_16)) <span class='error_goto'>__PYX_ERR(0, 1512, __pyx_L9_except_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_16);
          __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_16);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_16); __pyx_t_16 = 0;
          if (__pyx_t_6 &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1512, __pyx_L9_except_error)</span>
          __pyx_t_17 = (!__pyx_t_6);
          if (unlikely(__pyx_t_17)) {
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_4);
            <span class='pyx_c_api'>__Pyx_ErrRestoreWithState</span>(__pyx_t_3, __pyx_t_1, __pyx_t_4);
            __pyx_t_3 = 0; __pyx_t_1 = 0; __pyx_t_4 = 0; 
            <span class='error_goto'>__PYX_ERR(0, 1512, __pyx_L9_except_error)</span>
          }
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
          goto __pyx_L8_exception_handled;
        }
        __pyx_L9_except_error:;
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
        <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_11, __pyx_t_12, __pyx_t_13);
        goto __pyx_L1_error;
        __pyx_L8_exception_handled:;
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
        <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_11, __pyx_t_12, __pyx_t_13);
        __pyx_L12_try_end:;
      }
    }
    /*finally:*/ {
      /*normal exit:*/{
        if (__pyx_t_10) {
          __pyx_t_13 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_10, __pyx_tuple__51, NULL);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
          if (unlikely(!__pyx_t_13)) <span class='error_goto'>__PYX_ERR(0, 1512, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_13);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
        }
        goto __pyx_L6;
      }
      __pyx_L6:;
    }
    goto __pyx_L19;
    __pyx_L3_error:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    goto __pyx_L1_error;
    __pyx_L19:;
  }
/* â€¦ */
  __pyx_tuple__51 = <span class='py_c_api'>PyTuple_Pack</span>(3, Py_None, Py_None, Py_None);<span class='error_goto'> if (unlikely(!__pyx_tuple__51)) __PYX_ERR(0, 1512, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__51);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__51);
</pre><pre class="cython line score-44" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1513</span>:                 '' if pkg is None else f" {str(pkg)}"),</pre>
<pre class='cython code score-44 '>    <span class='trace'>__Pyx_TraceLine</span>(1513,0,<span class='error_goto'>__PYX_ERR(0, 1513, __pyx_L1_error)</span>)
    if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_pkg)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("pkg"); <span class='error_goto'>__PYX_ERR(0, 1513, __pyx_L1_error)</span> }
    __pyx_t_6 = (__pyx_cur_scope-&gt;__pyx_v_pkg == Py_None);
    if (__pyx_t_6) {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__49);
      __pyx_t_5 = __pyx_kp_u__49;
    } else {
      if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_pkg)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("pkg"); <span class='error_goto'>__PYX_ERR(0, 1513, __pyx_L1_error)</span> }
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_Str</span>(__pyx_cur_scope-&gt;__pyx_v_pkg);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1513, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      __pyx_t_8 = <span class='py_c_api'>PyNumber_Add</span>(__pyx_kp_u__50, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1513, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      __pyx_t_5 = __pyx_t_8;
      __pyx_t_8 = 0;
    }
    __pyx_t_8 = NULL;
    __pyx_t_9 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
      __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
      if (likely(__pyx_t_8)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
        __pyx_t_9 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_8, __pyx_t_5};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_9, 1+__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1512, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    }
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_desc, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1512, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_bar_format, __pyx_kp_u_l_bar_bar) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1512, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_ncols, __pyx_int_77) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1512, __pyx_L1_error)</span>
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1514</span>:                   bar_format="{l_bar}{bar}", ncols=77, ascii=True)  as pbar:</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(1514,0,<span class='error_goto'>__PYX_ERR(0, 1514, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_ascii, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1512, __pyx_L1_error)</span>
</pre><pre class="cython line score-52" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1515</span>:             for i in range(duration):</pre>
<pre class='cython code score-52 '>          <span class='trace'>__Pyx_TraceLine</span>(1515,0,<span class='error_goto'>__PYX_ERR(0, 1515, __pyx_L7_error)</span>)
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_range, __pyx_v_duration);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1515, __pyx_L7_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_1)) {
            __pyx_t_3 = __pyx_t_1; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
            __pyx_t_14 = 0;
            __pyx_t_15 = NULL;
          } else {
            __pyx_t_14 = -1; __pyx_t_3 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1515, __pyx_L7_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
            __pyx_t_15 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1515, __pyx_L7_error)</span>
          }
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          for (;;) {
            if (likely(!__pyx_t_15)) {
              if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_3))) {
                {
                  Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_3);
                  #if !CYTHON_ASSUME_SAFE_MACROS
                  if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1515, __pyx_L7_error)</span>
                  #endif
                  if (__pyx_t_14 &gt;= __pyx_temp) break;
                }
                #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
                __pyx_t_1 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_3, __pyx_t_14); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1); __pyx_t_14++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1515, __pyx_L7_error)</span>
                #else
                __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_3, __pyx_t_14); __pyx_t_14++;<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1515, __pyx_L7_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
                #endif
              } else {
                {
                  Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_3);
                  #if !CYTHON_ASSUME_SAFE_MACROS
                  if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1515, __pyx_L7_error)</span>
                  #endif
                  if (__pyx_t_14 &gt;= __pyx_temp) break;
                }
                #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
                __pyx_t_1 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_3, __pyx_t_14); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1); __pyx_t_14++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1515, __pyx_L7_error)</span>
                #else
                __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_3, __pyx_t_14); __pyx_t_14++;<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1515, __pyx_L7_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
                #endif
              }
            } else {
              __pyx_t_1 = __pyx_t_15(__pyx_t_3);
              if (unlikely(!__pyx_t_1)) {
                PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
                if (exc_type) {
                  if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
                  else <span class='error_goto'>__PYX_ERR(0, 1515, __pyx_L7_error)</span>
                }
                break;
              }
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
            }
            <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_i, __pyx_t_1);
            __pyx_t_1 = 0;
/* â€¦ */
            <span class='trace'>__Pyx_TraceLine</span>(1515,0,<span class='error_goto'>__PYX_ERR(0, 1515, __pyx_L7_error)</span>)
          }
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1516</span>:                 time.sleep(1)</pre>
<pre class='cython code score-20 '>            <span class='trace'>__Pyx_TraceLine</span>(1516,0,<span class='error_goto'>__PYX_ERR(0, 1516, __pyx_L7_error)</span>)
            <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_time);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1516, __pyx_L7_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
            __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_sleep);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1516, __pyx_L7_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
            __pyx_t_2 = NULL;
            __pyx_t_9 = 0;
            #if CYTHON_UNPACK_METHODS
            if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
              __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
              if (likely(__pyx_t_2)) {
                PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
                <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
                <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
                <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
                __pyx_t_9 = 1;
              }
            }
            #endif
            {
              PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_int_1};
              __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_9, 1+__pyx_t_9);
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
              if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1516, __pyx_L7_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
            }
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1517</span>:                 pbar.update(1)</pre>
<pre class='cython code score-17 '>            <span class='trace'>__Pyx_TraceLine</span>(1517,0,<span class='error_goto'>__PYX_ERR(0, 1517, __pyx_L7_error)</span>)
            __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_pbar, __pyx_n_s_update);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1517, __pyx_L7_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
            __pyx_t_2 = NULL;
            __pyx_t_9 = 0;
            #if CYTHON_UNPACK_METHODS
            if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
              __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
              if (likely(__pyx_t_2)) {
                PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
                <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
                <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
                <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
                __pyx_t_9 = 1;
              }
            }
            #endif
            {
              PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_int_1};
              __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_9, 1+__pyx_t_9);
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
              if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1517, __pyx_L7_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
            }
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1518</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1519</span>:     # Start running the command</pre>
<pre class="cython line score-30" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1520</span>:     thread = threading.Thread(target=run_command, args=(command,))</pre>
<pre class='cython code score-30 '>  <span class='trace'>__Pyx_TraceLine</span>(1520,0,<span class='error_goto'>__PYX_ERR(0, 1520, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_threading);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1520, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_Thread);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1520, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1520, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_target, __pyx_v_run_command) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1520, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1520, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_command);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_command);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_command)) <span class='error_goto'>__PYX_ERR(0, 1520, __pyx_L1_error)</span>;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_args, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1520, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_empty_tuple, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1520, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_thread = __pyx_t_3;
  __pyx_t_3 = 0;
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1521</span>:     thread.start()</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(1521,0,<span class='error_goto'>__PYX_ERR(0, 1521, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_thread, __pyx_n_s_start);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1521, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_2, NULL};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1521, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1522</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1523</span>:     # Start the progress bar</pre>
<pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1524</span>:     show_progress_bar(progress_bar_duration)</pre>
<pre class='cython code score-1 '>  <span class='trace'>__Pyx_TraceLine</span>(1524,0,<span class='error_goto'>__PYX_ERR(0, 1524, __pyx_L1_error)</span>)
  __pyx_t_3 = __pyx_pf_6gofast_5tools_9baseutils_17run_shell_command_2show_progress_bar(__pyx_v_show_progress_bar, __pyx_v_progress_bar_duration);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1524, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1525</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1526</span>:     # Wait for the command to finish</pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1527</span>:     thread.join()</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(1527,0,<span class='error_goto'>__PYX_ERR(0, 1527, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_thread, __pyx_n_s_join);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1527, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_2, NULL};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1527, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1528</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1529</span>: </pre>
<pre class="cython line score-95" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1530</span>: def download_file(url, local_filename , dstpath =None ):</pre>
<pre class='cython code score-95 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_44download_file(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_43download_file, "download a remote file. \n    \n    Parameters \n    -----------\n    url: str, \n      Url to where the file is stored. \n    loadl_filename: str,\n      Name of the local file \n      \n    dstpath: Optional \n      The destination path to save the downloaded file. \n      \n    Return \n    --------\n    None, local_filename\n       None if the `dstpath` is supplied and `local_filename` otherwise. \n       \n    Example \n    ---------\n    &gt;&gt;&gt; from gofast.tools.baseutils import download_file\n    &gt;&gt;&gt; url = 'https://raw.githubusercontent.com/WEgeophysics/gofast/master/gofast/datasets/data/h.h5'\n    &gt;&gt;&gt; local_filename = 'h.h5'\n    &gt;&gt;&gt; download_file(url, local_filename, test_directory)    \n    \n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_44download_file = {"download_file", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_44download_file, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_43download_file};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_44download_file(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_url = 0;
  PyObject *__pyx_v_local_filename = 0;
  PyObject *__pyx_v_dstpath = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("download_file (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_url,&amp;__pyx_n_s_local_filename,&amp;__pyx_n_s_dstpath,0};
  PyObject* values[3] = {0,0,0};
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_url)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1530, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_local_filename)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1530, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("download_file", 0, 2, 3, 1); <span class='error_goto'>__PYX_ERR(0, 1530, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_dstpath);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1530, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "download_file") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1530, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_url = values[0];
    __pyx_v_local_filename = values[1];
    __pyx_v_dstpath = values[2];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("download_file", 0, 2, 3, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1530, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.download_file", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_43download_file(__pyx_self, __pyx_v_url, __pyx_v_local_filename, __pyx_v_dstpath);

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_43download_file(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_url, PyObject *__pyx_v_local_filename, PyObject *__pyx_v_dstpath) {
  PyObject *__pyx_v_requests = NULL;
  PyObject *__pyx_v_r = NULL;
  PyObject *__pyx_v_f = NULL;
  PyObject *__pyx_v_chunk = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__57)
  <span class='trace'>__Pyx_TraceCall</span>("download_file", __pyx_f[0], 1530, 0, <span class='error_goto'>__PYX_ERR(0, 1530, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_local_filename);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.download_file", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_requests);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_r);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_f);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_chunk);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_local_filename);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__176 = <span class='py_c_api'>PyTuple_Pack</span>(7, __pyx_n_s_url, __pyx_n_s_local_filename, __pyx_n_s_dstpath, __pyx_n_s_requests, __pyx_n_s_r, __pyx_n_s_f, __pyx_n_s_chunk);<span class='error_goto'> if (unlikely(!__pyx_tuple__176)) __PYX_ERR(0, 1530, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__176);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__176);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1530,0,<span class='error_goto'>__PYX_ERR(0, 1530, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_44download_file, 0, __pyx_n_s_download_file, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__57));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1530, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_2, __pyx_tuple__146);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_download_file, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1530, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_codeobj__57 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(3, 0, 0, 7, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__176, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_download_file, 1530, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__57)) __PYX_ERR(0, 1530, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">1531</span>:     """download a remote file.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1532</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1533</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">1534</span>:     -----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1535</span>:     url: str,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1536</span>:       Url to where the file is stored.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1537</span>:     loadl_filename: str,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1538</span>:       Name of the local file</pre>
<pre class="cython line score-0">&#xA0;<span class="">1539</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1540</span>:     dstpath: Optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1541</span>:       The destination path to save the downloaded file.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1542</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1543</span>:     Return</pre>
<pre class="cython line score-0">&#xA0;<span class="">1544</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1545</span>:     None, local_filename</pre>
<pre class="cython line score-0">&#xA0;<span class="">1546</span>:        None if the `dstpath` is supplied and `local_filename` otherwise.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1547</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1548</span>:     Example</pre>
<pre class="cython line score-0">&#xA0;<span class="">1549</span>:     ---------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1550</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import download_file</pre>
<pre class="cython line score-0">&#xA0;<span class="">1551</span>:     &gt;&gt;&gt; url = 'https://raw.githubusercontent.com/WEgeophysics/gofast/master/gofast/datasets/data/h.h5'</pre>
<pre class="cython line score-0">&#xA0;<span class="">1552</span>:     &gt;&gt;&gt; local_filename = 'h.h5'</pre>
<pre class="cython line score-0">&#xA0;<span class="">1553</span>:     &gt;&gt;&gt; download_file(url, local_filename, test_directory)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1554</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1555</span>:     """</pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1556</span>:     import_optional_dependency("requests")</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(1556,0,<span class='error_goto'>__PYX_ERR(0, 1556, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_import_optional_dependency);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1556, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_n_u_requests};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1556, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1557</span>:     import requests</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1557,0,<span class='error_goto'>__PYX_ERR(0, 1557, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_requests, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1557, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_requests = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-65" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1558</span>:     print("{:-^70}".format(f" Please, Wait while {os.path.basename(local_filename)}"</pre>
<pre class='cython code score-65 '>  <span class='trace'>__Pyx_TraceLine</span>(1558,0,<span class='error_goto'>__PYX_ERR(0, 1558, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_kp_u_70, __pyx_n_s_format);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1558, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1558, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_5 = 0;
  __pyx_t_6 = 127;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Please_Wait_while);
  __pyx_t_5 += 20;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Please_Wait_while);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_kp_u_Please_Wait_while);
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_8, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1558, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_8, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1558, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_9, __pyx_n_s_basename);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1558, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
  __pyx_t_9 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_8))) {
    __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_8);
    if (likely(__pyx_t_9)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_8, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_9, __pyx_v_local_filename};
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_8, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    if (unlikely(!__pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 1558, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
  }
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_t_7, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1558, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_8) &gt; __pyx_t_6) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_8) : __pyx_t_6;
  __pyx_t_5 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_8);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_8);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_t_8);
  __pyx_t_8 = 0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_is_downloading);
  __pyx_t_5 += 17;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_is_downloading);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 2, __pyx_kp_u_is_downloading);
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_3, 3, __pyx_t_5, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1558, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_t_8};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1558, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_print, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1558, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1559</span>:                           " is downloading. "))</pre>
<pre class="cython line score-80" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1560</span>:     with requests.get(url, stream=True) as r:</pre>
<pre class='cython code score-80 '>  <span class='trace'>__Pyx_TraceLine</span>(1560,0,<span class='error_goto'>__PYX_ERR(0, 1560, __pyx_L1_error)</span>)
  /*with:*/ {
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_requests, __pyx_n_s_get);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1560, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1560, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_url);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_url);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_url)) <span class='error_goto'>__PYX_ERR(0, 1560, __pyx_L1_error)</span>;
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1560, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_8, __pyx_n_s_stream, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1560, __pyx_L1_error)</span>
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_1, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1560, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_3, __pyx_n_s_exit);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1560, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_3, __pyx_n_s_enter);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1560, __pyx_L3_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_2 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_2, NULL};
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_8)) <span class='error_goto'>__PYX_ERR(0, 1560, __pyx_L3_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_t_1 = __pyx_t_8;
    __pyx_t_8 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    /*try:*/ {
      {
        /*try:*/ {
          __pyx_v_r = __pyx_t_1;
          __pyx_t_1 = 0;
/* â€¦ */
        }
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
        goto __pyx_L12_try_end;
        __pyx_L7_error:;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        /*except:*/ {
          <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.download_file", __pyx_clineno, __pyx_lineno, __pyx_filename);
          if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_8, &amp;__pyx_t_1, &amp;__pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1560, __pyx_L9_except_error)</span>
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_8);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
          __pyx_t_2 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_t_8, __pyx_t_1, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1560, __pyx_L9_except_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          __pyx_t_14 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_10, __pyx_t_2, NULL);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          if (unlikely(!__pyx_t_14)) <span class='error_goto'>__PYX_ERR(0, 1560, __pyx_L9_except_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_14);
          __pyx_t_21 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_14);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
          if (__pyx_t_21 &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1560, __pyx_L9_except_error)</span>
          __pyx_t_20 = (!__pyx_t_21);
          if (unlikely(__pyx_t_20)) {
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_8);
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_3);
            <span class='pyx_c_api'>__Pyx_ErrRestoreWithState</span>(__pyx_t_8, __pyx_t_1, __pyx_t_3);
            __pyx_t_8 = 0; __pyx_t_1 = 0; __pyx_t_3 = 0; 
            <span class='error_goto'>__PYX_ERR(0, 1560, __pyx_L9_except_error)</span>
          }
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          goto __pyx_L8_exception_handled;
        }
        __pyx_L9_except_error:;
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
        <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_11, __pyx_t_12, __pyx_t_13);
        goto __pyx_L1_error;
        __pyx_L8_exception_handled:;
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
        <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_11, __pyx_t_12, __pyx_t_13);
        __pyx_L12_try_end:;
      }
    }
    /*finally:*/ {
      /*normal exit:*/{
        if (__pyx_t_10) {
          __pyx_t_13 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_10, __pyx_tuple__51, NULL);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
          if (unlikely(!__pyx_t_13)) <span class='error_goto'>__PYX_ERR(0, 1560, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_13);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
        }
        goto __pyx_L6;
      }
      __pyx_L6:;
    }
    goto __pyx_L33;
    __pyx_L3_error:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    goto __pyx_L1_error;
    __pyx_L33:;
  }
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1561</span>:         r.raise_for_status()</pre>
<pre class='cython code score-17 '>          <span class='trace'>__Pyx_TraceLine</span>(1561,0,<span class='error_goto'>__PYX_ERR(0, 1561, __pyx_L7_error)</span>)
          __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_r, __pyx_n_s_raise_for_status);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1561, __pyx_L7_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          __pyx_t_8 = NULL;
          __pyx_t_4 = 0;
          #if CYTHON_UNPACK_METHODS
          if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
            __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
            if (likely(__pyx_t_8)) {
              PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
              <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
              __pyx_t_4 = 1;
            }
          }
          #endif
          {
            PyObject *__pyx_callargs[2] = {__pyx_t_8, NULL};
            __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
            if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1561, __pyx_L7_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          }
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-72" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1562</span>:         with open(local_filename, 'wb') as f:</pre>
<pre class='cython code score-72 '>          <span class='trace'>__Pyx_TraceLine</span>(1562,0,<span class='error_goto'>__PYX_ERR(0, 1562, __pyx_L7_error)</span>)
          /*with:*/ {
            __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1562, __pyx_L7_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_local_filename);
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_local_filename);
            if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_local_filename)) <span class='error_goto'>__PYX_ERR(0, 1562, __pyx_L7_error)</span>;
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_wb);
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_wb);
            if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_n_u_wb)) <span class='error_goto'>__PYX_ERR(0, 1562, __pyx_L7_error)</span>;
            __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_open, __pyx_t_1, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1562, __pyx_L7_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
            __pyx_t_14 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_3, __pyx_n_s_exit);<span class='error_goto'> if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 1562, __pyx_L7_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_14);
            __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_3, __pyx_n_s_enter);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1562, __pyx_L13_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
            __pyx_t_2 = NULL;
            __pyx_t_4 = 0;
            #if CYTHON_UNPACK_METHODS
            if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_8))) {
              __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_8);
              if (likely(__pyx_t_2)) {
                PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_8);
                <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
                <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
                <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_8, function);
                __pyx_t_4 = 1;
              }
            }
            #endif
            {
              PyObject *__pyx_callargs[2] = {__pyx_t_2, NULL};
              __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_8, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
              if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1562, __pyx_L13_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
            }
            __pyx_t_8 = __pyx_t_1;
            __pyx_t_1 = 0;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
            /*try:*/ {
              {
                /*try:*/ {
                  __pyx_v_f = __pyx_t_8;
                  __pyx_t_8 = 0;
/* â€¦ */
                }
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_16); __pyx_t_16 = 0;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_17); __pyx_t_17 = 0;
                goto __pyx_L22_try_end;
                __pyx_L17_error:;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
                /*except:*/ {
                  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.download_file", __pyx_clineno, __pyx_lineno, __pyx_filename);
                  if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_3, &amp;__pyx_t_1, &amp;__pyx_t_8) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1562, __pyx_L19_except_error)</span>
                  <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
                  <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
                  <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_8);
                  __pyx_t_2 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_t_3, __pyx_t_1, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1562, __pyx_L19_except_error)</span>
                  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
                  __pyx_t_19 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_14, __pyx_t_2, NULL);
                  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
                  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
                  if (unlikely(!__pyx_t_19)) <span class='error_goto'>__PYX_ERR(0, 1562, __pyx_L19_except_error)</span>
                  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_19);
                  __pyx_t_20 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_19);
                  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_19); __pyx_t_19 = 0;
                  if (__pyx_t_20 &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1562, __pyx_L19_except_error)</span>
                  __pyx_t_21 = (!__pyx_t_20);
                  if (unlikely(__pyx_t_21)) {
                    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
                    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
                    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_8);
                    <span class='pyx_c_api'>__Pyx_ErrRestoreWithState</span>(__pyx_t_3, __pyx_t_1, __pyx_t_8);
                    __pyx_t_3 = 0; __pyx_t_1 = 0; __pyx_t_8 = 0; 
                    <span class='error_goto'>__PYX_ERR(0, 1562, __pyx_L19_except_error)</span>
                  }
                  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
                  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
                  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
                  goto __pyx_L18_exception_handled;
                }
                __pyx_L19_except_error:;
                <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_15);
                <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_16);
                <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_17);
                <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_15, __pyx_t_16, __pyx_t_17);
                goto __pyx_L7_error;
                __pyx_L18_exception_handled:;
                <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_15);
                <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_16);
                <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_17);
                <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_15, __pyx_t_16, __pyx_t_17);
                __pyx_L22_try_end:;
              }
            }
            /*finally:*/ {
              /*normal exit:*/{
                if (__pyx_t_14) {
                  __pyx_t_17 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_14, __pyx_tuple__51, NULL);
                  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
                  if (unlikely(!__pyx_t_17)) <span class='error_goto'>__PYX_ERR(0, 1562, __pyx_L7_error)</span>
                  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_17);
                  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_17); __pyx_t_17 = 0;
                }
                goto __pyx_L16;
              }
              __pyx_L16:;
            }
            goto __pyx_L29;
            __pyx_L13_error:;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
            goto __pyx_L7_error;
            __pyx_L29:;
          }
</pre><pre class="cython line score-63" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1563</span>:             for chunk in r.iter_content(chunk_size=8192):</pre>
<pre class='cython code score-63 '>                  <span class='trace'>__Pyx_TraceLine</span>(1563,0,<span class='error_goto'>__PYX_ERR(0, 1563, __pyx_L17_error)</span>)
                  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_r, __pyx_n_s_iter_content);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1563, __pyx_L17_error)</span>
                  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
                  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1563, __pyx_L17_error)</span>
                  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
                  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_chunk_size, __pyx_int_8192) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1563, __pyx_L17_error)</span>
                  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_8, __pyx_empty_tuple, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1563, __pyx_L17_error)</span>
                  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
                  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
                  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
                  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_1)) {
                    __pyx_t_3 = __pyx_t_1; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
                    __pyx_t_5 = 0;
                    __pyx_t_18 = NULL;
                  } else {
                    __pyx_t_5 = -1; __pyx_t_3 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1563, __pyx_L17_error)</span>
                    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
                    __pyx_t_18 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1563, __pyx_L17_error)</span>
                  }
                  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
                  for (;;) {
                    if (likely(!__pyx_t_18)) {
                      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_3))) {
                        {
                          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_3);
                          #if !CYTHON_ASSUME_SAFE_MACROS
                          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1563, __pyx_L17_error)</span>
                          #endif
                          if (__pyx_t_5 &gt;= __pyx_temp) break;
                        }
                        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
                        __pyx_t_1 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_3, __pyx_t_5); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1); __pyx_t_5++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1563, __pyx_L17_error)</span>
                        #else
                        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_3, __pyx_t_5); __pyx_t_5++;<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1563, __pyx_L17_error)</span>
                        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
                        #endif
                      } else {
                        {
                          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_3);
                          #if !CYTHON_ASSUME_SAFE_MACROS
                          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1563, __pyx_L17_error)</span>
                          #endif
                          if (__pyx_t_5 &gt;= __pyx_temp) break;
                        }
                        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
                        __pyx_t_1 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_3, __pyx_t_5); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1); __pyx_t_5++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1563, __pyx_L17_error)</span>
                        #else
                        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_3, __pyx_t_5); __pyx_t_5++;<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1563, __pyx_L17_error)</span>
                        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
                        #endif
                      }
                    } else {
                      __pyx_t_1 = __pyx_t_18(__pyx_t_3);
                      if (unlikely(!__pyx_t_1)) {
                        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
                        if (exc_type) {
                          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
                          else <span class='error_goto'>__PYX_ERR(0, 1563, __pyx_L17_error)</span>
                        }
                        break;
                      }
                      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
                    }
                    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_chunk, __pyx_t_1);
                    __pyx_t_1 = 0;
/* â€¦ */
                    <span class='trace'>__Pyx_TraceLine</span>(1563,0,<span class='error_goto'>__PYX_ERR(0, 1563, __pyx_L17_error)</span>)
                  }
                  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1564</span>:                 f.write(chunk)</pre>
<pre class='cython code score-17 '>                    <span class='trace'>__Pyx_TraceLine</span>(1564,0,<span class='error_goto'>__PYX_ERR(0, 1564, __pyx_L17_error)</span>)
                    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_f, __pyx_n_s_write);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1564, __pyx_L17_error)</span>
                    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
                    __pyx_t_2 = NULL;
                    __pyx_t_4 = 0;
                    #if CYTHON_UNPACK_METHODS
                    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_8))) {
                      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_8);
                      if (likely(__pyx_t_2)) {
                        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_8);
                        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
                        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
                        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_8, function);
                        __pyx_t_4 = 1;
                      }
                    }
                    #endif
                    {
                      PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_chunk};
                      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_8, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
                      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
                      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1564, __pyx_L17_error)</span>
                      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
                      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
                    }
                    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-43" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1565</span>:     local_filename = os.path.join( os.getcwd(), local_filename)</pre>
<pre class='cython code score-43 '>  <span class='trace'>__Pyx_TraceLine</span>(1565,0,<span class='error_goto'>__PYX_ERR(0, 1565, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1565, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1565, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_8, __pyx_n_s_join);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1565, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1565, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_getcwd);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1565, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_2, NULL};
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_8)) <span class='error_goto'>__PYX_ERR(0, 1565, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  }
  __pyx_t_7 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_7)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_7, __pyx_t_8, __pyx_v_local_filename};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1565, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_local_filename, __pyx_t_3);
  __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1566</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1567</span>:     if dstpath:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1567,0,<span class='error_goto'>__PYX_ERR(0, 1567, __pyx_L1_error)</span>)
  __pyx_t_20 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_dstpath); if (unlikely((__pyx_t_20 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1567, __pyx_L1_error)</span>
  if (__pyx_t_20) {
/* â€¦ */
  }
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1568</span>:          move_file ( local_filename,  dstpath)</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(1568,0,<span class='error_goto'>__PYX_ERR(0, 1568, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_move_file);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1568, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_8 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_8)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_8, __pyx_v_local_filename, __pyx_v_dstpath};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1568, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1569</span>: </pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1570</span>:     print("{:-^70}".format(" ok! "))</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(1570,0,<span class='error_goto'>__PYX_ERR(0, 1570, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_kp_u_70, __pyx_n_s_format);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1570, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_8 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_8)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_8, __pyx_kp_u_ok};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1570, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_print, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1570, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1571</span>: </pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1572</span>:     return None if dstpath else local_filename</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(1572,0,<span class='error_goto'>__PYX_ERR(0, 1572, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_20 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_dstpath); if (unlikely((__pyx_t_20 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1572, __pyx_L1_error)</span>
  if (__pyx_t_20) {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    __pyx_t_1 = Py_None;
  } else {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_local_filename);
    __pyx_t_1 = __pyx_v_local_filename;
  }
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1573</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1574</span>: </pre>
<pre class="cython line score-98" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1575</span>: def fancier_downloader(url, local_filename, dstpath =None ):</pre>
<pre class='cython code score-98 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_46fancier_downloader(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_45fancier_downloader, " Download remote file with a bar progression. \n    \n    Parameters \n    -----------\n    url: str, \n      Url to where the file is stored. \n    loadl_filename: str,\n      Name of the local file \n      \n    dstpath: Optional \n      The destination path to save the downloaded file. \n      \n    Return \n    --------\n    None, local_filename\n       None if the `dstpath` is supplied and `local_filename` otherwise. \n    Example\n    --------\n    &gt;&gt;&gt; from gofast.tools.baseutils import fancier_downloader\n    &gt;&gt;&gt; url = 'https://raw.githubusercontent.com/WEgeophysics/gofast/master/gofast/datasets/data/h.h5'\n    &gt;&gt;&gt; local_filename = 'h.h5'\n    &gt;&gt;&gt; download_file(url, local_filename)\n\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_46fancier_downloader = {"fancier_downloader", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_46fancier_downloader, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_45fancier_downloader};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_46fancier_downloader(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_url = 0;
  PyObject *__pyx_v_local_filename = 0;
  PyObject *__pyx_v_dstpath = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("fancier_downloader (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_url,&amp;__pyx_n_s_local_filename,&amp;__pyx_n_s_dstpath,0};
  PyObject* values[3] = {0,0,0};
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_url)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1575, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_local_filename)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1575, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("fancier_downloader", 0, 2, 3, 1); <span class='error_goto'>__PYX_ERR(0, 1575, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_dstpath);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1575, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "fancier_downloader") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1575, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_url = values[0];
    __pyx_v_local_filename = values[1];
    __pyx_v_dstpath = values[2];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("fancier_downloader", 0, 2, 3, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1575, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.fancier_downloader", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_45fancier_downloader(__pyx_self, __pyx_v_url, __pyx_v_local_filename, __pyx_v_dstpath);

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_45fancier_downloader(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_url, PyObject *__pyx_v_local_filename, PyObject *__pyx_v_dstpath) {
  PyObject *__pyx_v_requests = NULL;
  PyObject *__pyx_v_tqdm = NULL;
  PyObject *__pyx_v_r = NULL;
  PyObject *__pyx_v_total_size_in_bytes = NULL;
  long __pyx_v_block_size;
  PyObject *__pyx_v_progress_bar = NULL;
  PyObject *__pyx_v_f = NULL;
  PyObject *__pyx_v_data = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__58)
  <span class='trace'>__Pyx_TraceCall</span>("fancier_downloader", __pyx_f[0], 1575, 0, <span class='error_goto'>__PYX_ERR(0, 1575, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_local_filename);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.fancier_downloader", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_requests);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_tqdm);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_r);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_total_size_in_bytes);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_progress_bar);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_f);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_data);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_local_filename);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__177 = <span class='py_c_api'>PyTuple_Pack</span>(11, __pyx_n_s_url, __pyx_n_s_local_filename, __pyx_n_s_dstpath, __pyx_n_s_requests, __pyx_n_s_tqdm, __pyx_n_s_r, __pyx_n_s_total_size_in_bytes, __pyx_n_s_block_size, __pyx_n_s_progress_bar, __pyx_n_s_f, __pyx_n_s_data);<span class='error_goto'> if (unlikely(!__pyx_tuple__177)) __PYX_ERR(0, 1575, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__177);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__177);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1575,0,<span class='error_goto'>__PYX_ERR(0, 1575, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_46fancier_downloader, 0, __pyx_n_s_fancier_downloader, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__58));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1575, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_2, __pyx_tuple__146);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_fancier_downloader, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1575, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_codeobj__58 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(3, 0, 0, 11, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__177, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_fancier_downloader, 1575, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__58)) __PYX_ERR(0, 1575, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">1576</span>:     """ Download remote file with a bar progression.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1577</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1578</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">1579</span>:     -----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1580</span>:     url: str,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1581</span>:       Url to where the file is stored.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1582</span>:     loadl_filename: str,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1583</span>:       Name of the local file</pre>
<pre class="cython line score-0">&#xA0;<span class="">1584</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1585</span>:     dstpath: Optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1586</span>:       The destination path to save the downloaded file.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1587</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1588</span>:     Return</pre>
<pre class="cython line score-0">&#xA0;<span class="">1589</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1590</span>:     None, local_filename</pre>
<pre class="cython line score-0">&#xA0;<span class="">1591</span>:        None if the `dstpath` is supplied and `local_filename` otherwise.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1592</span>:     Example</pre>
<pre class="cython line score-0">&#xA0;<span class="">1593</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1594</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import fancier_downloader</pre>
<pre class="cython line score-0">&#xA0;<span class="">1595</span>:     &gt;&gt;&gt; url = 'https://raw.githubusercontent.com/WEgeophysics/gofast/master/gofast/datasets/data/h.h5'</pre>
<pre class="cython line score-0">&#xA0;<span class="">1596</span>:     &gt;&gt;&gt; local_filename = 'h.h5'</pre>
<pre class="cython line score-0">&#xA0;<span class="">1597</span>:     &gt;&gt;&gt; download_file(url, local_filename)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1598</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1599</span>:     """</pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1600</span>:     import_optional_dependency("requests")</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(1600,0,<span class='error_goto'>__PYX_ERR(0, 1600, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_import_optional_dependency);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1600, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_n_u_requests};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1600, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1601</span>:     import requests</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1601,0,<span class='error_goto'>__PYX_ERR(0, 1601, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_requests, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1601, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_requests = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1602</span>:     try :</pre>
<pre class='cython code score-10 '>  <span class='trace'>__Pyx_TraceLine</span>(1602,0,<span class='error_goto'>__PYX_ERR(0, 1602, __pyx_L1_error)</span>)
  {
    /*try:*/ {
/* â€¦ */
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    goto __pyx_L8_try_end;
    __pyx_L3_error:;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
/* â€¦ */
    __pyx_L5_except_error:;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_5);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_6);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_7);
    <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_5, __pyx_t_6, __pyx_t_7);
    goto __pyx_L1_error;
    __pyx_L6_except_return:;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_5);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_6);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_7);
    <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_5, __pyx_t_6, __pyx_t_7);
    goto __pyx_L0;
    __pyx_L8_try_end:;
  }
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1603</span>:         from tqdm import tqdm</pre>
<pre class='cython code score-16 '>      <span class='trace'>__Pyx_TraceLine</span>(1603,0,<span class='error_goto'>__PYX_ERR(0, 1603, __pyx_L3_error)</span>)
      __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1603, __pyx_L3_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_tqdm);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_tqdm);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_n_s_tqdm)) <span class='error_goto'>__PYX_ERR(0, 1603, __pyx_L3_error)</span>;
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_tqdm, __pyx_t_1, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1603, __pyx_L3_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_tqdm);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1603, __pyx_L3_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      __pyx_v_tqdm = __pyx_t_1;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1604</span>:     except:</pre>
<pre class='cython code score-4 '>    <span class='trace'>__Pyx_TraceLine</span>(1604,0,<span class='error_goto'>__PYX_ERR(0, 1604, __pyx_L5_except_error)</span>)
    /*except:*/ {
      <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.fancier_downloader", __pyx_clineno, __pyx_lineno, __pyx_filename);
      if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_2, &amp;__pyx_t_1, &amp;__pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1604, __pyx_L5_except_error)</span>
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_2);
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
</pre><pre class="cython line score-0">&#xA0;<span class="">1605</span>:         # if tqm is not install</pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1606</span>:         return download_file (url, local_filename, dstpath  )</pre>
<pre class='cython code score-20 '>      <span class='trace'>__Pyx_TraceLine</span>(1606,0,<span class='error_goto'>__PYX_ERR(0, 1606, __pyx_L5_except_error)</span>)
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_9, __pyx_n_s_download_file);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1606, __pyx_L5_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_t_10 = NULL;
      __pyx_t_4 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
        __pyx_t_10 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
        if (likely(__pyx_t_10)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_10);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
          __pyx_t_4 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[4] = {__pyx_t_10, __pyx_v_url, __pyx_v_local_filename, __pyx_v_dstpath};
        __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_4, 3+__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
        if (unlikely(!__pyx_t_8)) <span class='error_goto'>__PYX_ERR(0, 1606, __pyx_L5_except_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      }
      __pyx_r = __pyx_t_8;
      __pyx_t_8 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      goto __pyx_L6_except_return;
    }
</pre><pre class="cython line score-0">&#xA0;<span class="">1607</span>: </pre>
<pre class="cython line score-80" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1608</span>:     with requests.get(url, stream=True) as r:</pre>
<pre class='cython code score-80 '>  <span class='trace'>__Pyx_TraceLine</span>(1608,0,<span class='error_goto'>__PYX_ERR(0, 1608, __pyx_L1_error)</span>)
  /*with:*/ {
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_requests, __pyx_n_s_get);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1608, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1608, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_url);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_url);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_url)) <span class='error_goto'>__PYX_ERR(0, 1608, __pyx_L1_error)</span>;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1608, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_stream, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1608, __pyx_L1_error)</span>
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_1, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1608, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_8, __pyx_n_s_exit);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1608, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_8, __pyx_n_s_enter);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1608, __pyx_L11_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1608, __pyx_L11_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_t_1 = __pyx_t_2;
    __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    /*try:*/ {
      {
        /*try:*/ {
          __pyx_v_r = __pyx_t_1;
          __pyx_t_1 = 0;
/* â€¦ */
        }
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
        goto __pyx_L20_try_end;
        __pyx_L15_error:;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        /*except:*/ {
          <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.fancier_downloader", __pyx_clineno, __pyx_lineno, __pyx_filename);
          if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_1, &amp;__pyx_t_2, &amp;__pyx_t_8) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1608, __pyx_L17_except_error)</span>
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_2);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_8);
          __pyx_t_3 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_t_1, __pyx_t_2, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1608, __pyx_L17_except_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_7, __pyx_t_3, NULL);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          if (unlikely(!__pyx_t_12)) <span class='error_goto'>__PYX_ERR(0, 1608, __pyx_L17_except_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
          __pyx_t_21 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_12);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
          if (__pyx_t_21 &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1608, __pyx_L17_except_error)</span>
          __pyx_t_20 = (!__pyx_t_21);
          if (unlikely(__pyx_t_20)) {
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_8);
            <span class='pyx_c_api'>__Pyx_ErrRestoreWithState</span>(__pyx_t_1, __pyx_t_2, __pyx_t_8);
            __pyx_t_1 = 0; __pyx_t_2 = 0; __pyx_t_8 = 0; 
            <span class='error_goto'>__PYX_ERR(0, 1608, __pyx_L17_except_error)</span>
          }
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
          goto __pyx_L16_exception_handled;
        }
        __pyx_L17_except_error:;
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_6);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_5);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
        <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_6, __pyx_t_5, __pyx_t_11);
        goto __pyx_L1_error;
        __pyx_L16_exception_handled:;
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_6);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_5);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
        <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_6, __pyx_t_5, __pyx_t_11);
        __pyx_L20_try_end:;
      }
    }
    /*finally:*/ {
      /*normal exit:*/{
        if (__pyx_t_7) {
          __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_7, __pyx_tuple__51, NULL);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
          if (unlikely(!__pyx_t_11)) <span class='error_goto'>__PYX_ERR(0, 1608, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
        }
        goto __pyx_L14;
      }
      __pyx_L14:;
    }
    goto __pyx_L41;
    __pyx_L11_error:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    goto __pyx_L1_error;
    __pyx_L41:;
  }
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1609</span>:         r.raise_for_status()</pre>
<pre class='cython code score-17 '>          <span class='trace'>__Pyx_TraceLine</span>(1609,0,<span class='error_goto'>__PYX_ERR(0, 1609, __pyx_L15_error)</span>)
          __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_r, __pyx_n_s_raise_for_status);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1609, __pyx_L15_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
          __pyx_t_2 = NULL;
          __pyx_t_4 = 0;
          #if CYTHON_UNPACK_METHODS
          if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_8))) {
            __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_8);
            if (likely(__pyx_t_2)) {
              PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_8);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
              <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_8, function);
              __pyx_t_4 = 1;
            }
          }
          #endif
          {
            PyObject *__pyx_callargs[2] = {__pyx_t_2, NULL};
            __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_8, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
            if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1609, __pyx_L15_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
          }
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1610</span>:         # Get the total file size from header</pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1611</span>:         total_size_in_bytes = int(r.headers.get('content-length', 0))</pre>
<pre class='cython code score-16 '>          <span class='trace'>__Pyx_TraceLine</span>(1611,0,<span class='error_goto'>__PYX_ERR(0, 1611, __pyx_L15_error)</span>)
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_r, __pyx_n_s_headers);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1611, __pyx_L15_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_get);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1611, __pyx_L15_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_8, __pyx_tuple__59, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1611, __pyx_L15_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
          __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyNumber_Int</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1611, __pyx_L15_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          __pyx_v_total_size_in_bytes = __pyx_t_8;
          __pyx_t_8 = 0;
/* â€¦ */
  __pyx_tuple__59 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_kp_u_content_length, __pyx_int_0);<span class='error_goto'> if (unlikely(!__pyx_tuple__59)) __PYX_ERR(0, 1611, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__59);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__59);
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1612</span>:         block_size = 1024 # 1 Kibibyte</pre>
<pre class='cython code score-0 '>          <span class='trace'>__Pyx_TraceLine</span>(1612,0,<span class='error_goto'>__PYX_ERR(0, 1612, __pyx_L15_error)</span>)
          __pyx_v_block_size = 0x400;
</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1613</span>:         progress_bar = tqdm(total=total_size_in_bytes, unit='iB',</pre>
<pre class='cython code score-15 '>          <span class='trace'>__Pyx_TraceLine</span>(1613,0,<span class='error_goto'>__PYX_ERR(0, 1613, __pyx_L15_error)</span>)
          __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1613, __pyx_L15_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
          if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_8, __pyx_n_s_total, __pyx_v_total_size_in_bytes) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1613, __pyx_L15_error)</span>
          if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_8, __pyx_n_s_unit, __pyx_n_u_iB) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1613, __pyx_L15_error)</span>
/* â€¦ */
          <span class='trace'>__Pyx_TraceLine</span>(1613,0,<span class='error_goto'>__PYX_ERR(0, 1613, __pyx_L15_error)</span>)
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_v_tqdm, __pyx_empty_tuple, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1613, __pyx_L15_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
          __pyx_v_progress_bar = __pyx_t_1;
          __pyx_t_1 = 0;
</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1614</span>:                             unit_scale=True, ncols=77, ascii=True)</pre>
<pre class='cython code score-15 '>          <span class='trace'>__Pyx_TraceLine</span>(1614,0,<span class='error_goto'>__PYX_ERR(0, 1614, __pyx_L15_error)</span>)
          if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_8, __pyx_n_s_unit_scale, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1613, __pyx_L15_error)</span>
          if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_8, __pyx_n_s_ncols, __pyx_int_77) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1613, __pyx_L15_error)</span>
          if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_8, __pyx_n_s_ascii, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1613, __pyx_L15_error)</span>
</pre><pre class="cython line score-72" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1615</span>:         with open(local_filename, 'wb') as f:</pre>
<pre class='cython code score-72 '>          <span class='trace'>__Pyx_TraceLine</span>(1615,0,<span class='error_goto'>__PYX_ERR(0, 1615, __pyx_L15_error)</span>)
          /*with:*/ {
            __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1615, __pyx_L15_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_local_filename);
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_local_filename);
            if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_local_filename)) <span class='error_goto'>__PYX_ERR(0, 1615, __pyx_L15_error)</span>;
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_wb);
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_wb);
            if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_n_u_wb)) <span class='error_goto'>__PYX_ERR(0, 1615, __pyx_L15_error)</span>;
            __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_open, __pyx_t_1, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1615, __pyx_L15_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
            __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_8, __pyx_n_s_exit);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1615, __pyx_L15_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
            __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_8, __pyx_n_s_enter);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1615, __pyx_L21_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
            __pyx_t_3 = NULL;
            __pyx_t_4 = 0;
            #if CYTHON_UNPACK_METHODS
            if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
              __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
              if (likely(__pyx_t_3)) {
                PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
                <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
                <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
                <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
                __pyx_t_4 = 1;
              }
            }
            #endif
            {
              PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
              __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
              if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1615, __pyx_L21_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
            }
            __pyx_t_2 = __pyx_t_1;
            __pyx_t_1 = 0;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
            /*try:*/ {
              {
                /*try:*/ {
                  __pyx_v_f = __pyx_t_2;
                  __pyx_t_2 = 0;
/* â€¦ */
                }
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
                goto __pyx_L30_try_end;
                __pyx_L25_error:;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
                /*except:*/ {
                  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.fancier_downloader", __pyx_clineno, __pyx_lineno, __pyx_filename);
                  if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_8, &amp;__pyx_t_2, &amp;__pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1615, __pyx_L27_except_error)</span>
                  <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_8);
                  <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_2);
                  <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
                  __pyx_t_3 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_t_8, __pyx_t_2, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1615, __pyx_L27_except_error)</span>
                  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
                  __pyx_t_19 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_12, __pyx_t_3, NULL);
                  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
                  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
                  if (unlikely(!__pyx_t_19)) <span class='error_goto'>__PYX_ERR(0, 1615, __pyx_L27_except_error)</span>
                  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_19);
                  __pyx_t_20 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_19);
                  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_19); __pyx_t_19 = 0;
                  if (__pyx_t_20 &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1615, __pyx_L27_except_error)</span>
                  __pyx_t_21 = (!__pyx_t_20);
                  if (unlikely(__pyx_t_21)) {
                    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_8);
                    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
                    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_1);
                    <span class='pyx_c_api'>__Pyx_ErrRestoreWithState</span>(__pyx_t_8, __pyx_t_2, __pyx_t_1);
                    __pyx_t_8 = 0; __pyx_t_2 = 0; __pyx_t_1 = 0; 
                    <span class='error_goto'>__PYX_ERR(0, 1615, __pyx_L27_except_error)</span>
                  }
                  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
                  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
                  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
                  goto __pyx_L26_exception_handled;
                }
                __pyx_L27_except_error:;
                <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
                <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_14);
                <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_15);
                <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_13, __pyx_t_14, __pyx_t_15);
                goto __pyx_L15_error;
                __pyx_L26_exception_handled:;
                <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
                <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_14);
                <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_15);
                <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_13, __pyx_t_14, __pyx_t_15);
                __pyx_L30_try_end:;
              }
            }
            /*finally:*/ {
              /*normal exit:*/{
                if (__pyx_t_12) {
                  __pyx_t_15 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_12, __pyx_tuple__51, NULL);
                  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
                  if (unlikely(!__pyx_t_15)) <span class='error_goto'>__PYX_ERR(0, 1615, __pyx_L15_error)</span>
                  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_15);
                  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
                }
                goto __pyx_L24;
              }
              __pyx_L24:;
            }
            goto __pyx_L37;
            __pyx_L21_error:;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
            goto __pyx_L15_error;
            __pyx_L37:;
          }
</pre><pre class="cython line score-69" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1616</span>:             for data in r.iter_content(block_size):</pre>
<pre class='cython code score-69 '>                  <span class='trace'>__Pyx_TraceLine</span>(1616,0,<span class='error_goto'>__PYX_ERR(0, 1616, __pyx_L25_error)</span>)
                  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_r, __pyx_n_s_iter_content);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1616, __pyx_L25_error)</span>
                  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
                  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyInt_From_long</span>(__pyx_v_block_size);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1616, __pyx_L25_error)</span>
                  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
                  __pyx_t_3 = NULL;
                  __pyx_t_4 = 0;
                  #if CYTHON_UNPACK_METHODS
                  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_8))) {
                    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_8);
                    if (likely(__pyx_t_3)) {
                      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_8);
                      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
                      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
                      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_8, function);
                      __pyx_t_4 = 1;
                    }
                  }
                  #endif
                  {
                    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_t_1};
                    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_8, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
                    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
                    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
                    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1616, __pyx_L25_error)</span>
                    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
                    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
                  }
                  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_2)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_2)) {
                    __pyx_t_8 = __pyx_t_2; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
                    __pyx_t_16 = 0;
                    __pyx_t_17 = NULL;
                  } else {
                    __pyx_t_16 = -1; __pyx_t_8 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1616, __pyx_L25_error)</span>
                    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
                    __pyx_t_17 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_17)) __PYX_ERR(0, 1616, __pyx_L25_error)</span>
                  }
                  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
                  for (;;) {
                    if (likely(!__pyx_t_17)) {
                      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_8))) {
                        {
                          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_8);
                          #if !CYTHON_ASSUME_SAFE_MACROS
                          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1616, __pyx_L25_error)</span>
                          #endif
                          if (__pyx_t_16 &gt;= __pyx_temp) break;
                        }
                        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
                        __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_8, __pyx_t_16); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_16++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1616, __pyx_L25_error)</span>
                        #else
                        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_8, __pyx_t_16); __pyx_t_16++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1616, __pyx_L25_error)</span>
                        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
                        #endif
                      } else {
                        {
                          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_8);
                          #if !CYTHON_ASSUME_SAFE_MACROS
                          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1616, __pyx_L25_error)</span>
                          #endif
                          if (__pyx_t_16 &gt;= __pyx_temp) break;
                        }
                        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
                        __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_8, __pyx_t_16); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_16++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1616, __pyx_L25_error)</span>
                        #else
                        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_8, __pyx_t_16); __pyx_t_16++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1616, __pyx_L25_error)</span>
                        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
                        #endif
                      }
                    } else {
                      __pyx_t_2 = __pyx_t_17(__pyx_t_8);
                      if (unlikely(!__pyx_t_2)) {
                        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
                        if (exc_type) {
                          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
                          else <span class='error_goto'>__PYX_ERR(0, 1616, __pyx_L25_error)</span>
                        }
                        break;
                      }
                      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
                    }
                    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_data, __pyx_t_2);
                    __pyx_t_2 = 0;
/* â€¦ */
                    <span class='trace'>__Pyx_TraceLine</span>(1616,0,<span class='error_goto'>__PYX_ERR(0, 1616, __pyx_L25_error)</span>)
                  }
                  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
</pre><pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1617</span>:                 progress_bar.update(len(data))</pre>
<pre class='cython code score-28 '>                    <span class='trace'>__Pyx_TraceLine</span>(1617,0,<span class='error_goto'>__PYX_ERR(0, 1617, __pyx_L25_error)</span>)
                    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_progress_bar, __pyx_n_s_update);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1617, __pyx_L25_error)</span>
                    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
                    __pyx_t_18 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_data);<span class='error_goto'> if (unlikely(__pyx_t_18 == ((Py_ssize_t)-1))) __PYX_ERR(0, 1617, __pyx_L25_error)</span>
                    __pyx_t_3 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_18);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1617, __pyx_L25_error)</span>
                    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
                    __pyx_t_9 = NULL;
                    __pyx_t_4 = 0;
                    #if CYTHON_UNPACK_METHODS
                    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
                      __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
                      if (likely(__pyx_t_9)) {
                        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
                        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
                        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
                        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
                        __pyx_t_4 = 1;
                      }
                    }
                    #endif
                    {
                      PyObject *__pyx_callargs[2] = {__pyx_t_9, __pyx_t_3};
                      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
                      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
                      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
                      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1617, __pyx_L25_error)</span>
                      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
                      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
                    }
                    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1618</span>:                 f.write(data)</pre>
<pre class='cython code score-17 '>                    <span class='trace'>__Pyx_TraceLine</span>(1618,0,<span class='error_goto'>__PYX_ERR(0, 1618, __pyx_L25_error)</span>)
                    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_f, __pyx_n_s_write);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1618, __pyx_L25_error)</span>
                    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
                    __pyx_t_3 = NULL;
                    __pyx_t_4 = 0;
                    #if CYTHON_UNPACK_METHODS
                    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
                      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
                      if (likely(__pyx_t_3)) {
                        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
                        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
                        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
                        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
                        __pyx_t_4 = 1;
                      }
                    }
                    #endif
                    {
                      PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_data};
                      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
                      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
                      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1618, __pyx_L25_error)</span>
                      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
                      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
                    }
                    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1619</span>:         progress_bar.close()</pre>
<pre class='cython code score-17 '>          <span class='trace'>__Pyx_TraceLine</span>(1619,0,<span class='error_goto'>__PYX_ERR(0, 1619, __pyx_L15_error)</span>)
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_progress_bar, __pyx_n_s_close);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1619, __pyx_L15_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          __pyx_t_8 = NULL;
          __pyx_t_4 = 0;
          #if CYTHON_UNPACK_METHODS
          if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
            __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
            if (likely(__pyx_t_8)) {
              PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
              <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
              __pyx_t_4 = 1;
            }
          }
          #endif
          {
            PyObject *__pyx_callargs[2] = {__pyx_t_8, NULL};
            __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
            if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1619, __pyx_L15_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          }
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1620</span>: </pre>
<pre class="cython line score-43" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1621</span>:     local_filename = os.path.join( os.getcwd(), local_filename)</pre>
<pre class='cython code score-43 '>  <span class='trace'>__Pyx_TraceLine</span>(1621,0,<span class='error_goto'>__PYX_ERR(0, 1621, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1621, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1621, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_join);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1621, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1621, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_getcwd);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1621, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1621, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
  }
  __pyx_t_9 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_9)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_9, __pyx_t_1, __pyx_v_local_filename};
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(!__pyx_t_8)) <span class='error_goto'>__PYX_ERR(0, 1621, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_local_filename, __pyx_t_8);
  __pyx_t_8 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1622</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1623</span>:     if dstpath:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1623,0,<span class='error_goto'>__PYX_ERR(0, 1623, __pyx_L1_error)</span>)
  __pyx_t_20 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_dstpath); if (unlikely((__pyx_t_20 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1623, __pyx_L1_error)</span>
  if (__pyx_t_20) {
/* â€¦ */
  }
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1624</span>:          move_file ( local_filename,  dstpath)</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(1624,0,<span class='error_goto'>__PYX_ERR(0, 1624, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_move_file);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1624, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_1 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_1, __pyx_v_local_filename, __pyx_v_dstpath};
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_8)) <span class='error_goto'>__PYX_ERR(0, 1624, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1625</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1626</span>:     return local_filename</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1626,0,<span class='error_goto'>__PYX_ERR(0, 1626, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_local_filename);
  __pyx_r = __pyx_v_local_filename;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1627</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1628</span>: </pre>
<pre class="cython line score-74" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1629</span>: def move_file(file_path, directory):</pre>
<pre class='cython code score-74 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_48move_file(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_47move_file, " Move file to a directory. \n    \n    Create a directory if not exists. \n    \n    Parameters \n    -----------\n    file_path: str, \n       Path to the local file \n    directory: str, \n       Path to locate the directory.\n    \n    Example \n    ---------\n    &gt;&gt;&gt; from gofast.tools.baseutils import move_file\n    &gt;&gt;&gt; file_path = 'path/to/your/file.txt'  # Replace with your file's path\n    &gt;&gt;&gt; directory = 'path/to/your/directory'  # Replace with your directory's path\n    &gt;&gt;&gt; move_file(file_path, directory)\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_48move_file = {"move_file", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_48move_file, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_47move_file};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_48move_file(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_file_path = 0;
  PyObject *__pyx_v_directory = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("move_file (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_file_path,&amp;__pyx_n_s_directory,0};
  PyObject* values[2] = {0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_file_path)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1629, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_directory)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1629, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("move_file", 1, 2, 2, 1); <span class='error_goto'>__PYX_ERR(0, 1629, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "move_file") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1629, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 2)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
    }
    __pyx_v_file_path = values[0];
    __pyx_v_directory = values[1];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("move_file", 1, 2, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1629, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.move_file", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_47move_file(__pyx_self, __pyx_v_file_path, __pyx_v_directory);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_47move_file(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_file_path, PyObject *__pyx_v_directory) {
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__60)
  <span class='trace'>__Pyx_TraceCall</span>("move_file", __pyx_f[0], 1629, 0, <span class='error_goto'>__PYX_ERR(0, 1629, __pyx_L1_error)</span>);
/* â€¦ */
  /* function exit code */
  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.move_file", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__178 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_n_s_file_path, __pyx_n_s_directory);<span class='error_goto'> if (unlikely(!__pyx_tuple__178)) __PYX_ERR(0, 1629, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__178);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__178);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1629,0,<span class='error_goto'>__PYX_ERR(0, 1629, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_48move_file, 0, __pyx_n_s_move_file, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__60));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1629, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_move_file, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1629, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_codeobj__60 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(2, 0, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__178, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_move_file, 1629, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__60)) __PYX_ERR(0, 1629, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">1630</span>:     """ Move file to a directory.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1631</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1632</span>:     Create a directory if not exists.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1633</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1634</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">1635</span>:     -----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1636</span>:     file_path: str,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1637</span>:        Path to the local file</pre>
<pre class="cython line score-0">&#xA0;<span class="">1638</span>:     directory: str,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1639</span>:        Path to locate the directory.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1640</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1641</span>:     Example</pre>
<pre class="cython line score-0">&#xA0;<span class="">1642</span>:     ---------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1643</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import move_file</pre>
<pre class="cython line score-0">&#xA0;<span class="">1644</span>:     &gt;&gt;&gt; file_path = 'path/to/your/file.txt'  # Replace with your file's path</pre>
<pre class="cython line score-0">&#xA0;<span class="">1645</span>:     &gt;&gt;&gt; directory = 'path/to/your/directory'  # Replace with your directory's path</pre>
<pre class="cython line score-0">&#xA0;<span class="">1646</span>:     &gt;&gt;&gt; move_file(file_path, directory)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1647</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">1648</span>:     # Create the directory if it doesn't exist</pre>
<pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1649</span>:     if not os.path.exists(directory):</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(1649,0,<span class='error_goto'>__PYX_ERR(0, 1649, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1649, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1649, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_exists);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1649, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_directory};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1649, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_1); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1649, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_6 = (!__pyx_t_5);
  if (__pyx_t_6) {
/* â€¦ */
  }
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1650</span>:         os.makedirs(directory)</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(1650,0,<span class='error_goto'>__PYX_ERR(0, 1650, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1650, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_makedirs);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1650, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_directory};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1650, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1651</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1652</span>:     # Move the file to the directory</pre>
<pre class="cython line score-66" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1653</span>:     shutil.move(file_path, os.path.join(directory, os.path.basename(file_path)))</pre>
<pre class='cython code score-66 '>  <span class='trace'>__Pyx_TraceLine</span>(1653,0,<span class='error_goto'>__PYX_ERR(0, 1653, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_shutil);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1653, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_move);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1653, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_7, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1653, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_7, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1653, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_8, __pyx_n_s_join);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1653, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_9, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1653, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_9, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1653, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_10, __pyx_n_s_basename);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1653, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
  __pyx_t_10 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
    __pyx_t_10 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
    if (likely(__pyx_t_10)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_10);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_10, __pyx_v_file_path};
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    if (unlikely(!__pyx_t_8)) <span class='error_goto'>__PYX_ERR(0, 1653, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
  }
  __pyx_t_9 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
    __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
    if (likely(__pyx_t_9)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_9, __pyx_v_directory, __pyx_t_8};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1653, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  }
  __pyx_t_7 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_7)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_7, __pyx_v_file_path, __pyx_t_3};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1653, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1654</span>: </pre>
<pre class="cython line score-70" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1655</span>: def check_file_exists(package, resource):</pre>
<pre class='cython code score-70 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_50check_file_exists(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_49check_file_exists, "\n    Check if a file exists in a package's directory with \n    importlib.resources.\n\n    :param package: The package containing the resource.\n    :param resource: The resource (file) to check.\n    :return: Boolean indicating if the resource exists.\n    \n    :example: \n        &gt;&gt;&gt; from gofast.tools.baseutils import check_file_exists\n        &gt;&gt;&gt; package_name = 'gofast.datasets.data'  # Replace with your package name\n        &gt;&gt;&gt; file_name = 'h.h5'    # Replace with your file name\n\n        &gt;&gt;&gt; file_exists = check_file_exists(package_name, file_name)\n        &gt;&gt;&gt; print(f\"File exists: {file_exists}\")\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_50check_file_exists = {"check_file_exists", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_50check_file_exists, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_49check_file_exists};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_50check_file_exists(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_package = 0;
  PyObject *__pyx_v_resource = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("check_file_exists (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_package,&amp;__pyx_n_s_resource,0};
  PyObject* values[2] = {0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_package)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1655, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_resource)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1655, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("check_file_exists", 1, 2, 2, 1); <span class='error_goto'>__PYX_ERR(0, 1655, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "check_file_exists") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1655, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 2)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
    }
    __pyx_v_package = values[0];
    __pyx_v_resource = values[1];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("check_file_exists", 1, 2, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1655, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.check_file_exists", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_49check_file_exists(__pyx_self, __pyx_v_package, __pyx_v_resource);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_49check_file_exists(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_package, PyObject *__pyx_v_resource) {
  PyObject *__pyx_v_pkg_resources = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__61)
  <span class='trace'>__Pyx_TraceCall</span>("check_file_exists", __pyx_f[0], 1655, 0, <span class='error_goto'>__PYX_ERR(0, 1655, __pyx_L1_error)</span>);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.check_file_exists", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_pkg_resources);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__179 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_n_s_package, __pyx_n_s_resource, __pyx_n_s_pkg_resources);<span class='error_goto'> if (unlikely(!__pyx_tuple__179)) __PYX_ERR(0, 1655, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__179);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__179);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1655,0,<span class='error_goto'>__PYX_ERR(0, 1655, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_50check_file_exists, 0, __pyx_n_s_check_file_exists, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__61));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1655, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_check_file_exists, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1655, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_codeobj__61 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(2, 0, 0, 3, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__179, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_check_file_exists, 1655, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__61)) __PYX_ERR(0, 1655, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">1656</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">1657</span>:     Check if a file exists in a package's directory with</pre>
<pre class="cython line score-0">&#xA0;<span class="">1658</span>:     importlib.resources.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1659</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1660</span>:     :param package: The package containing the resource.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1661</span>:     :param resource: The resource (file) to check.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1662</span>:     :return: Boolean indicating if the resource exists.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1663</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1664</span>:     :example:</pre>
<pre class="cython line score-0">&#xA0;<span class="">1665</span>:         &gt;&gt;&gt; from gofast.tools.baseutils import check_file_exists</pre>
<pre class="cython line score-0">&#xA0;<span class="">1666</span>:         &gt;&gt;&gt; package_name = 'gofast.datasets.data'  # Replace with your package name</pre>
<pre class="cython line score-0">&#xA0;<span class="">1667</span>:         &gt;&gt;&gt; file_name = 'h.h5'    # Replace with your file name</pre>
<pre class="cython line score-0">&#xA0;<span class="">1668</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1669</span>:         &gt;&gt;&gt; file_exists = check_file_exists(package_name, file_name)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1670</span>:         &gt;&gt;&gt; print(f"File exists: {file_exists}")</pre>
<pre class="cython line score-0">&#xA0;<span class="">1671</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">1672</span>: </pre>
<pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1673</span>:     import importlib.resources as pkg_resources</pre>
<pre class='cython code score-7 '>  <span class='trace'>__Pyx_TraceLine</span>(1673,0,<span class='error_goto'>__PYX_ERR(0, 1673, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_importlib_resources, __pyx_tuple__62);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1673, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_pkg_resources = __pyx_t_1;
  __pyx_t_1 = 0;
/* â€¦ */
  __pyx_tuple__62 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_n_s_importlib, __pyx_n_s_resources);<span class='error_goto'> if (unlikely(!__pyx_tuple__62)) __PYX_ERR(0, 1673, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__62);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__62);
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1674</span>:     return pkg_resources.is_resource(package, resource)</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(1674,0,<span class='error_goto'>__PYX_ERR(0, 1674, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_pkg_resources, __pyx_n_s_is_resource);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1674, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_3, __pyx_v_package, __pyx_v_resource};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1674, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1675</span>: </pre>
<pre class="cython line score-83" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1676</span>: def is_readable (</pre>
<pre class='cython code score-83 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_52is_readable(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_51is_readable, " Assert and read specific files and url allowed by the package\n    \n    Readable files are systematically convert to a pandas frame.  \n    \n    Parameters \n    -----------\n    f: Path-like object -Should be a readable files or url  \n    columns: str or list of str \n        Series name or columns names for pandas.Series and DataFrame. \n        \n    to_frame: str, default=False\n        If ``True`` , reconvert the array to frame using the columns orthewise \n        no-action is performed and return the same array.\n    input_name : str, default=\"\"\n        The data name used to construct the error message. \n        \n    raise_warning : bool, default=True\n        If True then raise a warning if conversion is required.\n        If ``ignore``, warnings silence mode is triggered.\n    raise_exception : bool, default=False\n        If True then raise an exception if array is not symmetric.\n        \n    force:bool, default=False\n        Force conversion array to a frame is columns is not supplied.\n        Use the combinaison, `input_name` and `X.shape[1]` range.\n        \n    kws: dict, \n        Pandas readableformats additional keywords arguments. \n    Returns\n    ---------\n    f: pandas dataframe \n         A dataframe with head contents... \n    \n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_52is_readable = {"is_readable", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_52is_readable, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_51is_readable};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_52is_readable(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_f = 0;
  CYTHON_UNUSED PyObject *__pyx_v_as_frame = 0;
  PyObject *__pyx_v_columns = 0;
  PyObject *__pyx_v_input_name = 0;
  PyObject *__pyx_v_kws = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("is_readable (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  __pyx_v_kws = <span class='py_c_api'>PyDict_New</span>(); if (unlikely(!__pyx_v_kws)) return NULL;
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_v_kws);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_f,&amp;__pyx_n_s_as_frame,&amp;__pyx_n_s_columns,&amp;__pyx_n_s_input_name,0};
  PyObject* values[4] = {0,0,0,0};
/* â€¦ */
  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_kws);
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
static PyObject *__pyx_pf_6gofast_5tools_9baseutils_51is_readable(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_f, CYTHON_UNUSED PyObject *__pyx_v_as_frame, PyObject *__pyx_v_columns, PyObject *__pyx_v_input_name, PyObject *__pyx_v_kws) {
  PyObject *__pyx_v__check_readable_file = 0;
  PyObject *__pyx_v_cpObj = NULL;
  CYTHON_UNUSED PyObject *__pyx_v__ = NULL;
  PyObject *__pyx_v_ex = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__63)
  <span class='trace'>__Pyx_TraceCall</span>("is_readable", __pyx_f[0], 1676, 0, <span class='error_goto'>__PYX_ERR(0, 1676, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_f);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_15);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_16);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.is_readable", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v__check_readable_file);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_cpObj);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v__);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_ex);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_f);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__181 = <span class='py_c_api'>PyTuple_Pack</span>(10, __pyx_n_s_f, __pyx_n_s_as_frame, __pyx_n_s_columns, __pyx_n_s_input_name, __pyx_n_s_kws, __pyx_n_s_check_readable_file, __pyx_n_s_check_readable_file, __pyx_n_s_cpObj, __pyx_n_s__180, __pyx_n_s_ex);<span class='error_goto'> if (unlikely(!__pyx_tuple__181)) __PYX_ERR(0, 1676, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__181);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__181);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1676,0,<span class='error_goto'>__PYX_ERR(0, 1676, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1676, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_as_frame, ((PyObject *)Py_False)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1676, __pyx_L1_error)</span>
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1676,0,<span class='error_goto'>__PYX_ERR(0, 1676, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1676, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_f, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1676, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_as_frame, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1676, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_columns, __pyx_kp_s_List_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1676, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return, __pyx_n_s_DataFrame) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1676, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_52is_readable, 0, __pyx_n_s_is_readable, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__63));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1676, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsKwDict</span>(__pyx_t_4, __pyx_t_2);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_4, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_is_readable, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1676, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_codeobj__63 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(1, 0, 3, 10, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__181, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_is_readable, 1676, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__63)) __PYX_ERR(0, 1676, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">1677</span>:         f:str,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1678</span>:         *,</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1679</span>:         as_frame:bool=False,</pre>
<pre class='cython code score-2 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
</pre><pre class="cython line score-49" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1680</span>:         columns:List[str]=None,</pre>
<pre class='cython code score-49 '>    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_n_u_f)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_f)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1676, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
      }
      if (kw_args &gt; 0 &amp;&amp; (kw_args &lt;= 3)) {
        Py_ssize_t index;
        for (index = 1; index &lt; 4 &amp;&amp; kw_args &gt; 0; index++) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, *__pyx_pyargnames[index]);
          if (value) { values[index] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1676, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, __pyx_v_kws, values + 0, kwd_pos_args, "is_readable") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1676, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 1)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
    }
    __pyx_v_f = ((PyObject*)values[0]);
    __pyx_v_as_frame = values[1];
    __pyx_v_columns = values[2];
    __pyx_v_input_name = values[3];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("is_readable", 1, 1, 1, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1676, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_kws); __pyx_v_kws = 0;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.is_readable", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_f), (&amp;PyUnicode_Type), 0, "f", 1))) <span class='error_goto'>__PYX_ERR(0, 1677, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_51is_readable(__pyx_self, __pyx_v_f, __pyx_v_as_frame, __pyx_v_columns, __pyx_v_input_name, __pyx_v_kws);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1680,0,<span class='error_goto'>__PYX_ERR(0, 1680, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_columns, Py_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1676, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_input_name, ((PyObject*)__pyx_n_u_f)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1676, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">1681</span>:         input_name='f',</pre>
<pre class="cython line score-0">&#xA0;<span class="">1682</span>:         **kws</pre>
<pre class="cython line score-0">&#xA0;<span class="">1683</span>:  ) -&gt; DataFrame:</pre>
<pre class="cython line score-0">&#xA0;<span class="">1684</span>:     """ Assert and read specific files and url allowed by the package</pre>
<pre class="cython line score-0">&#xA0;<span class="">1685</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1686</span>:     Readable files are systematically convert to a pandas frame.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1687</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1688</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">1689</span>:     -----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1690</span>:     f: Path-like object -Should be a readable files or url</pre>
<pre class="cython line score-0">&#xA0;<span class="">1691</span>:     columns: str or list of str</pre>
<pre class="cython line score-0">&#xA0;<span class="">1692</span>:         Series name or columns names for pandas.Series and DataFrame.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1693</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1694</span>:     to_frame: str, default=False</pre>
<pre class="cython line score-0">&#xA0;<span class="">1695</span>:         If ``True`` , reconvert the array to frame using the columns orthewise</pre>
<pre class="cython line score-0">&#xA0;<span class="">1696</span>:         no-action is performed and return the same array.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1697</span>:     input_name : str, default=""</pre>
<pre class="cython line score-0">&#xA0;<span class="">1698</span>:         The data name used to construct the error message.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1699</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1700</span>:     raise_warning : bool, default=True</pre>
<pre class="cython line score-0">&#xA0;<span class="">1701</span>:         If True then raise a warning if conversion is required.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1702</span>:         If ``ignore``, warnings silence mode is triggered.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1703</span>:     raise_exception : bool, default=False</pre>
<pre class="cython line score-0">&#xA0;<span class="">1704</span>:         If True then raise an exception if array is not symmetric.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1705</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1706</span>:     force:bool, default=False</pre>
<pre class="cython line score-0">&#xA0;<span class="">1707</span>:         Force conversion array to a frame is columns is not supplied.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1708</span>:         Use the combinaison, `input_name` and `X.shape[1]` range.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1709</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1710</span>:     kws: dict,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1711</span>:         Pandas readableformats additional keywords arguments.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1712</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">1713</span>:     ---------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1714</span>:     f: pandas dataframe</pre>
<pre class="cython line score-0">&#xA0;<span class="">1715</span>:          A dataframe with head contents...</pre>
<pre class="cython line score-0">&#xA0;<span class="">1716</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1717</span>:     """</pre>
<pre class="cython line score-51" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1718</span>:     def _check_readable_file (f):</pre>
<pre class='cython code score-51 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_11is_readable_1_check_readable_file(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_11is_readable__check_readable_file, " Return file name from path objects ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_11is_readable_1_check_readable_file = {"_check_readable_file", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_11is_readable_1_check_readable_file, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_11is_readable__check_readable_file};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_11is_readable_1_check_readable_file(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_f = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_check_readable_file (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_f,0};
  PyObject* values[1] = {0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_f)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1718, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_check_readable_file") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1718, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 1)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
    }
    __pyx_v_f = values[0];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_check_readable_file", 1, 1, 1, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1718, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.is_readable._check_readable_file", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_11is_readable__check_readable_file(__pyx_self, __pyx_v_f);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_11is_readable__check_readable_file(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_f) {
  PyObject *__pyx_v_msg = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceCall</span>("_check_readable_file", __pyx_f[0], 1718, 0, <span class='error_goto'>__PYX_ERR(0, 1718, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_f);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.is_readable._check_readable_file", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_msg);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_f);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__64 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_n_s_f, __pyx_n_s_msg);<span class='error_goto'> if (unlikely(!__pyx_tuple__64)) __PYX_ERR(0, 1718, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__64);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__64);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1718,0,<span class='error_goto'>__PYX_ERR(0, 1718, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_11is_readable_1_check_readable_file, 0, __pyx_n_s_is_readable_locals__check_readab, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__65));<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1718, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v__check_readable_file = __pyx_t_1;
  __pyx_t_1 = 0;
  __pyx_codeobj__65 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(1, 0, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__64, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_check_readable_file, 1718, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__65)) __PYX_ERR(0, 1718, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">1719</span>:         """ Return file name from path objects """</pre>
<pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1720</span>:         msg =(f"Expects a Path-like object or URL. Please, check your"</pre>
<pre class='cython code score-3 '>  <span class='trace'>__Pyx_TraceLine</span>(1720,0,<span class='error_goto'>__PYX_ERR(0, 1720, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_kp_u_Expects_a_Path_like_object_or_UR, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1720, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_msg = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-30" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1721</span>:               f" file: {os.path.basename(f)!r}")</pre>
<pre class='cython code score-30 '>  <span class='trace'>__Pyx_TraceLine</span>(1721,0,<span class='error_goto'>__PYX_ERR(0, 1721, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1721, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1721, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_basename);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1721, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_f};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1721, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_t_1), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1721, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1722</span>:         if not os.path.isfile (f): # force pandas read html etc</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(1722,0,<span class='error_goto'>__PYX_ERR(0, 1722, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1722, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1722, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_isfile);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1722, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_f};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1722, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_1); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1722, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_6 = (!__pyx_t_5);
  if (__pyx_t_6) {
/* â€¦ */
    goto __pyx_L3;
  }
</pre><pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1723</span>:             if not ('http://'  in f or 'https://' in f ):</pre>
<pre class='cython code score-4 '>    <span class='trace'>__Pyx_TraceLine</span>(1723,0,<span class='error_goto'>__PYX_ERR(0, 1723, __pyx_L1_error)</span>)
    __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_kp_u_http, __pyx_v_f, Py_EQ)); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1723, __pyx_L1_error)</span>
    if (!__pyx_t_5) {
    } else {
      __pyx_t_6 = __pyx_t_5;
      goto __pyx_L5_bool_binop_done;
    }
    __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_kp_u_https, __pyx_v_f, Py_EQ)); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1723, __pyx_L1_error)</span>
    __pyx_t_6 = __pyx_t_5;
    __pyx_L5_bool_binop_done:;
    __pyx_t_5 = (!__pyx_t_6);
    if (unlikely(__pyx_t_5)) {
/* â€¦ */
    }
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1724</span>:                 raise TypeError (msg)</pre>
<pre class='cython code score-5 '>      <span class='trace'>__Pyx_TraceLine</span>(1724,0,<span class='error_goto'>__PYX_ERR(0, 1724, __pyx_L1_error)</span>)
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_TypeError, __pyx_v_msg);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1724, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_1, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='error_goto'>__PYX_ERR(0, 1724, __pyx_L1_error)</span>
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1725</span>:         elif not isinstance (f,  (str , pathlib.PurePath)):</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(1725,0,<span class='error_goto'>__PYX_ERR(0, 1725, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pathlib);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1725, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_PurePath);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1725, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_6 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_f); 
  if (!__pyx_t_6) {
  } else {
    __pyx_t_5 = __pyx_t_6;
    goto __pyx_L7_bool_binop_done;
  }
  __pyx_t_6 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_f, __pyx_t_2); 
  __pyx_t_5 = __pyx_t_6;
  __pyx_L7_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_6 = (!__pyx_t_5);
  if (unlikely(__pyx_t_6)) {
/* â€¦ */
  }
  __pyx_L3:;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1726</span>:              raise TypeError (msg)</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(1726,0,<span class='error_goto'>__PYX_ERR(0, 1726, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_TypeError, __pyx_v_msg);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1726, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='error_goto'>__PYX_ERR(0, 1726, __pyx_L1_error)</span>
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1727</span>:         if isinstance(f, str): f =f.strip() # for consistency</pre>
<pre class='cython code score-22 '>  <span class='trace'>__Pyx_TraceLine</span>(1727,0,<span class='error_goto'>__PYX_ERR(0, 1727, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_f); 
  if (__pyx_t_6) {
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_f, __pyx_n_s_strip);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1727, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1727, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_f, __pyx_t_2);
    __pyx_t_2 = 0;
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1728</span>:         return f</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1728,0,<span class='error_goto'>__PYX_ERR(0, 1728, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_f);
  __pyx_r = __pyx_v_f;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1729</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1730</span>:     if hasattr (f, '__array__' ) :</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1730,0,<span class='error_goto'>__PYX_ERR(0, 1730, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_HasAttr</span>(__pyx_v_f, __pyx_n_u_array_2);<span class='error_goto'> if (unlikely(__pyx_t_2 == ((int)-1))) __PYX_ERR(0, 1730, __pyx_L1_error)</span>
  if (__pyx_t_2) {
/* â€¦ */
  }
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1731</span>:         f = array_to_frame(</pre>
<pre class='cython code score-23 '>    <span class='trace'>__Pyx_TraceLine</span>(1731,0,<span class='error_goto'>__PYX_ERR(0, 1731, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_array_to_frame);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1731, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(1732,0,<span class='error_goto'>__PYX_ERR(0, 1732, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1731, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_f);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_f);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_f)) <span class='error_goto'>__PYX_ERR(0, 1731, __pyx_L1_error)</span>;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(1731,0,<span class='error_goto'>__PYX_ERR(0, 1731, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_3, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1731, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (!(likely(<span class='py_c_api'>PyUnicode_CheckExact</span>(__pyx_t_5))||((__pyx_t_5) == Py_None) || <span class='pyx_c_api'>__Pyx_RaiseUnexpectedTypeError</span>("unicode", __pyx_t_5))) <span class='error_goto'>__PYX_ERR(0, 1731, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_f, ((PyObject*)__pyx_t_5));
    __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1732</span>:             f,</pre>
<pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1733</span>:             to_frame= True ,</pre>
<pre class='cython code score-7 '>    <span class='trace'>__Pyx_TraceLine</span>(1733,0,<span class='error_goto'>__PYX_ERR(0, 1733, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1733, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_to_frame, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1733, __pyx_L1_error)</span>
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1734</span>:             columns =columns,</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(1734,0,<span class='error_goto'>__PYX_ERR(0, 1734, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_columns, __pyx_v_columns) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1733, __pyx_L1_error)</span>
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1735</span>:             input_name=input_name ,</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(1735,0,<span class='error_goto'>__PYX_ERR(0, 1735, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_input_name, __pyx_v_input_name) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1733, __pyx_L1_error)</span>
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1736</span>:             raise_exception= True,</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(1736,0,<span class='error_goto'>__PYX_ERR(0, 1736, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_raise_exception, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1733, __pyx_L1_error)</span>
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1737</span>:             force= True,</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(1737,0,<span class='error_goto'>__PYX_ERR(0, 1737, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_force, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1733, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">1738</span>:             )</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1739</span>:         return f</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(1739,0,<span class='error_goto'>__PYX_ERR(0, 1739, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_f);
    __pyx_r = __pyx_v_f;
    goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1740</span>: </pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1741</span>:     cpObj= Config().parsers</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(1741,0,<span class='error_goto'>__PYX_ERR(0, 1741, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_Config);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1741, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_3 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 1741, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  }
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_parsers);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1741, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_v_cpObj = __pyx_t_4;
  __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1742</span>: </pre>
<pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1743</span>:     f= _check_readable_file(f)</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(1743,0,<span class='error_goto'>__PYX_ERR(0, 1743, __pyx_L1_error)</span>)
  __pyx_t_4 = __pyx_pf_6gofast_5tools_9baseutils_11is_readable__check_readable_file(__pyx_v__check_readable_file, __pyx_v_f);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1743, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (!(likely(<span class='py_c_api'>PyUnicode_CheckExact</span>(__pyx_t_4))||((__pyx_t_4) == Py_None) || <span class='pyx_c_api'>__Pyx_RaiseUnexpectedTypeError</span>("unicode", __pyx_t_4))) <span class='error_goto'>__PYX_ERR(0, 1743, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_f, ((PyObject*)__pyx_t_4));
  __pyx_t_4 = 0;
</pre><pre class="cython line score-68" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1744</span>:     _, ex = os.path.splitext(f)</pre>
<pre class='cython code score-68 '>  <span class='trace'>__Pyx_TraceLine</span>(1744,0,<span class='error_goto'>__PYX_ERR(0, 1744, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1744, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1744, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_splitext);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1744, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_f};
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1744, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  }
  if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_4))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_4))) {
    PyObject* sequence = __pyx_t_4;
    Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
    if (unlikely(size != 2)) {
      if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
      else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
      <span class='error_goto'>__PYX_ERR(0, 1744, __pyx_L1_error)</span>
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
      __pyx_t_5 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
      __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
    } else {
      __pyx_t_5 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
      __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
    }
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
    #else
    __pyx_t_5 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1744, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_3 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1744, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    #endif
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  } else {
    Py_ssize_t index = -1;
    __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1744, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);
    index = 0; __pyx_t_5 = __pyx_t_7(__pyx_t_1); if (unlikely(!__pyx_t_5)) goto __pyx_L4_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    index = 1; __pyx_t_3 = __pyx_t_7(__pyx_t_1); if (unlikely(!__pyx_t_3)) goto __pyx_L4_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_7(__pyx_t_1), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1744, __pyx_L1_error)</span>
    __pyx_t_7 = NULL;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    goto __pyx_L5_unpacking_done;
    __pyx_L4_unpacking_failed:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_7 = NULL;
    if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
    <span class='error_goto'>__PYX_ERR(0, 1744, __pyx_L1_error)</span>
    __pyx_L5_unpacking_done:;
  }
  __pyx_v__ = __pyx_t_5;
  __pyx_t_5 = 0;
  __pyx_v_ex = __pyx_t_3;
  __pyx_t_3 = 0;
</pre><pre class="cython line score-39" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1745</span>:     if ex.lower() not in tuple (cpObj.keys()):</pre>
<pre class='cython code score-39 '>  <span class='trace'>__Pyx_TraceLine</span>(1745,0,<span class='error_goto'>__PYX_ERR(0, 1745, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_ex, __pyx_n_s_lower);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1745, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_5 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_5)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_5, NULL};
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1745, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_cpObj, __pyx_n_s_keys);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1745, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_1 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
    __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
    if (likely(__pyx_t_1)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_1, NULL};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1745, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  }
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PySequence_Tuple</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1745, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_2 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_t_4, __pyx_t_5, Py_NE)); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1745, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  if (unlikely(__pyx_t_2)) {
/* â€¦ */
  }
</pre><pre class="cython line score-61" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1746</span>:         raise TypeError(f"Can only parse the {smart_format(cpObj.keys(), 'or')} "</pre>
<pre class='cython code score-61 '>    <span class='trace'>__Pyx_TraceLine</span>(1746,0,<span class='error_goto'>__PYX_ERR(0, 1746, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1746, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_8 = 0;
    __pyx_t_9 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Can_only_parse_the);
    __pyx_t_8 += 19;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Can_only_parse_the);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_kp_u_Can_only_parse_the);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_smart_format);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1746, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_cpObj, __pyx_n_s_keys);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1746, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
    __pyx_t_11 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_10))) {
      __pyx_t_11 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_10);
      if (likely(__pyx_t_11)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_10);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_10, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_11, NULL};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_10, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1746, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    }
    __pyx_t_10 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_10 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_10)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_10);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_10, __pyx_t_1, __pyx_n_u_or};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_6, 2+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1746, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_t_4, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1746, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_9 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_3) &gt; __pyx_t_9) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_3) : __pyx_t_9;
    __pyx_t_8 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_3);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 1, __pyx_t_3);
    __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_files_not);
    __pyx_t_8 += 12;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_files_not);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 2, __pyx_kp_u_files_not);
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(1746,0,<span class='error_goto'>__PYX_ERR(0, 1746, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_5, 5, __pyx_t_8, __pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1746, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_TypeError, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1746, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_5, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='error_goto'>__PYX_ERR(0, 1746, __pyx_L1_error)</span>
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1747</span>:                         f" files not {ex!r}.")</pre>
<pre class='cython code score-16 '>    <span class='trace'>__Pyx_TraceLine</span>(1747,0,<span class='error_goto'>__PYX_ERR(0, 1747, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_v_ex), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1747, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_9 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_3) &gt; __pyx_t_9) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_3) : __pyx_t_9;
    __pyx_t_8 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_3);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 3, __pyx_t_3);
    __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__2);
    __pyx_t_8 += 1;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__2);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 4, __pyx_kp_u__2);
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1748</span>:     try :</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(1748,0,<span class='error_goto'>__PYX_ERR(0, 1748, __pyx_L1_error)</span>)
  {
    /*try:*/ {
/* â€¦ */
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
    goto __pyx_L12_try_end;
    __pyx_L7_error:;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
/* â€¦ */
    __pyx_L9_except_error:;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_14);
    <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_12, __pyx_t_13, __pyx_t_14);
    goto __pyx_L1_error;
    __pyx_L12_try_end:;
  }
</pre><pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1749</span>:         f = cpObj[ex](f, **kws)</pre>
<pre class='cython code score-28 '>      <span class='trace'>__Pyx_TraceLine</span>(1749,0,<span class='error_goto'>__PYX_ERR(0, 1749, __pyx_L7_error)</span>)
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_cpObj, __pyx_v_ex);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1749, __pyx_L7_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1749, __pyx_L7_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_f);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_f);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_f)) <span class='error_goto'>__PYX_ERR(0, 1749, __pyx_L7_error)</span>;
      __pyx_t_4 = <span class='py_c_api'>PyDict_Copy</span>(__pyx_v_kws);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1749, __pyx_L7_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_t_3, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1749, __pyx_L7_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (!(likely(<span class='py_c_api'>PyUnicode_CheckExact</span>(__pyx_t_1))||((__pyx_t_1) == Py_None) || <span class='pyx_c_api'>__Pyx_RaiseUnexpectedTypeError</span>("unicode", __pyx_t_1))) <span class='error_goto'>__PYX_ERR(0, 1749, __pyx_L7_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_f, ((PyObject*)__pyx_t_1));
      __pyx_t_1 = 0;
</pre><pre class="cython line score-13" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1750</span>:     except FileNotFoundError:</pre>
<pre class='cython code score-13 '>    <span class='trace'>__Pyx_TraceLine</span>(1750,0,<span class='error_goto'>__PYX_ERR(0, 1750, __pyx_L9_except_error)</span>)
    <span class='pyx_c_api'>__Pyx_ErrFetch</span>(&amp;__pyx_t_1, &amp;__pyx_t_4, &amp;__pyx_t_3);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_FileNotFoundError);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1750, __pyx_L9_except_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(__pyx_t_1, __pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_c_api'>__Pyx_ErrRestore</span>(__pyx_t_1, __pyx_t_4, __pyx_t_3);
    __pyx_t_1 = 0; __pyx_t_4 = 0; __pyx_t_3 = 0;
    if (__pyx_t_6) {
      <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.is_readable", __pyx_clineno, __pyx_lineno, __pyx_filename);
      if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_3, &amp;__pyx_t_4, &amp;__pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1750, __pyx_L9_except_error)</span>
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_4);
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1751</span>:         raise FileNotFoundError (</pre>
<pre class='cython code score-9 '>      <span class='trace'>__Pyx_TraceLine</span>(1751,0,<span class='error_goto'>__PYX_ERR(0, 1751, __pyx_L9_except_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_FileNotFoundError);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1751, __pyx_L9_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(1751,0,<span class='error_goto'>__PYX_ERR(0, 1751, __pyx_L9_except_error)</span>)
      __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_t_5, __pyx_t_10);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1751, __pyx_L9_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_11, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
      <span class='error_goto'>__PYX_ERR(0, 1751, __pyx_L9_except_error)</span>
    }
</pre><pre class="cython line score-33" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1752</span>:             f"No such file in directory: {os.path.basename (f)!r}")</pre>
<pre class='cython code score-33 '>      <span class='trace'>__Pyx_TraceLine</span>(1752,0,<span class='error_goto'>__PYX_ERR(0, 1752, __pyx_L9_except_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_11, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1752, __pyx_L9_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
      __pyx_t_15 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_11, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1752, __pyx_L9_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_15);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
      __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_15, __pyx_n_s_basename);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1752, __pyx_L9_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
      __pyx_t_15 = NULL;
      __pyx_t_6 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_11))) {
        __pyx_t_15 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_11);
        if (likely(__pyx_t_15)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_11);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_15);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_11, function);
          __pyx_t_6 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_15, __pyx_v_f};
        __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_11, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
        if (unlikely(!__pyx_t_10)) <span class='error_goto'>__PYX_ERR(0, 1752, __pyx_L9_except_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
      }
      __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_t_10), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1752, __pyx_L9_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_kp_u_No_such_file_in_directory, __pyx_t_11);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1752, __pyx_L9_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
</pre><pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1753</span>:     except:</pre>
<pre class='cython code score-4 '>    <span class='trace'>__Pyx_TraceLine</span>(1753,0,<span class='error_goto'>__PYX_ERR(0, 1753, __pyx_L9_except_error)</span>)
    /*except:*/ {
      <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.is_readable", __pyx_clineno, __pyx_lineno, __pyx_filename);
      if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_1, &amp;__pyx_t_4, &amp;__pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1753, __pyx_L9_except_error)</span>
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_4);
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1754</span>:         raise FileHandlingError (</pre>
<pre class='cython code score-2 '>      <span class='trace'>__Pyx_TraceLine</span>(1754,0,<span class='error_goto'>__PYX_ERR(0, 1754, __pyx_L9_except_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_10, __pyx_n_s_FileHandlingError);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1754, __pyx_L9_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
</pre><pre class="cython line score-51" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1755</span>:             f" Can not parse the file : {os.path.basename (f)!r}")</pre>
<pre class='cython code score-51 '>      <span class='trace'>__Pyx_TraceLine</span>(1755,0,<span class='error_goto'>__PYX_ERR(0, 1755, __pyx_L9_except_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_15, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1755, __pyx_L9_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_15);
      __pyx_t_16 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_15, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 1755, __pyx_L9_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_16);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
      __pyx_t_15 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_16, __pyx_n_s_basename);<span class='error_goto'> if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1755, __pyx_L9_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_15);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_16); __pyx_t_16 = 0;
      __pyx_t_16 = NULL;
      __pyx_t_6 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_15))) {
        __pyx_t_16 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_15);
        if (likely(__pyx_t_16)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_15);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_16);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_15, function);
          __pyx_t_6 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_16, __pyx_v_f};
        __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_15, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_16); __pyx_t_16 = 0;
        if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 1755, __pyx_L9_except_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
      }
      __pyx_t_15 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_t_5), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1755, __pyx_L9_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_15);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_kp_u_Can_not_parse_the_file, __pyx_t_15);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1755, __pyx_L9_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
      __pyx_t_15 = NULL;
      __pyx_t_6 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_10))) {
        __pyx_t_15 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_10);
        if (likely(__pyx_t_15)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_10);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_15);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_10, function);
          __pyx_t_6 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_15, __pyx_t_5};
        __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_10, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        if (unlikely(!__pyx_t_11)) <span class='error_goto'>__PYX_ERR(0, 1754, __pyx_L9_except_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      }
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_11, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
      <span class='error_goto'>__PYX_ERR(0, 1754, __pyx_L9_except_error)</span>
    }
</pre><pre class="cython line score-0">&#xA0;<span class="">1756</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1757</span>:     return f</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1757,0,<span class='error_goto'>__PYX_ERR(0, 1757, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_f);
  __pyx_r = __pyx_v_f;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1758</span>: </pre>
<pre class="cython line score-86" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1759</span>: def lowertify(</pre>
<pre class='cython code score-86 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_54lowertify(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_53lowertify, "\n    Convert all input values to lowercase strings, optionally stripping \n    whitespace, and optionally return the original values alongside the \n    lowercased versions.\n    \n    Can also unpack the tuples of lowercased and original values into a single\n    flat tuple.\n\n    Parameters\n    ----------\n    *values : Any\n        Arbitrary number of values to be converted to lowercase. Non-string \n        values will be converted to strings before processing.\n    strip : bool, optional\n        If True (default), leading and trailing whitespace will be removed \n        from the strings.\n    return_origin : bool, optional\n        If True, each lowercased string is returned as a tuple with its \n        original value; otherwise, only the lowercased strings are returned.\n    unpack : bool, optional\n        If True, and `return_origin` is also True, the function returns a \n        single flat tuple containing all lowercased and original values \n        alternatively. This parameter is ignored if `return_origin` is False.\n\n    Returns\n    -------\n    Union[Tuple[str, ...], Tuple[Tuple[str, Any], ...], Tuple[Any, ...]]\n        Depending on `return_origin` and `unpack` flags, returns either:\n        - A tuple of lowercased (and optionally stripped) strings.\n        - A tuple of tuples, each containing the lowercased string and its \n          original value.\n        - A single flat tuple containing all lowercased and original values \n          alternatively (if `unpack` is True).\n\n    Examples\n    --------\n    &gt;&gt;&gt; from gofast.tools.baseutils import lowertify\n    &gt;&gt;&gt; lowertify('KIND')\n    ('kind',)\n    \n    &gt;&gt;&gt; lowertify(\"KIND\", return_origin=True)\n    (('kind', 'KIND'),)\n    \n    &gt;&gt;&gt; lowertify(\"args1\", 120, 'ArG3')\n    ('args1', '120', 'arg3')\n    \n    &gt;&gt;&gt; lowertify(\"args1\", 120, 'ArG3', return_origin=True)\n    (('args1', 'args1'), ('120', 120), ('arg3', 'ArG3'))\n    \n    &gt;&gt;&gt; lowertify(\"KIND\", \"task \", return_origin=Tru""e, unpack=True)\n    ('kind', 'KIND', 'task', 'task ')\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_54lowertify = {"lowertify", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_54lowertify, METH_VARARGS|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_53lowertify};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_54lowertify(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_strip = 0;
  PyObject *__pyx_v_return_origin = 0;
  PyObject *__pyx_v_unpack = 0;
  PyObject *__pyx_v_values = 0;
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("lowertify (wrapper)", 0);
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_VARARGS</span>(__pyx_args, __pyx_nargs);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_args);
  __pyx_v_values = __pyx_args;
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_strip,&amp;__pyx_n_s_return_origin,&amp;__pyx_n_s_unpack,0};
  PyObject* values[3] = {0,0,0};
/* â€¦ */
  /* function exit code */
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_values);
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_VARARGS</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
static PyObject *__pyx_gb_6gofast_5tools_9baseutils_9lowertify_2generator8(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
/* â€¦ */
static PyObject *__pyx_pf_6gofast_5tools_9baseutils_53lowertify(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_strip, PyObject *__pyx_v_return_origin, PyObject *__pyx_v_unpack, PyObject *__pyx_v_values) {
  PyObject *__pyx_v_processed_values = NULL;
  PyObject *__pyx_9genexpr21__pyx_v_val = NULL;
  PyObject *__pyx_gb_6gofast_5tools_9baseutils_9lowertify_2generator8 = 0;
  PyObject *__pyx_gb_6gofast_5tools_9baseutils_9lowertify_5generator9 = 0;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__66)
  <span class='trace'>__Pyx_TraceCall</span>("lowertify", __pyx_f[0], 1759, 0, <span class='error_goto'>__PYX_ERR(0, 1759, __pyx_L1_error)</span>);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.lowertify", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_processed_values);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr21__pyx_v_val);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_gb_6gofast_5tools_9baseutils_9lowertify_2generator8);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_gb_6gofast_5tools_9baseutils_9lowertify_5generator9);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__182 = <span class='py_c_api'>PyTuple_Pack</span>(9, __pyx_n_s_strip, __pyx_n_s_return_origin, __pyx_n_s_unpack, __pyx_n_s_values, __pyx_n_s_processed_values, __pyx_n_s_val, __pyx_n_s_genexpr, __pyx_n_s_genexpr, __pyx_n_s_genexpr);<span class='error_goto'> if (unlikely(!__pyx_tuple__182)) __PYX_ERR(0, 1759, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__182);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__182);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1759,0,<span class='error_goto'>__PYX_ERR(0, 1759, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1759, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_strip, ((PyObject *)Py_True)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1759, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_return_origin, ((PyObject *)Py_False)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1759, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_unpack, ((PyObject *)Py_False)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1759, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1759, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_strip, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1759, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return_origin, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1759, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_unpack, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1759, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return, __pyx_kp_s_Union_Tuple_str_Tuple_Tuple_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1759, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_54lowertify, 0, __pyx_n_s_lowertify, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__66));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1759, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsKwDict</span>(__pyx_t_2, __pyx_t_4);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_2, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_lowertify, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1759, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_codeobj__66 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(0, 0, 3, 9, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARARGS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__182, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_lowertify, 1759, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__66)) __PYX_ERR(0, 1759, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">1760</span>:     *values,</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1761</span>:     strip: bool = True,</pre>
<pre class='cython code score-2 '>    values[0] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_VARARGS</span>(((PyObject *)((PyObject *)Py_True)));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1762</span>:     return_origin: bool = False,</pre>
<pre class='cython code score-2 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_VARARGS</span>(((PyObject *)((PyObject *)Py_False)));
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1763</span>:     unpack: bool = False</pre>
<pre class='cython code score-22 '>    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_VARARGS</span>(((PyObject *)((PyObject *)Py_False)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        default:
        case  0: break;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_VARARGS</span>(__pyx_kwds);
      if (kw_args &gt; 0 &amp;&amp; likely(kw_args &lt;= 3)) {
        Py_ssize_t index;
        for (index = 0; index &lt; 3 &amp;&amp; kw_args &gt; 0; index++) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_VARARGS</span>(__pyx_kwds, __pyx_kwvalues, *__pyx_pyargnames[index]);
          if (value) { values[index] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_VARARGS</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1759, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, 0, "lowertify") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1759, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs &lt; 0)) {
      goto __pyx_L5_argtuple_error;
    } else {
    }
    __pyx_v_strip = values[0];
    __pyx_v_return_origin = values[1];
    __pyx_v_unpack = values[2];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("lowertify", 0, 0, 0, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1759, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_VARARGS</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_values); __pyx_v_values = 0;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.lowertify", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_53lowertify(__pyx_self, __pyx_v_strip, __pyx_v_return_origin, __pyx_v_unpack, __pyx_v_values);
</pre><pre class="cython line score-0">&#xA0;<span class="">1764</span>:     ) -&gt; Union[Tuple[str, ...], Tuple[Tuple[str, Any], ...], Tuple[Any, ...]]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">1765</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">1766</span>:     Convert all input values to lowercase strings, optionally stripping</pre>
<pre class="cython line score-0">&#xA0;<span class="">1767</span>:     whitespace, and optionally return the original values alongside the</pre>
<pre class="cython line score-0">&#xA0;<span class="">1768</span>:     lowercased versions.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1769</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1770</span>:     Can also unpack the tuples of lowercased and original values into a single</pre>
<pre class="cython line score-0">&#xA0;<span class="">1771</span>:     flat tuple.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1772</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1773</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">1774</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1775</span>:     *values : Any</pre>
<pre class="cython line score-0">&#xA0;<span class="">1776</span>:         Arbitrary number of values to be converted to lowercase. Non-string</pre>
<pre class="cython line score-0">&#xA0;<span class="">1777</span>:         values will be converted to strings before processing.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1778</span>:     strip : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1779</span>:         If True (default), leading and trailing whitespace will be removed</pre>
<pre class="cython line score-0">&#xA0;<span class="">1780</span>:         from the strings.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1781</span>:     return_origin : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1782</span>:         If True, each lowercased string is returned as a tuple with its</pre>
<pre class="cython line score-0">&#xA0;<span class="">1783</span>:         original value; otherwise, only the lowercased strings are returned.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1784</span>:     unpack : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1785</span>:         If True, and `return_origin` is also True, the function returns a</pre>
<pre class="cython line score-0">&#xA0;<span class="">1786</span>:         single flat tuple containing all lowercased and original values</pre>
<pre class="cython line score-0">&#xA0;<span class="">1787</span>:         alternatively. This parameter is ignored if `return_origin` is False.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1788</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1789</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">1790</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1791</span>:     Union[Tuple[str, ...], Tuple[Tuple[str, Any], ...], Tuple[Any, ...]]</pre>
<pre class="cython line score-0">&#xA0;<span class="">1792</span>:         Depending on `return_origin` and `unpack` flags, returns either:</pre>
<pre class="cython line score-0">&#xA0;<span class="">1793</span>:         - A tuple of lowercased (and optionally stripped) strings.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1794</span>:         - A tuple of tuples, each containing the lowercased string and its</pre>
<pre class="cython line score-0">&#xA0;<span class="">1795</span>:           original value.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1796</span>:         - A single flat tuple containing all lowercased and original values</pre>
<pre class="cython line score-0">&#xA0;<span class="">1797</span>:           alternatively (if `unpack` is True).</pre>
<pre class="cython line score-0">&#xA0;<span class="">1798</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1799</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">1800</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1801</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import lowertify</pre>
<pre class="cython line score-0">&#xA0;<span class="">1802</span>:     &gt;&gt;&gt; lowertify('KIND')</pre>
<pre class="cython line score-0">&#xA0;<span class="">1803</span>:     ('kind',)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1804</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1805</span>:     &gt;&gt;&gt; lowertify("KIND", return_origin=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1806</span>:     (('kind', 'KIND'),)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1807</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1808</span>:     &gt;&gt;&gt; lowertify("args1", 120, 'ArG3')</pre>
<pre class="cython line score-0">&#xA0;<span class="">1809</span>:     ('args1', '120', 'arg3')</pre>
<pre class="cython line score-0">&#xA0;<span class="">1810</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1811</span>:     &gt;&gt;&gt; lowertify("args1", 120, 'ArG3', return_origin=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1812</span>:     (('args1', 'args1'), ('120', 120), ('arg3', 'ArG3'))</pre>
<pre class="cython line score-0">&#xA0;<span class="">1813</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1814</span>:     &gt;&gt;&gt; lowertify("KIND", "task ", return_origin=True, unpack=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1815</span>:     ('kind', 'KIND', 'task', 'task ')</pre>
<pre class="cython line score-0">&#xA0;<span class="">1816</span>:     """</pre>
<pre class="cython line score-56" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1817</span>:     processed_values = [(str(val).strip().lower() if strip</pre>
<pre class='cython code score-56 '>  <span class='trace'>__Pyx_TraceLine</span>(1817,0,<span class='error_goto'>__PYX_ERR(0, 1817, __pyx_L1_error)</span>)
  { /* enter inner scope */
    __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1817, __pyx_L5_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(1817,0,<span class='error_goto'>__PYX_ERR(0, 1817, __pyx_L5_error)</span>)
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_strip); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1817, __pyx_L5_error)</span>
      if (__pyx_t_5) {
        __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_Str</span>(__pyx_9genexpr21__pyx_v_val);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1817, __pyx_L5_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
        __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_8, __pyx_n_s_strip);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1817, __pyx_L5_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
        __pyx_t_8 = NULL;
        __pyx_t_10 = 0;
        #if CYTHON_UNPACK_METHODS
        if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
          __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
          if (likely(__pyx_t_8)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
            __pyx_t_10 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_8, NULL};
          __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_10, 0+__pyx_t_10);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
          if (unlikely(!__pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 1817, __pyx_L5_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        }
        __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_7, __pyx_n_s_lower);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1817, __pyx_L5_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        __pyx_t_7 = NULL;
        __pyx_t_10 = 0;
        #if CYTHON_UNPACK_METHODS
        if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
          __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
          if (likely(__pyx_t_7)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
            __pyx_t_10 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_7, NULL};
          __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_10, 0+__pyx_t_10);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
          if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 1817, __pyx_L5_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        }
        __pyx_t_4 = __pyx_t_6;
        __pyx_t_6 = 0;
      } else {
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(1817,0,<span class='error_goto'>__PYX_ERR(0, 1817, __pyx_L5_error)</span>)
      __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1817, __pyx_L5_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1817, __pyx_L5_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_9genexpr21__pyx_v_val);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_9genexpr21__pyx_v_val);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 1, __pyx_9genexpr21__pyx_v_val)) <span class='error_goto'>__PYX_ERR(0, 1817, __pyx_L5_error)</span>;
      __pyx_t_4 = 0;
      if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_1, (PyObject*)__pyx_t_6))) <span class='error_goto'>__PYX_ERR(0, 1817, __pyx_L5_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
</pre><pre class="cython line score-30" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1818</span>:                          else str(val).lower(), val) for val in values]</pre>
<pre class='cython code score-30 '>    <span class='trace'>__Pyx_TraceLine</span>(1818,0,<span class='error_goto'>__PYX_ERR(0, 1818, __pyx_L5_error)</span>)
    __pyx_t_2 = __pyx_v_values; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
    __pyx_t_3 = 0;
    for (;;) {
      {
        Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_2);
        #if !CYTHON_ASSUME_SAFE_MACROS
        if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1818, __pyx_L5_error)</span>
        #endif
        if (__pyx_t_3 &gt;= __pyx_temp) break;
      }
      #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
      __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_2, __pyx_t_3); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_3++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1818, __pyx_L5_error)</span>
      #else
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_2, __pyx_t_3); __pyx_t_3++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1818, __pyx_L5_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      #endif
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr21__pyx_v_val, __pyx_t_4);
      __pyx_t_4 = 0;
/* â€¦ */
        <span class='trace'>__Pyx_TraceLine</span>(1818,0,<span class='error_goto'>__PYX_ERR(0, 1818, __pyx_L5_error)</span>)
        __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_Str</span>(__pyx_9genexpr21__pyx_v_val);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1818, __pyx_L5_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
        __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_9, __pyx_n_s_lower);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1818, __pyx_L5_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        __pyx_t_9 = NULL;
        __pyx_t_10 = 0;
        #if CYTHON_UNPACK_METHODS
        if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
          __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
          if (likely(__pyx_t_9)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
            __pyx_t_10 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_9, NULL};
          __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_10, 0+__pyx_t_10);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
          if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 1818, __pyx_L5_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        }
        __pyx_t_4 = __pyx_t_6;
        __pyx_t_6 = 0;
      }
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(1818,0,<span class='error_goto'>__PYX_ERR(0, 1818, __pyx_L5_error)</span>)
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr21__pyx_v_val); __pyx_9genexpr21__pyx_v_val = 0;
    goto __pyx_L9_exit_scope;
    __pyx_L5_error:;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr21__pyx_v_val); __pyx_9genexpr21__pyx_v_val = 0;
    goto __pyx_L1_error;
    __pyx_L9_exit_scope:;
  } /* exit inner scope */
  __pyx_v_processed_values = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1819</span>:     if return_origin:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1819,0,<span class='error_goto'>__PYX_ERR(0, 1819, __pyx_L1_error)</span>)
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_return_origin); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1819, __pyx_L1_error)</span>
  if (__pyx_t_5) {
/* â€¦ */
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1820</span>:         if unpack:</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(1820,0,<span class='error_goto'>__PYX_ERR(0, 1820, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_unpack); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1820, __pyx_L1_error)</span>
    if (__pyx_t_5) {
/* â€¦ */
    }
</pre><pre class="cython line score-0">&#xA0;<span class="">1821</span>:             # Flatten the list of tuples into a single tuple for unpacking</pre>
<pre class="cython line score-92" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1822</span>:             return tuple(item for pair in processed_values for item in pair)</pre>
<pre class='cython code score-92 '>static PyObject *__pyx_pf_6gofast_5tools_9baseutils_9lowertify_genexpr(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_genexpr_arg_0) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_13_genexpr *__pyx_cur_scope;
  PyObject *__pyx_r = NULL;
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_13_genexpr *)__pyx_tp_new_6gofast_5tools_9baseutils___pyx_scope_struct_13_genexpr(__pyx_ptype_6gofast_5tools_9baseutils___pyx_scope_struct_13_genexpr, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_13_genexpr *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 1822, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  __pyx_cur_scope-&gt;__pyx_genexpr_arg_0 = __pyx_genexpr_arg_0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  {
    __pyx_CoroutineObject *gen = <span class='pyx_c_api'>__Pyx_Generator_New</span>((__pyx_coroutine_body_t) __pyx_gb_6gofast_5tools_9baseutils_9lowertify_2generator8, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_lowertify_locals_genexpr, __pyx_n_s_gofast_tools_baseutils);<span class='error_goto'> if (unlikely(!gen)) __PYX_ERR(0, 1822, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_cur_scope);
    <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
    return (PyObject *) gen;
  }

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.lowertify.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_gb_6gofast_5tools_9baseutils_9lowertify_2generator8(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
{
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("genexpr", 0);
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_L3_first_run:;
  if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 1822, __pyx_L1_error)</span>
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>(".0"); <span class='error_goto'>__PYX_ERR(0, 1822, __pyx_L1_error)</span> }
  __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_genexpr_arg_0; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
  __pyx_t_2 = 0;
  for (;;) {
    {
      Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
      #if !CYTHON_ASSUME_SAFE_MACROS
      if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1822, __pyx_L1_error)</span>
      #endif
      if (__pyx_t_2 &gt;= __pyx_temp) break;
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1822, __pyx_L1_error)</span>
    #else
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1822, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    #endif
    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_cur_scope-&gt;__pyx_v_pair);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_cur_scope-&gt;__pyx_v_pair, __pyx_t_3);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
    __pyx_t_3 = 0;
    if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_v_pair)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_v_pair)) {
      __pyx_t_3 = __pyx_cur_scope-&gt;__pyx_v_pair; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      __pyx_t_4 = 0;
      __pyx_t_5 = NULL;
    } else {
      __pyx_t_4 = -1; __pyx_t_3 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_cur_scope-&gt;__pyx_v_pair);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1822, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1822, __pyx_L1_error)</span>
    }
    for (;;) {
      if (likely(!__pyx_t_5)) {
        if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_3))) {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_3);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1822, __pyx_L1_error)</span>
            #endif
            if (__pyx_t_4 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_6 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_3, __pyx_t_4); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6); __pyx_t_4++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1822, __pyx_L1_error)</span>
          #else
          __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_3, __pyx_t_4); __pyx_t_4++;<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1822, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
          #endif
        } else {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_3);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1822, __pyx_L1_error)</span>
            #endif
            if (__pyx_t_4 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_6 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_3, __pyx_t_4); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6); __pyx_t_4++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1822, __pyx_L1_error)</span>
          #else
          __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_3, __pyx_t_4); __pyx_t_4++;<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1822, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
          #endif
        }
      } else {
        __pyx_t_6 = __pyx_t_5(__pyx_t_3);
        if (unlikely(!__pyx_t_6)) {
          PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
          if (exc_type) {
            if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
            else <span class='error_goto'>__PYX_ERR(0, 1822, __pyx_L1_error)</span>
          }
          break;
        }
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      }
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_cur_scope-&gt;__pyx_v_item);
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_cur_scope-&gt;__pyx_v_item, __pyx_t_6);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_6);
      __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_item);
      __pyx_r = __pyx_cur_scope-&gt;__pyx_v_item;
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_1);
      __pyx_cur_scope-&gt;__pyx_t_0 = __pyx_t_1;
      __pyx_cur_scope-&gt;__pyx_t_1 = __pyx_t_2;
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_3);
      __pyx_cur_scope-&gt;__pyx_t_2 = __pyx_t_3;
      __pyx_cur_scope-&gt;__pyx_t_3 = __pyx_t_4;
      __pyx_cur_scope-&gt;__pyx_t_4 = __pyx_t_5;
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
      <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
      <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
      <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
      /* return from generator, yielding value */
      __pyx_generator-&gt;resume_label = 1;
      return __pyx_r;
      __pyx_L8_resume_from_yield:;
      __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_t_0;
      __pyx_cur_scope-&gt;__pyx_t_0 = 0;
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
      __pyx_t_2 = __pyx_cur_scope-&gt;__pyx_t_1;
      __pyx_t_3 = __pyx_cur_scope-&gt;__pyx_t_2;
      __pyx_cur_scope-&gt;__pyx_t_2 = 0;
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
      __pyx_t_4 = __pyx_cur_scope-&gt;__pyx_t_3;
      __pyx_t_5 = __pyx_cur_scope-&gt;__pyx_t_4;
      if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 1822, __pyx_L1_error)</span>
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);

  /* function exit code */
  <span class='py_c_api'>PyErr_SetNone</span>(PyExc_StopIteration);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_Generator_Replace_StopIteration</span>(0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r); __pyx_r = 0;
  #if !CYTHON_USE_EXC_INFO_STACK
  <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
  #endif
  __pyx_generator-&gt;resume_label = -1;
  <span class='pyx_c_api'>__Pyx_Coroutine_clear</span>((PyObject*)__pyx_generator);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
static PyObject *__pyx_gb_6gofast_5tools_9baseutils_9lowertify_5generator9(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(1822,0,<span class='error_goto'>__PYX_ERR(0, 1822, __pyx_L1_error)</span>)
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
      __pyx_t_1 = __pyx_pf_6gofast_5tools_9baseutils_9lowertify_genexpr(NULL, __pyx_v_processed_values);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1822, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_Tuple</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1822, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_r = __pyx_t_2;
      __pyx_t_2 = 0;
      goto __pyx_L0;
/* â€¦ */
struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_13_genexpr {
  PyObject_HEAD
  PyObject *__pyx_genexpr_arg_0;
  PyObject *__pyx_v_item;
  PyObject *__pyx_v_pair;
  PyObject *__pyx_t_0;
  Py_ssize_t __pyx_t_1;
  PyObject *__pyx_t_2;
  Py_ssize_t __pyx_t_3;
  PyObject *(*__pyx_t_4)(PyObject *);
};

</pre><pre class="cython line score-0">&#xA0;<span class="">1823</span>:         else:</pre>
<pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1824</span>:             return tuple(processed_values)</pre>
<pre class='cython code score-6 '>    <span class='trace'>__Pyx_TraceLine</span>(1824,0,<span class='error_goto'>__PYX_ERR(0, 1824, __pyx_L1_error)</span>)
    /*else*/ {
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
      __pyx_t_2 = <span class='py_c_api'>PyList_AsTuple</span>(__pyx_v_processed_values);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1824, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_r = __pyx_t_2;
      __pyx_t_2 = 0;
      goto __pyx_L0;
    }
</pre><pre class="cython line score-0">&#xA0;<span class="">1825</span>:     else:</pre>
<pre class="cython line score-92" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1826</span>:         return tuple(lowered for lowered, _ in processed_values)</pre>
<pre class='cython code score-92 '>static PyObject *__pyx_pf_6gofast_5tools_9baseutils_9lowertify_3genexpr(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_genexpr_arg_0) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_14_genexpr *__pyx_cur_scope;
  PyObject *__pyx_r = NULL;
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_14_genexpr *)__pyx_tp_new_6gofast_5tools_9baseutils___pyx_scope_struct_14_genexpr(__pyx_ptype_6gofast_5tools_9baseutils___pyx_scope_struct_14_genexpr, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_14_genexpr *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 1826, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  __pyx_cur_scope-&gt;__pyx_genexpr_arg_0 = __pyx_genexpr_arg_0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  {
    __pyx_CoroutineObject *gen = <span class='pyx_c_api'>__Pyx_Generator_New</span>((__pyx_coroutine_body_t) __pyx_gb_6gofast_5tools_9baseutils_9lowertify_5generator9, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_lowertify_locals_genexpr, __pyx_n_s_gofast_tools_baseutils);<span class='error_goto'> if (unlikely(!gen)) __PYX_ERR(0, 1826, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_cur_scope);
    <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
    return (PyObject *) gen;
  }

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.lowertify.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_gb_6gofast_5tools_9baseutils_9lowertify_5generator9(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
{
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("genexpr", 0);
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_L3_first_run:;
  if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 1826, __pyx_L1_error)</span>
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>(".0"); <span class='error_goto'>__PYX_ERR(0, 1826, __pyx_L1_error)</span> }
  __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_genexpr_arg_0; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
  __pyx_t_2 = 0;
  for (;;) {
    {
      Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
      #if !CYTHON_ASSUME_SAFE_MACROS
      if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1826, __pyx_L1_error)</span>
      #endif
      if (__pyx_t_2 &gt;= __pyx_temp) break;
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1826, __pyx_L1_error)</span>
    #else
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1826, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    #endif
    if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_3))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_3))) {
      PyObject* sequence = __pyx_t_3;
      Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
      if (unlikely(size != 2)) {
        if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
        else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
        <span class='error_goto'>__PYX_ERR(0, 1826, __pyx_L1_error)</span>
      }
      #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
      if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
        __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
        __pyx_t_5 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
      } else {
        __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
        __pyx_t_5 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
      }
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      #else
      __pyx_t_4 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1826, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_5 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1826, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      #endif
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    } else {
      Py_ssize_t index = -1;
      __pyx_t_6 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1826, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_6);
      index = 0; __pyx_t_4 = __pyx_t_7(__pyx_t_6); if (unlikely(!__pyx_t_4)) goto __pyx_L6_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      index = 1; __pyx_t_5 = __pyx_t_7(__pyx_t_6); if (unlikely(!__pyx_t_5)) goto __pyx_L6_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_7(__pyx_t_6), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1826, __pyx_L1_error)</span>
      __pyx_t_7 = NULL;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      goto __pyx_L7_unpacking_done;
      __pyx_L6_unpacking_failed:;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_t_7 = NULL;
      if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
      <span class='error_goto'>__PYX_ERR(0, 1826, __pyx_L1_error)</span>
      __pyx_L7_unpacking_done:;
    }
    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_cur_scope-&gt;__pyx_v_lowered);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_cur_scope-&gt;__pyx_v_lowered, __pyx_t_4);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
    __pyx_t_4 = 0;
    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_cur_scope-&gt;__pyx_v__);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_cur_scope-&gt;__pyx_v__, __pyx_t_5);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_5);
    __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_lowered);
    __pyx_r = __pyx_cur_scope-&gt;__pyx_v_lowered;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_1);
    __pyx_cur_scope-&gt;__pyx_t_0 = __pyx_t_1;
    __pyx_cur_scope-&gt;__pyx_t_1 = __pyx_t_2;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
    <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
    <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
    <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
    /* return from generator, yielding value */
    __pyx_generator-&gt;resume_label = 1;
    return __pyx_r;
    __pyx_L8_resume_from_yield:;
    __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_t_0;
    __pyx_cur_scope-&gt;__pyx_t_0 = 0;
    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
    __pyx_t_2 = __pyx_cur_scope-&gt;__pyx_t_1;
    if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 1826, __pyx_L1_error)</span>
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);

  /* function exit code */
  <span class='py_c_api'>PyErr_SetNone</span>(PyExc_StopIteration);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_Generator_Replace_StopIteration</span>(0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r); __pyx_r = 0;
  #if !CYTHON_USE_EXC_INFO_STACK
  <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
  #endif
  __pyx_generator-&gt;resume_label = -1;
  <span class='pyx_c_api'>__Pyx_Coroutine_clear</span>((PyObject*)__pyx_generator);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1826,0,<span class='error_goto'>__PYX_ERR(0, 1826, __pyx_L1_error)</span>)
  /*else*/ {
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    __pyx_t_2 = __pyx_pf_6gofast_5tools_9baseutils_9lowertify_3genexpr(NULL, __pyx_v_processed_values);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1826, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PySequence_Tuple</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1826, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_r = __pyx_t_1;
    __pyx_t_1 = 0;
    goto __pyx_L0;
  }
/* â€¦ */
struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_14_genexpr {
  PyObject_HEAD
  PyObject *__pyx_genexpr_arg_0;
  PyObject *__pyx_v__;
  PyObject *__pyx_v_lowered;
  PyObject *__pyx_t_0;
  Py_ssize_t __pyx_t_1;
};

</pre><pre class="cython line score-0">&#xA0;<span class="">1827</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1828</span>: </pre>
<pre class="cython line score-98" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1829</span>: def save_or_load(</pre>
<pre class='cython code score-98 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_56save_or_load(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_55save_or_load, "Save or load Numpy array. \n    \n    Parameters \n    -----------\n    fname: file, str, or pathlib.Path\n       File or filename to which the data is saved. \n       - &gt;.npy , .npz: If file is a file-object, then the filename is unchanged. \n       If file is a string or Path, a .npy extension will be appended to the \n       filename if it does not already have one. \n       - &gt;.txt: If the filename ends in .gz, the file is automatically saved in \n       compressed gzip format. loadtxt understands gzipped files transparently.\n       \n    arr: 1D or 2D array_like\n      Data to be saved to a text, npy or npz file.\n      \n    task: str {\"load\", \"save\"}\n      Action to perform. \"Save\" for storing file into the format \n      \".txt\", \"npy\", \".npz\". \"load\" for loading the data from storing files. \n      \n    format: str {\".txt\", \".npy\", \".npz\"}\n       The kind of format to save and load.  Note that when loading the \n       compressed data saved into `npz` format, it does not return \n       systematically the array rather than `np.lib.npyio.NpzFile` files. \n       Use either `files` attributes to get the list of registered files \n       or `f` attribute dot the data name to get the loaded data set. \n\n    compressed: bool, default=False \n       Compressed the file especially when file format is set to `.npz`. \n\n    comments: str or sequence of str or None, default='#'\n       The characters or list of characters used to indicate the start \n       of a comment. None implies no comments. For backwards compatibility, \n       byte strings will be decoded as 'latin1'. This is useful when `fname`\n       is in `txt` format. \n      \n     delimiter: str,  optional\n        The character used to separate the values. For backwards compatibility, \n        byte strings will be decoded as 'latin1'. The default is whitespace.\n        \n    kws: np.save ,np.savetext,  np.load , np.loadtxt \n       Additional keywords arguments for saving and"" loading data. \n       \n    Return \n    ------\n    None| data: ArrayLike \n    \n    Examples \n    ----------\n    &gt;&gt;&gt; import numpy as np \n    &gt;&gt;&gt; from gofast.tools.baseutils import save_or_load \n    &gt;&gt;&gt; data = np.random.randn (2, 7)\n    &gt;&gt;&gt; # save to txt \n    &gt;&gt;&gt; save_or_load ( \"test.txt\" , data)\n    &gt;&gt;&gt; save_or_load ( \"test\",  data, format='.npy')\n    &gt;&gt;&gt; save_or_load ( \"test\",  data, format='.npz')\n    &gt;&gt;&gt; save_or_load ( \"test_compressed\",  data, format='.npz', compressed=True )\n    &gt;&gt;&gt; # load files \n    &gt;&gt;&gt; save_or_load ( \"test.txt\", task ='load')\n    Out[36]: \n    array([[ 0.69265852,  0.67829574,  2.09023489, -2.34162127,  0.48689125,\n            -0.04790965,  1.36510779],\n           [-1.38349568,  0.63050939,  0.81771051,  0.55093818, -0.43066737,\n            -0.59276321, -0.80709192]])\n    &gt;&gt;&gt; save_or_load ( \"test.npy\", task ='load')\n    Out[39]: array([-2.34162127,  0.55093818])\n    &gt;&gt;&gt; save_or_load ( \"test.npz\", task ='load')\n    &lt;numpy.lib.npyio.NpzFile at 0x1b0821870a0&gt;\n    &gt;&gt;&gt; npzo = save_or_load ( \"test.npz\", task ='load')\n    &gt;&gt;&gt; npzo.files\n    Out[44]: ['arr_0']\n    &gt;&gt;&gt; npzo.f.arr_0\n    Out[45]: \n    array([[ 0.69265852,  0.67829574,  2.09023489, -2.34162127,  0.48689125,\n            -0.04790965,  1.36510779],\n           [-1.38349568,  0.63050939,  0.81771051,  0.55093818, -0.43066737,\n            -0.59276321, -0.80709192]])\n    &gt;&gt;&gt; save_or_load ( \"test_compressed.npz\", task ='load')\n    ...\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_56save_or_load = {"save_or_load", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_56save_or_load, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_55save_or_load};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_56save_or_load(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_fname = 0;
  PyObject *__pyx_v_arr = 0;
  PyObject *__pyx_v_task = 0;
  PyObject *__pyx_v_format = 0;
  PyObject *__pyx_v_compressed = 0;
  PyObject *__pyx_v_comments = 0;
  PyObject *__pyx_v_delimiter = 0;
  PyObject *__pyx_v_kws = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("save_or_load (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  __pyx_v_kws = <span class='py_c_api'>PyDict_New</span>(); if (unlikely(!__pyx_v_kws)) return NULL;
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_v_kws);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_fname,&amp;__pyx_n_s_arr,&amp;__pyx_n_s_task,&amp;__pyx_n_s_format,&amp;__pyx_n_s_compressed,&amp;__pyx_n_s_comments,&amp;__pyx_n_s_delimiter,0};
  PyObject* values[7] = {0,0,0,0,0,0,0};
/* â€¦ */
  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_kws);
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_55save_or_load(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_fname, PyObject *__pyx_v_arr, PyObject *__pyx_v_task, PyObject *__pyx_v_format, PyObject *__pyx_v_compressed, PyObject *__pyx_v_comments, PyObject *__pyx_v_delimiter, PyObject *__pyx_v_kws) {
  PyObject *__pyx_v_r_formats = NULL;
  PyObject *__pyx_v_kind = NULL;
  PyObject *__pyx_v_kind0 = NULL;
  CYTHON_UNUSED PyObject *__pyx_v_task0 = NULL;
  PyObject *__pyx_v_save = NULL;
  PyObject *__pyx_v_ext = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__68)
  <span class='trace'>__Pyx_TraceCall</span>("save_or_load", __pyx_f[0], 1829, 0, <span class='error_goto'>__PYX_ERR(0, 1829, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_task);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.save_or_load", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_r_formats);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_kind);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_kind0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_task0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_save);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_ext);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_arr);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_task);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__183 = <span class='py_c_api'>PyTuple_Pack</span>(14, __pyx_n_s_fname, __pyx_n_s_arr, __pyx_n_s_task, __pyx_n_s_format, __pyx_n_s_compressed, __pyx_n_s_comments, __pyx_n_s_delimiter, __pyx_n_s_kws, __pyx_n_s_r_formats, __pyx_n_s_kind, __pyx_n_s_kind0, __pyx_n_s_task0, __pyx_n_s_save, __pyx_n_s_ext);<span class='error_goto'> if (unlikely(!__pyx_tuple__183)) __PYX_ERR(0, 1829, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__183);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__183);
  __pyx_codeobj__68 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(7, 0, 0, 14, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__183, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_save_or_load, 1829, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__68)) __PYX_ERR(0, 1829, __pyx_L1_error)</span>
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1829,0,<span class='error_goto'>__PYX_ERR(0, 1829, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(7);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1829, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_fname, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1829, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_arr, __pyx_n_s_NDArray) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1829, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_task, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1829, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_format, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1829, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_compressed, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1829, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_comments, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1829, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_delimiter, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1829, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_56save_or_load, 0, __pyx_n_s_save_or_load, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__68));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1829, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_3, __pyx_tuple__184);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_3, __pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_save_or_load, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1829, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_tuple__184 = <span class='py_c_api'>PyTuple_Pack</span>(6, Py_None, ((PyObject*)__pyx_n_u_save), ((PyObject*)__pyx_kp_u_txt), ((PyObject *)Py_Ellipsis), ((PyObject*)__pyx_kp_u__67), Py_None);<span class='error_goto'> if (unlikely(!__pyx_tuple__184)) __PYX_ERR(0, 1829, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__184);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__184);
</pre><pre class="cython line score-0">&#xA0;<span class="">1830</span>:     fname:str,</pre>
<pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1831</span>:     arr: NDArray=None,</pre>
<pre class='cython code score-6 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject*)((PyObject*)__pyx_n_u_save)));
    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject*)((PyObject*)__pyx_kp_u_txt)));
</pre><pre class="cython line score-0">&#xA0;<span class="">1832</span>:     task: str='save',</pre>
<pre class="cython line score-0">&#xA0;<span class="">1833</span>:     format: str='.txt',</pre>
<pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1834</span>:     compressed: bool=...,</pre>
<pre class='cython code score-4 '>    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_Ellipsis)));
    values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject*)((PyObject*)__pyx_kp_u__67)));
</pre><pre class="cython line score-0">&#xA0;<span class="">1835</span>:     comments: str="#",</pre>
<pre class="cython line score-114" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1836</span>:     delimiter: str=None,</pre>
<pre class='cython code score-114 '>    values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject*)Py_None));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  7: values[6] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 6);
        CYTHON_FALLTHROUGH;
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_fname)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1829, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_arr);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1829, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_task);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1829, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_format);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1829, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_compressed);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1829, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  5:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_comments);
          if (value) { values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1829, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  6:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_delimiter);
          if (value) { values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1829, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, __pyx_v_kws, values + 0, kwd_pos_args, "save_or_load") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1829, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  7: values[6] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 6);
        CYTHON_FALLTHROUGH;
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_fname = ((PyObject*)values[0]);
    __pyx_v_arr = values[1];
    __pyx_v_task = ((PyObject*)values[2]);
    __pyx_v_format = ((PyObject*)values[3]);
    __pyx_v_compressed = values[4];
    __pyx_v_comments = ((PyObject*)values[5]);
    __pyx_v_delimiter = ((PyObject*)values[6]);
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("save_or_load", 0, 1, 7, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1829, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_kws); __pyx_v_kws = 0;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.save_or_load", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_fname), (&amp;PyUnicode_Type), 0, "fname", 1))) <span class='error_goto'>__PYX_ERR(0, 1830, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_task), (&amp;PyUnicode_Type), 0, "task", 1))) <span class='error_goto'>__PYX_ERR(0, 1832, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_format), (&amp;PyUnicode_Type), 0, "format", 1))) <span class='error_goto'>__PYX_ERR(0, 1833, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_comments), (&amp;PyUnicode_Type), 0, "comments", 1))) <span class='error_goto'>__PYX_ERR(0, 1835, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_delimiter), (&amp;PyUnicode_Type), 1, "delimiter", 1))) <span class='error_goto'>__PYX_ERR(0, 1836, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_55save_or_load(__pyx_self, __pyx_v_fname, __pyx_v_arr, __pyx_v_task, __pyx_v_format, __pyx_v_compressed, __pyx_v_comments, __pyx_v_delimiter, __pyx_v_kws);
</pre><pre class="cython line score-0">&#xA0;<span class="">1837</span>:     **kws</pre>
<pre class="cython line score-0">&#xA0;<span class="">1838</span>: ):</pre>
<pre class="cython line score-0">&#xA0;<span class="">1839</span>:     """Save or load Numpy array.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1840</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1841</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">1842</span>:     -----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1843</span>:     fname: file, str, or pathlib.Path</pre>
<pre class="cython line score-0">&#xA0;<span class="">1844</span>:        File or filename to which the data is saved.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1845</span>:        - &gt;.npy , .npz: If file is a file-object, then the filename is unchanged.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1846</span>:        If file is a string or Path, a .npy extension will be appended to the</pre>
<pre class="cython line score-0">&#xA0;<span class="">1847</span>:        filename if it does not already have one.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1848</span>:        - &gt;.txt: If the filename ends in .gz, the file is automatically saved in</pre>
<pre class="cython line score-0">&#xA0;<span class="">1849</span>:        compressed gzip format. loadtxt understands gzipped files transparently.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1850</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1851</span>:     arr: 1D or 2D array_like</pre>
<pre class="cython line score-0">&#xA0;<span class="">1852</span>:       Data to be saved to a text, npy or npz file.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1853</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1854</span>:     task: str {"load", "save"}</pre>
<pre class="cython line score-0">&#xA0;<span class="">1855</span>:       Action to perform. "Save" for storing file into the format</pre>
<pre class="cython line score-0">&#xA0;<span class="">1856</span>:       ".txt", "npy", ".npz". "load" for loading the data from storing files.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1857</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1858</span>:     format: str {".txt", ".npy", ".npz"}</pre>
<pre class="cython line score-0">&#xA0;<span class="">1859</span>:        The kind of format to save and load.  Note that when loading the</pre>
<pre class="cython line score-0">&#xA0;<span class="">1860</span>:        compressed data saved into `npz` format, it does not return</pre>
<pre class="cython line score-0">&#xA0;<span class="">1861</span>:        systematically the array rather than `np.lib.npyio.NpzFile` files.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1862</span>:        Use either `files` attributes to get the list of registered files</pre>
<pre class="cython line score-0">&#xA0;<span class="">1863</span>:        or `f` attribute dot the data name to get the loaded data set.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1864</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1865</span>:     compressed: bool, default=False</pre>
<pre class="cython line score-0">&#xA0;<span class="">1866</span>:        Compressed the file especially when file format is set to `.npz`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1867</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1868</span>:     comments: str or sequence of str or None, default='#'</pre>
<pre class="cython line score-0">&#xA0;<span class="">1869</span>:        The characters or list of characters used to indicate the start</pre>
<pre class="cython line score-0">&#xA0;<span class="">1870</span>:        of a comment. None implies no comments. For backwards compatibility,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1871</span>:        byte strings will be decoded as 'latin1'. This is useful when `fname`</pre>
<pre class="cython line score-0">&#xA0;<span class="">1872</span>:        is in `txt` format.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1873</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1874</span>:      delimiter: str,  optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1875</span>:         The character used to separate the values. For backwards compatibility,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1876</span>:         byte strings will be decoded as 'latin1'. The default is whitespace.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1877</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1878</span>:     kws: np.save ,np.savetext,  np.load , np.loadtxt</pre>
<pre class="cython line score-0">&#xA0;<span class="">1879</span>:        Additional keywords arguments for saving and loading data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1880</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1881</span>:     Return</pre>
<pre class="cython line score-0">&#xA0;<span class="">1882</span>:     ------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1883</span>:     None| data: ArrayLike</pre>
<pre class="cython line score-0">&#xA0;<span class="">1884</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1885</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">1886</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1887</span>:     &gt;&gt;&gt; import numpy as np</pre>
<pre class="cython line score-0">&#xA0;<span class="">1888</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import save_or_load</pre>
<pre class="cython line score-0">&#xA0;<span class="">1889</span>:     &gt;&gt;&gt; data = np.random.randn (2, 7)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1890</span>:     &gt;&gt;&gt; # save to txt</pre>
<pre class="cython line score-0">&#xA0;<span class="">1891</span>:     &gt;&gt;&gt; save_or_load ( "test.txt" , data)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1892</span>:     &gt;&gt;&gt; save_or_load ( "test",  data, format='.npy')</pre>
<pre class="cython line score-0">&#xA0;<span class="">1893</span>:     &gt;&gt;&gt; save_or_load ( "test",  data, format='.npz')</pre>
<pre class="cython line score-0">&#xA0;<span class="">1894</span>:     &gt;&gt;&gt; save_or_load ( "test_compressed",  data, format='.npz', compressed=True )</pre>
<pre class="cython line score-0">&#xA0;<span class="">1895</span>:     &gt;&gt;&gt; # load files</pre>
<pre class="cython line score-0">&#xA0;<span class="">1896</span>:     &gt;&gt;&gt; save_or_load ( "test.txt", task ='load')</pre>
<pre class="cython line score-0">&#xA0;<span class="">1897</span>:     Out[36]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">1898</span>:     array([[ 0.69265852,  0.67829574,  2.09023489, -2.34162127,  0.48689125,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1899</span>:             -0.04790965,  1.36510779],</pre>
<pre class="cython line score-0">&#xA0;<span class="">1900</span>:            [-1.38349568,  0.63050939,  0.81771051,  0.55093818, -0.43066737,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1901</span>:             -0.59276321, -0.80709192]])</pre>
<pre class="cython line score-0">&#xA0;<span class="">1902</span>:     &gt;&gt;&gt; save_or_load ( "test.npy", task ='load')</pre>
<pre class="cython line score-0">&#xA0;<span class="">1903</span>:     Out[39]: array([-2.34162127,  0.55093818])</pre>
<pre class="cython line score-0">&#xA0;<span class="">1904</span>:     &gt;&gt;&gt; save_or_load ( "test.npz", task ='load')</pre>
<pre class="cython line score-0">&#xA0;<span class="">1905</span>:     &lt;numpy.lib.npyio.NpzFile at 0x1b0821870a0&gt;</pre>
<pre class="cython line score-0">&#xA0;<span class="">1906</span>:     &gt;&gt;&gt; npzo = save_or_load ( "test.npz", task ='load')</pre>
<pre class="cython line score-0">&#xA0;<span class="">1907</span>:     &gt;&gt;&gt; npzo.files</pre>
<pre class="cython line score-0">&#xA0;<span class="">1908</span>:     Out[44]: ['arr_0']</pre>
<pre class="cython line score-0">&#xA0;<span class="">1909</span>:     &gt;&gt;&gt; npzo.f.arr_0</pre>
<pre class="cython line score-0">&#xA0;<span class="">1910</span>:     Out[45]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">1911</span>:     array([[ 0.69265852,  0.67829574,  2.09023489, -2.34162127,  0.48689125,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1912</span>:             -0.04790965,  1.36510779],</pre>
<pre class="cython line score-0">&#xA0;<span class="">1913</span>:            [-1.38349568,  0.63050939,  0.81771051,  0.55093818, -0.43066737,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1914</span>:             -0.59276321, -0.80709192]])</pre>
<pre class="cython line score-0">&#xA0;<span class="">1915</span>:     &gt;&gt;&gt; save_or_load ( "test_compressed.npz", task ='load')</pre>
<pre class="cython line score-0">&#xA0;<span class="">1916</span>:     ...</pre>
<pre class="cython line score-0">&#xA0;<span class="">1917</span>:     """</pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1918</span>:     r_formats = {"npy", "txt", "npz"}</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(1918,0,<span class='error_goto'>__PYX_ERR(0, 1918, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PySet_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1918, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  if (<span class='py_c_api'>PySet_Add</span>(__pyx_t_1, __pyx_n_u_npy) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1918, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PySet_Add</span>(__pyx_t_1, __pyx_n_u_txt_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1918, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PySet_Add</span>(__pyx_t_1, __pyx_n_u_npz) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1918, __pyx_L1_error)</span>
  __pyx_v_r_formats = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1919</span>: </pre>
<pre class="cython line score-164" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1920</span>:     (kind, kind0), ( task, task0 ) = lowertify(</pre>
<pre class='cython code score-164 '>  <span class='trace'>__Pyx_TraceLine</span>(1920,0,<span class='error_goto'>__PYX_ERR(0, 1920, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_lowertify);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1920, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1921,0,<span class='error_goto'>__PYX_ERR(0, 1921, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1920, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_format);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_format);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_format)) <span class='error_goto'>__PYX_ERR(0, 1920, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_task);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_task);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_v_task)) <span class='error_goto'>__PYX_ERR(0, 1920, __pyx_L1_error)</span>;
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1920,0,<span class='error_goto'>__PYX_ERR(0, 1920, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_2, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1920, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_4))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_4))) {
    PyObject* sequence = __pyx_t_4;
    Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
    if (unlikely(size != 2)) {
      if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
      else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
      <span class='error_goto'>__PYX_ERR(0, 1920, __pyx_L1_error)</span>
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
      __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
      __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
    } else {
      __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
      __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
    }
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
    #else
    __pyx_t_3 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1920, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1920, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    #endif
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  } else {
    Py_ssize_t index = -1;
    __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1920, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);
    index = 0; __pyx_t_3 = __pyx_t_5(__pyx_t_1); if (unlikely(!__pyx_t_3)) goto __pyx_L3_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    index = 1; __pyx_t_2 = __pyx_t_5(__pyx_t_1); if (unlikely(!__pyx_t_2)) goto __pyx_L3_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_5(__pyx_t_1), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1920, __pyx_L1_error)</span>
    __pyx_t_5 = NULL;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    goto __pyx_L4_unpacking_done;
    __pyx_L3_unpacking_failed:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_5 = NULL;
    if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
    <span class='error_goto'>__PYX_ERR(0, 1920, __pyx_L1_error)</span>
    __pyx_L4_unpacking_done:;
  }
  if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_3))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_3))) {
    PyObject* sequence = __pyx_t_3;
    Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
    if (unlikely(size != 2)) {
      if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
      else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
      <span class='error_goto'>__PYX_ERR(0, 1920, __pyx_L1_error)</span>
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
      __pyx_t_1 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
      __pyx_t_6 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
    } else {
      __pyx_t_1 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
      __pyx_t_6 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
    }
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
    #else
    __pyx_t_1 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1920, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_6 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1920, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    #endif
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  } else {
    Py_ssize_t index = -1;
    __pyx_t_7 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1920, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_7);
    index = 0; __pyx_t_1 = __pyx_t_5(__pyx_t_7); if (unlikely(!__pyx_t_1)) goto __pyx_L5_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    index = 1; __pyx_t_6 = __pyx_t_5(__pyx_t_7); if (unlikely(!__pyx_t_6)) goto __pyx_L5_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_5(__pyx_t_7), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1920, __pyx_L1_error)</span>
    __pyx_t_5 = NULL;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    goto __pyx_L6_unpacking_done;
    __pyx_L5_unpacking_failed:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_5 = NULL;
    if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
    <span class='error_goto'>__PYX_ERR(0, 1920, __pyx_L1_error)</span>
    __pyx_L6_unpacking_done:;
  }
  __pyx_v_kind = __pyx_t_1;
  __pyx_t_1 = 0;
  __pyx_v_kind0 = __pyx_t_6;
  __pyx_t_6 = 0;
  if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_2))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_2))) {
    PyObject* sequence = __pyx_t_2;
    Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
    if (unlikely(size != 2)) {
      if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
      else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
      <span class='error_goto'>__PYX_ERR(0, 1920, __pyx_L1_error)</span>
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
      __pyx_t_6 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
      __pyx_t_1 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
    } else {
      __pyx_t_6 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
      __pyx_t_1 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
    }
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    #else
    __pyx_t_6 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1920, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_1 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1920, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    #endif
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  } else {
    Py_ssize_t index = -1;
    __pyx_t_7 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1920, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_7);
    index = 0; __pyx_t_6 = __pyx_t_5(__pyx_t_7); if (unlikely(!__pyx_t_6)) goto __pyx_L7_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    index = 1; __pyx_t_1 = __pyx_t_5(__pyx_t_7); if (unlikely(!__pyx_t_1)) goto __pyx_L7_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_5(__pyx_t_7), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1920, __pyx_L1_error)</span>
    __pyx_t_5 = NULL;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    goto __pyx_L8_unpacking_done;
    __pyx_L7_unpacking_failed:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_5 = NULL;
    if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
    <span class='error_goto'>__PYX_ERR(0, 1920, __pyx_L1_error)</span>
    __pyx_L8_unpacking_done:;
  }
  if (!(likely(<span class='py_c_api'>PyUnicode_CheckExact</span>(__pyx_t_6))||((__pyx_t_6) == Py_None) || <span class='pyx_c_api'>__Pyx_RaiseUnexpectedTypeError</span>("unicode", __pyx_t_6))) <span class='error_goto'>__PYX_ERR(0, 1920, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_task, ((PyObject*)__pyx_t_6));
  __pyx_t_6 = 0;
  __pyx_v_task0 = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1921</span>:         format, task, return_origin =True )</pre>
<pre class='cython code score-7 '>  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1921, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return_origin, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1921, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">1922</span>: </pre>
<pre class="cython line score-13" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1923</span>:     assert  kind.replace ('.', '') in r_formats, (</pre>
<pre class='cython code score-13 '>  <span class='trace'>__Pyx_TraceLine</span>(1923,0,<span class='error_goto'>__PYX_ERR(0, 1923, __pyx_L1_error)</span>)
  #ifndef CYTHON_WITHOUT_ASSERTIONS
  if (unlikely(__pyx_assertions_enabled())) {
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_kind, __pyx_n_s_replace);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1923, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_4, __pyx_tuple__69, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1923, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PySet_ContainsTF</span>(__pyx_t_2, __pyx_v_r_formats, Py_EQ)); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1923, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_8)) {
/* â€¦ */
  __pyx_tuple__69 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_kp_u__2, __pyx_kp_u__49);<span class='error_goto'> if (unlikely(!__pyx_tuple__69)) __PYX_ERR(0, 1923, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__69);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__69);
</pre><pre class="cython line score-55" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1924</span>:         f"File format expects {smart_format(r_formats, 'or')}. Got {kind0!r}")</pre>
<pre class='cython code score-55 '>      <span class='trace'>__Pyx_TraceLine</span>(1924,0,<span class='error_goto'>__PYX_ERR(0, 1924, __pyx_L1_error)</span>)
      __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1924, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_9 = 0;
      __pyx_t_10 = 127;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_File_format_expects);
      __pyx_t_9 += 20;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_File_format_expects);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_kp_u_File_format_expects);
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_smart_format);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1924, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_1 = NULL;
      __pyx_t_11 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
        __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
        if (likely(__pyx_t_1)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
          __pyx_t_11 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[3] = {__pyx_t_1, __pyx_v_r_formats, __pyx_n_u_or};
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_11, 2+__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1924, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      }
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_t_4, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1924, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_10 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_3) &gt; __pyx_t_10) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_3) : __pyx_t_10;
      __pyx_t_9 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_3);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_3);
      __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Got);
      __pyx_t_9 += 6;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Got);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 2, __pyx_kp_u_Got);
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_v_kind0), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1924, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_10 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_3) &gt; __pyx_t_10) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_3) : __pyx_t_10;
      __pyx_t_9 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_3);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 3, __pyx_t_3);
      __pyx_t_3 = 0;
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_2, 4, __pyx_t_9, __pyx_t_10);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1924, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_builtin_AssertionError, __pyx_t_3, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='error_goto'>__PYX_ERR(0, 1923, __pyx_L1_error)</span>
    }
  }
  #else
  if ((1)); else <span class='error_goto'>__PYX_ERR(0, 1923, __pyx_L1_error)</span>
  #endif
</pre><pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1925</span>:     kind = '.' + kind.replace ('.', '')</pre>
<pre class='cython code score-12 '>  <span class='trace'>__Pyx_TraceLine</span>(1925,0,<span class='error_goto'>__PYX_ERR(0, 1925, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_kind, __pyx_n_s_replace);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1925, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_tuple__69, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1925, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='py_c_api'>PyNumber_Add</span>(__pyx_kp_u__2, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1925, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_kind, __pyx_t_3);
  __pyx_t_3 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1926</span>:     assert task in {'save', 'load'}, (</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(1926,0,<span class='error_goto'>__PYX_ERR(0, 1926, __pyx_L1_error)</span>)
  #ifndef CYTHON_WITHOUT_ASSERTIONS
  if (unlikely(__pyx_assertions_enabled())) {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_task);
    __pyx_t_12 = __pyx_v_task;
    __pyx_t_13 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_12, __pyx_n_u_save, Py_EQ)); if (unlikely((__pyx_t_13 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1926, __pyx_L1_error)</span>
    if (!__pyx_t_13) {
    } else {
      __pyx_t_8 = __pyx_t_13;
      goto __pyx_L9_bool_binop_done;
    }
    __pyx_t_13 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_12, __pyx_n_u_load, Py_EQ)); if (unlikely((__pyx_t_13 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1926, __pyx_L1_error)</span>
    __pyx_t_8 = __pyx_t_13;
    __pyx_L9_bool_binop_done:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
    __pyx_t_13 = __pyx_t_8;
    if (unlikely(!__pyx_t_13)) {
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_builtin_AssertionError, __pyx_kp_u_Wrong_task_task0_r_Valid_tasks_a, 0, 0);
      <span class='error_goto'>__PYX_ERR(0, 1926, __pyx_L1_error)</span>
    }
  }
  #else
  if ((1)); else <span class='error_goto'>__PYX_ERR(0, 1926, __pyx_L1_error)</span>
  #endif
</pre><pre class="cython line score-0">&#xA0;<span class="">1927</span>:         "Wrong task {task0!r}. Valid tasks are 'save' or 'load'")</pre>
<pre class="cython line score-0">&#xA0;<span class="">1928</span>: </pre>
<pre class="cython line score-24" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1929</span>:     save= {'.txt': np.savetxt, '.npy':np.save,</pre>
<pre class='cython code score-24 '>  <span class='trace'>__Pyx_TraceLine</span>(1929,0,<span class='error_goto'>__PYX_ERR(0, 1929, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1929, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1929, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_savetxt);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1929, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_txt, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1929, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1929, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_save);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1929, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_npy_2, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1929, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1930</span>:            ".npz": np.savez_compressed if ellipsis2false(</pre>
<pre class='cython code score-7 '>  <span class='trace'>__Pyx_TraceLine</span>(1930,0,<span class='error_goto'>__PYX_ERR(0, 1930, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_ellipsis2false);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1930, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(1930,0,<span class='error_goto'>__PYX_ERR(0, 1930, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1930, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_savez_compressed);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1930, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_2 = __pyx_t_4;
    __pyx_t_4 = 0;
  } else {
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1931</span>:                compressed)[0] else np.savez</pre>
<pre class='cython code score-31 '>  <span class='trace'>__Pyx_TraceLine</span>(1931,0,<span class='error_goto'>__PYX_ERR(0, 1931, __pyx_L1_error)</span>)
  __pyx_t_6 = NULL;
  __pyx_t_11 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_6)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_11 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_v_compressed};
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_11, 1+__pyx_t_11);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1930, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_4, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1931, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_13 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_1); if (unlikely((__pyx_t_13 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1931, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_13) {
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(1931,0,<span class='error_goto'>__PYX_ERR(0, 1931, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1931, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_savez);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1931, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_2 = __pyx_t_1;
    __pyx_t_1 = 0;
  }
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_kp_u_npz_2, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1929, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_save = ((PyObject*)__pyx_t_3);
  __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1932</span>:            }</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1933</span>:     if task =='save':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1933,0,<span class='error_goto'>__PYX_ERR(0, 1933, __pyx_L1_error)</span>)
  __pyx_t_13 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_task, __pyx_n_u_save, Py_EQ)); if (unlikely((__pyx_t_13 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1933, __pyx_L1_error)</span>
  if (__pyx_t_13) {
/* â€¦ */
    goto __pyx_L11;
  }
</pre><pre class="cython line score-43" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1934</span>:         arr = np.array (is_iterable( arr, exclude_string= True,</pre>
<pre class='cython code score-43 '>    <span class='trace'>__Pyx_TraceLine</span>(1934,0,<span class='error_goto'>__PYX_ERR(0, 1934, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1934, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1934, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_is_iterable);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1934, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1934, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arr);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_v_arr)) <span class='error_goto'>__PYX_ERR(0, 1934, __pyx_L1_error)</span>;
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1934, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_exclude_string, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1934, __pyx_L1_error)</span>
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(1934,0,<span class='error_goto'>__PYX_ERR(0, 1934, __pyx_L1_error)</span>)
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_4, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1934, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = NULL;
    __pyx_t_11 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_11 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_t_7};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_11, 1+__pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1934, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_3);
    __pyx_t_3 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1935</span>:                                     transform =True ))</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(1935,0,<span class='error_goto'>__PYX_ERR(0, 1935, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_transform, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1934, __pyx_L1_error)</span>
</pre><pre class="cython line score-24" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1936</span>:         save.get(kind) (fname, arr, **kws )</pre>
<pre class='cython code score-24 '>    <span class='trace'>__Pyx_TraceLine</span>(1936,0,<span class='error_goto'>__PYX_ERR(0, 1936, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_GetItemDefault</span>(__pyx_v_save, __pyx_v_kind, Py_None);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1936, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1936, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_fname);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_fname);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_fname)) <span class='error_goto'>__PYX_ERR(0, 1936, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arr);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_v_arr)) <span class='error_goto'>__PYX_ERR(0, 1936, __pyx_L1_error)</span>;
    __pyx_t_7 = <span class='py_c_api'>PyDict_Copy</span>(__pyx_v_kws);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1936, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_1, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1936, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1937</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1938</span>:     elif task =='load':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1938,0,<span class='error_goto'>__PYX_ERR(0, 1938, __pyx_L1_error)</span>)
  __pyx_t_13 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_task, __pyx_n_u_load, Py_EQ)); if (unlikely((__pyx_t_13 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1938, __pyx_L1_error)</span>
  if (__pyx_t_13) {
/* â€¦ */
  }
  __pyx_L11:;
</pre><pre class="cython line score-42" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1939</span>:          ext = os.path.splitext(fname)[1].lower()</pre>
<pre class='cython code score-42 '>    <span class='trace'>__Pyx_TraceLine</span>(1939,0,<span class='error_goto'>__PYX_ERR(0, 1939, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1939, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1939, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_splitext);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1939, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = NULL;
    __pyx_t_11 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_11 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_fname};
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_11, 1+__pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 1939, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_7, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1939, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_lower);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1939, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = NULL;
    __pyx_t_11 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
        __pyx_t_11 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, NULL};
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_11, 0+__pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 1939, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    }
    __pyx_v_ext = __pyx_t_6;
    __pyx_t_6 = 0;
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1940</span>:          if ext not in (".txt", '.npy', '.npz', '.gz'):</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(1940,0,<span class='error_goto'>__PYX_ERR(0, 1940, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_ext);
    __pyx_t_6 = __pyx_v_ext;
    __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_6, __pyx_kp_u_txt, Py_NE)); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1940, __pyx_L1_error)</span>
    if (__pyx_t_8) {
    } else {
      __pyx_t_13 = __pyx_t_8;
      goto __pyx_L13_bool_binop_done;
    }
    __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_6, __pyx_kp_u_npy_2, Py_NE)); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1940, __pyx_L1_error)</span>
    if (__pyx_t_8) {
    } else {
      __pyx_t_13 = __pyx_t_8;
      goto __pyx_L13_bool_binop_done;
    }
    __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_6, __pyx_kp_u_npz_2, Py_NE)); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1940, __pyx_L1_error)</span>
    if (__pyx_t_8) {
    } else {
      __pyx_t_13 = __pyx_t_8;
      goto __pyx_L13_bool_binop_done;
    }
    __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_6, __pyx_kp_u_gz, Py_NE)); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1940, __pyx_L1_error)</span>
    __pyx_t_13 = __pyx_t_8;
    __pyx_L13_bool_binop_done:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_8 = __pyx_t_13;
    if (unlikely(__pyx_t_8)) {
/* â€¦ */
    }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1941</span>:              raise ValueError ("Unrecognized file format {ext!r}."</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(1941,0,<span class='error_goto'>__PYX_ERR(0, 1941, __pyx_L1_error)</span>)
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__70, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1941, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_6, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='error_goto'>__PYX_ERR(0, 1941, __pyx_L1_error)</span>
/* â€¦ */
  __pyx_tuple__70 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Unrecognized_file_format_ext_r_E);<span class='error_goto'> if (unlikely(!__pyx_tuple__70)) __PYX_ERR(0, 1941, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__70);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__70);
</pre><pre class="cython line score-0">&#xA0;<span class="">1942</span>:                                " Expect '.txt', '.npy', '.gz' or '.npz'")</pre>
<pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1943</span>:          if ext in ('.txt', '.gz'):</pre>
<pre class='cython code score-6 '>    <span class='trace'>__Pyx_TraceLine</span>(1943,0,<span class='error_goto'>__PYX_ERR(0, 1943, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_ext);
    __pyx_t_6 = __pyx_v_ext;
    __pyx_t_13 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_6, __pyx_kp_u_txt, Py_EQ)); if (unlikely((__pyx_t_13 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1943, __pyx_L1_error)</span>
    if (!__pyx_t_13) {
    } else {
      __pyx_t_8 = __pyx_t_13;
      goto __pyx_L18_bool_binop_done;
    }
    __pyx_t_13 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_6, __pyx_kp_u_gz, Py_EQ)); if (unlikely((__pyx_t_13 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1943, __pyx_L1_error)</span>
    __pyx_t_8 = __pyx_t_13;
    __pyx_L18_bool_binop_done:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_13 = __pyx_t_8;
    if (__pyx_t_13) {
/* â€¦ */
      goto __pyx_L17;
    }
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1944</span>:             arr = np.loadtxt ( fname , comments= comments,</pre>
<pre class='cython code score-26 '>      <span class='trace'>__Pyx_TraceLine</span>(1944,0,<span class='error_goto'>__PYX_ERR(0, 1944, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1944, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_loadtxt);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1944, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1944, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_fname);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_fname);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_v_fname)) <span class='error_goto'>__PYX_ERR(0, 1944, __pyx_L1_error)</span>;
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1944, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_comments, __pyx_v_comments) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1944, __pyx_L1_error)</span>
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(1944,0,<span class='error_goto'>__PYX_ERR(0, 1944, __pyx_L1_error)</span>)
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_7, __pyx_t_6, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1944, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_3);
      __pyx_t_3 = 0;
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1945</span>:                               delimiter= delimiter,   **kws )</pre>
<pre class='cython code score-7 '>      <span class='trace'>__Pyx_TraceLine</span>(1945,0,<span class='error_goto'>__PYX_ERR(0, 1945, __pyx_L1_error)</span>)
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_delimiter, __pyx_v_delimiter) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1944, __pyx_L1_error)</span>
      __pyx_t_1 = __pyx_t_3;
      __pyx_t_3 = 0;
      if (<span class='pyx_c_api'>__Pyx_MergeKeywords</span>(__pyx_t_1, __pyx_v_kws) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1945, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">1946</span>:          else :</pre>
<pre class="cython line score-24" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1947</span>:             arr = np.load(fname,**kws )</pre>
<pre class='cython code score-24 '>    <span class='trace'>__Pyx_TraceLine</span>(1947,0,<span class='error_goto'>__PYX_ERR(0, 1947, __pyx_L1_error)</span>)
    /*else*/ {
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1947, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_load);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1947, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1947, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_fname);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_fname);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_fname)) <span class='error_goto'>__PYX_ERR(0, 1947, __pyx_L1_error)</span>;
      __pyx_t_6 = <span class='py_c_api'>PyDict_Copy</span>(__pyx_v_kws);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1947, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_3, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1947, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_7);
      __pyx_t_7 = 0;
    }
    __pyx_L17:;
</pre><pre class="cython line score-0">&#xA0;<span class="">1948</span>: </pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1949</span>:     return arr if task=='load' else None</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(1949,0,<span class='error_goto'>__PYX_ERR(0, 1949, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_13 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_task, __pyx_n_u_load, Py_EQ)); if (unlikely((__pyx_t_13 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1949, __pyx_L1_error)</span>
  if (__pyx_t_13) {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
    __pyx_t_7 = __pyx_v_arr;
  } else {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    __pyx_t_7 = Py_None;
  }
  __pyx_r = __pyx_t_7;
  __pyx_t_7 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1950</span>: </pre>
<pre class="cython line score-89" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1951</span>: def array2hdf5 (</pre>
<pre class='cython code score-89 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_58array2hdf5(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_57array2hdf5, " Load or write array to hdf5.\n    \n    Parameters \n    -----------\n    arr: Arraylike ( m_samples, n_features) \n      Data to load or write \n    filename: str, \n      Hdf5 disk file name whether to write or to load \n    task: str, {\"store\", \"load\", \"save\", default='store'}\n       Action to perform. user can use ['write'|'store'] interchnageably. Both \n       does the same task. \n    as_frame: bool, default=False \n       Concert loaded array to data frame. `Columns` can be supplied \n       to construct the datafame. \n    columns: List, Optional \n       Columns used to construct the dataframe. When its given, it must be \n       consistent with the shape of the `arr` along axis 1 \n       \n    Returns \n    ---------\n    None| data: ArrayLike or pd.DataFrame \n    \n    Examples \n    ----------\n    &gt;&gt;&gt; import numpy as np \n    &gt;&gt;&gt; from gofast.tools.baseutils import array2hdf5\n    &gt;&gt;&gt; data = np.random.randn (100, 27 ) \n    &gt;&gt;&gt; array2hdf5 ('test.h5', data   )\n    &gt;&gt;&gt; load_data = array2hdf5 ( 'test.h5', data, task ='load')\n    &gt;&gt;&gt; load_data.shape \n    Out[177]: (100, 27)\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_58array2hdf5 = {"array2hdf5", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_58array2hdf5, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_57array2hdf5};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_58array2hdf5(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_filename = 0;
  PyObject *__pyx_v_arr = 0;
  PyObject *__pyx_v_dataname = 0;
  PyObject *__pyx_v_task = 0;
  PyObject *__pyx_v_as_frame = 0;
  PyObject *__pyx_v_columns = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("array2hdf5 (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_filename,&amp;__pyx_n_s_arr,&amp;__pyx_n_s_dataname,&amp;__pyx_n_s_task,&amp;__pyx_n_s_as_frame,&amp;__pyx_n_s_columns,0};
  PyObject* values[6] = {0,0,0,0,0,0};
/* â€¦ */
  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_57array2hdf5(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_filename, PyObject *__pyx_v_arr, PyObject *__pyx_v_dataname, PyObject *__pyx_v_task, PyObject *__pyx_v_as_frame, PyObject *__pyx_v_columns) {
  PyObject *__pyx_v_h5py = NULL;
  PyObject *__pyx_v_act = NULL;
  PyObject *__pyx_v_h5fname = NULL;
  PyObject *__pyx_v_hf = NULL;
  PyObject *__pyx_v_data = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__71)
  <span class='trace'>__Pyx_TraceCall</span>("array2hdf5", __pyx_f[0], 1951, 0, <span class='error_goto'>__PYX_ERR(0, 1951, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_task);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.array2hdf5", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_h5py);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_act);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_h5fname);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_hf);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_data);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_arr);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_task);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__185 = <span class='py_c_api'>PyTuple_Pack</span>(11, __pyx_n_s_filename, __pyx_n_s_arr, __pyx_n_s_dataname, __pyx_n_s_task, __pyx_n_s_as_frame, __pyx_n_s_columns, __pyx_n_s_h5py, __pyx_n_s_act, __pyx_n_s_h5fname, __pyx_n_s_hf, __pyx_n_s_data);<span class='error_goto'> if (unlikely(!__pyx_tuple__185)) __PYX_ERR(0, 1951, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__185);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__185);
  __pyx_codeobj__71 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(6, 0, 0, 11, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__185, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_array2hdf5, 1951, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__71)) __PYX_ERR(0, 1951, __pyx_L1_error)</span>
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(1951,0,<span class='error_goto'>__PYX_ERR(0, 1951, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(7);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1951, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_filename, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1951, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_arr, __pyx_n_s_NDArray) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1951, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_dataname, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1951, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_task, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1951, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_as_frame, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1951, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_columns, __pyx_kp_s_List_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1951, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return, __pyx_kp_s_Union_NDArray_DataFrame) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1951, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_58array2hdf5, 0, __pyx_n_s_array2hdf5, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__71));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1951, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_2, __pyx_tuple__186);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_2, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_array2hdf5, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1951, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_tuple__186 = <span class='py_c_api'>PyTuple_Pack</span>(5, Py_None, ((PyObject*)__pyx_n_u_data), ((PyObject*)__pyx_n_u_store), ((PyObject *)Py_Ellipsis), Py_None);<span class='error_goto'> if (unlikely(!__pyx_tuple__186)) __PYX_ERR(0, 1951, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__186);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__186);
</pre><pre class="cython line score-0">&#xA0;<span class="">1952</span>:     filename: str,</pre>
<pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1953</span>:     arr: NDArray=None ,</pre>
<pre class='cython code score-6 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject*)((PyObject*)__pyx_n_u_data)));
    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject*)((PyObject*)__pyx_n_u_store)));
</pre><pre class="cython line score-0">&#xA0;<span class="">1954</span>:     dataname: str='data',</pre>
<pre class="cython line score-0">&#xA0;<span class="">1955</span>:     task: str='store',</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1956</span>:     as_frame: bool =...,</pre>
<pre class='cython code score-2 '>    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_Ellipsis)));
</pre><pre class="cython line score-96" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1957</span>:     columns: List[str]=None,</pre>
<pre class='cython code score-96 '>    values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_filename)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1951, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_arr);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1951, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_dataname);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1951, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_task);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1951, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_as_frame);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1951, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  5:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_columns);
          if (value) { values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1951, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "array2hdf5") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1951, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_filename = ((PyObject*)values[0]);
    __pyx_v_arr = values[1];
    __pyx_v_dataname = ((PyObject*)values[2]);
    __pyx_v_task = ((PyObject*)values[3]);
    __pyx_v_as_frame = values[4];
    __pyx_v_columns = values[5];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("array2hdf5", 0, 1, 6, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1951, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.array2hdf5", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_filename), (&amp;PyUnicode_Type), 0, "filename", 1))) <span class='error_goto'>__PYX_ERR(0, 1952, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_dataname), (&amp;PyUnicode_Type), 0, "dataname", 1))) <span class='error_goto'>__PYX_ERR(0, 1954, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_task), (&amp;PyUnicode_Type), 0, "task", 1))) <span class='error_goto'>__PYX_ERR(0, 1955, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_57array2hdf5(__pyx_self, __pyx_v_filename, __pyx_v_arr, __pyx_v_dataname, __pyx_v_task, __pyx_v_as_frame, __pyx_v_columns);
</pre><pre class="cython line score-0">&#xA0;<span class="">1958</span>: )-&gt; Union [NDArray , DataFrame]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">1959</span>:     """ Load or write array to hdf5.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1960</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1961</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">1962</span>:     -----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1963</span>:     arr: Arraylike ( m_samples, n_features)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1964</span>:       Data to load or write</pre>
<pre class="cython line score-0">&#xA0;<span class="">1965</span>:     filename: str,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1966</span>:       Hdf5 disk file name whether to write or to load</pre>
<pre class="cython line score-0">&#xA0;<span class="">1967</span>:     task: str, {"store", "load", "save", default='store'}</pre>
<pre class="cython line score-0">&#xA0;<span class="">1968</span>:        Action to perform. user can use ['write'|'store'] interchnageably. Both</pre>
<pre class="cython line score-0">&#xA0;<span class="">1969</span>:        does the same task.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1970</span>:     as_frame: bool, default=False</pre>
<pre class="cython line score-0">&#xA0;<span class="">1971</span>:        Concert loaded array to data frame. `Columns` can be supplied</pre>
<pre class="cython line score-0">&#xA0;<span class="">1972</span>:        to construct the datafame.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1973</span>:     columns: List, Optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1974</span>:        Columns used to construct the dataframe. When its given, it must be</pre>
<pre class="cython line score-0">&#xA0;<span class="">1975</span>:        consistent with the shape of the `arr` along axis 1</pre>
<pre class="cython line score-0">&#xA0;<span class="">1976</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1977</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">1978</span>:     ---------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1979</span>:     None| data: ArrayLike or pd.DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">1980</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1981</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">1982</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1983</span>:     &gt;&gt;&gt; import numpy as np</pre>
<pre class="cython line score-0">&#xA0;<span class="">1984</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import array2hdf5</pre>
<pre class="cython line score-0">&#xA0;<span class="">1985</span>:     &gt;&gt;&gt; data = np.random.randn (100, 27 )</pre>
<pre class="cython line score-0">&#xA0;<span class="">1986</span>:     &gt;&gt;&gt; array2hdf5 ('test.h5', data   )</pre>
<pre class="cython line score-0">&#xA0;<span class="">1987</span>:     &gt;&gt;&gt; load_data = array2hdf5 ( 'test.h5', data, task ='load')</pre>
<pre class="cython line score-0">&#xA0;<span class="">1988</span>:     &gt;&gt;&gt; load_data.shape</pre>
<pre class="cython line score-0">&#xA0;<span class="">1989</span>:     Out[177]: (100, 27)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1990</span>:     """</pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1991</span>:     import_optional_dependency("h5py")</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(1991,0,<span class='error_goto'>__PYX_ERR(0, 1991, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_import_optional_dependency);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1991, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_n_u_h5py};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1991, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1992</span>:     import h5py</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1992,0,<span class='error_goto'>__PYX_ERR(0, 1992, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_h5py, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1992, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_h5py = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1993</span>: </pre>
<pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1994</span>:     arr = is_iterable( arr, exclude_string =True, transform =True )</pre>
<pre class='cython code score-28 '>  <span class='trace'>__Pyx_TraceLine</span>(1994,0,<span class='error_goto'>__PYX_ERR(0, 1994, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_is_iterable);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1994, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1994, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arr);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_arr)) <span class='error_goto'>__PYX_ERR(0, 1994, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1994, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_exclude_string, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1994, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_transform, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1994, __pyx_L1_error)</span>
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_2, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1994, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_5);
  __pyx_t_5 = 0;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1995</span>:     act = copy.deepcopy(task)</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(1995,0,<span class='error_goto'>__PYX_ERR(0, 1995, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_copy);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1995, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_deepcopy);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1995, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_task};
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 1995, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_v_act = __pyx_t_5;
  __pyx_t_5 = 0;
</pre><pre class="cython line score-44" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1996</span>:     task = str(task).lower().strip()</pre>
<pre class='cython code score-44 '>  <span class='trace'>__Pyx_TraceLine</span>(1996,0,<span class='error_goto'>__PYX_ERR(0, 1996, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Str</span>(__pyx_v_task);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1996, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_lower);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1996, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1996, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_strip);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1996, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_2, NULL};
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 1996, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  if (!(likely(<span class='py_c_api'>PyUnicode_CheckExact</span>(__pyx_t_5))||((__pyx_t_5) == Py_None) || <span class='pyx_c_api'>__Pyx_RaiseUnexpectedTypeError</span>("unicode", __pyx_t_5))) <span class='error_goto'>__PYX_ERR(0, 1996, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_task, ((PyObject*)__pyx_t_5));
  __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1997</span>: </pre>
<pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1998</span>:     if task in ("write", "store", "save"):</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(1998,0,<span class='error_goto'>__PYX_ERR(0, 1998, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_task);
  __pyx_t_6 = __pyx_v_task;
  __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_6, __pyx_n_u_write, Py_EQ)); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1998, __pyx_L1_error)</span>
  if (!__pyx_t_8) {
  } else {
    __pyx_t_7 = __pyx_t_8;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_6, __pyx_n_u_store, Py_EQ)); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1998, __pyx_L1_error)</span>
  if (!__pyx_t_8) {
  } else {
    __pyx_t_7 = __pyx_t_8;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_6, __pyx_n_u_save, Py_EQ)); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1998, __pyx_L1_error)</span>
  __pyx_t_7 = __pyx_t_8;
  __pyx_L4_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_8 = __pyx_t_7;
  if (__pyx_t_8) {
/* â€¦ */
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1999</span>:         task ='store'</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(1999,0,<span class='error_goto'>__PYX_ERR(0, 1999, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_store);
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_task, __pyx_n_u_store);
</pre><pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2000</span>:     assert task in {"store", "load"}, ("Expects ['store'|'load'] as task."</pre>
<pre class='cython code score-12 '>  <span class='trace'>__Pyx_TraceLine</span>(2000,0,<span class='error_goto'>__PYX_ERR(0, 2000, __pyx_L1_error)</span>)
  #ifndef CYTHON_WITHOUT_ASSERTIONS
  if (unlikely(__pyx_assertions_enabled())) {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_task);
    __pyx_t_6 = __pyx_v_task;
    __pyx_t_7 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_6, __pyx_n_u_store, Py_EQ)); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2000, __pyx_L1_error)</span>
    if (!__pyx_t_7) {
    } else {
      __pyx_t_8 = __pyx_t_7;
      goto __pyx_L7_bool_binop_done;
    }
    __pyx_t_7 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_6, __pyx_n_u_load, Py_EQ)); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2000, __pyx_L1_error)</span>
    __pyx_t_8 = __pyx_t_7;
    __pyx_L7_bool_binop_done:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_7 = __pyx_t_8;
    if (unlikely(!__pyx_t_7)) {
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(2000,0,<span class='error_goto'>__PYX_ERR(0, 2000, __pyx_L1_error)</span>)
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_kp_u_Expects_store_load_as_task_Got, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2000, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_builtin_AssertionError, __pyx_t_1, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='error_goto'>__PYX_ERR(0, 2000, __pyx_L1_error)</span>
    }
  }
  #else
  if ((1)); else <span class='error_goto'>__PYX_ERR(0, 2000, __pyx_L1_error)</span>
  #endif
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2001</span>:                                          f" Got {act!r}")</pre>
<pre class='cython code score-7 '>      <span class='trace'>__Pyx_TraceLine</span>(2001,0,<span class='error_goto'>__PYX_ERR(0, 2001, __pyx_L1_error)</span>)
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_v_act), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2001, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
</pre><pre class="cython line score-0">&#xA0;<span class="">2002</span>:     # for consistency</pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2003</span>:     arr = np.array ( arr )</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(2003,0,<span class='error_goto'>__PYX_ERR(0, 2003, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2003, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2003, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_5 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_5)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_v_arr};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2003, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-13" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2004</span>:     h5fname = str(filename).replace ('.h5', '')</pre>
<pre class='cython code score-13 '>  <span class='trace'>__Pyx_TraceLine</span>(2004,0,<span class='error_goto'>__PYX_ERR(0, 2004, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Str</span>(__pyx_v_filename);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2004, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_replace);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2004, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_tuple__72, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2004, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_h5fname = __pyx_t_1;
  __pyx_t_1 = 0;
/* â€¦ */
  __pyx_tuple__72 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_kp_u_h5, __pyx_kp_u__49);<span class='error_goto'> if (unlikely(!__pyx_tuple__72)) __PYX_ERR(0, 2004, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__72);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__72);
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2005</span>:     if task =='store':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(2005,0,<span class='error_goto'>__PYX_ERR(0, 2005, __pyx_L1_error)</span>)
  __pyx_t_7 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_task, __pyx_n_u_store, Py_EQ)); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2005, __pyx_L1_error)</span>
  if (__pyx_t_7) {
/* â€¦ */
    goto __pyx_L9;
  }
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2006</span>:         if arr is None:</pre>
<pre class='cython code score-0 '>    <span class='trace'>__Pyx_TraceLine</span>(2006,0,<span class='error_goto'>__PYX_ERR(0, 2006, __pyx_L1_error)</span>)
    __pyx_t_7 = (__pyx_v_arr == Py_None);
    if (unlikely(__pyx_t_7)) {
/* â€¦ */
    }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2007</span>:             raise TypeError ("Array cannot be None when the task"</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(2007,0,<span class='error_goto'>__PYX_ERR(0, 2007, __pyx_L1_error)</span>)
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_TypeError, __pyx_tuple__73, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2007, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_1, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='error_goto'>__PYX_ERR(0, 2007, __pyx_L1_error)</span>
/* â€¦ */
  __pyx_tuple__73 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Array_cannot_be_None_when_the_ta);<span class='error_goto'> if (unlikely(!__pyx_tuple__73)) __PYX_ERR(0, 2007, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__73);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__73);
</pre><pre class="cython line score-0">&#xA0;<span class="">2008</span>:                              " consists to write a file.")</pre>
<pre class="cython line score-79" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2009</span>:         with h5py.File(h5fname + '.h5', 'w') as hf:</pre>
<pre class='cython code score-79 '>    <span class='trace'>__Pyx_TraceLine</span>(2009,0,<span class='error_goto'>__PYX_ERR(0, 2009, __pyx_L1_error)</span>)
    /*with:*/ {
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_h5py, __pyx_n_s_File);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2009, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_5 = <span class='py_c_api'>PyNumber_Add</span>(__pyx_v_h5fname, __pyx_kp_u_h5);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2009, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      __pyx_t_3 = NULL;
      __pyx_t_4 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
        __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
        if (likely(__pyx_t_3)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
          __pyx_t_4 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[3] = {__pyx_t_3, __pyx_t_5, __pyx_n_u_w};
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2009, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      }
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_1, __pyx_n_s_exit);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2009, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_1, __pyx_n_s_enter);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2009, __pyx_L11_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      __pyx_t_3 = NULL;
      __pyx_t_4 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
        __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
        if (likely(__pyx_t_3)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
          __pyx_t_4 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2009, __pyx_L11_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      }
      __pyx_t_5 = __pyx_t_2;
      __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      /*try:*/ {
        {
          /*try:*/ {
            __pyx_v_hf = __pyx_t_5;
            __pyx_t_5 = 0;
/* â€¦ */
          }
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
          goto __pyx_L20_try_end;
          __pyx_L15_error:;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
          /*except:*/ {
            <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.array2hdf5", __pyx_clineno, __pyx_lineno, __pyx_filename);
            if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_3, &amp;__pyx_t_2, &amp;__pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2009, __pyx_L17_except_error)</span>
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_2);
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
            __pyx_t_5 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_t_3, __pyx_t_2, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2009, __pyx_L17_except_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
            __pyx_t_13 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_9, __pyx_t_5, NULL);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
            if (unlikely(!__pyx_t_13)) <span class='error_goto'>__PYX_ERR(0, 2009, __pyx_L17_except_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_13);
            __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_13);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
            if (__pyx_t_7 &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2009, __pyx_L17_except_error)</span>
            __pyx_t_8 = (!__pyx_t_7);
            if (unlikely(__pyx_t_8)) {
              <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
              <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
              <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_1);
              <span class='pyx_c_api'>__Pyx_ErrRestoreWithState</span>(__pyx_t_3, __pyx_t_2, __pyx_t_1);
              __pyx_t_3 = 0; __pyx_t_2 = 0; __pyx_t_1 = 0; 
              <span class='error_goto'>__PYX_ERR(0, 2009, __pyx_L17_except_error)</span>
            }
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
            goto __pyx_L16_exception_handled;
          }
          __pyx_L17_except_error:;
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_10);
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
          <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_10, __pyx_t_11, __pyx_t_12);
          goto __pyx_L1_error;
          __pyx_L16_exception_handled:;
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_10);
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
          <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_10, __pyx_t_11, __pyx_t_12);
          __pyx_L20_try_end:;
        }
      }
      /*finally:*/ {
        /*normal exit:*/{
          if (__pyx_t_9) {
            __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_9, __pyx_tuple__51, NULL);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
            if (unlikely(!__pyx_t_12)) <span class='error_goto'>__PYX_ERR(0, 2009, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
          }
          goto __pyx_L14;
        }
        __pyx_L14:;
      }
      goto __pyx_L24;
      __pyx_L11_error:;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      goto __pyx_L1_error;
      __pyx_L24:;
    }
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2010</span>:             hf.create_dataset(dataname,  data=arr)</pre>
<pre class='cython code score-23 '>            <span class='trace'>__Pyx_TraceLine</span>(2010,0,<span class='error_goto'>__PYX_ERR(0, 2010, __pyx_L15_error)</span>)
            __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_hf, __pyx_n_s_create_dataset);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2010, __pyx_L15_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
            __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2010, __pyx_L15_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_dataname);
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_dataname);
            if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_dataname)) <span class='error_goto'>__PYX_ERR(0, 2010, __pyx_L15_error)</span>;
            __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2010, __pyx_L15_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
            if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_data, __pyx_v_arr) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2010, __pyx_L15_error)</span>
            __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_t_1, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2010, __pyx_L15_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2011</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2012</span>:     elif task=='load':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(2012,0,<span class='error_goto'>__PYX_ERR(0, 2012, __pyx_L1_error)</span>)
  __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_task, __pyx_n_u_load, Py_EQ)); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2012, __pyx_L1_error)</span>
  if (__pyx_t_8) {
/* â€¦ */
  }
  __pyx_L9:;
</pre><pre class="cython line score-79" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2013</span>:         with h5py.File(h5fname +".h5", 'r') as hf:</pre>
<pre class='cython code score-79 '>    <span class='trace'>__Pyx_TraceLine</span>(2013,0,<span class='error_goto'>__PYX_ERR(0, 2013, __pyx_L1_error)</span>)
    /*with:*/ {
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_h5py, __pyx_n_s_File);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2013, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_3 = <span class='py_c_api'>PyNumber_Add</span>(__pyx_v_h5fname, __pyx_kp_u_h5);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2013, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_5 = NULL;
      __pyx_t_4 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
        __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
        if (likely(__pyx_t_5)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
          __pyx_t_4 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[3] = {__pyx_t_5, __pyx_t_3, __pyx_n_u_r};
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2013, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      }
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_1, __pyx_n_s_exit);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2013, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_1, __pyx_n_s_enter);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2013, __pyx_L25_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_5 = NULL;
      __pyx_t_4 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
        __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
        if (likely(__pyx_t_5)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
          __pyx_t_4 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_5, NULL};
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2013, __pyx_L25_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      }
      __pyx_t_3 = __pyx_t_2;
      __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      /*try:*/ {
        {
          /*try:*/ {
            __pyx_v_hf = __pyx_t_3;
            __pyx_t_3 = 0;
/* â€¦ */
          }
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
          goto __pyx_L34_try_end;
          __pyx_L29_error:;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
          /*except:*/ {
            <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.array2hdf5", __pyx_clineno, __pyx_lineno, __pyx_filename);
            if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_1, &amp;__pyx_t_3, &amp;__pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2013, __pyx_L31_except_error)</span>
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_2);
            __pyx_t_5 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_t_1, __pyx_t_3, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2013, __pyx_L31_except_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
            __pyx_t_13 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_9, __pyx_t_5, NULL);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
            if (unlikely(!__pyx_t_13)) <span class='error_goto'>__PYX_ERR(0, 2013, __pyx_L31_except_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_13);
            __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_13);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
            if (__pyx_t_8 &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2013, __pyx_L31_except_error)</span>
            __pyx_t_7 = (!__pyx_t_8);
            if (unlikely(__pyx_t_7)) {
              <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
              <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
              <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_2);
              <span class='pyx_c_api'>__Pyx_ErrRestoreWithState</span>(__pyx_t_1, __pyx_t_3, __pyx_t_2);
              __pyx_t_1 = 0; __pyx_t_3 = 0; __pyx_t_2 = 0; 
              <span class='error_goto'>__PYX_ERR(0, 2013, __pyx_L31_except_error)</span>
            }
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
            goto __pyx_L30_exception_handled;
          }
          __pyx_L31_except_error:;
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_10);
          <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_12, __pyx_t_11, __pyx_t_10);
          goto __pyx_L1_error;
          __pyx_L30_exception_handled:;
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_10);
          <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_12, __pyx_t_11, __pyx_t_10);
          __pyx_L34_try_end:;
        }
      }
      /*finally:*/ {
        /*normal exit:*/{
          if (__pyx_t_9) {
            __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_9, __pyx_tuple__51, NULL);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
            if (unlikely(!__pyx_t_10)) <span class='error_goto'>__PYX_ERR(0, 2013, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
          }
          goto __pyx_L28;
        }
        __pyx_L28:;
      }
      goto __pyx_L38;
      __pyx_L25_error:;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      goto __pyx_L1_error;
      __pyx_L38:;
    }
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2014</span>:             data = hf[dataname][:]</pre>
<pre class='cython code score-5 '>            <span class='trace'>__Pyx_TraceLine</span>(2014,0,<span class='error_goto'>__PYX_ERR(0, 2014, __pyx_L29_error)</span>)
            __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Dict_GetItem</span>(__pyx_v_hf, __pyx_v_dataname);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2014, __pyx_L29_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
            __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetSlice</span>(__pyx_t_3, 0, 0, NULL, NULL, &amp;__pyx_slice__5, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2014, __pyx_L29_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
            __pyx_v_data = __pyx_t_1;
            __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2015</span>: </pre>
<pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2016</span>:         if  ellipsis2false( as_frame )[0]:</pre>
<pre class='cython code score-22 '>    <span class='trace'>__Pyx_TraceLine</span>(2016,0,<span class='error_goto'>__PYX_ERR(0, 2016, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_ellipsis2false);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2016, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_1 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_v_as_frame};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2016, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_2, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2016, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_3); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2016, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (__pyx_t_7) {
/* â€¦ */
    }
</pre><pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2017</span>:             data = pd.DataFrame ( data , columns = columns )</pre>
<pre class='cython code score-28 '>      <span class='trace'>__Pyx_TraceLine</span>(2017,0,<span class='error_goto'>__PYX_ERR(0, 2017, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2017, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2017, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_v_data)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("data"); <span class='error_goto'>__PYX_ERR(0, 2017, __pyx_L1_error)</span> }
      __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2017, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_data)) <span class='error_goto'>__PYX_ERR(0, 2017, __pyx_L1_error)</span>;
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2017, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_columns, __pyx_v_columns) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2017, __pyx_L1_error)</span>
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_3, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2017, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_data, __pyx_t_5);
      __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2018</span>: </pre>
<pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2019</span>:     return data if task=='load' else None</pre>
<pre class='cython code score-7 '>  <span class='trace'>__Pyx_TraceLine</span>(2019,0,<span class='error_goto'>__PYX_ERR(0, 2019, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_7 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_task, __pyx_n_u_load, Py_EQ)); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2019, __pyx_L1_error)</span>
  if (__pyx_t_7) {
    if (unlikely(!__pyx_v_data)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("data"); <span class='error_goto'>__PYX_ERR(0, 2019, __pyx_L1_error)</span> }
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
    __pyx_t_5 = __pyx_v_data;
  } else {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    __pyx_t_5 = Py_None;
  }
  __pyx_r = __pyx_t_5;
  __pyx_t_5 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2020</span>: </pre>
<pre class="cython line score-76" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2021</span>: def remove_target_from_array(arr,  target_indices):</pre>
<pre class='cython code score-76 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_60remove_target_from_array(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_59remove_target_from_array, "\n    Remove specified columns from a 2D array based on target indices.\n\n    This function extracts columns at specified indices from a 2D array, \n    returning the modified array without these columns and a separate array \n    containing the extracted columns. It raises an error if any of the indices\n    are out of bounds.\n\n    Parameters\n    ----------\n    arr : ndarray\n        A 2D numpy array from which columns are to be removed.\n    target_indices : list or ndarray\n        Indices of the columns in `arr` that need to be extracted and removed.\n\n    Returns\n    -------\n    modified_arr : ndarray\n        The array obtained after removing the specified columns.\n    target_arr : ndarray\n        An array consisting of the columns extracted from `arr`.\n\n    Raises\n    ------\n    ValueError\n        If any of the target indices are out of the range of the array dimensions.\n\n    Examples\n    --------\n    &gt;&gt;&gt; arr = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])\n    &gt;&gt;&gt; target_indices = [1, 2]\n    &gt;&gt;&gt; modified_arr, target_arr = remove_target_from_array(arr, target_indices)\n    &gt;&gt;&gt; modified_arr\n    array([[1],\n           [4],\n           [7]])\n    &gt;&gt;&gt; target_arr\n    array([[2, 3],\n           [5, 6],\n           [7, 8]])\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_60remove_target_from_array = {"remove_target_from_array", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_60remove_target_from_array, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_59remove_target_from_array};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_60remove_target_from_array(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_arr = 0;
  PyObject *__pyx_v_target_indices = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("remove_target_from_array (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_arr,&amp;__pyx_n_s_target_indices,0};
  PyObject* values[2] = {0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_arr)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2021, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_target_indices)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2021, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("remove_target_from_array", 1, 2, 2, 1); <span class='error_goto'>__PYX_ERR(0, 2021, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "remove_target_from_array") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2021, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 2)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
    }
    __pyx_v_arr = values[0];
    __pyx_v_target_indices = values[1];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("remove_target_from_array", 1, 2, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2021, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.remove_target_from_array", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_59remove_target_from_array(__pyx_self, __pyx_v_arr, __pyx_v_target_indices);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
static PyObject *__pyx_gb_6gofast_5tools_9baseutils_24remove_target_from_array_2generator10(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
/* â€¦ */
static PyObject *__pyx_pf_6gofast_5tools_9baseutils_59remove_target_from_array(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_arr, PyObject *__pyx_v_target_indices) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_15_remove_target_from_array *__pyx_cur_scope;
  PyObject *__pyx_v_target_arr = NULL;
  PyObject *__pyx_v_modified_arr = NULL;
  PyObject *__pyx_gb_6gofast_5tools_9baseutils_24remove_target_from_array_2generator10 = 0;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__74)
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_15_remove_target_from_array *)__pyx_tp_new_6gofast_5tools_9baseutils___pyx_scope_struct_15_remove_target_from_array(__pyx_ptype_6gofast_5tools_9baseutils___pyx_scope_struct_15_remove_target_from_array, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_15_remove_target_from_array *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 2021, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  <span class='trace'>__Pyx_TraceCall</span>("remove_target_from_array", __pyx_f[0], 2021, 0, <span class='error_goto'>__PYX_ERR(0, 2021, __pyx_L1_error)</span>);
  __pyx_cur_scope-&gt;__pyx_v_arr = __pyx_v_arr;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_arr);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_v_arr);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.remove_target_from_array", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_target_arr);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_modified_arr);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_gb_6gofast_5tools_9baseutils_24remove_target_from_array_2generator10);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__187 = <span class='py_c_api'>PyTuple_Pack</span>(6, __pyx_n_s_arr, __pyx_n_s_target_indices, __pyx_n_s_target_arr, __pyx_n_s_modified_arr, __pyx_n_s_genexpr, __pyx_n_s_genexpr);<span class='error_goto'> if (unlikely(!__pyx_tuple__187)) __PYX_ERR(0, 2021, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__187);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__187);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(2021,0,<span class='error_goto'>__PYX_ERR(0, 2021, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_60remove_target_from_array, 0, __pyx_n_s_remove_target_from_array, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__74));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2021, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_remove_target_from_array, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2021, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_codeobj__74 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(2, 0, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__187, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_remove_target_from_array, 2021, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__74)) __PYX_ERR(0, 2021, __pyx_L1_error)</span>
/* â€¦ */
struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_15_remove_target_from_array {
  PyObject_HEAD
  PyObject *__pyx_v_arr;
};

</pre><pre class="cython line score-0">&#xA0;<span class="">2022</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2023</span>:     Remove specified columns from a 2D array based on target indices.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2024</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2025</span>:     This function extracts columns at specified indices from a 2D array,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2026</span>:     returning the modified array without these columns and a separate array</pre>
<pre class="cython line score-0">&#xA0;<span class="">2027</span>:     containing the extracted columns. It raises an error if any of the indices</pre>
<pre class="cython line score-0">&#xA0;<span class="">2028</span>:     are out of bounds.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2029</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2030</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">2031</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2032</span>:     arr : ndarray</pre>
<pre class="cython line score-0">&#xA0;<span class="">2033</span>:         A 2D numpy array from which columns are to be removed.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2034</span>:     target_indices : list or ndarray</pre>
<pre class="cython line score-0">&#xA0;<span class="">2035</span>:         Indices of the columns in `arr` that need to be extracted and removed.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2036</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2037</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">2038</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2039</span>:     modified_arr : ndarray</pre>
<pre class="cython line score-0">&#xA0;<span class="">2040</span>:         The array obtained after removing the specified columns.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2041</span>:     target_arr : ndarray</pre>
<pre class="cython line score-0">&#xA0;<span class="">2042</span>:         An array consisting of the columns extracted from `arr`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2043</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2044</span>:     Raises</pre>
<pre class="cython line score-0">&#xA0;<span class="">2045</span>:     ------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2046</span>:     ValueError</pre>
<pre class="cython line score-0">&#xA0;<span class="">2047</span>:         If any of the target indices are out of the range of the array dimensions.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2048</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2049</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">2050</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2051</span>:     &gt;&gt;&gt; arr = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])</pre>
<pre class="cython line score-0">&#xA0;<span class="">2052</span>:     &gt;&gt;&gt; target_indices = [1, 2]</pre>
<pre class="cython line score-0">&#xA0;<span class="">2053</span>:     &gt;&gt;&gt; modified_arr, target_arr = remove_target_from_array(arr, target_indices)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2054</span>:     &gt;&gt;&gt; modified_arr</pre>
<pre class="cython line score-0">&#xA0;<span class="">2055</span>:     array([[1],</pre>
<pre class="cython line score-0">&#xA0;<span class="">2056</span>:            [4],</pre>
<pre class="cython line score-0">&#xA0;<span class="">2057</span>:            [7]])</pre>
<pre class="cython line score-0">&#xA0;<span class="">2058</span>:     &gt;&gt;&gt; target_arr</pre>
<pre class="cython line score-0">&#xA0;<span class="">2059</span>:     array([[2, 3],</pre>
<pre class="cython line score-0">&#xA0;<span class="">2060</span>:            [5, 6],</pre>
<pre class="cython line score-0">&#xA0;<span class="">2061</span>:            [7, 8]])</pre>
<pre class="cython line score-0">&#xA0;<span class="">2062</span>:     """</pre>
<pre class="cython line score-98" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2063</span>:     if any(idx &gt;= arr.shape[1] for idx in target_indices):</pre>
<pre class='cython code score-98 '>static PyObject *__pyx_pf_6gofast_5tools_9baseutils_24remove_target_from_array_genexpr(PyObject *__pyx_self, PyObject *__pyx_genexpr_arg_0) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_16_genexpr *__pyx_cur_scope;
  PyObject *__pyx_r = NULL;
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_16_genexpr *)__pyx_tp_new_6gofast_5tools_9baseutils___pyx_scope_struct_16_genexpr(__pyx_ptype_6gofast_5tools_9baseutils___pyx_scope_struct_16_genexpr, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_16_genexpr *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 2063, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  __pyx_cur_scope-&gt;__pyx_outer_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_15_remove_target_from_array *) __pyx_self;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>((PyObject *)__pyx_cur_scope-&gt;__pyx_outer_scope);
  <span class='refnanny'>__Pyx_GIVEREF</span>((PyObject *)__pyx_cur_scope-&gt;__pyx_outer_scope);
  __pyx_cur_scope-&gt;__pyx_genexpr_arg_0 = __pyx_genexpr_arg_0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  {
    __pyx_CoroutineObject *gen = <span class='pyx_c_api'>__Pyx_Generator_New</span>((__pyx_coroutine_body_t) __pyx_gb_6gofast_5tools_9baseutils_24remove_target_from_array_2generator10, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_remove_target_from_array_locals, __pyx_n_s_gofast_tools_baseutils);<span class='error_goto'> if (unlikely(!gen)) __PYX_ERR(0, 2063, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_cur_scope);
    <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
    return (PyObject *) gen;
  }

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.remove_target_from_array.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_gb_6gofast_5tools_9baseutils_24remove_target_from_array_2generator10(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
{
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("genexpr", 0);
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_L3_first_run:;
  if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 2063, __pyx_L1_error)</span>
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>(".0"); <span class='error_goto'>__PYX_ERR(0, 2063, __pyx_L1_error)</span> }
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) {
    __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_genexpr_arg_0; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    __pyx_t_2 = 0;
    __pyx_t_3 = NULL;
  } else {
    __pyx_t_2 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2063, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2063, __pyx_L1_error)</span>
  }
  for (;;) {
    if (likely(!__pyx_t_3)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2063, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2063, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2063, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2063, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2063, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2063, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      }
    } else {
      __pyx_t_4 = __pyx_t_3(__pyx_t_1);
      if (unlikely(!__pyx_t_4)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 2063, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    }
    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_cur_scope-&gt;__pyx_v_idx);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_cur_scope-&gt;__pyx_v_idx, __pyx_t_4);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
    __pyx_t_4 = 0;
    if (unlikely(!__pyx_cur_scope-&gt;__pyx_outer_scope-&gt;__pyx_v_arr)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("arr"); <span class='error_goto'>__PYX_ERR(0, 2063, __pyx_L1_error)</span> }
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_cur_scope-&gt;__pyx_outer_scope-&gt;__pyx_v_arr, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2063, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_4, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2063, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_cur_scope-&gt;__pyx_v_idx, __pyx_t_5, Py_GE); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2063, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_4); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2063, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (__pyx_t_6) {
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_True);
      __pyx_r = Py_True;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      goto __pyx_L0;
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  /*else*/ {
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_False);
    __pyx_r = Py_False;
    goto __pyx_L0;
  }
  CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);

  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_Generator_Replace_StopIteration</span>(0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  #if !CYTHON_USE_EXC_INFO_STACK
  <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
  #endif
  __pyx_generator-&gt;resume_label = -1;
  <span class='pyx_c_api'>__Pyx_Coroutine_clear</span>((PyObject*)__pyx_generator);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(2063,0,<span class='error_goto'>__PYX_ERR(0, 2063, __pyx_L1_error)</span>)
  __pyx_t_1 = __pyx_pf_6gofast_5tools_9baseutils_24remove_target_from_array_genexpr(((PyObject*)__pyx_cur_scope), __pyx_v_target_indices);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2063, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Generator_Next</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2063, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_2); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2063, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (unlikely(__pyx_t_3)) {
/* â€¦ */
  }
/* â€¦ */
struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_16_genexpr {
  PyObject_HEAD
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_15_remove_target_from_array *__pyx_outer_scope;
  PyObject *__pyx_genexpr_arg_0;
  PyObject *__pyx_v_idx;
};

</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2064</span>:         raise ValueError("One or more indices are out of the array's bounds.")</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(2064,0,<span class='error_goto'>__PYX_ERR(0, 2064, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__75, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2064, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='error_goto'>__PYX_ERR(0, 2064, __pyx_L1_error)</span>
/* â€¦ */
  __pyx_tuple__75 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_One_or_more_indices_are_out_of_t);<span class='error_goto'> if (unlikely(!__pyx_tuple__75)) __PYX_ERR(0, 2064, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__75);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__75);
</pre><pre class="cython line score-0">&#xA0;<span class="">2065</span>: </pre>
<pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2066</span>:     target_arr = arr[:, target_indices]</pre>
<pre class='cython code score-14 '>  <span class='trace'>__Pyx_TraceLine</span>(2066,0,<span class='error_goto'>__PYX_ERR(0, 2066, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2066, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_slice__5);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_slice__5);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_slice__5)) <span class='error_goto'>__PYX_ERR(0, 2066, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_indices);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target_indices);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_v_target_indices)) <span class='error_goto'>__PYX_ERR(0, 2066, __pyx_L1_error)</span>;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_cur_scope-&gt;__pyx_v_arr, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2066, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_target_arr = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2067</span>:     modified_arr = np.delete(arr, target_indices, axis=1)</pre>
<pre class='cython code score-28 '>  <span class='trace'>__Pyx_TraceLine</span>(2067,0,<span class='error_goto'>__PYX_ERR(0, 2067, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2067, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_delete);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2067, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2067, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_arr);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_v_arr);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_cur_scope-&gt;__pyx_v_arr)) <span class='error_goto'>__PYX_ERR(0, 2067, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_indices);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target_indices);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_v_target_indices)) <span class='error_goto'>__PYX_ERR(0, 2067, __pyx_L1_error)</span>;
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2067, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_axis, __pyx_int_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2067, __pyx_L1_error)</span>
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_1, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2067, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_v_modified_arr = __pyx_t_5;
  __pyx_t_5 = 0;
</pre><pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2068</span>:     return modified_arr, target_arr</pre>
<pre class='cython code score-12 '>  <span class='trace'>__Pyx_TraceLine</span>(2068,0,<span class='error_goto'>__PYX_ERR(0, 2068, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2068, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_modified_arr);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_modified_arr);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_v_modified_arr)) <span class='error_goto'>__PYX_ERR(0, 2068, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_arr);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target_arr);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 1, __pyx_v_target_arr)) <span class='error_goto'>__PYX_ERR(0, 2068, __pyx_L1_error)</span>;
  __pyx_r = __pyx_t_5;
  __pyx_t_5 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2069</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2070</span>: # revise the code, elevate the style of programming, return only target if</pre>
<pre class="cython line score-0">&#xA0;<span class="">2071</span>: # return_X_y is False</pre>
<pre class="cython line score-0">&#xA0;<span class="">2072</span>: </pre>
<pre class="cython line score-88" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2073</span>: def extract_target(</pre>
<pre class='cython code score-88 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_62extract_target(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_61extract_target, "\n    Extracts specified target column(s) from a multidimensional numpy array\n    or pandas DataFrame. \n    \n    with options to rename columns in a DataFrame and control over whether the \n    extracted columns are dropped from the original data.\n\n    Parameters\n    ----------\n    data : Union[np.ndarray, pd.DataFrame]\n        The input data from which target columns are to be extracted. Can be a \n        NumPy array or a pandas DataFrame.\n    target_names : Union[str, int, List[Union[str, int]]]\n        The name(s) or integer index/indices of the column(s) to extract. \n        If `data` is a DataFrame, this can be a mix of column names and indices. \n        If `data` is a NumPy array, only integer indices are allowed.\n    drop : bool, default True\n        If True, the extracted columns are removed from the original `data`. \n        If False, the original `data` remains unchanged.\n    columns : Optional[List[str]], default None\n        If provided and `data` is a DataFrame, specifies new names for the \n        columns in `data`. The length of `columns` must match the number of \n        columns in `data`. This parameter is ignored if `data` is a NumPy array.\n    return_y_X : bool, default False\n        If True, returns a tuple (y, X) where X is the data with the target columns\n        removed and y is the target columns. If False, returns only y.\n\n    Returns\n    -------\n    Union[ArrayLike, pd.Series, pd.DataFrame, Tuple[ pd.DataFrame, ArrayLike]]\n        If return_X_y is True, returns a tuple (X, y) where X is the data with the \n        target columns removed and y is the target columns. If return_X_y is False, \n        returns only y.\n\n    Raises\n    ------\n    ValueError\n        If `columns` is provided and its length does not match the number of \n        columns in `data`.\n        If any of the specified `target_names` do not exist in `data`.\n        If `target_names` includes a mix of strings and integers for a NumPy \n   ""     array input.\n\n    Examples\n    --------\n    &gt;&gt;&gt; import pandas as pd \n    &gt;&gt;&gt; df = pd.DataFrame({\n    ...     'A': [1, 2, 3],\n    ...     'B': [4, 5, 6],\n    ...     'C': [7, 8, 9]\n    ... })\n    &gt;&gt;&gt; target = extract_target(df, 'B', drop=True, return_y_X=False)\n    &gt;&gt;&gt; print(target)\n    0    4\n    1    5\n    2    6\n    Name: B, dtype: int64\n    &gt;&gt;&gt; target, remaining = extract_target(df, 'B', drop=True, return_y_X=True)\n    &gt;&gt;&gt; print(target)\n    0    4\n    1    5\n    2    6\n    Name: B, dtype: int64\n    &gt;&gt;&gt; print(remaining)\n       A  C\n    0  1  7\n    1  2  8\n    2  3  9\n    &gt;&gt;&gt; arr = np.random.rand(5, 3)\n    &gt;&gt;&gt; target, modified_arr = extract_target(arr, 2, return_X_y=True)\n    &gt;&gt;&gt; print(target)\n    &gt;&gt;&gt; print(modified_arr)\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_62extract_target = {"extract_target", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_62extract_target, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_61extract_target};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_62extract_target(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_data = 0;
  PyObject *__pyx_v_target_names = 0;
  PyObject *__pyx_v_drop = 0;
  PyObject *__pyx_v_columns = 0;
  PyObject *__pyx_v_return_y_X = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("extract_target (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_data,&amp;__pyx_n_s_target_names,&amp;__pyx_n_s_drop,&amp;__pyx_n_s_columns,&amp;__pyx_n_s_return_y_X,0};
  PyObject* values[5] = {0,0,0,0,0};
/* â€¦ */
  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
static PyObject *__pyx_gb_6gofast_5tools_9baseutils_14extract_target_2generator11(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
/* â€¦ */
static PyObject *__pyx_pf_6gofast_5tools_9baseutils_61extract_target(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_data, PyObject *__pyx_v_target_names, PyObject *__pyx_v_drop, PyObject *__pyx_v_columns, PyObject *__pyx_v_return_y_X) {
  int __pyx_v_is_frame;
  PyObject *__pyx_v_missing_cols = NULL;
  PyObject *__pyx_v_target = NULL;
  PyObject *__pyx_gb_6gofast_5tools_9baseutils_14extract_target_2generator11 = 0;
  PyObject *__pyx_gb_6gofast_5tools_9baseutils_14extract_target_5generator12 = 0;
  PyObject *__pyx_9genexpr27__pyx_v_name = NULL;
  PyObject *__pyx_9genexpr28__pyx_v_name = NULL;
  PyObject *__pyx_gb_6gofast_5tools_9baseutils_14extract_target_8generator13 = 0;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__76)
  <span class='trace'>__Pyx_TraceCall</span>("extract_target", __pyx_f[0], 2073, 0, <span class='error_goto'>__PYX_ERR(0, 2073, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_names);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_columns);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.extract_target", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_missing_cols);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_target);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_gb_6gofast_5tools_9baseutils_14extract_target_2generator11);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_gb_6gofast_5tools_9baseutils_14extract_target_5generator12);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr27__pyx_v_name);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr28__pyx_v_name);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_gb_6gofast_5tools_9baseutils_14extract_target_8generator13);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_data);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_target_names);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_columns);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__188 = <span class='py_c_api'>PyTuple_Pack</span>(14, __pyx_n_s_data, __pyx_n_s_target_names, __pyx_n_s_drop, __pyx_n_s_columns, __pyx_n_s_return_y_X, __pyx_n_s_is_frame, __pyx_n_s_missing_cols, __pyx_n_s_target, __pyx_n_s_genexpr, __pyx_n_s_genexpr, __pyx_n_s_genexpr, __pyx_n_s_name, __pyx_n_s_name, __pyx_n_s_genexpr);<span class='error_goto'> if (unlikely(!__pyx_tuple__188)) __PYX_ERR(0, 2073, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__188);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__188);
  __pyx_codeobj__76 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(5, 0, 0, 14, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__188, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_extract_target, 2073, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__76)) __PYX_ERR(0, 2073, __pyx_L1_error)</span>
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(2073,0,<span class='error_goto'>__PYX_ERR(0, 2073, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(6);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2073, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_data, __pyx_kp_s_Union_ArrayLike_DataFrame) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2073, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_target_names, __pyx_kp_s_Union_str_int_List_Union_str_int) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2073, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_drop, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2073, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_columns, __pyx_kp_s_Optional_List_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2073, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_return_y_X, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2073, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_return, __pyx_kp_s_Union_ArrayLike_Series_DataFrame_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2073, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_62extract_target, 0, __pyx_n_s_extract_target, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__76));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2073, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_3, __pyx_tuple__189);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_3, __pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_extract_target, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2073, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_tuple__189 = <span class='py_c_api'>PyTuple_Pack</span>(3, ((PyObject *)Py_True), Py_None, ((PyObject *)Py_False));<span class='error_goto'> if (unlikely(!__pyx_tuple__189)) __PYX_ERR(0, 2073, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__189);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__189);
</pre><pre class="cython line score-0">&#xA0;<span class="">2074</span>:     data: Union[ArrayLike, DataFrame],</pre>
<pre class="cython line score-0">&#xA0;<span class="">2075</span>:     target_names: Union[str, int, List[Union[str, int]]],</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2076</span>:     drop: bool = True,</pre>
<pre class='cython code score-2 '>    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_True)));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2077</span>:     columns: Optional[List[str]] = None,</pre>
<pre class='cython code score-2 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-79" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2078</span>:     return_y_X: bool = False</pre>
<pre class='cython code score-79 '>    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2073, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_target_names)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2073, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("extract_target", 0, 2, 5, 1); <span class='error_goto'>__PYX_ERR(0, 2073, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_drop);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2073, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_columns);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2073, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_return_y_X);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2073, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "extract_target") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2073, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_data = values[0];
    __pyx_v_target_names = values[1];
    __pyx_v_drop = values[2];
    __pyx_v_columns = values[3];
    __pyx_v_return_y_X = values[4];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("extract_target", 0, 2, 5, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2073, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.extract_target", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_61extract_target(__pyx_self, __pyx_v_data, __pyx_v_target_names, __pyx_v_drop, __pyx_v_columns, __pyx_v_return_y_X);
</pre><pre class="cython line score-0">&#xA0;<span class="">2079</span>: ) -&gt; Union[ArrayLike, Series, DataFrame, Tuple[ArrayLike, pd.DataFrame]]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">2080</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2081</span>:     Extracts specified target column(s) from a multidimensional numpy array</pre>
<pre class="cython line score-0">&#xA0;<span class="">2082</span>:     or pandas DataFrame.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2083</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2084</span>:     with options to rename columns in a DataFrame and control over whether the</pre>
<pre class="cython line score-0">&#xA0;<span class="">2085</span>:     extracted columns are dropped from the original data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2086</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2087</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">2088</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2089</span>:     data : Union[np.ndarray, pd.DataFrame]</pre>
<pre class="cython line score-0">&#xA0;<span class="">2090</span>:         The input data from which target columns are to be extracted. Can be a</pre>
<pre class="cython line score-0">&#xA0;<span class="">2091</span>:         NumPy array or a pandas DataFrame.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2092</span>:     target_names : Union[str, int, List[Union[str, int]]]</pre>
<pre class="cython line score-0">&#xA0;<span class="">2093</span>:         The name(s) or integer index/indices of the column(s) to extract.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2094</span>:         If `data` is a DataFrame, this can be a mix of column names and indices.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2095</span>:         If `data` is a NumPy array, only integer indices are allowed.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2096</span>:     drop : bool, default True</pre>
<pre class="cython line score-0">&#xA0;<span class="">2097</span>:         If True, the extracted columns are removed from the original `data`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2098</span>:         If False, the original `data` remains unchanged.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2099</span>:     columns : Optional[List[str]], default None</pre>
<pre class="cython line score-0">&#xA0;<span class="">2100</span>:         If provided and `data` is a DataFrame, specifies new names for the</pre>
<pre class="cython line score-0">&#xA0;<span class="">2101</span>:         columns in `data`. The length of `columns` must match the number of</pre>
<pre class="cython line score-0">&#xA0;<span class="">2102</span>:         columns in `data`. This parameter is ignored if `data` is a NumPy array.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2103</span>:     return_y_X : bool, default False</pre>
<pre class="cython line score-0">&#xA0;<span class="">2104</span>:         If True, returns a tuple (y, X) where X is the data with the target columns</pre>
<pre class="cython line score-0">&#xA0;<span class="">2105</span>:         removed and y is the target columns. If False, returns only y.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2106</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2107</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">2108</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2109</span>:     Union[ArrayLike, pd.Series, pd.DataFrame, Tuple[ pd.DataFrame, ArrayLike]]</pre>
<pre class="cython line score-0">&#xA0;<span class="">2110</span>:         If return_X_y is True, returns a tuple (X, y) where X is the data with the</pre>
<pre class="cython line score-0">&#xA0;<span class="">2111</span>:         target columns removed and y is the target columns. If return_X_y is False,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2112</span>:         returns only y.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2113</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2114</span>:     Raises</pre>
<pre class="cython line score-0">&#xA0;<span class="">2115</span>:     ------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2116</span>:     ValueError</pre>
<pre class="cython line score-0">&#xA0;<span class="">2117</span>:         If `columns` is provided and its length does not match the number of</pre>
<pre class="cython line score-0">&#xA0;<span class="">2118</span>:         columns in `data`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2119</span>:         If any of the specified `target_names` do not exist in `data`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2120</span>:         If `target_names` includes a mix of strings and integers for a NumPy</pre>
<pre class="cython line score-0">&#xA0;<span class="">2121</span>:         array input.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2122</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2123</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">2124</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2125</span>:     &gt;&gt;&gt; import pandas as pd</pre>
<pre class="cython line score-0">&#xA0;<span class="">2126</span>:     &gt;&gt;&gt; df = pd.DataFrame({</pre>
<pre class="cython line score-0">&#xA0;<span class="">2127</span>:     ...     'A': [1, 2, 3],</pre>
<pre class="cython line score-0">&#xA0;<span class="">2128</span>:     ...     'B': [4, 5, 6],</pre>
<pre class="cython line score-0">&#xA0;<span class="">2129</span>:     ...     'C': [7, 8, 9]</pre>
<pre class="cython line score-0">&#xA0;<span class="">2130</span>:     ... })</pre>
<pre class="cython line score-0">&#xA0;<span class="">2131</span>:     &gt;&gt;&gt; target = extract_target(df, 'B', drop=True, return_y_X=False)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2132</span>:     &gt;&gt;&gt; print(target)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2133</span>:     0    4</pre>
<pre class="cython line score-0">&#xA0;<span class="">2134</span>:     1    5</pre>
<pre class="cython line score-0">&#xA0;<span class="">2135</span>:     2    6</pre>
<pre class="cython line score-0">&#xA0;<span class="">2136</span>:     Name: B, dtype: int64</pre>
<pre class="cython line score-0">&#xA0;<span class="">2137</span>:     &gt;&gt;&gt; target, remaining = extract_target(df, 'B', drop=True, return_y_X=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2138</span>:     &gt;&gt;&gt; print(target)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2139</span>:     0    4</pre>
<pre class="cython line score-0">&#xA0;<span class="">2140</span>:     1    5</pre>
<pre class="cython line score-0">&#xA0;<span class="">2141</span>:     2    6</pre>
<pre class="cython line score-0">&#xA0;<span class="">2142</span>:     Name: B, dtype: int64</pre>
<pre class="cython line score-0">&#xA0;<span class="">2143</span>:     &gt;&gt;&gt; print(remaining)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2144</span>:        A  C</pre>
<pre class="cython line score-0">&#xA0;<span class="">2145</span>:     0  1  7</pre>
<pre class="cython line score-0">&#xA0;<span class="">2146</span>:     1  2  8</pre>
<pre class="cython line score-0">&#xA0;<span class="">2147</span>:     2  3  9</pre>
<pre class="cython line score-0">&#xA0;<span class="">2148</span>:     &gt;&gt;&gt; arr = np.random.rand(5, 3)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2149</span>:     &gt;&gt;&gt; target, modified_arr = extract_target(arr, 2, return_X_y=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2150</span>:     &gt;&gt;&gt; print(target)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2151</span>:     &gt;&gt;&gt; print(modified_arr)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2152</span>:     """</pre>
<pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2153</span>:     if isinstance(data, pd.Series):</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(2153,0,<span class='error_goto'>__PYX_ERR(0, 2153, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2153, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2153, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data, __pyx_t_2);<span class='error_goto'> if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(0, 2153, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_3) {
/* â€¦ */
  }
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2154</span>:         data = data.to_frame()</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(2154,0,<span class='error_goto'>__PYX_ERR(0, 2154, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_to_frame);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2154, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_4 = NULL;
    __pyx_t_5 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_4)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_5 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_4, NULL};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_5, 0+__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2154, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_data, __pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2155</span>:     if np.ndim(data) == 1:</pre>
<pre class='cython code score-22 '>  <span class='trace'>__Pyx_TraceLine</span>(2155,0,<span class='error_goto'>__PYX_ERR(0, 2155, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2155, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_ndim);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2155, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
    __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
    if (likely(__pyx_t_1)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_v_data};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2155, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  }
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyInt_BoolEqObjC</span>(__pyx_t_2, __pyx_int_1, 1, 0)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2155, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_3) {
/* â€¦ */
  }
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2156</span>:         data = np.expand_dims(data, axis=1)</pre>
<pre class='cython code score-26 '>    <span class='trace'>__Pyx_TraceLine</span>(2156,0,<span class='error_goto'>__PYX_ERR(0, 2156, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2156, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_expand_dims);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2156, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2156, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_data)) <span class='error_goto'>__PYX_ERR(0, 2156, __pyx_L1_error)</span>;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2156, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_axis, __pyx_int_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2156, __pyx_L1_error)</span>
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_4, __pyx_t_2, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2156, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_data, __pyx_t_6);
    __pyx_t_6 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2157</span>: </pre>
<pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2158</span>:     is_frame = isinstance(data, pd.DataFrame)</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(2158,0,<span class='error_goto'>__PYX_ERR(0, 2158, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2158, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2158, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_3 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data, __pyx_t_1);<span class='error_goto'> if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(0, 2158, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_is_frame = __pyx_t_3;
</pre><pre class="cython line score-0">&#xA0;<span class="">2159</span>: </pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2160</span>:     if is_frame and columns is not None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(2160,0,<span class='error_goto'>__PYX_ERR(0, 2160, __pyx_L1_error)</span>)
  if (__pyx_v_is_frame) {
  } else {
    __pyx_t_3 = __pyx_v_is_frame;
    goto __pyx_L6_bool_binop_done;
  }
  __pyx_t_7 = (__pyx_v_columns != Py_None);
  __pyx_t_3 = __pyx_t_7;
  __pyx_L6_bool_binop_done:;
  if (__pyx_t_3) {
/* â€¦ */
  }
</pre><pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2161</span>:         columns = is_iterable(columns, exclude_string= True, transform= True)</pre>
<pre class='cython code score-28 '>    <span class='trace'>__Pyx_TraceLine</span>(2161,0,<span class='error_goto'>__PYX_ERR(0, 2161, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_is_iterable);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2161, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2161, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_columns);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_columns);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_v_columns)) <span class='error_goto'>__PYX_ERR(0, 2161, __pyx_L1_error)</span>;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2161, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_exclude_string, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2161, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_transform, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2161, __pyx_L1_error)</span>
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_6, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2161, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_columns, __pyx_t_4);
    __pyx_t_4 = 0;
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2162</span>:         if len(columns) != data.shape[1]:</pre>
<pre class='cython code score-25 '>    <span class='trace'>__Pyx_TraceLine</span>(2162,0,<span class='error_goto'>__PYX_ERR(0, 2162, __pyx_L1_error)</span>)
    __pyx_t_8 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_columns);<span class='error_goto'> if (unlikely(__pyx_t_8 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2162, __pyx_L1_error)</span>
    __pyx_t_4 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2162, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2162, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_2, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2162, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_4, __pyx_t_6, Py_NE); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2162, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_2); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2162, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(__pyx_t_3)) {
/* â€¦ */
    }
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2163</span>:             raise ValueError(</pre>
<pre class='cython code score-6 '>      <span class='trace'>__Pyx_TraceLine</span>(2163,0,<span class='error_goto'>__PYX_ERR(0, 2163, __pyx_L1_error)</span>)
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2163, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='error_goto'>__PYX_ERR(0, 2163, __pyx_L1_error)</span>
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2164</span>:                 "`columns` must match the number of columns in"" `data`."</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(2164,0,<span class='error_goto'>__PYX_ERR(0, 2164, __pyx_L1_error)</span>)
      __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2164, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_8 = 0;
      __pyx_t_9 = 127;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_columns_must_match_the_number_o);
      __pyx_t_8 += 63;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_columns_must_match_the_number_o);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_kp_u_columns_must_match_the_number_o);
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(2164,0,<span class='error_goto'>__PYX_ERR(0, 2164, __pyx_L1_error)</span>)
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_2, 5, __pyx_t_8, __pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2164, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-29" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2165</span>:                 f" Expected {data.shape[1]}, got {len(columns)}.")</pre>
<pre class='cython code score-29 '>      <span class='trace'>__Pyx_TraceLine</span>(2165,0,<span class='error_goto'>__PYX_ERR(0, 2165, __pyx_L1_error)</span>)
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2165, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_6, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2165, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_t_4, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2165, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_9 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_6) &gt; __pyx_t_9) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_6) : __pyx_t_9;
      __pyx_t_8 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_6);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_6);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_6);
      __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_got);
      __pyx_t_8 += 6;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_got);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 2, __pyx_kp_u_got);
      __pyx_t_10 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_columns);<span class='error_goto'> if (unlikely(__pyx_t_10 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2165, __pyx_L1_error)</span>
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyUnicode_From_Py_ssize_t</span>(__pyx_t_10, 0, ' ', 'd');<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2165, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_8 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_6);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_6);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 3, __pyx_t_6);
      __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__2);
      __pyx_t_8 += 1;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__2);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 4, __pyx_kp_u__2);
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2166</span>:         data.columns = columns</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(2166,0,<span class='error_goto'>__PYX_ERR(0, 2166, __pyx_L1_error)</span>)
    if (<span class='pyx_c_api'>__Pyx_PyObject_SetAttrStr</span>(__pyx_v_data, __pyx_n_s_columns, __pyx_v_columns) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2166, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2167</span>: </pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2168</span>:     if isinstance(target_names, (int, str)):</pre>
<pre class='cython code score-10 '>  <span class='trace'>__Pyx_TraceLine</span>(2168,0,<span class='error_goto'>__PYX_ERR(0, 2168, __pyx_L1_error)</span>)
  __pyx_t_7 = <span class='py_c_api'>PyInt_Check</span>(__pyx_v_target_names); 
  if (!__pyx_t_7) {
  } else {
    __pyx_t_3 = __pyx_t_7;
    goto __pyx_L10_bool_binop_done;
  }
  __pyx_t_7 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_target_names); 
  __pyx_t_3 = __pyx_t_7;
  __pyx_L10_bool_binop_done:;
  if (__pyx_t_3) {
/* â€¦ */
  }
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2169</span>:         target_names = [target_names]</pre>
<pre class='cython code score-9 '>    <span class='trace'>__Pyx_TraceLine</span>(2169,0,<span class='error_goto'>__PYX_ERR(0, 2169, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2169, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_names);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target_names);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_target_names)) <span class='error_goto'>__PYX_ERR(0, 2169, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_target_names, __pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2170</span>: </pre>
<pre class="cython line score-85" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2171</span>:     if all(isinstance(name, int) for name in target_names):</pre>
<pre class='cython code score-85 '>static PyObject *__pyx_pf_6gofast_5tools_9baseutils_14extract_target_genexpr(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_genexpr_arg_0) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_17_genexpr *__pyx_cur_scope;
  PyObject *__pyx_r = NULL;
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_17_genexpr *)__pyx_tp_new_6gofast_5tools_9baseutils___pyx_scope_struct_17_genexpr(__pyx_ptype_6gofast_5tools_9baseutils___pyx_scope_struct_17_genexpr, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_17_genexpr *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 2171, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  __pyx_cur_scope-&gt;__pyx_genexpr_arg_0 = __pyx_genexpr_arg_0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  {
    __pyx_CoroutineObject *gen = <span class='pyx_c_api'>__Pyx_Generator_New</span>((__pyx_coroutine_body_t) __pyx_gb_6gofast_5tools_9baseutils_14extract_target_2generator11, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_extract_target_locals_genexpr, __pyx_n_s_gofast_tools_baseutils);<span class='error_goto'> if (unlikely(!gen)) __PYX_ERR(0, 2171, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_cur_scope);
    <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
    return (PyObject *) gen;
  }

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.extract_target.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_gb_6gofast_5tools_9baseutils_14extract_target_2generator11(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
{
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("genexpr", 0);
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_L3_first_run:;
  if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 2171, __pyx_L1_error)</span>
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>(".0"); <span class='error_goto'>__PYX_ERR(0, 2171, __pyx_L1_error)</span> }
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) {
    __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_genexpr_arg_0; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    __pyx_t_2 = 0;
    __pyx_t_3 = NULL;
  } else {
    __pyx_t_2 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2171, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2171, __pyx_L1_error)</span>
  }
  for (;;) {
    if (likely(!__pyx_t_3)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2171, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2171, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2171, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2171, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2171, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2171, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      }
    } else {
      __pyx_t_4 = __pyx_t_3(__pyx_t_1);
      if (unlikely(!__pyx_t_4)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 2171, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    }
    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_cur_scope-&gt;__pyx_v_name);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_cur_scope-&gt;__pyx_v_name, __pyx_t_4);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
    __pyx_t_4 = 0;
    __pyx_t_5 = <span class='py_c_api'>PyInt_Check</span>(__pyx_cur_scope-&gt;__pyx_v_name); 
    __pyx_t_6 = (!__pyx_t_5);
    if (__pyx_t_6) {
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_False);
      __pyx_r = Py_False;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      goto __pyx_L0;
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  /*else*/ {
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_True);
    __pyx_r = Py_True;
    goto __pyx_L0;
  }
  CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);

  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_Generator_Replace_StopIteration</span>(0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  #if !CYTHON_USE_EXC_INFO_STACK
  <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
  #endif
  __pyx_generator-&gt;resume_label = -1;
  <span class='pyx_c_api'>__Pyx_Coroutine_clear</span>((PyObject*)__pyx_generator);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
static PyObject *__pyx_gb_6gofast_5tools_9baseutils_14extract_target_5generator12(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(2171,0,<span class='error_goto'>__PYX_ERR(0, 2171, __pyx_L1_error)</span>)
  __pyx_t_2 = __pyx_pf_6gofast_5tools_9baseutils_14extract_target_genexpr(NULL, __pyx_v_target_names);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2171, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_Generator_Next</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2171, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_6); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2171, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  if (__pyx_t_3) {
/* â€¦ */
    goto __pyx_L12;
  }
/* â€¦ */
struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_17_genexpr {
  PyObject_HEAD
  PyObject *__pyx_genexpr_arg_0;
  PyObject *__pyx_v_name;
};

</pre><pre class="cython line score-34" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2172</span>:         if max(target_names, default=-1) &gt;= data.shape[1]:</pre>
<pre class='cython code score-34 '>    <span class='trace'>__Pyx_TraceLine</span>(2172,0,<span class='error_goto'>__PYX_ERR(0, 2172, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2172, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_names);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target_names);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_v_target_names)) <span class='error_goto'>__PYX_ERR(0, 2172, __pyx_L1_error)</span>;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2172, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_default, __pyx_int_neg_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2172, __pyx_L1_error)</span>
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_max, __pyx_t_6, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2172, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2172, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_2, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2172, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_4, __pyx_t_6, Py_GE); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2172, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_2); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2172, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(__pyx_t_3)) {
/* â€¦ */
    }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2173</span>:             raise ValueError(</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(2173,0,<span class='error_goto'>__PYX_ERR(0, 2173, __pyx_L1_error)</span>)
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__77, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2173, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='error_goto'>__PYX_ERR(0, 2173, __pyx_L1_error)</span>
/* â€¦ */
  __pyx_tuple__77 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_All_integer_indices_must_be_with);<span class='error_goto'> if (unlikely(!__pyx_tuple__77)) __PYX_ERR(0, 2173, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__77);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__77);
</pre><pre class="cython line score-0">&#xA0;<span class="">2174</span>:                 "All integer indices must be within the column range of the data.")</pre>
<pre class="cython line score-85" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2175</span>:     elif any(isinstance(name, int) for name in target_names) and is_frame:</pre>
<pre class='cython code score-85 '>static PyObject *__pyx_pf_6gofast_5tools_9baseutils_14extract_target_3genexpr(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_genexpr_arg_0) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_18_genexpr *__pyx_cur_scope;
  PyObject *__pyx_r = NULL;
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_18_genexpr *)__pyx_tp_new_6gofast_5tools_9baseutils___pyx_scope_struct_18_genexpr(__pyx_ptype_6gofast_5tools_9baseutils___pyx_scope_struct_18_genexpr, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_18_genexpr *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 2175, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  __pyx_cur_scope-&gt;__pyx_genexpr_arg_0 = __pyx_genexpr_arg_0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  {
    __pyx_CoroutineObject *gen = <span class='pyx_c_api'>__Pyx_Generator_New</span>((__pyx_coroutine_body_t) __pyx_gb_6gofast_5tools_9baseutils_14extract_target_5generator12, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_extract_target_locals_genexpr, __pyx_n_s_gofast_tools_baseutils);<span class='error_goto'> if (unlikely(!gen)) __PYX_ERR(0, 2175, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_cur_scope);
    <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
    return (PyObject *) gen;
  }

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.extract_target.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_gb_6gofast_5tools_9baseutils_14extract_target_5generator12(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
{
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("genexpr", 0);
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_L3_first_run:;
  if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 2175, __pyx_L1_error)</span>
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>(".0"); <span class='error_goto'>__PYX_ERR(0, 2175, __pyx_L1_error)</span> }
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) {
    __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_genexpr_arg_0; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    __pyx_t_2 = 0;
    __pyx_t_3 = NULL;
  } else {
    __pyx_t_2 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2175, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2175, __pyx_L1_error)</span>
  }
  for (;;) {
    if (likely(!__pyx_t_3)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2175, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2175, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2175, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2175, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2175, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2175, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      }
    } else {
      __pyx_t_4 = __pyx_t_3(__pyx_t_1);
      if (unlikely(!__pyx_t_4)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 2175, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    }
    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_cur_scope-&gt;__pyx_v_name);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_cur_scope-&gt;__pyx_v_name, __pyx_t_4);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
    __pyx_t_4 = 0;
    __pyx_t_5 = <span class='py_c_api'>PyInt_Check</span>(__pyx_cur_scope-&gt;__pyx_v_name); 
    if (__pyx_t_5) {
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_True);
      __pyx_r = Py_True;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      goto __pyx_L0;
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  /*else*/ {
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_False);
    __pyx_r = Py_False;
    goto __pyx_L0;
  }
  CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);

  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_Generator_Replace_StopIteration</span>(0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  #if !CYTHON_USE_EXC_INFO_STACK
  <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
  #endif
  __pyx_generator-&gt;resume_label = -1;
  <span class='pyx_c_api'>__Pyx_Coroutine_clear</span>((PyObject*)__pyx_generator);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
static PyObject *__pyx_gb_6gofast_5tools_9baseutils_14extract_target_8generator13(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(2175,0,<span class='error_goto'>__PYX_ERR(0, 2175, __pyx_L1_error)</span>)
  __pyx_t_2 = __pyx_pf_6gofast_5tools_9baseutils_14extract_target_3genexpr(NULL, __pyx_v_target_names);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2175, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_Generator_Next</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2175, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_6); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2175, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  if (__pyx_t_7) {
  } else {
    __pyx_t_3 = __pyx_t_7;
    goto __pyx_L14_bool_binop_done;
  }
  __pyx_t_3 = __pyx_v_is_frame;
  __pyx_L14_bool_binop_done:;
  if (__pyx_t_3) {
/* â€¦ */
  }
  __pyx_L12:;
/* â€¦ */
struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_18_genexpr {
  PyObject_HEAD
  PyObject *__pyx_genexpr_arg_0;
  PyObject *__pyx_v_name;
};

</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2176</span>:         target_names = [data.columns[name] if isinstance(name, int)</pre>
<pre class='cython code score-15 '>    <span class='trace'>__Pyx_TraceLine</span>(2176,0,<span class='error_goto'>__PYX_ERR(0, 2176, __pyx_L1_error)</span>)
    { /* enter inner scope */
      __pyx_t_6 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2176, __pyx_L18_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
/* â€¦ */
        <span class='trace'>__Pyx_TraceLine</span>(2176,0,<span class='error_goto'>__PYX_ERR(0, 2176, __pyx_L18_error)</span>)
        __pyx_t_3 = <span class='py_c_api'>PyInt_Check</span>(__pyx_9genexpr27__pyx_v_name); 
        if (__pyx_t_3) {
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2176, __pyx_L18_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_t_1, __pyx_9genexpr27__pyx_v_name);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 2176, __pyx_L18_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          __pyx_t_4 = __pyx_t_12;
          __pyx_t_12 = 0;
        } else {
</pre><pre class="cython line score-56" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2177</span>:                         else name for name in target_names]</pre>
<pre class='cython code score-56 '>      <span class='trace'>__Pyx_TraceLine</span>(2177,0,<span class='error_goto'>__PYX_ERR(0, 2177, __pyx_L18_error)</span>)
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_target_names)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_target_names)) {
        __pyx_t_2 = __pyx_v_target_names; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        __pyx_t_8 = 0;
        __pyx_t_11 = NULL;
      } else {
        __pyx_t_8 = -1; __pyx_t_2 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_target_names);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2177, __pyx_L18_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2177, __pyx_L18_error)</span>
      }
      for (;;) {
        if (likely(!__pyx_t_11)) {
          if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_2))) {
            {
              Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_2);
              #if !CYTHON_ASSUME_SAFE_MACROS
              if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2177, __pyx_L18_error)</span>
              #endif
              if (__pyx_t_8 &gt;= __pyx_temp) break;
            }
            #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
            __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_2, __pyx_t_8); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_8++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2177, __pyx_L18_error)</span>
            #else
            __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_2, __pyx_t_8); __pyx_t_8++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2177, __pyx_L18_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
            #endif
          } else {
            {
              Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_2);
              #if !CYTHON_ASSUME_SAFE_MACROS
              if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2177, __pyx_L18_error)</span>
              #endif
              if (__pyx_t_8 &gt;= __pyx_temp) break;
            }
            #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
            __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_2, __pyx_t_8); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_8++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2177, __pyx_L18_error)</span>
            #else
            __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_2, __pyx_t_8); __pyx_t_8++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2177, __pyx_L18_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
            #endif
          }
        } else {
          __pyx_t_4 = __pyx_t_11(__pyx_t_2);
          if (unlikely(!__pyx_t_4)) {
            PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
            if (exc_type) {
              if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
              else <span class='error_goto'>__PYX_ERR(0, 2177, __pyx_L18_error)</span>
            }
            break;
          }
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        }
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr27__pyx_v_name, __pyx_t_4);
        __pyx_t_4 = 0;
/* â€¦ */
          <span class='trace'>__Pyx_TraceLine</span>(2177,0,<span class='error_goto'>__PYX_ERR(0, 2177, __pyx_L18_error)</span>)
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_9genexpr27__pyx_v_name);
          __pyx_t_4 = __pyx_9genexpr27__pyx_v_name;
        }
        if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_6, (PyObject*)__pyx_t_4))) <span class='error_goto'>__PYX_ERR(0, 2176, __pyx_L18_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr27__pyx_v_name); __pyx_9genexpr27__pyx_v_name = 0;
      goto __pyx_L22_exit_scope;
      __pyx_L18_error:;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr27__pyx_v_name); __pyx_9genexpr27__pyx_v_name = 0;
      goto __pyx_L1_error;
      __pyx_L22_exit_scope:;
    } /* exit inner scope */
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_target_names, __pyx_t_6);
    __pyx_t_6 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2178</span>: </pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2179</span>:     if is_frame:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(2179,0,<span class='error_goto'>__PYX_ERR(0, 2179, __pyx_L1_error)</span>)
  if (__pyx_v_is_frame) {
/* â€¦ */
    goto __pyx_L23;
  }
</pre><pre class="cython line score-63" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2180</span>:         missing_cols = [name for name in target_names if name not in data.columns]</pre>
<pre class='cython code score-63 '>    <span class='trace'>__Pyx_TraceLine</span>(2180,0,<span class='error_goto'>__PYX_ERR(0, 2180, __pyx_L1_error)</span>)
    { /* enter inner scope */
      __pyx_t_6 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2180, __pyx_L26_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_target_names)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_target_names)) {
        __pyx_t_2 = __pyx_v_target_names; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        __pyx_t_8 = 0;
        __pyx_t_11 = NULL;
      } else {
        __pyx_t_8 = -1; __pyx_t_2 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_target_names);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2180, __pyx_L26_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2180, __pyx_L26_error)</span>
      }
      for (;;) {
        if (likely(!__pyx_t_11)) {
          if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_2))) {
            {
              Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_2);
              #if !CYTHON_ASSUME_SAFE_MACROS
              if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2180, __pyx_L26_error)</span>
              #endif
              if (__pyx_t_8 &gt;= __pyx_temp) break;
            }
            #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
            __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_2, __pyx_t_8); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_8++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2180, __pyx_L26_error)</span>
            #else
            __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_2, __pyx_t_8); __pyx_t_8++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2180, __pyx_L26_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
            #endif
          } else {
            {
              Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_2);
              #if !CYTHON_ASSUME_SAFE_MACROS
              if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2180, __pyx_L26_error)</span>
              #endif
              if (__pyx_t_8 &gt;= __pyx_temp) break;
            }
            #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
            __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_2, __pyx_t_8); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_8++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2180, __pyx_L26_error)</span>
            #else
            __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_2, __pyx_t_8); __pyx_t_8++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2180, __pyx_L26_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
            #endif
          }
        } else {
          __pyx_t_4 = __pyx_t_11(__pyx_t_2);
          if (unlikely(!__pyx_t_4)) {
            PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
            if (exc_type) {
              if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
              else <span class='error_goto'>__PYX_ERR(0, 2180, __pyx_L26_error)</span>
            }
            break;
          }
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        }
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr28__pyx_v_name, __pyx_t_4);
        __pyx_t_4 = 0;
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2180, __pyx_L26_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_9genexpr28__pyx_v_name, __pyx_t_4, Py_NE)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2180, __pyx_L26_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        if (__pyx_t_3) {
          if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_6, (PyObject*)__pyx_9genexpr28__pyx_v_name))) <span class='error_goto'>__PYX_ERR(0, 2180, __pyx_L26_error)</span>
        }
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr28__pyx_v_name); __pyx_9genexpr28__pyx_v_name = 0;
      goto __pyx_L31_exit_scope;
      __pyx_L26_error:;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr28__pyx_v_name); __pyx_9genexpr28__pyx_v_name = 0;
      goto __pyx_L1_error;
      __pyx_L31_exit_scope:;
    } /* exit inner scope */
    __pyx_v_missing_cols = ((PyObject*)__pyx_t_6);
    __pyx_t_6 = 0;
</pre><pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2181</span>:         if missing_cols:</pre>
<pre class='cython code score-1 '>    <span class='trace'>__Pyx_TraceLine</span>(2181,0,<span class='error_goto'>__PYX_ERR(0, 2181, __pyx_L1_error)</span>)
    __pyx_t_3 = (<span class='py_macro_api'>PyList_GET_SIZE</span>(__pyx_v_missing_cols) != 0);
    if (unlikely(__pyx_t_3)) {
/* â€¦ */
    }
</pre><pre class="cython line score-27" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2182</span>:             raise ValueError(f"Column names {missing_cols} do not match any"</pre>
<pre class='cython code score-27 '>      <span class='trace'>__Pyx_TraceLine</span>(2182,0,<span class='error_goto'>__PYX_ERR(0, 2182, __pyx_L1_error)</span>)
      __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2182, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_8 = 0;
      __pyx_t_9 = 127;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Column_names);
      __pyx_t_8 += 13;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Column_names);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_kp_u_Column_names);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_missing_cols, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2182, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_9 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) &gt; __pyx_t_9) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) : __pyx_t_9;
      __pyx_t_8 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_2);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_6, 1, __pyx_t_2);
      __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_do_not_match_any_column_in_the);
      __pyx_t_8 += 42;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_do_not_match_any_column_in_the);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_6, 2, __pyx_kp_u_do_not_match_any_column_in_the);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_6, 3, __pyx_t_8, __pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2182, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2182, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_6, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='error_goto'>__PYX_ERR(0, 2182, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2183</span>:                              " column in the DataFrame.")</pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2184</span>:         target = data.loc[:, target_names]</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(2184,0,<span class='error_goto'>__PYX_ERR(0, 2184, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_loc);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2184, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2184, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_slice__5);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_slice__5);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_slice__5)) <span class='error_goto'>__PYX_ERR(0, 2184, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_names);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target_names);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_v_target_names)) <span class='error_goto'>__PYX_ERR(0, 2184, __pyx_L1_error)</span>;
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_t_6, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2184, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_v_target = __pyx_t_4;
    __pyx_t_4 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2185</span>:         if drop:</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(2185,0,<span class='error_goto'>__PYX_ERR(0, 2185, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_drop); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2185, __pyx_L1_error)</span>
    if (__pyx_t_3) {
/* â€¦ */
    }
</pre><pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2186</span>:             data = data.drop(columns=target_names)</pre>
<pre class='cython code score-14 '>      <span class='trace'>__Pyx_TraceLine</span>(2186,0,<span class='error_goto'>__PYX_ERR(0, 2186, __pyx_L1_error)</span>)
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_drop);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2186, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2186, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_columns, __pyx_v_target_names) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2186, __pyx_L1_error)</span>
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_4, __pyx_empty_tuple, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2186, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_data, __pyx_t_6);
      __pyx_t_6 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2187</span>:     else:</pre>
<pre class="cython line score-85" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2188</span>:         if any(isinstance(name, str) for name in target_names):</pre>
<pre class='cython code score-85 '>static PyObject *__pyx_pf_6gofast_5tools_9baseutils_14extract_target_6genexpr(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_genexpr_arg_0) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_19_genexpr *__pyx_cur_scope;
  PyObject *__pyx_r = NULL;
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_19_genexpr *)__pyx_tp_new_6gofast_5tools_9baseutils___pyx_scope_struct_19_genexpr(__pyx_ptype_6gofast_5tools_9baseutils___pyx_scope_struct_19_genexpr, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_19_genexpr *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 2188, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  __pyx_cur_scope-&gt;__pyx_genexpr_arg_0 = __pyx_genexpr_arg_0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  {
    __pyx_CoroutineObject *gen = <span class='pyx_c_api'>__Pyx_Generator_New</span>((__pyx_coroutine_body_t) __pyx_gb_6gofast_5tools_9baseutils_14extract_target_8generator13, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_extract_target_locals_genexpr, __pyx_n_s_gofast_tools_baseutils);<span class='error_goto'> if (unlikely(!gen)) __PYX_ERR(0, 2188, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_cur_scope);
    <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
    return (PyObject *) gen;
  }

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.extract_target.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_gb_6gofast_5tools_9baseutils_14extract_target_8generator13(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
{
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("genexpr", 0);
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_L3_first_run:;
  if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 2188, __pyx_L1_error)</span>
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>(".0"); <span class='error_goto'>__PYX_ERR(0, 2188, __pyx_L1_error)</span> }
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) {
    __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_genexpr_arg_0; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    __pyx_t_2 = 0;
    __pyx_t_3 = NULL;
  } else {
    __pyx_t_2 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2188, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2188, __pyx_L1_error)</span>
  }
  for (;;) {
    if (likely(!__pyx_t_3)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2188, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2188, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2188, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2188, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2188, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2188, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      }
    } else {
      __pyx_t_4 = __pyx_t_3(__pyx_t_1);
      if (unlikely(!__pyx_t_4)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 2188, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    }
    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_cur_scope-&gt;__pyx_v_name);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_cur_scope-&gt;__pyx_v_name, __pyx_t_4);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
    __pyx_t_4 = 0;
    __pyx_t_5 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_cur_scope-&gt;__pyx_v_name); 
    if (__pyx_t_5) {
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_True);
      __pyx_r = Py_True;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      goto __pyx_L0;
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  /*else*/ {
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_False);
    __pyx_r = Py_False;
    goto __pyx_L0;
  }
  CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);

  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_Generator_Replace_StopIteration</span>(0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  #if !CYTHON_USE_EXC_INFO_STACK
  <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
  #endif
  __pyx_generator-&gt;resume_label = -1;
  <span class='pyx_c_api'>__Pyx_Coroutine_clear</span>((PyObject*)__pyx_generator);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(2188,0,<span class='error_goto'>__PYX_ERR(0, 2188, __pyx_L1_error)</span>)
  /*else*/ {
    __pyx_t_6 = __pyx_pf_6gofast_5tools_9baseutils_14extract_target_6genexpr(NULL, __pyx_v_target_names);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2188, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Generator_Next</span>(__pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2188, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_2); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2188, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(__pyx_t_3)) {
/* â€¦ */
    }
/* â€¦ */
struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_19_genexpr {
  PyObject_HEAD
  PyObject *__pyx_genexpr_arg_0;
  PyObject *__pyx_v_name;
};

</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2189</span>:             raise ValueError("String names are not allowed for target names"</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(2189,0,<span class='error_goto'>__PYX_ERR(0, 2189, __pyx_L1_error)</span>)
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__78, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2189, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='error_goto'>__PYX_ERR(0, 2189, __pyx_L1_error)</span>
/* â€¦ */
  __pyx_tuple__78 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_String_names_are_not_allowed_for);<span class='error_goto'> if (unlikely(!__pyx_tuple__78)) __PYX_ERR(0, 2189, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__78);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__78);
</pre><pre class="cython line score-0">&#xA0;<span class="">2190</span>:                              " when data is a NumPy array.")</pre>
<pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2191</span>:         target = data[:, target_names]</pre>
<pre class='cython code score-14 '>    <span class='trace'>__Pyx_TraceLine</span>(2191,0,<span class='error_goto'>__PYX_ERR(0, 2191, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2191, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_slice__5);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_slice__5);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_slice__5)) <span class='error_goto'>__PYX_ERR(0, 2191, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_names);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target_names);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_v_target_names)) <span class='error_goto'>__PYX_ERR(0, 2191, __pyx_L1_error)</span>;
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2191, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_v_target = __pyx_t_6;
    __pyx_t_6 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2192</span>:         if drop:</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(2192,0,<span class='error_goto'>__PYX_ERR(0, 2192, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_drop); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2192, __pyx_L1_error)</span>
    if (__pyx_t_3) {
/* â€¦ */
    }
  }
  __pyx_L23:;
</pre><pre class="cython line score-29" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2193</span>:             data = np.delete(data, target_names, axis=1)</pre>
<pre class='cython code score-29 '>      <span class='trace'>__Pyx_TraceLine</span>(2193,0,<span class='error_goto'>__PYX_ERR(0, 2193, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2193, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_delete);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2193, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2193, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_v_data)) <span class='error_goto'>__PYX_ERR(0, 2193, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_names);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target_names);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 1, __pyx_v_target_names)) <span class='error_goto'>__PYX_ERR(0, 2193, __pyx_L1_error)</span>;
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2193, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_axis, __pyx_int_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2193, __pyx_L1_error)</span>
      __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_6, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 2193, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_data, __pyx_t_12);
      __pyx_t_12 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2194</span>: </pre>
<pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2195</span>:     if isinstance(target, np.ndarray):</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(2195,0,<span class='error_goto'>__PYX_ERR(0, 2195, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_12, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 2195, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_12, __pyx_n_s_ndarray);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2195, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
  __pyx_t_3 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_target, __pyx_t_4);<span class='error_goto'> if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(0, 2195, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (__pyx_t_3) {
/* â€¦ */
  }
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2196</span>:         target = np.squeeze(target)</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(2196,0,<span class='error_goto'>__PYX_ERR(0, 2196, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_12, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 2196, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_12, __pyx_n_s_squeeze);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2196, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
    __pyx_t_12 = NULL;
    __pyx_t_5 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
      __pyx_t_12 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
      if (likely(__pyx_t_12)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_12);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
        __pyx_t_5 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_12, __pyx_v_target};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 2196, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_target, __pyx_t_4);
    __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2197</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2198</span>:     if return_y_X:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(2198,0,<span class='error_goto'>__PYX_ERR(0, 2198, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_return_y_X); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2198, __pyx_L1_error)</span>
  if (__pyx_t_3) {
/* â€¦ */
  }
</pre><pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2199</span>:         return target, data</pre>
<pre class='cython code score-12 '>    <span class='trace'>__Pyx_TraceLine</span>(2199,0,<span class='error_goto'>__PYX_ERR(0, 2199, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2199, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_v_target)) <span class='error_goto'>__PYX_ERR(0, 2199, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_v_data)) <span class='error_goto'>__PYX_ERR(0, 2199, __pyx_L1_error)</span>;
    __pyx_r = __pyx_t_4;
    __pyx_t_4 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2200</span>:     return target</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(2200,0,<span class='error_goto'>__PYX_ERR(0, 2200, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target);
  __pyx_r = __pyx_v_target;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2201</span>: </pre>
<pre class="cython line score-87" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2202</span>: def _extract_target(</pre>
<pre class='cython code score-87 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_64_extract_target(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_63_extract_target, "\n    Extracts and validates the target variable(s) from the dataset.\n\n    Parameters\n    ----------\n    X : pd.DataFrame or np.ndarray\n        The dataset from which to extract the target variable(s).\n    target : ArrayLike, int, str, or list of int/str\n        The target variable(s) to be used. If an array-like or DataFrame, \n        it's directly used as `y`. If an int or str (or list of them), it \n        indicates the column(s) in `X` to be used as `y`.\n\n    Returns\n    -------\n    X : pd.DataFrame or np.ndarray\n        The dataset without the target column(s).\n    y : pd.Series, np.ndarray, pd.DataFrame\n        The target variable(s).\n    target_names : list of str\n        The names of the target variable(s) for labeling purposes.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_64_extract_target = {"_extract_target", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_64_extract_target, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_63_extract_target};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_64_extract_target(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_X = 0;
  PyObject *__pyx_v_target = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_extract_target (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_X,&amp;__pyx_n_s_target,0};
  PyObject* values[2] = {0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_X)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2202, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_target)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2202, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_extract_target", 1, 2, 2, 1); <span class='error_goto'>__PYX_ERR(0, 2202, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_extract_target") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2202, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 2)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
    }
    __pyx_v_X = values[0];
    __pyx_v_target = values[1];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_extract_target", 1, 2, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2202, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._extract_target", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_63_extract_target(__pyx_self, __pyx_v_X, __pyx_v_target);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
static PyObject *__pyx_gb_6gofast_5tools_9baseutils_15_extract_target_2generator14(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
/* â€¦ */
static PyObject *__pyx_pf_6gofast_5tools_9baseutils_63_extract_target(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_X, PyObject *__pyx_v_target) {
  PyObject *__pyx_v_target_names = NULL;
  PyObject *__pyx_v_y = NULL;
  PyObject *__pyx_gb_6gofast_5tools_9baseutils_15_extract_target_2generator14 = 0;
  PyObject *__pyx_gb_6gofast_5tools_9baseutils_15_extract_target_5generator15 = 0;
  PyObject *__pyx_9genexpr32__pyx_v_i = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__79)
  <span class='trace'>__Pyx_TraceCall</span>("_extract_target", __pyx_f[0], 2202, 0, <span class='error_goto'>__PYX_ERR(0, 2202, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._extract_target", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_target_names);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_y);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_gb_6gofast_5tools_9baseutils_15_extract_target_2generator14);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_gb_6gofast_5tools_9baseutils_15_extract_target_5generator15);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr32__pyx_v_i);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_X);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__190 = <span class='py_c_api'>PyTuple_Pack</span>(8, __pyx_n_s_X, __pyx_n_s_target, __pyx_n_s_target_names, __pyx_n_s_y, __pyx_n_s_genexpr, __pyx_n_s_genexpr, __pyx_n_s_genexpr, __pyx_n_s_i);<span class='error_goto'> if (unlikely(!__pyx_tuple__190)) __PYX_ERR(0, 2202, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__190);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__190);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(2202,0,<span class='error_goto'>__PYX_ERR(0, 2202, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2202, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_target, __pyx_kp_s_Union_ArrayLike_int_str_List_Uni) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2202, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_64_extract_target, 0, __pyx_n_s_extract_target_2, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__79));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2202, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_2, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_extract_target_2, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2202, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_codeobj__79 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(2, 0, 0, 8, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__190, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_extract_target_2, 2202, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__79)) __PYX_ERR(0, 2202, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2203</span>:         X, target: Union[ArrayLike, int, str, List[Union[int, str]]]):</pre>
<pre class="cython line score-0">&#xA0;<span class="">2204</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2205</span>:     Extracts and validates the target variable(s) from the dataset.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2206</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2207</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">2208</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2209</span>:     X : pd.DataFrame or np.ndarray</pre>
<pre class="cython line score-0">&#xA0;<span class="">2210</span>:         The dataset from which to extract the target variable(s).</pre>
<pre class="cython line score-0">&#xA0;<span class="">2211</span>:     target : ArrayLike, int, str, or list of int/str</pre>
<pre class="cython line score-0">&#xA0;<span class="">2212</span>:         The target variable(s) to be used. If an array-like or DataFrame,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2213</span>:         it's directly used as `y`. If an int or str (or list of them), it</pre>
<pre class="cython line score-0">&#xA0;<span class="">2214</span>:         indicates the column(s) in `X` to be used as `y`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2215</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2216</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">2217</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2218</span>:     X : pd.DataFrame or np.ndarray</pre>
<pre class="cython line score-0">&#xA0;<span class="">2219</span>:         The dataset without the target column(s).</pre>
<pre class="cython line score-0">&#xA0;<span class="">2220</span>:     y : pd.Series, np.ndarray, pd.DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">2221</span>:         The target variable(s).</pre>
<pre class="cython line score-0">&#xA0;<span class="">2222</span>:     target_names : list of str</pre>
<pre class="cython line score-0">&#xA0;<span class="">2223</span>:         The names of the target variable(s) for labeling purposes.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2224</span>:     """</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2225</span>:     target_names = []</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(2225,0,<span class='error_goto'>__PYX_ERR(0, 2225, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2225, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_target_names = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2226</span>: </pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2227</span>:     if isinstance(target, (list, pd.DataFrame)) or (</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(2227,0,<span class='error_goto'>__PYX_ERR(0, 2227, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2227, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2227, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_5 = <span class='py_c_api'>PyList_Check</span>(__pyx_v_target); 
  if (!__pyx_t_5) {
  } else {
    __pyx_t_4 = __pyx_t_5;
    goto __pyx_L6_bool_binop_done;
  }
  __pyx_t_5 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_target, __pyx_t_3); 
  __pyx_t_4 = __pyx_t_5;
  __pyx_L6_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (!__pyx_t_4) {
  } else {
    __pyx_t_2 = __pyx_t_4;
    goto __pyx_L4_bool_binop_done;
  }
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(2227,0,<span class='error_goto'>__PYX_ERR(0, 2227, __pyx_L1_error)</span>)
  if (__pyx_t_2) {
/* â€¦ */
    goto __pyx_L3;
  }
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2228</span>:             isinstance(target, pd.Series) and not isinstance(X, np.ndarray)):</pre>
<pre class='cython code score-22 '>  <span class='trace'>__Pyx_TraceLine</span>(2228,0,<span class='error_goto'>__PYX_ERR(0, 2228, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2228, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2228, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_4 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_target, __pyx_t_1);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(0, 2228, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_4) {
  } else {
    __pyx_t_2 = __pyx_t_4;
    goto __pyx_L4_bool_binop_done;
  }
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2228, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_ndarray);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2228, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_4 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_X, __pyx_t_3);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(0, 2228, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_5 = (!__pyx_t_4);
  __pyx_t_2 = __pyx_t_5;
  __pyx_L4_bool_binop_done:;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2229</span>:         if isinstance(target, list):  # List of column names or indexes</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(2229,0,<span class='error_goto'>__PYX_ERR(0, 2229, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyList_Check</span>(__pyx_v_target); 
    if (__pyx_t_2) {
/* â€¦ */
      goto __pyx_L9;
    }
</pre><pre class="cython line score-85" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2230</span>:             if all(isinstance(t, str) for t in target):</pre>
<pre class='cython code score-85 '>static PyObject *__pyx_pf_6gofast_5tools_9baseutils_15_extract_target_genexpr(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_genexpr_arg_0) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_20_genexpr *__pyx_cur_scope;
  PyObject *__pyx_r = NULL;
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_20_genexpr *)__pyx_tp_new_6gofast_5tools_9baseutils___pyx_scope_struct_20_genexpr(__pyx_ptype_6gofast_5tools_9baseutils___pyx_scope_struct_20_genexpr, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_20_genexpr *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 2230, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  __pyx_cur_scope-&gt;__pyx_genexpr_arg_0 = __pyx_genexpr_arg_0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  {
    __pyx_CoroutineObject *gen = <span class='pyx_c_api'>__Pyx_Generator_New</span>((__pyx_coroutine_body_t) __pyx_gb_6gofast_5tools_9baseutils_15_extract_target_2generator14, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_extract_target_locals_genexpr_2, __pyx_n_s_gofast_tools_baseutils);<span class='error_goto'> if (unlikely(!gen)) __PYX_ERR(0, 2230, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_cur_scope);
    <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
    return (PyObject *) gen;
  }

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._extract_target.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_gb_6gofast_5tools_9baseutils_15_extract_target_2generator14(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
{
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("genexpr", 0);
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_L3_first_run:;
  if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 2230, __pyx_L1_error)</span>
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>(".0"); <span class='error_goto'>__PYX_ERR(0, 2230, __pyx_L1_error)</span> }
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) {
    __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_genexpr_arg_0; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    __pyx_t_2 = 0;
    __pyx_t_3 = NULL;
  } else {
    __pyx_t_2 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2230, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2230, __pyx_L1_error)</span>
  }
  for (;;) {
    if (likely(!__pyx_t_3)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2230, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2230, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2230, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2230, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2230, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2230, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      }
    } else {
      __pyx_t_4 = __pyx_t_3(__pyx_t_1);
      if (unlikely(!__pyx_t_4)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 2230, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    }
    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_cur_scope-&gt;__pyx_v_t);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_cur_scope-&gt;__pyx_v_t, __pyx_t_4);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
    __pyx_t_4 = 0;
    __pyx_t_5 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_cur_scope-&gt;__pyx_v_t); 
    __pyx_t_6 = (!__pyx_t_5);
    if (__pyx_t_6) {
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_False);
      __pyx_r = Py_False;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      goto __pyx_L0;
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  /*else*/ {
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_True);
    __pyx_r = Py_True;
    goto __pyx_L0;
  }
  CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);

  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_Generator_Replace_StopIteration</span>(0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  #if !CYTHON_USE_EXC_INFO_STACK
  <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
  #endif
  __pyx_generator-&gt;resume_label = -1;
  <span class='pyx_c_api'>__Pyx_Coroutine_clear</span>((PyObject*)__pyx_generator);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
static PyObject *__pyx_gb_6gofast_5tools_9baseutils_15_extract_target_5generator15(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(2230,0,<span class='error_goto'>__PYX_ERR(0, 2230, __pyx_L1_error)</span>)
      __pyx_t_3 = __pyx_pf_6gofast_5tools_9baseutils_15_extract_target_genexpr(NULL, __pyx_v_target);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2230, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_Generator_Next</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2230, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_1); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2230, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (__pyx_t_2) {
/* â€¦ */
        goto __pyx_L10;
      }
/* â€¦ */
struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_20_genexpr {
  PyObject_HEAD
  PyObject *__pyx_genexpr_arg_0;
  PyObject *__pyx_v_t;
};

</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2231</span>:                 y = X[target]</pre>
<pre class='cython code score-2 '>        <span class='trace'>__Pyx_TraceLine</span>(2231,0,<span class='error_goto'>__PYX_ERR(0, 2231, __pyx_L1_error)</span>)
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_X, __pyx_v_target);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2231, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        __pyx_v_y = __pyx_t_1;
        __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2232</span>:                 target_names = target</pre>
<pre class='cython code score-2 '>        <span class='trace'>__Pyx_TraceLine</span>(2232,0,<span class='error_goto'>__PYX_ERR(0, 2232, __pyx_L1_error)</span>)
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_target_names, __pyx_v_target);
</pre><pre class="cython line score-85" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2233</span>:             elif all(isinstance(t, int) for t in target):</pre>
<pre class='cython code score-85 '>static PyObject *__pyx_pf_6gofast_5tools_9baseutils_15_extract_target_3genexpr(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_genexpr_arg_0) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_21_genexpr *__pyx_cur_scope;
  PyObject *__pyx_r = NULL;
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_21_genexpr *)__pyx_tp_new_6gofast_5tools_9baseutils___pyx_scope_struct_21_genexpr(__pyx_ptype_6gofast_5tools_9baseutils___pyx_scope_struct_21_genexpr, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_21_genexpr *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 2233, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  __pyx_cur_scope-&gt;__pyx_genexpr_arg_0 = __pyx_genexpr_arg_0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  {
    __pyx_CoroutineObject *gen = <span class='pyx_c_api'>__Pyx_Generator_New</span>((__pyx_coroutine_body_t) __pyx_gb_6gofast_5tools_9baseutils_15_extract_target_5generator15, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_extract_target_locals_genexpr_2, __pyx_n_s_gofast_tools_baseutils);<span class='error_goto'> if (unlikely(!gen)) __PYX_ERR(0, 2233, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_cur_scope);
    <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
    return (PyObject *) gen;
  }

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._extract_target.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_gb_6gofast_5tools_9baseutils_15_extract_target_5generator15(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
{
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("genexpr", 0);
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_L3_first_run:;
  if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 2233, __pyx_L1_error)</span>
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>(".0"); <span class='error_goto'>__PYX_ERR(0, 2233, __pyx_L1_error)</span> }
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) {
    __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_genexpr_arg_0; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    __pyx_t_2 = 0;
    __pyx_t_3 = NULL;
  } else {
    __pyx_t_2 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2233, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2233, __pyx_L1_error)</span>
  }
  for (;;) {
    if (likely(!__pyx_t_3)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2233, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2233, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2233, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2233, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2233, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2233, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      }
    } else {
      __pyx_t_4 = __pyx_t_3(__pyx_t_1);
      if (unlikely(!__pyx_t_4)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 2233, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    }
    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_cur_scope-&gt;__pyx_v_t);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_cur_scope-&gt;__pyx_v_t, __pyx_t_4);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
    __pyx_t_4 = 0;
    __pyx_t_5 = <span class='py_c_api'>PyInt_Check</span>(__pyx_cur_scope-&gt;__pyx_v_t); 
    __pyx_t_6 = (!__pyx_t_5);
    if (__pyx_t_6) {
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_False);
      __pyx_r = Py_False;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      goto __pyx_L0;
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  /*else*/ {
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_True);
    __pyx_r = Py_True;
    goto __pyx_L0;
  }
  CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);

  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_Generator_Replace_StopIteration</span>(0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  #if !CYTHON_USE_EXC_INFO_STACK
  <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
  #endif
  __pyx_generator-&gt;resume_label = -1;
  <span class='pyx_c_api'>__Pyx_Coroutine_clear</span>((PyObject*)__pyx_generator);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(2233,0,<span class='error_goto'>__PYX_ERR(0, 2233, __pyx_L1_error)</span>)
      __pyx_t_1 = __pyx_pf_6gofast_5tools_9baseutils_15_extract_target_3genexpr(NULL, __pyx_v_target);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2233, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Generator_Next</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2233, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_3); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2233, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (__pyx_t_2) {
/* â€¦ */
      }
      __pyx_L10:;
/* â€¦ */
struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_21_genexpr {
  PyObject_HEAD
  PyObject *__pyx_genexpr_arg_0;
  PyObject *__pyx_v_t;
};

</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2234</span>:                 y = X.iloc[:, target]</pre>
<pre class='cython code score-17 '>        <span class='trace'>__Pyx_TraceLine</span>(2234,0,<span class='error_goto'>__PYX_ERR(0, 2234, __pyx_L1_error)</span>)
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_iloc);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2234, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2234, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_slice__5);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_slice__5);
        if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_slice__5)) <span class='error_goto'>__PYX_ERR(0, 2234, __pyx_L1_error)</span>;
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target);
        if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_v_target)) <span class='error_goto'>__PYX_ERR(0, 2234, __pyx_L1_error)</span>;
        __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_t_3, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2234, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        __pyx_v_y = __pyx_t_6;
        __pyx_t_6 = 0;
</pre><pre class="cython line score-65" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2235</span>:                 target_names = [X.columns[i] for i in target]</pre>
<pre class='cython code score-65 '>        <span class='trace'>__Pyx_TraceLine</span>(2235,0,<span class='error_goto'>__PYX_ERR(0, 2235, __pyx_L1_error)</span>)
        { /* enter inner scope */
          __pyx_t_6 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2235, __pyx_L13_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
          if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_target)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_target)) {
            __pyx_t_1 = __pyx_v_target; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
            __pyx_t_7 = 0;
            __pyx_t_8 = NULL;
          } else {
            __pyx_t_7 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_target);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2235, __pyx_L13_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
            __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2235, __pyx_L13_error)</span>
          }
          for (;;) {
            if (likely(!__pyx_t_8)) {
              if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
                {
                  Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
                  #if !CYTHON_ASSUME_SAFE_MACROS
                  if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2235, __pyx_L13_error)</span>
                  #endif
                  if (__pyx_t_7 &gt;= __pyx_temp) break;
                }
                #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
                __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_7); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3); __pyx_t_7++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2235, __pyx_L13_error)</span>
                #else
                __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_7); __pyx_t_7++;<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2235, __pyx_L13_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
                #endif
              } else {
                {
                  Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
                  #if !CYTHON_ASSUME_SAFE_MACROS
                  if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2235, __pyx_L13_error)</span>
                  #endif
                  if (__pyx_t_7 &gt;= __pyx_temp) break;
                }
                #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
                __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_7); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3); __pyx_t_7++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2235, __pyx_L13_error)</span>
                #else
                __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_7); __pyx_t_7++;<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2235, __pyx_L13_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
                #endif
              }
            } else {
              __pyx_t_3 = __pyx_t_8(__pyx_t_1);
              if (unlikely(!__pyx_t_3)) {
                PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
                if (exc_type) {
                  if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
                  else <span class='error_goto'>__PYX_ERR(0, 2235, __pyx_L13_error)</span>
                }
                break;
              }
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
            }
            <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr32__pyx_v_i, __pyx_t_3);
            __pyx_t_3 = 0;
            __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2235, __pyx_L13_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
            __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_t_3, __pyx_9genexpr32__pyx_v_i);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2235, __pyx_L13_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
            if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_6, (PyObject*)__pyx_t_9))) <span class='error_goto'>__PYX_ERR(0, 2235, __pyx_L13_error)</span>
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
          }
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr32__pyx_v_i); __pyx_9genexpr32__pyx_v_i = 0;
          goto __pyx_L17_exit_scope;
          __pyx_L13_error:;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr32__pyx_v_i); __pyx_9genexpr32__pyx_v_i = 0;
          goto __pyx_L1_error;
          __pyx_L17_exit_scope:;
        } /* exit inner scope */
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_target_names, __pyx_t_6);
        __pyx_t_6 = 0;
</pre><pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2236</span>:             X = X.drop(columns=target_names)</pre>
<pre class='cython code score-14 '>      <span class='trace'>__Pyx_TraceLine</span>(2236,0,<span class='error_goto'>__PYX_ERR(0, 2236, __pyx_L1_error)</span>)
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_drop);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2236, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2236, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_columns, __pyx_v_target_names) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2236, __pyx_L1_error)</span>
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_6, __pyx_empty_tuple, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2236, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_X, __pyx_t_9);
      __pyx_t_9 = 0;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2237</span>:         elif isinstance(target, pd.DataFrame):</pre>
<pre class='cython code score-11 '>    <span class='trace'>__Pyx_TraceLine</span>(2237,0,<span class='error_goto'>__PYX_ERR(0, 2237, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_9, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2237, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_9, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2237, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    __pyx_t_2 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_target, __pyx_t_1);<span class='error_goto'> if (unlikely(__pyx_t_2 == ((int)-1))) __PYX_ERR(0, 2237, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (__pyx_t_2) {
/* â€¦ */
      goto __pyx_L9;
    }
</pre><pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2238</span>:             y = target</pre>
<pre class='cython code score-1 '>      <span class='trace'>__Pyx_TraceLine</span>(2238,0,<span class='error_goto'>__PYX_ERR(0, 2238, __pyx_L1_error)</span>)
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target);
      __pyx_v_y = __pyx_v_target;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2239</span>:             target_names = target.columns.tolist()</pre>
<pre class='cython code score-20 '>      <span class='trace'>__Pyx_TraceLine</span>(2239,0,<span class='error_goto'>__PYX_ERR(0, 2239, __pyx_L1_error)</span>)
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_target, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2239, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_9, __pyx_n_s_tolist);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2239, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_9 = NULL;
      __pyx_t_10 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
        __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
        if (likely(__pyx_t_9)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
          __pyx_t_10 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_9, NULL};
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_10, 0+__pyx_t_10);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2239, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_target_names, __pyx_t_1);
      __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2240</span>:             # Assuming target DataFrame is not part of X</pre>
<pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2241</span>:         elif isinstance(target, pd.Series):</pre>
<pre class='cython code score-11 '>    <span class='trace'>__Pyx_TraceLine</span>(2241,0,<span class='error_goto'>__PYX_ERR(0, 2241, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2241, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2241, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_2 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_target, __pyx_t_6);<span class='error_goto'> if (unlikely(__pyx_t_2 == ((int)-1))) __PYX_ERR(0, 2241, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    if (__pyx_t_2) {
/* â€¦ */
    }
    __pyx_L9:;
</pre><pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2242</span>:             y = target</pre>
<pre class='cython code score-1 '>      <span class='trace'>__Pyx_TraceLine</span>(2242,0,<span class='error_goto'>__PYX_ERR(0, 2242, __pyx_L1_error)</span>)
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target);
      __pyx_v_y = __pyx_v_target;
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2243</span>:             target_names = [target.name] if target.name else ["target"]</pre>
<pre class='cython code score-23 '>      <span class='trace'>__Pyx_TraceLine</span>(2243,0,<span class='error_goto'>__PYX_ERR(0, 2243, __pyx_L1_error)</span>)
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_target, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2243, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_1); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2243, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (__pyx_t_2) {
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_target, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2243, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        __pyx_t_9 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2243, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
        if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_9, 0, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2243, __pyx_L1_error)</span>;
        __pyx_t_1 = 0;
        __pyx_t_6 = __pyx_t_9;
        __pyx_t_9 = 0;
      } else {
        __pyx_t_9 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2243, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_target);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_target);
        if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_9, 0, __pyx_n_u_target)) <span class='error_goto'>__PYX_ERR(0, 2243, __pyx_L1_error)</span>;
        __pyx_t_6 = __pyx_t_9;
        __pyx_t_9 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_target_names, __pyx_t_6);
      __pyx_t_6 = 0;
</pre><pre class="cython line score-13" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2244</span>:             if target.name and target.name in X.columns:</pre>
<pre class='cython code score-13 '>      <span class='trace'>__Pyx_TraceLine</span>(2244,0,<span class='error_goto'>__PYX_ERR(0, 2244, __pyx_L1_error)</span>)
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_target, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2244, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_6); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2244, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (__pyx_t_5) {
      } else {
        __pyx_t_2 = __pyx_t_5;
        goto __pyx_L19_bool_binop_done;
      }
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_target, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2244, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2244, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_t_6, __pyx_t_9, Py_EQ)); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2244, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_2 = __pyx_t_5;
      __pyx_L19_bool_binop_done:;
      if (__pyx_t_2) {
/* â€¦ */
      }
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2245</span>:                 X = X.drop(columns=target.name)</pre>
<pre class='cython code score-17 '>        <span class='trace'>__Pyx_TraceLine</span>(2245,0,<span class='error_goto'>__PYX_ERR(0, 2245, __pyx_L1_error)</span>)
        __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_drop);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2245, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
        __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2245, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_target, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2245, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_columns, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2245, __pyx_L1_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_9, __pyx_empty_tuple, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2245, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_X, __pyx_t_1);
        __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2246</span>: </pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2247</span>:     elif isinstance(target, (int, str)):</pre>
<pre class='cython code score-10 '>  <span class='trace'>__Pyx_TraceLine</span>(2247,0,<span class='error_goto'>__PYX_ERR(0, 2247, __pyx_L1_error)</span>)
  __pyx_t_5 = <span class='py_c_api'>PyInt_Check</span>(__pyx_v_target); 
  if (!__pyx_t_5) {
  } else {
    __pyx_t_2 = __pyx_t_5;
    goto __pyx_L21_bool_binop_done;
  }
  __pyx_t_5 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_target); 
  __pyx_t_2 = __pyx_t_5;
  __pyx_L21_bool_binop_done:;
  if (__pyx_t_2) {
/* â€¦ */
    goto __pyx_L3;
  }
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2248</span>:         if isinstance(target, str):</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(2248,0,<span class='error_goto'>__PYX_ERR(0, 2248, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_target); 
    if (__pyx_t_2) {
/* â€¦ */
      goto __pyx_L23;
    }
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2249</span>:             y = X.pop(target)</pre>
<pre class='cython code score-16 '>      <span class='trace'>__Pyx_TraceLine</span>(2249,0,<span class='error_goto'>__PYX_ERR(0, 2249, __pyx_L1_error)</span>)
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_pop);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2249, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_9 = NULL;
      __pyx_t_10 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
        __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
        if (likely(__pyx_t_9)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
          __pyx_t_10 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_9, __pyx_v_target};
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_10, 1+__pyx_t_10);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2249, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      }
      __pyx_v_y = __pyx_t_1;
      __pyx_t_1 = 0;
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2250</span>:             target_names = [target]</pre>
<pre class='cython code score-9 '>      <span class='trace'>__Pyx_TraceLine</span>(2250,0,<span class='error_goto'>__PYX_ERR(0, 2250, __pyx_L1_error)</span>)
      __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2250, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_target)) <span class='error_goto'>__PYX_ERR(0, 2250, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_target_names, __pyx_t_1);
      __pyx_t_1 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2251</span>:         elif isinstance(target, int):</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(2251,0,<span class='error_goto'>__PYX_ERR(0, 2251, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyInt_Check</span>(__pyx_v_target); 
    if (__pyx_t_2) {
/* â€¦ */
    }
    __pyx_L23:;
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2252</span>:             y = X.iloc[:, target]</pre>
<pre class='cython code score-17 '>      <span class='trace'>__Pyx_TraceLine</span>(2252,0,<span class='error_goto'>__PYX_ERR(0, 2252, __pyx_L1_error)</span>)
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_iloc);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2252, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2252, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_slice__5);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_slice__5);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_slice__5)) <span class='error_goto'>__PYX_ERR(0, 2252, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 1, __pyx_v_target)) <span class='error_goto'>__PYX_ERR(0, 2252, __pyx_L1_error)</span>;
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_t_1, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2252, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_v_y = __pyx_t_9;
      __pyx_t_9 = 0;
</pre><pre class="cython line score-13" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2253</span>:             target_names = [X.columns[target]]</pre>
<pre class='cython code score-13 '>      <span class='trace'>__Pyx_TraceLine</span>(2253,0,<span class='error_goto'>__PYX_ERR(0, 2253, __pyx_L1_error)</span>)
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2253, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_t_9, __pyx_v_target);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2253, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_9 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2253, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_6);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_9, 0, __pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 2253, __pyx_L1_error)</span>;
      __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_target_names, __pyx_t_9);
      __pyx_t_9 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2254</span>:             X = X.drop(columns=X.columns[target])</pre>
<pre class='cython code score-20 '>      <span class='trace'>__Pyx_TraceLine</span>(2254,0,<span class='error_goto'>__PYX_ERR(0, 2254, __pyx_L1_error)</span>)
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_drop);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2254, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2254, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2254, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_t_1, __pyx_v_target);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2254, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_columns, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2254, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_9, __pyx_empty_tuple, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2254, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_X, __pyx_t_3);
      __pyx_t_3 = 0;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2255</span>:     elif isinstance(target, np.ndarray) or (</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(2255,0,<span class='error_goto'>__PYX_ERR(0, 2255, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2255, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_ndarray);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2255, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_5 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_target, __pyx_t_6);<span class='error_goto'> if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 2255, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  if (!__pyx_t_5) {
  } else {
    __pyx_t_2 = __pyx_t_5;
    goto __pyx_L24_bool_binop_done;
  }
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(2255,0,<span class='error_goto'>__PYX_ERR(0, 2255, __pyx_L1_error)</span>)
  if (likely(__pyx_t_2)) {
/* â€¦ */
    goto __pyx_L3;
  }
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2256</span>:             isinstance(target, pd.Series) and isinstance(X, np.ndarray)):</pre>
<pre class='cython code score-22 '>  <span class='trace'>__Pyx_TraceLine</span>(2256,0,<span class='error_goto'>__PYX_ERR(0, 2256, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2256, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2256, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_5 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_target, __pyx_t_3);<span class='error_goto'> if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 2256, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (__pyx_t_5) {
  } else {
    __pyx_t_2 = __pyx_t_5;
    goto __pyx_L24_bool_binop_done;
  }
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2256, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_ndarray);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2256, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_5 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_X, __pyx_t_6);<span class='error_goto'> if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 2256, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_2 = __pyx_t_5;
  __pyx_L24_bool_binop_done:;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2257</span>:         y = np.array(target)</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(2257,0,<span class='error_goto'>__PYX_ERR(0, 2257, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2257, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2257, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = NULL;
    __pyx_t_10 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
        __pyx_t_10 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_target};
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_10, 1+__pyx_t_10);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 2257, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    }
    __pyx_v_y = __pyx_t_6;
    __pyx_t_6 = 0;
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2258</span>:         target_names = ["target"]</pre>
<pre class='cython code score-9 '>    <span class='trace'>__Pyx_TraceLine</span>(2258,0,<span class='error_goto'>__PYX_ERR(0, 2258, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2258, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_target);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_target);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_6, 0, __pyx_n_u_target)) <span class='error_goto'>__PYX_ERR(0, 2258, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_target_names, __pyx_t_6);
    __pyx_t_6 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2259</span>:     else:</pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2260</span>:         raise ValueError("Unsupported target type or target does not match X dimensions.")</pre>
<pre class='cython code score-10 '>  <span class='trace'>__Pyx_TraceLine</span>(2260,0,<span class='error_goto'>__PYX_ERR(0, 2260, __pyx_L1_error)</span>)
  /*else*/ {
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__80, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2260, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_6, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='error_goto'>__PYX_ERR(0, 2260, __pyx_L1_error)</span>
  }
  __pyx_L3:;
/* â€¦ */
  __pyx_tuple__80 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Unsupported_target_type_or_targe);<span class='error_goto'> if (unlikely(!__pyx_tuple__80)) __PYX_ERR(0, 2260, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__80);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__80);
</pre><pre class="cython line score-0">&#xA0;<span class="">2261</span>: </pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2262</span>:     check_consistent_length(X, y)</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(2262,0,<span class='error_goto'>__PYX_ERR(0, 2262, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_9, __pyx_n_s_check_consistent_length);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2262, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  if (unlikely(!__pyx_v_y)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("y"); <span class='error_goto'>__PYX_ERR(0, 2262, __pyx_L1_error)</span> }
  __pyx_t_3 = NULL;
  __pyx_t_10 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
      __pyx_t_10 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_3, __pyx_v_X, __pyx_v_y};
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_10, 2+__pyx_t_10);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 2262, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2263</span>: </pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2264</span>:     return X, y, target_names</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(2264,0,<span class='error_goto'>__PYX_ERR(0, 2264, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  if (unlikely(!__pyx_v_y)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("y"); <span class='error_goto'>__PYX_ERR(0, 2264, __pyx_L1_error)</span> }
  __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2264, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_v_X)) <span class='error_goto'>__PYX_ERR(0, 2264, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_y);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 1, __pyx_v_y)) <span class='error_goto'>__PYX_ERR(0, 2264, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_names);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target_names);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 2, __pyx_v_target_names)) <span class='error_goto'>__PYX_ERR(0, 2264, __pyx_L1_error)</span>;
  __pyx_r = __pyx_t_6;
  __pyx_t_6 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2265</span>: </pre>
<pre class="cython line score-78" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2266</span>: def categorize_target(</pre>
<pre class='cython code score-78 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_66categorize_target(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_65categorize_target, " Categorize array to hold the given identifier labels. \n    \n    Classifier numerical values according to the given label values. Labels \n    are a list of integers where each integer is a group of unique identifier  \n    of a sample in the dataset. \n    \n    Parameters \n    -----------\n    arr: array-like |pandas.Series \n        array or series containing numerical values. If a non-numerical values \n        is given , an errors will raises. \n    func: Callable, \n        Function to categorize the target y.  \n    labels: int, list of int, \n        if an integer value is given, it should be considered as the number \n        of category to split 'y'. For instance ``label=3`` applied on \n        the first ten number, the labels values should be ``[0, 1, 2]``. \n        If labels are given as a list, items must be self-contain in the \n        target 'y'.\n    rename_labels: list of str; \n        list of string or values to replace the label integer identifier. \n    coerce: bool, default =False, \n        force the new label names passed to `rename_labels` to appear in the \n        target including or not some integer identifier class label. If \n        `coerce` is ``True``, the target array holds the dtype of new_array. \n\n    Return\n    --------\n    arr: Arraylike |pandas.Series\n        The category array with unique identifer labels \n        \n    Examples \n    --------\n\n    &gt;&gt;&gt; from gofast.tools.baseutils import categorize_target \n    &gt;&gt;&gt; def binfunc(v): \n            if v &lt; 3 : return 0 \n            else : return 1 \n    &gt;&gt;&gt; arr = np.arange (10 )\n    &gt;&gt;&gt; arr \n    ... array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])\n    &gt;&gt;&gt; target = categorize_target(arr, func =binfunc)\n    ... array([0, 0, 0, 1, 1, 1, 1, 1, 1, 1], dtype=int64)\n    &gt;&gt;&gt; categorize_target(arr, labels =3 )\n    ... array([0, 0, 0, 1, 1, 1, 2, 2, 2, 2])\n    &gt;&gt;&gt; array([2, 2, 2, 2, 1, 1, 1, 0, 0, 0]) \n    &gt;&gt;&gt; categorize_target(arr, labels =3 , order =None )\n    ... array([0, 0, ""0, 0, 1, 1, 1, 2, 2, 2])\n    &gt;&gt;&gt; categorize_target(arr[::-1], labels =3 , order =None )\n    ... array([0, 0, 0, 1, 1, 1, 2, 2, 2, 2]) # reverse does not change\n    &gt;&gt;&gt; categorize_target(arr, labels =[0 , 2,  4]  )\n    ... array([0, 0, 0, 2, 2, 4, 4, 4, 4, 4])\n\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_66categorize_target = {"categorize_target", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_66categorize_target, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_65categorize_target};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_66categorize_target(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_arr = 0;
  PyObject *__pyx_v_func = 0;
  PyObject *__pyx_v_labels = 0;
  PyObject *__pyx_v_rename_labels = 0;
  PyObject *__pyx_v_coerce = 0;
  PyObject *__pyx_v_order = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("categorize_target (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_arr,&amp;__pyx_n_s_func,&amp;__pyx_n_s_labels,&amp;__pyx_n_s_rename_labels,&amp;__pyx_n_s_coerce,&amp;__pyx_n_s_order,0};
  PyObject* values[6] = {0,0,0,0,0,0};
/* â€¦ */
  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_65categorize_target(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_arr, PyObject *__pyx_v_func, PyObject *__pyx_v_labels, PyObject *__pyx_v_rename_labels, PyObject *__pyx_v_coerce, PyObject *__pyx_v_order) {
  int __pyx_v_is_arr;
  PyObject *__pyx_v_name = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__81)
  <span class='trace'>__Pyx_TraceCall</span>("categorize_target", __pyx_f[0], 2266, 0, <span class='error_goto'>__PYX_ERR(0, 2266, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.categorize_target", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_name);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_arr);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__191 = <span class='py_c_api'>PyTuple_Pack</span>(8, __pyx_n_s_arr, __pyx_n_s_func, __pyx_n_s_labels, __pyx_n_s_rename_labels, __pyx_n_s_coerce, __pyx_n_s_order, __pyx_n_s_is_arr, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_tuple__191)) __PYX_ERR(0, 2266, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__191);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__191);
  __pyx_codeobj__81 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(6, 0, 0, 8, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__191, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_categorize_target, 2266, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__81)) __PYX_ERR(0, 2266, __pyx_L1_error)</span>
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(2266,0,<span class='error_goto'>__PYX_ERR(0, 2266, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(6);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2266, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_arr, __pyx_kp_s_Union_ArrayLike_Series) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2266, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_func, __pyx_n_s_F) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2266, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_labels, __pyx_kp_s_Union_int_List_int) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2266, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_rename_labels, __pyx_kp_s_Optional_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2266, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_coerce, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2266, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_order, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2266, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_66categorize_target, 0, __pyx_n_s_categorize_target, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__81));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2266, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_3, __pyx_tuple__192);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_3, __pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_categorize_target, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2266, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_tuple__192 = <span class='py_c_api'>PyTuple_Pack</span>(5, Py_None, Py_None, Py_None, ((PyObject *)Py_False), ((PyObject*)__pyx_n_u_strict));<span class='error_goto'> if (unlikely(!__pyx_tuple__192)) __PYX_ERR(0, 2266, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__192);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__192);
</pre><pre class="cython line score-0">&#xA0;<span class="">2267</span>:     arr : Union [ArrayLike , Series] ,</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2268</span>:     func: _F = None,</pre>
<pre class='cython code score-2 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2269</span>:     labels: Union [int, List[int]] = None,</pre>
<pre class='cython code score-2 '>    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2270</span>:     rename_labels: Optional[str] = None,</pre>
<pre class='cython code score-2 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-94" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2271</span>:     coerce:bool=False,</pre>
<pre class='cython code score-94 '>    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject*)((PyObject*)__pyx_n_u_strict)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_arr)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2266, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_func);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2266, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_labels);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2266, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_rename_labels);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2266, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_coerce);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2266, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  5:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_order);
          if (value) { values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2266, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "categorize_target") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2266, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_arr = values[0];
    __pyx_v_func = values[1];
    __pyx_v_labels = values[2];
    __pyx_v_rename_labels = values[3];
    __pyx_v_coerce = values[4];
    __pyx_v_order = ((PyObject*)values[5]);
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("categorize_target", 0, 1, 6, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2266, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.categorize_target", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_order), (&amp;PyUnicode_Type), 0, "order", 1))) <span class='error_goto'>__PYX_ERR(0, 2272, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_65categorize_target(__pyx_self, __pyx_v_arr, __pyx_v_func, __pyx_v_labels, __pyx_v_rename_labels, __pyx_v_coerce, __pyx_v_order);
</pre><pre class="cython line score-0">&#xA0;<span class="">2272</span>:     order:str='strict',</pre>
<pre class="cython line score-0">&#xA0;<span class="">2273</span>:     ):</pre>
<pre class="cython line score-0">&#xA0;<span class="">2274</span>:     """ Categorize array to hold the given identifier labels.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2275</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2276</span>:     Classifier numerical values according to the given label values. Labels</pre>
<pre class="cython line score-0">&#xA0;<span class="">2277</span>:     are a list of integers where each integer is a group of unique identifier</pre>
<pre class="cython line score-0">&#xA0;<span class="">2278</span>:     of a sample in the dataset.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2279</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2280</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">2281</span>:     -----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2282</span>:     arr: array-like |pandas.Series</pre>
<pre class="cython line score-0">&#xA0;<span class="">2283</span>:         array or series containing numerical values. If a non-numerical values</pre>
<pre class="cython line score-0">&#xA0;<span class="">2284</span>:         is given , an errors will raises.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2285</span>:     func: Callable,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2286</span>:         Function to categorize the target y.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2287</span>:     labels: int, list of int,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2288</span>:         if an integer value is given, it should be considered as the number</pre>
<pre class="cython line score-0">&#xA0;<span class="">2289</span>:         of category to split 'y'. For instance ``label=3`` applied on</pre>
<pre class="cython line score-0">&#xA0;<span class="">2290</span>:         the first ten number, the labels values should be ``[0, 1, 2]``.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2291</span>:         If labels are given as a list, items must be self-contain in the</pre>
<pre class="cython line score-0">&#xA0;<span class="">2292</span>:         target 'y'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2293</span>:     rename_labels: list of str;</pre>
<pre class="cython line score-0">&#xA0;<span class="">2294</span>:         list of string or values to replace the label integer identifier.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2295</span>:     coerce: bool, default =False,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2296</span>:         force the new label names passed to `rename_labels` to appear in the</pre>
<pre class="cython line score-0">&#xA0;<span class="">2297</span>:         target including or not some integer identifier class label. If</pre>
<pre class="cython line score-0">&#xA0;<span class="">2298</span>:         `coerce` is ``True``, the target array holds the dtype of new_array.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2299</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2300</span>:     Return</pre>
<pre class="cython line score-0">&#xA0;<span class="">2301</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2302</span>:     arr: Arraylike |pandas.Series</pre>
<pre class="cython line score-0">&#xA0;<span class="">2303</span>:         The category array with unique identifer labels</pre>
<pre class="cython line score-0">&#xA0;<span class="">2304</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2305</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">2306</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2307</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2308</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import categorize_target</pre>
<pre class="cython line score-0">&#xA0;<span class="">2309</span>:     &gt;&gt;&gt; def binfunc(v):</pre>
<pre class="cython line score-0">&#xA0;<span class="">2310</span>:             if v &lt; 3 : return 0</pre>
<pre class="cython line score-0">&#xA0;<span class="">2311</span>:             else : return 1</pre>
<pre class="cython line score-0">&#xA0;<span class="">2312</span>:     &gt;&gt;&gt; arr = np.arange (10 )</pre>
<pre class="cython line score-0">&#xA0;<span class="">2313</span>:     &gt;&gt;&gt; arr</pre>
<pre class="cython line score-0">&#xA0;<span class="">2314</span>:     ... array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</pre>
<pre class="cython line score-0">&#xA0;<span class="">2315</span>:     &gt;&gt;&gt; target = categorize_target(arr, func =binfunc)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2316</span>:     ... array([0, 0, 0, 1, 1, 1, 1, 1, 1, 1], dtype=int64)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2317</span>:     &gt;&gt;&gt; categorize_target(arr, labels =3 )</pre>
<pre class="cython line score-0">&#xA0;<span class="">2318</span>:     ... array([0, 0, 0, 1, 1, 1, 2, 2, 2, 2])</pre>
<pre class="cython line score-0">&#xA0;<span class="">2319</span>:     &gt;&gt;&gt; array([2, 2, 2, 2, 1, 1, 1, 0, 0, 0])</pre>
<pre class="cython line score-0">&#xA0;<span class="">2320</span>:     &gt;&gt;&gt; categorize_target(arr, labels =3 , order =None )</pre>
<pre class="cython line score-0">&#xA0;<span class="">2321</span>:     ... array([0, 0, 0, 0, 1, 1, 1, 2, 2, 2])</pre>
<pre class="cython line score-0">&#xA0;<span class="">2322</span>:     &gt;&gt;&gt; categorize_target(arr[::-1], labels =3 , order =None )</pre>
<pre class="cython line score-0">&#xA0;<span class="">2323</span>:     ... array([0, 0, 0, 1, 1, 1, 2, 2, 2, 2]) # reverse does not change</pre>
<pre class="cython line score-0">&#xA0;<span class="">2324</span>:     &gt;&gt;&gt; categorize_target(arr, labels =[0 , 2,  4]  )</pre>
<pre class="cython line score-0">&#xA0;<span class="">2325</span>:     ... array([0, 0, 0, 2, 2, 4, 4, 4, 4, 4])</pre>
<pre class="cython line score-0">&#xA0;<span class="">2326</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2327</span>:     """</pre>
<pre class="cython line score-29" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2328</span>:     arr = _assert_all_types(arr, np.ndarray, pd.Series)</pre>
<pre class='cython code score-29 '>  <span class='trace'>__Pyx_TraceLine</span>(2328,0,<span class='error_goto'>__PYX_ERR(0, 2328, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_assert_all_types);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2328, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2328, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_ndarray);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2328, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2328, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2328, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[4] = {__pyx_t_3, __pyx_v_arr, __pyx_t_4, __pyx_t_5};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_6, 3+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2328, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2329</span>:     is_arr =False</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(2329,0,<span class='error_goto'>__PYX_ERR(0, 2329, __pyx_L1_error)</span>)
  __pyx_v_is_arr = 0;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2330</span>:     if isinstance (arr, np.ndarray ) :</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(2330,0,<span class='error_goto'>__PYX_ERR(0, 2330, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2330, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_ndarray);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2330, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_7 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_arr, __pyx_t_2);<span class='error_goto'> if (unlikely(__pyx_t_7 == ((int)-1))) __PYX_ERR(0, 2330, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_7) {
/* â€¦ */
  }
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2331</span>:         arr = pd.Series (arr  , name = 'none')</pre>
<pre class='cython code score-26 '>    <span class='trace'>__Pyx_TraceLine</span>(2331,0,<span class='error_goto'>__PYX_ERR(0, 2331, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2331, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2331, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2331, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arr);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_arr)) <span class='error_goto'>__PYX_ERR(0, 2331, __pyx_L1_error)</span>;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2331, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_name, __pyx_n_u_none) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2331, __pyx_L1_error)</span>
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_2, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2331, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_4);
    __pyx_t_4 = 0;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2332</span>:         is_arr =True</pre>
<pre class='cython code score-0 '>    <span class='trace'>__Pyx_TraceLine</span>(2332,0,<span class='error_goto'>__PYX_ERR(0, 2332, __pyx_L1_error)</span>)
    __pyx_v_is_arr = 1;
</pre><pre class="cython line score-0">&#xA0;<span class="">2333</span>: </pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2334</span>:     if func is not None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(2334,0,<span class='error_goto'>__PYX_ERR(0, 2334, __pyx_L1_error)</span>)
  __pyx_t_7 = (__pyx_v_func != Py_None);
  if (__pyx_t_7) {
/* â€¦ */
  }
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2335</span>:         if not  inspect.isfunction (func):</pre>
<pre class='cython code score-22 '>    <span class='trace'>__Pyx_TraceLine</span>(2335,0,<span class='error_goto'>__PYX_ERR(0, 2335, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_inspect);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2335, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_isfunction);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2335, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_v_func};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 2335, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_4); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2335, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_8 = (!__pyx_t_7);
    if (unlikely(__pyx_t_8)) {
/* â€¦ */
    }
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2336</span>:             raise TypeError (</pre>
<pre class='cython code score-6 '>      <span class='trace'>__Pyx_TraceLine</span>(2336,0,<span class='error_goto'>__PYX_ERR(0, 2336, __pyx_L1_error)</span>)
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_TypeError, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2336, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='error_goto'>__PYX_ERR(0, 2336, __pyx_L1_error)</span>
</pre><pre class="cython line score-13" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2337</span>:                 f'Expect a function but got {type(func).__name__!r}')</pre>
<pre class='cython code score-13 '>      <span class='trace'>__Pyx_TraceLine</span>(2337,0,<span class='error_goto'>__PYX_ERR(0, 2337, __pyx_L1_error)</span>)
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(((PyObject *)Py_TYPE(__pyx_v_func)), __pyx_n_s_name_2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2337, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_t_4), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2337, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_kp_u_Expect_a_function_but_got, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2337, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2338</span>: </pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2339</span>:         arr= arr.apply (func )</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(2339,0,<span class='error_goto'>__PYX_ERR(0, 2339, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_arr, __pyx_n_s_apply);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2339, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_5 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_v_func};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2339, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2340</span>: </pre>
<pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2341</span>:         return  arr.values  if is_arr else arr</pre>
<pre class='cython code score-4 '>    <span class='trace'>__Pyx_TraceLine</span>(2341,0,<span class='error_goto'>__PYX_ERR(0, 2341, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    if (__pyx_v_is_arr) {
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_arr, __pyx_n_s_values);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2341, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_2 = __pyx_t_4;
      __pyx_t_4 = 0;
    } else {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
      __pyx_t_2 = __pyx_v_arr;
    }
    __pyx_r = __pyx_t_2;
    __pyx_t_2 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2342</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2343</span>:     name = arr.name</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(2343,0,<span class='error_goto'>__PYX_ERR(0, 2343, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_arr, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2343, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_v_name = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2344</span>:     arr = arr.values</pre>
<pre class='cython code score-3 '>  <span class='trace'>__Pyx_TraceLine</span>(2344,0,<span class='error_goto'>__PYX_ERR(0, 2344, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_arr, __pyx_n_s_values);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2344, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2345</span>: </pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2346</span>:     if labels is not None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(2346,0,<span class='error_goto'>__PYX_ERR(0, 2346, __pyx_L1_error)</span>)
  __pyx_t_8 = (__pyx_v_labels != Py_None);
  if (__pyx_t_8) {
/* â€¦ */
  }
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2347</span>:         arr = _cattarget (arr , labels, order =order)</pre>
<pre class='cython code score-26 '>    <span class='trace'>__Pyx_TraceLine</span>(2347,0,<span class='error_goto'>__PYX_ERR(0, 2347, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_cattarget);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2347, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2347, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arr);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_v_arr)) <span class='error_goto'>__PYX_ERR(0, 2347, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_labels);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_labels);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_v_labels)) <span class='error_goto'>__PYX_ERR(0, 2347, __pyx_L1_error)</span>;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2347, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_order, __pyx_v_order) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2347, __pyx_L1_error)</span>
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_4, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2347, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2348</span>:         if rename_labels is not None:</pre>
<pre class='cython code score-0 '>    <span class='trace'>__Pyx_TraceLine</span>(2348,0,<span class='error_goto'>__PYX_ERR(0, 2348, __pyx_L1_error)</span>)
    __pyx_t_8 = (__pyx_v_rename_labels != Py_None);
    if (__pyx_t_8) {
/* â€¦ */
    }
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2349</span>:             arr = rename_labels_in( arr , rename_labels , coerce =coerce )</pre>
<pre class='cython code score-26 '>      <span class='trace'>__Pyx_TraceLine</span>(2349,0,<span class='error_goto'>__PYX_ERR(0, 2349, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_rename_labels_in);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2349, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2349, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arr);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_v_arr)) <span class='error_goto'>__PYX_ERR(0, 2349, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_rename_labels);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_rename_labels);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 1, __pyx_v_rename_labels)) <span class='error_goto'>__PYX_ERR(0, 2349, __pyx_L1_error)</span>;
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2349, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_coerce, __pyx_v_coerce) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2349, __pyx_L1_error)</span>
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_5, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2349, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_2);
      __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2350</span>: </pre>
<pre class="cython line score-27" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2351</span>:     return arr  if is_arr else pd.Series (arr, name =name  )</pre>
<pre class='cython code score-27 '>  <span class='trace'>__Pyx_TraceLine</span>(2351,0,<span class='error_goto'>__PYX_ERR(0, 2351, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  if (__pyx_v_is_arr) {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
    __pyx_t_2 = __pyx_v_arr;
  } else {
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2351, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2351, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2351, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arr);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_v_arr)) <span class='error_goto'>__PYX_ERR(0, 2351, __pyx_L1_error)</span>;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2351, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_name, __pyx_v_name) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2351, __pyx_L1_error)</span>
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_t_4, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2351, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_2 = __pyx_t_3;
    __pyx_t_3 = 0;
  }
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2352</span>: </pre>
<pre class="cython line score-49" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2353</span>: def rename_labels_in (</pre>
<pre class='cython code score-49 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_68rename_labels_in(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_67rename_labels_in, " Rename label by a new names \n    \n    :param arr: arr: array-like |pandas.Series \n         array or series containing numerical values. If a non-numerical values \n         is given , an errors will raises. \n    :param new_names: list of str; \n        list of string or values to replace the label integer identifier. \n    :param coerce: bool, default =False, \n        force the 'new_names' to appear in the target including or not some \n        integer identifier class label. `coerce` is ``True``, the target array \n        hold the dtype of new_array; coercing the label names will not yield \n        error. Consequently can introduce an unexpected results.\n    :return: array-like, \n        An array-like with full new label names. \n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_68rename_labels_in = {"rename_labels_in", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_68rename_labels_in, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_67rename_labels_in};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_68rename_labels_in(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_arr = 0;
  PyObject *__pyx_v_new_names = 0;
  PyObject *__pyx_v_coerce = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("rename_labels_in (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_arr,&amp;__pyx_n_s_new_names,&amp;__pyx_n_s_coerce,0};
  PyObject* values[3] = {0,0,0};
/* â€¦ */
  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_67rename_labels_in(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_arr, PyObject *__pyx_v_new_names, PyObject *__pyx_v_coerce) {
  PyObject *__pyx_v_true_labels = NULL;
  PyObject *__pyx_v_el = NULL;
  PyObject *__pyx_v_nel = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__82)
  <span class='trace'>__Pyx_TraceCall</span>("rename_labels_in", __pyx_f[0], 2353, 0, <span class='error_goto'>__PYX_ERR(0, 2353, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_new_names);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.rename_labels_in", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_true_labels);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_el);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_nel);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_arr);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_new_names);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__193 = <span class='py_c_api'>PyTuple_Pack</span>(6, __pyx_n_s_arr, __pyx_n_s_new_names, __pyx_n_s_coerce, __pyx_n_s_true_labels, __pyx_n_s_el, __pyx_n_s_nel);<span class='error_goto'> if (unlikely(!__pyx_tuple__193)) __PYX_ERR(0, 2353, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__193);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__193);
  __pyx_codeobj__82 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(3, 0, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__193, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_rename_labels_in, 2353, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__82)) __PYX_ERR(0, 2353, __pyx_L1_error)</span>
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(2353,0,<span class='error_goto'>__PYX_ERR(0, 2353, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_68rename_labels_in, 0, __pyx_n_s_rename_labels_in, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__82));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2353, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_3, __pyx_tuple__194);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_rename_labels_in, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2353, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_tuple__194 = <span class='py_c_api'>PyTuple_Pack</span>(1, ((PyObject *)Py_False));<span class='error_goto'> if (unlikely(!__pyx_tuple__194)) __PYX_ERR(0, 2353, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__194);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__194);
</pre><pre class="cython line score-53" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2354</span>:         arr, new_names, coerce = False):</pre>
<pre class='cython code score-53 '>    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_arr)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2353, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_new_names)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2353, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("rename_labels_in", 0, 2, 3, 1); <span class='error_goto'>__PYX_ERR(0, 2353, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_coerce);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2353, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "rename_labels_in") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2353, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_arr = values[0];
    __pyx_v_new_names = values[1];
    __pyx_v_coerce = values[2];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("rename_labels_in", 0, 2, 3, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2353, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.rename_labels_in", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_67rename_labels_in(__pyx_self, __pyx_v_arr, __pyx_v_new_names, __pyx_v_coerce);
</pre><pre class="cython line score-0">&#xA0;<span class="">2355</span>:     """ Rename label by a new names</pre>
<pre class="cython line score-0">&#xA0;<span class="">2356</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2357</span>:     :param arr: arr: array-like |pandas.Series</pre>
<pre class="cython line score-0">&#xA0;<span class="">2358</span>:          array or series containing numerical values. If a non-numerical values</pre>
<pre class="cython line score-0">&#xA0;<span class="">2359</span>:          is given , an errors will raises.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2360</span>:     :param new_names: list of str;</pre>
<pre class="cython line score-0">&#xA0;<span class="">2361</span>:         list of string or values to replace the label integer identifier.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2362</span>:     :param coerce: bool, default =False,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2363</span>:         force the 'new_names' to appear in the target including or not some</pre>
<pre class="cython line score-0">&#xA0;<span class="">2364</span>:         integer identifier class label. `coerce` is ``True``, the target array</pre>
<pre class="cython line score-0">&#xA0;<span class="">2365</span>:         hold the dtype of new_array; coercing the label names will not yield</pre>
<pre class="cython line score-0">&#xA0;<span class="">2366</span>:         error. Consequently can introduce an unexpected results.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2367</span>:     :return: array-like,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2368</span>:         An array-like with full new label names.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2369</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2370</span>: </pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2371</span>:     if not is_iterable(new_names):</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(2371,0,<span class='error_goto'>__PYX_ERR(0, 2371, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_is_iterable);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2371, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_new_names};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2371, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_1); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2371, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_6 = (!__pyx_t_5);
  if (__pyx_t_6) {
/* â€¦ */
  }
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2372</span>:         new_names= [new_names]</pre>
<pre class='cython code score-9 '>    <span class='trace'>__Pyx_TraceLine</span>(2372,0,<span class='error_goto'>__PYX_ERR(0, 2372, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2372, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_new_names);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_new_names);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_new_names)) <span class='error_goto'>__PYX_ERR(0, 2372, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_new_names, __pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2373</span>:     true_labels = np.unique (arr)</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(2373,0,<span class='error_goto'>__PYX_ERR(0, 2373, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2373, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_unique);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2373, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_arr};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2373, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_v_true_labels = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2374</span>: </pre>
<pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2375</span>:     if labels_validator(arr, new_names, return_bool= True):</pre>
<pre class='cython code score-28 '>  <span class='trace'>__Pyx_TraceLine</span>(2375,0,<span class='error_goto'>__PYX_ERR(0, 2375, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_labels_validator);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2375, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2375, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arr);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_arr)) <span class='error_goto'>__PYX_ERR(0, 2375, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_new_names);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_new_names);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_v_new_names)) <span class='error_goto'>__PYX_ERR(0, 2375, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2375, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_return_bool, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2375, __pyx_L1_error)</span>
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_3, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2375, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_7); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2375, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  if (__pyx_t_6) {
/* â€¦ */
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2376</span>:         return arr</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(2376,0,<span class='error_goto'>__PYX_ERR(0, 2376, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
    __pyx_r = __pyx_v_arr;
    goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2377</span>: </pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2378</span>:     if len(true_labels) != len(new_names):</pre>
<pre class='cython code score-10 '>  <span class='trace'>__Pyx_TraceLine</span>(2378,0,<span class='error_goto'>__PYX_ERR(0, 2378, __pyx_L1_error)</span>)
  __pyx_t_8 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_true_labels);<span class='error_goto'> if (unlikely(__pyx_t_8 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2378, __pyx_L1_error)</span>
  __pyx_t_9 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_new_names);<span class='error_goto'> if (unlikely(__pyx_t_9 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2378, __pyx_L1_error)</span>
  __pyx_t_6 = (__pyx_t_8 != __pyx_t_9);
  if (__pyx_t_6) {
/* â€¦ */
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2379</span>:         if not coerce:</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(2379,0,<span class='error_goto'>__PYX_ERR(0, 2379, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_coerce); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2379, __pyx_L1_error)</span>
    __pyx_t_5 = (!__pyx_t_6);
    if (unlikely(__pyx_t_5)) {
/* â€¦ */
    }
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2380</span>:             raise ValueError(</pre>
<pre class='cython code score-6 '>      <span class='trace'>__Pyx_TraceLine</span>(2380,0,<span class='error_goto'>__PYX_ERR(0, 2380, __pyx_L1_error)</span>)
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2380, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='error_goto'>__PYX_ERR(0, 2380, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2381</span>:                 "Can't rename labels; the new names and unique label"</pre>
<pre class="cython line score-0">&#xA0;<span class="">2382</span>:                 " identifiers size must be consistent; expect {}, got "</pre>
<pre class="cython line score-38" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2383</span>:                 "{} label(s).".format(len(true_labels), len(new_names))</pre>
<pre class='cython code score-38 '>      <span class='trace'>__Pyx_TraceLine</span>(2383,0,<span class='error_goto'>__PYX_ERR(0, 2383, __pyx_L1_error)</span>)
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_kp_u_Can_t_rename_labels_the_new_name, __pyx_n_s_format);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2383, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_9 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_true_labels);<span class='error_goto'> if (unlikely(__pyx_t_9 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2383, __pyx_L1_error)</span>
      __pyx_t_3 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2383, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_9 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_new_names);<span class='error_goto'> if (unlikely(__pyx_t_9 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2383, __pyx_L1_error)</span>
      __pyx_t_1 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2383, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_10 = NULL;
      __pyx_t_4 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
        __pyx_t_10 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
        if (likely(__pyx_t_10)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_10);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
          __pyx_t_4 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[3] = {__pyx_t_10, __pyx_t_3, __pyx_t_1};
        __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        if (unlikely(!__pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 2383, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      }
</pre><pre class="cython line score-0">&#xA0;<span class="">2384</span>:                              )</pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2385</span>:         if len(true_labels) &lt; len(new_names) :</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(2385,0,<span class='error_goto'>__PYX_ERR(0, 2385, __pyx_L1_error)</span>)
    __pyx_t_9 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_true_labels);<span class='error_goto'> if (unlikely(__pyx_t_9 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2385, __pyx_L1_error)</span>
    __pyx_t_8 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_new_names);<span class='error_goto'> if (unlikely(__pyx_t_8 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2385, __pyx_L1_error)</span>
    __pyx_t_5 = (__pyx_t_9 &lt; __pyx_t_8);
    if (__pyx_t_5) {
/* â€¦ */
      goto __pyx_L7;
    }
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2386</span>:             new_names = new_names [: len(new_names)]</pre>
<pre class='cython code score-8 '>      <span class='trace'>__Pyx_TraceLine</span>(2386,0,<span class='error_goto'>__PYX_ERR(0, 2386, __pyx_L1_error)</span>)
      __pyx_t_8 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_new_names);<span class='error_goto'> if (unlikely(__pyx_t_8 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2386, __pyx_L1_error)</span>
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetSlice</span>(__pyx_v_new_names, 0, __pyx_t_8, NULL, NULL, NULL, 0, 1, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2386, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_new_names, __pyx_t_2);
      __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2387</span>:         else:</pre>
<pre class="cython line score-18" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2388</span>:             new_names = list(new_names)  + list(</pre>
<pre class='cython code score-18 '>    <span class='trace'>__Pyx_TraceLine</span>(2388,0,<span class='error_goto'>__PYX_ERR(0, 2388, __pyx_L1_error)</span>)
    /*else*/ {
      __pyx_t_2 = <span class='py_c_api'>PySequence_List</span>(__pyx_v_new_names);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2388, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(2389,0,<span class='error_goto'>__PYX_ERR(0, 2389, __pyx_L1_error)</span>)
      __pyx_t_7 = <span class='py_c_api'>PySequence_List</span>(__pyx_v_true_labels);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2388, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(2388,0,<span class='error_goto'>__PYX_ERR(0, 2388, __pyx_L1_error)</span>)
      __pyx_t_7 = <span class='py_c_api'>PyNumber_Add</span>(__pyx_t_2, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2388, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_new_names, __pyx_t_7);
      __pyx_t_7 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2389</span>:                 true_labels)[len(new_names):]</pre>
<pre class='cython code score-8 '>      __pyx_t_8 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_new_names);<span class='error_goto'> if (unlikely(__pyx_t_8 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2389, __pyx_L1_error)</span>
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyList_GetSlice</span>(__pyx_t_7, __pyx_t_8, PY_SSIZE_T_MAX);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2389, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2390</span>:             warnings.warn("Number of the given labels '{}' and values '{}'"</pre>
<pre class='cython code score-5 '>      <span class='trace'>__Pyx_TraceLine</span>(2390,0,<span class='error_goto'>__PYX_ERR(0, 2390, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_warnings);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2390, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_warn);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2390, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2391</span>:                           " are not consistent. Be aware that this could "</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2392</span>:                           "yield an expected results.".format(</pre>
<pre class='cython code score-2 '>      <span class='trace'>__Pyx_TraceLine</span>(2392,0,<span class='error_goto'>__PYX_ERR(0, 2392, __pyx_L1_error)</span>)
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_kp_u_Number_of_the_given_labels_and_v, __pyx_n_s_format);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2392, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
</pre><pre class="cython line score-52" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2393</span>:                               len(new_names), len(true_labels)))</pre>
<pre class='cython code score-52 '>      <span class='trace'>__Pyx_TraceLine</span>(2393,0,<span class='error_goto'>__PYX_ERR(0, 2393, __pyx_L1_error)</span>)
      __pyx_t_8 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_new_names);<span class='error_goto'> if (unlikely(__pyx_t_8 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2393, __pyx_L1_error)</span>
      __pyx_t_10 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2393, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
      __pyx_t_8 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_true_labels);<span class='error_goto'> if (unlikely(__pyx_t_8 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2393, __pyx_L1_error)</span>
      __pyx_t_11 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2393, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
      __pyx_t_12 = NULL;
      __pyx_t_4 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
        __pyx_t_12 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
        if (likely(__pyx_t_12)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_12);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
          __pyx_t_4 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[3] = {__pyx_t_12, __pyx_t_10, __pyx_t_11};
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
        if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2392, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      }
      __pyx_t_3 = NULL;
      __pyx_t_4 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
        __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
        if (likely(__pyx_t_3)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
          __pyx_t_4 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_t_1};
        __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        if (unlikely(!__pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 2390, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    }
    __pyx_L7:;
</pre><pre class="cython line score-0">&#xA0;<span class="">2394</span>: </pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2395</span>:     new_names = np.array(new_names)</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(2395,0,<span class='error_goto'>__PYX_ERR(0, 2395, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2395, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2395, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_new_names};
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 2395, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_new_names, __pyx_t_7);
  __pyx_t_7 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2396</span>:     # xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</pre>
<pre class="cython line score-0">&#xA0;<span class="">2397</span>:     # hold the type of arr to operate the</pre>
<pre class="cython line score-0">&#xA0;<span class="">2398</span>:     # element wise comparaison if not a</pre>
<pre class="cython line score-0">&#xA0;<span class="">2399</span>:     # ValueError:' invalid literal for int() with base 10'</pre>
<pre class="cython line score-0">&#xA0;<span class="">2400</span>:     # will appear.</pre>
<pre class="cython line score-51" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2401</span>:     if not np.issubdtype(np.array(new_names).dtype, np.number):</pre>
<pre class='cython code score-51 '>  <span class='trace'>__Pyx_TraceLine</span>(2401,0,<span class='error_goto'>__PYX_ERR(0, 2401, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2401, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_issubdtype);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2401, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2401, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2401, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_11))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_11);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_11, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_new_names};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_11, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2401, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
  }
  __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_dtype);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2401, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2401, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_number);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2401, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_1)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_1, __pyx_t_11, __pyx_t_3};
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 2401, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_7); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2401, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  __pyx_t_6 = (!__pyx_t_5);
  if (__pyx_t_6) {
/* â€¦ */
  }
</pre><pre class="cython line score-40" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2402</span>:         arr= arr.astype (np.array(new_names).dtype)</pre>
<pre class='cython code score-40 '>    <span class='trace'>__Pyx_TraceLine</span>(2402,0,<span class='error_goto'>__PYX_ERR(0, 2402, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_arr, __pyx_n_s_astype);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2402, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_11, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2402, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_11, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2402, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
    __pyx_t_11 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_11 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_11)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_11, __pyx_v_new_names};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 2402, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_dtype);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2402, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_t_1};
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 2402, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_7);
    __pyx_t_7 = 0;
</pre><pre class="cython line score-40" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2403</span>:         true_labels = true_labels.astype (np.array(new_names).dtype)</pre>
<pre class='cython code score-40 '>    <span class='trace'>__Pyx_TraceLine</span>(2403,0,<span class='error_goto'>__PYX_ERR(0, 2403, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_true_labels, __pyx_n_s_astype);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2403, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2403, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2403, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_11))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_11);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_11, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_new_names};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_11, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2403, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
    }
    __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_dtype);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2403, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_t_11};
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
      if (unlikely(!__pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 2403, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_true_labels, __pyx_t_7);
    __pyx_t_7 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2404</span>: </pre>
<pre class="cython line score-111" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2405</span>:     for el , nel in zip (true_labels, new_names ):</pre>
<pre class='cython code score-111 '>  <span class='trace'>__Pyx_TraceLine</span>(2405,0,<span class='error_goto'>__PYX_ERR(0, 2405, __pyx_L1_error)</span>)
  __pyx_t_7 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2405, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_true_labels);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_true_labels);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 0, __pyx_v_true_labels)) <span class='error_goto'>__PYX_ERR(0, 2405, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_new_names);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_new_names);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 1, __pyx_v_new_names)) <span class='error_goto'>__PYX_ERR(0, 2405, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_zip, __pyx_t_7, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2405, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_2)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_2)) {
    __pyx_t_7 = __pyx_t_2; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
    __pyx_t_8 = 0;
    __pyx_t_13 = NULL;
  } else {
    __pyx_t_8 = -1; __pyx_t_7 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2405, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_13 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 2405, __pyx_L1_error)</span>
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  for (;;) {
    if (likely(!__pyx_t_13)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_7))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_7);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2405, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_8 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_7, __pyx_t_8); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_8++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2405, __pyx_L1_error)</span>
        #else
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_7, __pyx_t_8); __pyx_t_8++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2405, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_7);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2405, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_8 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_7, __pyx_t_8); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_8++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2405, __pyx_L1_error)</span>
        #else
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_7, __pyx_t_8); __pyx_t_8++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2405, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        #endif
      }
    } else {
      __pyx_t_2 = __pyx_t_13(__pyx_t_7);
      if (unlikely(!__pyx_t_2)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 2405, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    }
    if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_2))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_2))) {
      PyObject* sequence = __pyx_t_2;
      Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
      if (unlikely(size != 2)) {
        if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
        else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
        <span class='error_goto'>__PYX_ERR(0, 2405, __pyx_L1_error)</span>
      }
      #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
      if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
        __pyx_t_11 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
        __pyx_t_1 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
      } else {
        __pyx_t_11 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
        __pyx_t_1 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
      }
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      #else
      __pyx_t_11 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2405, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
      __pyx_t_1 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2405, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      #endif
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    } else {
      Py_ssize_t index = -1;
      __pyx_t_3 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2405, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_14 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_3);
      index = 0; __pyx_t_11 = __pyx_t_14(__pyx_t_3); if (unlikely(!__pyx_t_11)) goto __pyx_L11_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
      index = 1; __pyx_t_1 = __pyx_t_14(__pyx_t_3); if (unlikely(!__pyx_t_1)) goto __pyx_L11_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_14(__pyx_t_3), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2405, __pyx_L1_error)</span>
      __pyx_t_14 = NULL;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      goto __pyx_L12_unpacking_done;
      __pyx_L11_unpacking_failed:;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_14 = NULL;
      if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
      <span class='error_goto'>__PYX_ERR(0, 2405, __pyx_L1_error)</span>
      __pyx_L12_unpacking_done:;
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_el, __pyx_t_11);
    __pyx_t_11 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_nel, __pyx_t_1);
    __pyx_t_1 = 0;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(2405,0,<span class='error_goto'>__PYX_ERR(0, 2405, __pyx_L1_error)</span>)
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2406</span>:         # xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</pre>
<pre class="cython line score-0">&#xA0;<span class="">2407</span>:         # element comparison throws a future warning here</pre>
<pre class="cython line score-0">&#xA0;<span class="">2408</span>:         # because of a disagreement between Numpy and native python</pre>
<pre class="cython line score-0">&#xA0;<span class="">2409</span>:         # Numpy version ='1.22.4' while python version = 3.9.12</pre>
<pre class="cython line score-0">&#xA0;<span class="">2410</span>:         # this code is brittle and requires these versions above.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2411</span>:         # xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</pre>
<pre class="cython line score-0">&#xA0;<span class="">2412</span>:         # suppress element wise comparison warning locally</pre>
<pre class="cython line score-78" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2413</span>:         with warnings.catch_warnings():</pre>
<pre class='cython code score-78 '>    <span class='trace'>__Pyx_TraceLine</span>(2413,0,<span class='error_goto'>__PYX_ERR(0, 2413, __pyx_L1_error)</span>)
    /*with:*/ {
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_warnings);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2413, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_catch_warnings);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2413, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = NULL;
      __pyx_t_4 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_11))) {
        __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_11);
        if (likely(__pyx_t_1)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_11);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_11, function);
          __pyx_t_4 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_1, NULL};
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_11, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2413, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
      }
      __pyx_t_15 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_2, __pyx_n_s_exit);<span class='error_goto'> if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 2413, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_15);
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_2, __pyx_n_s_enter);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2413, __pyx_L13_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_3 = NULL;
      __pyx_t_4 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
        __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
        if (likely(__pyx_t_3)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
          __pyx_t_4 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
        __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        if (unlikely(!__pyx_t_11)) <span class='error_goto'>__PYX_ERR(0, 2413, __pyx_L13_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      /*try:*/ {
        {
          /*try:*/ {
/* â€¦ */
          }
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_16); __pyx_t_16 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_17); __pyx_t_17 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_18); __pyx_t_18 = 0;
          goto __pyx_L26_try_end;
          __pyx_L19_error:;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          /*except:*/ {
            <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.rename_labels_in", __pyx_clineno, __pyx_lineno, __pyx_filename);
            if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_1, &amp;__pyx_t_2, &amp;__pyx_t_11) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2413, __pyx_L21_except_error)</span>
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_2);
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_11);
            __pyx_t_3 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_t_1, __pyx_t_2, __pyx_t_11);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2413, __pyx_L21_except_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
            __pyx_t_19 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_15, __pyx_t_3, NULL);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
            if (unlikely(!__pyx_t_19)) <span class='error_goto'>__PYX_ERR(0, 2413, __pyx_L21_except_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_19);
            __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_19);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_19); __pyx_t_19 = 0;
            if (__pyx_t_6 &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2413, __pyx_L21_except_error)</span>
            __pyx_t_5 = (!__pyx_t_6);
            if (unlikely(__pyx_t_5)) {
              <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
              <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
              <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
              <span class='pyx_c_api'>__Pyx_ErrRestoreWithState</span>(__pyx_t_1, __pyx_t_2, __pyx_t_11);
              __pyx_t_1 = 0; __pyx_t_2 = 0; __pyx_t_11 = 0; 
              <span class='error_goto'>__PYX_ERR(0, 2413, __pyx_L21_except_error)</span>
            }
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
            goto __pyx_L20_exception_handled;
          }
          __pyx_L21_except_error:;
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_16);
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_17);
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_18);
          <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_16, __pyx_t_17, __pyx_t_18);
          goto __pyx_L1_error;
          __pyx_L20_exception_handled:;
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_16);
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_17);
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_18);
          <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_16, __pyx_t_17, __pyx_t_18);
          __pyx_L26_try_end:;
        }
      }
      /*finally:*/ {
        /*normal exit:*/{
          if (__pyx_t_15) {
            __pyx_t_18 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_15, __pyx_tuple__51, NULL);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
            if (unlikely(!__pyx_t_18)) <span class='error_goto'>__PYX_ERR(0, 2413, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_18);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_18); __pyx_t_18 = 0;
          }
          goto __pyx_L18;
        }
        __pyx_L18:;
      }
      goto __pyx_L30;
      __pyx_L13_error:;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
      goto __pyx_L1_error;
      __pyx_L30:;
    }
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2414</span>:             warnings.simplefilter(action='ignore', category=FutureWarning)</pre>
<pre class='cython code score-22 '>            <span class='trace'>__Pyx_TraceLine</span>(2414,0,<span class='error_goto'>__PYX_ERR(0, 2414, __pyx_L19_error)</span>)
            <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_warnings);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2414, __pyx_L19_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
            __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_simplefilter);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2414, __pyx_L19_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
            __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2414, __pyx_L19_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
            if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_action, __pyx_n_u_ignore) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2414, __pyx_L19_error)</span>
            if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_category, __pyx_builtin_FutureWarning) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2414, __pyx_L19_error)</span>
            __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_11, __pyx_empty_tuple, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2414, __pyx_L19_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2415</span>:             arr [arr == el ] = nel</pre>
<pre class='cython code score-11 '>            <span class='trace'>__Pyx_TraceLine</span>(2415,0,<span class='error_goto'>__PYX_ERR(0, 2415, __pyx_L19_error)</span>)
            __pyx_t_1 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_v_arr, __pyx_v_el, Py_EQ); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2415, __pyx_L19_error)</span>
            if (unlikely((<span class='py_c_api'>PyObject_SetItem</span>(__pyx_v_arr, __pyx_t_1, __pyx_v_nel) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2415, __pyx_L19_error)</span>
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2416</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2417</span>:     return arr</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(2417,0,<span class='error_goto'>__PYX_ERR(0, 2417, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
  __pyx_r = __pyx_v_arr;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2418</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2419</span>: </pre>
<pre class="cython line score-103" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2420</span>: def _cattarget (ar , labels , order=None):</pre>
<pre class='cython code score-103 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_70_cattarget(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_69_cattarget, " A shadow function of :func:`gofast.tools.baseutils.cattarget`. \n    \n    :param ar: array-like of numerical values \n    :param labels: int or list of int, \n        the number of category to split 'ar'into. \n    :param order: str, optional, \n        the order of label to be categorized. If None or any other values, \n        the categorization of labels considers only the length of array. \n        For instance a reverse array and non-reverse array yield the same \n        categorization samples. When order is set to ``strict``, the \n        categorization  strictly considers the value of each element. \n        \n    :return: array-like of int , array of categorized values.  \n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_70_cattarget = {"_cattarget", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_70_cattarget, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_69_cattarget};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_70_cattarget(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_ar = 0;
  PyObject *__pyx_v_labels = 0;
  PyObject *__pyx_v_order = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_cattarget (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_ar,&amp;__pyx_n_s_labels,&amp;__pyx_n_s_order,0};
  PyObject* values[3] = {0,0,0};
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_ar)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2420, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_labels)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2420, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_cattarget", 0, 2, 3, 1); <span class='error_goto'>__PYX_ERR(0, 2420, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_order);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2420, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_cattarget") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2420, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_ar = values[0];
    __pyx_v_labels = values[1];
    __pyx_v_order = values[2];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_cattarget", 0, 2, 3, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2420, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._cattarget", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_69_cattarget(__pyx_self, __pyx_v_ar, __pyx_v_labels, __pyx_v_order);

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_69_cattarget(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_ar, PyObject *__pyx_v_labels, PyObject *__pyx_v_order) {
  PyObject *__pyx_v_cc = NULL;
  PyObject *__pyx_v_s = NULL;
  PyObject *__pyx_v_mv = NULL;
  PyObject *__pyx_v_fmt = NULL;
  PyObject *__pyx_v_r = NULL;
  PyObject *__pyx_v_new_arr = NULL;
  PyObject *__pyx_v_i = NULL;
  PyObject *__pyx_v_ix = NULL;
  PyObject *__pyx_v_l = NULL;
  PyObject *__pyx_9genexpr33__pyx_v_lab = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__83)
  <span class='trace'>__Pyx_TraceCall</span>("_cattarget", __pyx_f[0], 2420, 0, <span class='error_goto'>__PYX_ERR(0, 2420, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_ar);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_labels);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._cattarget", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_cc);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_s);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_mv);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_fmt);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_r);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_new_arr);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_i);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_ix);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_l);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr33__pyx_v_lab);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_ar);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_labels);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__195 = <span class='py_c_api'>PyTuple_Pack</span>(13, __pyx_n_s_ar, __pyx_n_s_labels, __pyx_n_s_order, __pyx_n_s_cc, __pyx_n_s_s, __pyx_n_s_mv, __pyx_n_s_fmt, __pyx_n_s_r, __pyx_n_s_new_arr, __pyx_n_s_i, __pyx_n_s_ix, __pyx_n_s_l, __pyx_n_s_lab);<span class='error_goto'> if (unlikely(!__pyx_tuple__195)) __PYX_ERR(0, 2420, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__195);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__195);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(2420,0,<span class='error_goto'>__PYX_ERR(0, 2420, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_70_cattarget, 0, __pyx_n_s_cattarget, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__83));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2420, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_3, __pyx_tuple__146);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_cattarget, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2420, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_codeobj__83 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(3, 0, 0, 13, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__195, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_cattarget, 2420, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__83)) __PYX_ERR(0, 2420, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2421</span>:     """ A shadow function of :func:`gofast.tools.baseutils.cattarget`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2422</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2423</span>:     :param ar: array-like of numerical values</pre>
<pre class="cython line score-0">&#xA0;<span class="">2424</span>:     :param labels: int or list of int,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2425</span>:         the number of category to split 'ar'into.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2426</span>:     :param order: str, optional,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2427</span>:         the order of label to be categorized. If None or any other values,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2428</span>:         the categorization of labels considers only the length of array.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2429</span>:         For instance a reverse array and non-reverse array yield the same</pre>
<pre class="cython line score-0">&#xA0;<span class="">2430</span>:         categorization samples. When order is set to ``strict``, the</pre>
<pre class="cython line score-0">&#xA0;<span class="">2431</span>:         categorization  strictly considers the value of each element.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2432</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2433</span>:     :return: array-like of int , array of categorized values.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2434</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2435</span>:     # assert labels</pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2436</span>:     if is_iterable (labels):</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(2436,0,<span class='error_goto'>__PYX_ERR(0, 2436, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_is_iterable);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2436, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_labels};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2436, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_1); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2436, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_5) {
/* â€¦ */
    goto __pyx_L3;
  }
</pre><pre class="cython line score-27" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2437</span>:         labels =[int (_assert_all_types(lab, int, float))</pre>
<pre class='cython code score-27 '>    <span class='trace'>__Pyx_TraceLine</span>(2437,0,<span class='error_goto'>__PYX_ERR(0, 2437, __pyx_L1_error)</span>)
    { /* enter inner scope */
      __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2437, __pyx_L6_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
/* â€¦ */
        <span class='trace'>__Pyx_TraceLine</span>(2437,0,<span class='error_goto'>__PYX_ERR(0, 2437, __pyx_L6_error)</span>)
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_8, __pyx_n_s_assert_all_types);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2437, __pyx_L6_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
        __pyx_t_9 = NULL;
        __pyx_t_4 = 0;
        #if CYTHON_UNPACK_METHODS
        if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_8))) {
          __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_8);
          if (likely(__pyx_t_9)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_8);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_8, function);
            __pyx_t_4 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[4] = {__pyx_t_9, __pyx_9genexpr33__pyx_v_lab, ((PyObject *)(&amp;PyInt_Type)), ((PyObject *)(&amp;PyFloat_Type))};
          __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_8, __pyx_callargs+1-__pyx_t_4, 3+__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
          if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 2437, __pyx_L6_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
        }
        __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyNumber_Int</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2437, __pyx_L6_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_1, (PyObject*)__pyx_t_8))) <span class='error_goto'>__PYX_ERR(0, 2437, __pyx_L6_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
</pre><pre class="cython line score-52" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2438</span>:                  for lab in labels ]</pre>
<pre class='cython code score-52 '>      <span class='trace'>__Pyx_TraceLine</span>(2438,0,<span class='error_goto'>__PYX_ERR(0, 2438, __pyx_L6_error)</span>)
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_labels)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_labels)) {
        __pyx_t_2 = __pyx_v_labels; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        __pyx_t_6 = 0;
        __pyx_t_7 = NULL;
      } else {
        __pyx_t_6 = -1; __pyx_t_2 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_labels);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2438, __pyx_L6_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2438, __pyx_L6_error)</span>
      }
      for (;;) {
        if (likely(!__pyx_t_7)) {
          if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_2))) {
            {
              Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_2);
              #if !CYTHON_ASSUME_SAFE_MACROS
              if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2438, __pyx_L6_error)</span>
              #endif
              if (__pyx_t_6 &gt;= __pyx_temp) break;
            }
            #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
            __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_2, __pyx_t_6); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3); __pyx_t_6++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2438, __pyx_L6_error)</span>
            #else
            __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_2, __pyx_t_6); __pyx_t_6++;<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2438, __pyx_L6_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
            #endif
          } else {
            {
              Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_2);
              #if !CYTHON_ASSUME_SAFE_MACROS
              if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2438, __pyx_L6_error)</span>
              #endif
              if (__pyx_t_6 &gt;= __pyx_temp) break;
            }
            #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
            __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_2, __pyx_t_6); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3); __pyx_t_6++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2438, __pyx_L6_error)</span>
            #else
            __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_2, __pyx_t_6); __pyx_t_6++;<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2438, __pyx_L6_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
            #endif
          }
        } else {
          __pyx_t_3 = __pyx_t_7(__pyx_t_2);
          if (unlikely(!__pyx_t_3)) {
            PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
            if (exc_type) {
              if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
              else <span class='error_goto'>__PYX_ERR(0, 2438, __pyx_L6_error)</span>
            }
            break;
          }
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        }
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr33__pyx_v_lab, __pyx_t_3);
        __pyx_t_3 = 0;
/* â€¦ */
        <span class='trace'>__Pyx_TraceLine</span>(2438,0,<span class='error_goto'>__PYX_ERR(0, 2438, __pyx_L6_error)</span>)
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr33__pyx_v_lab); __pyx_9genexpr33__pyx_v_lab = 0;
      goto __pyx_L10_exit_scope;
      __pyx_L6_error:;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr33__pyx_v_lab); __pyx_9genexpr33__pyx_v_lab = 0;
      goto __pyx_L1_error;
      __pyx_L10_exit_scope:;
    } /* exit inner scope */
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_labels, __pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-32" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2439</span>:         labels = np.array (labels , dtype = np.int32 )</pre>
<pre class='cython code score-32 '>    <span class='trace'>__Pyx_TraceLine</span>(2439,0,<span class='error_goto'>__PYX_ERR(0, 2439, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2439, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2439, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2439, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_labels);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_labels);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_labels)) <span class='error_goto'>__PYX_ERR(0, 2439, __pyx_L1_error)</span>;
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2439, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2439, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_int32);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2439, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_8, __pyx_n_s_dtype, __pyx_t_9) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2439, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_1, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2439, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_labels, __pyx_t_9);
    __pyx_t_9 = 0;
</pre><pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2440</span>:         cc = labels</pre>
<pre class='cython code score-1 '>    <span class='trace'>__Pyx_TraceLine</span>(2440,0,<span class='error_goto'>__PYX_ERR(0, 2440, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_labels);
    __pyx_v_cc = __pyx_v_labels;
</pre><pre class="cython line score-0">&#xA0;<span class="">2441</span>:         # assert whether element is on the array</pre>
<pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2442</span>:         s = set (ar).intersection(labels)</pre>
<pre class='cython code score-22 '>    <span class='trace'>__Pyx_TraceLine</span>(2442,0,<span class='error_goto'>__PYX_ERR(0, 2442, __pyx_L1_error)</span>)
    __pyx_t_8 = <span class='py_c_api'>PySet_New</span>(__pyx_v_ar);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2442, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_8, __pyx_n_s_intersection);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2442, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    __pyx_t_8 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_8)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_8, __pyx_v_labels};
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      if (unlikely(!__pyx_t_9)) <span class='error_goto'>__PYX_ERR(0, 2442, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_v_s = __pyx_t_9;
    __pyx_t_9 = 0;
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2443</span>:         if len(s) != len(labels):</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(2443,0,<span class='error_goto'>__PYX_ERR(0, 2443, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_s);<span class='error_goto'> if (unlikely(__pyx_t_6 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2443, __pyx_L1_error)</span>
    __pyx_t_10 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_labels);<span class='error_goto'> if (unlikely(__pyx_t_10 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2443, __pyx_L1_error)</span>
    __pyx_t_5 = (__pyx_t_6 != __pyx_t_10);
    if (unlikely(__pyx_t_5)) {
/* â€¦ */
    }
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2444</span>:             mv = set(labels).difference (s)</pre>
<pre class='cython code score-22 '>      <span class='trace'>__Pyx_TraceLine</span>(2444,0,<span class='error_goto'>__PYX_ERR(0, 2444, __pyx_L1_error)</span>)
      __pyx_t_1 = <span class='py_c_api'>PySet_New</span>(__pyx_v_labels);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2444, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_difference);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2444, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = NULL;
      __pyx_t_4 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_8))) {
        __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_8);
        if (likely(__pyx_t_1)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_8);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_8, function);
          __pyx_t_4 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_v_s};
        __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_8, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        if (unlikely(!__pyx_t_9)) <span class='error_goto'>__PYX_ERR(0, 2444, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      }
      __pyx_v_mv = __pyx_t_9;
      __pyx_t_9 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2445</span>: </pre>
<pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2446</span>:             fmt = [f"{'s' if len(mv) &gt;1 else''} ", mv,</pre>
<pre class='cython code score-25 '>      <span class='trace'>__Pyx_TraceLine</span>(2446,0,<span class='error_goto'>__PYX_ERR(0, 2446, __pyx_L1_error)</span>)
      __pyx_t_10 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_mv);<span class='error_goto'> if (unlikely(__pyx_t_10 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2446, __pyx_L1_error)</span>
      __pyx_t_5 = (__pyx_t_10 &gt; 1);
      if (__pyx_t_5) {
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_s);
        __pyx_t_9 = __pyx_n_u_s;
      } else {
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__49);
        __pyx_t_9 = __pyx_kp_u__49;
      }
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyUnicode_Unicode</span>(__pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2446, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyUnicode_ConcatInPlace</span>(__pyx_t_8, __pyx_kp_u__50);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2446, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(2446,0,<span class='error_goto'>__PYX_ERR(0, 2446, __pyx_L1_error)</span>)
      __pyx_t_8 = <span class='py_c_api'>PyList_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2446, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_9);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_8, 0, __pyx_t_9)) <span class='error_goto'>__PYX_ERR(0, 2446, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_mv);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_mv);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_8, 1, __pyx_v_mv)) <span class='error_goto'>__PYX_ERR(0, 2446, __pyx_L1_error)</span>;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_8, 2, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2446, __pyx_L1_error)</span>;
      __pyx_t_9 = 0;
      __pyx_t_1 = 0;
      __pyx_v_fmt = ((PyObject*)__pyx_t_8);
      __pyx_t_8 = 0;
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2447</span>:                    f"{'is' if len(mv) &lt;=1 else'are'}"]</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(2447,0,<span class='error_goto'>__PYX_ERR(0, 2447, __pyx_L1_error)</span>)
      __pyx_t_10 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_mv);<span class='error_goto'> if (unlikely(__pyx_t_10 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2447, __pyx_L1_error)</span>
      __pyx_t_5 = (__pyx_t_10 &lt;= 1);
      if (__pyx_t_5) {
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_is);
        __pyx_t_8 = __pyx_n_u_is;
      } else {
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_are);
        __pyx_t_8 = __pyx_n_u_are;
      }
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyUnicode_Unicode</span>(__pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2447, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2448</span>:             warnings.warn("Label values must be array self-contain item. "</pre>
<pre class='cython code score-5 '>      <span class='trace'>__Pyx_TraceLine</span>(2448,0,<span class='error_goto'>__PYX_ERR(0, 2448, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_warnings);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2448, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_warn);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2448, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-27" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2449</span>:                            "Label{0} {1} {2} missing in the array.".format(</pre>
<pre class='cython code score-27 '>      <span class='trace'>__Pyx_TraceLine</span>(2449,0,<span class='error_goto'>__PYX_ERR(0, 2449, __pyx_L1_error)</span>)
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_kp_u_Label_values_must_be_array_self, __pyx_n_s_format);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2449, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(2450,0,<span class='error_goto'>__PYX_ERR(0, 2450, __pyx_L1_error)</span>)
      __pyx_t_2 = <span class='py_c_api'>PySequence_Tuple</span>(__pyx_v_fmt);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2449, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(2449,0,<span class='error_goto'>__PYX_ERR(0, 2449, __pyx_L1_error)</span>)
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_2, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2449, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_2 = NULL;
      __pyx_t_4 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
        __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
        if (likely(__pyx_t_2)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
          __pyx_t_4 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_t_3};
        __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        if (unlikely(!__pyx_t_8)) <span class='error_goto'>__PYX_ERR(0, 2448, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2450</span>:                                *fmt)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2451</span>:                           )</pre>
<pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2452</span>:             raise ValueError (</pre>
<pre class='cython code score-6 '>      <span class='trace'>__Pyx_TraceLine</span>(2452,0,<span class='error_goto'>__PYX_ERR(0, 2452, __pyx_L1_error)</span>)
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2452, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_9, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      <span class='error_goto'>__PYX_ERR(0, 2452, __pyx_L1_error)</span>
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2453</span>:                 "label value{0} {1} {2} missing in the array.".format(*fmt))</pre>
<pre class='cython code score-11 '>      <span class='trace'>__Pyx_TraceLine</span>(2453,0,<span class='error_goto'>__PYX_ERR(0, 2453, __pyx_L1_error)</span>)
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_kp_u_label_value_0_1_2_missing_in_the, __pyx_n_s_format);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2453, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      __pyx_t_9 = <span class='py_c_api'>PySequence_Tuple</span>(__pyx_v_fmt);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2453, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_8, __pyx_t_9, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2453, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2454</span>:     else :</pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2455</span>:         labels = int (_assert_all_types(labels , int, float))</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(2455,0,<span class='error_goto'>__PYX_ERR(0, 2455, __pyx_L1_error)</span>)
  /*else*/ {
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_assert_all_types);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2455, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_8 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_8)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[4] = {__pyx_t_8, __pyx_v_labels, ((PyObject *)(&amp;PyInt_Type)), ((PyObject *)(&amp;PyFloat_Type))};
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 3+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      if (unlikely(!__pyx_t_9)) <span class='error_goto'>__PYX_ERR(0, 2455, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyNumber_Int</span>(__pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2455, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_labels, __pyx_t_3);
    __pyx_t_3 = 0;
</pre><pre class="cython line score-29" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2456</span>:         labels = np.linspace ( min(ar), max (ar), labels + 1 ) #+ .00000001</pre>
<pre class='cython code score-29 '>    <span class='trace'>__Pyx_TraceLine</span>(2456,0,<span class='error_goto'>__PYX_ERR(0, 2456, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_9, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2456, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_9, __pyx_n_s_linspace);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2456, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_min, __pyx_v_ar);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2456, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_max, __pyx_v_ar);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2456, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyInt_AddObjC</span>(__pyx_v_labels, __pyx_int_1, 1, 0, 0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2456, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_11 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_8))) {
      __pyx_t_11 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_8);
      if (likely(__pyx_t_11)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_8, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[4] = {__pyx_t_11, __pyx_t_9, __pyx_t_2, __pyx_t_1};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_8, __pyx_callargs+1-__pyx_t_4, 3+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 2456, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_labels, __pyx_t_3);
    __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2457</span>:         #array([ 0.,  6., 12., 18.])</pre>
<pre class="cython line score-0">&#xA0;<span class="">2458</span>:         # split arr and get the range of with max bound</pre>
<pre class="cython line score-30" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2459</span>:         cc = np.arange (len(labels)) #[0, 1, 3]</pre>
<pre class='cython code score-30 '>    <span class='trace'>__Pyx_TraceLine</span>(2459,0,<span class='error_goto'>__PYX_ERR(0, 2459, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_8, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2459, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_8, __pyx_n_s_arange);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2459, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    __pyx_t_10 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_labels);<span class='error_goto'> if (unlikely(__pyx_t_10 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2459, __pyx_L1_error)</span>
    __pyx_t_8 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_10);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2459, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    __pyx_t_2 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_t_8};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 2459, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_v_cc = __pyx_t_3;
    __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2460</span>:         # we expect three classes [ 0, 1, 3 ] while maximum</pre>
<pre class="cython line score-0">&#xA0;<span class="">2461</span>:         # value is 18 . we want the value value to be &gt;= 12 which</pre>
<pre class="cython line score-0">&#xA0;<span class="">2462</span>:         # include 18 , so remove the 18 in the list</pre>
<pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2463</span>:         labels = labels [:-1] # remove the last items a</pre>
<pre class='cython code score-8 '>    <span class='trace'>__Pyx_TraceLine</span>(2463,0,<span class='error_goto'>__PYX_ERR(0, 2463, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetSlice</span>(__pyx_v_labels, 0, -1L, NULL, NULL, &amp;__pyx_slice__84, 0, 1, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2463, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_labels, __pyx_t_3);
    __pyx_t_3 = 0;
  }
  __pyx_L3:;
/* â€¦ */
  __pyx_slice__84 = <span class='py_c_api'>PySlice_New</span>(Py_None, __pyx_int_neg_1, Py_None);<span class='error_goto'> if (unlikely(!__pyx_slice__84)) __PYX_ERR(0, 2463, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_slice__84);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_slice__84);
</pre><pre class="cython line score-0">&#xA0;<span class="">2464</span>:         # array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</pre>
<pre class="cython line score-0">&#xA0;<span class="">2465</span>:         # array([0, 0, 0, 0, 1, 1, 1, 2, 2, 2]) # 3 classes</pre>
<pre class="cython line score-0">&#xA0;<span class="">2466</span>:         #  array([ 0.        ,  3.33333333,  6.66666667, 10. ]) +</pre>
<pre class="cython line score-0">&#xA0;<span class="">2467</span>:     # to avoid the index bound error</pre>
<pre class="cython line score-0">&#xA0;<span class="">2468</span>:     # append nan value to lengthen arr</pre>
<pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2469</span>:     r = np.append (labels , np.nan )</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(2469,0,<span class='error_goto'>__PYX_ERR(0, 2469, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2469, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_append);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2469, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2469, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_nan);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2469, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_8))) {
    __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_8);
    if (likely(__pyx_t_1)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_8, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_1, __pyx_v_labels, __pyx_t_2};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_8, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 2469, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
  }
  __pyx_v_r = __pyx_t_3;
  __pyx_t_3 = 0;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2470</span>:     new_arr = np.zeros_like(ar)</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(2470,0,<span class='error_goto'>__PYX_ERR(0, 2470, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_8, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2470, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_8, __pyx_n_s_zeros_like);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2470, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
  __pyx_t_8 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_8)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_8, __pyx_v_ar};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 2470, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_v_new_arr = __pyx_t_3;
  __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2471</span>:     # print(labels)</pre>
<pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2472</span>:     ar = ar.astype (np.float32)</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(2472,0,<span class='error_goto'>__PYX_ERR(0, 2472, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_ar, __pyx_n_s_astype);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2472, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_8, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2472, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_8, __pyx_n_s_float32);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2472, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
  __pyx_t_8 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_8)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_8, __pyx_t_1};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 2472, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_ar, __pyx_t_3);
  __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2473</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2474</span>:     if order =='strict':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(2474,0,<span class='error_goto'>__PYX_ERR(0, 2474, __pyx_L1_error)</span>)
  __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_order, __pyx_n_u_strict, Py_EQ)); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2474, __pyx_L1_error)</span>
  if (__pyx_t_5) {
/* â€¦ */
    goto __pyx_L12;
  }
</pre><pre class="cython line score-64" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2475</span>:         for i in range (len(r)):</pre>
<pre class='cython code score-64 '>    <span class='trace'>__Pyx_TraceLine</span>(2475,0,<span class='error_goto'>__PYX_ERR(0, 2475, __pyx_L1_error)</span>)
    __pyx_t_10 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_r);<span class='error_goto'> if (unlikely(__pyx_t_10 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2475, __pyx_L1_error)</span>
    __pyx_t_3 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_10);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2475, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_range, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2475, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_2)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_2)) {
      __pyx_t_3 = __pyx_t_2; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      __pyx_t_10 = 0;
      __pyx_t_7 = NULL;
    } else {
      __pyx_t_10 = -1; __pyx_t_3 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2475, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2475, __pyx_L1_error)</span>
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    for (;;) {
      if (likely(!__pyx_t_7)) {
        if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_3))) {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_3);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2475, __pyx_L1_error)</span>
            #endif
            if (__pyx_t_10 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_3, __pyx_t_10); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_10++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2475, __pyx_L1_error)</span>
          #else
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_3, __pyx_t_10); __pyx_t_10++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2475, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          #endif
        } else {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_3);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2475, __pyx_L1_error)</span>
            #endif
            if (__pyx_t_10 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_3, __pyx_t_10); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_10++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2475, __pyx_L1_error)</span>
          #else
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_3, __pyx_t_10); __pyx_t_10++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2475, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          #endif
        }
      } else {
        __pyx_t_2 = __pyx_t_7(__pyx_t_3);
        if (unlikely(!__pyx_t_2)) {
          PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
          if (exc_type) {
            if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
            else <span class='error_goto'>__PYX_ERR(0, 2475, __pyx_L1_error)</span>
          }
          break;
        }
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      }
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_i, __pyx_t_2);
      __pyx_t_2 = 0;
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(2475,0,<span class='error_goto'>__PYX_ERR(0, 2475, __pyx_L1_error)</span>)
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    goto __pyx_L17_for_end;
    __pyx_L14_break:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    goto __pyx_L17_for_end;
    __pyx_L17_for_end:;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2476</span>:             if i == len(r) -2 :</pre>
<pre class='cython code score-19 '>      <span class='trace'>__Pyx_TraceLine</span>(2476,0,<span class='error_goto'>__PYX_ERR(0, 2476, __pyx_L1_error)</span>)
      __pyx_t_6 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_r);<span class='error_goto'> if (unlikely(__pyx_t_6 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2476, __pyx_L1_error)</span>
      __pyx_t_2 = <span class='py_c_api'>PyInt_FromSsize_t</span>((__pyx_t_6 - 2));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2476, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_1 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_v_i, __pyx_t_2, Py_EQ); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2476, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_1); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2476, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (__pyx_t_5) {
/* â€¦ */
      }
</pre><pre class="cython line score-47" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2477</span>:                 ix = np.argwhere ( (ar &gt;= r[i]) &amp; (ar != np.inf ))</pre>
<pre class='cython code score-47 '>        <span class='trace'>__Pyx_TraceLine</span>(2477,0,<span class='error_goto'>__PYX_ERR(0, 2477, __pyx_L1_error)</span>)
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2477, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_argwhere);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2477, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_r, __pyx_v_i);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2477, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        __pyx_t_9 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_v_ar, __pyx_t_2, Py_GE); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2477, __pyx_L1_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2477, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_inf);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2477, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        __pyx_t_2 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_v_ar, __pyx_t_11, Py_NE); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2477, __pyx_L1_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
        __pyx_t_11 = <span class='py_c_api'>PyNumber_And</span>(__pyx_t_9, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2477, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        __pyx_t_2 = NULL;
        __pyx_t_4 = 0;
        #if CYTHON_UNPACK_METHODS
        if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_8))) {
          __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_8);
          if (likely(__pyx_t_2)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_8);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_8, function);
            __pyx_t_4 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_t_11};
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_8, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
          if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2477, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
        }
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_ix, __pyx_t_1);
        __pyx_t_1 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2478</span>:                 new_arr[ix ]= cc[i]</pre>
<pre class='cython code score-8 '>        <span class='trace'>__Pyx_TraceLine</span>(2478,0,<span class='error_goto'>__PYX_ERR(0, 2478, __pyx_L1_error)</span>)
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_cc, __pyx_v_i);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2478, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        if (unlikely((<span class='py_c_api'>PyObject_SetItem</span>(__pyx_v_new_arr, __pyx_v_ix, __pyx_t_1) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2478, __pyx_L1_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2479</span>:                 break</pre>
<pre class='cython code score-0 '>        <span class='trace'>__Pyx_TraceLine</span>(2479,0,<span class='error_goto'>__PYX_ERR(0, 2479, __pyx_L1_error)</span>)
        goto __pyx_L14_break;
</pre><pre class="cython line score-0">&#xA0;<span class="">2480</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2481</span>:             if i ==0 :</pre>
<pre class='cython code score-2 '>      <span class='trace'>__Pyx_TraceLine</span>(2481,0,<span class='error_goto'>__PYX_ERR(0, 2481, __pyx_L1_error)</span>)
      __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyInt_BoolEqObjC</span>(__pyx_v_i, __pyx_int_0, 0, 0)); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2481, __pyx_L1_error)</span>
      if (__pyx_t_5) {
/* â€¦ */
        goto __pyx_L16;
      }
</pre><pre class="cython line score-32" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2482</span>:                 ix = np.argwhere (ar &lt; r[i +1])</pre>
<pre class='cython code score-32 '>        <span class='trace'>__Pyx_TraceLine</span>(2482,0,<span class='error_goto'>__PYX_ERR(0, 2482, __pyx_L1_error)</span>)
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_8, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2482, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
        __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_8, __pyx_n_s_argwhere);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2482, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
        __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyInt_AddObjC</span>(__pyx_v_i, __pyx_int_1, 1, 0, 0);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2482, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_r, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2482, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
        __pyx_t_8 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_v_ar, __pyx_t_2, Py_LT); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2482, __pyx_L1_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        __pyx_t_2 = NULL;
        __pyx_t_4 = 0;
        #if CYTHON_UNPACK_METHODS
        if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_11))) {
          __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_11);
          if (likely(__pyx_t_2)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_11);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_11, function);
            __pyx_t_4 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_t_8};
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_11, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
          if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2482, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
        }
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_ix, __pyx_t_1);
        __pyx_t_1 = 0;
</pre><pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2483</span>:                 new_arr [ix] == cc[i]</pre>
<pre class='cython code score-12 '>        <span class='trace'>__Pyx_TraceLine</span>(2483,0,<span class='error_goto'>__PYX_ERR(0, 2483, __pyx_L1_error)</span>)
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_new_arr, __pyx_v_ix);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2483, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_cc, __pyx_v_i);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2483, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
        __pyx_t_8 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_1, __pyx_t_11, Py_EQ); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2483, __pyx_L1_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2484</span>:                 ar [ix ] = np.inf # replace by a big number than it was</pre>
<pre class='cython code score-11 '>        <span class='trace'>__Pyx_TraceLine</span>(2484,0,<span class='error_goto'>__PYX_ERR(0, 2484, __pyx_L1_error)</span>)
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_8, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2484, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
        __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_8, __pyx_n_s_inf);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2484, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
        if (unlikely((<span class='py_c_api'>PyObject_SetItem</span>(__pyx_v_ar, __pyx_v_ix, __pyx_t_11) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2484, __pyx_L1_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2485</span>:                 # rather than delete it</pre>
<pre class="cython line score-0">&#xA0;<span class="">2486</span>:             else :</pre>
<pre class="cython line score-47" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2487</span>:                 ix = np.argwhere( (r[i] &lt;= ar) &amp; (ar &lt; r[i +1]) )</pre>
<pre class='cython code score-47 '>      <span class='trace'>__Pyx_TraceLine</span>(2487,0,<span class='error_goto'>__PYX_ERR(0, 2487, __pyx_L1_error)</span>)
      /*else*/ {
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_8, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2487, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_8, __pyx_n_s_argwhere);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2487, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
        __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_r, __pyx_v_i);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2487, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
        __pyx_t_2 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_8, __pyx_v_ar, Py_LE); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2487, __pyx_L1_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
        __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyInt_AddObjC</span>(__pyx_v_i, __pyx_int_1, 1, 0, 0);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2487, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
        __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_r, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2487, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
        __pyx_t_8 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_v_ar, __pyx_t_9, Py_LT); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2487, __pyx_L1_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        __pyx_t_9 = <span class='py_c_api'>PyNumber_And</span>(__pyx_t_2, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2487, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
        __pyx_t_8 = NULL;
        __pyx_t_4 = 0;
        #if CYTHON_UNPACK_METHODS
        if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
          __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
          if (likely(__pyx_t_8)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
            __pyx_t_4 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_8, __pyx_t_9};
          __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
          if (unlikely(!__pyx_t_11)) <span class='error_goto'>__PYX_ERR(0, 2487, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        }
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_ix, __pyx_t_11);
        __pyx_t_11 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2488</span>:                 new_arr [ix ]= cc[i]</pre>
<pre class='cython code score-8 '>        <span class='trace'>__Pyx_TraceLine</span>(2488,0,<span class='error_goto'>__PYX_ERR(0, 2488, __pyx_L1_error)</span>)
        __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_cc, __pyx_v_i);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2488, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
        if (unlikely((<span class='py_c_api'>PyObject_SetItem</span>(__pyx_v_new_arr, __pyx_v_ix, __pyx_t_11) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2488, __pyx_L1_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2489</span>:                 ar [ix ] = np.inf</pre>
<pre class='cython code score-11 '>        <span class='trace'>__Pyx_TraceLine</span>(2489,0,<span class='error_goto'>__PYX_ERR(0, 2489, __pyx_L1_error)</span>)
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_11, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2489, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_11, __pyx_n_s_inf);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2489, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
        if (unlikely((<span class='py_c_api'>PyObject_SetItem</span>(__pyx_v_ar, __pyx_v_ix, __pyx_t_1) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2489, __pyx_L1_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      }
      __pyx_L16:;
</pre><pre class="cython line score-0">&#xA0;<span class="">2490</span>:     else:</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2491</span>:         l= list()</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(2491,0,<span class='error_goto'>__PYX_ERR(0, 2491, __pyx_L1_error)</span>)
  /*else*/ {
    __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2491, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_v_l = ((PyObject*)__pyx_t_3);
    __pyx_t_3 = 0;
</pre><pre class="cython line score-64" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2492</span>:         for i in range (len(r)):</pre>
<pre class='cython code score-64 '>    <span class='trace'>__Pyx_TraceLine</span>(2492,0,<span class='error_goto'>__PYX_ERR(0, 2492, __pyx_L1_error)</span>)
    __pyx_t_10 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_r);<span class='error_goto'> if (unlikely(__pyx_t_10 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2492, __pyx_L1_error)</span>
    __pyx_t_3 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_10);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2492, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_range, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2492, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_1)) {
      __pyx_t_3 = __pyx_t_1; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      __pyx_t_10 = 0;
      __pyx_t_7 = NULL;
    } else {
      __pyx_t_10 = -1; __pyx_t_3 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2492, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2492, __pyx_L1_error)</span>
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    for (;;) {
      if (likely(!__pyx_t_7)) {
        if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_3))) {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_3);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2492, __pyx_L1_error)</span>
            #endif
            if (__pyx_t_10 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_1 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_3, __pyx_t_10); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1); __pyx_t_10++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2492, __pyx_L1_error)</span>
          #else
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_3, __pyx_t_10); __pyx_t_10++;<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2492, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          #endif
        } else {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_3);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2492, __pyx_L1_error)</span>
            #endif
            if (__pyx_t_10 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_1 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_3, __pyx_t_10); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1); __pyx_t_10++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2492, __pyx_L1_error)</span>
          #else
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_3, __pyx_t_10); __pyx_t_10++;<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2492, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          #endif
        }
      } else {
        __pyx_t_1 = __pyx_t_7(__pyx_t_3);
        if (unlikely(!__pyx_t_1)) {
          PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
          if (exc_type) {
            if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
            else <span class='error_goto'>__PYX_ERR(0, 2492, __pyx_L1_error)</span>
          }
          break;
        }
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      }
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_i, __pyx_t_1);
      __pyx_t_1 = 0;
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(2492,0,<span class='error_goto'>__PYX_ERR(0, 2492, __pyx_L1_error)</span>)
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    goto __pyx_L21_for_end;
    __pyx_L19_break:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    goto __pyx_L21_for_end;
    __pyx_L21_for_end:;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2493</span>:             if i == len(r) -2 :</pre>
<pre class='cython code score-19 '>      <span class='trace'>__Pyx_TraceLine</span>(2493,0,<span class='error_goto'>__PYX_ERR(0, 2493, __pyx_L1_error)</span>)
      __pyx_t_6 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_r);<span class='error_goto'> if (unlikely(__pyx_t_6 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2493, __pyx_L1_error)</span>
      __pyx_t_1 = <span class='py_c_api'>PyInt_FromSsize_t</span>((__pyx_t_6 - 2));<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2493, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_11 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_v_i, __pyx_t_1, Py_EQ); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_11);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2493, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_11); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2493, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
      if (__pyx_t_5) {
/* â€¦ */
      }
</pre><pre class="cython line score-36" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2494</span>:                 l.append (np.repeat ( cc[i], len(ar)))</pre>
<pre class='cython code score-36 '>        <span class='trace'>__Pyx_TraceLine</span>(2494,0,<span class='error_goto'>__PYX_ERR(0, 2494, __pyx_L1_error)</span>)
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2494, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_repeat);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2494, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_cc, __pyx_v_i);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2494, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        __pyx_t_6 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_ar);<span class='error_goto'> if (unlikely(__pyx_t_6 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2494, __pyx_L1_error)</span>
        __pyx_t_8 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2494, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
        __pyx_t_2 = NULL;
        __pyx_t_4 = 0;
        #if CYTHON_UNPACK_METHODS
        if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
          __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
          if (likely(__pyx_t_2)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
            __pyx_t_4 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[3] = {__pyx_t_2, __pyx_t_1, __pyx_t_8};
          __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
          if (unlikely(!__pyx_t_11)) <span class='error_goto'>__PYX_ERR(0, 2494, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        }
        __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_v_l, __pyx_t_11);<span class='error_goto'> if (unlikely(__pyx_t_12 == ((int)-1))) __PYX_ERR(0, 2494, __pyx_L1_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2495</span>: </pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2496</span>:                 break</pre>
<pre class='cython code score-0 '>        <span class='trace'>__Pyx_TraceLine</span>(2496,0,<span class='error_goto'>__PYX_ERR(0, 2496, __pyx_L1_error)</span>)
        goto __pyx_L19_break;
</pre><pre class="cython line score-32" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2497</span>:             ix = np.argwhere ( (ar &lt; r [ i + 1 ] ))</pre>
<pre class='cython code score-32 '>      <span class='trace'>__Pyx_TraceLine</span>(2497,0,<span class='error_goto'>__PYX_ERR(0, 2497, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_9, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2497, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_9, __pyx_n_s_argwhere);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2497, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyInt_AddObjC</span>(__pyx_v_i, __pyx_int_1, 1, 0, 0);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2497, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_r, __pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2497, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_9 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_v_ar, __pyx_t_1, Py_LT); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2497, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = NULL;
      __pyx_t_4 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_8))) {
        __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_8);
        if (likely(__pyx_t_1)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_8);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_8, function);
          __pyx_t_4 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_t_9};
        __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_8, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        if (unlikely(!__pyx_t_11)) <span class='error_goto'>__PYX_ERR(0, 2497, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_ix, __pyx_t_11);
      __pyx_t_11 = 0;
</pre><pre class="cython line score-39" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2498</span>:             l.append (np.repeat (cc[i], len (ar[ix ])))</pre>
<pre class='cython code score-39 '>      <span class='trace'>__Pyx_TraceLine</span>(2498,0,<span class='error_goto'>__PYX_ERR(0, 2498, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_8, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2498, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_8, __pyx_n_s_repeat);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2498, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_cc, __pyx_v_i);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2498, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_ar, __pyx_v_ix);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2498, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_6 = <span class='py_c_api'>PyObject_Length</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(__pyx_t_6 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2498, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2498, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_2 = NULL;
      __pyx_t_4 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
        __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
        if (likely(__pyx_t_2)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
          __pyx_t_4 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[3] = {__pyx_t_2, __pyx_t_8, __pyx_t_1};
        __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        if (unlikely(!__pyx_t_11)) <span class='error_goto'>__PYX_ERR(0, 2498, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      }
      __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_v_l, __pyx_t_11);<span class='error_goto'> if (unlikely(__pyx_t_12 == ((int)-1))) __PYX_ERR(0, 2498, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2499</span>:             # remove the value ready for i label</pre>
<pre class="cython line score-0">&#xA0;<span class="">2500</span>:             # categorization</pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2501</span>:             ar = np.delete (ar, ix  )</pre>
<pre class='cython code score-20 '>      <span class='trace'>__Pyx_TraceLine</span>(2501,0,<span class='error_goto'>__PYX_ERR(0, 2501, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_9, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2501, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_9, __pyx_n_s_delete);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2501, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_9 = NULL;
      __pyx_t_4 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
        __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
        if (likely(__pyx_t_9)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
          __pyx_t_4 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[3] = {__pyx_t_9, __pyx_v_ar, __pyx_v_ix};
        __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        if (unlikely(!__pyx_t_11)) <span class='error_goto'>__PYX_ERR(0, 2501, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_ar, __pyx_t_11);
      __pyx_t_11 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2502</span>: </pre>
<pre class="cython line score-43" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2503</span>:         new_arr= np.hstack (l).astype (np.int32)</pre>
<pre class='cython code score-43 '>    <span class='trace'>__Pyx_TraceLine</span>(2503,0,<span class='error_goto'>__PYX_ERR(0, 2503, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2503, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_hstack);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2503, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_v_l};
      __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_11)) <span class='error_goto'>__PYX_ERR(0, 2503, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    }
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_11, __pyx_n_s_astype);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2503, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_11, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2503, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_11, __pyx_n_s_int32);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2503, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
    __pyx_t_11 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
      __pyx_t_11 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
      if (likely(__pyx_t_11)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_11, __pyx_t_1};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 2503, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_new_arr, __pyx_t_3);
    __pyx_t_3 = 0;
  }
  __pyx_L12:;
</pre><pre class="cython line score-0">&#xA0;<span class="">2504</span>: </pre>
<pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2505</span>:     return new_arr.astype (np.int32)</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(2505,0,<span class='error_goto'>__PYX_ERR(0, 2505, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_new_arr, __pyx_n_s_astype);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2505, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2505, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_int32);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2505, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
    __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
    if (likely(__pyx_t_1)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_t_11};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 2505, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
  }
  __pyx_r = __pyx_t_3;
  __pyx_t_3 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2506</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2507</span>: </pre>
<pre class="cython line score-66" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2508</span>: def labels_validator(</pre>
<pre class='cython code score-66 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_72labels_validator(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_71labels_validator, "\n    Validates if specified labels are present in the target array and \n    optionally returns a boolean indicating the presence of all labels or \n    the list of labels themselves.\n    \n    Parameters\n    ----------\n    target : np.ndarray\n        The target array expected to contain the labels.\n    labels : int, str, or list of int or str\n        The label(s) supposed to be in the target array.\n    return_bool : bool, default=False\n        If True, returns a boolean indicating whether all specified \n        labels are present. If False, returns the list of labels.\n\n    Returns\n    -------\n    bool or List[Union[int, str]]\n        If `return_bool` is True, returns True if all labels are present, \n        False otherwise.\n        If `return_bool` is False, returns the list of labels if all are present.\n    \n    Raises\n    ------\n    ValueError\n        If any of the specified labels are missing in the target array and \n        `return_bool` is False.\n    \n    Examples\n    --------\n    &gt;&gt;&gt; import numpy as np \n    &gt;&gt;&gt; from gofast.tools.baseutils import labels_validator\n    &gt;&gt;&gt; target = np.array([1, 2, 3, 4, 5])\n    &gt;&gt;&gt; labels_validator(target, [1, 2, 3])\n    [1, 2, 3]\n    &gt;&gt;&gt; labels_validator(target, [0, 1], return_bool=True)\n    False\n    &gt;&gt;&gt; labels_validator(target, 1)\n    [1]\n    &gt;&gt;&gt; labels_validator(target, [6], return_bool=True)\n    False\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_72labels_validator = {"labels_validator", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_72labels_validator, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_71labels_validator};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_72labels_validator(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_target = 0;
  PyObject *__pyx_v_labels = 0;
  PyObject *__pyx_v_return_bool = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("labels_validator (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_target,&amp;__pyx_n_s_labels,&amp;__pyx_n_s_return_bool,0};
  PyObject* values[3] = {0,0,0};
/* â€¦ */
  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_71labels_validator(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_target, PyObject *__pyx_v_labels, PyObject *__pyx_v_return_bool) {
  PyObject *__pyx_v_labels_present = NULL;
  PyObject *__pyx_v_missing_labels = NULL;
  PyObject *__pyx_9genexpr34__pyx_v_label = NULL;
  PyObject *__pyx_9genexpr35__pyx_v_label = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__85)
  <span class='trace'>__Pyx_TraceCall</span>("labels_validator", __pyx_f[0], 2508, 0, <span class='error_goto'>__PYX_ERR(0, 2508, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_labels);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.labels_validator", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_labels_present);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_missing_labels);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr34__pyx_v_label);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr35__pyx_v_label);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_labels);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__196 = <span class='py_c_api'>PyTuple_Pack</span>(7, __pyx_n_s_target, __pyx_n_s_labels, __pyx_n_s_return_bool, __pyx_n_s_labels_present, __pyx_n_s_missing_labels, __pyx_n_s_label, __pyx_n_s_label);<span class='error_goto'> if (unlikely(!__pyx_tuple__196)) __PYX_ERR(0, 2508, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__196);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__196);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(2508,0,<span class='error_goto'>__PYX_ERR(0, 2508, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2508, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_target, __pyx_n_s_ArrayLike) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2508, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_labels, __pyx_kp_s_Union_int_str_List_Union_int_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2508, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return_bool, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2508, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return, __pyx_kp_s_Union_bool_List_Union_int_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2508, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_72labels_validator, 0, __pyx_n_s_labels_validator, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__85));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2508, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_2, __pyx_tuple__194);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_2, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_labels_validator, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2508, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_codeobj__85 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(3, 0, 0, 7, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__196, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_labels_validator, 2508, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__85)) __PYX_ERR(0, 2508, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2509</span>:     target: ArrayLike,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2510</span>:     labels: Union[int, str, List[Union[int, str]]],</pre>
<pre class="cython line score-53" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2511</span>:     return_bool: bool = False</pre>
<pre class='cython code score-53 '>    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_target)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2508, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_labels)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2508, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("labels_validator", 0, 2, 3, 1); <span class='error_goto'>__PYX_ERR(0, 2508, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_return_bool);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2508, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "labels_validator") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2508, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_target = values[0];
    __pyx_v_labels = values[1];
    __pyx_v_return_bool = values[2];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("labels_validator", 0, 2, 3, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2508, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.labels_validator", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_71labels_validator(__pyx_self, __pyx_v_target, __pyx_v_labels, __pyx_v_return_bool);
</pre><pre class="cython line score-0">&#xA0;<span class="">2512</span>:     ) -&gt; Union[bool, List[Union[int, str]]]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">2513</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2514</span>:     Validates if specified labels are present in the target array and</pre>
<pre class="cython line score-0">&#xA0;<span class="">2515</span>:     optionally returns a boolean indicating the presence of all labels or</pre>
<pre class="cython line score-0">&#xA0;<span class="">2516</span>:     the list of labels themselves.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2517</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2518</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">2519</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2520</span>:     target : np.ndarray</pre>
<pre class="cython line score-0">&#xA0;<span class="">2521</span>:         The target array expected to contain the labels.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2522</span>:     labels : int, str, or list of int or str</pre>
<pre class="cython line score-0">&#xA0;<span class="">2523</span>:         The label(s) supposed to be in the target array.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2524</span>:     return_bool : bool, default=False</pre>
<pre class="cython line score-0">&#xA0;<span class="">2525</span>:         If True, returns a boolean indicating whether all specified</pre>
<pre class="cython line score-0">&#xA0;<span class="">2526</span>:         labels are present. If False, returns the list of labels.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2527</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2528</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">2529</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2530</span>:     bool or List[Union[int, str]]</pre>
<pre class="cython line score-0">&#xA0;<span class="">2531</span>:         If `return_bool` is True, returns True if all labels are present,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2532</span>:         False otherwise.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2533</span>:         If `return_bool` is False, returns the list of labels if all are present.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2534</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2535</span>:     Raises</pre>
<pre class="cython line score-0">&#xA0;<span class="">2536</span>:     ------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2537</span>:     ValueError</pre>
<pre class="cython line score-0">&#xA0;<span class="">2538</span>:         If any of the specified labels are missing in the target array and</pre>
<pre class="cython line score-0">&#xA0;<span class="">2539</span>:         `return_bool` is False.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2540</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2541</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">2542</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2543</span>:     &gt;&gt;&gt; import numpy as np</pre>
<pre class="cython line score-0">&#xA0;<span class="">2544</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import labels_validator</pre>
<pre class="cython line score-0">&#xA0;<span class="">2545</span>:     &gt;&gt;&gt; target = np.array([1, 2, 3, 4, 5])</pre>
<pre class="cython line score-0">&#xA0;<span class="">2546</span>:     &gt;&gt;&gt; labels_validator(target, [1, 2, 3])</pre>
<pre class="cython line score-0">&#xA0;<span class="">2547</span>:     [1, 2, 3]</pre>
<pre class="cython line score-0">&#xA0;<span class="">2548</span>:     &gt;&gt;&gt; labels_validator(target, [0, 1], return_bool=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2549</span>:     False</pre>
<pre class="cython line score-0">&#xA0;<span class="">2550</span>:     &gt;&gt;&gt; labels_validator(target, 1)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2551</span>:     [1]</pre>
<pre class="cython line score-0">&#xA0;<span class="">2552</span>:     &gt;&gt;&gt; labels_validator(target, [6], return_bool=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2553</span>:     False</pre>
<pre class="cython line score-0">&#xA0;<span class="">2554</span>:     """</pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2555</span>:     if isinstance(labels, (int, str)):</pre>
<pre class='cython code score-10 '>  <span class='trace'>__Pyx_TraceLine</span>(2555,0,<span class='error_goto'>__PYX_ERR(0, 2555, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyInt_Check</span>(__pyx_v_labels); 
  if (!__pyx_t_2) {
  } else {
    __pyx_t_1 = __pyx_t_2;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_2 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_labels); 
  __pyx_t_1 = __pyx_t_2;
  __pyx_L4_bool_binop_done:;
  if (__pyx_t_1) {
/* â€¦ */
  }
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2556</span>:         labels = [labels]</pre>
<pre class='cython code score-9 '>    <span class='trace'>__Pyx_TraceLine</span>(2556,0,<span class='error_goto'>__PYX_ERR(0, 2556, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2556, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_labels);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_labels);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_labels)) <span class='error_goto'>__PYX_ERR(0, 2556, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_labels, __pyx_t_3);
    __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2557</span>: </pre>
<pre class="cython line score-80" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2558</span>:     labels_present = np.unique([label for label in labels if label in target])</pre>
<pre class='cython code score-80 '>  <span class='trace'>__Pyx_TraceLine</span>(2558,0,<span class='error_goto'>__PYX_ERR(0, 2558, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2558, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_unique);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2558, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  { /* enter inner scope */
    __pyx_t_4 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2558, __pyx_L8_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_labels)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_labels)) {
      __pyx_t_6 = __pyx_v_labels; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
      __pyx_t_7 = 0;
      __pyx_t_8 = NULL;
    } else {
      __pyx_t_7 = -1; __pyx_t_6 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_labels);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2558, __pyx_L8_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2558, __pyx_L8_error)</span>
    }
    for (;;) {
      if (likely(!__pyx_t_8)) {
        if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_6))) {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_6);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2558, __pyx_L8_error)</span>
            #endif
            if (__pyx_t_7 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_9 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_6, __pyx_t_7); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9); __pyx_t_7++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2558, __pyx_L8_error)</span>
          #else
          __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_6, __pyx_t_7); __pyx_t_7++;<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2558, __pyx_L8_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
          #endif
        } else {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_6);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2558, __pyx_L8_error)</span>
            #endif
            if (__pyx_t_7 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_9 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_6, __pyx_t_7); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9); __pyx_t_7++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2558, __pyx_L8_error)</span>
          #else
          __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_6, __pyx_t_7); __pyx_t_7++;<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2558, __pyx_L8_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
          #endif
        }
      } else {
        __pyx_t_9 = __pyx_t_8(__pyx_t_6);
        if (unlikely(!__pyx_t_9)) {
          PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
          if (exc_type) {
            if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
            else <span class='error_goto'>__PYX_ERR(0, 2558, __pyx_L8_error)</span>
          }
          break;
        }
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      }
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr34__pyx_v_label, __pyx_t_9);
      __pyx_t_9 = 0;
      __pyx_t_1 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_9genexpr34__pyx_v_label, __pyx_v_target, Py_EQ)); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2558, __pyx_L8_error)</span>
      if (__pyx_t_1) {
        if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_4, (PyObject*)__pyx_9genexpr34__pyx_v_label))) <span class='error_goto'>__PYX_ERR(0, 2558, __pyx_L8_error)</span>
      }
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr34__pyx_v_label); __pyx_9genexpr34__pyx_v_label = 0;
    goto __pyx_L13_exit_scope;
    __pyx_L8_error:;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr34__pyx_v_label); __pyx_9genexpr34__pyx_v_label = 0;
    goto __pyx_L1_error;
    __pyx_L13_exit_scope:;
  } /* exit inner scope */
  __pyx_t_6 = NULL;
  __pyx_t_10 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
    __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
    if (likely(__pyx_t_6)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
      __pyx_t_10 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_t_4};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_10, 1+__pyx_t_10);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 2558, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  }
  __pyx_v_labels_present = __pyx_t_3;
  __pyx_t_3 = 0;
</pre><pre class="cython line score-60" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2559</span>:     missing_labels = [label for label in labels if label not in labels_present]</pre>
<pre class='cython code score-60 '>  <span class='trace'>__Pyx_TraceLine</span>(2559,0,<span class='error_goto'>__PYX_ERR(0, 2559, __pyx_L1_error)</span>)
  { /* enter inner scope */
    __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2559, __pyx_L16_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_labels)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_labels)) {
      __pyx_t_5 = __pyx_v_labels; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      __pyx_t_7 = 0;
      __pyx_t_8 = NULL;
    } else {
      __pyx_t_7 = -1; __pyx_t_5 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_labels);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2559, __pyx_L16_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2559, __pyx_L16_error)</span>
    }
    for (;;) {
      if (likely(!__pyx_t_8)) {
        if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_5))) {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_5);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2559, __pyx_L16_error)</span>
            #endif
            if (__pyx_t_7 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_5, __pyx_t_7); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_7++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2559, __pyx_L16_error)</span>
          #else
          __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_5, __pyx_t_7); __pyx_t_7++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2559, __pyx_L16_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
          #endif
        } else {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_5);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2559, __pyx_L16_error)</span>
            #endif
            if (__pyx_t_7 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_5, __pyx_t_7); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_7++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2559, __pyx_L16_error)</span>
          #else
          __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_5, __pyx_t_7); __pyx_t_7++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2559, __pyx_L16_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
          #endif
        }
      } else {
        __pyx_t_4 = __pyx_t_8(__pyx_t_5);
        if (unlikely(!__pyx_t_4)) {
          PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
          if (exc_type) {
            if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
            else <span class='error_goto'>__PYX_ERR(0, 2559, __pyx_L16_error)</span>
          }
          break;
        }
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      }
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr35__pyx_v_label, __pyx_t_4);
      __pyx_t_4 = 0;
      __pyx_t_1 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_9genexpr35__pyx_v_label, __pyx_v_labels_present, Py_NE)); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2559, __pyx_L16_error)</span>
      if (__pyx_t_1) {
        if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_3, (PyObject*)__pyx_9genexpr35__pyx_v_label))) <span class='error_goto'>__PYX_ERR(0, 2559, __pyx_L16_error)</span>
      }
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr35__pyx_v_label); __pyx_9genexpr35__pyx_v_label = 0;
    goto __pyx_L21_exit_scope;
    __pyx_L16_error:;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr35__pyx_v_label); __pyx_9genexpr35__pyx_v_label = 0;
    goto __pyx_L1_error;
    __pyx_L21_exit_scope:;
  } /* exit inner scope */
  __pyx_v_missing_labels = ((PyObject*)__pyx_t_3);
  __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2560</span>: </pre>
<pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2561</span>:     if missing_labels:</pre>
<pre class='cython code score-1 '>  <span class='trace'>__Pyx_TraceLine</span>(2561,0,<span class='error_goto'>__PYX_ERR(0, 2561, __pyx_L1_error)</span>)
  __pyx_t_1 = (<span class='py_macro_api'>PyList_GET_SIZE</span>(__pyx_v_missing_labels) != 0);
  if (__pyx_t_1) {
/* â€¦ */
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2562</span>:         if return_bool:</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(2562,0,<span class='error_goto'>__PYX_ERR(0, 2562, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_return_bool); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2562, __pyx_L1_error)</span>
    if (__pyx_t_1) {
/* â€¦ */
    }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2563</span>:             return False</pre>
<pre class='cython code score-2 '>      <span class='trace'>__Pyx_TraceLine</span>(2563,0,<span class='error_goto'>__PYX_ERR(0, 2563, __pyx_L1_error)</span>)
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_False);
      __pyx_r = Py_False;
      goto __pyx_L0;
</pre><pre class="cython line score-32" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2564</span>:         raise ValueError(f"Label{'s' if len(missing_labels) &gt; 1 else ''}"</pre>
<pre class='cython code score-32 '>    <span class='trace'>__Pyx_TraceLine</span>(2564,0,<span class='error_goto'>__PYX_ERR(0, 2564, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(7);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2564, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_7 = 0;
    __pyx_t_11 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_Label);
    __pyx_t_7 += 5;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_Label);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_u_Label);
    __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_v_missing_labels);<span class='error_goto'> if (unlikely(__pyx_t_12 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2564, __pyx_L1_error)</span>
    __pyx_t_1 = (__pyx_t_12 &gt; 1);
    if (__pyx_t_1) {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_s);
      __pyx_t_5 = __pyx_n_u_s;
    } else {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__49);
      __pyx_t_5 = __pyx_kp_u__49;
    }
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyUnicode_Unicode</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2564, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_11 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_4) &gt; __pyx_t_11) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_4) : __pyx_t_11;
    __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_4);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_t_4);
    __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__50);
    __pyx_t_7 += 1;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__50);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 2, __pyx_kp_u__50);
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(2564,0,<span class='error_goto'>__PYX_ERR(0, 2564, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_3, 7, __pyx_t_7, __pyx_t_11);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2564, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2564, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_3, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='error_goto'>__PYX_ERR(0, 2564, __pyx_L1_error)</span>
</pre><pre class="cython line score-29" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2565</span>:                         f" {', '.join(map(str, missing_labels))}"</pre>
<pre class='cython code score-29 '>    <span class='trace'>__Pyx_TraceLine</span>(2565,0,<span class='error_goto'>__PYX_ERR(0, 2565, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2565, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>((PyObject *)(&amp;PyUnicode_Type));
    <span class='refnanny'>__Pyx_GIVEREF</span>((PyObject *)(&amp;PyUnicode_Type));
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, ((PyObject *)(&amp;PyUnicode_Type)))) <span class='error_goto'>__PYX_ERR(0, 2565, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_missing_labels);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_missing_labels);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_v_missing_labels)) <span class='error_goto'>__PYX_ERR(0, 2565, __pyx_L1_error)</span>;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_map, __pyx_t_4, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2565, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = <span class='py_c_api'>PyUnicode_Join</span>(__pyx_kp_u__86, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2565, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_11 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_4) &gt; __pyx_t_11) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_4) : __pyx_t_11;
    __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_4);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 3, __pyx_t_4);
    __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__50);
    __pyx_t_7 += 1;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__50);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 4, __pyx_kp_u__50);
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2566</span>:                         f" {'are' if len(missing_labels) &gt; 1 else 'is'}"</pre>
<pre class='cython code score-16 '>    <span class='trace'>__Pyx_TraceLine</span>(2566,0,<span class='error_goto'>__PYX_ERR(0, 2566, __pyx_L1_error)</span>)
    __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_v_missing_labels);<span class='error_goto'> if (unlikely(__pyx_t_12 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2566, __pyx_L1_error)</span>
    __pyx_t_1 = (__pyx_t_12 &gt; 1);
    if (__pyx_t_1) {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_are);
      __pyx_t_4 = __pyx_n_u_are;
    } else {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_is);
      __pyx_t_4 = __pyx_n_u_is;
    }
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyUnicode_Unicode</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2566, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_11 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_5) &gt; __pyx_t_11) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_5) : __pyx_t_11;
    __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_5);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_5);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 5, __pyx_t_5);
    __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_missing_in_the_target);
    __pyx_t_7 += 23;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_missing_in_the_target);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 6, __pyx_kp_u_missing_in_the_target);
</pre><pre class="cython line score-0">&#xA0;<span class="">2567</span>:                         " missing in the target."</pre>
<pre class="cython line score-0">&#xA0;<span class="">2568</span>:                     )</pre>
<pre class="cython line score-0">&#xA0;<span class="">2569</span>: </pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2570</span>:     return True if return_bool else labels</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(2570,0,<span class='error_goto'>__PYX_ERR(0, 2570, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_return_bool); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2570, __pyx_L1_error)</span>
  if (__pyx_t_1) {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_True);
    __pyx_t_3 = Py_True;
  } else {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_labels);
    __pyx_t_3 = __pyx_v_labels;
  }
  __pyx_r = __pyx_t_3;
  __pyx_t_3 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2571</span>: </pre>
<pre class="cython line score-69" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2572</span>: def generate_placeholders(</pre>
<pre class='cython code score-69 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_74generate_placeholders(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_73generate_placeholders, "\n    Generates a list of string placeholders for each item in the input\n    iterable. This can be useful for creating formatted string\n    representations where each item's index is used within braces.\n\n    :param iterable_obj: An iterable object (e.g., list, set, or any\n        iterable collection) whose length determines the number of\n        placeholders generated.\n    :return: A list of strings, each representing a placeholder in\n        the format \"{n}\", where n is the index of the placeholder.\n        \n    :Example:\n        &gt;&gt;&gt; from gofast.tools.baseutils import generate_placeholders\n        &gt;&gt;&gt; generate_placeholders_for_iterable({'ohmS', 'lwi', 'power', 'id', \n        ...                                     'sfi', 'magnitude'})\n        ['{0}', '{1}', '{2}', '{3}', '{4}', '{5}']\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_74generate_placeholders = {"generate_placeholders", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_74generate_placeholders, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_73generate_placeholders};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_74generate_placeholders(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_iterable_obj = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("generate_placeholders (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_iterable_obj,0};
  PyObject* values[1] = {0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_iterable_obj)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2572, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "generate_placeholders") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2572, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 1)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
    }
    __pyx_v_iterable_obj = values[0];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("generate_placeholders", 1, 1, 1, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2572, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.generate_placeholders", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_73generate_placeholders(__pyx_self, __pyx_v_iterable_obj);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_73generate_placeholders(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_iterable_obj) {
  Py_ssize_t __pyx_9genexpr36__pyx_v_index;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__87)
  <span class='trace'>__Pyx_TraceCall</span>("generate_placeholders", __pyx_f[0], 2572, 0, <span class='error_goto'>__PYX_ERR(0, 2572, __pyx_L1_error)</span>);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.generate_placeholders", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__197 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_n_s_iterable_obj, __pyx_n_s_index);<span class='error_goto'> if (unlikely(!__pyx_tuple__197)) __PYX_ERR(0, 2572, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__197);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__197);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(2572,0,<span class='error_goto'>__PYX_ERR(0, 2572, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2572, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_iterable_obj, __pyx_kp_s_Iterable__T) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2572, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_return, __pyx_kp_s_List_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2572, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_74generate_placeholders, 0, __pyx_n_s_generate_placeholders, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__87));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2572, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_3, __pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_generate_placeholders, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2572, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_codeobj__87 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(1, 0, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__197, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_generate_placeholders, 2572, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__87)) __PYX_ERR(0, 2572, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2573</span>:         iterable_obj: Iterable[_T]) -&gt; List[str]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">2574</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2575</span>:     Generates a list of string placeholders for each item in the input</pre>
<pre class="cython line score-0">&#xA0;<span class="">2576</span>:     iterable. This can be useful for creating formatted string</pre>
<pre class="cython line score-0">&#xA0;<span class="">2577</span>:     representations where each item's index is used within braces.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2578</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2579</span>:     :param iterable_obj: An iterable object (e.g., list, set, or any</pre>
<pre class="cython line score-0">&#xA0;<span class="">2580</span>:         iterable collection) whose length determines the number of</pre>
<pre class="cython line score-0">&#xA0;<span class="">2581</span>:         placeholders generated.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2582</span>:     :return: A list of strings, each representing a placeholder in</pre>
<pre class="cython line score-0">&#xA0;<span class="">2583</span>:         the format "{n}", where n is the index of the placeholder.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2584</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2585</span>:     :Example:</pre>
<pre class="cython line score-0">&#xA0;<span class="">2586</span>:         &gt;&gt;&gt; from gofast.tools.baseutils import generate_placeholders</pre>
<pre class="cython line score-0">&#xA0;<span class="">2587</span>:         &gt;&gt;&gt; generate_placeholders_for_iterable({'ohmS', 'lwi', 'power', 'id',</pre>
<pre class="cython line score-0">&#xA0;<span class="">2588</span>:         ...                                     'sfi', 'magnitude'})</pre>
<pre class="cython line score-0">&#xA0;<span class="">2589</span>:         ['{0}', '{1}', '{2}', '{3}', '{4}', '{5}']</pre>
<pre class="cython line score-0">&#xA0;<span class="">2590</span>:     """</pre>
<pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2591</span>:     return [f"{{{index}}}" for index in range(len(iterable_obj))]</pre>
<pre class='cython code score-31 '>  <span class='trace'>__Pyx_TraceLine</span>(2591,0,<span class='error_goto'>__PYX_ERR(0, 2591, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  { /* enter inner scope */
    __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2591, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_2 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_iterable_obj);<span class='error_goto'> if (unlikely(__pyx_t_2 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2591, __pyx_L1_error)</span>
    __pyx_t_3 = __pyx_t_2;
    for (__pyx_t_4 = 0; __pyx_t_4 &lt; __pyx_t_3; __pyx_t_4+=1) {
      __pyx_9genexpr36__pyx_v_index = __pyx_t_4;
      __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2591, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      __pyx_t_6 = 0;
      __pyx_t_7 = 127;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__88);
      __pyx_t_6 += 1;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__88);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_kp_u__88);
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyUnicode_From_Py_ssize_t</span>(__pyx_9genexpr36__pyx_v_index, 0, ' ', 'd');<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2591, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      __pyx_t_6 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_8);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_8);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 1, __pyx_t_8);
      __pyx_t_8 = 0;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__89);
      __pyx_t_6 += 1;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__89);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 2, __pyx_kp_u__89);
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_5, 3, __pyx_t_6, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2591, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_1, (PyObject*)__pyx_t_8))) <span class='error_goto'>__PYX_ERR(0, 2591, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    }
  } /* exit inner scope */
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2592</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2593</span>: </pre>
<pre class="cython line score-118" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2594</span>: def compute_set_operation(</pre>
<pre class='cython code score-118 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_76compute_set_operation(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_75compute_set_operation, "\n    Computes the intersection or difference between two iterable objects,\n    returning the result as a set. This function is flexible and works\n    with any iterable types, including lists, sets, and dictionaries.\n\n    Parameters\n    ----------\n    iterable1 : Iterable[Any]\n        The first iterable object from which to compute the operation.\n    iterable2 : Iterable[Any]\n        The second iterable object.\n    operation : str, optional\n        The operation to perform, either 'intersection' or 'difference'.\n        Defaults to 'intersection'.\n\n    Returns\n    -------\n    Set[Any]\n        A set of either common elements (intersection) or unique elements\n        (difference) from the two iterables.\n\n    Examples\n    --------\n    Intersection example:\n    &gt;&gt;&gt; compute_set_operation(\n    ...     ['a', 'b', 'c'], \n    ...     {'b', 'c', 'd'}\n    ... )\n    {'b', 'c'}\n\n    Difference example:\n    &gt;&gt;&gt; compute_set_operation(\n    ...     ['a', 'b', 'c'], \n    ...     {'b', 'c', 'd'},\n    ...     operation='difference'\n    ... )\n    {'a', 'd'}\n\n    Notes\n    -----\n    The function supports only 'intersection' and 'difference' operations.\n    It ensures the result is always returned as a set, regardless of the\n    input iterable types.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_76compute_set_operation = {"compute_set_operation", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_76compute_set_operation, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_75compute_set_operation};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_76compute_set_operation(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_iterable1 = 0;
  PyObject *__pyx_v_iterable2 = 0;
  PyObject *__pyx_v_operation = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("compute_set_operation (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_iterable1,&amp;__pyx_n_s_iterable2,&amp;__pyx_n_s_operation,0};
  PyObject* values[3] = {0,0,0};
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject*)((PyObject*)__pyx_n_u_intersection)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_iterable1)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2594, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_iterable2)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2594, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("compute_set_operation", 0, 2, 3, 1); <span class='error_goto'>__PYX_ERR(0, 2594, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_operation);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2594, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "compute_set_operation") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2594, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_iterable1 = values[0];
    __pyx_v_iterable2 = values[1];
    __pyx_v_operation = ((PyObject*)values[2]);
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("compute_set_operation", 0, 2, 3, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2594, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.compute_set_operation", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_operation), (&amp;PyUnicode_Type), 0, "operation", 1))) <span class='error_goto'>__PYX_ERR(0, 2597, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_75compute_set_operation(__pyx_self, __pyx_v_iterable1, __pyx_v_iterable2, __pyx_v_operation);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_75compute_set_operation(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_iterable1, PyObject *__pyx_v_iterable2, PyObject *__pyx_v_operation) {
  PyObject *__pyx_v_set1 = NULL;
  PyObject *__pyx_v_set2 = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__90)
  <span class='trace'>__Pyx_TraceCall</span>("compute_set_operation", __pyx_f[0], 2594, 0, <span class='error_goto'>__PYX_ERR(0, 2594, __pyx_L1_error)</span>);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.compute_set_operation", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_set1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_set2);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__198 = <span class='py_c_api'>PyTuple_Pack</span>(5, __pyx_n_s_iterable1, __pyx_n_s_iterable2, __pyx_n_s_operation, __pyx_n_s_set1, __pyx_n_s_set2);<span class='error_goto'> if (unlikely(!__pyx_tuple__198)) __PYX_ERR(0, 2594, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__198);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__198);
  __pyx_codeobj__90 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(3, 0, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__198, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_compute_set_operation, 2594, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__90)) __PYX_ERR(0, 2594, __pyx_L1_error)</span>
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(2594,0,<span class='error_goto'>__PYX_ERR(0, 2594, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2594, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_iterable1, __pyx_kp_s_Iterable_Any) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2594, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_iterable2, __pyx_kp_s_Iterable_Any) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2594, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_operation, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2594, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return, __pyx_kp_s_Set_Any) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2594, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_76compute_set_operation, 0, __pyx_n_s_compute_set_operation, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__90));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2594, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_2, __pyx_tuple__199);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_2, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_compute_set_operation, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2594, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_tuple__199 = <span class='py_c_api'>PyTuple_Pack</span>(1, ((PyObject*)__pyx_n_u_intersection));<span class='error_goto'> if (unlikely(!__pyx_tuple__199)) __PYX_ERR(0, 2594, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__199);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__199);
</pre><pre class="cython line score-0">&#xA0;<span class="">2595</span>:     iterable1: Iterable[Any],</pre>
<pre class="cython line score-0">&#xA0;<span class="">2596</span>:     iterable2: Iterable[Any],</pre>
<pre class="cython line score-0">&#xA0;<span class="">2597</span>:     operation: str = "intersection"</pre>
<pre class="cython line score-0">&#xA0;<span class="">2598</span>: ) -&gt; Set[Any]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">2599</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2600</span>:     Computes the intersection or difference between two iterable objects,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2601</span>:     returning the result as a set. This function is flexible and works</pre>
<pre class="cython line score-0">&#xA0;<span class="">2602</span>:     with any iterable types, including lists, sets, and dictionaries.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2603</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2604</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">2605</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2606</span>:     iterable1 : Iterable[Any]</pre>
<pre class="cython line score-0">&#xA0;<span class="">2607</span>:         The first iterable object from which to compute the operation.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2608</span>:     iterable2 : Iterable[Any]</pre>
<pre class="cython line score-0">&#xA0;<span class="">2609</span>:         The second iterable object.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2610</span>:     operation : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2611</span>:         The operation to perform, either 'intersection' or 'difference'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2612</span>:         Defaults to 'intersection'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2613</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2614</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">2615</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2616</span>:     Set[Any]</pre>
<pre class="cython line score-0">&#xA0;<span class="">2617</span>:         A set of either common elements (intersection) or unique elements</pre>
<pre class="cython line score-0">&#xA0;<span class="">2618</span>:         (difference) from the two iterables.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2619</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2620</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">2621</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2622</span>:     Intersection example:</pre>
<pre class="cython line score-0">&#xA0;<span class="">2623</span>:     &gt;&gt;&gt; compute_set_operation(</pre>
<pre class="cython line score-0">&#xA0;<span class="">2624</span>:     ...     ['a', 'b', 'c'],</pre>
<pre class="cython line score-0">&#xA0;<span class="">2625</span>:     ...     {'b', 'c', 'd'}</pre>
<pre class="cython line score-0">&#xA0;<span class="">2626</span>:     ... )</pre>
<pre class="cython line score-0">&#xA0;<span class="">2627</span>:     {'b', 'c'}</pre>
<pre class="cython line score-0">&#xA0;<span class="">2628</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2629</span>:     Difference example:</pre>
<pre class="cython line score-0">&#xA0;<span class="">2630</span>:     &gt;&gt;&gt; compute_set_operation(</pre>
<pre class="cython line score-0">&#xA0;<span class="">2631</span>:     ...     ['a', 'b', 'c'],</pre>
<pre class="cython line score-0">&#xA0;<span class="">2632</span>:     ...     {'b', 'c', 'd'},</pre>
<pre class="cython line score-0">&#xA0;<span class="">2633</span>:     ...     operation='difference'</pre>
<pre class="cython line score-0">&#xA0;<span class="">2634</span>:     ... )</pre>
<pre class="cython line score-0">&#xA0;<span class="">2635</span>:     {'a', 'd'}</pre>
<pre class="cython line score-0">&#xA0;<span class="">2636</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2637</span>:     Notes</pre>
<pre class="cython line score-0">&#xA0;<span class="">2638</span>:     -----</pre>
<pre class="cython line score-0">&#xA0;<span class="">2639</span>:     The function supports only 'intersection' and 'difference' operations.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2640</span>:     It ensures the result is always returned as a set, regardless of the</pre>
<pre class="cython line score-0">&#xA0;<span class="">2641</span>:     input iterable types.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2642</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2643</span>: </pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2644</span>:     set1 = set(iterable1)</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(2644,0,<span class='error_goto'>__PYX_ERR(0, 2644, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PySet_New</span>(__pyx_v_iterable1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2644, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_set1 = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2645</span>:     set2 = set(iterable2)</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(2645,0,<span class='error_goto'>__PYX_ERR(0, 2645, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PySet_New</span>(__pyx_v_iterable2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2645, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_set2 = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2646</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2647</span>:     if operation == "intersection":</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(2647,0,<span class='error_goto'>__PYX_ERR(0, 2647, __pyx_L1_error)</span>)
  __pyx_t_2 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_operation, __pyx_n_u_intersection, Py_EQ)); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2647, __pyx_L1_error)</span>
  if (__pyx_t_2) {
/* â€¦ */
  }
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2648</span>:         return set1 &amp; set2  # Using &amp; for intersection</pre>
<pre class='cython code score-6 '>    <span class='trace'>__Pyx_TraceLine</span>(2648,0,<span class='error_goto'>__PYX_ERR(0, 2648, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    __pyx_t_1 = <span class='py_c_api'>PyNumber_And</span>(__pyx_v_set1, __pyx_v_set2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2648, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_r = __pyx_t_1;
    __pyx_t_1 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2649</span>:     elif operation == "difference":</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(2649,0,<span class='error_goto'>__PYX_ERR(0, 2649, __pyx_L1_error)</span>)
  __pyx_t_2 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_operation, __pyx_n_u_difference, Py_EQ)); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2649, __pyx_L1_error)</span>
  if (likely(__pyx_t_2)) {
/* â€¦ */
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">2650</span>:         # Returning symmetric difference</pre>
<pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2651</span>:         return set1 ^ set2  # Using ^ for symmetric difference</pre>
<pre class='cython code score-6 '>    <span class='trace'>__Pyx_TraceLine</span>(2651,0,<span class='error_goto'>__PYX_ERR(0, 2651, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    __pyx_t_1 = <span class='py_c_api'>PyNumber_Xor</span>(__pyx_v_set1, __pyx_v_set2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2651, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_r = __pyx_t_1;
    __pyx_t_1 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2652</span>:     else:</pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2653</span>:         raise ValueError("Invalid operation specified. Choose either"</pre>
<pre class='cython code score-10 '>  <span class='trace'>__Pyx_TraceLine</span>(2653,0,<span class='error_goto'>__PYX_ERR(0, 2653, __pyx_L1_error)</span>)
  /*else*/ {
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__91, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2653, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_1, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='error_goto'>__PYX_ERR(0, 2653, __pyx_L1_error)</span>
  }
/* â€¦ */
  __pyx_tuple__91 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Invalid_operation_specified_Choo);<span class='error_goto'> if (unlikely(!__pyx_tuple__91)) __PYX_ERR(0, 2653, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__91);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__91);
</pre><pre class="cython line score-0">&#xA0;<span class="">2654</span>:                          " 'intersection' or 'difference'.")</pre>
<pre class="cython line score-0">&#xA0;<span class="">2655</span>: </pre>
<pre class="cython line score-89" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2656</span>: def find_intersection(</pre>
<pre class='cython code score-89 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_78find_intersection(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_77find_intersection, "\n    Computes the intersection of two iterable objects, returning a set\n    of elements common to both. This function is designed to work with\n    various iterable types, including lists, sets, and dictionaries.\n\n    Parameters\n    ----------\n    iterable1 : Iterable[Any]\n        The first iterable object.\n    iterable2 : Iterable[Any]\n        The second iterable object.\n\n    Returns\n    -------\n    Set[Any]\n        A set of elements common to both `iterable1` and `iterable2`.\n\n    Example\n    -------\n    &gt;&gt;&gt; from gofast.tools.baseutils import find_intersection_between_generics\n    &gt;&gt;&gt; compute_intersection(\n    ...     ['ohmS', 'lwi', 'power', 'id', 'sfi', 'magnitude'], \n    ...     {'ohmS', 'lwi', 'power'}\n    ... )\n    {'ohmS', 'lwi', 'power'}\n\n    Notes\n    -----\n    The result is always a set, regardless of the input types, ensuring\n    that each element is unique and present in both iterables.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_78find_intersection = {"find_intersection", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_78find_intersection, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_77find_intersection};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_78find_intersection(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_iterable1 = 0;
  PyObject *__pyx_v_iterable2 = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("find_intersection (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_iterable1,&amp;__pyx_n_s_iterable2,0};
  PyObject* values[2] = {0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_iterable1)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2656, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_iterable2)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2656, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("find_intersection", 1, 2, 2, 1); <span class='error_goto'>__PYX_ERR(0, 2656, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "find_intersection") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2656, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 2)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
    }
    __pyx_v_iterable1 = values[0];
    __pyx_v_iterable2 = values[1];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("find_intersection", 1, 2, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2656, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.find_intersection", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_77find_intersection(__pyx_self, __pyx_v_iterable1, __pyx_v_iterable2);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_77find_intersection(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_iterable1, PyObject *__pyx_v_iterable2) {
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__92)
  <span class='trace'>__Pyx_TraceCall</span>("find_intersection", __pyx_f[0], 2656, 0, <span class='error_goto'>__PYX_ERR(0, 2656, __pyx_L1_error)</span>);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.find_intersection", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__200 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_n_s_iterable1, __pyx_n_s_iterable2);<span class='error_goto'> if (unlikely(!__pyx_tuple__200)) __PYX_ERR(0, 2656, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__200);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__200);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(2656,0,<span class='error_goto'>__PYX_ERR(0, 2656, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2656, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_iterable1, __pyx_kp_s_Iterable_Any) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2656, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_iterable2, __pyx_kp_s_Iterable_Any) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2656, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_return, __pyx_kp_s_Set_Any) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2656, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_78find_intersection, 0, __pyx_n_s_find_intersection, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__92));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2656, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_3, __pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_find_intersection, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2656, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_codeobj__92 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(2, 0, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__200, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_find_intersection, 2656, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__92)) __PYX_ERR(0, 2656, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2657</span>:     iterable1: Iterable[Any],</pre>
<pre class="cython line score-0">&#xA0;<span class="">2658</span>:     iterable2: Iterable[Any]</pre>
<pre class="cython line score-0">&#xA0;<span class="">2659</span>: ) -&gt; Set[Any]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">2660</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2661</span>:     Computes the intersection of two iterable objects, returning a set</pre>
<pre class="cython line score-0">&#xA0;<span class="">2662</span>:     of elements common to both. This function is designed to work with</pre>
<pre class="cython line score-0">&#xA0;<span class="">2663</span>:     various iterable types, including lists, sets, and dictionaries.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2664</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2665</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">2666</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2667</span>:     iterable1 : Iterable[Any]</pre>
<pre class="cython line score-0">&#xA0;<span class="">2668</span>:         The first iterable object.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2669</span>:     iterable2 : Iterable[Any]</pre>
<pre class="cython line score-0">&#xA0;<span class="">2670</span>:         The second iterable object.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2671</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2672</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">2673</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2674</span>:     Set[Any]</pre>
<pre class="cython line score-0">&#xA0;<span class="">2675</span>:         A set of elements common to both `iterable1` and `iterable2`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2676</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2677</span>:     Example</pre>
<pre class="cython line score-0">&#xA0;<span class="">2678</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2679</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import find_intersection_between_generics</pre>
<pre class="cython line score-0">&#xA0;<span class="">2680</span>:     &gt;&gt;&gt; compute_intersection(</pre>
<pre class="cython line score-0">&#xA0;<span class="">2681</span>:     ...     ['ohmS', 'lwi', 'power', 'id', 'sfi', 'magnitude'],</pre>
<pre class="cython line score-0">&#xA0;<span class="">2682</span>:     ...     {'ohmS', 'lwi', 'power'}</pre>
<pre class="cython line score-0">&#xA0;<span class="">2683</span>:     ... )</pre>
<pre class="cython line score-0">&#xA0;<span class="">2684</span>:     {'ohmS', 'lwi', 'power'}</pre>
<pre class="cython line score-0">&#xA0;<span class="">2685</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2686</span>:     Notes</pre>
<pre class="cython line score-0">&#xA0;<span class="">2687</span>:     -----</pre>
<pre class="cython line score-0">&#xA0;<span class="">2688</span>:     The result is always a set, regardless of the input types, ensuring</pre>
<pre class="cython line score-0">&#xA0;<span class="">2689</span>:     that each element is unique and present in both iterables.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2690</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2691</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2692</span>:     # Utilize set intersection operation (&amp;) for clarity and conciseness</pre>
<pre class="cython line score-18" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2693</span>:     return set(iterable1) &amp; set(iterable2)</pre>
<pre class='cython code score-18 '>  <span class='trace'>__Pyx_TraceLine</span>(2693,0,<span class='error_goto'>__PYX_ERR(0, 2693, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_1 = <span class='py_c_api'>PySet_New</span>(__pyx_v_iterable1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2693, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='py_c_api'>PySet_New</span>(__pyx_v_iterable2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2693, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='py_c_api'>PyNumber_And</span>(__pyx_t_1, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2693, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_r = __pyx_t_3;
  __pyx_t_3 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2694</span>: </pre>
<pre class="cython line score-89" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2695</span>: def find_unique_elements(</pre>
<pre class='cython code score-89 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_80find_unique_elements(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_79find_unique_elements, "\n    Computes the difference between two iterable objects, returning a set\n    containing elements unique to the iterable with more unique elements.\n    If both iterables contain an equal number of unique elements, the function\n    returns None.\n\n    This function is designed to work with various iterable types, including\n    lists, sets, and dictionaries. The focus is on the count of unique elements\n    rather than the total length, which allows for more consistent results\n    across different types of iterables.\n\n    Parameters\n    ----------\n    iterable1 : Iterable[Any]\n        The first iterable object.\n    iterable2 : Iterable[Any]\n        The second iterable object.\n\n    Returns\n    -------\n    Optional[Set[Any]]\n        A set of elements unique to the iterable with more unique elements,\n        or None if both have an equal number of unique elements.\n\n    Example\n    -------\n    &gt;&gt;&gt; find_unique_elements(\n    ...     ['a', 'b', 'c', 'c'],\n    ...     {'a', 'b'}\n    ... )\n    {'c'}\n\n    Notes\n    -----\n    The comparison is based on the number of unique elements, not the\n    iterable size. This approach ensures a more meaningful comparison\n    when the iterables are of different types or when duplicates are present.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_80find_unique_elements = {"find_unique_elements", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_80find_unique_elements, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_79find_unique_elements};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_80find_unique_elements(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_iterable1 = 0;
  PyObject *__pyx_v_iterable2 = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("find_unique_elements (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_iterable1,&amp;__pyx_n_s_iterable2,0};
  PyObject* values[2] = {0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_iterable1)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2695, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_iterable2)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2695, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("find_unique_elements", 1, 2, 2, 1); <span class='error_goto'>__PYX_ERR(0, 2695, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "find_unique_elements") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2695, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 2)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
    }
    __pyx_v_iterable1 = values[0];
    __pyx_v_iterable2 = values[1];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("find_unique_elements", 1, 2, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2695, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.find_unique_elements", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_79find_unique_elements(__pyx_self, __pyx_v_iterable1, __pyx_v_iterable2);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_79find_unique_elements(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_iterable1, PyObject *__pyx_v_iterable2) {
  PyObject *__pyx_v_set1 = NULL;
  PyObject *__pyx_v_set2 = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__93)
  <span class='trace'>__Pyx_TraceCall</span>("find_unique_elements", __pyx_f[0], 2695, 0, <span class='error_goto'>__PYX_ERR(0, 2695, __pyx_L1_error)</span>);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.find_unique_elements", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_set1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_set2);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__201 = <span class='py_c_api'>PyTuple_Pack</span>(4, __pyx_n_s_iterable1, __pyx_n_s_iterable2, __pyx_n_s_set1, __pyx_n_s_set2);<span class='error_goto'> if (unlikely(!__pyx_tuple__201)) __PYX_ERR(0, 2695, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__201);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__201);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(2695,0,<span class='error_goto'>__PYX_ERR(0, 2695, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2695, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_iterable1, __pyx_kp_s_Iterable_Any) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2695, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_iterable2, __pyx_kp_s_Iterable_Any) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2695, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return, __pyx_kp_s_Optional_Set_Any) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2695, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_80find_unique_elements, 0, __pyx_n_s_find_unique_elements, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__93));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2695, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_2, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_find_unique_elements, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2695, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_codeobj__93 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(2, 0, 0, 4, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__201, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_find_unique_elements, 2695, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__93)) __PYX_ERR(0, 2695, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2696</span>:     iterable1: Iterable[Any],</pre>
<pre class="cython line score-0">&#xA0;<span class="">2697</span>:     iterable2: Iterable[Any]</pre>
<pre class="cython line score-0">&#xA0;<span class="">2698</span>: ) -&gt; Optional[Set[Any]]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">2699</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2700</span>:     Computes the difference between two iterable objects, returning a set</pre>
<pre class="cython line score-0">&#xA0;<span class="">2701</span>:     containing elements unique to the iterable with more unique elements.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2702</span>:     If both iterables contain an equal number of unique elements, the function</pre>
<pre class="cython line score-0">&#xA0;<span class="">2703</span>:     returns None.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2704</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2705</span>:     This function is designed to work with various iterable types, including</pre>
<pre class="cython line score-0">&#xA0;<span class="">2706</span>:     lists, sets, and dictionaries. The focus is on the count of unique elements</pre>
<pre class="cython line score-0">&#xA0;<span class="">2707</span>:     rather than the total length, which allows for more consistent results</pre>
<pre class="cython line score-0">&#xA0;<span class="">2708</span>:     across different types of iterables.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2709</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2710</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">2711</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2712</span>:     iterable1 : Iterable[Any]</pre>
<pre class="cython line score-0">&#xA0;<span class="">2713</span>:         The first iterable object.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2714</span>:     iterable2 : Iterable[Any]</pre>
<pre class="cython line score-0">&#xA0;<span class="">2715</span>:         The second iterable object.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2716</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2717</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">2718</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2719</span>:     Optional[Set[Any]]</pre>
<pre class="cython line score-0">&#xA0;<span class="">2720</span>:         A set of elements unique to the iterable with more unique elements,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2721</span>:         or None if both have an equal number of unique elements.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2722</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2723</span>:     Example</pre>
<pre class="cython line score-0">&#xA0;<span class="">2724</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2725</span>:     &gt;&gt;&gt; find_unique_elements(</pre>
<pre class="cython line score-0">&#xA0;<span class="">2726</span>:     ...     ['a', 'b', 'c', 'c'],</pre>
<pre class="cython line score-0">&#xA0;<span class="">2727</span>:     ...     {'a', 'b'}</pre>
<pre class="cython line score-0">&#xA0;<span class="">2728</span>:     ... )</pre>
<pre class="cython line score-0">&#xA0;<span class="">2729</span>:     {'c'}</pre>
<pre class="cython line score-0">&#xA0;<span class="">2730</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2731</span>:     Notes</pre>
<pre class="cython line score-0">&#xA0;<span class="">2732</span>:     -----</pre>
<pre class="cython line score-0">&#xA0;<span class="">2733</span>:     The comparison is based on the number of unique elements, not the</pre>
<pre class="cython line score-0">&#xA0;<span class="">2734</span>:     iterable size. This approach ensures a more meaningful comparison</pre>
<pre class="cython line score-0">&#xA0;<span class="">2735</span>:     when the iterables are of different types or when duplicates are present.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2736</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2737</span>: </pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2738</span>:     set1 = set(iterable1)</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(2738,0,<span class='error_goto'>__PYX_ERR(0, 2738, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PySet_New</span>(__pyx_v_iterable1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2738, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_set1 = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2739</span>:     set2 = set(iterable2)</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(2739,0,<span class='error_goto'>__PYX_ERR(0, 2739, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PySet_New</span>(__pyx_v_iterable2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2739, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_set2 = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2740</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2741</span>:     # Adjust the logic to focus on the uniqueness rather than size</pre>
<pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2742</span>:     if len(set1) == len(set2):</pre>
<pre class='cython code score-4 '>  <span class='trace'>__Pyx_TraceLine</span>(2742,0,<span class='error_goto'>__PYX_ERR(0, 2742, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySet_GET_SIZE</span>(__pyx_v_set1);<span class='error_goto'> if (unlikely(__pyx_t_2 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2742, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PySet_GET_SIZE</span>(__pyx_v_set2);<span class='error_goto'> if (unlikely(__pyx_t_3 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2742, __pyx_L1_error)</span>
  __pyx_t_4 = (__pyx_t_2 == __pyx_t_3);
  if (__pyx_t_4) {
/* â€¦ */
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2743</span>:         return None</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(2743,0,<span class='error_goto'>__PYX_ERR(0, 2743, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    goto __pyx_L0;
</pre><pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2744</span>:     elif len(set1) &gt; len(set2):</pre>
<pre class='cython code score-4 '>  <span class='trace'>__Pyx_TraceLine</span>(2744,0,<span class='error_goto'>__PYX_ERR(0, 2744, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PySet_GET_SIZE</span>(__pyx_v_set1);<span class='error_goto'> if (unlikely(__pyx_t_3 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2744, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySet_GET_SIZE</span>(__pyx_v_set2);<span class='error_goto'> if (unlikely(__pyx_t_2 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2744, __pyx_L1_error)</span>
  __pyx_t_4 = (__pyx_t_3 &gt; __pyx_t_2);
  if (__pyx_t_4) {
/* â€¦ */
  }
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2745</span>:         return set1 - set2</pre>
<pre class='cython code score-6 '>    <span class='trace'>__Pyx_TraceLine</span>(2745,0,<span class='error_goto'>__PYX_ERR(0, 2745, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    __pyx_t_1 = <span class='py_c_api'>PyNumber_Subtract</span>(__pyx_v_set1, __pyx_v_set2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2745, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_r = __pyx_t_1;
    __pyx_t_1 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2746</span>:     else:</pre>
<pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2747</span>:         return set2 - set1</pre>
<pre class='cython code score-6 '>  <span class='trace'>__Pyx_TraceLine</span>(2747,0,<span class='error_goto'>__PYX_ERR(0, 2747, __pyx_L1_error)</span>)
  /*else*/ {
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    __pyx_t_1 = <span class='py_c_api'>PyNumber_Subtract</span>(__pyx_v_set2, __pyx_v_set1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2747, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_r = __pyx_t_1;
    __pyx_t_1 = 0;
    goto __pyx_L0;
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">2748</span>: </pre>
<pre class="cython line score-94" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2749</span>: def validate_feature_existence(supervised_features: Iterable[_T],</pre>
<pre class='cython code score-94 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_82validate_feature_existence(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_81validate_feature_existence, "\n    Validates the existence of supervised features within a list of all features.\n    This is typically used to ensure that certain expected features (columns) are\n    present in a pandas DataFrame.\n\n    Parameters\n    ----------\n    supervised_features : Iterable[_T]\n        An iterable of features presumed to be controlled or supervised.\n        \n    features : Iterable[_T]\n        An iterable of all features, such as pd.DataFrame.columns.\n\n    Raises\n    ------\n    ValueError\n        If `supervised_features` are not found within `features`.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_82validate_feature_existence = {"validate_feature_existence", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_82validate_feature_existence, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_81validate_feature_existence};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_82validate_feature_existence(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_supervised_features = 0;
  PyObject *__pyx_v_features = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("validate_feature_existence (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_supervised_features,&amp;__pyx_n_s_features,0};
  PyObject* values[2] = {0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_supervised_features)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2749, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_features)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2749, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("validate_feature_existence", 1, 2, 2, 1); <span class='error_goto'>__PYX_ERR(0, 2749, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "validate_feature_existence") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2749, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 2)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
    }
    __pyx_v_supervised_features = values[0];
    __pyx_v_features = values[1];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("validate_feature_existence", 1, 2, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2749, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.validate_feature_existence", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_81validate_feature_existence(__pyx_self, __pyx_v_supervised_features, __pyx_v_features);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_81validate_feature_existence(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_supervised_features, PyObject *__pyx_v_features) {
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__94)
  <span class='trace'>__Pyx_TraceCall</span>("validate_feature_existence", __pyx_f[0], 2749, 0, <span class='error_goto'>__PYX_ERR(0, 2749, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_supervised_features);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_features);
/* â€¦ */
  /* function exit code */
  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.validate_feature_existence", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_supervised_features);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_features);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__202 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_n_s_supervised_features, __pyx_n_s_features);<span class='error_goto'> if (unlikely(!__pyx_tuple__202)) __PYX_ERR(0, 2749, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__202);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__202);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(2749,0,<span class='error_goto'>__PYX_ERR(0, 2749, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2749, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_supervised_features, __pyx_kp_s_Iterable__T) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2749, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_features, __pyx_kp_s_Iterable__T) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2749, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_return, __pyx_n_s_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2749, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_82validate_feature_existence, 0, __pyx_n_s_validate_feature_existence, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__94));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2749, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_3, __pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_validate_feature_existence, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2749, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_codeobj__94 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(2, 0, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__202, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_validate_feature_existence, 2749, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__94)) __PYX_ERR(0, 2749, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2750</span>:                                features: Iterable[_T]) -&gt; None:</pre>
<pre class="cython line score-0">&#xA0;<span class="">2751</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2752</span>:     Validates the existence of supervised features within a list of all features.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2753</span>:     This is typically used to ensure that certain expected features (columns) are</pre>
<pre class="cython line score-0">&#xA0;<span class="">2754</span>:     present in a pandas DataFrame.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2755</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2756</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">2757</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2758</span>:     supervised_features : Iterable[_T]</pre>
<pre class="cython line score-0">&#xA0;<span class="">2759</span>:         An iterable of features presumed to be controlled or supervised.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2760</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2761</span>:     features : Iterable[_T]</pre>
<pre class="cython line score-0">&#xA0;<span class="">2762</span>:         An iterable of all features, such as pd.DataFrame.columns.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2763</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2764</span>:     Raises</pre>
<pre class="cython line score-0">&#xA0;<span class="">2765</span>:     ------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2766</span>:     ValueError</pre>
<pre class="cython line score-0">&#xA0;<span class="">2767</span>:         If `supervised_features` are not found within `features`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2768</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2769</span>:     # Ensure input is in list format if strings are passed</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2770</span>:     if isinstance(supervised_features, str):</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(2770,0,<span class='error_goto'>__PYX_ERR(0, 2770, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_supervised_features); 
  if (__pyx_t_1) {
/* â€¦ */
  }
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2771</span>:         supervised_features = [supervised_features]</pre>
<pre class='cython code score-9 '>    <span class='trace'>__Pyx_TraceLine</span>(2771,0,<span class='error_goto'>__PYX_ERR(0, 2771, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2771, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_supervised_features);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_supervised_features);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_supervised_features)) <span class='error_goto'>__PYX_ERR(0, 2771, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_supervised_features, __pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2772</span>:     if isinstance(features, str):</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(2772,0,<span class='error_goto'>__PYX_ERR(0, 2772, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_features); 
  if (__pyx_t_1) {
/* â€¦ */
  }
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2773</span>:         features = [features]</pre>
<pre class='cython code score-9 '>    <span class='trace'>__Pyx_TraceLine</span>(2773,0,<span class='error_goto'>__PYX_ERR(0, 2773, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2773, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_features);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_features);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_features)) <span class='error_goto'>__PYX_ERR(0, 2773, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_features, __pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2774</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2775</span>:     # Check for feature existence</pre>
<pre class="cython line score-27" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2776</span>:     if not cfexist(features_to=supervised_features, features=list(features)):</pre>
<pre class='cython code score-27 '>  <span class='trace'>__Pyx_TraceLine</span>(2776,0,<span class='error_goto'>__PYX_ERR(0, 2776, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_cfexist);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2776, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2776, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_features_to, __pyx_v_supervised_features) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2776, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='py_c_api'>PySequence_List</span>(__pyx_v_features);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2776, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_features, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2776, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_empty_tuple, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2776, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_4); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2776, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_5 = (!__pyx_t_1);
  if (unlikely(__pyx_t_5)) {
/* â€¦ */
  }
</pre><pre class="cython line score-42" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2777</span>:         raise ValueError(f"Features {supervised_features} not found in {list(features)}")</pre>
<pre class='cython code score-42 '>    <span class='trace'>__Pyx_TraceLine</span>(2777,0,<span class='error_goto'>__PYX_ERR(0, 2777, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2777, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_6 = 0;
    __pyx_t_7 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Features);
    __pyx_t_6 += 9;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Features);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_kp_u_Features);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_supervised_features, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2777, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_7 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_3) &gt; __pyx_t_7) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_3) : __pyx_t_7;
    __pyx_t_6 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_3);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_t_3);
    __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_not_found_in);
    __pyx_t_6 += 14;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_not_found_in);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 2, __pyx_kp_u_not_found_in);
    __pyx_t_3 = <span class='py_c_api'>PySequence_List</span>(__pyx_v_features);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2777, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_t_3, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2777, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_7 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) &gt; __pyx_t_7) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) : __pyx_t_7;
    __pyx_t_6 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_2);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 3, __pyx_t_2);
    __pyx_t_2 = 0;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_4, 4, __pyx_t_6, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2777, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2777, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_4, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='error_goto'>__PYX_ERR(0, 2777, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2778</span>: </pre>
<pre class="cython line score-93" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2779</span>: def cfexist(features_to: List[Any], features: List[Any]) -&gt; bool:</pre>
<pre class='cython code score-93 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_84cfexist(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_83cfexist, "\n    Checks if all elements of one list (features_to) exist within another list (features).\n\n    Parameters\n    ----------\n    features_to : List[Any]\n        List or array to be checked for existence within `features`.\n        \n    features : List[Any]\n        List of whole features, e.g., as in pd.DataFrame.columns.\n\n    Returns\n    -------\n    bool\n        True if all elements in `features_to` exist in `features`, False otherwise.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_84cfexist = {"cfexist", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_84cfexist, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_83cfexist};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_84cfexist(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_features_to = 0;
  PyObject *__pyx_v_features = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("cfexist (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_features_to,&amp;__pyx_n_s_features,0};
  PyObject* values[2] = {0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_features_to)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2779, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_features)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2779, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("cfexist", 1, 2, 2, 1); <span class='error_goto'>__PYX_ERR(0, 2779, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "cfexist") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2779, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 2)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
    }
    __pyx_v_features_to = values[0];
    __pyx_v_features = values[1];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("cfexist", 1, 2, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2779, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.cfexist", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_83cfexist(__pyx_self, __pyx_v_features_to, __pyx_v_features);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_83cfexist(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_features_to, PyObject *__pyx_v_features) {
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__95)
  <span class='trace'>__Pyx_TraceCall</span>("cfexist", __pyx_f[0], 2779, 0, <span class='error_goto'>__PYX_ERR(0, 2779, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_features_to);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_features);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.cfexist", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_features_to);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_features);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__203 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_n_s_features_to, __pyx_n_s_features);<span class='error_goto'> if (unlikely(!__pyx_tuple__203)) __PYX_ERR(0, 2779, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__203);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__203);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(2779,0,<span class='error_goto'>__PYX_ERR(0, 2779, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2779, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_features_to, __pyx_kp_s_List_Any) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2779, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_features, __pyx_kp_s_List_Any) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2779, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2779, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_84cfexist, 0, __pyx_n_s_cfexist, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__95));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2779, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_2, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_cfexist, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2779, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_codeobj__95 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(2, 0, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__203, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_cfexist, 2779, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__95)) __PYX_ERR(0, 2779, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2780</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2781</span>:     Checks if all elements of one list (features_to) exist within another list (features).</pre>
<pre class="cython line score-0">&#xA0;<span class="">2782</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2783</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">2784</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2785</span>:     features_to : List[Any]</pre>
<pre class="cython line score-0">&#xA0;<span class="">2786</span>:         List or array to be checked for existence within `features`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2787</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2788</span>:     features : List[Any]</pre>
<pre class="cython line score-0">&#xA0;<span class="">2789</span>:         List of whole features, e.g., as in pd.DataFrame.columns.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2790</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2791</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">2792</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2793</span>:     bool</pre>
<pre class="cython line score-0">&#xA0;<span class="">2794</span>:         True if all elements in `features_to` exist in `features`, False otherwise.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2795</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2796</span>:     # Normalize input to lists, handle string inputs</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2797</span>:     if isinstance(features_to, str):</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(2797,0,<span class='error_goto'>__PYX_ERR(0, 2797, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_features_to); 
  if (__pyx_t_1) {
/* â€¦ */
  }
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2798</span>:         features_to = [features_to]</pre>
<pre class='cython code score-9 '>    <span class='trace'>__Pyx_TraceLine</span>(2798,0,<span class='error_goto'>__PYX_ERR(0, 2798, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2798, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_features_to);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_features_to);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_features_to)) <span class='error_goto'>__PYX_ERR(0, 2798, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_features_to, __pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2799</span>:     if isinstance(features, str):</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(2799,0,<span class='error_goto'>__PYX_ERR(0, 2799, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_features); 
  if (__pyx_t_1) {
/* â€¦ */
  }
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2800</span>:         features = [features]</pre>
<pre class='cython code score-9 '>    <span class='trace'>__Pyx_TraceLine</span>(2800,0,<span class='error_goto'>__PYX_ERR(0, 2800, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2800, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_features);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_features);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_features)) <span class='error_goto'>__PYX_ERR(0, 2800, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_features, __pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2801</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2802</span>:     # Check for existence</pre>
<pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2803</span>:     return set(features_to).issubset(features)</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(2803,0,<span class='error_goto'>__PYX_ERR(0, 2803, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_3 = <span class='py_c_api'>PySet_New</span>(__pyx_v_features_to);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2803, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_issubset);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2803, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_features};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2803, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  }
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2804</span>: </pre>
<pre class="cython line score-76" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2805</span>: def control_existing_estimator(</pre>
<pre class='cython code score-76 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_86control_existing_estimator(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_85control_existing_estimator, "\n    Validates and retrieves the corresponding prefix for a given estimator name.\n\n    This function checks if the provided estimator name exists in a predefined\n    list of estimators or in scikit-learn. If found, it returns the corresponding\n    prefix and full name. Otherwise, it either raises an error or returns None,\n    based on the 'raise_error' flag.\n\n    Parameters\n    ----------\n    estimator_name : str\n        The name of the estimator to check.\n    predefined_estimators : dict, default _predefined_estimators\n        A dictionary of predefined estimators.\n    raise_error : bool, default False\n        If True, raises an error when the estimator is not found. Otherwise, \n        emits a warning.\n\n    Returns\n    -------\n    Tuple[str, str] or None\n        A tuple containing the prefix and full name of the estimator, or \n        None if not found.\n\n    Example\n    -------\n    &gt;&gt;&gt; from gofast.tools.baseutils import control_existing_estimator\n    &gt;&gt;&gt; test_est = control_existing_estimator('svm')\n    &gt;&gt;&gt; print(test_est)\n    ('svc', 'SupportVectorClassifier')\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_86control_existing_estimator = {"control_existing_estimator", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_86control_existing_estimator, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_85control_existing_estimator};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_86control_existing_estimator(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_estimator_name = 0;
  PyObject *__pyx_v_predefined_estimators = 0;
  PyObject *__pyx_v_raise_error = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("control_existing_estimator (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_estimator_name,&amp;__pyx_n_s_predefined_estimators,&amp;__pyx_n_s_raise_error,0};
  PyObject* values[3] = {0,0,0};
/* â€¦ */
  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_85control_existing_estimator(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_estimator_name, PyObject *__pyx_v_predefined_estimators, PyObject *__pyx_v_raise_error) {
  PyObject *__pyx_v_EstimatorError = NULL;
  PyObject *__pyx_v__predefined_estimators = NULL;
  PyObject *__pyx_v_prefix = NULL;
  PyObject *__pyx_v_names = NULL;
  PyObject *__pyx_v_lower_names = NULL;
  PyObject *__pyx_v_valid_names = NULL;
  PyObject *__pyx_v_available_estimators = NULL;
  PyObject *__pyx_v_warning_msg = NULL;
  PyObject *__pyx_9genexpr37__pyx_v_name = NULL;
  PyObject *__pyx_9genexpr38__pyx_v_names = NULL;
  PyObject *__pyx_9genexpr38__pyx_v_name = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__96)
  <span class='trace'>__Pyx_TraceCall</span>("control_existing_estimator", __pyx_f[0], 2805, 0, <span class='error_goto'>__PYX_ERR(0, 2805, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_estimator_name);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_predefined_estimators);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.control_existing_estimator", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_EstimatorError);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v__predefined_estimators);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_prefix);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_names);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_lower_names);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_valid_names);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_available_estimators);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_warning_msg);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr37__pyx_v_name);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr38__pyx_v_names);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr38__pyx_v_name);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_estimator_name);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_predefined_estimators);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__204 = <span class='py_c_api'>PyTuple_Pack</span>(14, __pyx_n_s_estimator_name, __pyx_n_s_predefined_estimators, __pyx_n_s_raise_error, __pyx_n_s_EstimatorError, __pyx_n_s_predefined_estimators_2, __pyx_n_s_prefix, __pyx_n_s_names, __pyx_n_s_lower_names, __pyx_n_s_valid_names, __pyx_n_s_available_estimators, __pyx_n_s_warning_msg, __pyx_n_s_name, __pyx_n_s_names, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_tuple__204)) __PYX_ERR(0, 2805, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__204);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__204);
  __pyx_codeobj__96 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(3, 0, 0, 14, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__204, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_control_existing_estimator, 2805, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__96)) __PYX_ERR(0, 2805, __pyx_L1_error)</span>
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(2805,0,<span class='error_goto'>__PYX_ERR(0, 2805, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2805, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_estimator_name, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2805, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_raise_error, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2805, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_return, __pyx_kp_s_Union_Tuple_str_str_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2805, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_86control_existing_estimator, 0, __pyx_n_s_control_existing_estimator, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__96));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2805, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_3, __pyx_tuple__205);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_3, __pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_control_existing_estimator, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2805, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_tuple__205 = <span class='py_c_api'>PyTuple_Pack</span>(2, Py_None, ((PyObject *)Py_False));<span class='error_goto'> if (unlikely(!__pyx_tuple__205)) __PYX_ERR(0, 2805, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__205);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__205);
</pre><pre class="cython line score-0">&#xA0;<span class="">2806</span>:     estimator_name: str,</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2807</span>:     predefined_estimators=None,</pre>
<pre class='cython code score-2 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-53" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2808</span>:     raise_error: bool = False</pre>
<pre class='cython code score-53 '>    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_estimator_name)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2805, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_predefined_estimators);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2805, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_raise_error);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2805, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "control_existing_estimator") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2805, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_estimator_name = ((PyObject*)values[0]);
    __pyx_v_predefined_estimators = values[1];
    __pyx_v_raise_error = values[2];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("control_existing_estimator", 0, 1, 3, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2805, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.control_existing_estimator", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_estimator_name), (&amp;PyUnicode_Type), 0, "estimator_name", 1))) <span class='error_goto'>__PYX_ERR(0, 2806, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_85control_existing_estimator(__pyx_self, __pyx_v_estimator_name, __pyx_v_predefined_estimators, __pyx_v_raise_error);
</pre><pre class="cython line score-0">&#xA0;<span class="">2809</span>: ) -&gt; Union[Tuple[str, str], None]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">2810</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2811</span>:     Validates and retrieves the corresponding prefix for a given estimator name.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2812</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2813</span>:     This function checks if the provided estimator name exists in a predefined</pre>
<pre class="cython line score-0">&#xA0;<span class="">2814</span>:     list of estimators or in scikit-learn. If found, it returns the corresponding</pre>
<pre class="cython line score-0">&#xA0;<span class="">2815</span>:     prefix and full name. Otherwise, it either raises an error or returns None,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2816</span>:     based on the 'raise_error' flag.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2817</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2818</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">2819</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2820</span>:     estimator_name : str</pre>
<pre class="cython line score-0">&#xA0;<span class="">2821</span>:         The name of the estimator to check.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2822</span>:     predefined_estimators : dict, default _predefined_estimators</pre>
<pre class="cython line score-0">&#xA0;<span class="">2823</span>:         A dictionary of predefined estimators.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2824</span>:     raise_error : bool, default False</pre>
<pre class="cython line score-0">&#xA0;<span class="">2825</span>:         If True, raises an error when the estimator is not found. Otherwise,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2826</span>:         emits a warning.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2827</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2828</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">2829</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2830</span>:     Tuple[str, str] or None</pre>
<pre class="cython line score-0">&#xA0;<span class="">2831</span>:         A tuple containing the prefix and full name of the estimator, or</pre>
<pre class="cython line score-0">&#xA0;<span class="">2832</span>:         None if not found.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2833</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2834</span>:     Example</pre>
<pre class="cython line score-0">&#xA0;<span class="">2835</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2836</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import control_existing_estimator</pre>
<pre class="cython line score-0">&#xA0;<span class="">2837</span>:     &gt;&gt;&gt; test_est = control_existing_estimator('svm')</pre>
<pre class="cython line score-0">&#xA0;<span class="">2838</span>:     &gt;&gt;&gt; print(test_est)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2839</span>:     ('svc', 'SupportVectorClassifier')</pre>
<pre class="cython line score-0">&#xA0;<span class="">2840</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2841</span>: </pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2842</span>:     from ..exceptions import EstimatorError</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(2842,0,<span class='error_goto'>__PYX_ERR(0, 2842, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2842, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_EstimatorError);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_EstimatorError);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_n_s_EstimatorError)) <span class='error_goto'>__PYX_ERR(0, 2842, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_exceptions, __pyx_t_1, 2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2842, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_EstimatorError);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2842, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
  __pyx_v_EstimatorError = __pyx_t_1;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2843</span>:     # Define a dictionary of predefined estimators</pre>
<pre class="cython line score-0">&#xA0;<span class="">2844</span>:     _predefined_estimators ={</pre>
<pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2845</span>:             'dtc': ['DecisionTreeClassifier', 'dtc', 'dec', 'dt'],</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(2845,0,<span class='error_goto'>__PYX_ERR(0, 2845, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(12);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2845, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2845, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_DecisionTreeClassifier);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_DecisionTreeClassifier);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_n_u_DecisionTreeClassifier)) <span class='error_goto'>__PYX_ERR(0, 2845, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_dtc);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_dtc);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 1, __pyx_n_u_dtc)) <span class='error_goto'>__PYX_ERR(0, 2845, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_dec);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_dec);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 2, __pyx_n_u_dec)) <span class='error_goto'>__PYX_ERR(0, 2845, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_dt);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_dt);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 3, __pyx_n_u_dt)) <span class='error_goto'>__PYX_ERR(0, 2845, __pyx_L1_error)</span>;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_u_dtc, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2845, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2846</span>:             'svc': ['SupportVectorClassifier', 'svc', 'sup', 'svm'],</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(2846,0,<span class='error_goto'>__PYX_ERR(0, 2846, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2846, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_SupportVectorClassifier);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_SupportVectorClassifier);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_n_u_SupportVectorClassifier)) <span class='error_goto'>__PYX_ERR(0, 2846, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_svc);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_svc);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 1, __pyx_n_u_svc)) <span class='error_goto'>__PYX_ERR(0, 2846, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_sup);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_sup);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 2, __pyx_n_u_sup)) <span class='error_goto'>__PYX_ERR(0, 2846, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_svm);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_svm);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 3, __pyx_n_u_svm)) <span class='error_goto'>__PYX_ERR(0, 2846, __pyx_L1_error)</span>;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_u_svc, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2845, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2847</span>:             'sdg': ['SGDClassifier','sdg', 'sd', 'sdg'],</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(2847,0,<span class='error_goto'>__PYX_ERR(0, 2847, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2847, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_SGDClassifier);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_SGDClassifier);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_n_u_SGDClassifier)) <span class='error_goto'>__PYX_ERR(0, 2847, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_sdg);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_sdg);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 1, __pyx_n_u_sdg)) <span class='error_goto'>__PYX_ERR(0, 2847, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_sd);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_sd);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 2, __pyx_n_u_sd)) <span class='error_goto'>__PYX_ERR(0, 2847, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_sdg);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_sdg);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 3, __pyx_n_u_sdg)) <span class='error_goto'>__PYX_ERR(0, 2847, __pyx_L1_error)</span>;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_u_sdg, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2845, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2848</span>:             'knn': ['KNeighborsClassifier','knn', 'kne', 'knr'],</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(2848,0,<span class='error_goto'>__PYX_ERR(0, 2848, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2848, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_KNeighborsClassifier);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_KNeighborsClassifier);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_n_u_KNeighborsClassifier)) <span class='error_goto'>__PYX_ERR(0, 2848, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_knn);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_knn);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 1, __pyx_n_u_knn)) <span class='error_goto'>__PYX_ERR(0, 2848, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_kne);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_kne);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 2, __pyx_n_u_kne)) <span class='error_goto'>__PYX_ERR(0, 2848, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_knr);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_knr);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 3, __pyx_n_u_knr)) <span class='error_goto'>__PYX_ERR(0, 2848, __pyx_L1_error)</span>;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_u_knn, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2845, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2849</span>:             'rdf': ['RandomForestClassifier', 'rdf', 'rf', 'rfc',],</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(2849,0,<span class='error_goto'>__PYX_ERR(0, 2849, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2849, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_RandomForestClassifier);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_RandomForestClassifier);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_n_u_RandomForestClassifier)) <span class='error_goto'>__PYX_ERR(0, 2849, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_rdf);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_rdf);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 1, __pyx_n_u_rdf)) <span class='error_goto'>__PYX_ERR(0, 2849, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_rf);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_rf);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 2, __pyx_n_u_rf)) <span class='error_goto'>__PYX_ERR(0, 2849, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_rfc);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_rfc);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 3, __pyx_n_u_rfc)) <span class='error_goto'>__PYX_ERR(0, 2849, __pyx_L1_error)</span>;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_u_rdf, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2845, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2850</span>:             'ada': ['AdaBoostClassifier','ada', 'adc', 'adboost'],</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(2850,0,<span class='error_goto'>__PYX_ERR(0, 2850, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2850, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_AdaBoostClassifier);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_AdaBoostClassifier);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_n_u_AdaBoostClassifier)) <span class='error_goto'>__PYX_ERR(0, 2850, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_ada);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_ada);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 1, __pyx_n_u_ada)) <span class='error_goto'>__PYX_ERR(0, 2850, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_adc);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_adc);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 2, __pyx_n_u_adc)) <span class='error_goto'>__PYX_ERR(0, 2850, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_adboost);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_adboost);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 3, __pyx_n_u_adboost)) <span class='error_goto'>__PYX_ERR(0, 2850, __pyx_L1_error)</span>;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_u_ada, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2845, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2851</span>:             'vtc': ['VotingClassifier','vtc', 'vot', 'voting'],</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(2851,0,<span class='error_goto'>__PYX_ERR(0, 2851, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2851, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_VotingClassifier);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_VotingClassifier);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_n_u_VotingClassifier)) <span class='error_goto'>__PYX_ERR(0, 2851, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_vtc);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_vtc);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 1, __pyx_n_u_vtc)) <span class='error_goto'>__PYX_ERR(0, 2851, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_vot);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_vot);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 2, __pyx_n_u_vot)) <span class='error_goto'>__PYX_ERR(0, 2851, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_voting);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_voting);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 3, __pyx_n_u_voting)) <span class='error_goto'>__PYX_ERR(0, 2851, __pyx_L1_error)</span>;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_u_vtc, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2845, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2852</span>:             'bag': ['BaggingClassifier', 'bag', 'bag', 'bagg'],</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(2852,0,<span class='error_goto'>__PYX_ERR(0, 2852, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2852, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_BaggingClassifier);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_BaggingClassifier);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_n_u_BaggingClassifier)) <span class='error_goto'>__PYX_ERR(0, 2852, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_bag);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_bag);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 1, __pyx_n_u_bag)) <span class='error_goto'>__PYX_ERR(0, 2852, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_bag);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_bag);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 2, __pyx_n_u_bag)) <span class='error_goto'>__PYX_ERR(0, 2852, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_bagg);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_bagg);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 3, __pyx_n_u_bagg)) <span class='error_goto'>__PYX_ERR(0, 2852, __pyx_L1_error)</span>;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_u_bag, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2845, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2853</span>:             'stc': ['StackingClassifier','stc', 'sta', 'stack'],</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(2853,0,<span class='error_goto'>__PYX_ERR(0, 2853, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2853, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_StackingClassifier);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_StackingClassifier);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_n_u_StackingClassifier)) <span class='error_goto'>__PYX_ERR(0, 2853, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_stc);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_stc);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 1, __pyx_n_u_stc)) <span class='error_goto'>__PYX_ERR(0, 2853, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_sta);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_sta);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 2, __pyx_n_u_sta)) <span class='error_goto'>__PYX_ERR(0, 2853, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_stack);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_stack);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 3, __pyx_n_u_stack)) <span class='error_goto'>__PYX_ERR(0, 2853, __pyx_L1_error)</span>;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_u_stc, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2845, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2854</span>:             'xgb': ['ExtremeGradientBoosting', 'xgboost', 'gboost', 'gbdm', 'xgb'],</pre>
<pre class='cython code score-26 '>  <span class='trace'>__Pyx_TraceLine</span>(2854,0,<span class='error_goto'>__PYX_ERR(0, 2854, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2854, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_ExtremeGradientBoosting);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_ExtremeGradientBoosting);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_n_u_ExtremeGradientBoosting)) <span class='error_goto'>__PYX_ERR(0, 2854, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_xgboost);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_xgboost);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 1, __pyx_n_u_xgboost)) <span class='error_goto'>__PYX_ERR(0, 2854, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_gboost);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_gboost);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 2, __pyx_n_u_gboost)) <span class='error_goto'>__PYX_ERR(0, 2854, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_gbdm);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_gbdm);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 3, __pyx_n_u_gbdm)) <span class='error_goto'>__PYX_ERR(0, 2854, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_xgb);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_xgb);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 4, __pyx_n_u_xgb)) <span class='error_goto'>__PYX_ERR(0, 2854, __pyx_L1_error)</span>;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_u_xgb, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2845, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2855</span>:           'logit': ['LogisticRegression', 'logit', 'lr', 'logreg'],</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(2855,0,<span class='error_goto'>__PYX_ERR(0, 2855, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2855, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_LogisticRegression);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_LogisticRegression);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_n_u_LogisticRegression)) <span class='error_goto'>__PYX_ERR(0, 2855, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_logit);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_logit);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 1, __pyx_n_u_logit)) <span class='error_goto'>__PYX_ERR(0, 2855, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_lr);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_lr);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 2, __pyx_n_u_lr)) <span class='error_goto'>__PYX_ERR(0, 2855, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_logreg);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_logreg);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 3, __pyx_n_u_logreg)) <span class='error_goto'>__PYX_ERR(0, 2855, __pyx_L1_error)</span>;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_u_logit, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2845, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2856</span>:           'extree': ['ExtraTreesClassifier', 'extree', 'xtree', 'xtr']</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(2856,0,<span class='error_goto'>__PYX_ERR(0, 2856, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2856, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_ExtraTreesClassifier);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_ExtraTreesClassifier);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_n_u_ExtraTreesClassifier)) <span class='error_goto'>__PYX_ERR(0, 2856, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_extree);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_extree);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 1, __pyx_n_u_extree)) <span class='error_goto'>__PYX_ERR(0, 2856, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_xtree);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_xtree);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 2, __pyx_n_u_xtree)) <span class='error_goto'>__PYX_ERR(0, 2856, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_xtr);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_xtr);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 3, __pyx_n_u_xtr)) <span class='error_goto'>__PYX_ERR(0, 2856, __pyx_L1_error)</span>;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_u_extree, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2845, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v__predefined_estimators = ((PyObject*)__pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2857</span>:             }</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2858</span>:     predefined_estimators = predefined_estimators or _predefined_estimators</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(2858,0,<span class='error_goto'>__PYX_ERR(0, 2858, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_predefined_estimators); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2858, __pyx_L1_error)</span>
  if (!__pyx_t_3) {
  } else {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_predefined_estimators);
    __pyx_t_2 = __pyx_v_predefined_estimators;
    goto __pyx_L3_bool_binop_done;
  }
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v__predefined_estimators);
  __pyx_t_2 = __pyx_v__predefined_estimators;
  __pyx_L3_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_predefined_estimators, __pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2859</span>: </pre>
<pre class="cython line score-24" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2860</span>:     estimator_name= estimator_name.lower().strip() if isinstance (</pre>
<pre class='cython code score-24 '>    <span class='trace'>__Pyx_TraceLine</span>(2860,0,<span class='error_goto'>__PYX_ERR(0, 2860, __pyx_L1_error)</span>)
    __pyx_t_4 = __Pyx_CallUnboundCMethod0(&amp;__pyx_umethod_PyUnicode_Type_lower, __pyx_v_estimator_name);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2860, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_strip);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2860, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_4)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_4, NULL};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2860, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    if (!(likely(<span class='py_c_api'>PyUnicode_CheckExact</span>(__pyx_t_1))||((__pyx_t_1) == Py_None) || <span class='pyx_c_api'>__Pyx_RaiseUnexpectedTypeError</span>("unicode", __pyx_t_1))) <span class='error_goto'>__PYX_ERR(0, 2860, __pyx_L1_error)</span>
    __pyx_t_2 = __pyx_t_1;
    __pyx_t_1 = 0;
  } else {
</pre><pre class="cython line score-29" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2861</span>:         estimator_name, str) else get_estimator_name(estimator_name)</pre>
<pre class='cython code score-29 '>  <span class='trace'>__Pyx_TraceLine</span>(2861,0,<span class='error_goto'>__PYX_ERR(0, 2861, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_estimator_name); 
  if (__pyx_t_3) {
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(2861,0,<span class='error_goto'>__PYX_ERR(0, 2861, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_get_estimator_name);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2861, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_4 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_4)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_v_estimator_name};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2861, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    if (!(likely(<span class='py_c_api'>PyUnicode_CheckExact</span>(__pyx_t_1))||((__pyx_t_1) == Py_None) || <span class='pyx_c_api'>__Pyx_RaiseUnexpectedTypeError</span>("unicode", __pyx_t_1))) <span class='error_goto'>__PYX_ERR(0, 2861, __pyx_L1_error)</span>
    __pyx_t_2 = __pyx_t_1;
    __pyx_t_1 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_estimator_name, ((PyObject*)__pyx_t_2));
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2862</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2863</span>:     # Check if the estimator is in the predefined list</pre>
<pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2864</span>:     for prefix, names in predefined_estimators.items():</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(2864,0,<span class='error_goto'>__PYX_ERR(0, 2864, __pyx_L1_error)</span>)
  __pyx_t_7 = 0;
  if (unlikely(__pyx_v_predefined_estimators == Py_None)) {
    <span class='py_c_api'>PyErr_Format</span>(PyExc_AttributeError, "'NoneType' object has no attribute '%.30s'", "items");
    <span class='error_goto'>__PYX_ERR(0, 2864, __pyx_L1_error)</span>
  }
  __pyx_t_1 = __Pyx_dict_iterator(__pyx_v_predefined_estimators, 0, __pyx_n_s_items, (&amp;__pyx_t_8), (&amp;__pyx_t_6));<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2864, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  __pyx_t_2 = __pyx_t_1;
  __pyx_t_1 = 0;
  while (1) {
    __pyx_t_9 = __Pyx_dict_iter_next(__pyx_t_2, __pyx_t_8, &amp;__pyx_t_7, &amp;__pyx_t_1, &amp;__pyx_t_5, NULL, __pyx_t_6);
    if (unlikely(__pyx_t_9 == 0)) break;
    if (unlikely(__pyx_t_9 == -1)) <span class='error_goto'>__PYX_ERR(0, 2864, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_prefix, __pyx_t_1);
    __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_names, __pyx_t_5);
    __pyx_t_5 = 0;
</pre><pre class="cython line score-76" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2865</span>:         lower_names = [name.lower() for name in names]</pre>
<pre class='cython code score-76 '>    <span class='trace'>__Pyx_TraceLine</span>(2865,0,<span class='error_goto'>__PYX_ERR(0, 2865, __pyx_L1_error)</span>)
    { /* enter inner scope */
      __pyx_t_5 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2865, __pyx_L9_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_names)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_names)) {
        __pyx_t_1 = __pyx_v_names; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        __pyx_t_10 = 0;
        __pyx_t_11 = NULL;
      } else {
        __pyx_t_10 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_names);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2865, __pyx_L9_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2865, __pyx_L9_error)</span>
      }
      for (;;) {
        if (likely(!__pyx_t_11)) {
          if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
            {
              Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
              #if !CYTHON_ASSUME_SAFE_MACROS
              if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2865, __pyx_L9_error)</span>
              #endif
              if (__pyx_t_10 &gt;= __pyx_temp) break;
            }
            #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
            __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_10); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_10++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2865, __pyx_L9_error)</span>
            #else
            __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_10); __pyx_t_10++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2865, __pyx_L9_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
            #endif
          } else {
            {
              Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
              #if !CYTHON_ASSUME_SAFE_MACROS
              if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2865, __pyx_L9_error)</span>
              #endif
              if (__pyx_t_10 &gt;= __pyx_temp) break;
            }
            #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
            __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_10); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_10++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2865, __pyx_L9_error)</span>
            #else
            __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_10); __pyx_t_10++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2865, __pyx_L9_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
            #endif
          }
        } else {
          __pyx_t_4 = __pyx_t_11(__pyx_t_1);
          if (unlikely(!__pyx_t_4)) {
            PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
            if (exc_type) {
              if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
              else <span class='error_goto'>__PYX_ERR(0, 2865, __pyx_L9_error)</span>
            }
            break;
          }
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        }
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr37__pyx_v_name, __pyx_t_4);
        __pyx_t_4 = 0;
        __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_9genexpr37__pyx_v_name, __pyx_n_s_lower);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 2865, __pyx_L9_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
        __pyx_t_13 = NULL;
        __pyx_t_9 = 0;
        #if CYTHON_UNPACK_METHODS
        if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_12))) {
          __pyx_t_13 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_12);
          if (likely(__pyx_t_13)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_12);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_13);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_12, function);
            __pyx_t_9 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_13, NULL};
          __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_12, __pyx_callargs+1-__pyx_t_9, 0+__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
          if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 2865, __pyx_L9_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
        }
        if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_5, (PyObject*)__pyx_t_4))) <span class='error_goto'>__PYX_ERR(0, 2865, __pyx_L9_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr37__pyx_v_name); __pyx_9genexpr37__pyx_v_name = 0;
      goto __pyx_L13_exit_scope;
      __pyx_L9_error:;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr37__pyx_v_name); __pyx_9genexpr37__pyx_v_name = 0;
      goto __pyx_L1_error;
      __pyx_L13_exit_scope:;
    } /* exit inner scope */
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_lower_names, ((PyObject*)__pyx_t_5));
    __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2866</span>: </pre>
<pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2867</span>:         if estimator_name in lower_names:</pre>
<pre class='cython code score-3 '>    <span class='trace'>__Pyx_TraceLine</span>(2867,0,<span class='error_goto'>__PYX_ERR(0, 2867, __pyx_L1_error)</span>)
    __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_v_estimator_name, __pyx_v_lower_names, Py_EQ)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2867, __pyx_L1_error)</span>
    if (__pyx_t_3) {
/* â€¦ */
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2868</span>:             return prefix, names[0]</pre>
<pre class='cython code score-14 '>      <span class='trace'>__Pyx_TraceLine</span>(2868,0,<span class='error_goto'>__PYX_ERR(0, 2868, __pyx_L1_error)</span>)
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_names, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2868, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2868, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_prefix);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_prefix);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_prefix)) <span class='error_goto'>__PYX_ERR(0, 2868, __pyx_L1_error)</span>;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_5);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 2868, __pyx_L1_error)</span>;
      __pyx_t_5 = 0;
      __pyx_r = __pyx_t_1;
      __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2869</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2870</span>:     # If not found in predefined list, check if it's a valid scikit-learn estimator</pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2871</span>:     if estimator_name in _get_sklearn_estimator_names():</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(2871,0,<span class='error_goto'>__PYX_ERR(0, 2871, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_get_sklearn_estimator_names);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2871, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_5 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_5)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_5, NULL};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2871, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_v_estimator_name, __pyx_t_2, Py_EQ)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2871, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_3) {
/* â€¦ */
  }
</pre><pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2872</span>:         return estimator_name, estimator_name</pre>
<pre class='cython code score-12 '>    <span class='trace'>__Pyx_TraceLine</span>(2872,0,<span class='error_goto'>__PYX_ERR(0, 2872, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2872, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_estimator_name);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_estimator_name);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_estimator_name)) <span class='error_goto'>__PYX_ERR(0, 2872, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_estimator_name);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_estimator_name);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_v_estimator_name)) <span class='error_goto'>__PYX_ERR(0, 2872, __pyx_L1_error)</span>;
    __pyx_r = __pyx_t_2;
    __pyx_t_2 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2873</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2874</span>:     # If XGBoost is installed, check if it's an XGBoost estimator</pre>
<pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2875</span>:     if 'xgb' in predefined_estimators and estimator_name.startswith('xgb'):</pre>
<pre class='cython code score-9 '>  <span class='trace'>__Pyx_TraceLine</span>(2875,0,<span class='error_goto'>__PYX_ERR(0, 2875, __pyx_L1_error)</span>)
  __pyx_t_14 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_n_u_xgb, __pyx_v_predefined_estimators, Py_EQ)); if (unlikely((__pyx_t_14 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2875, __pyx_L1_error)</span>
  if (__pyx_t_14) {
  } else {
    __pyx_t_3 = __pyx_t_14;
    goto __pyx_L17_bool_binop_done;
  }
  if (unlikely(__pyx_v_estimator_name == Py_None)) {
    <span class='py_c_api'>PyErr_Format</span>(PyExc_AttributeError, "'NoneType' object has no attribute '%.30s'", "startswith");
    <span class='error_goto'>__PYX_ERR(0, 2875, __pyx_L1_error)</span>
  }
  __pyx_t_14 = <span class='pyx_c_api'>__Pyx_PyUnicode_Tailmatch</span>(__pyx_v_estimator_name, __pyx_n_u_xgb, 0, PY_SSIZE_T_MAX, -1);<span class='error_goto'> if (unlikely(__pyx_t_14 == ((int)-1))) __PYX_ERR(0, 2875, __pyx_L1_error)</span>
  __pyx_t_3 = __pyx_t_14;
  __pyx_L17_bool_binop_done:;
  if (__pyx_t_3) {
/* â€¦ */
  }
</pre><pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2876</span>:         return 'xgb', estimator_name</pre>
<pre class='cython code score-12 '>    <span class='trace'>__Pyx_TraceLine</span>(2876,0,<span class='error_goto'>__PYX_ERR(0, 2876, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2876, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_xgb);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_xgb);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_u_xgb)) <span class='error_goto'>__PYX_ERR(0, 2876, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_estimator_name);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_estimator_name);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_v_estimator_name)) <span class='error_goto'>__PYX_ERR(0, 2876, __pyx_L1_error)</span>;
    __pyx_r = __pyx_t_2;
    __pyx_t_2 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2877</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2878</span>:     # If raise_error is True, raise an error; otherwise, emit a warning</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2879</span>:     if raise_error:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(2879,0,<span class='error_goto'>__PYX_ERR(0, 2879, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_raise_error); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2879, __pyx_L1_error)</span>
  if (unlikely(__pyx_t_3)) {
/* â€¦ */
  }
</pre><pre class="cython line score-68" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2880</span>:         valid_names = [name for names in predefined_estimators.values() for name in names]</pre>
<pre class='cython code score-68 '>    <span class='trace'>__Pyx_TraceLine</span>(2880,0,<span class='error_goto'>__PYX_ERR(0, 2880, __pyx_L1_error)</span>)
    { /* enter inner scope */
      __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2880, __pyx_L22_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_8 = 0;
      if (unlikely(__pyx_v_predefined_estimators == Py_None)) {
        <span class='py_c_api'>PyErr_Format</span>(PyExc_AttributeError, "'NoneType' object has no attribute '%.30s'", "values");
        <span class='error_goto'>__PYX_ERR(0, 2880, __pyx_L22_error)</span>
      }
      __pyx_t_5 = __Pyx_dict_iterator(__pyx_v_predefined_estimators, 0, __pyx_n_s_values, (&amp;__pyx_t_7), (&amp;__pyx_t_6));<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2880, __pyx_L22_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
      __pyx_t_1 = __pyx_t_5;
      __pyx_t_5 = 0;
      while (1) {
        __pyx_t_9 = __Pyx_dict_iter_next(__pyx_t_1, __pyx_t_7, &amp;__pyx_t_8, NULL, &amp;__pyx_t_5, NULL, __pyx_t_6);
        if (unlikely(__pyx_t_9 == 0)) break;
        if (unlikely(__pyx_t_9 == -1)) <span class='error_goto'>__PYX_ERR(0, 2880, __pyx_L22_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr38__pyx_v_names, __pyx_t_5);
        __pyx_t_5 = 0;
        if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_9genexpr38__pyx_v_names)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_9genexpr38__pyx_v_names)) {
          __pyx_t_5 = __pyx_9genexpr38__pyx_v_names; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
          __pyx_t_10 = 0;
          __pyx_t_11 = NULL;
        } else {
          __pyx_t_10 = -1; __pyx_t_5 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_9genexpr38__pyx_v_names);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2880, __pyx_L22_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
          __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2880, __pyx_L22_error)</span>
        }
        for (;;) {
          if (likely(!__pyx_t_11)) {
            if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_5))) {
              {
                Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_5);
                #if !CYTHON_ASSUME_SAFE_MACROS
                if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2880, __pyx_L22_error)</span>
                #endif
                if (__pyx_t_10 &gt;= __pyx_temp) break;
              }
              #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
              __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_5, __pyx_t_10); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_10++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2880, __pyx_L22_error)</span>
              #else
              __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_5, __pyx_t_10); __pyx_t_10++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2880, __pyx_L22_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
              #endif
            } else {
              {
                Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_5);
                #if !CYTHON_ASSUME_SAFE_MACROS
                if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2880, __pyx_L22_error)</span>
                #endif
                if (__pyx_t_10 &gt;= __pyx_temp) break;
              }
              #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
              __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_5, __pyx_t_10); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_10++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2880, __pyx_L22_error)</span>
              #else
              __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_5, __pyx_t_10); __pyx_t_10++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2880, __pyx_L22_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
              #endif
            }
          } else {
            __pyx_t_4 = __pyx_t_11(__pyx_t_5);
            if (unlikely(!__pyx_t_4)) {
              PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
              if (exc_type) {
                if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
                else <span class='error_goto'>__PYX_ERR(0, 2880, __pyx_L22_error)</span>
              }
              break;
            }
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
          }
          <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr38__pyx_v_name, __pyx_t_4);
          __pyx_t_4 = 0;
          if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_2, (PyObject*)__pyx_9genexpr38__pyx_v_name))) <span class='error_goto'>__PYX_ERR(0, 2880, __pyx_L22_error)</span>
        }
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr38__pyx_v_name); __pyx_9genexpr38__pyx_v_name = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr38__pyx_v_names); __pyx_9genexpr38__pyx_v_names = 0;
      goto __pyx_L28_exit_scope;
      __pyx_L22_error:;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr38__pyx_v_name); __pyx_9genexpr38__pyx_v_name = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr38__pyx_v_names); __pyx_9genexpr38__pyx_v_names = 0;
      goto __pyx_L1_error;
      __pyx_L28_exit_scope:;
    } /* exit inner scope */
    __pyx_v_valid_names = ((PyObject*)__pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-45" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2881</span>:         raise EstimatorError(f'Unsupported estimator {estimator_name!r}. '</pre>
<pre class='cython code score-45 '>    <span class='trace'>__Pyx_TraceLine</span>(2881,0,<span class='error_goto'>__PYX_ERR(0, 2881, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2881, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_7 = 0;
    __pyx_t_15 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Unsupported_estimator);
    __pyx_t_7 += 22;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Unsupported_estimator);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_kp_u_Unsupported_estimator);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_v_estimator_name), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2881, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_15 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_5) &gt; __pyx_t_15) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_5) : __pyx_t_15;
    __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_5);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_5);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_t_5);
    __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Expected_one_of);
    __pyx_t_7 += 18;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Expected_one_of);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 2, __pyx_kp_u_Expected_one_of);
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(2881,0,<span class='error_goto'>__PYX_ERR(0, 2881, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_1, 5, __pyx_t_7, __pyx_t_15);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2881, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_EstimatorError);
    __pyx_t_1 = __pyx_v_EstimatorError; __pyx_t_4 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_4)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_t_5};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2881, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='error_goto'>__PYX_ERR(0, 2881, __pyx_L1_error)</span>
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2882</span>:                              f'Expected one of {valid_names}.')</pre>
<pre class='cython code score-11 '>    <span class='trace'>__Pyx_TraceLine</span>(2882,0,<span class='error_goto'>__PYX_ERR(0, 2882, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_valid_names, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2882, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_15 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_5) &gt; __pyx_t_15) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_5) : __pyx_t_15;
    __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_5);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_5);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 3, __pyx_t_5);
    __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__2);
    __pyx_t_7 += 1;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__2);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 4, __pyx_kp_u__2);
</pre><pre class="cython line score-0">&#xA0;<span class="">2883</span>:     else:</pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2884</span>:         available_estimators = _get_available_estimators(predefined_estimators)</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(2884,0,<span class='error_goto'>__PYX_ERR(0, 2884, __pyx_L1_error)</span>)
  /*else*/ {
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_get_available_estimators);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2884, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_5 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_v_predefined_estimators};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2884, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_v_available_estimators = __pyx_t_2;
    __pyx_t_2 = 0;
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2885</span>:         warning_msg = (f"Estimator {estimator_name!r} not found. "</pre>
<pre class='cython code score-26 '>    <span class='trace'>__Pyx_TraceLine</span>(2885,0,<span class='error_goto'>__PYX_ERR(0, 2885, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2885, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_7 = 0;
    __pyx_t_15 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Estimator);
    __pyx_t_7 += 10;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Estimator);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_kp_u_Estimator);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_v_estimator_name), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2885, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_15 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_1) &gt; __pyx_t_15) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_1) : __pyx_t_15;
    __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_1);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_1);
    __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_not_found_Expected_one_of);
    __pyx_t_7 += 29;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_not_found_Expected_one_of);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 2, __pyx_kp_u_not_found_Expected_one_of);
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(2885,0,<span class='error_goto'>__PYX_ERR(0, 2885, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_2, 5, __pyx_t_7, __pyx_t_15);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2885, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_v_warning_msg = ((PyObject*)__pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2886</span>:                        f"Expected one of: {available_estimators}.")</pre>
<pre class='cython code score-11 '>    <span class='trace'>__Pyx_TraceLine</span>(2886,0,<span class='error_goto'>__PYX_ERR(0, 2886, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_available_estimators, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2886, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_15 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_1) &gt; __pyx_t_15) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_1) : __pyx_t_15;
    __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_1);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 3, __pyx_t_1);
    __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__2);
    __pyx_t_7 += 1;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__2);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 4, __pyx_kp_u__2);
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2887</span>:         warnings.warn(warning_msg)</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(2887,0,<span class='error_goto'>__PYX_ERR(0, 2887, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_warnings);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2887, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_warn);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2887, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_warning_msg};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2887, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">2888</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2889</span>:     return None</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(2889,0,<span class='error_goto'>__PYX_ERR(0, 2889, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2890</span>: </pre>
<pre class="cython line score-30" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2891</span>: def _get_sklearn_estimator_names():</pre>
<pre class='cython code score-30 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_88_get_sklearn_estimator_names(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_88_get_sklearn_estimator_names = {"_get_sklearn_estimator_names", (PyCFunction)__pyx_pw_6gofast_5tools_9baseutils_88_get_sklearn_estimator_names, METH_NOARGS, 0};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_88_get_sklearn_estimator_names(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused) {
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_get_sklearn_estimator_names (wrapper)", 0);
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_VARARGS</span>(__pyx_args, __pyx_nargs);
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_87_get_sklearn_estimator_names(__pyx_self);

  /* function exit code */
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_87_get_sklearn_estimator_names(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_v_sklearn_estimators = NULL;
  PyObject *__pyx_9genexpr39__pyx_v_name = NULL;
  CYTHON_UNUSED PyObject *__pyx_9genexpr39__pyx_v__ = NULL;
  PyObject *__pyx_9genexpr40__pyx_v_name = NULL;
  CYTHON_UNUSED PyObject *__pyx_9genexpr40__pyx_v__ = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__97)
  <span class='trace'>__Pyx_TraceCall</span>("_get_sklearn_estimator_names", __pyx_f[0], 2891, 0, <span class='error_goto'>__PYX_ERR(0, 2891, __pyx_L1_error)</span>);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._get_sklearn_estimator_names", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_sklearn_estimators);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr39__pyx_v_name);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr39__pyx_v__);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr40__pyx_v_name);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr40__pyx_v__);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__206 = <span class='py_c_api'>PyTuple_Pack</span>(5, __pyx_n_s_sklearn_estimators, __pyx_n_s_name, __pyx_n_s__180, __pyx_n_s_name, __pyx_n_s__180);<span class='error_goto'> if (unlikely(!__pyx_tuple__206)) __PYX_ERR(0, 2891, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__206);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__206);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(2891,0,<span class='error_goto'>__PYX_ERR(0, 2891, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_88_get_sklearn_estimator_names, 0, __pyx_n_s_get_sklearn_estimator_names, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__97));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2891, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_get_sklearn_estimator_names, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2891, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_codeobj__97 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(0, 0, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__206, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_get_sklearn_estimator_names, 2891, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__97)) __PYX_ERR(0, 2891, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2892</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2893</span>:     # Retrieve all scikit-learn estimator names using all_estimators</pre>
<pre class="cython line score-121" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2894</span>:     sklearn_estimators = [name for name, _ in all_estimators(type_filter='classifier')]</pre>
<pre class='cython code score-121 '>  <span class='trace'>__Pyx_TraceLine</span>(2894,0,<span class='error_goto'>__PYX_ERR(0, 2894, __pyx_L1_error)</span>)
  { /* enter inner scope */
    __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2894, __pyx_L5_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_all_estimators);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2894, __pyx_L5_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2894, __pyx_L5_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_type_filter, __pyx_n_u_classifier) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2894, __pyx_L5_error)</span>
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_empty_tuple, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2894, __pyx_L5_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_4)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_4)) {
      __pyx_t_3 = __pyx_t_4; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      __pyx_t_5 = 0;
      __pyx_t_6 = NULL;
    } else {
      __pyx_t_5 = -1; __pyx_t_3 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2894, __pyx_L5_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2894, __pyx_L5_error)</span>
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    for (;;) {
      if (likely(!__pyx_t_6)) {
        if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_3))) {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_3);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2894, __pyx_L5_error)</span>
            #endif
            if (__pyx_t_5 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_3, __pyx_t_5); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_5++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2894, __pyx_L5_error)</span>
          #else
          __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_3, __pyx_t_5); __pyx_t_5++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2894, __pyx_L5_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
          #endif
        } else {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_3);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2894, __pyx_L5_error)</span>
            #endif
            if (__pyx_t_5 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_3, __pyx_t_5); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_5++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2894, __pyx_L5_error)</span>
          #else
          __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_3, __pyx_t_5); __pyx_t_5++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2894, __pyx_L5_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
          #endif
        }
      } else {
        __pyx_t_4 = __pyx_t_6(__pyx_t_3);
        if (unlikely(!__pyx_t_4)) {
          PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
          if (exc_type) {
            if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
            else <span class='error_goto'>__PYX_ERR(0, 2894, __pyx_L5_error)</span>
          }
          break;
        }
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      }
      if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_4))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_4))) {
        PyObject* sequence = __pyx_t_4;
        Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
        if (unlikely(size != 2)) {
          if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
          else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
          <span class='error_goto'>__PYX_ERR(0, 2894, __pyx_L5_error)</span>
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
          __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
          __pyx_t_7 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
        } else {
          __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
          __pyx_t_7 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
        }
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
        #else
        __pyx_t_2 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2894, __pyx_L5_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        __pyx_t_7 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2894, __pyx_L5_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        #endif
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      } else {
        Py_ssize_t index = -1;
        __pyx_t_8 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2894, __pyx_L5_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_8);
        index = 0; __pyx_t_2 = __pyx_t_9(__pyx_t_8); if (unlikely(!__pyx_t_2)) goto __pyx_L8_unpacking_failed;
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        index = 1; __pyx_t_7 = __pyx_t_9(__pyx_t_8); if (unlikely(!__pyx_t_7)) goto __pyx_L8_unpacking_failed;
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_9(__pyx_t_8), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2894, __pyx_L5_error)</span>
        __pyx_t_9 = NULL;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
        goto __pyx_L9_unpacking_done;
        __pyx_L8_unpacking_failed:;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
        __pyx_t_9 = NULL;
        if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
        <span class='error_goto'>__PYX_ERR(0, 2894, __pyx_L5_error)</span>
        __pyx_L9_unpacking_done:;
      }
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr39__pyx_v_name, __pyx_t_2);
      __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr39__pyx_v__, __pyx_t_7);
      __pyx_t_7 = 0;
      if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_1, (PyObject*)__pyx_9genexpr39__pyx_v_name))) <span class='error_goto'>__PYX_ERR(0, 2894, __pyx_L5_error)</span>
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr39__pyx_v__); __pyx_9genexpr39__pyx_v__ = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr39__pyx_v_name); __pyx_9genexpr39__pyx_v_name = 0;
    goto __pyx_L11_exit_scope;
    __pyx_L5_error:;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr39__pyx_v__); __pyx_9genexpr39__pyx_v__ = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr39__pyx_v_name); __pyx_9genexpr39__pyx_v_name = 0;
    goto __pyx_L1_error;
    __pyx_L11_exit_scope:;
  } /* exit inner scope */
  __pyx_v_sklearn_estimators = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-128" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2895</span>:     sklearn_estimators += [name for name, _ in all_estimators(type_filter='regressor')]</pre>
<pre class='cython code score-128 '>  <span class='trace'>__Pyx_TraceLine</span>(2895,0,<span class='error_goto'>__PYX_ERR(0, 2895, __pyx_L1_error)</span>)
  { /* enter inner scope */
    __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2895, __pyx_L14_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_all_estimators);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2895, __pyx_L14_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2895, __pyx_L14_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_type_filter, __pyx_n_u_regressor) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2895, __pyx_L14_error)</span>
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_empty_tuple, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2895, __pyx_L14_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_7)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_7)) {
      __pyx_t_4 = __pyx_t_7; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
      __pyx_t_5 = 0;
      __pyx_t_6 = NULL;
    } else {
      __pyx_t_5 = -1; __pyx_t_4 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2895, __pyx_L14_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2895, __pyx_L14_error)</span>
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    for (;;) {
      if (likely(!__pyx_t_6)) {
        if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_4))) {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_4);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2895, __pyx_L14_error)</span>
            #endif
            if (__pyx_t_5 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_7 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_4, __pyx_t_5); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7); __pyx_t_5++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2895, __pyx_L14_error)</span>
          #else
          __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_4, __pyx_t_5); __pyx_t_5++;<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2895, __pyx_L14_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
          #endif
        } else {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_4);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2895, __pyx_L14_error)</span>
            #endif
            if (__pyx_t_5 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_7 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_4, __pyx_t_5); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7); __pyx_t_5++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2895, __pyx_L14_error)</span>
          #else
          __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_4, __pyx_t_5); __pyx_t_5++;<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2895, __pyx_L14_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
          #endif
        }
      } else {
        __pyx_t_7 = __pyx_t_6(__pyx_t_4);
        if (unlikely(!__pyx_t_7)) {
          PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
          if (exc_type) {
            if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
            else <span class='error_goto'>__PYX_ERR(0, 2895, __pyx_L14_error)</span>
          }
          break;
        }
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      }
      if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_7))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_7))) {
        PyObject* sequence = __pyx_t_7;
        Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
        if (unlikely(size != 2)) {
          if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
          else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
          <span class='error_goto'>__PYX_ERR(0, 2895, __pyx_L14_error)</span>
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
          __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
          __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
        } else {
          __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
          __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
        }
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        #else
        __pyx_t_3 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2895, __pyx_L14_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        __pyx_t_2 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2895, __pyx_L14_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        #endif
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      } else {
        Py_ssize_t index = -1;
        __pyx_t_8 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2895, __pyx_L14_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_8);
        index = 0; __pyx_t_3 = __pyx_t_9(__pyx_t_8); if (unlikely(!__pyx_t_3)) goto __pyx_L17_unpacking_failed;
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        index = 1; __pyx_t_2 = __pyx_t_9(__pyx_t_8); if (unlikely(!__pyx_t_2)) goto __pyx_L17_unpacking_failed;
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_9(__pyx_t_8), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2895, __pyx_L14_error)</span>
        __pyx_t_9 = NULL;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
        goto __pyx_L18_unpacking_done;
        __pyx_L17_unpacking_failed:;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
        __pyx_t_9 = NULL;
        if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
        <span class='error_goto'>__PYX_ERR(0, 2895, __pyx_L14_error)</span>
        __pyx_L18_unpacking_done:;
      }
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr40__pyx_v_name, __pyx_t_3);
      __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr40__pyx_v__, __pyx_t_2);
      __pyx_t_2 = 0;
      if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_1, (PyObject*)__pyx_9genexpr40__pyx_v_name))) <span class='error_goto'>__PYX_ERR(0, 2895, __pyx_L14_error)</span>
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr40__pyx_v__); __pyx_9genexpr40__pyx_v__ = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr40__pyx_v_name); __pyx_9genexpr40__pyx_v_name = 0;
    goto __pyx_L20_exit_scope;
    __pyx_L14_error:;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr40__pyx_v__); __pyx_9genexpr40__pyx_v__ = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr40__pyx_v_name); __pyx_9genexpr40__pyx_v_name = 0;
    goto __pyx_L1_error;
    __pyx_L20_exit_scope:;
  } /* exit inner scope */
  __pyx_t_4 = <span class='py_c_api'>PyNumber_InPlaceAdd</span>(__pyx_v_sklearn_estimators, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2895, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_sklearn_estimators, ((PyObject*)__pyx_t_4));
  __pyx_t_4 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2896</span>:     return sklearn_estimators</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(2896,0,<span class='error_goto'>__PYX_ERR(0, 2896, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_sklearn_estimators);
  __pyx_r = __pyx_v_sklearn_estimators;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2897</span>: </pre>
<pre class="cython line score-57" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2898</span>: def _get_available_estimators(predefined_estimators):</pre>
<pre class='cython code score-57 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_90_get_available_estimators(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_90_get_available_estimators = {"_get_available_estimators", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_90_get_available_estimators, __Pyx_METH_FASTCALL|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_90_get_available_estimators(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_predefined_estimators = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_get_available_estimators (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_predefined_estimators,0};
  PyObject* values[1] = {0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_predefined_estimators)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2898, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_get_available_estimators") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2898, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 1)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
    }
    __pyx_v_predefined_estimators = values[0];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_get_available_estimators", 1, 1, 1, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2898, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._get_available_estimators", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_89_get_available_estimators(__pyx_self, __pyx_v_predefined_estimators);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_89_get_available_estimators(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_predefined_estimators) {
  PyObject *__pyx_v_sklearn_estimators = NULL;
  PyObject *__pyx_v_xgboost_estimators = NULL;
  PyObject *__pyx_v_available_estimators = NULL;
  PyObject *__pyx_9genexpr41__pyx_v_name = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__98)
  <span class='trace'>__Pyx_TraceCall</span>("_get_available_estimators", __pyx_f[0], 2898, 0, <span class='error_goto'>__PYX_ERR(0, 2898, __pyx_L1_error)</span>);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._get_available_estimators", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_sklearn_estimators);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_xgboost_estimators);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_available_estimators);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr41__pyx_v_name);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__207 = <span class='py_c_api'>PyTuple_Pack</span>(5, __pyx_n_s_predefined_estimators, __pyx_n_s_sklearn_estimators, __pyx_n_s_xgboost_estimators, __pyx_n_s_available_estimators, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_tuple__207)) __PYX_ERR(0, 2898, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__207);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__207);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(2898,0,<span class='error_goto'>__PYX_ERR(0, 2898, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_90_get_available_estimators, 0, __pyx_n_s_get_available_estimators, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__98));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2898, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_get_available_estimators, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2898, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_codeobj__98 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(1, 0, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__207, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_get_available_estimators, 2898, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__98)) __PYX_ERR(0, 2898, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2899</span>:     # Combine scikit-learn and predefined estimators</pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2900</span>:     sklearn_estimators = _get_sklearn_estimator_names()</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(2900,0,<span class='error_goto'>__PYX_ERR(0, 2900, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_get_sklearn_estimator_names);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2900, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2900, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_v_sklearn_estimators = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-67" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2901</span>:     xgboost_estimators = ['xgb' + name for name in predefined_estimators['xgb']]</pre>
<pre class='cython code score-67 '>  <span class='trace'>__Pyx_TraceLine</span>(2901,0,<span class='error_goto'>__PYX_ERR(0, 2901, __pyx_L1_error)</span>)
  { /* enter inner scope */
    __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2901, __pyx_L5_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Dict_GetItem</span>(__pyx_v_predefined_estimators, __pyx_n_u_xgb);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2901, __pyx_L5_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_2)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_2)) {
      __pyx_t_3 = __pyx_t_2; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      __pyx_t_5 = 0;
      __pyx_t_6 = NULL;
    } else {
      __pyx_t_5 = -1; __pyx_t_3 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2901, __pyx_L5_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2901, __pyx_L5_error)</span>
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    for (;;) {
      if (likely(!__pyx_t_6)) {
        if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_3))) {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_3);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2901, __pyx_L5_error)</span>
            #endif
            if (__pyx_t_5 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_3, __pyx_t_5); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_5++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2901, __pyx_L5_error)</span>
          #else
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_3, __pyx_t_5); __pyx_t_5++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2901, __pyx_L5_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          #endif
        } else {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_3);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2901, __pyx_L5_error)</span>
            #endif
            if (__pyx_t_5 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_3, __pyx_t_5); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_5++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2901, __pyx_L5_error)</span>
          #else
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_3, __pyx_t_5); __pyx_t_5++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2901, __pyx_L5_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          #endif
        }
      } else {
        __pyx_t_2 = __pyx_t_6(__pyx_t_3);
        if (unlikely(!__pyx_t_2)) {
          PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
          if (exc_type) {
            if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
            else <span class='error_goto'>__PYX_ERR(0, 2901, __pyx_L5_error)</span>
          }
          break;
        }
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      }
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr41__pyx_v_name, __pyx_t_2);
      __pyx_t_2 = 0;
      __pyx_t_2 = <span class='py_c_api'>PyNumber_Add</span>(__pyx_n_u_xgb, __pyx_9genexpr41__pyx_v_name);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2901, __pyx_L5_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_1, (PyObject*)__pyx_t_2))) <span class='error_goto'>__PYX_ERR(0, 2901, __pyx_L5_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr41__pyx_v_name); __pyx_9genexpr41__pyx_v_name = 0;
    goto __pyx_L9_exit_scope;
    __pyx_L5_error:;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr41__pyx_v_name); __pyx_9genexpr41__pyx_v_name = 0;
    goto __pyx_L1_error;
    __pyx_L9_exit_scope:;
  } /* exit inner scope */
  __pyx_v_xgboost_estimators = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2902</span>: </pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2903</span>:     available_estimators = sklearn_estimators + xgboost_estimators</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(2903,0,<span class='error_goto'>__PYX_ERR(0, 2903, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyNumber_Add</span>(__pyx_v_sklearn_estimators, __pyx_v_xgboost_estimators);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2903, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_available_estimators = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2904</span>:     return available_estimators</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(2904,0,<span class='error_goto'>__PYX_ERR(0, 2904, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_available_estimators);
  __pyx_r = __pyx_v_available_estimators;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2905</span>: </pre>
<pre class="cython line score-97" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2906</span>: def get_target(df, tname, inplace=True):</pre>
<pre class='cython code score-97 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_92get_target(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_91get_target, "\n    Extracts one or more target columns from a DataFrame and optionally\n    modifies the original DataFrame in place.\n\n    Parameters\n    ----------\n    df : pd.DataFrame\n        The DataFrame from which to extract the target(s).\n    tname : str or list of str\n        The name(s) of the target column(s) to extract. These must be present\n        in the DataFrame.\n    inplace : bool, optional\n        If True, the DataFrame is modified in place by removing the target\n        column(s). Defaults to True.\n\n    Returns\n    -------\n    tuple\n        A tuple containing:\n        - pd.Series or pd.DataFrame: The extracted target column(s).\n        - pd.DataFrame: The modified or unmodified DataFrame depending on the\n          `inplace` parameter.\n\n    Raises\n    ------\n    ValueError\n        If any of the specified target names are not in the DataFrame columns.\n    TypeError\n        If `df` is not a pandas DataFrame.\n\n    Examples\n    --------\n    &gt;&gt;&gt; from sklearn.datasets import load_iris\n    &gt;&gt;&gt; from gofast.baseutils import get_target \n    &gt;&gt;&gt; data = load_iris(as_frame=True).frame\n    &gt;&gt;&gt; targets, modified_df = get_target(data, 'target', inplace=False)\n    &gt;&gt;&gt; print(targets.head())\n    &gt;&gt;&gt; print(modified_df.columns)\n\n    Notes\n    -----\n    This function is particularly useful when preparing data for machine\n    learning models, where separating features from labels is a common task.\n\n    See Also\n    --------\n    extract_target : Similar function with enhanced capabilities for handling\n                     more complex scenarios.\n    \n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_92get_target = {"get_target", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_92get_target, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_91get_target};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_92get_target(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_df = 0;
  PyObject *__pyx_v_tname = 0;
  PyObject *__pyx_v_inplace = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("get_target (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_df,&amp;__pyx_n_s_tname,&amp;__pyx_n_s_inplace,0};
  PyObject* values[3] = {0,0,0};
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_True)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_df)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2906, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_tname)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2906, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("get_target", 0, 2, 3, 1); <span class='error_goto'>__PYX_ERR(0, 2906, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_inplace);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2906, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "get_target") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2906, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_df = values[0];
    __pyx_v_tname = values[1];
    __pyx_v_inplace = values[2];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("get_target", 0, 2, 3, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2906, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.get_target", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_91get_target(__pyx_self, __pyx_v_df, __pyx_v_tname, __pyx_v_inplace);

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_91get_target(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_df, PyObject *__pyx_v_tname, PyObject *__pyx_v_inplace) {
  PyObject *__pyx_v_missing_columns = NULL;
  PyObject *__pyx_v_target_data = NULL;
  PyObject *__pyx_9genexpr42__pyx_v_name = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__99)
  <span class='trace'>__Pyx_TraceCall</span>("get_target", __pyx_f[0], 2906, 0, <span class='error_goto'>__PYX_ERR(0, 2906, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_tname);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.get_target", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_missing_columns);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_target_data);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr42__pyx_v_name);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_tname);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__208 = <span class='py_c_api'>PyTuple_Pack</span>(6, __pyx_n_s_df, __pyx_n_s_tname, __pyx_n_s_inplace, __pyx_n_s_missing_columns, __pyx_n_s_target_data, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_tuple__208)) __PYX_ERR(0, 2906, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__208);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__208);
  __pyx_codeobj__99 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(3, 0, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__208, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_get_target, 2906, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__99)) __PYX_ERR(0, 2906, __pyx_L1_error)</span>
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(2906,0,<span class='error_goto'>__PYX_ERR(0, 2906, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_92get_target, 0, __pyx_n_s_get_target, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__99));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2906, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_3, __pyx_tuple__209);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_get_target, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2906, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_tuple__209 = <span class='py_c_api'>PyTuple_Pack</span>(1, ((PyObject *)Py_True));<span class='error_goto'> if (unlikely(!__pyx_tuple__209)) __PYX_ERR(0, 2906, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__209);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__209);
</pre><pre class="cython line score-0">&#xA0;<span class="">2907</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2908</span>:     Extracts one or more target columns from a DataFrame and optionally</pre>
<pre class="cython line score-0">&#xA0;<span class="">2909</span>:     modifies the original DataFrame in place.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2910</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2911</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">2912</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2913</span>:     df : pd.DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">2914</span>:         The DataFrame from which to extract the target(s).</pre>
<pre class="cython line score-0">&#xA0;<span class="">2915</span>:     tname : str or list of str</pre>
<pre class="cython line score-0">&#xA0;<span class="">2916</span>:         The name(s) of the target column(s) to extract. These must be present</pre>
<pre class="cython line score-0">&#xA0;<span class="">2917</span>:         in the DataFrame.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2918</span>:     inplace : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2919</span>:         If True, the DataFrame is modified in place by removing the target</pre>
<pre class="cython line score-0">&#xA0;<span class="">2920</span>:         column(s). Defaults to True.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2921</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2922</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">2923</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2924</span>:     tuple</pre>
<pre class="cython line score-0">&#xA0;<span class="">2925</span>:         A tuple containing:</pre>
<pre class="cython line score-0">&#xA0;<span class="">2926</span>:         - pd.Series or pd.DataFrame: The extracted target column(s).</pre>
<pre class="cython line score-0">&#xA0;<span class="">2927</span>:         - pd.DataFrame: The modified or unmodified DataFrame depending on the</pre>
<pre class="cython line score-0">&#xA0;<span class="">2928</span>:           `inplace` parameter.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2929</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2930</span>:     Raises</pre>
<pre class="cython line score-0">&#xA0;<span class="">2931</span>:     ------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2932</span>:     ValueError</pre>
<pre class="cython line score-0">&#xA0;<span class="">2933</span>:         If any of the specified target names are not in the DataFrame columns.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2934</span>:     TypeError</pre>
<pre class="cython line score-0">&#xA0;<span class="">2935</span>:         If `df` is not a pandas DataFrame.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2936</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2937</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">2938</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2939</span>:     &gt;&gt;&gt; from sklearn.datasets import load_iris</pre>
<pre class="cython line score-0">&#xA0;<span class="">2940</span>:     &gt;&gt;&gt; from gofast.baseutils import get_target</pre>
<pre class="cython line score-0">&#xA0;<span class="">2941</span>:     &gt;&gt;&gt; data = load_iris(as_frame=True).frame</pre>
<pre class="cython line score-0">&#xA0;<span class="">2942</span>:     &gt;&gt;&gt; targets, modified_df = get_target(data, 'target', inplace=False)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2943</span>:     &gt;&gt;&gt; print(targets.head())</pre>
<pre class="cython line score-0">&#xA0;<span class="">2944</span>:     &gt;&gt;&gt; print(modified_df.columns)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2945</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2946</span>:     Notes</pre>
<pre class="cython line score-0">&#xA0;<span class="">2947</span>:     -----</pre>
<pre class="cython line score-0">&#xA0;<span class="">2948</span>:     This function is particularly useful when preparing data for machine</pre>
<pre class="cython line score-0">&#xA0;<span class="">2949</span>:     learning models, where separating features from labels is a common task.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2950</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2951</span>:     See Also</pre>
<pre class="cython line score-0">&#xA0;<span class="">2952</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2953</span>:     extract_target : Similar function with enhanced capabilities for handling</pre>
<pre class="cython line score-0">&#xA0;<span class="">2954</span>:                      more complex scenarios.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2955</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2956</span>:     """</pre>
<pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2957</span>:     if not isinstance(df, pd.DataFrame):</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(2957,0,<span class='error_goto'>__PYX_ERR(0, 2957, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2957, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2957, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_df, __pyx_t_2);<span class='error_goto'> if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(0, 2957, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_4 = (!__pyx_t_3);
  if (unlikely(__pyx_t_4)) {
/* â€¦ */
  }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2958</span>:         raise TypeError("Input 'df' must be a pandas DataFrame.")</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(2958,0,<span class='error_goto'>__PYX_ERR(0, 2958, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_TypeError, __pyx_tuple__100, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2958, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='error_goto'>__PYX_ERR(0, 2958, __pyx_L1_error)</span>
/* â€¦ */
  __pyx_tuple__100 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Input_df_must_be_a_pandas_DataFr);<span class='error_goto'> if (unlikely(!__pyx_tuple__100)) __PYX_ERR(0, 2958, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__100);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__100);
</pre><pre class="cython line score-0">&#xA0;<span class="">2959</span>: </pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2960</span>:     if isinstance(tname, str):</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(2960,0,<span class='error_goto'>__PYX_ERR(0, 2960, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_tname); 
  if (__pyx_t_4) {
/* â€¦ */
  }
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2961</span>:         tname = [tname]  # Convert string to list for uniform processing</pre>
<pre class='cython code score-9 '>    <span class='trace'>__Pyx_TraceLine</span>(2961,0,<span class='error_goto'>__PYX_ERR(0, 2961, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2961, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_tname);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_tname);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_tname)) <span class='error_goto'>__PYX_ERR(0, 2961, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_tname, __pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2962</span>: </pre>
<pre class="cython line score-63" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2963</span>:     missing_columns = [name for name in tname if name not in df.columns]</pre>
<pre class='cython code score-63 '>  <span class='trace'>__Pyx_TraceLine</span>(2963,0,<span class='error_goto'>__PYX_ERR(0, 2963, __pyx_L1_error)</span>)
  { /* enter inner scope */
    __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2963, __pyx_L7_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_tname)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_tname)) {
      __pyx_t_1 = __pyx_v_tname; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      __pyx_t_5 = 0;
      __pyx_t_6 = NULL;
    } else {
      __pyx_t_5 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_tname);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2963, __pyx_L7_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2963, __pyx_L7_error)</span>
    }
    for (;;) {
      if (likely(!__pyx_t_6)) {
        if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2963, __pyx_L7_error)</span>
            #endif
            if (__pyx_t_5 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_7 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_5); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7); __pyx_t_5++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2963, __pyx_L7_error)</span>
          #else
          __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_5); __pyx_t_5++;<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2963, __pyx_L7_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
          #endif
        } else {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2963, __pyx_L7_error)</span>
            #endif
            if (__pyx_t_5 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_7 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_5); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7); __pyx_t_5++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2963, __pyx_L7_error)</span>
          #else
          __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_5); __pyx_t_5++;<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2963, __pyx_L7_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
          #endif
        }
      } else {
        __pyx_t_7 = __pyx_t_6(__pyx_t_1);
        if (unlikely(!__pyx_t_7)) {
          PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
          if (exc_type) {
            if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
            else <span class='error_goto'>__PYX_ERR(0, 2963, __pyx_L7_error)</span>
          }
          break;
        }
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      }
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr42__pyx_v_name, __pyx_t_7);
      __pyx_t_7 = 0;
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_df, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2963, __pyx_L7_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_9genexpr42__pyx_v_name, __pyx_t_7, Py_NE)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2963, __pyx_L7_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      if (__pyx_t_4) {
        if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_2, (PyObject*)__pyx_9genexpr42__pyx_v_name))) <span class='error_goto'>__PYX_ERR(0, 2963, __pyx_L7_error)</span>
      }
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr42__pyx_v_name); __pyx_9genexpr42__pyx_v_name = 0;
    goto __pyx_L12_exit_scope;
    __pyx_L7_error:;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr42__pyx_v_name); __pyx_9genexpr42__pyx_v_name = 0;
    goto __pyx_L1_error;
    __pyx_L12_exit_scope:;
  } /* exit inner scope */
  __pyx_v_missing_columns = ((PyObject*)__pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2964</span>:     if missing_columns:</pre>
<pre class='cython code score-1 '>  <span class='trace'>__Pyx_TraceLine</span>(2964,0,<span class='error_goto'>__PYX_ERR(0, 2964, __pyx_L1_error)</span>)
  __pyx_t_4 = (<span class='py_macro_api'>PyList_GET_SIZE</span>(__pyx_v_missing_columns) != 0);
  if (unlikely(__pyx_t_4)) {
/* â€¦ */
  }
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2965</span>:         raise ValueError(</pre>
<pre class='cython code score-6 '>    <span class='trace'>__Pyx_TraceLine</span>(2965,0,<span class='error_goto'>__PYX_ERR(0, 2965, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2965, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='error_goto'>__PYX_ERR(0, 2965, __pyx_L1_error)</span>
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2966</span>:             f"Target name(s) not found in DataFrame columns: {missing_columns}")</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(2966,0,<span class='error_goto'>__PYX_ERR(0, 2966, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_missing_columns, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2966, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_kp_u_Target_name_s_not_found_in_DataF, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2966, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2967</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2968</span>:     target_data = df[tname]</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(2968,0,<span class='error_goto'>__PYX_ERR(0, 2968, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_df, __pyx_v_tname);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2968, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_v_target_data = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2969</span>:     if inplace:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(2969,0,<span class='error_goto'>__PYX_ERR(0, 2969, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_inplace); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2969, __pyx_L1_error)</span>
  if (__pyx_t_4) {
/* â€¦ */
  }
</pre><pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2970</span>:         df.drop(tname, axis=1, inplace=True)</pre>
<pre class='cython code score-28 '>    <span class='trace'>__Pyx_TraceLine</span>(2970,0,<span class='error_goto'>__PYX_ERR(0, 2970, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_df, __pyx_n_s_drop);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2970, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2970, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_tname);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_tname);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_tname)) <span class='error_goto'>__PYX_ERR(0, 2970, __pyx_L1_error)</span>;
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2970, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_7, __pyx_n_s_axis, __pyx_int_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2970, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_7, __pyx_n_s_inplace, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2970, __pyx_L1_error)</span>
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_1, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2970, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2971</span>: </pre>
<pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2972</span>:     return target_data, df</pre>
<pre class='cython code score-12 '>  <span class='trace'>__Pyx_TraceLine</span>(2972,0,<span class='error_goto'>__PYX_ERR(0, 2972, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_8 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2972, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_data);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target_data);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_8, 0, __pyx_v_target_data)) <span class='error_goto'>__PYX_ERR(0, 2972, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_df);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_df);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_8, 1, __pyx_v_df)) <span class='error_goto'>__PYX_ERR(0, 2972, __pyx_L1_error)</span>;
  __pyx_r = __pyx_t_8;
  __pyx_t_8 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2973</span>: </pre>
<pre class="cython line score-128" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2974</span>: @Dataify(auto_columns=True )</pre>
<pre class='cython code score-128 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_94binning_statistic(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_93binning_statistic, "\n    Compute a statistic for each category in a categorical column of a dataset.\n\n    This function categorizes the data into bins based on a categorical variable and then\n    applies a statistical function to the values of another column for each category.\n\n    Parameters\n    ----------\n    data : DataFrame\n        Pandas DataFrame containing the dataset.\n    categorical_column : str\n        Name of the column in `data` which contains the categorical variable.\n    value_column : str\n        Name of the column in `data` from which the statistic will be calculated.\n    statistic : str, optional\n        The statistic to compute (default is 'mean'). Other options include \n        'sum', 'count','median', 'min', 'max', etc.\n\n    Returns\n    -------\n    result : DataFrame\n        A DataFrame with each category and the corresponding computed statistic.\n\n    Examples\n    --------\n    &gt;&gt;&gt; import pandas as pd \n    &gt;&gt;&gt; from gofast.tools.baseutils import binning_statistic\n    &gt;&gt;&gt; df = pd.DataFrame({\n    ...     'Category': ['A', 'B', 'A', 'C', 'B', 'A', 'C'],\n    ...     'Value': [1, 2, 3, 4, 5, 6, 7]\n    ... })\n    &gt;&gt;&gt; binning_statistic(df, 'Category', 'Value', statistic='mean')\n       Category  Mean_Value\n    0        A         3.33\n    1        B         3.50\n    2        C         5.50\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_94binning_statistic = {"binning_statistic", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_94binning_statistic, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_93binning_statistic};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_94binning_statistic(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_data = 0;
  PyObject *__pyx_v_categorical_column = 0;
  PyObject *__pyx_v_value_column = 0;
  PyObject *__pyx_v_statistic = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("binning_statistic (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_data,&amp;__pyx_n_s_categorical_column,&amp;__pyx_n_s_value_column,&amp;__pyx_n_s_statistic,0};
  PyObject* values[4] = {0,0,0,0};
    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_n_u_mean)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2974, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_categorical_column)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2974, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("binning_statistic", 0, 3, 4, 1); <span class='error_goto'>__PYX_ERR(0, 2974, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (likely((values[2] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_value_column)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[2]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2974, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("binning_statistic", 0, 3, 4, 2); <span class='error_goto'>__PYX_ERR(0, 2974, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_statistic);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2974, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "binning_statistic") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2974, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_data = values[0];
    __pyx_v_categorical_column = values[1];
    __pyx_v_value_column = values[2];
    __pyx_v_statistic = values[3];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("binning_statistic", 0, 3, 4, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2974, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.binning_statistic", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_93binning_statistic(__pyx_self, __pyx_v_data, __pyx_v_categorical_column, __pyx_v_value_column, __pyx_v_statistic);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_93binning_statistic(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_data, PyObject *__pyx_v_categorical_column, PyObject *__pyx_v_value_column, PyObject *__pyx_v_statistic) {
  PyObject *__pyx_v_grouped_data = NULL;
  PyObject *__pyx_v_result = NULL;
  PyObject *__pyx_v_total_count = NULL;
  PyObject *__pyx_v_proportion = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__101)
  <span class='trace'>__Pyx_TraceCall</span>("binning_statistic", __pyx_f[0], 2974, 0, <span class='error_goto'>__PYX_ERR(0, 2974, __pyx_L1_error)</span>);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.binning_statistic", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_grouped_data);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_result);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_total_count);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_proportion);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(2974,0,<span class='error_goto'>__PYX_ERR(0, 2974, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_Dataify);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2974, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2974, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_auto_columns, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2974, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_empty_tuple, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2974, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
/* â€¦ */
  __pyx_tuple__210 = <span class='py_c_api'>PyTuple_Pack</span>(8, __pyx_n_s_data, __pyx_n_s_categorical_column, __pyx_n_s_value_column, __pyx_n_s_statistic, __pyx_n_s_grouped_data, __pyx_n_s_result, __pyx_n_s_total_count, __pyx_n_s_proportion);<span class='error_goto'> if (unlikely(!__pyx_tuple__210)) __PYX_ERR(0, 2974, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__210);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__210);
  __pyx_codeobj__101 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(4, 0, 0, 8, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__210, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_binning_statistic, 2974, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__101)) __PYX_ERR(0, 2974, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_94binning_statistic, 0, __pyx_n_s_binning_statistic, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__101));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2974, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_2, __pyx_tuple__211);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_t_4, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2974, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_binning_statistic, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2974, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_tuple__211 = <span class='py_c_api'>PyTuple_Pack</span>(1, ((PyObject*)__pyx_n_u_mean));<span class='error_goto'> if (unlikely(!__pyx_tuple__211)) __PYX_ERR(0, 2974, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__211);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__211);
</pre><pre class="cython line score-0">&#xA0;<span class="">2975</span>: def binning_statistic(</pre>
<pre class="cython line score-0">&#xA0;<span class="">2976</span>:     data, categorical_column,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2977</span>:     value_column,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2978</span>:     statistic='mean'</pre>
<pre class="cython line score-0">&#xA0;<span class="">2979</span>:     ):</pre>
<pre class="cython line score-0">&#xA0;<span class="">2980</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2981</span>:     Compute a statistic for each category in a categorical column of a dataset.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2982</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2983</span>:     This function categorizes the data into bins based on a categorical variable and then</pre>
<pre class="cython line score-0">&#xA0;<span class="">2984</span>:     applies a statistical function to the values of another column for each category.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2985</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2986</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">2987</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2988</span>:     data : DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">2989</span>:         Pandas DataFrame containing the dataset.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2990</span>:     categorical_column : str</pre>
<pre class="cython line score-0">&#xA0;<span class="">2991</span>:         Name of the column in `data` which contains the categorical variable.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2992</span>:     value_column : str</pre>
<pre class="cython line score-0">&#xA0;<span class="">2993</span>:         Name of the column in `data` from which the statistic will be calculated.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2994</span>:     statistic : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2995</span>:         The statistic to compute (default is 'mean'). Other options include</pre>
<pre class="cython line score-0">&#xA0;<span class="">2996</span>:         'sum', 'count','median', 'min', 'max', etc.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2997</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2998</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">2999</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3000</span>:     result : DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">3001</span>:         A DataFrame with each category and the corresponding computed statistic.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3002</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3003</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">3004</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3005</span>:     &gt;&gt;&gt; import pandas as pd</pre>
<pre class="cython line score-0">&#xA0;<span class="">3006</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import binning_statistic</pre>
<pre class="cython line score-0">&#xA0;<span class="">3007</span>:     &gt;&gt;&gt; df = pd.DataFrame({</pre>
<pre class="cython line score-0">&#xA0;<span class="">3008</span>:     ...     'Category': ['A', 'B', 'A', 'C', 'B', 'A', 'C'],</pre>
<pre class="cython line score-0">&#xA0;<span class="">3009</span>:     ...     'Value': [1, 2, 3, 4, 5, 6, 7]</pre>
<pre class="cython line score-0">&#xA0;<span class="">3010</span>:     ... })</pre>
<pre class="cython line score-0">&#xA0;<span class="">3011</span>:     &gt;&gt;&gt; binning_statistic(df, 'Category', 'Value', statistic='mean')</pre>
<pre class="cython line score-0">&#xA0;<span class="">3012</span>:        Category  Mean_Value</pre>
<pre class="cython line score-0">&#xA0;<span class="">3013</span>:     0        A         3.33</pre>
<pre class="cython line score-0">&#xA0;<span class="">3014</span>:     1        B         3.50</pre>
<pre class="cython line score-0">&#xA0;<span class="">3015</span>:     2        C         5.50</pre>
<pre class="cython line score-0">&#xA0;<span class="">3016</span>:     """</pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3017</span>:     if statistic not in ('mean', 'sum', 'count', 'median', 'min',</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(3017,0,<span class='error_goto'>__PYX_ERR(0, 3017, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_statistic);
  __pyx_t_1 = __pyx_v_statistic;
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_1, __pyx_n_u_mean, Py_NE)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3017, __pyx_L1_error)</span>
  if (__pyx_t_3) {
  } else {
    __pyx_t_2 = __pyx_t_3;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_1, __pyx_n_u_sum, Py_NE)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3017, __pyx_L1_error)</span>
  if (__pyx_t_3) {
  } else {
    __pyx_t_2 = __pyx_t_3;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_1, __pyx_n_u_count, Py_NE)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3017, __pyx_L1_error)</span>
  if (__pyx_t_3) {
  } else {
    __pyx_t_2 = __pyx_t_3;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_1, __pyx_n_u_median, Py_NE)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3017, __pyx_L1_error)</span>
  if (__pyx_t_3) {
  } else {
    __pyx_t_2 = __pyx_t_3;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_1, __pyx_n_u_min, Py_NE)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3017, __pyx_L1_error)</span>
  if (__pyx_t_3) {
  } else {
    __pyx_t_2 = __pyx_t_3;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_1, __pyx_n_u_max, Py_NE)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3017, __pyx_L1_error)</span>
  if (__pyx_t_3) {
  } else {
    __pyx_t_2 = __pyx_t_3;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_1, __pyx_n_u_proportion, Py_NE)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3017, __pyx_L1_error)</span>
  __pyx_t_2 = __pyx_t_3;
  __pyx_L4_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = __pyx_t_2;
  if (unlikely(__pyx_t_3)) {
/* â€¦ */
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">3018</span>:                          'max', 'proportion'):</pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3019</span>:         raise ValueError(</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(3019,0,<span class='error_goto'>__PYX_ERR(0, 3019, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__102, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3019, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_1, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='error_goto'>__PYX_ERR(0, 3019, __pyx_L1_error)</span>
/* â€¦ */
  __pyx_tuple__102 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Unsupported_statistic_Please_cho);<span class='error_goto'> if (unlikely(!__pyx_tuple__102)) __PYX_ERR(0, 3019, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__102);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__102);
</pre><pre class="cython line score-0">&#xA0;<span class="">3020</span>:             "Unsupported statistic. Please choose from 'mean',"</pre>
<pre class="cython line score-0">&#xA0;<span class="">3021</span>:             " 'sum', 'count', 'median', 'min', 'max', 'proportion'.")</pre>
<pre class="cython line score-0">&#xA0;<span class="">3022</span>: </pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3023</span>:     is_categorical(data, categorical_column)</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(3023,0,<span class='error_goto'>__PYX_ERR(0, 3023, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_is_categorical);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3023, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_5 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
    __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
    if (likely(__pyx_t_5)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_5, __pyx_v_data, __pyx_v_categorical_column};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_6, 2+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3023, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3024</span>:     exist_features(data, features =value_column, name ="value_column")</pre>
<pre class='cython code score-28 '>  <span class='trace'>__Pyx_TraceLine</span>(3024,0,<span class='error_goto'>__PYX_ERR(0, 3024, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_exist_features);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3024, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3024, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_v_data)) <span class='error_goto'>__PYX_ERR(0, 3024, __pyx_L1_error)</span>;
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3024, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_features, __pyx_v_value_column) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3024, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_name, __pyx_n_u_value_column) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3024, __pyx_L1_error)</span>
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_4, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3024, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3025</span>:     grouped_data = data.groupby(categorical_column)[value_column]</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(3025,0,<span class='error_goto'>__PYX_ERR(0, 3025, __pyx_L1_error)</span>)
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_groupby);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3025, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_4 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
    __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
    if (likely(__pyx_t_4)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_v_categorical_column};
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (unlikely(!__pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 3025, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  }
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_t_7, __pyx_v_value_column);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3025, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  __pyx_v_grouped_data = __pyx_t_5;
  __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3026</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3027</span>:     if statistic == 'mean':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3027,0,<span class='error_goto'>__PYX_ERR(0, 3027, __pyx_L1_error)</span>)
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_statistic, __pyx_n_u_mean, Py_EQ)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3027, __pyx_L1_error)</span>
  if (__pyx_t_3) {
/* â€¦ */
    goto __pyx_L11;
  }
</pre><pre class="cython line score-36" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3028</span>:         result = grouped_data.mean().reset_index(name=f'Mean_{value_column}')</pre>
<pre class='cython code score-36 '>    <span class='trace'>__Pyx_TraceLine</span>(3028,0,<span class='error_goto'>__PYX_ERR(0, 3028, __pyx_L1_error)</span>)
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_grouped_data, __pyx_n_s_mean);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3028, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_4 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
      __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
      if (likely(__pyx_t_4)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_4, NULL};
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 3028, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    }
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_reset_index);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3028, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3028, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_value_column, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3028, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_n_u_Mean, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3028, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_name, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3028, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_7, __pyx_empty_tuple, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3028, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_v_result = __pyx_t_1;
    __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3029</span>:     elif statistic == 'sum':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3029,0,<span class='error_goto'>__PYX_ERR(0, 3029, __pyx_L1_error)</span>)
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_statistic, __pyx_n_u_sum, Py_EQ)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3029, __pyx_L1_error)</span>
  if (__pyx_t_3) {
/* â€¦ */
    goto __pyx_L11;
  }
</pre><pre class="cython line score-36" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3030</span>:         result = grouped_data.sum().reset_index(name=f'Sum_{value_column}')</pre>
<pre class='cython code score-36 '>    <span class='trace'>__Pyx_TraceLine</span>(3030,0,<span class='error_goto'>__PYX_ERR(0, 3030, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_grouped_data, __pyx_n_s_sum);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3030, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_7 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_7)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_7, NULL};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3030, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_reset_index);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3030, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3030, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_value_column, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3030, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_n_u_Sum, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3030, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_name, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3030, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_empty_tuple, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3030, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_v_result = __pyx_t_4;
    __pyx_t_4 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3031</span>:     elif statistic == 'count':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3031,0,<span class='error_goto'>__PYX_ERR(0, 3031, __pyx_L1_error)</span>)
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_statistic, __pyx_n_u_count, Py_EQ)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3031, __pyx_L1_error)</span>
  if (__pyx_t_3) {
/* â€¦ */
    goto __pyx_L11;
  }
</pre><pre class="cython line score-36" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3032</span>:         result = grouped_data.count().reset_index(name=f'Count_{value_column}')</pre>
<pre class='cython code score-36 '>    <span class='trace'>__Pyx_TraceLine</span>(3032,0,<span class='error_goto'>__PYX_ERR(0, 3032, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_grouped_data, __pyx_n_s_count);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3032, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_5 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_5, NULL};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 3032, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_reset_index);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3032, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3032, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_value_column, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3032, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_n_u_Count, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3032, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_name, __pyx_t_7) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3032, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_empty_tuple, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3032, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_v_result = __pyx_t_7;
    __pyx_t_7 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3033</span>:     elif statistic == 'median':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3033,0,<span class='error_goto'>__PYX_ERR(0, 3033, __pyx_L1_error)</span>)
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_statistic, __pyx_n_u_median, Py_EQ)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3033, __pyx_L1_error)</span>
  if (__pyx_t_3) {
/* â€¦ */
    goto __pyx_L11;
  }
</pre><pre class="cython line score-36" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3034</span>:         result = grouped_data.median().reset_index(name=f'Median_{value_column}')</pre>
<pre class='cython code score-36 '>    <span class='trace'>__Pyx_TraceLine</span>(3034,0,<span class='error_goto'>__PYX_ERR(0, 3034, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_grouped_data, __pyx_n_s_median);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3034, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_1 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, NULL};
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 3034, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    }
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_7, __pyx_n_s_reset_index);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3034, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3034, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_value_column, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3034, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_n_u_Median, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3034, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_7, __pyx_n_s_name, __pyx_t_5) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3034, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_4, __pyx_empty_tuple, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3034, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_v_result = __pyx_t_5;
    __pyx_t_5 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3035</span>:     elif statistic == 'min':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3035,0,<span class='error_goto'>__PYX_ERR(0, 3035, __pyx_L1_error)</span>)
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_statistic, __pyx_n_u_min, Py_EQ)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3035, __pyx_L1_error)</span>
  if (__pyx_t_3) {
/* â€¦ */
    goto __pyx_L11;
  }
</pre><pre class="cython line score-36" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3036</span>:         result = grouped_data.min().reset_index(name=f'Min_{value_column}')</pre>
<pre class='cython code score-36 '>    <span class='trace'>__Pyx_TraceLine</span>(3036,0,<span class='error_goto'>__PYX_ERR(0, 3036, __pyx_L1_error)</span>)
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_grouped_data, __pyx_n_s_min);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3036, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_4 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
      __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
      if (likely(__pyx_t_4)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_4, NULL};
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 3036, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    }
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_reset_index);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3036, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3036, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_value_column, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3036, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_n_u_Min, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3036, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_name, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3036, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_7, __pyx_empty_tuple, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3036, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_v_result = __pyx_t_1;
    __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3037</span>:     elif statistic == 'max':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3037,0,<span class='error_goto'>__PYX_ERR(0, 3037, __pyx_L1_error)</span>)
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_statistic, __pyx_n_u_max, Py_EQ)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3037, __pyx_L1_error)</span>
  if (__pyx_t_3) {
/* â€¦ */
    goto __pyx_L11;
  }
</pre><pre class="cython line score-36" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3038</span>:         result = grouped_data.max().reset_index(name=f'Max_{value_column}')</pre>
<pre class='cython code score-36 '>    <span class='trace'>__Pyx_TraceLine</span>(3038,0,<span class='error_goto'>__PYX_ERR(0, 3038, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_grouped_data, __pyx_n_s_max);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3038, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_7 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_7)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_7, NULL};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3038, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_reset_index);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3038, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3038, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_value_column, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3038, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_n_u_Max, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3038, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_name, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3038, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_empty_tuple, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3038, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_v_result = __pyx_t_4;
    __pyx_t_4 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3039</span>:     elif statistic == 'proportion':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3039,0,<span class='error_goto'>__PYX_ERR(0, 3039, __pyx_L1_error)</span>)
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_statistic, __pyx_n_u_proportion, Py_EQ)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3039, __pyx_L1_error)</span>
  if (__pyx_t_3) {
/* â€¦ */
  }
  __pyx_L11:;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3040</span>:         total_count = data[value_column].count()</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(3040,0,<span class='error_goto'>__PYX_ERR(0, 3040, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_v_value_column);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3040, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_count);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3040, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, NULL};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 3040, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    __pyx_v_total_count = __pyx_t_4;
    __pyx_t_4 = 0;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3041</span>:         proportion = grouped_data.sum() / total_count</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(3041,0,<span class='error_goto'>__PYX_ERR(0, 3041, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_grouped_data, __pyx_n_s_sum);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3041, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_1 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, NULL};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 3041, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyNumber_Divide</span>(__pyx_t_4, __pyx_v_total_count);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3041, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_v_proportion = __pyx_t_5;
    __pyx_t_5 = 0;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3042</span>:         result = proportion.reset_index(name=f'Proportion_{value_column}')</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(3042,0,<span class='error_goto'>__PYX_ERR(0, 3042, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_proportion, __pyx_n_s_reset_index);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3042, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3042, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_value_column, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3042, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_n_u_Proportion, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3042, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_name, __pyx_t_7) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3042, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_empty_tuple, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3042, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_v_result = __pyx_t_7;
    __pyx_t_7 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3043</span>: </pre>
<pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3044</span>:     return result</pre>
<pre class='cython code score-4 '>  <span class='trace'>__Pyx_TraceLine</span>(3044,0,<span class='error_goto'>__PYX_ERR(0, 3044, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  if (unlikely(!__pyx_v_result)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("result"); <span class='error_goto'>__PYX_ERR(0, 3044, __pyx_L1_error)</span> }
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_result);
  __pyx_r = __pyx_v_result;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3045</span>: </pre>
<pre class="cython line score-105" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3046</span>: @Dataify(auto_columns=True)</pre>
<pre class='cython code score-105 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_96category_count(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_95category_count, "\n    Count occurrences of each category in one or more categorical columns \n    of a dataset.\n    \n    This function computes the frequency of each unique category in the specified\n    categorical columns of a pandas DataFrame and handles different ways of error\n    reporting including raising an error, warning, or ignoring the error when a\n    specified column is not found.\n\n    Parameters\n    ----------\n    data : DataFrame\n        Pandas DataFrame containing the dataset.\n    *categorical_columns : str\n        One or multiple names of the columns in `data` which contain the \n        categorical variables.\n    error : str, optional\n        Error handling strategy - 'raise' (default), 'warn', or 'ignore' which\n        dictates the action when a categorical column is not found.\n\n    Returns\n    -------\n    counts : DataFrame\n        A DataFrame with each category and the corresponding count from each\n        categorical column. If multiple columns are provided, columns are named as\n        'Category_i' and 'Count_i'.\n\n    Raises\n    ------\n    ValueError\n        If any categorical column is not found in the DataFrame and error is 'raise'.\n\n    Examples\n    --------\n    &gt;&gt;&gt; import pandas as pd \n    &gt;&gt;&gt; from gofast.tools.baseutils import category_count\n    &gt;&gt;&gt; df = pd.DataFrame({\n    ...     'Fruit': ['Apple', 'Banana', 'Apple', 'Cherry', 'Banana', 'Apple'],\n    ...     'Color': ['Red', 'Yellow', 'Green', 'Red', 'Yellow', 'Green']\n    ... })\n    &gt;&gt;&gt; category_count(df, 'Fruit', 'Color')\n       Category_1  Count_1 Category_2  Count_2\n    0      Apple        3        Red        2\n    1     Banana        2     Yellow        2\n    2     Cherry        1      Green        2\n    &gt;&gt;&gt; category_count(df, 'NonExistentColumn', error='warn')\n    Warning: Column 'NonExistentColumn' not found in the dataframe.\n    Empty DataFrame\n    Columns: []\n    Index: []\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_96category_count = {"category_count", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_96category_count, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_95category_count};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_96category_count(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_data = 0;
  PyObject *__pyx_v_error = 0;
  PyObject *__pyx_v_categorical_columns = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("category_count (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  __pyx_v_categorical_columns = <span class='pyx_c_api'>__Pyx_ArgsSlice_FASTCALL</span>(__pyx_args, 1, __pyx_nargs);
  if (unlikely(!__pyx_v_categorical_columns)) {
    <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
    return NULL;
  }
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_v_categorical_columns);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_data,&amp;__pyx_n_s_error,0};
  PyObject* values[2] = {0,0};
    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_n_u_raise)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        default:
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3046, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
      }
      if (kw_args == 1) {
        const Py_ssize_t index = 1;
        PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, *__pyx_pyargnames[index]);
        if (value) { values[index] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3046, __pyx_L3_error)</span>
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        const Py_ssize_t used_pos_args = (kwd_pos_args &lt; 1) ? kwd_pos_args : 1;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, used_pos_args, "category_count") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 3046, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs &lt; 1)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
    }
    __pyx_v_data = values[0];
    __pyx_v_error = values[1];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("category_count", 0, 1, 1, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 3046, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_categorical_columns); __pyx_v_categorical_columns = 0;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.category_count", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_95category_count(__pyx_self, __pyx_v_data, __pyx_v_error, __pyx_v_categorical_columns);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_categorical_columns);
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
static PyObject *__pyx_pf_6gofast_5tools_9baseutils_95category_count(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_data, PyObject *__pyx_v_error, PyObject *__pyx_v_categorical_columns) {
  PyObject *__pyx_v_results = NULL;
  PyObject *__pyx_v_i = NULL;
  PyObject *__pyx_v_column = NULL;
  PyObject *__pyx_v_message = NULL;
  PyObject *__pyx_v_count = NULL;
  PyObject *__pyx_v_final_df = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__103)
  <span class='trace'>__Pyx_TraceCall</span>("category_count", __pyx_f[0], 3046, 0, <span class='error_goto'>__PYX_ERR(0, 3046, __pyx_L1_error)</span>);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.category_count", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_results);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_i);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_column);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_message);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_count);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_final_df);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(3046,0,<span class='error_goto'>__PYX_ERR(0, 3046, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_Dataify);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3046, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3046, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_auto_columns, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3046, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_empty_tuple, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3046, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
/* â€¦ */
  __pyx_tuple__212 = <span class='py_c_api'>PyTuple_Pack</span>(9, __pyx_n_s_data, __pyx_n_s_error, __pyx_n_s_categorical_columns, __pyx_n_s_results, __pyx_n_s_i, __pyx_n_s_column, __pyx_n_s_message, __pyx_n_s_count, __pyx_n_s_final_df);<span class='error_goto'> if (unlikely(!__pyx_tuple__212)) __PYX_ERR(0, 3046, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__212);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__212);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3046, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_error, ((PyObject*)__pyx_n_u_raise)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3046, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_96category_count, 0, __pyx_n_s_category_count, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__103));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3046, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsKwDict</span>(__pyx_t_3, __pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_t_4, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3046, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_category_count, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3046, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_codeobj__103 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(1, 0, 1, 9, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARARGS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__212, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_category_count, 3046, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__103)) __PYX_ERR(0, 3046, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3047</span>: def category_count(data,  *categorical_columns, error='raise'):</pre>
<pre class="cython line score-0">&#xA0;<span class="">3048</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">3049</span>:     Count occurrences of each category in one or more categorical columns</pre>
<pre class="cython line score-0">&#xA0;<span class="">3050</span>:     of a dataset.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3051</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3052</span>:     This function computes the frequency of each unique category in the specified</pre>
<pre class="cython line score-0">&#xA0;<span class="">3053</span>:     categorical columns of a pandas DataFrame and handles different ways of error</pre>
<pre class="cython line score-0">&#xA0;<span class="">3054</span>:     reporting including raising an error, warning, or ignoring the error when a</pre>
<pre class="cython line score-0">&#xA0;<span class="">3055</span>:     specified column is not found.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3056</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3057</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">3058</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3059</span>:     data : DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">3060</span>:         Pandas DataFrame containing the dataset.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3061</span>:     *categorical_columns : str</pre>
<pre class="cython line score-0">&#xA0;<span class="">3062</span>:         One or multiple names of the columns in `data` which contain the</pre>
<pre class="cython line score-0">&#xA0;<span class="">3063</span>:         categorical variables.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3064</span>:     error : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3065</span>:         Error handling strategy - 'raise' (default), 'warn', or 'ignore' which</pre>
<pre class="cython line score-0">&#xA0;<span class="">3066</span>:         dictates the action when a categorical column is not found.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3067</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3068</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">3069</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3070</span>:     counts : DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">3071</span>:         A DataFrame with each category and the corresponding count from each</pre>
<pre class="cython line score-0">&#xA0;<span class="">3072</span>:         categorical column. If multiple columns are provided, columns are named as</pre>
<pre class="cython line score-0">&#xA0;<span class="">3073</span>:         'Category_i' and 'Count_i'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3074</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3075</span>:     Raises</pre>
<pre class="cython line score-0">&#xA0;<span class="">3076</span>:     ------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3077</span>:     ValueError</pre>
<pre class="cython line score-0">&#xA0;<span class="">3078</span>:         If any categorical column is not found in the DataFrame and error is 'raise'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3079</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3080</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">3081</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3082</span>:     &gt;&gt;&gt; import pandas as pd</pre>
<pre class="cython line score-0">&#xA0;<span class="">3083</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import category_count</pre>
<pre class="cython line score-0">&#xA0;<span class="">3084</span>:     &gt;&gt;&gt; df = pd.DataFrame({</pre>
<pre class="cython line score-0">&#xA0;<span class="">3085</span>:     ...     'Fruit': ['Apple', 'Banana', 'Apple', 'Cherry', 'Banana', 'Apple'],</pre>
<pre class="cython line score-0">&#xA0;<span class="">3086</span>:     ...     'Color': ['Red', 'Yellow', 'Green', 'Red', 'Yellow', 'Green']</pre>
<pre class="cython line score-0">&#xA0;<span class="">3087</span>:     ... })</pre>
<pre class="cython line score-0">&#xA0;<span class="">3088</span>:     &gt;&gt;&gt; category_count(df, 'Fruit', 'Color')</pre>
<pre class="cython line score-0">&#xA0;<span class="">3089</span>:        Category_1  Count_1 Category_2  Count_2</pre>
<pre class="cython line score-0">&#xA0;<span class="">3090</span>:     0      Apple        3        Red        2</pre>
<pre class="cython line score-0">&#xA0;<span class="">3091</span>:     1     Banana        2     Yellow        2</pre>
<pre class="cython line score-0">&#xA0;<span class="">3092</span>:     2     Cherry        1      Green        2</pre>
<pre class="cython line score-0">&#xA0;<span class="">3093</span>:     &gt;&gt;&gt; category_count(df, 'NonExistentColumn', error='warn')</pre>
<pre class="cython line score-0">&#xA0;<span class="">3094</span>:     Warning: Column 'NonExistentColumn' not found in the dataframe.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3095</span>:     Empty DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">3096</span>:     Columns: []</pre>
<pre class="cython line score-0">&#xA0;<span class="">3097</span>:     Index: []</pre>
<pre class="cython line score-0">&#xA0;<span class="">3098</span>:     """</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3099</span>:     results = []</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(3099,0,<span class='error_goto'>__PYX_ERR(0, 3099, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3099, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_results = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3100</span>:     for i, column in enumerate(categorical_columns, 1):</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(3100,0,<span class='error_goto'>__PYX_ERR(0, 3100, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_int_1);
  __pyx_t_1 = __pyx_int_1;
  __pyx_t_2 = __pyx_v_categorical_columns; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
  __pyx_t_3 = 0;
  for (;;) {
    {
      Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_2);
      #if !CYTHON_ASSUME_SAFE_MACROS
      if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3100, __pyx_L1_error)</span>
      #endif
      if (__pyx_t_3 &gt;= __pyx_temp) break;
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_2, __pyx_t_3); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_3++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3100, __pyx_L1_error)</span>
    #else
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_2, __pyx_t_3); __pyx_t_3++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3100, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    #endif
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_column, __pyx_t_4);
    __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_i, __pyx_t_1);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyInt_AddObjC</span>(__pyx_t_1, __pyx_int_1, 1, 0, 0);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3100, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1);
    __pyx_t_1 = __pyx_t_4;
    __pyx_t_4 = 0;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(3100,0,<span class='error_goto'>__PYX_ERR(0, 3100, __pyx_L1_error)</span>)
    __pyx_L3_continue:;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3101</span>:         if column not in data.columns:</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(3101,0,<span class='error_goto'>__PYX_ERR(0, 3101, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3101, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_v_column, __pyx_t_4, Py_NE)); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3101, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (__pyx_t_5) {
/* â€¦ */
    }
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3102</span>:             message = f"Column '{column}' not found in the dataframe."</pre>
<pre class='cython code score-22 '>      <span class='trace'>__Pyx_TraceLine</span>(3102,0,<span class='error_goto'>__PYX_ERR(0, 3102, __pyx_L1_error)</span>)
      __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3102, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_6 = 0;
      __pyx_t_7 = 127;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Column);
      __pyx_t_6 += 8;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Column);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_kp_u_Column);
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_column, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3102, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      __pyx_t_7 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_8) &gt; __pyx_t_7) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_8) : __pyx_t_7;
      __pyx_t_6 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_8);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_8);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_t_8);
      __pyx_t_8 = 0;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_not_found_in_the_dataframe);
      __pyx_t_6 += 29;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_not_found_in_the_dataframe);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 2, __pyx_kp_u_not_found_in_the_dataframe);
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_4, 3, __pyx_t_6, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3102, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_message, ((PyObject*)__pyx_t_8));
      __pyx_t_8 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3103</span>:             if error == 'raise':</pre>
<pre class='cython code score-2 '>      <span class='trace'>__Pyx_TraceLine</span>(3103,0,<span class='error_goto'>__PYX_ERR(0, 3103, __pyx_L1_error)</span>)
      __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_error, __pyx_n_u_raise, Py_EQ)); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3103, __pyx_L1_error)</span>
      if (unlikely(__pyx_t_5)) {
/* â€¦ */
      }
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3104</span>:                 raise ValueError(message)</pre>
<pre class='cython code score-5 '>        <span class='trace'>__Pyx_TraceLine</span>(3104,0,<span class='error_goto'>__PYX_ERR(0, 3104, __pyx_L1_error)</span>)
        __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_v_message);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3104, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
        <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_8, 0, 0, 0);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
        <span class='error_goto'>__PYX_ERR(0, 3104, __pyx_L1_error)</span>
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3105</span>:             elif error == 'warn':</pre>
<pre class='cython code score-2 '>      <span class='trace'>__Pyx_TraceLine</span>(3105,0,<span class='error_goto'>__PYX_ERR(0, 3105, __pyx_L1_error)</span>)
      __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_error, __pyx_n_u_warn, Py_EQ)); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3105, __pyx_L1_error)</span>
      if (__pyx_t_5) {
/* â€¦ */
      }
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3106</span>:                 warnings.warn(message)</pre>
<pre class='cython code score-20 '>        <span class='trace'>__Pyx_TraceLine</span>(3106,0,<span class='error_goto'>__PYX_ERR(0, 3106, __pyx_L1_error)</span>)
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_warnings);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3106, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_warn);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3106, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        __pyx_t_4 = NULL;
        __pyx_t_10 = 0;
        #if CYTHON_UNPACK_METHODS
        if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
          __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
          if (likely(__pyx_t_4)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
            __pyx_t_10 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_v_message};
          __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_10, 1+__pyx_t_10);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
          if (unlikely(!__pyx_t_8)) <span class='error_goto'>__PYX_ERR(0, 3106, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        }
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3107</span>:                 continue</pre>
<pre class='cython code score-0 '>        <span class='trace'>__Pyx_TraceLine</span>(3107,0,<span class='error_goto'>__PYX_ERR(0, 3107, __pyx_L1_error)</span>)
        goto __pyx_L3_continue;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3108</span>:             elif error == 'ignore':</pre>
<pre class='cython code score-2 '>      <span class='trace'>__Pyx_TraceLine</span>(3108,0,<span class='error_goto'>__PYX_ERR(0, 3108, __pyx_L1_error)</span>)
      __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_error, __pyx_n_u_ignore, Py_EQ)); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3108, __pyx_L1_error)</span>
      if (__pyx_t_5) {
/* â€¦ */
      }
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3109</span>:                 continue</pre>
<pre class='cython code score-0 '>        <span class='trace'>__Pyx_TraceLine</span>(3109,0,<span class='error_goto'>__PYX_ERR(0, 3109, __pyx_L1_error)</span>)
        goto __pyx_L3_continue;
</pre><pre class="cython line score-0">&#xA0;<span class="">3110</span>: </pre>
<pre class="cython line score-37" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3111</span>:         count = data[column].value_counts().reset_index()</pre>
<pre class='cython code score-37 '>    <span class='trace'>__Pyx_TraceLine</span>(3111,0,<span class='error_goto'>__PYX_ERR(0, 3111, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_v_column);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3111, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_value_counts);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3111, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = NULL;
    __pyx_t_10 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_11))) {
      __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_11);
      if (likely(__pyx_t_4)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_11, function);
        __pyx_t_10 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_4, NULL};
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_11, __pyx_callargs+1-__pyx_t_10, 0+__pyx_t_10);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (unlikely(!__pyx_t_9)) <span class='error_goto'>__PYX_ERR(0, 3111, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
    }
    __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_9, __pyx_n_s_reset_index);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3111, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    __pyx_t_9 = NULL;
    __pyx_t_10 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_11))) {
      __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_11);
      if (likely(__pyx_t_9)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_11, function);
        __pyx_t_10 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_9, NULL};
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_11, __pyx_callargs+1-__pyx_t_10, 0+__pyx_t_10);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      if (unlikely(!__pyx_t_8)) <span class='error_goto'>__PYX_ERR(0, 3111, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_count, __pyx_t_8);
    __pyx_t_8 = 0;
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3112</span>:         count.columns = [f'Category_{i}', f'Count_{i}']</pre>
<pre class='cython code score-22 '>    <span class='trace'>__Pyx_TraceLine</span>(3112,0,<span class='error_goto'>__PYX_ERR(0, 3112, __pyx_L1_error)</span>)
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_i, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3112, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_n_u_Category, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3112, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_i, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3112, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_n_u_Count, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3112, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    __pyx_t_8 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3112, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_11);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_8, 0, __pyx_t_11)) <span class='error_goto'>__PYX_ERR(0, 3112, __pyx_L1_error)</span>;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_9);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_8, 1, __pyx_t_9)) <span class='error_goto'>__PYX_ERR(0, 3112, __pyx_L1_error)</span>;
    __pyx_t_11 = 0;
    __pyx_t_9 = 0;
    if (<span class='pyx_c_api'>__Pyx_PyObject_SetAttrStr</span>(__pyx_v_count, __pyx_n_s_columns, __pyx_t_8) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3112, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3113</span>:         results.append(count)</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(3113,0,<span class='error_goto'>__PYX_ERR(0, 3113, __pyx_L1_error)</span>)
    __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_v_results, __pyx_v_count);<span class='error_goto'> if (unlikely(__pyx_t_12 == ((int)-1))) __PYX_ERR(0, 3113, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3114</span>: </pre>
<pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3115</span>:     if not results:</pre>
<pre class='cython code score-1 '>  <span class='trace'>__Pyx_TraceLine</span>(3115,0,<span class='error_goto'>__PYX_ERR(0, 3115, __pyx_L1_error)</span>)
  __pyx_t_5 = (<span class='py_macro_api'>PyList_GET_SIZE</span>(__pyx_v_results) != 0);
  __pyx_t_13 = (!__pyx_t_5);
  if (__pyx_t_13) {
/* â€¦ */
  }
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3116</span>:         return pd.DataFrame()</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(3116,0,<span class='error_goto'>__PYX_ERR(0, 3116, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3116, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3116, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = NULL;
    __pyx_t_10 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_8))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_8);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_8, function);
        __pyx_t_10 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_2, NULL};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_8, __pyx_callargs+1-__pyx_t_10, 0+__pyx_t_10);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3116, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    }
    __pyx_r = __pyx_t_1;
    __pyx_t_1 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3117</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3118</span>:     # Merge all results into a single DataFrame</pre>
<pre class="cython line score-83" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3119</span>:     final_df = functools.reduce(lambda left, right: pd.merge(</pre>
<pre class='cython code score-83 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_14category_count_lambda15(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_14category_count_lambda15 = {"lambda15", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_14category_count_lambda15, __Pyx_METH_FASTCALL|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_14category_count_lambda15(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_left = 0;
  PyObject *__pyx_v_right = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("lambda15 (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_left,&amp;__pyx_n_s_right,0};
  PyObject* values[2] = {0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_left)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3119, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_right)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3119, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("lambda15", 1, 2, 2, 1); <span class='error_goto'>__PYX_ERR(0, 3119, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "lambda15") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 3119, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 2)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
    }
    __pyx_v_left = values[0];
    __pyx_v_right = values[1];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("lambda15", 1, 2, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 3119, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.category_count.lambda15", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_lambda_funcdef_lambda15(__pyx_self, __pyx_v_left, __pyx_v_right);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_lambda_funcdef_lambda15(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_left, PyObject *__pyx_v_right) {
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceCall</span>("lambda15", __pyx_f[0], 3119, 0, <span class='error_goto'>__PYX_ERR(0, 3119, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3119, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_merge);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3119, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(3120,0,<span class='error_goto'>__PYX_ERR(0, 3120, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3119, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_left);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_left);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_left)) <span class='error_goto'>__PYX_ERR(0, 3119, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_right);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_right);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_v_right)) <span class='error_goto'>__PYX_ERR(0, 3119, __pyx_L1_error)</span>;
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(3119,0,<span class='error_goto'>__PYX_ERR(0, 3119, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_1, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3119, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_r = __pyx_t_4;
  __pyx_t_4 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.category_count.lambda15", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(3119,0,<span class='error_goto'>__PYX_ERR(0, 3119, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_8, __pyx_n_s_functools);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3119, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_8, __pyx_n_s_reduce);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3119, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_14category_count_lambda15, 0, __pyx_n_s_category_count_locals_lambda, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3119, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
</pre><pre class="cython line score-32" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3120</span>:         left, right, left_index=True, right_index=True, how='outer'), results)</pre>
<pre class='cython code score-32 '>  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3120, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_left_index, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3120, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_right_index, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3120, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_how, __pyx_n_u_outer) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3120, __pyx_L1_error)</span>
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(3120,0,<span class='error_goto'>__PYX_ERR(0, 3120, __pyx_L1_error)</span>)
  __pyx_t_9 = NULL;
  __pyx_t_10 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_9)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_10 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_9, __pyx_t_8, __pyx_v_results};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_10, 2+__pyx_t_10);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3119, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_v_final_df = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3121</span>:     final_df.fillna(value=np.nan, inplace=True)</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(3121,0,<span class='error_goto'>__PYX_ERR(0, 3121, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_final_df, __pyx_n_s_fillna);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3121, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3121, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_8, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3121, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_8, __pyx_n_s_nan);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3121, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_value, __pyx_t_9) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3121, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_inplace, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3121, __pyx_L1_error)</span>
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_empty_tuple, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3121, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3122</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3123</span>:     if len( results)==1:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3123,0,<span class='error_goto'>__PYX_ERR(0, 3123, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_v_results);<span class='error_goto'> if (unlikely(__pyx_t_3 == ((Py_ssize_t)-1))) __PYX_ERR(0, 3123, __pyx_L1_error)</span>
  __pyx_t_13 = (__pyx_t_3 == 1);
  if (__pyx_t_13) {
/* â€¦ */
  }
</pre><pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3124</span>:         final_df.columns =['Category', 'Count']</pre>
<pre class='cython code score-14 '>    <span class='trace'>__Pyx_TraceLine</span>(3124,0,<span class='error_goto'>__PYX_ERR(0, 3124, __pyx_L1_error)</span>)
    __pyx_t_9 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3124, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_Category_2);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_Category_2);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_9, 0, __pyx_n_u_Category_2)) <span class='error_goto'>__PYX_ERR(0, 3124, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_Count_2);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_Count_2);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_9, 1, __pyx_n_u_Count_2)) <span class='error_goto'>__PYX_ERR(0, 3124, __pyx_L1_error)</span>;
    if (<span class='pyx_c_api'>__Pyx_PyObject_SetAttrStr</span>(__pyx_v_final_df, __pyx_n_s_columns, __pyx_t_9) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3124, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3125</span>:     return final_df</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3125,0,<span class='error_goto'>__PYX_ERR(0, 3125, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_final_df);
  __pyx_r = __pyx_v_final_df;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3126</span>: </pre>
<pre class="cython line score-62" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3127</span>: @Dataify(auto_columns=True)</pre>
<pre class='cython code score-62 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_98soft_bin_stat(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_97soft_bin_stat, "\n    Compute a statistic for each category in a categorical \n    column based on a binary target.\n\n    This function calculates statistics like mean, sum, or proportion \n    for a binary target variable, grouped by categories in a \n    specified column.\n\n    Parameters\n    ----------\n    data : DataFrame\n        Pandas DataFrame containing the dataset.\n    categorical_column : str\n        Name of the column in `data` which contains the categorical variable.\n    target_column : str\n        Name of the column in `data` which contains the binary target variable.\n    statistic : str, optional\n        The statistic to compute for the binary target (default is 'mean').\n        Other options include 'sum' and 'proportion'.\n\n    Returns\n    -------\n    result : DataFrame\n        A DataFrame with each category and the corresponding \n        computed statistic.\n\n    Examples\n    --------\n    &gt;&gt;&gt; import pandas as pd \n    &gt;&gt;&gt; from gofast.tools.baseutils import soft_bin_stat\n    &gt;&gt;&gt; df = pd.DataFrame({\n    ...     'Category': ['A', 'B', 'A', 'C', 'B', 'A', 'C'],\n    ...     'Target': [1, 0, 1, 0, 1, 0, 1]\n    ... })\n    &gt;&gt;&gt; soft_bin_stat(df, 'Category', 'Target', statistic='mean')\n       Category  Mean_Target\n    0        A     0.666667\n    1        B     0.500000\n    2        C     0.500000\n\n    &gt;&gt;&gt; soft_bin_stat(df.values, 'col_0', 'col_1', statistic='mean')\n      col_0  Mean_col_1\n    0     A    0.666667\n    1     B    0.500000\n    2     C    0.500000\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_98soft_bin_stat = {"soft_bin_stat", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_98soft_bin_stat, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_97soft_bin_stat};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_98soft_bin_stat(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_data = 0;
  PyObject *__pyx_v_categorical_column = 0;
  PyObject *__pyx_v_target_column = 0;
  PyObject *__pyx_v_statistic = 0;
  CYTHON_UNUSED PyObject *__pyx_v_update = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("soft_bin_stat (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_data,&amp;__pyx_n_s_categorical_column,&amp;__pyx_n_s_target_column,&amp;__pyx_n_s_statistic,&amp;__pyx_n_s_update,0};
  PyObject* values[5] = {0,0,0,0,0};
    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_n_u_mean)));
/* â€¦ */
  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_97soft_bin_stat(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_data, PyObject *__pyx_v_categorical_column, PyObject *__pyx_v_target_column, PyObject *__pyx_v_statistic, CYTHON_UNUSED PyObject *__pyx_v_update) {
  PyObject *__pyx_v_grouped_data = NULL;
  PyObject *__pyx_v_result = NULL;
  PyObject *__pyx_v_total_count = NULL;
  PyObject *__pyx_v_proportion = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__104)
  <span class='trace'>__Pyx_TraceCall</span>("soft_bin_stat", __pyx_f[0], 3127, 0, <span class='error_goto'>__PYX_ERR(0, 3127, __pyx_L1_error)</span>);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.soft_bin_stat", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_grouped_data);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_result);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_total_count);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_proportion);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(3127,0,<span class='error_goto'>__PYX_ERR(0, 3127, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_Dataify);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3127, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3127, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_auto_columns, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3127, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_empty_tuple, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3127, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
/* â€¦ */
  __pyx_tuple__213 = <span class='py_c_api'>PyTuple_Pack</span>(9, __pyx_n_s_data, __pyx_n_s_categorical_column, __pyx_n_s_target_column, __pyx_n_s_statistic, __pyx_n_s_update, __pyx_n_s_grouped_data, __pyx_n_s_result, __pyx_n_s_total_count, __pyx_n_s_proportion);<span class='error_goto'> if (unlikely(!__pyx_tuple__213)) __PYX_ERR(0, 3127, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__213);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__213);
  __pyx_codeobj__104 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(5, 0, 0, 9, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__213, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_soft_bin_stat, 3127, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__104)) __PYX_ERR(0, 3127, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_98soft_bin_stat, 0, __pyx_n_s_soft_bin_stat, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__104));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3127, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_3, __pyx_tuple__214);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_t_4, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3127, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_soft_bin_stat, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3127, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_tuple__214 = <span class='py_c_api'>PyTuple_Pack</span>(2, ((PyObject*)__pyx_n_u_mean), ((PyObject *)Py_False));<span class='error_goto'> if (unlikely(!__pyx_tuple__214)) __PYX_ERR(0, 3127, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__214);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__214);
</pre><pre class="cython line score-0">&#xA0;<span class="">3128</span>: def soft_bin_stat(</pre>
<pre class="cython line score-0">&#xA0;<span class="">3129</span>:     data,  categorical_column,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3130</span>:     target_column,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3131</span>:     statistic='mean',</pre>
<pre class="cython line score-81" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3132</span>:     update=False,</pre>
<pre class='cython code score-81 '>    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3127, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_categorical_column)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3127, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("soft_bin_stat", 0, 3, 5, 1); <span class='error_goto'>__PYX_ERR(0, 3127, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (likely((values[2] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_target_column)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[2]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3127, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("soft_bin_stat", 0, 3, 5, 2); <span class='error_goto'>__PYX_ERR(0, 3127, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_statistic);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3127, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_update);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3127, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "soft_bin_stat") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 3127, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_data = values[0];
    __pyx_v_categorical_column = values[1];
    __pyx_v_target_column = values[2];
    __pyx_v_statistic = values[3];
    __pyx_v_update = values[4];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("soft_bin_stat", 0, 3, 5, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 3127, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.soft_bin_stat", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_97soft_bin_stat(__pyx_self, __pyx_v_data, __pyx_v_categorical_column, __pyx_v_target_column, __pyx_v_statistic, __pyx_v_update);
</pre><pre class="cython line score-0">&#xA0;<span class="">3133</span>:     ):</pre>
<pre class="cython line score-0">&#xA0;<span class="">3134</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">3135</span>:     Compute a statistic for each category in a categorical</pre>
<pre class="cython line score-0">&#xA0;<span class="">3136</span>:     column based on a binary target.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3137</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3138</span>:     This function calculates statistics like mean, sum, or proportion</pre>
<pre class="cython line score-0">&#xA0;<span class="">3139</span>:     for a binary target variable, grouped by categories in a</pre>
<pre class="cython line score-0">&#xA0;<span class="">3140</span>:     specified column.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3141</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3142</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">3143</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3144</span>:     data : DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">3145</span>:         Pandas DataFrame containing the dataset.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3146</span>:     categorical_column : str</pre>
<pre class="cython line score-0">&#xA0;<span class="">3147</span>:         Name of the column in `data` which contains the categorical variable.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3148</span>:     target_column : str</pre>
<pre class="cython line score-0">&#xA0;<span class="">3149</span>:         Name of the column in `data` which contains the binary target variable.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3150</span>:     statistic : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3151</span>:         The statistic to compute for the binary target (default is 'mean').</pre>
<pre class="cython line score-0">&#xA0;<span class="">3152</span>:         Other options include 'sum' and 'proportion'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3153</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3154</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">3155</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3156</span>:     result : DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">3157</span>:         A DataFrame with each category and the corresponding</pre>
<pre class="cython line score-0">&#xA0;<span class="">3158</span>:         computed statistic.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3159</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3160</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">3161</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3162</span>:     &gt;&gt;&gt; import pandas as pd</pre>
<pre class="cython line score-0">&#xA0;<span class="">3163</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import soft_bin_stat</pre>
<pre class="cython line score-0">&#xA0;<span class="">3164</span>:     &gt;&gt;&gt; df = pd.DataFrame({</pre>
<pre class="cython line score-0">&#xA0;<span class="">3165</span>:     ...     'Category': ['A', 'B', 'A', 'C', 'B', 'A', 'C'],</pre>
<pre class="cython line score-0">&#xA0;<span class="">3166</span>:     ...     'Target': [1, 0, 1, 0, 1, 0, 1]</pre>
<pre class="cython line score-0">&#xA0;<span class="">3167</span>:     ... })</pre>
<pre class="cython line score-0">&#xA0;<span class="">3168</span>:     &gt;&gt;&gt; soft_bin_stat(df, 'Category', 'Target', statistic='mean')</pre>
<pre class="cython line score-0">&#xA0;<span class="">3169</span>:        Category  Mean_Target</pre>
<pre class="cython line score-0">&#xA0;<span class="">3170</span>:     0        A     0.666667</pre>
<pre class="cython line score-0">&#xA0;<span class="">3171</span>:     1        B     0.500000</pre>
<pre class="cython line score-0">&#xA0;<span class="">3172</span>:     2        C     0.500000</pre>
<pre class="cython line score-0">&#xA0;<span class="">3173</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3174</span>:     &gt;&gt;&gt; soft_bin_stat(df.values, 'col_0', 'col_1', statistic='mean')</pre>
<pre class="cython line score-0">&#xA0;<span class="">3175</span>:       col_0  Mean_col_1</pre>
<pre class="cython line score-0">&#xA0;<span class="">3176</span>:     0     A    0.666667</pre>
<pre class="cython line score-0">&#xA0;<span class="">3177</span>:     1     B    0.500000</pre>
<pre class="cython line score-0">&#xA0;<span class="">3178</span>:     2     C    0.500000</pre>
<pre class="cython line score-0">&#xA0;<span class="">3179</span>:     """</pre>
<pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3180</span>:     if statistic not in ['mean', 'sum', 'proportion']:</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(3180,0,<span class='error_goto'>__PYX_ERR(0, 3180, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_statistic);
  __pyx_t_1 = __pyx_v_statistic;
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_1, __pyx_n_u_mean, Py_NE)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3180, __pyx_L1_error)</span>
  if (__pyx_t_3) {
  } else {
    __pyx_t_2 = __pyx_t_3;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_1, __pyx_n_u_sum, Py_NE)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3180, __pyx_L1_error)</span>
  if (__pyx_t_3) {
  } else {
    __pyx_t_2 = __pyx_t_3;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_1, __pyx_n_u_proportion, Py_NE)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3180, __pyx_L1_error)</span>
  __pyx_t_2 = __pyx_t_3;
  __pyx_L4_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = __pyx_t_2;
  if (unlikely(__pyx_t_3)) {
/* â€¦ */
  }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3181</span>:         raise ValueError("Unsupported statistic. Please choose from "</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(3181,0,<span class='error_goto'>__PYX_ERR(0, 3181, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__105, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3181, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_1, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='error_goto'>__PYX_ERR(0, 3181, __pyx_L1_error)</span>
/* â€¦ */
  __pyx_tuple__105 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Unsupported_statistic_Please_cho_2);<span class='error_goto'> if (unlikely(!__pyx_tuple__105)) __PYX_ERR(0, 3181, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__105);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__105);
</pre><pre class="cython line score-0">&#xA0;<span class="">3182</span>:                          "'mean', 'sum', 'proportion'.")</pre>
<pre class="cython line score-0">&#xA0;<span class="">3183</span>: </pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3184</span>:     is_categorical(data, categorical_column)</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(3184,0,<span class='error_goto'>__PYX_ERR(0, 3184, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_is_categorical);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3184, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_5 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
    __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
    if (likely(__pyx_t_5)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_5, __pyx_v_data, __pyx_v_categorical_column};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_6, 2+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3184, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3185</span>:     exist_features(data, features= target_column, name ='Target')</pre>
<pre class='cython code score-28 '>  <span class='trace'>__Pyx_TraceLine</span>(3185,0,<span class='error_goto'>__PYX_ERR(0, 3185, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_exist_features);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3185, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3185, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_v_data)) <span class='error_goto'>__PYX_ERR(0, 3185, __pyx_L1_error)</span>;
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3185, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_features, __pyx_v_target_column) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3185, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_name, __pyx_n_u_Target) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3185, __pyx_L1_error)</span>
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_4, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3185, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3186</span>:     grouped_data = data.groupby(categorical_column)[target_column]</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(3186,0,<span class='error_goto'>__PYX_ERR(0, 3186, __pyx_L1_error)</span>)
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_groupby);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3186, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_4 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
    __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
    if (likely(__pyx_t_4)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_v_categorical_column};
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (unlikely(!__pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 3186, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  }
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_t_7, __pyx_v_target_column);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3186, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  __pyx_v_grouped_data = __pyx_t_5;
  __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3187</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3188</span>:     if statistic == 'mean':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3188,0,<span class='error_goto'>__PYX_ERR(0, 3188, __pyx_L1_error)</span>)
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_statistic, __pyx_n_u_mean, Py_EQ)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3188, __pyx_L1_error)</span>
  if (__pyx_t_3) {
/* â€¦ */
    goto __pyx_L7;
  }
</pre><pre class="cython line score-36" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3189</span>:         result = grouped_data.mean().reset_index(name=f'Mean_{target_column}')</pre>
<pre class='cython code score-36 '>    <span class='trace'>__Pyx_TraceLine</span>(3189,0,<span class='error_goto'>__PYX_ERR(0, 3189, __pyx_L1_error)</span>)
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_grouped_data, __pyx_n_s_mean);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3189, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_4 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
      __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
      if (likely(__pyx_t_4)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_4, NULL};
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 3189, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    }
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_reset_index);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3189, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3189, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_target_column, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3189, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_n_u_Mean, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3189, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_name, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3189, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_7, __pyx_empty_tuple, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3189, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_v_result = __pyx_t_1;
    __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3190</span>:     elif statistic == 'sum':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3190,0,<span class='error_goto'>__PYX_ERR(0, 3190, __pyx_L1_error)</span>)
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_statistic, __pyx_n_u_sum, Py_EQ)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3190, __pyx_L1_error)</span>
  if (__pyx_t_3) {
/* â€¦ */
    goto __pyx_L7;
  }
</pre><pre class="cython line score-36" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3191</span>:         result = grouped_data.sum().reset_index(name=f'Sum_{target_column}')</pre>
<pre class='cython code score-36 '>    <span class='trace'>__Pyx_TraceLine</span>(3191,0,<span class='error_goto'>__PYX_ERR(0, 3191, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_grouped_data, __pyx_n_s_sum);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3191, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_7 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_7)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_7, NULL};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3191, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_reset_index);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3191, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3191, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_target_column, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3191, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_n_u_Sum, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3191, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_name, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3191, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_empty_tuple, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3191, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_v_result = __pyx_t_4;
    __pyx_t_4 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3192</span>:     elif statistic == 'proportion':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3192,0,<span class='error_goto'>__PYX_ERR(0, 3192, __pyx_L1_error)</span>)
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_statistic, __pyx_n_u_proportion, Py_EQ)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3192, __pyx_L1_error)</span>
  if (__pyx_t_3) {
/* â€¦ */
  }
  __pyx_L7:;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3193</span>:         total_count = data[target_column].count()</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(3193,0,<span class='error_goto'>__PYX_ERR(0, 3193, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_v_target_column);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3193, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_count);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3193, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, NULL};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 3193, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    __pyx_v_total_count = __pyx_t_4;
    __pyx_t_4 = 0;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3194</span>:         proportion = grouped_data.sum() / total_count</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(3194,0,<span class='error_goto'>__PYX_ERR(0, 3194, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_grouped_data, __pyx_n_s_sum);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3194, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_1 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, NULL};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 3194, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyNumber_Divide</span>(__pyx_t_4, __pyx_v_total_count);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3194, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_v_proportion = __pyx_t_5;
    __pyx_t_5 = 0;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3195</span>:         result = proportion.reset_index(name=f'Proportion_{target_column}')</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(3195,0,<span class='error_goto'>__PYX_ERR(0, 3195, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_proportion, __pyx_n_s_reset_index);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3195, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3195, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_target_column, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3195, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_n_u_Proportion, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3195, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_name, __pyx_t_7) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3195, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_empty_tuple, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3195, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_v_result = __pyx_t_7;
    __pyx_t_7 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3196</span>: </pre>
<pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3197</span>:     return result</pre>
<pre class='cython code score-4 '>  <span class='trace'>__Pyx_TraceLine</span>(3197,0,<span class='error_goto'>__PYX_ERR(0, 3197, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  if (unlikely(!__pyx_v_result)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("result"); <span class='error_goto'>__PYX_ERR(0, 3197, __pyx_L1_error)</span> }
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_result);
  __pyx_r = __pyx_v_result;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3198</span>: </pre>
<pre class="cython line score-99" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3199</span>: def reshape_to_dataframe(flattened_array, columns, error ='raise'):</pre>
<pre class='cython code score-99 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_100reshape_to_dataframe(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_99reshape_to_dataframe, "\n    Reshapes a flattened array into a pandas DataFrame or Series based on the\n    provided column names. If the number of columns does not allow reshaping\n    to match the array length, it raises an error.\n\n    Parameters\n    ----------\n    flattened_array : array-like\n        The flattened array to reshape.\n    columns : list of str\n        The list of column names for the DataFrame. If a single name is provided,\n        a Series is returned.\n        \n    error : {'raise', 'warn', 'ignore'}, default 'raise'\n        Specifies how to handle the situation when the number of elements in the\n        flattened array is not compatible with the number of columns required for\n        reshaping. Options are:\n        \n        - 'raise': Raises a ValueError. This is the default behavior.\n        - 'warn': Emits a warning, but still returns the original flattened array.\n        - 'ignore': Does nothing about the error, just returns the original\n          flattened array.\n        \n    Returns\n    -------\n    pandas.DataFrame or pandas.Series\n        A DataFrame or Series reshaped according to the specified columns.\n\n    Raises\n    ------\n    ValueError\n        If the total number of elements in the flattened array does not match\n        the required number for a complete reshaping.\n\n    Examples\n    --------\n    &gt;&gt;&gt; import numpy as np \n    &gt;&gt;&gt; from gofast.tools.baseutils import reshape_to_dataframe\n    &gt;&gt;&gt; data = np.array([1, 2, 3, 4, 5, 6])\n    &gt;&gt;&gt; print(reshape_to_dataframe(data, ['A', 'B', 'C']))  # DataFrame with 2 rows and 3 columns\n    &gt;&gt;&gt; print(reshape_to_dataframe(data, 'A'))  # Series with 6 elements\n    &gt;&gt;&gt; print(reshape_to_dataframe(data, ['A']))  # DataFrame with 6 rows and 1 column\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_100reshape_to_dataframe = {"reshape_to_dataframe", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_100reshape_to_dataframe, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_99reshape_to_dataframe};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_100reshape_to_dataframe(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_flattened_array = 0;
  PyObject *__pyx_v_columns = 0;
  PyObject *__pyx_v_error = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("reshape_to_dataframe (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_flattened_array,&amp;__pyx_n_s_columns,&amp;__pyx_n_s_error,0};
  PyObject* values[3] = {0,0,0};
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_n_u_raise)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_flattened_array)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3199, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_columns)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3199, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("reshape_to_dataframe", 0, 2, 3, 1); <span class='error_goto'>__PYX_ERR(0, 3199, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_error);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3199, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "reshape_to_dataframe") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 3199, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_flattened_array = values[0];
    __pyx_v_columns = values[1];
    __pyx_v_error = values[2];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("reshape_to_dataframe", 0, 2, 3, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 3199, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.reshape_to_dataframe", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_99reshape_to_dataframe(__pyx_self, __pyx_v_flattened_array, __pyx_v_columns, __pyx_v_error);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_99reshape_to_dataframe(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_flattened_array, PyObject *__pyx_v_columns, PyObject *__pyx_v_error) {
  int __pyx_v_is_string;
  PyObject *__pyx_v_num_elements = NULL;
  PyObject *__pyx_v_num_columns = NULL;
  PyObject *__pyx_v_message = NULL;
  PyObject *__pyx_v_num_rows = NULL;
  PyObject *__pyx_v_reshaped_array = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__106)
  <span class='trace'>__Pyx_TraceCall</span>("reshape_to_dataframe", __pyx_f[0], 3199, 0, <span class='error_goto'>__PYX_ERR(0, 3199, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_columns);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.reshape_to_dataframe", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_num_elements);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_num_columns);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_message);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_num_rows);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_reshaped_array);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_columns);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__215 = <span class='py_c_api'>PyTuple_Pack</span>(9, __pyx_n_s_flattened_array, __pyx_n_s_columns, __pyx_n_s_error, __pyx_n_s_is_string, __pyx_n_s_num_elements, __pyx_n_s_num_columns, __pyx_n_s_message, __pyx_n_s_num_rows, __pyx_n_s_reshaped_array);<span class='error_goto'> if (unlikely(!__pyx_tuple__215)) __PYX_ERR(0, 3199, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__215);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__215);
  __pyx_codeobj__106 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(3, 0, 0, 9, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__215, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_reshape_to_dataframe, 3199, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__106)) __PYX_ERR(0, 3199, __pyx_L1_error)</span>
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(3199,0,<span class='error_goto'>__PYX_ERR(0, 3199, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_100reshape_to_dataframe, 0, __pyx_n_s_reshape_to_dataframe, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__106));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3199, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_2, __pyx_tuple__216);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_reshape_to_dataframe, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3199, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_tuple__216 = <span class='py_c_api'>PyTuple_Pack</span>(1, ((PyObject*)__pyx_n_u_raise));<span class='error_goto'> if (unlikely(!__pyx_tuple__216)) __PYX_ERR(0, 3199, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__216);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__216);
</pre><pre class="cython line score-0">&#xA0;<span class="">3200</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">3201</span>:     Reshapes a flattened array into a pandas DataFrame or Series based on the</pre>
<pre class="cython line score-0">&#xA0;<span class="">3202</span>:     provided column names. If the number of columns does not allow reshaping</pre>
<pre class="cython line score-0">&#xA0;<span class="">3203</span>:     to match the array length, it raises an error.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3204</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3205</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">3206</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3207</span>:     flattened_array : array-like</pre>
<pre class="cython line score-0">&#xA0;<span class="">3208</span>:         The flattened array to reshape.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3209</span>:     columns : list of str</pre>
<pre class="cython line score-0">&#xA0;<span class="">3210</span>:         The list of column names for the DataFrame. If a single name is provided,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3211</span>:         a Series is returned.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3212</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3213</span>:     error : {'raise', 'warn', 'ignore'}, default 'raise'</pre>
<pre class="cython line score-0">&#xA0;<span class="">3214</span>:         Specifies how to handle the situation when the number of elements in the</pre>
<pre class="cython line score-0">&#xA0;<span class="">3215</span>:         flattened array is not compatible with the number of columns required for</pre>
<pre class="cython line score-0">&#xA0;<span class="">3216</span>:         reshaping. Options are:</pre>
<pre class="cython line score-0">&#xA0;<span class="">3217</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3218</span>:         - 'raise': Raises a ValueError. This is the default behavior.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3219</span>:         - 'warn': Emits a warning, but still returns the original flattened array.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3220</span>:         - 'ignore': Does nothing about the error, just returns the original</pre>
<pre class="cython line score-0">&#xA0;<span class="">3221</span>:           flattened array.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3222</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3223</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">3224</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3225</span>:     pandas.DataFrame or pandas.Series</pre>
<pre class="cython line score-0">&#xA0;<span class="">3226</span>:         A DataFrame or Series reshaped according to the specified columns.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3227</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3228</span>:     Raises</pre>
<pre class="cython line score-0">&#xA0;<span class="">3229</span>:     ------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3230</span>:     ValueError</pre>
<pre class="cython line score-0">&#xA0;<span class="">3231</span>:         If the total number of elements in the flattened array does not match</pre>
<pre class="cython line score-0">&#xA0;<span class="">3232</span>:         the required number for a complete reshaping.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3233</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3234</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">3235</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3236</span>:     &gt;&gt;&gt; import numpy as np</pre>
<pre class="cython line score-0">&#xA0;<span class="">3237</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import reshape_to_dataframe</pre>
<pre class="cython line score-0">&#xA0;<span class="">3238</span>:     &gt;&gt;&gt; data = np.array([1, 2, 3, 4, 5, 6])</pre>
<pre class="cython line score-0">&#xA0;<span class="">3239</span>:     &gt;&gt;&gt; print(reshape_to_dataframe(data, ['A', 'B', 'C']))  # DataFrame with 2 rows and 3 columns</pre>
<pre class="cython line score-0">&#xA0;<span class="">3240</span>:     &gt;&gt;&gt; print(reshape_to_dataframe(data, 'A'))  # Series with 6 elements</pre>
<pre class="cython line score-0">&#xA0;<span class="">3241</span>:     &gt;&gt;&gt; print(reshape_to_dataframe(data, ['A']))  # DataFrame with 6 rows and 1 column</pre>
<pre class="cython line score-0">&#xA0;<span class="">3242</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">3243</span>:     # Check if the reshaping is possible</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3244</span>:     is_string = isinstance ( columns, str )</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(3244,0,<span class='error_goto'>__PYX_ERR(0, 3244, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_columns); 
  __pyx_v_is_string = __pyx_t_1;
</pre><pre class="cython line score-0">&#xA0;<span class="">3245</span>:     # Convert single string column name to list</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3246</span>:     if isinstance(columns, str):</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(3246,0,<span class='error_goto'>__PYX_ERR(0, 3246, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_columns); 
  if (__pyx_t_1) {
/* â€¦ */
  }
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3247</span>:         columns = [columns]</pre>
<pre class='cython code score-9 '>    <span class='trace'>__Pyx_TraceLine</span>(3247,0,<span class='error_goto'>__PYX_ERR(0, 3247, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3247, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_columns);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_columns);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_columns)) <span class='error_goto'>__PYX_ERR(0, 3247, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_columns, __pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3248</span>: </pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3249</span>:     num_elements = len(flattened_array)</pre>
<pre class='cython code score-10 '>  <span class='trace'>__Pyx_TraceLine</span>(3249,0,<span class='error_goto'>__PYX_ERR(0, 3249, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_flattened_array);<span class='error_goto'> if (unlikely(__pyx_t_3 == ((Py_ssize_t)-1))) __PYX_ERR(0, 3249, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3249, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_v_num_elements = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3250</span>:     num_columns = len(columns)</pre>
<pre class='cython code score-10 '>  <span class='trace'>__Pyx_TraceLine</span>(3250,0,<span class='error_goto'>__PYX_ERR(0, 3250, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_columns);<span class='error_goto'> if (unlikely(__pyx_t_3 == ((Py_ssize_t)-1))) __PYX_ERR(0, 3250, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3250, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_v_num_columns = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3251</span>:     if num_elements % num_columns != 0:</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(3251,0,<span class='error_goto'>__PYX_ERR(0, 3251, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyNumber_Remainder</span>(__pyx_v_num_elements, __pyx_v_num_columns);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3251, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_1 = (<span class='pyx_c_api'>__Pyx_PyInt_BoolNeObjC</span>(__pyx_t_2, __pyx_int_0, 0, 0)); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3251, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_1) {
/* â€¦ */
  }
</pre><pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3252</span>:         message = ("The number of elements in the flattened array is not"</pre>
<pre class='cython code score-1 '>    <span class='trace'>__Pyx_TraceLine</span>(3252,0,<span class='error_goto'>__PYX_ERR(0, 3252, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_The_number_of_elements_in_the_fl);
    __pyx_v_message = __pyx_kp_u_The_number_of_elements_in_the_fl;
</pre><pre class="cython line score-0">&#xA0;<span class="">3253</span>:                    " compatible with the number of columns.")</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3254</span>:         if error =="raise":</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(3254,0,<span class='error_goto'>__PYX_ERR(0, 3254, __pyx_L1_error)</span>)
    __pyx_t_1 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_error, __pyx_n_u_raise, Py_EQ)); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3254, __pyx_L1_error)</span>
    if (unlikely(__pyx_t_1)) {
/* â€¦ */
    }
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3255</span>:             raise ValueError(message)</pre>
<pre class='cython code score-5 '>      <span class='trace'>__Pyx_TraceLine</span>(3255,0,<span class='error_goto'>__PYX_ERR(0, 3255, __pyx_L1_error)</span>)
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_v_message);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3255, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='error_goto'>__PYX_ERR(0, 3255, __pyx_L1_error)</span>
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3256</span>:         elif error =='warn':</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(3256,0,<span class='error_goto'>__PYX_ERR(0, 3256, __pyx_L1_error)</span>)
    __pyx_t_1 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_error, __pyx_n_u_warn, Py_EQ)); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3256, __pyx_L1_error)</span>
    if (__pyx_t_1) {
/* â€¦ */
    }
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3257</span>:             warnings.warn(message, UserWarning)</pre>
<pre class='cython code score-20 '>      <span class='trace'>__Pyx_TraceLine</span>(3257,0,<span class='error_goto'>__PYX_ERR(0, 3257, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_warnings);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3257, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_warn);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3257, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_4 = NULL;
      __pyx_t_6 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
        __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
        if (likely(__pyx_t_4)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
          __pyx_t_6 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[3] = {__pyx_t_4, __pyx_v_message, __pyx_builtin_UserWarning};
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_6, 2+__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3257, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3258</span>:         return flattened_array</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(3258,0,<span class='error_goto'>__PYX_ERR(0, 3258, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_flattened_array);
    __pyx_r = __pyx_v_flattened_array;
    goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3259</span>:     # Calculate the number of rows that will be needed</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3260</span>:     num_rows = num_elements // num_columns</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(3260,0,<span class='error_goto'>__PYX_ERR(0, 3260, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyNumber_FloorDivide</span>(__pyx_v_num_elements, __pyx_v_num_columns);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3260, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_v_num_rows = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3261</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3262</span>:     # Reshape the array</pre>
<pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3263</span>:     reshaped_array = np.reshape(flattened_array, (num_rows, num_columns))</pre>
<pre class='cython code score-31 '>  <span class='trace'>__Pyx_TraceLine</span>(3263,0,<span class='error_goto'>__PYX_ERR(0, 3263, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3263, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_reshape);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3263, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3263, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_num_rows);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_num_rows);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_v_num_rows)) <span class='error_goto'>__PYX_ERR(0, 3263, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_num_columns);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_num_columns);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 1, __pyx_v_num_columns)) <span class='error_goto'>__PYX_ERR(0, 3263, __pyx_L1_error)</span>;
  __pyx_t_7 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
    __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
    if (likely(__pyx_t_7)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_7, __pyx_v_flattened_array, __pyx_t_5};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_6, 2+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3263, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  }
  __pyx_v_reshaped_array = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3264</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3265</span>:     # Check if we need to return a DataFrame or a Series</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3266</span>:     if num_columns == 1 and is_string:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3266,0,<span class='error_goto'>__PYX_ERR(0, 3266, __pyx_L1_error)</span>)
  __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyInt_BoolEqObjC</span>(__pyx_v_num_columns, __pyx_int_1, 1, 0)); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3266, __pyx_L1_error)</span>
  if (__pyx_t_8) {
  } else {
    __pyx_t_1 = __pyx_t_8;
    goto __pyx_L7_bool_binop_done;
  }
  __pyx_t_1 = __pyx_v_is_string;
  __pyx_L7_bool_binop_done:;
  if (__pyx_t_1) {
/* â€¦ */
  }
</pre><pre class="cython line score-35" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3267</span>:         return pd.Series(reshaped_array[:, 0], name=columns[0])</pre>
<pre class='cython code score-35 '>    <span class='trace'>__Pyx_TraceLine</span>(3267,0,<span class='error_goto'>__PYX_ERR(0, 3267, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3267, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3267, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_reshaped_array, __pyx_tuple__107);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3267, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3267, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3267, __pyx_L1_error)</span>;
    __pyx_t_2 = 0;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3267, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_columns, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3267, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_name, __pyx_t_7) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3267, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_4, __pyx_t_5, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3267, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_r = __pyx_t_7;
    __pyx_t_7 = 0;
    goto __pyx_L0;
/* â€¦ */
  __pyx_tuple__107 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_slice__5, __pyx_int_0);<span class='error_goto'> if (unlikely(!__pyx_tuple__107)) __PYX_ERR(0, 3267, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__107);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__107);
</pre><pre class="cython line score-0">&#xA0;<span class="">3268</span>:     else:</pre>
<pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3269</span>:         return pd.DataFrame(reshaped_array, columns=columns)</pre>
<pre class='cython code score-26 '>  <span class='trace'>__Pyx_TraceLine</span>(3269,0,<span class='error_goto'>__PYX_ERR(0, 3269, __pyx_L1_error)</span>)
  /*else*/ {
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_7, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3269, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_7, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3269, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_7 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3269, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_reshaped_array);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_reshaped_array);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 0, __pyx_v_reshaped_array)) <span class='error_goto'>__PYX_ERR(0, 3269, __pyx_L1_error)</span>;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3269, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_columns, __pyx_v_columns) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3269, __pyx_L1_error)</span>
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_7, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3269, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_r = __pyx_t_4;
    __pyx_t_4 = 0;
    goto __pyx_L0;
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">3270</span>: </pre>
<pre class="cython line score-52" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3271</span>: def save_figure(fig, filename=None, dpi=300, close=True, ax=None,</pre>
<pre class='cython code score-52 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_102save_figure(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_101save_figure, "\n    Saves a matplotlib figure to a file and optionally closes it. \n    Automatically generates a unique filename if not provided.\n\n    Parameters\n    ----------\n    fig : matplotlib.figure.Figure\n        The figure object to save.\n    filename : str, optional\n        The name of the file to save the figure to. If None, a unique name\n        is generated based on the current date-time.\n    dpi : int, optional\n        The resolution of the output file in dots per inch.\n    close : bool, optional\n        Whether to close the figure after saving.\n    ax : matplotlib.axes.Axes or array-like of Axes, optional\n        Axes object(s) to perform operations on before saving.\n    tight_layout : bool, optional\n        Whether to adjust subplot parameters to give specified padding.\n    bbox_inches : str, optional\n        Bounding box in inches: 'tight' or a specific value.\n\n    Examples\n    --------\n    &gt;&gt;&gt; import matplotlib.pyplot as plt\n    &gt;&gt;&gt; import numpy as np\n    &gt;&gt;&gt; from gofast.tools.baseutils import save_figure\n    &gt;&gt;&gt; fig, ax = plt.subplots()\n    &gt;&gt;&gt; x = np.linspace(0, 10, 100)\n    &gt;&gt;&gt; y = np.sin(x)\n    &gt;&gt;&gt; ax.plot(x, y)\n    &gt;&gt;&gt; save_figure(fig, close=True, ax=ax)\n\n    Notes\n    -----\n    If the filename is not specified, this function generates a filename that\n    is unique to the second, using the pattern 'figure_YYYYMMDD_HHMMSS.png'.\n    If two figures are saved within the same second, it appends microseconds\n    to ensure uniqueness.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_102save_figure = {"save_figure", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_102save_figure, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_101save_figure};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_102save_figure(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_fig = 0;
  PyObject *__pyx_v_filename = 0;
  PyObject *__pyx_v_dpi = 0;
  PyObject *__pyx_v_close = 0;
  PyObject *__pyx_v_ax = 0;
  PyObject *__pyx_v_tight_layout = 0;
  PyObject *__pyx_v_bbox_inches = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("save_figure (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_fig,&amp;__pyx_n_s_filename,&amp;__pyx_n_s_dpi,&amp;__pyx_n_s_close,&amp;__pyx_n_s_ax,&amp;__pyx_n_s_tight_layout,&amp;__pyx_n_s_bbox_inches,0};
  PyObject* values[7] = {0,0,0,0,0,0,0};
    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)__pyx_int_300)));
    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_True)));
    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
/* â€¦ */
  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_101save_figure(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_fig, PyObject *__pyx_v_filename, PyObject *__pyx_v_dpi, PyObject *__pyx_v_close, PyObject *__pyx_v_ax, PyObject *__pyx_v_tight_layout, PyObject *__pyx_v_bbox_inches) {
  PyObject *__pyx_v_date_time = NULL;
  PyObject *__pyx_v_a = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__108)
  <span class='trace'>__Pyx_TraceCall</span>("save_figure", __pyx_f[0], 3271, 0, <span class='error_goto'>__PYX_ERR(0, 3271, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_filename);
/* â€¦ */
  /* function exit code */
  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.save_figure", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_date_time);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_a);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_filename);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__217 = <span class='py_c_api'>PyTuple_Pack</span>(9, __pyx_n_s_fig, __pyx_n_s_filename, __pyx_n_s_dpi, __pyx_n_s_close, __pyx_n_s_ax, __pyx_n_s_tight_layout, __pyx_n_s_bbox_inches, __pyx_n_s_date_time, __pyx_n_s_a);<span class='error_goto'> if (unlikely(!__pyx_tuple__217)) __PYX_ERR(0, 3271, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__217);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__217);
  __pyx_codeobj__108 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(7, 0, 0, 9, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__217, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_save_figure, 3271, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__108)) __PYX_ERR(0, 3271, __pyx_L1_error)</span>
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(3271,0,<span class='error_goto'>__PYX_ERR(0, 3271, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_102save_figure, 0, __pyx_n_s_save_figure, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__108));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3271, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_2, __pyx_tuple__218);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_save_figure, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3271, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_tuple__218 = <span class='py_c_api'>PyTuple_Pack</span>(6, Py_None, ((PyObject *)__pyx_int_300), ((PyObject *)Py_True), Py_None, ((PyObject *)Py_False), ((PyObject*)__pyx_n_u_tight));<span class='error_goto'> if (unlikely(!__pyx_tuple__218)) __PYX_ERR(0, 3271, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__218);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__218);
</pre><pre class="cython line score-105" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3272</span>:                 tight_layout=False, bbox_inches='tight'):</pre>
<pre class='cython code score-105 '>    values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_n_u_tight)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  7: values[6] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 6);
        CYTHON_FALLTHROUGH;
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_fig)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3271, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_filename);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3271, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_dpi);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3271, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_close);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3271, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_ax);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3271, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  5:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_tight_layout);
          if (value) { values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3271, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  6:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_bbox_inches);
          if (value) { values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3271, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "save_figure") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 3271, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  7: values[6] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 6);
        CYTHON_FALLTHROUGH;
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_fig = values[0];
    __pyx_v_filename = values[1];
    __pyx_v_dpi = values[2];
    __pyx_v_close = values[3];
    __pyx_v_ax = values[4];
    __pyx_v_tight_layout = values[5];
    __pyx_v_bbox_inches = values[6];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("save_figure", 0, 1, 7, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 3271, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.save_figure", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_101save_figure(__pyx_self, __pyx_v_fig, __pyx_v_filename, __pyx_v_dpi, __pyx_v_close, __pyx_v_ax, __pyx_v_tight_layout, __pyx_v_bbox_inches);
</pre><pre class="cython line score-0">&#xA0;<span class="">3273</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">3274</span>:     Saves a matplotlib figure to a file and optionally closes it.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3275</span>:     Automatically generates a unique filename if not provided.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3276</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3277</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">3278</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3279</span>:     fig : matplotlib.figure.Figure</pre>
<pre class="cython line score-0">&#xA0;<span class="">3280</span>:         The figure object to save.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3281</span>:     filename : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3282</span>:         The name of the file to save the figure to. If None, a unique name</pre>
<pre class="cython line score-0">&#xA0;<span class="">3283</span>:         is generated based on the current date-time.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3284</span>:     dpi : int, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3285</span>:         The resolution of the output file in dots per inch.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3286</span>:     close : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3287</span>:         Whether to close the figure after saving.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3288</span>:     ax : matplotlib.axes.Axes or array-like of Axes, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3289</span>:         Axes object(s) to perform operations on before saving.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3290</span>:     tight_layout : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3291</span>:         Whether to adjust subplot parameters to give specified padding.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3292</span>:     bbox_inches : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3293</span>:         Bounding box in inches: 'tight' or a specific value.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3294</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3295</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">3296</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3297</span>:     &gt;&gt;&gt; import matplotlib.pyplot as plt</pre>
<pre class="cython line score-0">&#xA0;<span class="">3298</span>:     &gt;&gt;&gt; import numpy as np</pre>
<pre class="cython line score-0">&#xA0;<span class="">3299</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import save_figure</pre>
<pre class="cython line score-0">&#xA0;<span class="">3300</span>:     &gt;&gt;&gt; fig, ax = plt.subplots()</pre>
<pre class="cython line score-0">&#xA0;<span class="">3301</span>:     &gt;&gt;&gt; x = np.linspace(0, 10, 100)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3302</span>:     &gt;&gt;&gt; y = np.sin(x)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3303</span>:     &gt;&gt;&gt; ax.plot(x, y)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3304</span>:     &gt;&gt;&gt; save_figure(fig, close=True, ax=ax)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3305</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3306</span>:     Notes</pre>
<pre class="cython line score-0">&#xA0;<span class="">3307</span>:     -----</pre>
<pre class="cython line score-0">&#xA0;<span class="">3308</span>:     If the filename is not specified, this function generates a filename that</pre>
<pre class="cython line score-0">&#xA0;<span class="">3309</span>:     is unique to the second, using the pattern 'figure_YYYYMMDD_HHMMSS.png'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3310</span>:     If two figures are saved within the same second, it appends microseconds</pre>
<pre class="cython line score-0">&#xA0;<span class="">3311</span>:     to ensure uniqueness.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3312</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">3313</span>:     # Generate a unique filename if not provided</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3314</span>:     if filename is None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(3314,0,<span class='error_goto'>__PYX_ERR(0, 3314, __pyx_L1_error)</span>)
  __pyx_t_1 = (__pyx_v_filename == Py_None);
  if (__pyx_t_1) {
/* â€¦ */
  }
</pre><pre class="cython line score-36" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3315</span>:         date_time = datetime.now().strftime("%Y%m%d_%H%M%S")</pre>
<pre class='cython code score-36 '>    <span class='trace'>__Pyx_TraceLine</span>(3315,0,<span class='error_goto'>__PYX_ERR(0, 3315, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_datetime);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3315, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_now);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3315, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_4)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_4, NULL};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 3315, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_strftime);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3315, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_kp_u_Y_m_d__H_M_S};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3315, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    __pyx_v_date_time = __pyx_t_2;
    __pyx_t_2 = 0;
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3316</span>:         filename = f"figure_{date_time}.png"</pre>
<pre class='cython code score-22 '>    <span class='trace'>__Pyx_TraceLine</span>(3316,0,<span class='error_goto'>__PYX_ERR(0, 3316, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3316, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_7 = 0;
    __pyx_t_8 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_figure);
    __pyx_t_7 += 7;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_figure);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_u_figure);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_date_time, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3316, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_5) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_5) : __pyx_t_8;
    __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_5);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_5);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_5);
    __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_png);
    __pyx_t_7 += 4;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_png);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 2, __pyx_kp_u_png);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_2, 3, __pyx_t_7, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3316, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_filename, __pyx_t_5);
    __pyx_t_5 = 0;
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3317</span>:         while os.path.exists(filename):</pre>
<pre class='cython code score-25 '>    <span class='trace'>__Pyx_TraceLine</span>(3317,0,<span class='error_goto'>__PYX_ERR(0, 3317, __pyx_L1_error)</span>)
    while (1) {
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3317, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3317, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_exists);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3317, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = NULL;
      __pyx_t_6 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
        __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
        if (likely(__pyx_t_3)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
          __pyx_t_6 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_filename};
        __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 3317, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      }
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_5); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3317, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      if (!__pyx_t_1) break;
</pre><pre class="cython line score-37" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3318</span>:             date_time = datetime.now().strftime("%Y%m%d_%H%M%S_%f")</pre>
<pre class='cython code score-37 '>      <span class='trace'>__Pyx_TraceLine</span>(3318,0,<span class='error_goto'>__PYX_ERR(0, 3318, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_datetime);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3318, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_now);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3318, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = NULL;
      __pyx_t_6 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
        __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
        if (likely(__pyx_t_3)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
          __pyx_t_6 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3318, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      }
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_strftime);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3318, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_2 = NULL;
      __pyx_t_6 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
        __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
        if (likely(__pyx_t_2)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
          __pyx_t_6 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_kp_u_Y_m_d__H_M_S__f};
        __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 3318, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_date_time, __pyx_t_5);
      __pyx_t_5 = 0;
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3319</span>:             filename = f"figure_{date_time}.png"</pre>
<pre class='cython code score-22 '>      <span class='trace'>__Pyx_TraceLine</span>(3319,0,<span class='error_goto'>__PYX_ERR(0, 3319, __pyx_L1_error)</span>)
      __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3319, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      __pyx_t_7 = 0;
      __pyx_t_8 = 127;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_figure);
      __pyx_t_7 += 7;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_figure);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_n_u_figure);
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_date_time, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3319, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_4) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_4) : __pyx_t_8;
      __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_4);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 1, __pyx_t_4);
      __pyx_t_4 = 0;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_png);
      __pyx_t_7 += 4;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_png);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 2, __pyx_kp_u_png);
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_5, 3, __pyx_t_7, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3319, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_filename, __pyx_t_4);
      __pyx_t_4 = 0;
    }
</pre><pre class="cython line score-0">&#xA0;<span class="">3320</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3321</span>:     # Adjust layout if requested</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3322</span>:     if tight_layout:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3322,0,<span class='error_goto'>__PYX_ERR(0, 3322, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_tight_layout); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3322, __pyx_L1_error)</span>
  if (__pyx_t_1) {
/* â€¦ */
  }
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3323</span>:         fig.tight_layout()</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(3323,0,<span class='error_goto'>__PYX_ERR(0, 3323, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_fig, __pyx_n_s_tight_layout);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3323, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_2 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_2, NULL};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 3323, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3324</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3325</span>:     # Optionally adjust axis properties</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3326</span>:     if ax is not None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(3326,0,<span class='error_goto'>__PYX_ERR(0, 3326, __pyx_L1_error)</span>)
  __pyx_t_1 = (__pyx_v_ax != Py_None);
  if (__pyx_t_1) {
/* â€¦ */
  }
</pre><pre class="cython line score-21" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3327</span>:         if isinstance(ax, (list, tuple, np.ndarray)):</pre>
<pre class='cython code score-21 '>    <span class='trace'>__Pyx_TraceLine</span>(3327,0,<span class='error_goto'>__PYX_ERR(0, 3327, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3327, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_ndarray);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3327, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_9 = <span class='py_c_api'>PyList_Check</span>(__pyx_v_ax); 
    if (!__pyx_t_9) {
    } else {
      __pyx_t_1 = __pyx_t_9;
      goto __pyx_L9_bool_binop_done;
    }
    __pyx_t_9 = <span class='py_c_api'>PyTuple_Check</span>(__pyx_v_ax); 
    if (!__pyx_t_9) {
    } else {
      __pyx_t_1 = __pyx_t_9;
      goto __pyx_L9_bool_binop_done;
    }
    __pyx_t_9 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_ax, __pyx_t_5); 
    __pyx_t_1 = __pyx_t_9;
    __pyx_L9_bool_binop_done:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (__pyx_t_1) {
/* â€¦ */
      goto __pyx_L8;
    }
</pre><pre class="cython line score-49" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3328</span>:             for a in ax:</pre>
<pre class='cython code score-49 '>      <span class='trace'>__Pyx_TraceLine</span>(3328,0,<span class='error_goto'>__PYX_ERR(0, 3328, __pyx_L1_error)</span>)
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_ax)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_ax)) {
        __pyx_t_5 = __pyx_v_ax; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        __pyx_t_7 = 0;
        __pyx_t_10 = NULL;
      } else {
        __pyx_t_7 = -1; __pyx_t_5 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_ax);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3328, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3328, __pyx_L1_error)</span>
      }
      for (;;) {
        if (likely(!__pyx_t_10)) {
          if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_5))) {
            {
              Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_5);
              #if !CYTHON_ASSUME_SAFE_MACROS
              if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3328, __pyx_L1_error)</span>
              #endif
              if (__pyx_t_7 &gt;= __pyx_temp) break;
            }
            #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
            __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_5, __pyx_t_7); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_7++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3328, __pyx_L1_error)</span>
            #else
            __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_5, __pyx_t_7); __pyx_t_7++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3328, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
            #endif
          } else {
            {
              Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_5);
              #if !CYTHON_ASSUME_SAFE_MACROS
              if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3328, __pyx_L1_error)</span>
              #endif
              if (__pyx_t_7 &gt;= __pyx_temp) break;
            }
            #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
            __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_5, __pyx_t_7); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_7++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3328, __pyx_L1_error)</span>
            #else
            __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_5, __pyx_t_7); __pyx_t_7++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3328, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
            #endif
          }
        } else {
          __pyx_t_4 = __pyx_t_10(__pyx_t_5);
          if (unlikely(!__pyx_t_4)) {
            PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
            if (exc_type) {
              if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
              else <span class='error_goto'>__PYX_ERR(0, 3328, __pyx_L1_error)</span>
            }
            break;
          }
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        }
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_a, __pyx_t_4);
        __pyx_t_4 = 0;
/* â€¦ */
        <span class='trace'>__Pyx_TraceLine</span>(3328,0,<span class='error_goto'>__PYX_ERR(0, 3328, __pyx_L1_error)</span>)
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3329</span>:                 a.grid(True)</pre>
<pre class='cython code score-17 '>        <span class='trace'>__Pyx_TraceLine</span>(3329,0,<span class='error_goto'>__PYX_ERR(0, 3329, __pyx_L1_error)</span>)
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_a, __pyx_n_s_grid);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3329, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        __pyx_t_3 = NULL;
        __pyx_t_6 = 0;
        #if CYTHON_UNPACK_METHODS
        if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
          __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
          if (likely(__pyx_t_3)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
            __pyx_t_6 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_3, Py_True};
          __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 3329, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        }
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3330</span>:         else:</pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3331</span>:             ax.grid(True)</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(3331,0,<span class='error_goto'>__PYX_ERR(0, 3331, __pyx_L1_error)</span>)
    /*else*/ {
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_ax, __pyx_n_s_grid);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3331, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_2 = NULL;
      __pyx_t_6 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
        __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
        if (likely(__pyx_t_2)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
          __pyx_t_6 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_2, Py_True};
        __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 3331, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    __pyx_L8:;
</pre><pre class="cython line score-0">&#xA0;<span class="">3332</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3333</span>:     # Save the figure</pre>
<pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3334</span>:     fig.savefig(filename, dpi=dpi, bbox_inches=bbox_inches)</pre>
<pre class='cython code score-28 '>  <span class='trace'>__Pyx_TraceLine</span>(3334,0,<span class='error_goto'>__PYX_ERR(0, 3334, __pyx_L1_error)</span>)
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_fig, __pyx_n_s_savefig);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3334, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3334, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_filename);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_filename);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_v_filename)) <span class='error_goto'>__PYX_ERR(0, 3334, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3334, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_dpi, __pyx_v_dpi) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3334, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_bbox_inches, __pyx_v_bbox_inches) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3334, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_t_4, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3334, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-34" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3335</span>:     print(f"Figure saved as '{filename}' with dpi={dpi}")</pre>
<pre class='cython code score-34 '>  <span class='trace'>__Pyx_TraceLine</span>(3335,0,<span class='error_goto'>__PYX_ERR(0, 3335, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3335, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_7 = 0;
  __pyx_t_8 = 127;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Figure_saved_as);
  __pyx_t_7 += 17;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Figure_saved_as);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_kp_u_Figure_saved_as);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_filename, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3335, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) : __pyx_t_8;
  __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_2);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_t_2);
  __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_with_dpi);
  __pyx_t_7 += 11;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_with_dpi);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 2, __pyx_kp_u_with_dpi);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_dpi, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3335, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) : __pyx_t_8;
  __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_2);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 3, __pyx_t_2);
  __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_3, 4, __pyx_t_7, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3335, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_print, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3335, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3336</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3337</span>:     # Optionally close the figure</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3338</span>:     if close:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3338,0,<span class='error_goto'>__PYX_ERR(0, 3338, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_close); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3338, __pyx_L1_error)</span>
  if (__pyx_t_1) {
/* â€¦ */
  }
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3339</span>:         plt.close(fig)</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(3339,0,<span class='error_goto'>__PYX_ERR(0, 3339, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_plt);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3339, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_close);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3339, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_fig};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 3339, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3340</span>:         print("Figure closed.")</pre>
<pre class='cython code score-8 '>    <span class='trace'>__Pyx_TraceLine</span>(3340,0,<span class='error_goto'>__PYX_ERR(0, 3340, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_print, __pyx_tuple__109, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3340, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
/* â€¦ */
  __pyx_tuple__109 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Figure_closed);<span class='error_goto'> if (unlikely(!__pyx_tuple__109)) __PYX_ERR(0, 3340, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__109);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__109);
</pre><pre class="cython line score-0">&#xA0;<span class="">3341</span>: </pre>
<pre class="cython line score-81" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3342</span>: def _handle_non_numeric(data, action='normalize'):</pre>
<pre class='cython code score-81 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_104_handle_non_numeric(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_103_handle_non_numeric, "Process input data (Series, DataFrame, or ndarray) to ensure \n    it contains only numeric data.\n    \n    Parameters:\n    data (pandas.Series, pandas.DataFrame, numpy.ndarray): Input data to process.\n    \n    Returns:\n    numpy.ndarray: An array containing only numeric data.\n    \n    Raises:\n    ValueError: If the processed data is empty after removing non-numeric types.\n    TypeError: If the input is not a Series, DataFrame, or ndarray.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_104_handle_non_numeric = {"_handle_non_numeric", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_104_handle_non_numeric, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_103_handle_non_numeric};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_104_handle_non_numeric(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_data = 0;
  PyObject *__pyx_v_action = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_handle_non_numeric (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_data,&amp;__pyx_n_s_action,0};
  PyObject* values[2] = {0,0};
    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_n_u_normalize)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3342, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_action);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3342, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_handle_non_numeric") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 3342, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_data = values[0];
    __pyx_v_action = values[1];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_handle_non_numeric", 0, 1, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 3342, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._handle_non_numeric", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_103_handle_non_numeric(__pyx_self, __pyx_v_data, __pyx_v_action);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_103_handle_non_numeric(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_data, PyObject *__pyx_v_action) {
  PyObject *__pyx_v_numeric_data = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__110)
  <span class='trace'>__Pyx_TraceCall</span>("_handle_non_numeric", __pyx_f[0], 3342, 0, <span class='error_goto'>__PYX_ERR(0, 3342, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._handle_non_numeric", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_numeric_data);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_data);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__219 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_n_s_data, __pyx_n_s_action, __pyx_n_s_numeric_data);<span class='error_goto'> if (unlikely(!__pyx_tuple__219)) __PYX_ERR(0, 3342, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__219);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__219);
  __pyx_codeobj__110 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(2, 0, 0, 3, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__219, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_handle_non_numeric, 3342, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__110)) __PYX_ERR(0, 3342, __pyx_L1_error)</span>
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(3342,0,<span class='error_goto'>__PYX_ERR(0, 3342, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_104_handle_non_numeric, 0, __pyx_n_s_handle_non_numeric, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__110));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3342, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_2, __pyx_tuple__220);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_handle_non_numeric, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3342, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_tuple__220 = <span class='py_c_api'>PyTuple_Pack</span>(1, ((PyObject*)__pyx_n_u_normalize));<span class='error_goto'> if (unlikely(!__pyx_tuple__220)) __PYX_ERR(0, 3342, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__220);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__220);
</pre><pre class="cython line score-0">&#xA0;<span class="">3343</span>:     """Process input data (Series, DataFrame, or ndarray) to ensure</pre>
<pre class="cython line score-0">&#xA0;<span class="">3344</span>:     it contains only numeric data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3345</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3346</span>:     Parameters:</pre>
<pre class="cython line score-0">&#xA0;<span class="">3347</span>:     data (pandas.Series, pandas.DataFrame, numpy.ndarray): Input data to process.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3348</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3349</span>:     Returns:</pre>
<pre class="cython line score-0">&#xA0;<span class="">3350</span>:     numpy.ndarray: An array containing only numeric data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3351</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3352</span>:     Raises:</pre>
<pre class="cython line score-0">&#xA0;<span class="">3353</span>:     ValueError: If the processed data is empty after removing non-numeric types.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3354</span>:     TypeError: If the input is not a Series, DataFrame, or ndarray.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3355</span>:     """</pre>
<pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3356</span>:     if isinstance(data, pd.Series) or isinstance(data, pd.DataFrame):</pre>
<pre class='cython code score-22 '>  <span class='trace'>__Pyx_TraceLine</span>(3356,0,<span class='error_goto'>__PYX_ERR(0, 3356, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3356, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3356, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_4 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data, __pyx_t_3);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(0, 3356, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (!__pyx_t_4) {
  } else {
    __pyx_t_1 = __pyx_t_4;
    goto __pyx_L4_bool_binop_done;
  }
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3356, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3356, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_4 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data, __pyx_t_2);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(0, 3356, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_1 = __pyx_t_4;
  __pyx_L4_bool_binop_done:;
  if (__pyx_t_1) {
/* â€¦ */
    goto __pyx_L3;
  }
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3357</span>:         if isinstance(data, pd.Series):</pre>
<pre class='cython code score-11 '>    <span class='trace'>__Pyx_TraceLine</span>(3357,0,<span class='error_goto'>__PYX_ERR(0, 3357, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3357, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3357, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_1 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data, __pyx_t_3);<span class='error_goto'> if (unlikely(__pyx_t_1 == ((int)-1))) __PYX_ERR(0, 3357, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (__pyx_t_1) {
/* â€¦ */
      goto __pyx_L6;
    }
</pre><pre class="cython line score-0">&#xA0;<span class="">3358</span>:             # Convert Series to DataFrame to use select_dtypes</pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3359</span>:             data = data.to_frame()</pre>
<pre class='cython code score-17 '>      <span class='trace'>__Pyx_TraceLine</span>(3359,0,<span class='error_goto'>__PYX_ERR(0, 3359, __pyx_L1_error)</span>)
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_to_frame);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3359, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_5 = NULL;
      __pyx_t_6 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
        __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
        if (likely(__pyx_t_5)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
          __pyx_t_6 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_5, NULL};
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 3359, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_data, __pyx_t_3);
      __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3360</span>:             # Convert back to Series if needed</pre>
<pre class="cython line score-46" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3361</span>:             numeric_data = data.select_dtypes([np.number]).squeeze()</pre>
<pre class='cython code score-46 '>      <span class='trace'>__Pyx_TraceLine</span>(3361,0,<span class='error_goto'>__PYX_ERR(0, 3361, __pyx_L1_error)</span>)
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_select_dtypes);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3361, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_7, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3361, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_7, __pyx_n_s_number);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3361, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      __pyx_t_7 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3361, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_8);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_7, 0, __pyx_t_8)) <span class='error_goto'>__PYX_ERR(0, 3361, __pyx_L1_error)</span>;
      __pyx_t_8 = 0;
      __pyx_t_8 = NULL;
      __pyx_t_6 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
        __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
        if (likely(__pyx_t_8)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
          __pyx_t_6 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_8, __pyx_t_7};
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3361, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      }
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_squeeze);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3361, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_2 = NULL;
      __pyx_t_6 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
        __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
        if (likely(__pyx_t_2)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
          __pyx_t_6 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_2, NULL};
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 3361, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      }
      __pyx_v_numeric_data = __pyx_t_3;
      __pyx_t_3 = 0;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3362</span>:         elif isinstance(data, pd.DataFrame):</pre>
<pre class='cython code score-11 '>    <span class='trace'>__Pyx_TraceLine</span>(3362,0,<span class='error_goto'>__PYX_ERR(0, 3362, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3362, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3362, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_1 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data, __pyx_t_5);<span class='error_goto'> if (unlikely(__pyx_t_1 == ((int)-1))) __PYX_ERR(0, 3362, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (__pyx_t_1) {
/* â€¦ */
    }
    __pyx_L6:;
</pre><pre class="cython line score-0">&#xA0;<span class="">3363</span>:             # For DataFrame, use select_dtypes to filter numeric data.</pre>
<pre class="cython line score-29" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3364</span>:             numeric_data = data.select_dtypes([np.number])</pre>
<pre class='cython code score-29 '>      <span class='trace'>__Pyx_TraceLine</span>(3364,0,<span class='error_goto'>__PYX_ERR(0, 3364, __pyx_L1_error)</span>)
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_select_dtypes);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3364, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3364, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_number);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3364, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3364, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_7);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 3364, __pyx_L1_error)</span>;
      __pyx_t_7 = 0;
      __pyx_t_7 = NULL;
      __pyx_t_6 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
        __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
        if (likely(__pyx_t_7)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
          __pyx_t_6 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_7, __pyx_t_2};
        __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 3364, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      }
      __pyx_v_numeric_data = __pyx_t_5;
      __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3365</span>:         # For pandas data structures, select only numeric data types.</pre>
<pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3366</span>:         if numeric_data.empty:</pre>
<pre class='cython code score-7 '>    <span class='trace'>__Pyx_TraceLine</span>(3366,0,<span class='error_goto'>__PYX_ERR(0, 3366, __pyx_L1_error)</span>)
    if (unlikely(!__pyx_v_numeric_data)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("numeric_data"); <span class='error_goto'>__PYX_ERR(0, 3366, __pyx_L1_error)</span> }
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_numeric_data, __pyx_n_s_empty);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3366, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_5); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3366, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(__pyx_t_1)) {
/* â€¦ */
    }
</pre><pre class="cython line score-27" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3367</span>:             raise ValueError(f"No numeric data to {action}.")</pre>
<pre class='cython code score-27 '>      <span class='trace'>__Pyx_TraceLine</span>(3367,0,<span class='error_goto'>__PYX_ERR(0, 3367, __pyx_L1_error)</span>)
      __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3367, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      __pyx_t_9 = 0;
      __pyx_t_10 = 127;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_No_numeric_data_to);
      __pyx_t_9 += 19;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_No_numeric_data_to);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_kp_u_No_numeric_data_to);
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_action, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3367, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_10 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_3) &gt; __pyx_t_10) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_3) : __pyx_t_10;
      __pyx_t_9 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_3);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 1, __pyx_t_3);
      __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__2);
      __pyx_t_9 += 1;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__2);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 2, __pyx_kp_u__2);
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_5, 3, __pyx_t_9, __pyx_t_10);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3367, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3367, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_5, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='error_goto'>__PYX_ERR(0, 3367, __pyx_L1_error)</span>
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3368</span>:     elif isinstance(data, np.ndarray):</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(3368,0,<span class='error_goto'>__PYX_ERR(0, 3368, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3368, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_ndarray);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3368, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_1 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data, __pyx_t_3);<span class='error_goto'> if (unlikely(__pyx_t_1 == ((int)-1))) __PYX_ERR(0, 3368, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (likely(__pyx_t_1)) {
/* â€¦ */
    goto __pyx_L3;
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">3369</span>:         # For numpy arrays, ensure the dtype is numeric.</pre>
<pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3370</span>:         if not np.issubdtype(data.dtype, np.number):</pre>
<pre class='cython code score-31 '>    <span class='trace'>__Pyx_TraceLine</span>(3370,0,<span class='error_goto'>__PYX_ERR(0, 3370, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3370, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_issubdtype);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3370, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_dtype);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3370, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_7, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3370, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_7, __pyx_n_s_number);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3370, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_7 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_7)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_7, __pyx_t_5, __pyx_t_8};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_6, 2+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 3370, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_3); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3370, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_4 = (!__pyx_t_1);
    if (__pyx_t_4) {
/* â€¦ */
      goto __pyx_L8;
    }
</pre><pre class="cython line score-0">&#xA0;<span class="">3371</span>:             # Attempt to convert non-numeric numpy array to a numeric one by coercion</pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3372</span>:             try:</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(3372,0,<span class='error_goto'>__PYX_ERR(0, 3372, __pyx_L1_error)</span>)
      {
        /*try:*/ {
/* â€¦ */
        }
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
        goto __pyx_L14_try_end;
        __pyx_L9_error:;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
/* â€¦ */
        __pyx_L11_except_error:;
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
        <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_11, __pyx_t_12, __pyx_t_13);
        goto __pyx_L1_error;
        __pyx_L14_try_end:;
      }
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3373</span>:                 numeric_data = data.astype(np.float64)</pre>
<pre class='cython code score-22 '>          <span class='trace'>__Pyx_TraceLine</span>(3373,0,<span class='error_goto'>__PYX_ERR(0, 3373, __pyx_L9_error)</span>)
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_astype);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3373, __pyx_L9_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_8, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3373, __pyx_L9_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
          __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_8, __pyx_n_s_float64);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3373, __pyx_L9_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
          __pyx_t_8 = NULL;
          __pyx_t_6 = 0;
          #if CYTHON_UNPACK_METHODS
          if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
            __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
            if (likely(__pyx_t_8)) {
              PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
              <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
              __pyx_t_6 = 1;
            }
          }
          #endif
          {
            PyObject *__pyx_callargs[2] = {__pyx_t_8, __pyx_t_5};
            __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
            if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 3373, __pyx_L9_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          }
          __pyx_v_numeric_data = __pyx_t_3;
          __pyx_t_3 = 0;
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3374</span>:             except ValueError:</pre>
<pre class='cython code score-6 '>        <span class='trace'>__Pyx_TraceLine</span>(3374,0,<span class='error_goto'>__PYX_ERR(0, 3374, __pyx_L11_except_error)</span>)
        __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyErr_ExceptionMatches</span>(__pyx_builtin_ValueError);
        if (__pyx_t_6) {
          <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._handle_non_numeric", __pyx_clineno, __pyx_lineno, __pyx_filename);
          if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_3, &amp;__pyx_t_2, &amp;__pyx_t_5) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3374, __pyx_L11_except_error)</span>
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_2);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_5);
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3375</span>:                 raise ValueError("Array contains non-numeric data that cannot"</pre>
<pre class='cython code score-10 '>          <span class='trace'>__Pyx_TraceLine</span>(3375,0,<span class='error_goto'>__PYX_ERR(0, 3375, __pyx_L11_except_error)</span>)
          __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__111, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3375, __pyx_L11_except_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
          <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_8, 0, 0, 0);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
          <span class='error_goto'>__PYX_ERR(0, 3375, __pyx_L11_except_error)</span>
        }
        goto __pyx_L11_except_error;
/* â€¦ */
  __pyx_tuple__111 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Array_contains_non_numeric_data);<span class='error_goto'> if (unlikely(!__pyx_tuple__111)) __PYX_ERR(0, 3375, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__111);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__111);
</pre><pre class="cython line score-0">&#xA0;<span class="">3376</span>:                                  " be converted to numeric type.")</pre>
<pre class="cython line score-0">&#xA0;<span class="">3377</span>:         else:</pre>
<pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3378</span>:             numeric_data = data</pre>
<pre class='cython code score-1 '>    <span class='trace'>__Pyx_TraceLine</span>(3378,0,<span class='error_goto'>__PYX_ERR(0, 3378, __pyx_L1_error)</span>)
    /*else*/ {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
      __pyx_v_numeric_data = __pyx_v_data;
    }
    __pyx_L8:;
</pre><pre class="cython line score-0">&#xA0;<span class="">3379</span>:     else:</pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3380</span>:         raise TypeError("Input must be a pandas Series, DataFrame, or a numpy array.")</pre>
<pre class='cython code score-10 '>  <span class='trace'>__Pyx_TraceLine</span>(3380,0,<span class='error_goto'>__PYX_ERR(0, 3380, __pyx_L1_error)</span>)
  /*else*/ {
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_TypeError, __pyx_tuple__112, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3380, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_5, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='error_goto'>__PYX_ERR(0, 3380, __pyx_L1_error)</span>
  }
  __pyx_L3:;
/* â€¦ */
  __pyx_tuple__112 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Input_must_be_a_pandas_Series_Da);<span class='error_goto'> if (unlikely(!__pyx_tuple__112)) __PYX_ERR(0, 3380, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__112);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__112);
</pre><pre class="cython line score-0">&#xA0;<span class="">3381</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3382</span>:     # Check if resulting numeric data is empty</pre>
<pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3383</span>:     if numeric_data.size == 0:</pre>
<pre class='cython code score-7 '>  <span class='trace'>__Pyx_TraceLine</span>(3383,0,<span class='error_goto'>__PYX_ERR(0, 3383, __pyx_L1_error)</span>)
  if (unlikely(!__pyx_v_numeric_data)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("numeric_data"); <span class='error_goto'>__PYX_ERR(0, 3383, __pyx_L1_error)</span> }
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_numeric_data, __pyx_n_s_size);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3383, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PyInt_BoolEqObjC</span>(__pyx_t_5, __pyx_int_0, 0, 0)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3383, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  if (unlikely(__pyx_t_4)) {
/* â€¦ */
  }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3384</span>:         raise ValueError("No numeric data available after processing.")</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(3384,0,<span class='error_goto'>__PYX_ERR(0, 3384, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__113, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3384, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_5, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='error_goto'>__PYX_ERR(0, 3384, __pyx_L1_error)</span>
/* â€¦ */
  __pyx_tuple__113 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_No_numeric_data_available_after);<span class='error_goto'> if (unlikely(!__pyx_tuple__113)) __PYX_ERR(0, 3384, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__113);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__113);
</pre><pre class="cython line score-0">&#xA0;<span class="">3385</span>: </pre>
<pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3386</span>:     return numeric_data</pre>
<pre class='cython code score-4 '>  <span class='trace'>__Pyx_TraceLine</span>(3386,0,<span class='error_goto'>__PYX_ERR(0, 3386, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  if (unlikely(!__pyx_v_numeric_data)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("numeric_data"); <span class='error_goto'>__PYX_ERR(0, 3386, __pyx_L1_error)</span> }
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_numeric_data);
  __pyx_r = __pyx_v_numeric_data;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3387</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3388</span>: </pre>
<pre class="cython line score-76" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3389</span>: def _nan_checker(arr, allow_nan=False):</pre>
<pre class='cython code score-76 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_106_nan_checker(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_105_nan_checker, "Check and handle NaN values in a numpy array, pandas Series, \n    or pandas DataFrame.\n\n    Parameters:\n    arr (numpy.ndarray, pandas.Series, pandas.DataFrame): The data to check\n    for NaNs.\n    allow_nan (bool): If False, raises an error if NaNs are found. If True, \n    replaces NaNs with zero.\n\n    Returns:\n    numpy.ndarray, pandas.Series, pandas.DataFrame: Data with NaNs handled \n    according to allow_nan.\n\n    Raises:\n    ValueError: If NaNs are found and allow_nan is False.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_106_nan_checker = {"_nan_checker", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_106_nan_checker, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_105_nan_checker};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_106_nan_checker(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_arr = 0;
  PyObject *__pyx_v_allow_nan = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_nan_checker (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_arr,&amp;__pyx_n_s_allow_nan,0};
  PyObject* values[2] = {0,0};
    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_arr)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3389, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_allow_nan);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3389, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_nan_checker") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 3389, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_arr = values[0];
    __pyx_v_allow_nan = values[1];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_nan_checker", 0, 1, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 3389, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._nan_checker", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_105_nan_checker(__pyx_self, __pyx_v_arr, __pyx_v_allow_nan);

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_105_nan_checker(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_arr, PyObject *__pyx_v_allow_nan) {
  PyObject *__pyx_v_contain_nans = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__114)
  <span class='trace'>__Pyx_TraceCall</span>("_nan_checker", __pyx_f[0], 3389, 0, <span class='error_goto'>__PYX_ERR(0, 3389, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._nan_checker", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_contain_nans);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_arr);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__221 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_n_s_arr, __pyx_n_s_allow_nan, __pyx_n_s_contain_nans);<span class='error_goto'> if (unlikely(!__pyx_tuple__221)) __PYX_ERR(0, 3389, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__221);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__221);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(3389,0,<span class='error_goto'>__PYX_ERR(0, 3389, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_106_nan_checker, 0, __pyx_n_s_nan_checker, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__114));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3389, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_2, __pyx_tuple__194);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_nan_checker, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3389, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_codeobj__114 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(2, 0, 0, 3, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__221, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_nan_checker, 3389, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__114)) __PYX_ERR(0, 3389, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3390</span>:     """Check and handle NaN values in a numpy array, pandas Series,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3391</span>:     or pandas DataFrame.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3392</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3393</span>:     Parameters:</pre>
<pre class="cython line score-0">&#xA0;<span class="">3394</span>:     arr (numpy.ndarray, pandas.Series, pandas.DataFrame): The data to check</pre>
<pre class="cython line score-0">&#xA0;<span class="">3395</span>:     for NaNs.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3396</span>:     allow_nan (bool): If False, raises an error if NaNs are found. If True,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3397</span>:     replaces NaNs with zero.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3398</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3399</span>:     Returns:</pre>
<pre class="cython line score-0">&#xA0;<span class="">3400</span>:     numpy.ndarray, pandas.Series, pandas.DataFrame: Data with NaNs handled</pre>
<pre class="cython line score-0">&#xA0;<span class="">3401</span>:     according to allow_nan.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3402</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3403</span>:     Raises:</pre>
<pre class="cython line score-0">&#xA0;<span class="">3404</span>:     ValueError: If NaNs are found and allow_nan is False.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3405</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">3406</span>:     # Check for NaNs across different types</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3407</span>:     if not allow_nan:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3407,0,<span class='error_goto'>__PYX_ERR(0, 3407, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_allow_nan); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3407, __pyx_L1_error)</span>
  __pyx_t_2 = (!__pyx_t_1);
  if (__pyx_t_2) {
/* â€¦ */
  }
</pre><pre class="cython line score-33" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3408</span>:         if isinstance(arr, (np.ndarray, pd.Series, pd.DataFrame)):</pre>
<pre class='cython code score-33 '>    <span class='trace'>__Pyx_TraceLine</span>(3408,0,<span class='error_goto'>__PYX_ERR(0, 3408, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3408, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_ndarray);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3408, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3408, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3408, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3408, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3408, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_1 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_arr, __pyx_t_4); 
    if (!__pyx_t_1) {
    } else {
      __pyx_t_2 = __pyx_t_1;
      goto __pyx_L5_bool_binop_done;
    }
    __pyx_t_1 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_arr, __pyx_t_5); 
    if (!__pyx_t_1) {
    } else {
      __pyx_t_2 = __pyx_t_1;
      goto __pyx_L5_bool_binop_done;
    }
    __pyx_t_1 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_arr, __pyx_t_6); 
    __pyx_t_2 = __pyx_t_1;
    __pyx_L5_bool_binop_done:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (__pyx_t_2) {
/* â€¦ */
    }
</pre><pre class="cython line score-42" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3409</span>:             contain_nans = np.isnan(arr).any() if isinstance (</pre>
<pre class='cython code score-42 '>      <span class='trace'>__Pyx_TraceLine</span>(3409,0,<span class='error_goto'>__PYX_ERR(0, 3409, __pyx_L1_error)</span>)
      __pyx_t_2 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_arr, __pyx_t_6);<span class='error_goto'> if (unlikely(__pyx_t_2 == ((int)-1))) __PYX_ERR(0, 3409, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (__pyx_t_2) {
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3409, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_isnan);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3409, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        __pyx_t_3 = NULL;
        __pyx_t_8 = 0;
        #if CYTHON_UNPACK_METHODS
        if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
          __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
          if (likely(__pyx_t_3)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
            __pyx_t_8 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_arr};
          __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 3409, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        }
        __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_any);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3409, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        __pyx_t_5 = NULL;
        __pyx_t_8 = 0;
        #if CYTHON_UNPACK_METHODS
        if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
          __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
          if (likely(__pyx_t_5)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
            __pyx_t_8 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_5, NULL};
          __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_8, 0+__pyx_t_8);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
          if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 3409, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        }
        __pyx_t_4 = __pyx_t_6;
        __pyx_t_6 = 0;
      } else {
</pre><pre class="cython line score-44" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3410</span>:                 arr, np.ndarray)  else pd.isnull(arr).values.any()</pre>
<pre class='cython code score-44 '>      <span class='trace'>__Pyx_TraceLine</span>(3410,0,<span class='error_goto'>__PYX_ERR(0, 3410, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3410, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_ndarray);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3410, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
/* â€¦ */
        <span class='trace'>__Pyx_TraceLine</span>(3410,0,<span class='error_goto'>__PYX_ERR(0, 3410, __pyx_L1_error)</span>)
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3410, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_isnull);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3410, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        __pyx_t_5 = NULL;
        __pyx_t_8 = 0;
        #if CYTHON_UNPACK_METHODS
        if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
          __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
          if (likely(__pyx_t_5)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
            __pyx_t_8 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_v_arr};
          __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
          if (unlikely(!__pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 3410, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        }
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_7, __pyx_n_s_values);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3410, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_any);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3410, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        __pyx_t_3 = NULL;
        __pyx_t_8 = 0;
        #if CYTHON_UNPACK_METHODS
        if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
          __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
          if (likely(__pyx_t_3)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
            __pyx_t_8 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
          __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_8, 0+__pyx_t_8);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 3410, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        }
        __pyx_t_4 = __pyx_t_6;
        __pyx_t_6 = 0;
      }
      __pyx_v_contain_nans = __pyx_t_4;
      __pyx_t_4 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3411</span>:             if contain_nans:</pre>
<pre class='cython code score-2 '>      <span class='trace'>__Pyx_TraceLine</span>(3411,0,<span class='error_goto'>__PYX_ERR(0, 3411, __pyx_L1_error)</span>)
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_contain_nans); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3411, __pyx_L1_error)</span>
      if (unlikely(__pyx_t_2)) {
/* â€¦ */
      }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3412</span>:                 raise ValueError("NaN values found, set allow_nan=True to handle them.")</pre>
<pre class='cython code score-10 '>        <span class='trace'>__Pyx_TraceLine</span>(3412,0,<span class='error_goto'>__PYX_ERR(0, 3412, __pyx_L1_error)</span>)
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__115, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3412, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_4, 0, 0, 0);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        <span class='error_goto'>__PYX_ERR(0, 3412, __pyx_L1_error)</span>
/* â€¦ */
  __pyx_tuple__115 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_NaN_values_found_set_allow_nan_T);<span class='error_goto'> if (unlikely(!__pyx_tuple__115)) __PYX_ERR(0, 3412, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__115);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__115);
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3413</span>:     if allow_nan:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3413,0,<span class='error_goto'>__PYX_ERR(0, 3413, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_allow_nan); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3413, __pyx_L1_error)</span>
  if (__pyx_t_2) {
/* â€¦ */
  }
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3414</span>:         if isinstance(arr, np.ndarray):</pre>
<pre class='cython code score-11 '>    <span class='trace'>__Pyx_TraceLine</span>(3414,0,<span class='error_goto'>__PYX_ERR(0, 3414, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3414, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_ndarray);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3414, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_2 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_arr, __pyx_t_6);<span class='error_goto'> if (unlikely(__pyx_t_2 == ((int)-1))) __PYX_ERR(0, 3414, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    if (__pyx_t_2) {
/* â€¦ */
      goto __pyx_L10;
    }
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3415</span>:             arr = np.nan_to_mode(arr)  # Replace NaNs with zero for numpy arrays</pre>
<pre class='cython code score-20 '>      <span class='trace'>__Pyx_TraceLine</span>(3415,0,<span class='error_goto'>__PYX_ERR(0, 3415, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3415, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_nan_to_mode);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3415, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_4 = NULL;
      __pyx_t_8 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
        __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
        if (likely(__pyx_t_4)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
          __pyx_t_8 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_v_arr};
        __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 3415, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_6);
      __pyx_t_6 = 0;
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3416</span>:         elif isinstance(arr, (pd.Series, pd.DataFrame)):</pre>
<pre class='cython code score-22 '>    <span class='trace'>__Pyx_TraceLine</span>(3416,0,<span class='error_goto'>__PYX_ERR(0, 3416, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3416, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3416, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3416, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3416, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_1 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_arr, __pyx_t_7); 
    if (!__pyx_t_1) {
    } else {
      __pyx_t_2 = __pyx_t_1;
      goto __pyx_L11_bool_binop_done;
    }
    __pyx_t_1 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_arr, __pyx_t_4); 
    __pyx_t_2 = __pyx_t_1;
    __pyx_L11_bool_binop_done:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    if (__pyx_t_2) {
/* â€¦ */
    }
    __pyx_L10:;
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3417</span>:             arr = arr.fillna(0)  # Replace NaNs with zero for pandas Series or DataFrame</pre>
<pre class='cython code score-17 '>      <span class='trace'>__Pyx_TraceLine</span>(3417,0,<span class='error_goto'>__PYX_ERR(0, 3417, __pyx_L1_error)</span>)
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_arr, __pyx_n_s_fillna);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3417, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_6 = NULL;
      __pyx_t_8 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
        __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
        if (likely(__pyx_t_6)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
          __pyx_t_8 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_int_0};
        __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
        if (unlikely(!__pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 3417, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_7);
      __pyx_t_7 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3418</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3419</span>:     return arr</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3419,0,<span class='error_goto'>__PYX_ERR(0, 3419, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
  __pyx_r = __pyx_v_arr;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3420</span>: </pre>
<pre class="cython line score-101" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3421</span>: def normalizer(</pre>
<pre class='cython code score-101 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_108normalizer(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_107normalizer, "\n    Normalize given arrays using a specified method and scaler, optionally \n    along a specified axis. \n    \n    Handles non-numeric data and NaNs according to the parameters.\n\n    Parameters\n    ----------\n    arrays : tuple of np.ndarray\n        A tuple containing one or more arrays (either 1D or 2D) to be normalized.\n    method : str, default '01'\n        Specifies the normalization method to apply. Options include:\n        - '01' : Normalizes the data to the range [0, 1].\n        - 'zscore' : Uses Z-score normalization (standardization).\n        - 'sum' : Scales the data so that the sum is 1.\n        Note that the 'sum' method is not compatible with the 'sklearn' scaler.\n    scaler : str, default 'naive'\n        Specifies the type of scaling technique to use. Options include:\n        - 'naive' : Simple mathematical operations based on the method.\n        - 'sklearn' : Utilizes scikit-learn's MinMaxScaler or StandardScaler,\n          depending on the `method` specified.\n    allow_nan : bool, default False\n        Determines how NaN values should be handled. If False, the function \n        will raise an error if NaN values are present. If True, NaNs will be \n        replaced with zero or handled by an imputer,\n        depending on the context.\n    axis : int, optional\n        The axis along which to normalize the data. By default (None), the \n        data is normalized based on all elements. If specified, normalization \n        is done along the axis for 2D arrays:\n        - axis=0 : Normalize each column.\n        - axis=1 : Normalize each row.\n\n    Returns\n    -------\n    list of np.ndarray\n        A list of normalized arrays. If only one array is provided, a single \n        normalized array is returned.\n\n    Raises\n    ------\n    ValueError\n        If `allow_nan` is False and NaNs are detected.\n        If an invalid normalization method or combination of scaler and method \n        is specified.\n\n    Notes\n    ----""-\n    - The function internally converts pandas DataFrames and Series to numpy \n      arrays for processing.\n    - Non-numeric data types within arrays are filtered out before normalization.\n    - It's important to consider the scale of values and distribution of data\n      when choosing a normalization method,\n      as each method can significantly affect the outcome and interpretation \n      of results.\n\n    Examples\n    --------\n    &gt;&gt;&gt; import numpy as np \n    &gt;&gt;&gt; from gofast.tools.baseutils import normalizer \n    &gt;&gt;&gt; arr = np.array([10, 20, 30, 40, 50])\n    &gt;&gt;&gt; normalizer(arr, method='01', scaler='naive')\n    array([0. , 0.25, 0.5 , 0.75, 1. ])\n    \n    &gt;&gt;&gt; arr2d = np.array([[1, 2], [3, 4]])\n    &gt;&gt;&gt; normalizer(arr2d, method='zscore', axis=0)\n    array([[-1., -1.], [ 1.,  1.]])\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_108normalizer = {"normalizer", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_108normalizer, METH_VARARGS|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_107normalizer};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_108normalizer(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_method = 0;
  PyObject *__pyx_v_scaler = 0;
  PyObject *__pyx_v_allow_nan = 0;
  PyObject *__pyx_v_axis = 0;
  PyObject *__pyx_v_arrays = 0;
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("normalizer (wrapper)", 0);
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_VARARGS</span>(__pyx_args, __pyx_nargs);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_args);
  __pyx_v_arrays = __pyx_args;
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_method,&amp;__pyx_n_s_scaler,&amp;__pyx_n_s_allow_nan,&amp;__pyx_n_s_axis,0};
  PyObject* values[4] = {0,0,0,0};
    values[0] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_VARARGS</span>(((PyObject*)((PyObject*)__pyx_kp_u_01)));
    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_VARARGS</span>(((PyObject*)((PyObject*)__pyx_n_u_naive)));
/* â€¦ */
  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_arrays);
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_VARARGS</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
static PyObject *__pyx_pf_6gofast_5tools_9baseutils_107normalizer(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_method, PyObject *__pyx_v_scaler, PyObject *__pyx_v_allow_nan, PyObject *__pyx_v_axis, PyObject *__pyx_v_arrays) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_22_normalizer *__pyx_cur_scope;
  PyObject *__pyx_v__normalize_array = 0;
  PyObject *__pyx_v_normalized_arrays = NULL;
  PyObject *__pyx_v_arr = NULL;
  PyObject *__pyx_v_normalized = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__118)
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_22_normalizer *)__pyx_tp_new_6gofast_5tools_9baseutils___pyx_scope_struct_22_normalizer(__pyx_ptype_6gofast_5tools_9baseutils___pyx_scope_struct_22_normalizer, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_22_normalizer *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 3421, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  <span class='trace'>__Pyx_TraceCall</span>("normalizer", __pyx_f[0], 3421, 0, <span class='error_goto'>__PYX_ERR(0, 3421, __pyx_L1_error)</span>);
  __pyx_cur_scope-&gt;__pyx_v_allow_nan = __pyx_v_allow_nan;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_allow_nan);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_v_allow_nan);
  __pyx_cur_scope-&gt;__pyx_v_axis = __pyx_v_axis;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_axis);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_v_axis);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.normalizer", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v__normalize_array);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_normalized_arrays);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_arr);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_normalized);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__222 = <span class='py_c_api'>PyTuple_Pack</span>(12, __pyx_n_s_method, __pyx_n_s_scaler, __pyx_n_s_allow_nan, __pyx_n_s_axis, __pyx_n_s_arrays, __pyx_n_s_MinMaxScaler, __pyx_n_s_StandardScaler, __pyx_n_s_normalize_array_2, __pyx_n_s_normalize_array_2, __pyx_n_s_normalized_arrays, __pyx_n_s_arr, __pyx_n_s_normalized);<span class='error_goto'> if (unlikely(!__pyx_tuple__222)) __PYX_ERR(0, 3421, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__222);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__222);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(3421,0,<span class='error_goto'>__PYX_ERR(0, 3421, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3421, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_method, ((PyObject*)__pyx_kp_u_01)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3421, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_scaler, ((PyObject*)__pyx_n_u_naive)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3421, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_allow_nan, ((PyObject *)Py_False)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3421, __pyx_L1_error)</span>
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(3421,0,<span class='error_goto'>__PYX_ERR(0, 3421, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(6);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3421, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_method, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3421, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_scaler, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3421, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_allow_nan, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3421, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_axis, __pyx_kp_s_Optional_int) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3421, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_arrays, __pyx_kp_s_tuple_np_ndarray) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3421, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return, __pyx_kp_s_List_np_ndarray) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3421, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_108normalizer, 0, __pyx_n_s_normalizer, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__118));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3421, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsKwDict</span>(__pyx_t_4, __pyx_t_2);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_4, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_normalizer, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3421, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_codeobj__118 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(0, 0, 4, 12, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARARGS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__222, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_normalizer, 3421, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__118)) __PYX_ERR(0, 3421, __pyx_L1_error)</span>
/* â€¦ */
struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_22_normalizer {
  PyObject_HEAD
  PyObject *__pyx_v_MinMaxScaler;
  PyObject *__pyx_v_StandardScaler;
  PyObject *__pyx_v_allow_nan;
  PyObject *__pyx_v_axis;
};

</pre><pre class="cython line score-0">&#xA0;<span class="">3422</span>:     *arrays: tuple[np.ndarray],</pre>
<pre class="cython line score-0">&#xA0;<span class="">3423</span>:     method: str = '01',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3424</span>:     scaler: str = 'naive',</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3425</span>:     allow_nan: bool = False,</pre>
<pre class='cython code score-2 '>    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_VARARGS</span>(((PyObject *)((PyObject *)Py_False)));
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3426</span>:     axis: Optional[int] = None) -&gt; List[np.ndarray]:</pre>
<pre class='cython code score-31 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_VARARGS</span>(((PyObject *)Py_None));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        default:
        case  0: break;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_VARARGS</span>(__pyx_kwds);
      if (kw_args &gt; 0 &amp;&amp; likely(kw_args &lt;= 4)) {
        Py_ssize_t index;
        for (index = 0; index &lt; 4 &amp;&amp; kw_args &gt; 0; index++) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_VARARGS</span>(__pyx_kwds, __pyx_kwvalues, *__pyx_pyargnames[index]);
          if (value) { values[index] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_VARARGS</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3421, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, 0, "normalizer") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 3421, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs &lt; 0)) {
      goto __pyx_L5_argtuple_error;
    } else {
    }
    __pyx_v_method = ((PyObject*)values[0]);
    __pyx_v_scaler = ((PyObject*)values[1]);
    __pyx_v_allow_nan = values[2];
    __pyx_v_axis = values[3];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("normalizer", 0, 0, 0, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 3421, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_VARARGS</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_arrays); __pyx_v_arrays = 0;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.normalizer", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_method), (&amp;PyUnicode_Type), 0, "method", 1))) <span class='error_goto'>__PYX_ERR(0, 3423, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_scaler), (&amp;PyUnicode_Type), 0, "scaler", 1))) <span class='error_goto'>__PYX_ERR(0, 3424, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_107normalizer(__pyx_self, __pyx_v_method, __pyx_v_scaler, __pyx_v_allow_nan, __pyx_v_axis, __pyx_v_arrays);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(3426,0,<span class='error_goto'>__PYX_ERR(0, 3426, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_axis, Py_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3421, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3427</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">3428</span>:     Normalize given arrays using a specified method and scaler, optionally</pre>
<pre class="cython line score-0">&#xA0;<span class="">3429</span>:     along a specified axis.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3430</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3431</span>:     Handles non-numeric data and NaNs according to the parameters.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3432</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3433</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">3434</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3435</span>:     arrays : tuple of np.ndarray</pre>
<pre class="cython line score-0">&#xA0;<span class="">3436</span>:         A tuple containing one or more arrays (either 1D or 2D) to be normalized.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3437</span>:     method : str, default '01'</pre>
<pre class="cython line score-0">&#xA0;<span class="">3438</span>:         Specifies the normalization method to apply. Options include:</pre>
<pre class="cython line score-0">&#xA0;<span class="">3439</span>:         - '01' : Normalizes the data to the range [0, 1].</pre>
<pre class="cython line score-0">&#xA0;<span class="">3440</span>:         - 'zscore' : Uses Z-score normalization (standardization).</pre>
<pre class="cython line score-0">&#xA0;<span class="">3441</span>:         - 'sum' : Scales the data so that the sum is 1.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3442</span>:         Note that the 'sum' method is not compatible with the 'sklearn' scaler.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3443</span>:     scaler : str, default 'naive'</pre>
<pre class="cython line score-0">&#xA0;<span class="">3444</span>:         Specifies the type of scaling technique to use. Options include:</pre>
<pre class="cython line score-0">&#xA0;<span class="">3445</span>:         - 'naive' : Simple mathematical operations based on the method.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3446</span>:         - 'sklearn' : Utilizes scikit-learn's MinMaxScaler or StandardScaler,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3447</span>:           depending on the `method` specified.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3448</span>:     allow_nan : bool, default False</pre>
<pre class="cython line score-0">&#xA0;<span class="">3449</span>:         Determines how NaN values should be handled. If False, the function</pre>
<pre class="cython line score-0">&#xA0;<span class="">3450</span>:         will raise an error if NaN values are present. If True, NaNs will be</pre>
<pre class="cython line score-0">&#xA0;<span class="">3451</span>:         replaced with zero or handled by an imputer,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3452</span>:         depending on the context.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3453</span>:     axis : int, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3454</span>:         The axis along which to normalize the data. By default (None), the</pre>
<pre class="cython line score-0">&#xA0;<span class="">3455</span>:         data is normalized based on all elements. If specified, normalization</pre>
<pre class="cython line score-0">&#xA0;<span class="">3456</span>:         is done along the axis for 2D arrays:</pre>
<pre class="cython line score-0">&#xA0;<span class="">3457</span>:         - axis=0 : Normalize each column.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3458</span>:         - axis=1 : Normalize each row.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3459</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3460</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">3461</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3462</span>:     list of np.ndarray</pre>
<pre class="cython line score-0">&#xA0;<span class="">3463</span>:         A list of normalized arrays. If only one array is provided, a single</pre>
<pre class="cython line score-0">&#xA0;<span class="">3464</span>:         normalized array is returned.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3465</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3466</span>:     Raises</pre>
<pre class="cython line score-0">&#xA0;<span class="">3467</span>:     ------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3468</span>:     ValueError</pre>
<pre class="cython line score-0">&#xA0;<span class="">3469</span>:         If `allow_nan` is False and NaNs are detected.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3470</span>:         If an invalid normalization method or combination of scaler and method</pre>
<pre class="cython line score-0">&#xA0;<span class="">3471</span>:         is specified.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3472</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3473</span>:     Notes</pre>
<pre class="cython line score-0">&#xA0;<span class="">3474</span>:     -----</pre>
<pre class="cython line score-0">&#xA0;<span class="">3475</span>:     - The function internally converts pandas DataFrames and Series to numpy</pre>
<pre class="cython line score-0">&#xA0;<span class="">3476</span>:       arrays for processing.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3477</span>:     - Non-numeric data types within arrays are filtered out before normalization.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3478</span>:     - It's important to consider the scale of values and distribution of data</pre>
<pre class="cython line score-0">&#xA0;<span class="">3479</span>:       when choosing a normalization method,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3480</span>:       as each method can significantly affect the outcome and interpretation</pre>
<pre class="cython line score-0">&#xA0;<span class="">3481</span>:       of results.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3482</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3483</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">3484</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3485</span>:     &gt;&gt;&gt; import numpy as np</pre>
<pre class="cython line score-0">&#xA0;<span class="">3486</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import normalizer</pre>
<pre class="cython line score-0">&#xA0;<span class="">3487</span>:     &gt;&gt;&gt; arr = np.array([10, 20, 30, 40, 50])</pre>
<pre class="cython line score-0">&#xA0;<span class="">3488</span>:     &gt;&gt;&gt; normalizer(arr, method='01', scaler='naive')</pre>
<pre class="cython line score-0">&#xA0;<span class="">3489</span>:     array([0. , 0.25, 0.5 , 0.75, 1. ])</pre>
<pre class="cython line score-0">&#xA0;<span class="">3490</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3491</span>:     &gt;&gt;&gt; arr2d = np.array([[1, 2], [3, 4]])</pre>
<pre class="cython line score-0">&#xA0;<span class="">3492</span>:     &gt;&gt;&gt; normalizer(arr2d, method='zscore', axis=0)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3493</span>:     array([[-1., -1.], [ 1.,  1.]])</pre>
<pre class="cython line score-0">&#xA0;<span class="">3494</span>:     """</pre>
<pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3495</span>:     from sklearn.preprocessing import MinMaxScaler, StandardScaler</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(3495,0,<span class='error_goto'>__PYX_ERR(0, 3495, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3495, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_MinMaxScaler);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_MinMaxScaler);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_n_s_MinMaxScaler)) <span class='error_goto'>__PYX_ERR(0, 3495, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_StandardScaler);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_StandardScaler);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 1, __pyx_n_s_StandardScaler)) <span class='error_goto'>__PYX_ERR(0, 3495, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_sklearn_preprocessing, __pyx_t_1, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3495, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_MinMaxScaler);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3495, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  __pyx_cur_scope-&gt;__pyx_v_MinMaxScaler = __pyx_t_1;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_StandardScaler);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3495, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  __pyx_cur_scope-&gt;__pyx_v_StandardScaler = __pyx_t_1;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3496</span>: </pre>
<pre class="cython line score-92" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3497</span>:     def _normalize_array(arr, method, scaler):</pre>
<pre class='cython code score-92 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_10normalizer_1_normalize_array(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_10normalizer_1_normalize_array = {"_normalize_array", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_10normalizer_1_normalize_array, __Pyx_METH_FASTCALL|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_10normalizer_1_normalize_array(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_arr = 0;
  PyObject *__pyx_v_method = 0;
  PyObject *__pyx_v_scaler = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_normalize_array (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_arr,&amp;__pyx_n_s_method,&amp;__pyx_n_s_scaler,0};
  PyObject* values[3] = {0,0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_arr)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3497, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_method)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3497, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_normalize_array", 1, 3, 3, 1); <span class='error_goto'>__PYX_ERR(0, 3497, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (likely((values[2] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_scaler)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[2]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3497, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_normalize_array", 1, 3, 3, 2); <span class='error_goto'>__PYX_ERR(0, 3497, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_normalize_array") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 3497, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 3)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
      values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
    }
    __pyx_v_arr = values[0];
    __pyx_v_method = values[1];
    __pyx_v_scaler = values[2];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_normalize_array", 1, 3, 3, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 3497, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.normalizer._normalize_array", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_10normalizer__normalize_array(__pyx_self, __pyx_v_arr, __pyx_v_method, __pyx_v_scaler);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_10normalizer__normalize_array(PyObject *__pyx_self, PyObject *__pyx_v_arr, PyObject *__pyx_v_method, PyObject *__pyx_v_scaler) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_22_normalizer *__pyx_cur_scope;
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_22_normalizer *__pyx_outer_scope;
  int __pyx_v_is_array_1d;
  PyObject *__pyx_v_scaler_object = NULL;
  PyObject *__pyx_v_scaled = NULL;
  PyObject *__pyx_v_name_or_columns = NULL;
  PyObject *__pyx_v_index = NULL;
  PyObject *__pyx_v_arr_min = NULL;
  PyObject *__pyx_v_arr_max = NULL;
  PyObject *__pyx_v_mean = NULL;
  PyObject *__pyx_v_std = NULL;
  PyObject *__pyx_v_sum_val = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_outer_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_22_normalizer *) <span class='pyx_c_api'>__Pyx_CyFunction_GetClosure</span>(__pyx_self);
  __pyx_cur_scope = __pyx_outer_scope;
  <span class='trace'>__Pyx_TraceCall</span>("_normalize_array", __pyx_f[0], 3497, 0, <span class='error_goto'>__PYX_ERR(0, 3497, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.normalizer._normalize_array", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_scaler_object);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_scaled);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_name_or_columns);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_index);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_arr_min);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_arr_max);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_mean);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_std);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_sum_val);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_arr);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__119 = <span class='py_c_api'>PyTuple_Pack</span>(13, __pyx_n_s_arr, __pyx_n_s_method, __pyx_n_s_scaler, __pyx_n_s_is_array_1d, __pyx_n_s_scaler_object, __pyx_n_s_scaled, __pyx_n_s_name_or_columns, __pyx_n_s_index, __pyx_n_s_arr_min, __pyx_n_s_arr_max, __pyx_n_s_mean, __pyx_n_s_std, __pyx_n_s_sum_val);<span class='error_goto'> if (unlikely(!__pyx_tuple__119)) __PYX_ERR(0, 3497, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__119);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__119);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(3497,0,<span class='error_goto'>__PYX_ERR(0, 3497, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_10normalizer_1_normalize_array, 0, __pyx_n_s_normalizer_locals__normalize_arr, ((PyObject*)__pyx_cur_scope), __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__120));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3497, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_v__normalize_array = __pyx_t_2;
  __pyx_t_2 = 0;
  __pyx_codeobj__120 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(3, 0, 0, 13, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__119, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_normalize_array_2, 3497, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__120)) __PYX_ERR(0, 3497, __pyx_L1_error)</span>
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3498</span>:         arr = _nan_checker(arr, allow_nan = allow_nan )</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(3498,0,<span class='error_goto'>__PYX_ERR(0, 3498, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_nan_checker);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3498, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3498, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arr);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_arr)) <span class='error_goto'>__PYX_ERR(0, 3498, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3498, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_allow_nan)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("allow_nan"); <span class='error_goto'>__PYX_ERR(0, 3498, __pyx_L1_error)</span> }
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_allow_nan, __pyx_cur_scope-&gt;__pyx_v_allow_nan) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3498, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_2, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3498, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_4);
  __pyx_t_4 = 0;
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3499</span>:         if scaler in ['sklearn', 'scikit-learn']:</pre>
<pre class='cython code score-6 '>  <span class='trace'>__Pyx_TraceLine</span>(3499,0,<span class='error_goto'>__PYX_ERR(0, 3499, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_scaler);
  __pyx_t_4 = __pyx_v_scaler;
  __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_4, __pyx_n_u_sklearn, Py_EQ)); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3499, __pyx_L1_error)</span>
  if (!__pyx_t_6) {
  } else {
    __pyx_t_5 = __pyx_t_6;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_4, __pyx_kp_u_scikit_learn, Py_EQ)); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3499, __pyx_L1_error)</span>
  __pyx_t_5 = __pyx_t_6;
  __pyx_L4_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_6 = __pyx_t_5;
  if (__pyx_t_6) {
/* â€¦ */
    goto __pyx_L3;
  }
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3500</span>:             is_array_1d =False</pre>
<pre class='cython code score-0 '>    <span class='trace'>__Pyx_TraceLine</span>(3500,0,<span class='error_goto'>__PYX_ERR(0, 3500, __pyx_L1_error)</span>)
    __pyx_v_is_array_1d = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3501</span>:             if method == 'sum':</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(3501,0,<span class='error_goto'>__PYX_ERR(0, 3501, __pyx_L1_error)</span>)
    __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_method, __pyx_n_u_sum, Py_EQ)); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3501, __pyx_L1_error)</span>
    if (unlikely(__pyx_t_6)) {
/* â€¦ */
    }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3502</span>:                 raise ValueError("`sum` method is not valid with `scaler`='sklearn'.")</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(3502,0,<span class='error_goto'>__PYX_ERR(0, 3502, __pyx_L1_error)</span>)
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__116, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3502, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_4, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='error_goto'>__PYX_ERR(0, 3502, __pyx_L1_error)</span>
/* â€¦ */
  __pyx_tuple__116 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_sum_method_is_not_valid_with_sc);<span class='error_goto'> if (unlikely(!__pyx_tuple__116)) __PYX_ERR(0, 3502, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__116);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__116);
</pre><pre class="cython line score-36" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3503</span>:             scaler_object = MinMaxScaler() if method == '01' else StandardScaler()</pre>
<pre class='cython code score-36 '>    <span class='trace'>__Pyx_TraceLine</span>(3503,0,<span class='error_goto'>__PYX_ERR(0, 3503, __pyx_L1_error)</span>)
    __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_method, __pyx_kp_u_01, Py_EQ)); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3503, __pyx_L1_error)</span>
    if (__pyx_t_6) {
      if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_MinMaxScaler)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("MinMaxScaler"); <span class='error_goto'>__PYX_ERR(0, 3503, __pyx_L1_error)</span> }
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_MinMaxScaler);
      __pyx_t_2 = __pyx_cur_scope-&gt;__pyx_v_MinMaxScaler; __pyx_t_1 = NULL;
      __pyx_t_7 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
        __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
        if (likely(__pyx_t_1)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
          __pyx_t_7 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_1, NULL};
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_7, 0+__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 3503, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      }
      __pyx_t_4 = __pyx_t_3;
      __pyx_t_3 = 0;
    } else {
      if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_StandardScaler)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("StandardScaler"); <span class='error_goto'>__PYX_ERR(0, 3503, __pyx_L1_error)</span> }
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_StandardScaler);
      __pyx_t_2 = __pyx_cur_scope-&gt;__pyx_v_StandardScaler; __pyx_t_1 = NULL;
      __pyx_t_7 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
        __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
        if (likely(__pyx_t_1)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
          __pyx_t_7 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_1, NULL};
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_7, 0+__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 3503, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      }
      __pyx_t_4 = __pyx_t_3;
      __pyx_t_3 = 0;
    }
    __pyx_v_scaler_object = __pyx_t_4;
    __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3504</span>: </pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3505</span>:             if arr.ndim ==1:</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(3505,0,<span class='error_goto'>__PYX_ERR(0, 3505, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_arr, __pyx_n_s_ndim);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3505, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PyInt_BoolEqObjC</span>(__pyx_t_4, __pyx_int_1, 1, 0)); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3505, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (__pyx_t_6) {
/* â€¦ */
    }
</pre><pre class="cython line score-0">&#xA0;<span class="">3506</span>:                 arr = (</pre>
<pre class="cython line score-34" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3507</span>:                     np.asarray(arr).reshape(-1, 0) if axis ==0</pre>
<pre class='cython code score-34 '>      <span class='trace'>__Pyx_TraceLine</span>(3507,0,<span class='error_goto'>__PYX_ERR(0, 3507, __pyx_L1_error)</span>)
      if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_axis)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("axis"); <span class='error_goto'>__PYX_ERR(0, 3507, __pyx_L1_error)</span> }
      __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PyInt_BoolEqObjC</span>(__pyx_cur_scope-&gt;__pyx_v_axis, __pyx_int_0, 0, 0)); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3507, __pyx_L1_error)</span>
      if (__pyx_t_6) {
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3507, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_asarray);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3507, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        __pyx_t_2 = NULL;
        __pyx_t_7 = 0;
        #if CYTHON_UNPACK_METHODS
        if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
          __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
          if (likely(__pyx_t_2)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
            __pyx_t_7 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_arr};
          __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 3507, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        }
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_reshape);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3507, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_tuple__117, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3507, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        __pyx_t_4 = __pyx_t_3;
        __pyx_t_3 = 0;
      } else {
/* â€¦ */
  __pyx_tuple__117 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_int_neg_1, __pyx_int_0);<span class='error_goto'> if (unlikely(!__pyx_tuple__117)) __PYX_ERR(0, 3507, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__117);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__117);
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3508</span>:                     else np.asarray(arr).reshape(1, -1)</pre>
<pre class='cython code score-26 '>        <span class='trace'>__Pyx_TraceLine</span>(3508,0,<span class='error_goto'>__PYX_ERR(0, 3508, __pyx_L1_error)</span>)
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3508, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_asarray);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3508, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        __pyx_t_1 = NULL;
        __pyx_t_7 = 0;
        #if CYTHON_UNPACK_METHODS
        if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
          __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
          if (likely(__pyx_t_1)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
            __pyx_t_7 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_v_arr};
          __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 3508, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        }
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_reshape);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3508, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_tuple__15, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3508, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        __pyx_t_4 = __pyx_t_3;
        __pyx_t_3 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_4);
      __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3509</span>:                     )</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3510</span>:                 is_array_1d =True</pre>
<pre class='cython code score-0 '>      <span class='trace'>__Pyx_TraceLine</span>(3510,0,<span class='error_goto'>__PYX_ERR(0, 3510, __pyx_L1_error)</span>)
      __pyx_v_is_array_1d = 1;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3511</span>:             scaled = scaler_object.fit_transform(</pre>
<pre class='cython code score-2 '>      <span class='trace'>__Pyx_TraceLine</span>(3511,0,<span class='error_goto'>__PYX_ERR(0, 3511, __pyx_L1_error)</span>)
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_scaler_object, __pyx_n_s_fit_transform);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3511, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
</pre><pre class="cython line score-29" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3512</span>:                 arr if axis == 0 else arr.T).T if axis == 0 else\</pre>
<pre class='cython code score-29 '>    <span class='trace'>__Pyx_TraceLine</span>(3512,0,<span class='error_goto'>__PYX_ERR(0, 3512, __pyx_L1_error)</span>)
    if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_axis)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("axis"); <span class='error_goto'>__PYX_ERR(0, 3512, __pyx_L1_error)</span> }
    __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PyInt_BoolEqObjC</span>(__pyx_cur_scope-&gt;__pyx_v_axis, __pyx_int_0, 0, 0)); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3512, __pyx_L1_error)</span>
    if (__pyx_t_6) {
/* â€¦ */
      <span class='trace'>__Pyx_TraceLine</span>(3512,0,<span class='error_goto'>__PYX_ERR(0, 3512, __pyx_L1_error)</span>)
      if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_axis)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("axis"); <span class='error_goto'>__PYX_ERR(0, 3512, __pyx_L1_error)</span> }
      __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyInt_BoolEqObjC</span>(__pyx_cur_scope-&gt;__pyx_v_axis, __pyx_int_0, 0, 0)); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3512, __pyx_L1_error)</span>
      if (__pyx_t_5) {
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
        __pyx_t_1 = __pyx_v_arr;
      } else {
        __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_arr, __pyx_n_s_T);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3512, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
        __pyx_t_1 = __pyx_t_8;
        __pyx_t_8 = 0;
      }
      __pyx_t_8 = NULL;
      __pyx_t_7 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
        __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
        if (likely(__pyx_t_8)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
          __pyx_t_7 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_8, __pyx_t_1};
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 3511, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      }
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_T);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3512, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_4 = __pyx_t_2;
      __pyx_t_2 = 0;
    } else {
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3513</span>:                 scaler_object.fit_transform(arr.T).T</pre>
<pre class='cython code score-22 '>      <span class='trace'>__Pyx_TraceLine</span>(3513,0,<span class='error_goto'>__PYX_ERR(0, 3513, __pyx_L1_error)</span>)
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_scaler_object, __pyx_n_s_fit_transform);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3513, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_arr, __pyx_n_s_T);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3513, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_8 = NULL;
      __pyx_t_7 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
        __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
        if (likely(__pyx_t_8)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
          __pyx_t_7 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_8, __pyx_t_1};
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3513, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      }
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_T);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3513, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_4 = __pyx_t_3;
      __pyx_t_3 = 0;
    }
    __pyx_v_scaled = __pyx_t_4;
    __pyx_t_4 = 0;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3514</span>:             if is_array_1d:</pre>
<pre class='cython code score-0 '>    <span class='trace'>__Pyx_TraceLine</span>(3514,0,<span class='error_goto'>__PYX_ERR(0, 3514, __pyx_L1_error)</span>)
    if (__pyx_v_is_array_1d) {
/* â€¦ */
    }
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3515</span>:                 scaled = scaled.flatten()</pre>
<pre class='cython code score-17 '>      <span class='trace'>__Pyx_TraceLine</span>(3515,0,<span class='error_goto'>__PYX_ERR(0, 3515, __pyx_L1_error)</span>)
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_scaled, __pyx_n_s_flatten_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3515, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_2 = NULL;
      __pyx_t_7 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
        __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
        if (likely(__pyx_t_2)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
          __pyx_t_7 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_2, NULL};
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_7, 0+__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 3515, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_scaled, __pyx_t_4);
      __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3516</span>:         else:  # naive scaling</pre>
<pre class="cython line score-67" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3517</span>:             arr, name_or_columns, index  = pandas_manager(arr )</pre>
<pre class='cython code score-67 '>  <span class='trace'>__Pyx_TraceLine</span>(3517,0,<span class='error_goto'>__PYX_ERR(0, 3517, __pyx_L1_error)</span>)
  /*else*/ {
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_pandas_manager);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3517, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_arr};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 3517, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_4))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_4))) {
      PyObject* sequence = __pyx_t_4;
      Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
      if (unlikely(size != 3)) {
        if (size &gt; 3) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(3);
        else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
        <span class='error_goto'>__PYX_ERR(0, 3517, __pyx_L1_error)</span>
      }
      #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
      if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
        __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
        __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
        __pyx_t_1 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 2); 
      } else {
        __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
        __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
        __pyx_t_1 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 2); 
      }
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      #else
      __pyx_t_3 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3517, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_2 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3517, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_1 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3517, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      #endif
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    } else {
      Py_ssize_t index = -1;
      __pyx_t_8 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3517, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_8);
      index = 0; __pyx_t_3 = __pyx_t_9(__pyx_t_8); if (unlikely(!__pyx_t_3)) goto __pyx_L9_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      index = 1; __pyx_t_2 = __pyx_t_9(__pyx_t_8); if (unlikely(!__pyx_t_2)) goto __pyx_L9_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      index = 2; __pyx_t_1 = __pyx_t_9(__pyx_t_8); if (unlikely(!__pyx_t_1)) goto __pyx_L9_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_9(__pyx_t_8), 3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3517, __pyx_L1_error)</span>
      __pyx_t_9 = NULL;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      goto __pyx_L10_unpacking_done;
      __pyx_L9_unpacking_failed:;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      __pyx_t_9 = NULL;
      if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
      <span class='error_goto'>__PYX_ERR(0, 3517, __pyx_L1_error)</span>
      __pyx_L10_unpacking_done:;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_3);
    __pyx_t_3 = 0;
    __pyx_v_name_or_columns = __pyx_t_2;
    __pyx_t_2 = 0;
    __pyx_v_index = __pyx_t_1;
    __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3518</span>:             if axis is None:</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(3518,0,<span class='error_goto'>__PYX_ERR(0, 3518, __pyx_L1_error)</span>)
    if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_axis)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("axis"); <span class='error_goto'>__PYX_ERR(0, 3518, __pyx_L1_error)</span> }
    __pyx_t_6 = (__pyx_cur_scope-&gt;__pyx_v_axis == Py_None);
    if (__pyx_t_6) {
/* â€¦ */
      goto __pyx_L11;
    }
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3519</span>:                 arr_min = np.min(arr)</pre>
<pre class='cython code score-19 '>      <span class='trace'>__Pyx_TraceLine</span>(3519,0,<span class='error_goto'>__PYX_ERR(0, 3519, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3519, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_min);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3519, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = NULL;
      __pyx_t_7 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
        __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
        if (likely(__pyx_t_1)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
          __pyx_t_7 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_v_arr};
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 3519, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      }
      __pyx_v_arr_min = __pyx_t_4;
      __pyx_t_4 = 0;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3520</span>:                 arr_max = np.max(arr)</pre>
<pre class='cython code score-19 '>      <span class='trace'>__Pyx_TraceLine</span>(3520,0,<span class='error_goto'>__PYX_ERR(0, 3520, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3520, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_max);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3520, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_2 = NULL;
      __pyx_t_7 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
        __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
        if (likely(__pyx_t_2)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
          __pyx_t_7 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_arr};
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 3520, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      }
      __pyx_v_arr_max = __pyx_t_4;
      __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3521</span>:             else:</pre>
<pre class="cython line score-32" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3522</span>:                 arr_min = np.min(arr, axis=axis, keepdims=True)</pre>
<pre class='cython code score-32 '>    <span class='trace'>__Pyx_TraceLine</span>(3522,0,<span class='error_goto'>__PYX_ERR(0, 3522, __pyx_L1_error)</span>)
    /*else*/ {
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3522, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_min);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3522, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3522, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arr);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_v_arr)) <span class='error_goto'>__PYX_ERR(0, 3522, __pyx_L1_error)</span>;
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3522, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_axis)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("axis"); <span class='error_goto'>__PYX_ERR(0, 3522, __pyx_L1_error)</span> }
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_axis, __pyx_cur_scope-&gt;__pyx_v_axis) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3522, __pyx_L1_error)</span>
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_keepdims, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3522, __pyx_L1_error)</span>
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_4, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3522, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_v_arr_min = __pyx_t_3;
      __pyx_t_3 = 0;
</pre><pre class="cython line score-32" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3523</span>:                 arr_max = np.max(arr, axis=axis, keepdims=True)</pre>
<pre class='cython code score-32 '>      <span class='trace'>__Pyx_TraceLine</span>(3523,0,<span class='error_goto'>__PYX_ERR(0, 3523, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3523, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_max);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3523, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3523, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arr);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_arr)) <span class='error_goto'>__PYX_ERR(0, 3523, __pyx_L1_error)</span>;
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3523, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_axis)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("axis"); <span class='error_goto'>__PYX_ERR(0, 3523, __pyx_L1_error)</span> }
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_axis, __pyx_cur_scope-&gt;__pyx_v_axis) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3523, __pyx_L1_error)</span>
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_keepdims, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3523, __pyx_L1_error)</span>
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_3, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3523, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_v_arr_max = __pyx_t_1;
      __pyx_t_1 = 0;
    }
    __pyx_L11:;
</pre><pre class="cython line score-0">&#xA0;<span class="">3524</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3525</span>:             if method == '01':</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(3525,0,<span class='error_goto'>__PYX_ERR(0, 3525, __pyx_L1_error)</span>)
    __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_method, __pyx_kp_u_01, Py_EQ)); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3525, __pyx_L1_error)</span>
    if (__pyx_t_6) {
/* â€¦ */
      goto __pyx_L12;
    }
</pre><pre class="cython line score-0">&#xA0;<span class="">3526</span>: </pre>
<pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3527</span>:                 scaled = (arr - arr_min) / (arr_max - arr_min)</pre>
<pre class='cython code score-14 '>      <span class='trace'>__Pyx_TraceLine</span>(3527,0,<span class='error_goto'>__PYX_ERR(0, 3527, __pyx_L1_error)</span>)
      __pyx_t_1 = <span class='py_c_api'>PyNumber_Subtract</span>(__pyx_v_arr, __pyx_v_arr_min);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3527, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_4 = <span class='py_c_api'>PyNumber_Subtract</span>(__pyx_v_arr_max, __pyx_v_arr_min);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3527, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyNumber_Divide</span>(__pyx_t_1, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3527, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_v_scaled = __pyx_t_3;
      __pyx_t_3 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3528</span>:             elif method == 'zscore':</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(3528,0,<span class='error_goto'>__PYX_ERR(0, 3528, __pyx_L1_error)</span>)
    __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_method, __pyx_n_u_zscore, Py_EQ)); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3528, __pyx_L1_error)</span>
    if (__pyx_t_6) {
/* â€¦ */
      goto __pyx_L12;
    }
</pre><pre class="cython line score-32" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3529</span>:                 mean = np.mean(arr, axis=axis, keepdims=True)</pre>
<pre class='cython code score-32 '>      <span class='trace'>__Pyx_TraceLine</span>(3529,0,<span class='error_goto'>__PYX_ERR(0, 3529, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3529, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_mean);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3529, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3529, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arr);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_arr)) <span class='error_goto'>__PYX_ERR(0, 3529, __pyx_L1_error)</span>;
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3529, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_axis)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("axis"); <span class='error_goto'>__PYX_ERR(0, 3529, __pyx_L1_error)</span> }
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_axis, __pyx_cur_scope-&gt;__pyx_v_axis) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3529, __pyx_L1_error)</span>
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_keepdims, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3529, __pyx_L1_error)</span>
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_4, __pyx_t_3, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3529, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_v_mean = __pyx_t_2;
      __pyx_t_2 = 0;
</pre><pre class="cython line score-32" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3530</span>:                 std = np.std(arr, axis=axis, keepdims=True)</pre>
<pre class='cython code score-32 '>      <span class='trace'>__Pyx_TraceLine</span>(3530,0,<span class='error_goto'>__PYX_ERR(0, 3530, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3530, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_std);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3530, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3530, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arr);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_arr)) <span class='error_goto'>__PYX_ERR(0, 3530, __pyx_L1_error)</span>;
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3530, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_axis)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("axis"); <span class='error_goto'>__PYX_ERR(0, 3530, __pyx_L1_error)</span> }
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_axis, __pyx_cur_scope-&gt;__pyx_v_axis) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3530, __pyx_L1_error)</span>
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_keepdims, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3530, __pyx_L1_error)</span>
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_2, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3530, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_v_std = __pyx_t_4;
      __pyx_t_4 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3531</span>:                 scaled = (arr - mean) / std</pre>
<pre class='cython code score-8 '>      <span class='trace'>__Pyx_TraceLine</span>(3531,0,<span class='error_goto'>__PYX_ERR(0, 3531, __pyx_L1_error)</span>)
      __pyx_t_4 = <span class='py_c_api'>PyNumber_Subtract</span>(__pyx_v_arr, __pyx_v_mean);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3531, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyNumber_Divide</span>(__pyx_t_4, __pyx_v_std);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3531, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_v_scaled = __pyx_t_3;
      __pyx_t_3 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3532</span>:             elif method == 'sum':</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(3532,0,<span class='error_goto'>__PYX_ERR(0, 3532, __pyx_L1_error)</span>)
    __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_method, __pyx_n_u_sum, Py_EQ)); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3532, __pyx_L1_error)</span>
    if (likely(__pyx_t_6)) {
/* â€¦ */
      goto __pyx_L12;
    }
</pre><pre class="cython line score-32" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3533</span>:                 sum_val = np.sum(arr, axis=axis, keepdims=True)</pre>
<pre class='cython code score-32 '>      <span class='trace'>__Pyx_TraceLine</span>(3533,0,<span class='error_goto'>__PYX_ERR(0, 3533, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3533, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_sum);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3533, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3533, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arr);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_arr)) <span class='error_goto'>__PYX_ERR(0, 3533, __pyx_L1_error)</span>;
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3533, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_axis)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("axis"); <span class='error_goto'>__PYX_ERR(0, 3533, __pyx_L1_error)</span> }
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_axis, __pyx_cur_scope-&gt;__pyx_v_axis) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3533, __pyx_L1_error)</span>
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_keepdims, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3533, __pyx_L1_error)</span>
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_4, __pyx_t_3, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3533, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_v_sum_val = __pyx_t_1;
      __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3534</span>:                 scaled = arr / sum_val</pre>
<pre class='cython code score-2 '>      <span class='trace'>__Pyx_TraceLine</span>(3534,0,<span class='error_goto'>__PYX_ERR(0, 3534, __pyx_L1_error)</span>)
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyNumber_Divide</span>(__pyx_v_arr, __pyx_v_sum_val);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3534, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_v_scaled = __pyx_t_1;
      __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3535</span>:             else:</pre>
<pre class="cython line score-27" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3536</span>:                 raise ValueError(f"Unknown method '{method}'. Valid methods"</pre>
<pre class='cython code score-27 '>    <span class='trace'>__Pyx_TraceLine</span>(3536,0,<span class='error_goto'>__PYX_ERR(0, 3536, __pyx_L1_error)</span>)
    /*else*/ {
      __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3536, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_10 = 0;
      __pyx_t_11 = 127;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Unknown_method);
      __pyx_t_10 += 16;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Unknown_method);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_kp_u_Unknown_method);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_method, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3536, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_11 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) &gt; __pyx_t_11) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) : __pyx_t_11;
      __pyx_t_10 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_2);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_t_2);
      __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Valid_methods_are_01_zscore_and);
      __pyx_t_10 += 47;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Valid_methods_are_01_zscore_and);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 2, __pyx_kp_u_Valid_methods_are_01_zscore_and);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_1, 3, __pyx_t_10, __pyx_t_11);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3536, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3536, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_1, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='error_goto'>__PYX_ERR(0, 3536, __pyx_L1_error)</span>
    }
    __pyx_L12:;
  }
  __pyx_L3:;
</pre><pre class="cython line score-0">&#xA0;<span class="">3537</span>:                                  " are '01', 'zscore', and 'sum'.")</pre>
<pre class="cython line score-0">&#xA0;<span class="">3538</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3539</span>:         # revert back to series or dataframe is given as it</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3540</span>:         if name_or_columns is not None:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3540,0,<span class='error_goto'>__PYX_ERR(0, 3540, __pyx_L1_error)</span>)
  if (unlikely(!__pyx_v_name_or_columns)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("name_or_columns"); <span class='error_goto'>__PYX_ERR(0, 3540, __pyx_L1_error)</span> }
  __pyx_t_6 = (__pyx_v_name_or_columns != Py_None);
  if (__pyx_t_6) {
/* â€¦ */
  }
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3541</span>:             scaled = pandas_manager(</pre>
<pre class='cython code score-16 '>    <span class='trace'>__Pyx_TraceLine</span>(3541,0,<span class='error_goto'>__PYX_ERR(0, 3541, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pandas_manager);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3541, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(3542,0,<span class='error_goto'>__PYX_ERR(0, 3542, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3541, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_scaled);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_scaled);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_scaled)) <span class='error_goto'>__PYX_ERR(0, 3541, __pyx_L1_error)</span>;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(3541,0,<span class='error_goto'>__PYX_ERR(0, 3541, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_2, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3541, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_scaled, __pyx_t_4);
    __pyx_t_4 = 0;
</pre><pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3542</span>:                 scaled, todo='set', name_or_columns=name_or_columns,</pre>
<pre class='cython code score-14 '>    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3542, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_todo, __pyx_n_u_set) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3542, __pyx_L1_error)</span>
    if (unlikely(!__pyx_v_name_or_columns)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("name_or_columns"); <span class='error_goto'>__PYX_ERR(0, 3542, __pyx_L1_error)</span> }
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_name_or_columns, __pyx_v_name_or_columns) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3542, __pyx_L1_error)</span>
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3543</span>:                 index= index</pre>
<pre class='cython code score-7 '>    <span class='trace'>__Pyx_TraceLine</span>(3543,0,<span class='error_goto'>__PYX_ERR(0, 3543, __pyx_L1_error)</span>)
    if (unlikely(!__pyx_v_index)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("index"); <span class='error_goto'>__PYX_ERR(0, 3543, __pyx_L1_error)</span> }
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_index, __pyx_v_index) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3542, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3544</span>:                 )</pre>
<pre class="cython line score-0">&#xA0;<span class="">3545</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3546</span>:         return scaled</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3546,0,<span class='error_goto'>__PYX_ERR(0, 3546, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_scaled);
  __pyx_r = __pyx_v_scaled;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3547</span>:     # Normalize each array</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3548</span>:     normalized_arrays = []</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(3548,0,<span class='error_goto'>__PYX_ERR(0, 3548, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3548, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_v_normalized_arrays = ((PyObject*)__pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3549</span>:     for arr in arrays:</pre>
<pre class='cython code score-9 '>  <span class='trace'>__Pyx_TraceLine</span>(3549,0,<span class='error_goto'>__PYX_ERR(0, 3549, __pyx_L1_error)</span>)
  __pyx_t_2 = __pyx_v_arrays; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
  __pyx_t_3 = 0;
  for (;;) {
    {
      Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_2);
      #if !CYTHON_ASSUME_SAFE_MACROS
      if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3549, __pyx_L1_error)</span>
      #endif
      if (__pyx_t_3 &gt;= __pyx_temp) break;
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    __pyx_t_1 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_2, __pyx_t_3); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1); __pyx_t_3++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3549, __pyx_L1_error)</span>
    #else
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_2, __pyx_t_3); __pyx_t_3++;<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3549, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    #endif
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_arr, __pyx_t_1);
    __pyx_t_1 = 0;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(3549,0,<span class='error_goto'>__PYX_ERR(0, 3549, __pyx_L1_error)</span>)
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3550</span>:         if not hasattr(arr, '__array__'):</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(3550,0,<span class='error_goto'>__PYX_ERR(0, 3550, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_HasAttr</span>(__pyx_v_arr, __pyx_n_u_array_2);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(0, 3550, __pyx_L1_error)</span>
    __pyx_t_5 = (!__pyx_t_4);
    if (__pyx_t_5) {
/* â€¦ */
    }
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3551</span>:             arr = np.asarray(arr)</pre>
<pre class='cython code score-20 '>      <span class='trace'>__Pyx_TraceLine</span>(3551,0,<span class='error_goto'>__PYX_ERR(0, 3551, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3551, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_asarray);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3551, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_t_6 = NULL;
      __pyx_t_8 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
        __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
        if (likely(__pyx_t_6)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
          __pyx_t_8 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_v_arr};
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
        if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3551, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_1);
      __pyx_t_1 = 0;
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3552</span>:         arr = _handle_non_numeric(arr)</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(3552,0,<span class='error_goto'>__PYX_ERR(0, 3552, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_7, __pyx_n_s_handle_non_numeric);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3552, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_6 = NULL;
    __pyx_t_8 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
        __pyx_t_8 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_v_arr};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3552, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3553</span>:         normalized = _normalize_array(arr, method, scaler)</pre>
<pre class='cython code score-1 '>    <span class='trace'>__Pyx_TraceLine</span>(3553,0,<span class='error_goto'>__PYX_ERR(0, 3553, __pyx_L1_error)</span>)
    __pyx_t_1 = __pyx_pf_6gofast_5tools_9baseutils_10normalizer__normalize_array(__pyx_v__normalize_array, __pyx_v_arr, __pyx_v_method, __pyx_v_scaler);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3553, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_normalized, __pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3554</span>:         normalized_arrays.append(normalized)</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(3554,0,<span class='error_goto'>__PYX_ERR(0, 3554, __pyx_L1_error)</span>)
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_v_normalized_arrays, __pyx_v_normalized);<span class='error_goto'> if (unlikely(__pyx_t_9 == ((int)-1))) __PYX_ERR(0, 3554, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3555</span>: </pre>
<pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3556</span>:     return normalized_arrays[0] if len(normalized_arrays) == 1 else normalized_arrays</pre>
<pre class='cython code score-6 '>  <span class='trace'>__Pyx_TraceLine</span>(3556,0,<span class='error_goto'>__PYX_ERR(0, 3556, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_v_normalized_arrays);<span class='error_goto'> if (unlikely(__pyx_t_3 == ((Py_ssize_t)-1))) __PYX_ERR(0, 3556, __pyx_L1_error)</span>
  __pyx_t_5 = (__pyx_t_3 == 1);
  if (__pyx_t_5) {
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_GetItemInt_List</span>(__pyx_v_normalized_arrays, 0, long, 1, __Pyx_PyInt_From_long, 1, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3556, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_2 = __pyx_t_1;
    __pyx_t_1 = 0;
  } else {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_normalized_arrays);
    __pyx_t_2 = __pyx_v_normalized_arrays;
  }
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3557</span>: </pre>
<pre class="cython line score-105" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3558</span>: def smooth1d(</pre>
<pre class='cython code score-105 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_110smooth1d(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_109smooth1d, " Smooth one-dimensional array. \n    \n    Parameters \n    -----------\n    ar: ArrayLike 1d \n       Array of one-dimensional \n       \n    drop_outliers: bool, default=True \n       Remove the outliers in the data before smoothing \n       \n    ma: bool, default=True, \n       Use the moving average for smoothing array value. This seems more \n       realistic.\n       \n    interpolate: bool, default=False \n       Interpolate value to fit the original data size after NaN filling. \n       \n    absolute: bool, default=False, \n       keep postive the extrapolated scaled values. Indeed, when scaling data, \n       negative value can be appear due to the polyfit function. to absolute \n       this value, set ``absolute=True``. Note that converting to values to \n       positive must be considered as the last option when values in the \n       array must be positive.\n       \n    view: bool, default =False \n       Display curves \n    x: ArrayLike, optional \n       Abscissa array for visualization. If given, it must be consistent \n       with the given array `ar`. Raises error otherwise. \n    xlabel: str, optional \n       Label of x \n    ylabel:str, optional \n       label of y  \n    fig_size: tuple , default=(10, 5)\n       Matplotlib figure size\n       \n    Returns \n    --------\n    yc: ArrayLike \n       Smoothed array value. \n       \n    Examples \n    ---------\n    &gt;&gt;&gt; import numpy as np \n    &gt;&gt;&gt; from gofast.tools.baseutils  import smooth1d \n    &gt;&gt;&gt; # add Guassian Noise \n    &gt;&gt;&gt; np.random.seed (42)\n    &gt;&gt;&gt; ar = np.random.randn (20 ) * 20 + np.random.normal ( 20 )\n    &gt;&gt;&gt; ar [:7 ]\n    array([6.42891445e+00, 3.75072493e-02, 1.82905357e+01, 2.92957265e+01,\n           6.20589038e+01, 2.26399535e+01, 1.12596434e+01])\n    &gt;&gt;&gt; arc = smooth1d (ar, view =True , ma =False )\n    &gt;&gt;&gt; arc [:7 ]\n    array([12.08603102, 15.29819907, 18.017749  , 20.27968322, 22.11900412,\n           23.5707141 , 24.66981557])\n    &gt;&gt;&gt; arc = smooth1d (ar, view =Tru""e )# ma=True by default \n    array([ 5.0071604 ,  5.90839339,  9.6264018 , 13.94679804, 17.67369252,\n           20.34922943, 22.00836725])\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_110smooth1d = {"smooth1d", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_110smooth1d, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_109smooth1d};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_110smooth1d(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_ar = 0;
  PyObject *__pyx_v_drop_outliers = 0;
  PyObject *__pyx_v_ma = 0;
  PyObject *__pyx_v_absolute = 0;
  PyObject *__pyx_v_interpolate = 0;
  PyObject *__pyx_v_view = 0;
  PyObject *__pyx_v_x = 0;
  PyObject *__pyx_v_xlabel = 0;
  PyObject *__pyx_v_ylabel = 0;
  PyObject *__pyx_v_fig_size = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("smooth1d (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_ar,&amp;__pyx_n_s_drop_outliers,&amp;__pyx_n_s_ma,&amp;__pyx_n_s_absolute,&amp;__pyx_n_s_interpolate,&amp;__pyx_n_s_view,&amp;__pyx_n_s_x,&amp;__pyx_n_s_xlabel,&amp;__pyx_n_s_ylabel,&amp;__pyx_n_s_fig_size,0};
  PyObject* values[10] = {0,0,0,0,0,0,0,0,0,0};
/* â€¦ */
  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_109smooth1d(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_ar, PyObject *__pyx_v_drop_outliers, PyObject *__pyx_v_ma, PyObject *__pyx_v_absolute, PyObject *__pyx_v_interpolate, PyObject *__pyx_v_view, PyObject *__pyx_v_x, PyObject *__pyx_v_xlabel, PyObject *__pyx_v_ylabel, PyObject *__pyx_v_fig_size) {
  PyObject *__pyx_v_moving_average = NULL;
  PyObject *__pyx_v_arr = NULL;
  CYTHON_UNUSED PyObject *__pyx_v__ = NULL;
  CYTHON_UNUSED PyObject *__pyx_v_fig = NULL;
  PyObject *__pyx_v_ax = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__122)
  <span class='trace'>__Pyx_TraceCall</span>("smooth1d", __pyx_f[0], 3558, 0, <span class='error_goto'>__PYX_ERR(0, 3558, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_ar);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_x);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.smooth1d", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_moving_average);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_arr);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v__);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_fig);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_ax);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_ar);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_x);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__223 = <span class='py_c_api'>PyTuple_Pack</span>(15, __pyx_n_s_ar, __pyx_n_s_drop_outliers, __pyx_n_s_ma, __pyx_n_s_absolute, __pyx_n_s_interpolate, __pyx_n_s_view, __pyx_n_s_x, __pyx_n_s_xlabel, __pyx_n_s_ylabel, __pyx_n_s_fig_size, __pyx_n_s_moving_average, __pyx_n_s_arr, __pyx_n_s__180, __pyx_n_s_fig, __pyx_n_s_ax);<span class='error_goto'> if (unlikely(!__pyx_tuple__223)) __PYX_ERR(0, 3558, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__223);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__223);
  __pyx_codeobj__122 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(10, 0, 0, 15, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__223, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_smooth1d, 3558, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__122)) __PYX_ERR(0, 3558, __pyx_L1_error)</span>
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(3558,0,<span class='error_goto'>__PYX_ERR(0, 3558, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(10);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3558, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_drop_outliers, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3558, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_ma, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3558, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_absolute, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3558, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_interpolate, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3558, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_view, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3558, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_x, __pyx_n_s_ArrayLike) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3558, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_xlabel, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3558, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_ylabel, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3558, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_fig_size, __pyx_n_s_tuple) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3558, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_return, __pyx_kp_s_ArrayLike_float) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3558, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_110smooth1d, 0, __pyx_n_s_smooth1d, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__122));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3558, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_3, __pyx_tuple__224);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_3, __pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_smooth1d, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3558, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_tuple__224 = <span class='py_c_api'>PyTuple_Pack</span>(9, ((PyObject *)Py_True), ((PyObject *)Py_True), ((PyObject *)Py_False), ((PyObject *)Py_False), ((PyObject *)Py_False), Py_None, Py_None, Py_None, ((PyObject*)__pyx_tuple__121));<span class='error_goto'> if (unlikely(!__pyx_tuple__224)) __PYX_ERR(0, 3558, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__224);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__224);
</pre><pre class="cython line score-0">&#xA0;<span class="">3559</span>:     ar,</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3560</span>:     drop_outliers:bool=True,</pre>
<pre class='cython code score-2 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_True)));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3561</span>:     ma:bool=True,</pre>
<pre class='cython code score-2 '>    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_True)));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3562</span>:     absolute:bool=False,</pre>
<pre class='cython code score-2 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3563</span>:     interpolate:bool=False,</pre>
<pre class='cython code score-2 '>    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3564</span>:     view:bool=False ,</pre>
<pre class='cython code score-2 '>    values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3565</span>:     x: ArrayLike=None,</pre>
<pre class='cython code score-2 '>    values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3566</span>:     xlabel:str =None,</pre>
<pre class='cython code score-2 '>    values[7] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject*)Py_None));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3567</span>:     ylabel:str =None,</pre>
<pre class='cython code score-2 '>    values[8] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject*)Py_None));
</pre><pre class="cython line score-153" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3568</span>:     fig_size:tuple = ( 10, 5)</pre>
<pre class='cython code score-153 '>    values[9] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject*)((PyObject*)__pyx_tuple__121)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case 10: values[9] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 9);
        CYTHON_FALLTHROUGH;
        case  9: values[8] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 8);
        CYTHON_FALLTHROUGH;
        case  8: values[7] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 7);
        CYTHON_FALLTHROUGH;
        case  7: values[6] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 6);
        CYTHON_FALLTHROUGH;
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_ar)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3558, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_drop_outliers);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3558, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_ma);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3558, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_absolute);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3558, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_interpolate);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3558, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  5:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_view);
          if (value) { values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3558, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  6:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_x);
          if (value) { values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3558, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  7:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_xlabel);
          if (value) { values[7] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3558, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  8:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_ylabel);
          if (value) { values[8] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3558, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  9:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_fig_size);
          if (value) { values[9] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3558, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "smooth1d") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 3558, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case 10: values[9] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 9);
        CYTHON_FALLTHROUGH;
        case  9: values[8] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 8);
        CYTHON_FALLTHROUGH;
        case  8: values[7] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 7);
        CYTHON_FALLTHROUGH;
        case  7: values[6] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 6);
        CYTHON_FALLTHROUGH;
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_ar = values[0];
    __pyx_v_drop_outliers = values[1];
    __pyx_v_ma = values[2];
    __pyx_v_absolute = values[3];
    __pyx_v_interpolate = values[4];
    __pyx_v_view = values[5];
    __pyx_v_x = values[6];
    __pyx_v_xlabel = ((PyObject*)values[7]);
    __pyx_v_ylabel = ((PyObject*)values[8]);
    __pyx_v_fig_size = ((PyObject*)values[9]);
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("smooth1d", 0, 1, 10, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 3558, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.smooth1d", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_xlabel), (&amp;PyUnicode_Type), 1, "xlabel", 1))) <span class='error_goto'>__PYX_ERR(0, 3566, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_ylabel), (&amp;PyUnicode_Type), 1, "ylabel", 1))) <span class='error_goto'>__PYX_ERR(0, 3567, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_fig_size), (&amp;PyTuple_Type), 0, "fig_size", 1))) <span class='error_goto'>__PYX_ERR(0, 3568, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_109smooth1d(__pyx_self, __pyx_v_ar, __pyx_v_drop_outliers, __pyx_v_ma, __pyx_v_absolute, __pyx_v_interpolate, __pyx_v_view, __pyx_v_x, __pyx_v_xlabel, __pyx_v_ylabel, __pyx_v_fig_size);
/* â€¦ */
  __pyx_tuple__121 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_int_10, __pyx_int_5);<span class='error_goto'> if (unlikely(!__pyx_tuple__121)) __PYX_ERR(0, 3568, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__121);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__121);
</pre><pre class="cython line score-0">&#xA0;<span class="">3569</span>:     )-&gt; ArrayLike[float]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">3570</span>:     """ Smooth one-dimensional array.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3571</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3572</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">3573</span>:     -----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3574</span>:     ar: ArrayLike 1d</pre>
<pre class="cython line score-0">&#xA0;<span class="">3575</span>:        Array of one-dimensional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3576</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3577</span>:     drop_outliers: bool, default=True</pre>
<pre class="cython line score-0">&#xA0;<span class="">3578</span>:        Remove the outliers in the data before smoothing</pre>
<pre class="cython line score-0">&#xA0;<span class="">3579</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3580</span>:     ma: bool, default=True,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3581</span>:        Use the moving average for smoothing array value. This seems more</pre>
<pre class="cython line score-0">&#xA0;<span class="">3582</span>:        realistic.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3583</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3584</span>:     interpolate: bool, default=False</pre>
<pre class="cython line score-0">&#xA0;<span class="">3585</span>:        Interpolate value to fit the original data size after NaN filling.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3586</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3587</span>:     absolute: bool, default=False,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3588</span>:        keep postive the extrapolated scaled values. Indeed, when scaling data,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3589</span>:        negative value can be appear due to the polyfit function. to absolute</pre>
<pre class="cython line score-0">&#xA0;<span class="">3590</span>:        this value, set ``absolute=True``. Note that converting to values to</pre>
<pre class="cython line score-0">&#xA0;<span class="">3591</span>:        positive must be considered as the last option when values in the</pre>
<pre class="cython line score-0">&#xA0;<span class="">3592</span>:        array must be positive.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3593</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3594</span>:     view: bool, default =False</pre>
<pre class="cython line score-0">&#xA0;<span class="">3595</span>:        Display curves</pre>
<pre class="cython line score-0">&#xA0;<span class="">3596</span>:     x: ArrayLike, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3597</span>:        Abscissa array for visualization. If given, it must be consistent</pre>
<pre class="cython line score-0">&#xA0;<span class="">3598</span>:        with the given array `ar`. Raises error otherwise.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3599</span>:     xlabel: str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3600</span>:        Label of x</pre>
<pre class="cython line score-0">&#xA0;<span class="">3601</span>:     ylabel:str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3602</span>:        label of y</pre>
<pre class="cython line score-0">&#xA0;<span class="">3603</span>:     fig_size: tuple , default=(10, 5)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3604</span>:        Matplotlib figure size</pre>
<pre class="cython line score-0">&#xA0;<span class="">3605</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3606</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">3607</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3608</span>:     yc: ArrayLike</pre>
<pre class="cython line score-0">&#xA0;<span class="">3609</span>:        Smoothed array value.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3610</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3611</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">3612</span>:     ---------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3613</span>:     &gt;&gt;&gt; import numpy as np</pre>
<pre class="cython line score-0">&#xA0;<span class="">3614</span>:     &gt;&gt;&gt; from gofast.tools.baseutils  import smooth1d</pre>
<pre class="cython line score-0">&#xA0;<span class="">3615</span>:     &gt;&gt;&gt; # add Guassian Noise</pre>
<pre class="cython line score-0">&#xA0;<span class="">3616</span>:     &gt;&gt;&gt; np.random.seed (42)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3617</span>:     &gt;&gt;&gt; ar = np.random.randn (20 ) * 20 + np.random.normal ( 20 )</pre>
<pre class="cython line score-0">&#xA0;<span class="">3618</span>:     &gt;&gt;&gt; ar [:7 ]</pre>
<pre class="cython line score-0">&#xA0;<span class="">3619</span>:     array([6.42891445e+00, 3.75072493e-02, 1.82905357e+01, 2.92957265e+01,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3620</span>:            6.20589038e+01, 2.26399535e+01, 1.12596434e+01])</pre>
<pre class="cython line score-0">&#xA0;<span class="">3621</span>:     &gt;&gt;&gt; arc = smooth1d (ar, view =True , ma =False )</pre>
<pre class="cython line score-0">&#xA0;<span class="">3622</span>:     &gt;&gt;&gt; arc [:7 ]</pre>
<pre class="cython line score-0">&#xA0;<span class="">3623</span>:     array([12.08603102, 15.29819907, 18.017749  , 20.27968322, 22.11900412,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3624</span>:            23.5707141 , 24.66981557])</pre>
<pre class="cython line score-0">&#xA0;<span class="">3625</span>:     &gt;&gt;&gt; arc = smooth1d (ar, view =True )# ma=True by default</pre>
<pre class="cython line score-0">&#xA0;<span class="">3626</span>:     array([ 5.0071604 ,  5.90839339,  9.6264018 , 13.94679804, 17.67369252,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3627</span>:            20.34922943, 22.00836725])</pre>
<pre class="cython line score-0">&#xA0;<span class="">3628</span>:     """</pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3629</span>:     from .mathex import moving_average</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(3629,0,<span class='error_goto'>__PYX_ERR(0, 3629, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3629, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_moving_average);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_moving_average);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_n_s_moving_average)) <span class='error_goto'>__PYX_ERR(0, 3629, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_mathex, __pyx_t_1, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3629, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_moving_average);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3629, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
  __pyx_v_moving_average = __pyx_t_1;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3630</span>:     # convert data into an iterable object</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3631</span>:     ar = np.array(</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(3631,0,<span class='error_goto'>__PYX_ERR(0, 3631, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3631, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3631, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-43" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3632</span>:         is_iterable(ar, exclude_string = True , transform =True ))</pre>
<pre class='cython code score-43 '>  <span class='trace'>__Pyx_TraceLine</span>(3632,0,<span class='error_goto'>__PYX_ERR(0, 3632, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_is_iterable);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3632, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3632, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_ar);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_ar);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_v_ar)) <span class='error_goto'>__PYX_ERR(0, 3632, __pyx_L1_error)</span>;
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3632, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_exclude_string, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3632, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_transform, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3632, __pyx_L1_error)</span>
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_4, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3632, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_5 = NULL;
  __pyx_t_7 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_5)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_7 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_t_6};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3631, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_ar, __pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3633</span>: </pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3634</span>:     if not _is_arraylike_1d(ar):</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(3634,0,<span class='error_goto'>__PYX_ERR(0, 3634, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_is_arraylike_1d);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3634, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_6 = NULL;
  __pyx_t_7 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_6)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_7 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_v_ar};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3634, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_2); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3634, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_9 = (!__pyx_t_8);
  if (unlikely(__pyx_t_9)) {
/* â€¦ */
  }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3635</span>:         raise TypeError("Expect one-dimensional array. Use `gofast.smoothing`"</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(3635,0,<span class='error_goto'>__PYX_ERR(0, 3635, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_TypeError, __pyx_tuple__123, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3635, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='error_goto'>__PYX_ERR(0, 3635, __pyx_L1_error)</span>
/* â€¦ */
  __pyx_tuple__123 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Expect_one_dimensional_array_Use);<span class='error_goto'> if (unlikely(!__pyx_tuple__123)) __PYX_ERR(0, 3635, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__123);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__123);
</pre><pre class="cython line score-0">&#xA0;<span class="">3636</span>:                         " for handling two-dimensional array.")</pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3637</span>:     if not _is_numeric_dtype(ar):</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(3637,0,<span class='error_goto'>__PYX_ERR(0, 3637, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_is_numeric_dtype);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3637, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_6 = NULL;
  __pyx_t_7 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_6)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_7 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_v_ar};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3637, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_2); if (unlikely((__pyx_t_9 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3637, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_8 = (!__pyx_t_9);
  if (unlikely(__pyx_t_8)) {
/* â€¦ */
  }
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3638</span>:         raise ValueError (f"{ar.dtype.name!r} is not allowed. Expect a numeric"</pre>
<pre class='cython code score-22 '>    <span class='trace'>__Pyx_TraceLine</span>(3638,0,<span class='error_goto'>__PYX_ERR(0, 3638, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_ar, __pyx_n_s_dtype);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3638, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3638, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_t_3), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3638, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyUnicode_ConcatInPlace</span>(__pyx_t_2, __pyx_kp_u_is_not_allowed_Expect_a_numeric);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3638, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3638, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='error_goto'>__PYX_ERR(0, 3638, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3639</span>:                           " array")</pre>
<pre class="cython line score-0">&#xA0;<span class="">3640</span>: </pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3641</span>:     arr = ar.copy()</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(3641,0,<span class='error_goto'>__PYX_ERR(0, 3641, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_ar, __pyx_n_s_copy);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3641, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_6 = NULL;
  __pyx_t_7 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_6)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_7 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_6, NULL};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_7, 0+__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3641, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_v_arr = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3642</span>:     if drop_outliers:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3642,0,<span class='error_goto'>__PYX_ERR(0, 3642, __pyx_L1_error)</span>)
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_drop_outliers); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3642, __pyx_L1_error)</span>
  if (__pyx_t_8) {
/* â€¦ */
  }
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3643</span>:         arr = remove_outliers(</pre>
<pre class='cython code score-16 '>    <span class='trace'>__Pyx_TraceLine</span>(3643,0,<span class='error_goto'>__PYX_ERR(0, 3643, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_remove_outliers_2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3643, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(3644,0,<span class='error_goto'>__PYX_ERR(0, 3644, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3643, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arr);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_arr)) <span class='error_goto'>__PYX_ERR(0, 3643, __pyx_L1_error)</span>;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(3643,0,<span class='error_goto'>__PYX_ERR(0, 3643, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_3, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3643, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_4);
    __pyx_t_4 = 0;
</pre><pre class="cython line score-18" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3644</span>:             arr, fill_value = np.nan , interpolate = interpolate )</pre>
<pre class='cython code score-18 '>    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3644, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3644, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_nan);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3644, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_fill_value, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3644, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_interpolate, __pyx_v_interpolate) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3644, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3645</span>:     # Nan is not allow so fill NaN if exists in array</pre>
<pre class="cython line score-0">&#xA0;<span class="">3646</span>:     # is arraylike 1d</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3647</span>:     if not interpolate:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3647,0,<span class='error_goto'>__PYX_ERR(0, 3647, __pyx_L1_error)</span>)
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_interpolate); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3647, __pyx_L1_error)</span>
  __pyx_t_9 = (!__pyx_t_8);
  if (__pyx_t_9) {
/* â€¦ */
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">3648</span>:         # fill NaN</pre>
<pre class="cython line score-40" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3649</span>:         arr = reshape ( fillNaN( arr , method ='both') )</pre>
<pre class='cython code score-40 '>    <span class='trace'>__Pyx_TraceLine</span>(3649,0,<span class='error_goto'>__PYX_ERR(0, 3649, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_reshape);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3649, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_fillNaN);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3649, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3649, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arr);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_arr)) <span class='error_goto'>__PYX_ERR(0, 3649, __pyx_L1_error)</span>;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3649, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_method, __pyx_n_u_both_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3649, __pyx_L1_error)</span>
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_2, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3649, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_t_1};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 3649, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_4);
    __pyx_t_4 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3650</span>:     if ma:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3650,0,<span class='error_goto'>__PYX_ERR(0, 3650, __pyx_L1_error)</span>)
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_ma); if (unlikely((__pyx_t_9 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3650, __pyx_L1_error)</span>
  if (__pyx_t_9) {
/* â€¦ */
  }
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3651</span>:         arr = moving_average(arr, method ='sma')</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(3651,0,<span class='error_goto'>__PYX_ERR(0, 3651, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3651, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arr);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_v_arr)) <span class='error_goto'>__PYX_ERR(0, 3651, __pyx_L1_error)</span>;
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3651, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_method, __pyx_n_u_sma) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3651, __pyx_L1_error)</span>
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_v_moving_average, __pyx_t_4, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3651, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3652</span>:     # if extrapolation give negative  values</pre>
<pre class="cython line score-0">&#xA0;<span class="">3653</span>:     # whether to keep as it was or convert to positive values.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3654</span>:     # note that converting to positive values is</pre>
<pre class="cython line score-36" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3655</span>:     arr, *_  = scale_y ( arr )</pre>
<pre class='cython code score-36 '>  <span class='trace'>__Pyx_TraceLine</span>(3655,0,<span class='error_goto'>__PYX_ERR(0, 3655, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_scale_y);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3655, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  __pyx_t_4 = NULL;
  __pyx_t_7 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
    __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
    if (likely(__pyx_t_4)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
      __pyx_t_7 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_v_arr};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3655, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  }
  {
    Py_ssize_t index = -1;
    PyObject** temps[2] = {&amp;__pyx_t_6};
    __pyx_t_4 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3655, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_4);
    for (index=0; index &lt; 1; index++) {
      PyObject* item = __pyx_t_10(__pyx_t_4); if (unlikely(!item)) goto __pyx_L8_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(item);
      *(temps[index]) = item;
    }
    goto __pyx_L9_unpacking_done;
    __pyx_L8_unpacking_failed:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_10 = NULL;
    if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
    <span class='error_goto'>__PYX_ERR(0, 3655, __pyx_L1_error)</span>
    __pyx_L9_unpacking_done:;
  }
  __pyx_t_5 = <span class='py_c_api'>PySequence_List</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3655, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_6);
  __pyx_t_6 = 0;
  __pyx_v__ = ((PyObject*)__pyx_t_5);
  __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3656</span>:     # if extrapolation gives negative values</pre>
<pre class="cython line score-0">&#xA0;<span class="">3657</span>:     # convert to positive values or keep it intact.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3658</span>:     # note that converting to positive values is</pre>
<pre class="cython line score-0">&#xA0;<span class="">3659</span>:     # can be used as the last option when array</pre>
<pre class="cython line score-0">&#xA0;<span class="">3660</span>:     # data must be positive.</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3661</span>:     if absolute:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3661,0,<span class='error_goto'>__PYX_ERR(0, 3661, __pyx_L1_error)</span>)
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_absolute); if (unlikely((__pyx_t_9 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3661, __pyx_L1_error)</span>
  if (__pyx_t_9) {
/* â€¦ */
  }
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3662</span>:         arr = np.abs (arr )</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(3662,0,<span class='error_goto'>__PYX_ERR(0, 3662, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3662, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_abs);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3662, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_v_arr};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3662, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3663</span>:     if view:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3663,0,<span class='error_goto'>__PYX_ERR(0, 3663, __pyx_L1_error)</span>)
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_view); if (unlikely((__pyx_t_9 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3663, __pyx_L1_error)</span>
  if (__pyx_t_9) {
/* â€¦ */
  }
</pre><pre class="cython line score-50" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3664</span>:         x = np.arange ( len(ar )) if x is None else np.array (x )</pre>
<pre class='cython code score-50 '>    <span class='trace'>__Pyx_TraceLine</span>(3664,0,<span class='error_goto'>__PYX_ERR(0, 3664, __pyx_L1_error)</span>)
    __pyx_t_9 = (__pyx_v_x == Py_None);
    if (__pyx_t_9) {
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3664, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_arange);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3664, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_11 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_ar);<span class='error_goto'> if (unlikely(__pyx_t_11 == ((Py_ssize_t)-1))) __PYX_ERR(0, 3664, __pyx_L1_error)</span>
      __pyx_t_5 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_11);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3664, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      __pyx_t_2 = NULL;
      __pyx_t_7 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
        __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
        if (likely(__pyx_t_2)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
          __pyx_t_7 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_t_5};
        __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 3664, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      }
      __pyx_t_1 = __pyx_t_6;
      __pyx_t_6 = 0;
    } else {
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3664, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3664, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_4 = NULL;
      __pyx_t_7 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
        __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
        if (likely(__pyx_t_4)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
          __pyx_t_7 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_v_x};
        __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 3664, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      }
      __pyx_t_1 = __pyx_t_6;
      __pyx_t_6 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_x, __pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3665</span>: </pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3666</span>:         check_consistency_size( x, ar )</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(3666,0,<span class='error_goto'>__PYX_ERR(0, 3666, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_check_consistency_size);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3666, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_5 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_5, __pyx_v_x, __pyx_v_ar};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_7, 2+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3666, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3667</span>: </pre>
<pre class="cython line score-67" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3668</span>:         fig,  ax = plt.subplots (1, 1, figsize = fig_size)</pre>
<pre class='cython code score-67 '>    <span class='trace'>__Pyx_TraceLine</span>(3668,0,<span class='error_goto'>__PYX_ERR(0, 3668, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_plt);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3668, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_subplots);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3668, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3668, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_figsize, __pyx_v_fig_size) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3668, __pyx_L1_error)</span>
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_6, __pyx_tuple__124, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3668, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_5))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_5))) {
      PyObject* sequence = __pyx_t_5;
      Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
      if (unlikely(size != 2)) {
        if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
        else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
        <span class='error_goto'>__PYX_ERR(0, 3668, __pyx_L1_error)</span>
      }
      #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
      if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
        __pyx_t_1 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
        __pyx_t_6 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
      } else {
        __pyx_t_1 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
        __pyx_t_6 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
      }
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
      #else
      __pyx_t_1 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3668, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_6 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3668, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      #endif
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    } else {
      Py_ssize_t index = -1;
      __pyx_t_4 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3668, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_4);
      index = 0; __pyx_t_1 = __pyx_t_10(__pyx_t_4); if (unlikely(!__pyx_t_1)) goto __pyx_L12_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      index = 1; __pyx_t_6 = __pyx_t_10(__pyx_t_4); if (unlikely(!__pyx_t_6)) goto __pyx_L12_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_10(__pyx_t_4), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3668, __pyx_L1_error)</span>
      __pyx_t_10 = NULL;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      goto __pyx_L13_unpacking_done;
      __pyx_L12_unpacking_failed:;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_10 = NULL;
      if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
      <span class='error_goto'>__PYX_ERR(0, 3668, __pyx_L1_error)</span>
      __pyx_L13_unpacking_done:;
    }
    __pyx_v_fig = __pyx_t_1;
    __pyx_t_1 = 0;
    __pyx_v_ax = __pyx_t_6;
    __pyx_t_6 = 0;
/* â€¦ */
  __pyx_tuple__124 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_int_1, __pyx_int_1);<span class='error_goto'> if (unlikely(!__pyx_tuple__124)) __PYX_ERR(0, 3668, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__124);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__124);
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3669</span>:         ax.plot (x,</pre>
<pre class='cython code score-22 '>    <span class='trace'>__Pyx_TraceLine</span>(3669,0,<span class='error_goto'>__PYX_ERR(0, 3669, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_ax, __pyx_n_s_plot);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3669, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(3670,0,<span class='error_goto'>__PYX_ERR(0, 3670, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3669, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_x);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_x);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_v_x)) <span class='error_goto'>__PYX_ERR(0, 3669, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_ar);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_ar);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 1, __pyx_v_ar)) <span class='error_goto'>__PYX_ERR(0, 3669, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_ok_2);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_ok_2);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 2, __pyx_kp_u_ok_2)) <span class='error_goto'>__PYX_ERR(0, 3669, __pyx_L1_error)</span>;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(3669,0,<span class='error_goto'>__PYX_ERR(0, 3669, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_t_6, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3669, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3670</span>:                  ar ,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3671</span>:                  'ok-',</pre>
<pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3672</span>:                  label ='raw curve'</pre>
<pre class='cython code score-7 '>    <span class='trace'>__Pyx_TraceLine</span>(3672,0,<span class='error_goto'>__PYX_ERR(0, 3672, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3672, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_label, __pyx_kp_u_raw_curve) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3672, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3673</span>:                  )</pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3674</span>:         ax.plot (x,</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(3674,0,<span class='error_goto'>__PYX_ERR(0, 3674, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_ax, __pyx_n_s_plot);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3674, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(3675,0,<span class='error_goto'>__PYX_ERR(0, 3675, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3674, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_x);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_x);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_x)) <span class='error_goto'>__PYX_ERR(0, 3674, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arr);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_v_arr)) <span class='error_goto'>__PYX_ERR(0, 3674, __pyx_L1_error)</span>;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(3674,0,<span class='error_goto'>__PYX_ERR(0, 3674, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_4, __pyx_t_1, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3674, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3675</span>:                  arr,</pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3676</span>:                  c='#0A4CEE',</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(3676,0,<span class='error_goto'>__PYX_ERR(0, 3676, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3676, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_c, __pyx_kp_u_0A4CEE) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3676, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_marker, __pyx_n_u_o) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3676, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_label, __pyx_kp_u_smooth_curve) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3676, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3677</span>:                  marker = 'o',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3678</span>:                  label ='smooth curve'</pre>
<pre class="cython line score-0">&#xA0;<span class="">3679</span>:                  )</pre>
<pre class="cython line score-0">&#xA0;<span class="">3680</span>: </pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3681</span>:         ax.legend ( )</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(3681,0,<span class='error_goto'>__PYX_ERR(0, 3681, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_ax, __pyx_n_s_legend);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3681, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_1 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, NULL};
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_7, 0+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 3681, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3682</span>:         ax.set_xlabel (xlabel or '')</pre>
<pre class='cython code score-22 '>    <span class='trace'>__Pyx_TraceLine</span>(3682,0,<span class='error_goto'>__PYX_ERR(0, 3682, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_ax, __pyx_n_s_set_xlabel);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3682, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_xlabel); if (unlikely((__pyx_t_9 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3682, __pyx_L1_error)</span>
    if (!__pyx_t_9) {
    } else {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_xlabel);
      __pyx_t_1 = __pyx_v_xlabel;
      goto __pyx_L14_bool_binop_done;
    }
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__49);
    __pyx_t_1 = __pyx_kp_u__49;
    __pyx_L14_bool_binop_done:;
    __pyx_t_4 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
      __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
      if (likely(__pyx_t_4)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_t_1};
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 3682, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3683</span>:         ax.set_ylabel ( ylabel or '')</pre>
<pre class='cython code score-22 '>    <span class='trace'>__Pyx_TraceLine</span>(3683,0,<span class='error_goto'>__PYX_ERR(0, 3683, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_ax, __pyx_n_s_set_ylabel);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3683, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_ylabel); if (unlikely((__pyx_t_9 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3683, __pyx_L1_error)</span>
    if (!__pyx_t_9) {
    } else {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_ylabel);
      __pyx_t_1 = __pyx_v_ylabel;
      goto __pyx_L16_bool_binop_done;
    }
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__49);
    __pyx_t_1 = __pyx_kp_u__49;
    __pyx_L16_bool_binop_done:;
    __pyx_t_4 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
      __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
      if (likely(__pyx_t_4)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_t_1};
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 3683, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3684</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3685</span>:     return arr</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3685,0,<span class='error_goto'>__PYX_ERR(0, 3685, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
  __pyx_r = __pyx_v_arr;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3686</span>: </pre>
<pre class="cython line score-53" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3687</span>: def smoothing (</pre>
<pre class='cython code score-53 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_112smoothing(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_111smoothing, " Smooth data along axis. \n    \n    Parameters \n    -----------\n    ar: ArrayLike 1d or 2d \n       One dimensional or two dimensional array. \n       \n    drop_outliers: bool, default=True \n       Remove the outliers in the data before smoothing along the given axis \n       \n    ma: bool, default=True, \n       Use the moving average for smoothing array value along axis. This seems \n       more realistic rather than using only the scaling method. \n       \n    absolute: bool, default=False, \n       keep positive the extrapolated scaled values. Indeed, when scaling data, \n       negative value can be appear due to the polyfit function. to absolute \n       this value, set ``absolute=True``. Note that converting to values to \n       positive must be considered as the last option when values in the \n       array must be positive.\n       \n    axis: int, default=0 \n       Axis along with the data must be smoothed. The default is the along  \n       the row. \n       \n    view: bool, default =False \n       Visualize the two dimensional raw and smoothing grid. \n       \n    xlabel: str, optional \n       Label of x \n       \n    ylabel:str, optional \n    \n       label of y  \n    fig_size: tuple , default=(7, 5)\n       Matplotlib figure size \n       \n    cmap: str, default='binary'\n       Matplotlib.colormap to manage the `view` color \n      \n    Return \n    --------\n    arr0: ArrayLike \n       Smoothed array value. \n    \n    Examples \n    ---------\n    &gt;&gt;&gt; import numpy as np \n    &gt;&gt;&gt; from gofast.tools.baseutils  import smoothing\n    &gt;&gt;&gt; # add Guassian Noises \n    &gt;&gt;&gt; np.random.seed (42)\n    &gt;&gt;&gt; ar = np.random.randn (20, 7 ) * 20 + np.random.normal ( 20, 7 )\n    &gt;&gt;&gt; ar [:3, :3 ]\n    array([[ 31.5265026 ,  18.82693352,  34.5459903 ],\n           [ 36.94091413,  12.20273182,  32.44342041],\n           [-12.90613711,  10.34646896,   1.33559714]])\n    &gt;&gt;&gt; arc = smoothing (ar, view =True , ma =False )\n    &gt;&gt;&gt; arc [:3, :3 ]\n    array(""[[32.20356863, 17.18624398, 41.22258603],\n           [33.46353806, 15.56839464, 19.20963317],\n           [23.22466498, 13.8985316 ,  5.04748584]])\n    &gt;&gt;&gt; arcma = smoothing (ar, view =True )# ma=True by default\n    &gt;&gt;&gt; arcma [:3, :3 ]\n    array([[23.96547827,  8.48064226, 31.81490918],\n           [26.21374675, 13.33233065, 12.29345026],\n           [22.60143346, 16.77242118,  2.07931194]])\n    &gt;&gt;&gt; arcma_1 = smoothing (ar, view =True, axis =1 )\n    &gt;&gt;&gt; arcma_1 [:3, :3 ]\n    array([[18.74017857, 26.91532187, 32.02914421],\n           [18.4056216 , 21.81293014, 21.98535213],\n           [-1.44359989,  3.49228057,  7.51734762]])\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_112smoothing = {"smoothing", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_112smoothing, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_111smoothing};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_112smoothing(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_ar = 0;
  PyObject *__pyx_v_drop_outliers = 0;
  PyObject *__pyx_v_ma = 0;
  PyObject *__pyx_v_absolute = 0;
  PyObject *__pyx_v_interpolate = 0;
  PyObject *__pyx_v_axis = 0;
  PyObject *__pyx_v_view = 0;
  PyObject *__pyx_v_fig_size = 0;
  PyObject *__pyx_v_xlabel = 0;
  PyObject *__pyx_v_ylabel = 0;
  PyObject *__pyx_v_cmap = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("smoothing (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_ar,&amp;__pyx_n_s_drop_outliers,&amp;__pyx_n_s_ma,&amp;__pyx_n_s_absolute,&amp;__pyx_n_s_interpolate,&amp;__pyx_n_s_axis,&amp;__pyx_n_s_view,&amp;__pyx_n_s_fig_size,&amp;__pyx_n_s_xlabel,&amp;__pyx_n_s_ylabel,&amp;__pyx_n_s_cmap,0};
  PyObject* values[11] = {0,0,0,0,0,0,0,0,0,0,0};
/* â€¦ */
  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_111smoothing(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_ar, PyObject *__pyx_v_drop_outliers, PyObject *__pyx_v_ma, PyObject *__pyx_v_absolute, PyObject *__pyx_v_interpolate, PyObject *__pyx_v_axis, PyObject *__pyx_v_view, PyObject *__pyx_v_fig_size, PyObject *__pyx_v_xlabel, PyObject *__pyx_v_ylabel, PyObject *__pyx_v_cmap) {
  PyObject *__pyx_v_arr = NULL;
  PyObject *__pyx_v_along_axis = NULL;
  PyObject *__pyx_v_arr0 = NULL;
  PyObject *__pyx_v_ix = NULL;
  PyObject *__pyx_v_value = NULL;
  PyObject *__pyx_v_yc = NULL;
  CYTHON_UNUSED PyObject *__pyx_v_fig = NULL;
  PyObject *__pyx_v_ax = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__126)
  <span class='trace'>__Pyx_TraceCall</span>("smoothing", __pyx_f[0], 3687, 0, <span class='error_goto'>__PYX_ERR(0, 3687, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_ar);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_axis);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.smoothing", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_arr);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_along_axis);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_arr0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_ix);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_value);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_yc);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_fig);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_ax);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_ar);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_axis);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__225 = <span class='py_c_api'>PyTuple_Pack</span>(19, __pyx_n_s_ar, __pyx_n_s_drop_outliers, __pyx_n_s_ma, __pyx_n_s_absolute, __pyx_n_s_interpolate, __pyx_n_s_axis, __pyx_n_s_view, __pyx_n_s_fig_size, __pyx_n_s_xlabel, __pyx_n_s_ylabel, __pyx_n_s_cmap, __pyx_n_s_arr, __pyx_n_s_along_axis, __pyx_n_s_arr0, __pyx_n_s_ix, __pyx_n_s_value, __pyx_n_s_yc, __pyx_n_s_fig, __pyx_n_s_ax);<span class='error_goto'> if (unlikely(!__pyx_tuple__225)) __PYX_ERR(0, 3687, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__225);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__225);
  __pyx_codeobj__126 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(11, 0, 0, 19, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__225, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_smoothing, 3687, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__126)) __PYX_ERR(0, 3687, __pyx_L1_error)</span>
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(3687,0,<span class='error_goto'>__PYX_ERR(0, 3687, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_112smoothing, 0, __pyx_n_s_smoothing, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__126));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3687, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_3, __pyx_tuple__226);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_smoothing, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3687, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_tuple__226 = <span class='py_c_api'>PyTuple_Pack</span>(10, ((PyObject *)Py_True), ((PyObject *)Py_True), ((PyObject *)Py_False), ((PyObject *)Py_False), ((PyObject *)__pyx_int_0), ((PyObject *)Py_False), ((PyObject*)__pyx_tuple__125), Py_None, Py_None, ((PyObject*)__pyx_n_u_binary));<span class='error_goto'> if (unlikely(!__pyx_tuple__226)) __PYX_ERR(0, 3687, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__226);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__226);
</pre><pre class="cython line score-0">&#xA0;<span class="">3688</span>:     ar,</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3689</span>:     drop_outliers = True ,</pre>
<pre class='cython code score-2 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_True)));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3690</span>:     ma=True,</pre>
<pre class='cython code score-2 '>    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_True)));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3691</span>:     absolute =False,</pre>
<pre class='cython code score-2 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
</pre><pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3692</span>:     interpolate=False,</pre>
<pre class='cython code score-4 '>    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)__pyx_int_0)));
</pre><pre class="cython line score-0">&#xA0;<span class="">3693</span>:     axis = 0,</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3694</span>:     view = False,</pre>
<pre class='cython code score-2 '>    values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3695</span>:     fig_size =(7, 7),</pre>
<pre class='cython code score-7 '>    values[7] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_tuple__125)));
/* â€¦ */
  __pyx_tuple__125 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_int_7, __pyx_int_7);<span class='error_goto'> if (unlikely(!__pyx_tuple__125)) __PYX_ERR(0, 3695, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__125);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__125);
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3696</span>:     xlabel =None,</pre>
<pre class='cython code score-2 '>    values[8] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-157" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3697</span>:     ylabel =None ,</pre>
<pre class='cython code score-157 '>    values[9] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[10] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_n_u_binary)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case 11: values[10] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 10);
        CYTHON_FALLTHROUGH;
        case 10: values[9] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 9);
        CYTHON_FALLTHROUGH;
        case  9: values[8] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 8);
        CYTHON_FALLTHROUGH;
        case  8: values[7] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 7);
        CYTHON_FALLTHROUGH;
        case  7: values[6] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 6);
        CYTHON_FALLTHROUGH;
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_ar)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3687, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_drop_outliers);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3687, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_ma);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3687, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_absolute);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3687, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_interpolate);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3687, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  5:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_axis);
          if (value) { values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3687, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  6:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_view);
          if (value) { values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3687, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  7:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_fig_size);
          if (value) { values[7] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3687, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  8:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_xlabel);
          if (value) { values[8] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3687, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  9:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_ylabel);
          if (value) { values[9] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3687, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case 10:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_cmap);
          if (value) { values[10] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3687, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "smoothing") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 3687, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case 11: values[10] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 10);
        CYTHON_FALLTHROUGH;
        case 10: values[9] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 9);
        CYTHON_FALLTHROUGH;
        case  9: values[8] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 8);
        CYTHON_FALLTHROUGH;
        case  8: values[7] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 7);
        CYTHON_FALLTHROUGH;
        case  7: values[6] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 6);
        CYTHON_FALLTHROUGH;
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_ar = values[0];
    __pyx_v_drop_outliers = values[1];
    __pyx_v_ma = values[2];
    __pyx_v_absolute = values[3];
    __pyx_v_interpolate = values[4];
    __pyx_v_axis = values[5];
    __pyx_v_view = values[6];
    __pyx_v_fig_size = values[7];
    __pyx_v_xlabel = values[8];
    __pyx_v_ylabel = values[9];
    __pyx_v_cmap = values[10];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("smoothing", 0, 1, 11, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 3687, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.smoothing", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_111smoothing(__pyx_self, __pyx_v_ar, __pyx_v_drop_outliers, __pyx_v_ma, __pyx_v_absolute, __pyx_v_interpolate, __pyx_v_axis, __pyx_v_view, __pyx_v_fig_size, __pyx_v_xlabel, __pyx_v_ylabel, __pyx_v_cmap);
</pre><pre class="cython line score-0">&#xA0;<span class="">3698</span>:     cmap ='binary'</pre>
<pre class="cython line score-0">&#xA0;<span class="">3699</span>:     ):</pre>
<pre class="cython line score-0">&#xA0;<span class="">3700</span>:     """ Smooth data along axis.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3701</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3702</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">3703</span>:     -----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3704</span>:     ar: ArrayLike 1d or 2d</pre>
<pre class="cython line score-0">&#xA0;<span class="">3705</span>:        One dimensional or two dimensional array.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3706</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3707</span>:     drop_outliers: bool, default=True</pre>
<pre class="cython line score-0">&#xA0;<span class="">3708</span>:        Remove the outliers in the data before smoothing along the given axis</pre>
<pre class="cython line score-0">&#xA0;<span class="">3709</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3710</span>:     ma: bool, default=True,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3711</span>:        Use the moving average for smoothing array value along axis. This seems</pre>
<pre class="cython line score-0">&#xA0;<span class="">3712</span>:        more realistic rather than using only the scaling method.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3713</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3714</span>:     absolute: bool, default=False,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3715</span>:        keep positive the extrapolated scaled values. Indeed, when scaling data,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3716</span>:        negative value can be appear due to the polyfit function. to absolute</pre>
<pre class="cython line score-0">&#xA0;<span class="">3717</span>:        this value, set ``absolute=True``. Note that converting to values to</pre>
<pre class="cython line score-0">&#xA0;<span class="">3718</span>:        positive must be considered as the last option when values in the</pre>
<pre class="cython line score-0">&#xA0;<span class="">3719</span>:        array must be positive.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3720</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3721</span>:     axis: int, default=0</pre>
<pre class="cython line score-0">&#xA0;<span class="">3722</span>:        Axis along with the data must be smoothed. The default is the along</pre>
<pre class="cython line score-0">&#xA0;<span class="">3723</span>:        the row.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3724</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3725</span>:     view: bool, default =False</pre>
<pre class="cython line score-0">&#xA0;<span class="">3726</span>:        Visualize the two dimensional raw and smoothing grid.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3727</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3728</span>:     xlabel: str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3729</span>:        Label of x</pre>
<pre class="cython line score-0">&#xA0;<span class="">3730</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3731</span>:     ylabel:str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3732</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3733</span>:        label of y</pre>
<pre class="cython line score-0">&#xA0;<span class="">3734</span>:     fig_size: tuple , default=(7, 5)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3735</span>:        Matplotlib figure size</pre>
<pre class="cython line score-0">&#xA0;<span class="">3736</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3737</span>:     cmap: str, default='binary'</pre>
<pre class="cython line score-0">&#xA0;<span class="">3738</span>:        Matplotlib.colormap to manage the `view` color</pre>
<pre class="cython line score-0">&#xA0;<span class="">3739</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3740</span>:     Return</pre>
<pre class="cython line score-0">&#xA0;<span class="">3741</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3742</span>:     arr0: ArrayLike</pre>
<pre class="cython line score-0">&#xA0;<span class="">3743</span>:        Smoothed array value.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3744</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3745</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">3746</span>:     ---------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3747</span>:     &gt;&gt;&gt; import numpy as np</pre>
<pre class="cython line score-0">&#xA0;<span class="">3748</span>:     &gt;&gt;&gt; from gofast.tools.baseutils  import smoothing</pre>
<pre class="cython line score-0">&#xA0;<span class="">3749</span>:     &gt;&gt;&gt; # add Guassian Noises</pre>
<pre class="cython line score-0">&#xA0;<span class="">3750</span>:     &gt;&gt;&gt; np.random.seed (42)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3751</span>:     &gt;&gt;&gt; ar = np.random.randn (20, 7 ) * 20 + np.random.normal ( 20, 7 )</pre>
<pre class="cython line score-0">&#xA0;<span class="">3752</span>:     &gt;&gt;&gt; ar [:3, :3 ]</pre>
<pre class="cython line score-0">&#xA0;<span class="">3753</span>:     array([[ 31.5265026 ,  18.82693352,  34.5459903 ],</pre>
<pre class="cython line score-0">&#xA0;<span class="">3754</span>:            [ 36.94091413,  12.20273182,  32.44342041],</pre>
<pre class="cython line score-0">&#xA0;<span class="">3755</span>:            [-12.90613711,  10.34646896,   1.33559714]])</pre>
<pre class="cython line score-0">&#xA0;<span class="">3756</span>:     &gt;&gt;&gt; arc = smoothing (ar, view =True , ma =False )</pre>
<pre class="cython line score-0">&#xA0;<span class="">3757</span>:     &gt;&gt;&gt; arc [:3, :3 ]</pre>
<pre class="cython line score-0">&#xA0;<span class="">3758</span>:     array([[32.20356863, 17.18624398, 41.22258603],</pre>
<pre class="cython line score-0">&#xA0;<span class="">3759</span>:            [33.46353806, 15.56839464, 19.20963317],</pre>
<pre class="cython line score-0">&#xA0;<span class="">3760</span>:            [23.22466498, 13.8985316 ,  5.04748584]])</pre>
<pre class="cython line score-0">&#xA0;<span class="">3761</span>:     &gt;&gt;&gt; arcma = smoothing (ar, view =True )# ma=True by default</pre>
<pre class="cython line score-0">&#xA0;<span class="">3762</span>:     &gt;&gt;&gt; arcma [:3, :3 ]</pre>
<pre class="cython line score-0">&#xA0;<span class="">3763</span>:     array([[23.96547827,  8.48064226, 31.81490918],</pre>
<pre class="cython line score-0">&#xA0;<span class="">3764</span>:            [26.21374675, 13.33233065, 12.29345026],</pre>
<pre class="cython line score-0">&#xA0;<span class="">3765</span>:            [22.60143346, 16.77242118,  2.07931194]])</pre>
<pre class="cython line score-0">&#xA0;<span class="">3766</span>:     &gt;&gt;&gt; arcma_1 = smoothing (ar, view =True, axis =1 )</pre>
<pre class="cython line score-0">&#xA0;<span class="">3767</span>:     &gt;&gt;&gt; arcma_1 [:3, :3 ]</pre>
<pre class="cython line score-0">&#xA0;<span class="">3768</span>:     array([[18.74017857, 26.91532187, 32.02914421],</pre>
<pre class="cython line score-0">&#xA0;<span class="">3769</span>:            [18.4056216 , 21.81293014, 21.98535213],</pre>
<pre class="cython line score-0">&#xA0;<span class="">3770</span>:            [-1.44359989,  3.49228057,  7.51734762]])</pre>
<pre class="cython line score-0">&#xA0;<span class="">3771</span>:     """</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3772</span>:     ar = np.array (</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(3772,0,<span class='error_goto'>__PYX_ERR(0, 3772, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3772, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3772, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-43" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3773</span>:         is_iterable(ar, exclude_string = True , transform =True )</pre>
<pre class='cython code score-43 '>  <span class='trace'>__Pyx_TraceLine</span>(3773,0,<span class='error_goto'>__PYX_ERR(0, 3773, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_is_iterable);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3773, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3773, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_ar);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_ar);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_v_ar)) <span class='error_goto'>__PYX_ERR(0, 3773, __pyx_L1_error)</span>;
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3773, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_exclude_string, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3773, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_transform, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3773, __pyx_L1_error)</span>
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_4, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3773, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_5 = NULL;
  __pyx_t_7 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_5)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_7 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_t_6};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3772, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_ar, __pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3774</span>:         )</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3775</span>:     if (</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(3775,0,<span class='error_goto'>__PYX_ERR(0, 3775, __pyx_L1_error)</span>)
  if (__pyx_t_8) {
/* â€¦ */
    goto __pyx_L3;
  }
</pre><pre class="cython line score-45" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3776</span>:             str (axis).lower().find('1')&gt;=0</pre>
<pre class='cython code score-45 '>  <span class='trace'>__Pyx_TraceLine</span>(3776,0,<span class='error_goto'>__PYX_ERR(0, 3776, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Str</span>(__pyx_v_axis);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3776, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_lower);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3776, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_6 = NULL;
  __pyx_t_7 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
    __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
    if (likely(__pyx_t_6)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
      __pyx_t_7 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_6, NULL};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_7, 0+__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 3776, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  }
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_find);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3776, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_7 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
      __pyx_t_7 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_kp_u_1};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3776, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  }
  __pyx_t_5 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_1, __pyx_int_0, Py_GE); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3776, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_5); if (unlikely((__pyx_t_9 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3776, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  if (!__pyx_t_9) {
  } else {
    __pyx_t_8 = __pyx_t_9;
    goto __pyx_L4_bool_binop_done;
  }
</pre><pre class="cython line score-45" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3777</span>:             or str(axis).lower().find('column')&gt;=0</pre>
<pre class='cython code score-45 '>  <span class='trace'>__Pyx_TraceLine</span>(3777,0,<span class='error_goto'>__PYX_ERR(0, 3777, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Str</span>(__pyx_v_axis);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3777, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_lower);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3777, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_7 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
      __pyx_t_7 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_7, 0+__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3777, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  }
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_find);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3777, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = NULL;
  __pyx_t_7 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
    __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
    if (likely(__pyx_t_1)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
      __pyx_t_7 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_n_u_column};
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 3777, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  }
  __pyx_t_6 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_5, __pyx_int_0, Py_GE); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3777, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_6); if (unlikely((__pyx_t_9 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3777, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_8 = __pyx_t_9;
  __pyx_L4_bool_binop_done:;
</pre><pre class="cython line score-0">&#xA0;<span class="">3778</span>:             ):</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3779</span>:         axis = 1</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(3779,0,<span class='error_goto'>__PYX_ERR(0, 3779, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_int_1);
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_axis, __pyx_int_1);
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3780</span>:     else : axis =0</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3780,0,<span class='error_goto'>__PYX_ERR(0, 3780, __pyx_L1_error)</span>)
  /*else*/ {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_int_0);
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_axis, __pyx_int_0);
  }
  __pyx_L3:;
</pre><pre class="cython line score-0">&#xA0;<span class="">3781</span>: </pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3782</span>:     if _is_arraylike_1d(ar):</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(3782,0,<span class='error_goto'>__PYX_ERR(0, 3782, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_is_arraylike_1d);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3782, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_1 = NULL;
  __pyx_t_7 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
    __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
    if (likely(__pyx_t_1)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
      __pyx_t_7 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_v_ar};
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 3782, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  }
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_6); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3782, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  if (__pyx_t_8) {
/* â€¦ */
  }
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3783</span>:         ar = reshape ( ar, axis = 0 )</pre>
<pre class='cython code score-23 '>    <span class='trace'>__Pyx_TraceLine</span>(3783,0,<span class='error_goto'>__PYX_ERR(0, 3783, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_reshape);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3783, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3783, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_ar);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_ar);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_v_ar)) <span class='error_goto'>__PYX_ERR(0, 3783, __pyx_L1_error)</span>;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3783, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_axis, __pyx_int_0) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3783, __pyx_L1_error)</span>
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_6, __pyx_t_5, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3783, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_ar, __pyx_t_3);
    __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3784</span>:     # make a copy</pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3785</span>:     arr = ar.copy()</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(3785,0,<span class='error_goto'>__PYX_ERR(0, 3785, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_ar, __pyx_n_s_copy);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3785, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_5 = NULL;
  __pyx_t_7 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_5)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_7 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_5, NULL};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_7, 0+__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 3785, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  __pyx_v_arr = __pyx_t_3;
  __pyx_t_3 = 0;
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3786</span>:     along_axis = arr.shape [1] if axis == 0 else len(ar)</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(3786,0,<span class='error_goto'>__PYX_ERR(0, 3786, __pyx_L1_error)</span>)
  __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyInt_BoolEqObjC</span>(__pyx_v_axis, __pyx_int_0, 0, 0)); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3786, __pyx_L1_error)</span>
  if (__pyx_t_8) {
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_arr, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3786, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_1, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3786, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_3 = __pyx_t_5;
    __pyx_t_5 = 0;
  } else {
    __pyx_t_10 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_ar);<span class='error_goto'> if (unlikely(__pyx_t_10 == ((Py_ssize_t)-1))) __PYX_ERR(0, 3786, __pyx_L1_error)</span>
    __pyx_t_5 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_10);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3786, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_3 = __pyx_t_5;
    __pyx_t_5 = 0;
  }
  __pyx_v_along_axis = __pyx_t_3;
  __pyx_t_3 = 0;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3787</span>:     arr0 = np.zeros_like (arr)</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(3787,0,<span class='error_goto'>__PYX_ERR(0, 3787, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3787, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_zeros_like);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3787, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_5 = NULL;
  __pyx_t_7 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_5)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_7 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_v_arr};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 3787, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  __pyx_v_arr0 = __pyx_t_3;
  __pyx_t_3 = 0;
</pre><pre class="cython line score-52" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3788</span>:     for ix in range (along_axis):</pre>
<pre class='cython code score-52 '>  <span class='trace'>__Pyx_TraceLine</span>(3788,0,<span class='error_goto'>__PYX_ERR(0, 3788, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_range, __pyx_v_along_axis);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3788, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_3)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_3)) {
    __pyx_t_1 = __pyx_t_3; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    __pyx_t_10 = 0;
    __pyx_t_11 = NULL;
  } else {
    __pyx_t_10 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3788, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3788, __pyx_L1_error)</span>
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  for (;;) {
    if (likely(!__pyx_t_11)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3788, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_10 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_10); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3); __pyx_t_10++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3788, __pyx_L1_error)</span>
        #else
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_10); __pyx_t_10++;<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3788, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3788, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_10 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_10); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3); __pyx_t_10++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3788, __pyx_L1_error)</span>
        #else
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_10); __pyx_t_10++;<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3788, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        #endif
      }
    } else {
      __pyx_t_3 = __pyx_t_11(__pyx_t_1);
      if (unlikely(!__pyx_t_3)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 3788, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_ix, __pyx_t_3);
    __pyx_t_3 = 0;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(3788,0,<span class='error_goto'>__PYX_ERR(0, 3788, __pyx_L1_error)</span>)
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3789</span>:         value = arr [:, ix ] if axis ==0 else arr[ix , :]</pre>
<pre class='cython code score-31 '>    <span class='trace'>__Pyx_TraceLine</span>(3789,0,<span class='error_goto'>__PYX_ERR(0, 3789, __pyx_L1_error)</span>)
    __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyInt_BoolEqObjC</span>(__pyx_v_axis, __pyx_int_0, 0, 0)); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3789, __pyx_L1_error)</span>
    if (__pyx_t_8) {
      __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3789, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_slice__5);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_slice__5);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_slice__5)) <span class='error_goto'>__PYX_ERR(0, 3789, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_ix);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_ix);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 1, __pyx_v_ix)) <span class='error_goto'>__PYX_ERR(0, 3789, __pyx_L1_error)</span>;
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_arr, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3789, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_3 = __pyx_t_6;
      __pyx_t_6 = 0;
    } else {
      __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3789, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_ix);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_ix);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_v_ix)) <span class='error_goto'>__PYX_ERR(0, 3789, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_slice__5);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_slice__5);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 1, __pyx_slice__5)) <span class='error_goto'>__PYX_ERR(0, 3789, __pyx_L1_error)</span>;
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_arr, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3789, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_t_3 = __pyx_t_5;
      __pyx_t_5 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_value, __pyx_t_3);
    __pyx_t_3 = 0;
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3790</span>:         yc = smooth1d(value, drop_outliers = drop_outliers ,</pre>
<pre class='cython code score-23 '>    <span class='trace'>__Pyx_TraceLine</span>(3790,0,<span class='error_goto'>__PYX_ERR(0, 3790, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_smooth1d);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3790, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3790, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_value);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_value);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_v_value)) <span class='error_goto'>__PYX_ERR(0, 3790, __pyx_L1_error)</span>;
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3790, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_drop_outliers, __pyx_v_drop_outliers) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3790, __pyx_L1_error)</span>
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(3790,0,<span class='error_goto'>__PYX_ERR(0, 3790, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_5, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3790, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_yc, __pyx_t_4);
    __pyx_t_4 = 0;
</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3791</span>:                       ma= ma, view =False , absolute =absolute ,</pre>
<pre class='cython code score-15 '>    <span class='trace'>__Pyx_TraceLine</span>(3791,0,<span class='error_goto'>__PYX_ERR(0, 3791, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_ma, __pyx_v_ma) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3790, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_view, Py_False) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3790, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_absolute, __pyx_v_absolute) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3790, __pyx_L1_error)</span>
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3792</span>:                       interpolate= interpolate,</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(3792,0,<span class='error_goto'>__PYX_ERR(0, 3792, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_interpolate, __pyx_v_interpolate) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3790, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3793</span>:                       )</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3794</span>:         if axis ==0:</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(3794,0,<span class='error_goto'>__PYX_ERR(0, 3794, __pyx_L1_error)</span>)
    __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyInt_BoolEqObjC</span>(__pyx_v_axis, __pyx_int_0, 0, 0)); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3794, __pyx_L1_error)</span>
    if (__pyx_t_8) {
/* â€¦ */
      goto __pyx_L9;
    }
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3795</span>:             arr0[:, ix ] = yc</pre>
<pre class='cython code score-17 '>      <span class='trace'>__Pyx_TraceLine</span>(3795,0,<span class='error_goto'>__PYX_ERR(0, 3795, __pyx_L1_error)</span>)
      __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3795, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_slice__5);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_slice__5);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_slice__5)) <span class='error_goto'>__PYX_ERR(0, 3795, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_ix);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_ix);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_v_ix)) <span class='error_goto'>__PYX_ERR(0, 3795, __pyx_L1_error)</span>;
      if (unlikely((<span class='py_c_api'>PyObject_SetItem</span>(__pyx_v_arr0, __pyx_t_4, __pyx_v_yc) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3795, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3796</span>:         else : arr0[ix, :] = yc</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(3796,0,<span class='error_goto'>__PYX_ERR(0, 3796, __pyx_L1_error)</span>)
    /*else*/ {
      __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3796, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_ix);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_ix);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_v_ix)) <span class='error_goto'>__PYX_ERR(0, 3796, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_slice__5);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_slice__5);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_slice__5)) <span class='error_goto'>__PYX_ERR(0, 3796, __pyx_L1_error)</span>;
      if (unlikely((<span class='py_c_api'>PyObject_SetItem</span>(__pyx_v_arr0, __pyx_t_4, __pyx_v_yc) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3796, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    }
    __pyx_L9:;
</pre><pre class="cython line score-0">&#xA0;<span class="">3797</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3798</span>:     if view:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3798,0,<span class='error_goto'>__PYX_ERR(0, 3798, __pyx_L1_error)</span>)
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_view); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3798, __pyx_L1_error)</span>
  if (__pyx_t_8) {
/* â€¦ */
  }
</pre><pre class="cython line score-72" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3799</span>:         fig, ax  = plt.subplots (nrows = 1, ncols = 2 , sharey= True,</pre>
<pre class='cython code score-72 '>    <span class='trace'>__Pyx_TraceLine</span>(3799,0,<span class='error_goto'>__PYX_ERR(0, 3799, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_plt);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3799, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_subplots);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3799, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3799, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_nrows, __pyx_int_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3799, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_ncols, __pyx_int_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3799, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_sharey, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3799, __pyx_L1_error)</span>
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(3799,0,<span class='error_goto'>__PYX_ERR(0, 3799, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_4, __pyx_empty_tuple, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3799, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_6))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_6))) {
      PyObject* sequence = __pyx_t_6;
      Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
      if (unlikely(size != 2)) {
        if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
        else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
        <span class='error_goto'>__PYX_ERR(0, 3799, __pyx_L1_error)</span>
      }
      #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
      if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
        __pyx_t_1 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
        __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
      } else {
        __pyx_t_1 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
        __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
      }
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
      #else
      __pyx_t_1 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3799, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_4 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3799, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      #endif
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    } else {
      Py_ssize_t index = -1;
      __pyx_t_5 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3799, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_5);
      index = 0; __pyx_t_1 = __pyx_t_12(__pyx_t_5); if (unlikely(!__pyx_t_1)) goto __pyx_L12_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      index = 1; __pyx_t_4 = __pyx_t_12(__pyx_t_5); if (unlikely(!__pyx_t_4)) goto __pyx_L12_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_12(__pyx_t_5), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3799, __pyx_L1_error)</span>
      __pyx_t_12 = NULL;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      goto __pyx_L13_unpacking_done;
      __pyx_L12_unpacking_failed:;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_12 = NULL;
      if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
      <span class='error_goto'>__PYX_ERR(0, 3799, __pyx_L1_error)</span>
      __pyx_L13_unpacking_done:;
    }
    __pyx_v_fig = __pyx_t_1;
    __pyx_t_1 = 0;
    __pyx_v_ax = __pyx_t_4;
    __pyx_t_4 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3800</span>:                                  figsize = fig_size )</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(3800,0,<span class='error_goto'>__PYX_ERR(0, 3800, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_figsize, __pyx_v_fig_size) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3799, __pyx_L1_error)</span>
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3801</span>:         ax[0].imshow(arr ,interpolation='nearest', label ='Raw Grid',</pre>
<pre class='cython code score-31 '>    <span class='trace'>__Pyx_TraceLine</span>(3801,0,<span class='error_goto'>__PYX_ERR(0, 3801, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_ax, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3801, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_imshow);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3801, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3801, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arr);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_v_arr)) <span class='error_goto'>__PYX_ERR(0, 3801, __pyx_L1_error)</span>;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3801, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_interpolation, __pyx_n_u_nearest) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3801, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_label, __pyx_kp_u_Raw_Grid) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3801, __pyx_L1_error)</span>
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(3801,0,<span class='error_goto'>__PYX_ERR(0, 3801, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_4, __pyx_t_6, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3801, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3802</span>:                      cmap = cmap )</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(3802,0,<span class='error_goto'>__PYX_ERR(0, 3802, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_cmap, __pyx_v_cmap) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3801, __pyx_L1_error)</span>
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3803</span>:         ax[1].imshow (arr0, interpolation ='nearest', label = 'Smooth Grid',</pre>
<pre class='cython code score-31 '>    <span class='trace'>__Pyx_TraceLine</span>(3803,0,<span class='error_goto'>__PYX_ERR(0, 3803, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_ax, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3803, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_imshow);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3803, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3803, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr0);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arr0);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_v_arr0)) <span class='error_goto'>__PYX_ERR(0, 3803, __pyx_L1_error)</span>;
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3803, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_interpolation, __pyx_n_u_nearest) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3803, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_label, __pyx_kp_u_Smooth_Grid) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3803, __pyx_L1_error)</span>
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(3803,0,<span class='error_goto'>__PYX_ERR(0, 3803, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_5, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3803, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3804</span>:                       cmap =cmap  )</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(3804,0,<span class='error_goto'>__PYX_ERR(0, 3804, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_cmap, __pyx_v_cmap) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3803, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3805</span>: </pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3806</span>:         ax[0].set_title ('Raw Grid')</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(3806,0,<span class='error_goto'>__PYX_ERR(0, 3806, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_ax, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3806, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_set_title);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3806, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_kp_u_Raw_Grid};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 3806, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3807</span>:         ax[0].set_xlabel (xlabel or '')</pre>
<pre class='cython code score-25 '>    <span class='trace'>__Pyx_TraceLine</span>(3807,0,<span class='error_goto'>__PYX_ERR(0, 3807, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_ax, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3807, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_set_xlabel);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3807, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_xlabel); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3807, __pyx_L1_error)</span>
    if (!__pyx_t_8) {
    } else {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_xlabel);
      __pyx_t_5 = __pyx_v_xlabel;
      goto __pyx_L14_bool_binop_done;
    }
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__49);
    __pyx_t_5 = __pyx_kp_u__49;
    __pyx_L14_bool_binop_done:;
    __pyx_t_1 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_t_5};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 3807, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3808</span>:         ax[0].set_ylabel ( ylabel or '')</pre>
<pre class='cython code score-25 '>    <span class='trace'>__Pyx_TraceLine</span>(3808,0,<span class='error_goto'>__PYX_ERR(0, 3808, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_ax, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3808, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_set_ylabel);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3808, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_ylabel); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3808, __pyx_L1_error)</span>
    if (!__pyx_t_8) {
    } else {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_ylabel);
      __pyx_t_6 = __pyx_v_ylabel;
      goto __pyx_L16_bool_binop_done;
    }
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__49);
    __pyx_t_6 = __pyx_kp_u__49;
    __pyx_L16_bool_binop_done:;
    __pyx_t_1 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_t_6};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 3808, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3809</span>:         ax[1].set_title ('Smooth Grid')</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(3809,0,<span class='error_goto'>__PYX_ERR(0, 3809, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_ax, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3809, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_set_title);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3809, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_kp_u_Smooth_Grid};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 3809, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3810</span>:         ax[1].set_xlabel (xlabel or '')</pre>
<pre class='cython code score-25 '>    <span class='trace'>__Pyx_TraceLine</span>(3810,0,<span class='error_goto'>__PYX_ERR(0, 3810, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_ax, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3810, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_set_xlabel);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3810, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_xlabel); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3810, __pyx_L1_error)</span>
    if (!__pyx_t_8) {
    } else {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_xlabel);
      __pyx_t_6 = __pyx_v_xlabel;
      goto __pyx_L18_bool_binop_done;
    }
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__49);
    __pyx_t_6 = __pyx_kp_u__49;
    __pyx_L18_bool_binop_done:;
    __pyx_t_1 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_t_6};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 3810, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3811</span>:         ax[1].set_ylabel ( ylabel or '')</pre>
<pre class='cython code score-25 '>    <span class='trace'>__Pyx_TraceLine</span>(3811,0,<span class='error_goto'>__PYX_ERR(0, 3811, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_ax, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3811, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_set_ylabel);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3811, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_ylabel); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3811, __pyx_L1_error)</span>
    if (!__pyx_t_8) {
    } else {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_ylabel);
      __pyx_t_5 = __pyx_v_ylabel;
      goto __pyx_L20_bool_binop_done;
    }
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__49);
    __pyx_t_5 = __pyx_kp_u__49;
    __pyx_L20_bool_binop_done:;
    __pyx_t_1 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_t_5};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 3811, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3812</span>:         plt.legend</pre>
<pre class='cython code score-6 '>    <span class='trace'>__Pyx_TraceLine</span>(3812,0,<span class='error_goto'>__PYX_ERR(0, 3812, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_plt);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3812, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_legend);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3812, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3813</span>:         plt.show ()</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(3813,0,<span class='error_goto'>__PYX_ERR(0, 3813, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_plt);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3813, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_show);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3813, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_4)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_4, NULL};
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_7, 0+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 3813, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3814</span>: </pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3815</span>:     if 1 in ar.shape:</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(3815,0,<span class='error_goto'>__PYX_ERR(0, 3815, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_ar, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3815, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_int_1, __pyx_t_6, Py_EQ)); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3815, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  if (__pyx_t_8) {
/* â€¦ */
  }
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3816</span>:         arr0 = reshape (arr0 )</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(3816,0,<span class='error_goto'>__PYX_ERR(0, 3816, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_reshape);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3816, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_4 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_4)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_v_arr0};
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 3816, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr0, __pyx_t_6);
    __pyx_t_6 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3817</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3818</span>:     return arr0</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3818,0,<span class='error_goto'>__PYX_ERR(0, 3818, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr0);
  __pyx_r = __pyx_v_arr0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3819</span>: </pre>
<pre class="cython line score-103" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3820</span>: def _count_local_minima(arr: ArrayLike, method: str = 'robust') -&gt; int:</pre>
<pre class='cython code score-103 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_114_count_local_minima(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_114_count_local_minima = {"_count_local_minima", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_114_count_local_minima, __Pyx_METH_FASTCALL|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_114_count_local_minima(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_arr = 0;
  PyObject *__pyx_v_method = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_count_local_minima (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_arr,&amp;__pyx_n_s_method,0};
  PyObject* values[2] = {0,0};
    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject*)((PyObject*)__pyx_n_u_robust)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_arr)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3820, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_method);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3820, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_count_local_minima") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 3820, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_arr = values[0];
    __pyx_v_method = ((PyObject*)values[1]);
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_count_local_minima", 0, 1, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 3820, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._count_local_minima", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_method), (&amp;PyUnicode_Type), 0, "method", 1))) <span class='error_goto'>__PYX_ERR(0, 3820, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_113_count_local_minima(__pyx_self, __pyx_v_arr, __pyx_v_method);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
static PyObject *__pyx_gb_6gofast_5tools_9baseutils_19_count_local_minima_2generator16(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
/* â€¦ */
static PyObject *__pyx_pf_6gofast_5tools_9baseutils_113_count_local_minima(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_arr, PyObject *__pyx_v_method) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_23__count_local_minima *__pyx_cur_scope;
  PyObject *__pyx_gb_6gofast_5tools_9baseutils_19_count_local_minima_2generator16 = 0;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__127)
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_23__count_local_minima *)__pyx_tp_new_6gofast_5tools_9baseutils___pyx_scope_struct_23__count_local_minima(__pyx_ptype_6gofast_5tools_9baseutils___pyx_scope_struct_23__count_local_minima, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_23__count_local_minima *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 3820, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  <span class='trace'>__Pyx_TraceCall</span>("_count_local_minima", __pyx_f[0], 3820, 0, <span class='error_goto'>__PYX_ERR(0, 3820, __pyx_L1_error)</span>);
  __pyx_cur_scope-&gt;__pyx_v_arr = __pyx_v_arr;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_arr);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_v_arr);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._count_local_minima", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_gb_6gofast_5tools_9baseutils_19_count_local_minima_2generator16);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__227 = <span class='py_c_api'>PyTuple_Pack</span>(4, __pyx_n_s_arr, __pyx_n_s_method, __pyx_n_s_genexpr, __pyx_n_s_genexpr);<span class='error_goto'> if (unlikely(!__pyx_tuple__227)) __PYX_ERR(0, 3820, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__227);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__227);
  __pyx_codeobj__127 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(2, 0, 0, 4, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__227, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_count_local_minima, 3820, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__127)) __PYX_ERR(0, 3820, __pyx_L1_error)</span>
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(3820,0,<span class='error_goto'>__PYX_ERR(0, 3820, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3820, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_arr, __pyx_n_s_ArrayLike) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3820, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_method, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3820, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return, __pyx_n_s_int) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3820, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_114_count_local_minima, 0, __pyx_n_s_count_local_minima, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__127));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3820, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_4, __pyx_tuple__228);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_4, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_count_local_minima, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3820, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_tuple__228 = <span class='py_c_api'>PyTuple_Pack</span>(1, ((PyObject*)__pyx_n_u_robust));<span class='error_goto'> if (unlikely(!__pyx_tuple__228)) __PYX_ERR(0, 3820, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__228);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__228);
/* â€¦ */
struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_23__count_local_minima {
  PyObject_HEAD
  PyObject *__pyx_v_arr;
};

</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3821</span>:     if method == 'base':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3821,0,<span class='error_goto'>__PYX_ERR(0, 3821, __pyx_L1_error)</span>)
  __pyx_t_1 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_method, __pyx_n_u_base, Py_EQ)); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3821, __pyx_L1_error)</span>
  if (__pyx_t_1) {
/* â€¦ */
  }
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3822</span>:         return sum(</pre>
<pre class='cython code score-6 '>    <span class='trace'>__Pyx_TraceLine</span>(3822,0,<span class='error_goto'>__PYX_ERR(0, 3822, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(3822,0,<span class='error_goto'>__PYX_ERR(0, 3822, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_sum, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3822, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (!(likely(__Pyx_Py3Int_CheckExact(__pyx_t_2))||((__pyx_t_2) == Py_None) || <span class='pyx_c_api'>__Pyx_RaiseUnexpectedTypeError</span>("int", __pyx_t_2))) <span class='error_goto'>__PYX_ERR(0, 3822, __pyx_L1_error)</span>
    __pyx_r = ((PyObject*)__pyx_t_2);
    __pyx_t_2 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-128" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3823</span>:             1 for i in range(1, len(arr) - 1) if arr[i] &lt; arr[i - 1]</pre>
<pre class='cython code score-128 '>static PyObject *__pyx_pf_6gofast_5tools_9baseutils_19_count_local_minima_genexpr(PyObject *__pyx_self, PyObject *__pyx_genexpr_arg_0) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_24_genexpr *__pyx_cur_scope;
  PyObject *__pyx_r = NULL;
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_24_genexpr *)__pyx_tp_new_6gofast_5tools_9baseutils___pyx_scope_struct_24_genexpr(__pyx_ptype_6gofast_5tools_9baseutils___pyx_scope_struct_24_genexpr, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_24_genexpr *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 3823, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  __pyx_cur_scope-&gt;__pyx_outer_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_23__count_local_minima *) __pyx_self;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>((PyObject *)__pyx_cur_scope-&gt;__pyx_outer_scope);
  <span class='refnanny'>__Pyx_GIVEREF</span>((PyObject *)__pyx_cur_scope-&gt;__pyx_outer_scope);
  __pyx_cur_scope-&gt;__pyx_genexpr_arg_0 = __pyx_genexpr_arg_0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  {
    __pyx_CoroutineObject *gen = <span class='pyx_c_api'>__Pyx_Generator_New</span>((__pyx_coroutine_body_t) __pyx_gb_6gofast_5tools_9baseutils_19_count_local_minima_2generator16, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_count_local_minima_locals_genex, __pyx_n_s_gofast_tools_baseutils);<span class='error_goto'> if (unlikely(!gen)) __PYX_ERR(0, 3823, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_cur_scope);
    <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
    return (PyObject *) gen;
  }

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._count_local_minima.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_gb_6gofast_5tools_9baseutils_19_count_local_minima_2generator16(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
{
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("genexpr", 0);
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_L3_first_run:;
  if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 3823, __pyx_L1_error)</span>
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>(".0"); <span class='error_goto'>__PYX_ERR(0, 3823, __pyx_L1_error)</span> }
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) {
    __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_genexpr_arg_0; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    __pyx_t_2 = 0;
    __pyx_t_3 = NULL;
  } else {
    __pyx_t_2 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3823, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3823, __pyx_L1_error)</span>
  }
  for (;;) {
    if (likely(!__pyx_t_3)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3823, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3823, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3823, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3823, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3823, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3823, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      }
    } else {
      __pyx_t_4 = __pyx_t_3(__pyx_t_1);
      if (unlikely(!__pyx_t_4)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 3823, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    }
    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_cur_scope-&gt;__pyx_v_i);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_cur_scope-&gt;__pyx_v_i, __pyx_t_4);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
    __pyx_t_4 = 0;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(3824,0,<span class='error_goto'>__PYX_ERR(0, 3824, __pyx_L1_error)</span>)
    if (unlikely(!__pyx_cur_scope-&gt;__pyx_outer_scope-&gt;__pyx_v_arr)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("arr"); <span class='error_goto'>__PYX_ERR(0, 3823, __pyx_L1_error)</span> }
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(3823,0,<span class='error_goto'>__PYX_ERR(0, 3823, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_cur_scope-&gt;__pyx_outer_scope-&gt;__pyx_v_arr, __pyx_cur_scope-&gt;__pyx_v_i);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3823, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    if (unlikely(!__pyx_cur_scope-&gt;__pyx_outer_scope-&gt;__pyx_v_arr)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("arr"); <span class='error_goto'>__PYX_ERR(0, 3823, __pyx_L1_error)</span> }
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyInt_SubtractObjC</span>(__pyx_cur_scope-&gt;__pyx_v_i, __pyx_int_1, 1, 0, 0);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3823, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_cur_scope-&gt;__pyx_outer_scope-&gt;__pyx_v_arr, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3823, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_4, __pyx_t_7, Py_LT); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3823, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_6); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3823, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    if (__pyx_t_8) {
    } else {
      __pyx_t_5 = __pyx_t_8;
      goto __pyx_L7_bool_binop_done;
    }
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(3823,0,<span class='error_goto'>__PYX_ERR(0, 3823, __pyx_L1_error)</span>)
    if (__pyx_t_5) {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_int_1);
      __pyx_r = __pyx_int_1;
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_1);
      __pyx_cur_scope-&gt;__pyx_t_0 = __pyx_t_1;
      __pyx_cur_scope-&gt;__pyx_t_1 = __pyx_t_2;
      __pyx_cur_scope-&gt;__pyx_t_2 = __pyx_t_3;
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
      <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
      <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
      <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
      /* return from generator, yielding value */
      __pyx_generator-&gt;resume_label = 1;
      return __pyx_r;
      __pyx_L9_resume_from_yield:;
      __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_t_0;
      __pyx_cur_scope-&gt;__pyx_t_0 = 0;
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
      __pyx_t_2 = __pyx_cur_scope-&gt;__pyx_t_1;
      __pyx_t_3 = __pyx_cur_scope-&gt;__pyx_t_2;
      if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 3823, __pyx_L1_error)</span>
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);

  /* function exit code */
  <span class='py_c_api'>PyErr_SetNone</span>(PyExc_StopIteration);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_Generator_Replace_StopIteration</span>(0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r); __pyx_r = 0;
  #if !CYTHON_USE_EXC_INFO_STACK
  <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
  #endif
  __pyx_generator-&gt;resume_label = -1;
  <span class='pyx_c_api'>__Pyx_Coroutine_clear</span>((PyObject*)__pyx_generator);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(3823,0,<span class='error_goto'>__PYX_ERR(0, 3823, __pyx_L1_error)</span>)
    __pyx_t_2 = __pyx_cur_scope-&gt;__pyx_v_arr;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='py_c_api'>PyObject_Length</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(__pyx_t_3 == ((Py_ssize_t)-1))) __PYX_ERR(0, 3823, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='py_c_api'>PyInt_FromSsize_t</span>((__pyx_t_3 - 1));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3823, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3823, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_int_1);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_int_1);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_int_1)) <span class='error_goto'>__PYX_ERR(0, 3823, __pyx_L1_error)</span>;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3823, __pyx_L1_error)</span>;
    __pyx_t_2 = 0;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_range, __pyx_t_4, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3823, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = __pyx_pf_6gofast_5tools_9baseutils_19_count_local_minima_genexpr(((PyObject*)__pyx_cur_scope), __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3823, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
/* â€¦ */
struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_24_genexpr {
  PyObject_HEAD
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_23__count_local_minima *__pyx_outer_scope;
  PyObject *__pyx_genexpr_arg_0;
  PyObject *__pyx_v_i;
  PyObject *__pyx_t_0;
  Py_ssize_t __pyx_t_1;
  PyObject *(*__pyx_t_2)(PyObject *);
};

</pre><pre class="cython line score-21" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3824</span>:             and arr[i] &lt; arr[i + 1]</pre>
<pre class='cython code score-21 '>    <span class='trace'>__Pyx_TraceLine</span>(3824,0,<span class='error_goto'>__PYX_ERR(0, 3824, __pyx_L1_error)</span>)
    if (unlikely(!__pyx_cur_scope-&gt;__pyx_outer_scope-&gt;__pyx_v_arr)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("arr"); <span class='error_goto'>__PYX_ERR(0, 3824, __pyx_L1_error)</span> }
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_cur_scope-&gt;__pyx_outer_scope-&gt;__pyx_v_arr, __pyx_cur_scope-&gt;__pyx_v_i);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3824, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    if (unlikely(!__pyx_cur_scope-&gt;__pyx_outer_scope-&gt;__pyx_v_arr)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("arr"); <span class='error_goto'>__PYX_ERR(0, 3824, __pyx_L1_error)</span> }
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyInt_AddObjC</span>(__pyx_cur_scope-&gt;__pyx_v_i, __pyx_int_1, 1, 0, 0);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3824, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_cur_scope-&gt;__pyx_outer_scope-&gt;__pyx_v_arr, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3824, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_7 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_6, __pyx_t_4, Py_LT); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3824, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_7); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3824, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_5 = __pyx_t_8;
    __pyx_L7_bool_binop_done:;
</pre><pre class="cython line score-0">&#xA0;<span class="">3825</span>:             )</pre>
<pre class="cython line score-0">&#xA0;<span class="">3826</span>:     else:</pre>
<pre class="cython line score-59" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3827</span>:         return len(argrelextrema(np.array(arr), np.less)[0])</pre>
<pre class='cython code score-59 '>  <span class='trace'>__Pyx_TraceLine</span>(3827,0,<span class='error_goto'>__PYX_ERR(0, 3827, __pyx_L1_error)</span>)
  /*else*/ {
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_argrelextrema);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3827, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3827, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3827, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = NULL;
    __pyx_t_8 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
        __pyx_t_8 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_cur_scope-&gt;__pyx_v_arr};
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 3827, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    }
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_7, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3827, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_7, __pyx_n_s_less);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3827, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_7 = NULL;
    __pyx_t_8 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
      __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
      if (likely(__pyx_t_7)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
        __pyx_t_8 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_7, __pyx_t_5, __pyx_t_6};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_8, 2+__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3827, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    }
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_2, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3827, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_3 = <span class='py_c_api'>PyObject_Length</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(__pyx_t_3 == ((Py_ssize_t)-1))) __PYX_ERR(0, 3827, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3827, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    if (!(likely(__Pyx_Py3Int_CheckExact(__pyx_t_4)) || <span class='pyx_c_api'>__Pyx_RaiseUnexpectedTypeError</span>("int", __pyx_t_4))) <span class='error_goto'>__PYX_ERR(0, 3827, __pyx_L1_error)</span>
    __pyx_r = ((PyObject*)__pyx_t_4);
    __pyx_t_4 = 0;
    goto __pyx_L0;
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">3828</span>: </pre>
<pre class="cython line score-93" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3829</span>: def scale_y(</pre>
<pre class='cython code score-93 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_116scale_y(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_115scale_y, "\n    Scaling value using a fitting curve.\n\n    Create polyfit function from specific data points `x` to correct `y` \n    values.\n\n    Parameters\n    ----------\n    y : ArrayLike\n        Array-like of y-axis. This is the array of values to be scaled.\n    x : ArrayLike, optional\n        Array-like of x-axis. If `x` is given, it should be the same length \n        as `y`, otherwise an error will occur. Default is ``None``.\n    deg : int, optional\n        Polynomial degree. If value is ``auto`` or ``None``, it will be computed \n        using the length of extrema (local and/or global) values.\n    func : _F, optional\n        Callable - The model function, ``f(x, ...)``. It must take the \n        independent variable as the first argument and the parameters to \n        fit as separate remaining arguments. `func` can be a ``linear`` \n        function i.e. for ``f(x)= ax + b`` where `a` is slope and `b` is \n        the intercept value. It is recommended to set up a custom function \n        according to the `y` value distribution for better fitting. If \n        `func` is given, `deg` is not needed.\n    return_xf : bool, optional\n        If True, returns the new x-axis and the fitting function. Default \n        is ``False``.\n    view : bool, optional\n        If True, visualizes the original and scaled data. Default is \n        ``False``.\n\n    Returns\n    -------\n    yc : ArrayLike\n        Array of scaled/projected sample values obtained from `f`.\n    x : ArrayLike\n        New x-axis generated from the samples (if `return_xf` is True).\n    f : _F\n        Linear or polynomial function `f` (if `return_xf` is True).\n\n    Examples\n    --------\n    &gt;&gt;&gt; import numpy as np\n    &gt;&gt;&gt; import matplotlib.pyplot as plt\n    &gt;&gt;&gt; np.random.seed(42)\n    &gt;&gt;&gt; x0 = 10 * np.random.rand(50)\n    &gt;&gt;&gt; y = 2 * x0 + np.random.randn(50) - 1\n    &gt;&gt;&gt; plt.scatter(x0, y)\n    &gt;&gt;&gt; yc, x, f = scale_y(y, return_xf=True, view=True)\n    &gt;&gt;&gt; plt.plot(x, y, label='Origi""nal Data')\n    &gt;&gt;&gt; plt.plot(x, yc, label='Scaled Data')\n    &gt;&gt;&gt; plt.legend()\n    &gt;&gt;&gt; plt.show()\n\n    Notes\n    -----\n    - The function checks if `x` and `y` are of the same length.\n    - If `func` is provided, `deg` is ignored.\n    - The function raises a `TypeError` if `func` is not callable.\n    - The degree of the polynomial is determined by the number of local \n      minima plus one.\n    - In case of fitting errors, a `ValueError` is raised with a suggestion \n      to check the polynomial degree.\n      \n    References \n    -----------\n    Wikipedia, Curve fitting, https://en.wikipedia.org/wiki/Curve_fitting\n    Wikipedia, Polynomial interpolation, https://en.wikipedia.org/wiki/Polynomial_interpolation\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_116scale_y = {"scale_y", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_116scale_y, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_115scale_y};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_116scale_y(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_y = 0;
  PyObject *__pyx_v_x = 0;
  PyObject *__pyx_v_deg = 0;
  PyObject *__pyx_v_func = 0;
  PyObject *__pyx_v_return_xf = 0;
  PyObject *__pyx_v_view = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("scale_y (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_y,&amp;__pyx_n_s_x,&amp;__pyx_n_s_deg,&amp;__pyx_n_s_func,&amp;__pyx_n_s_return_xf,&amp;__pyx_n_s_view,0};
  PyObject* values[6] = {0,0,0,0,0,0};
/* â€¦ */
  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_115scale_y(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_y, PyObject *__pyx_v_x, PyObject *__pyx_v_deg, PyObject *__pyx_v_func, PyObject *__pyx_v_return_xf, PyObject *__pyx_v_view) {
  CYTHON_UNUSED PyObject *__pyx_v__ = NULL;
  PyObject *__pyx_v_name_or_columns = NULL;
  PyObject *__pyx_v_index = NULL;
  PyObject *__pyx_v_degree = NULL;
  PyObject *__pyx_v_coeff = NULL;
  PyObject *__pyx_v_f = NULL;
  PyObject *__pyx_v_yc = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__128)
  <span class='trace'>__Pyx_TraceCall</span>("scale_y", __pyx_f[0], 3829, 0, <span class='error_goto'>__PYX_ERR(0, 3829, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_x);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_deg);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.scale_y", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v__);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_name_or_columns);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_index);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_degree);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_coeff);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_f);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_yc);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_y);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_x);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_deg);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__229 = <span class='py_c_api'>PyTuple_Pack</span>(13, __pyx_n_s_y, __pyx_n_s_x, __pyx_n_s_deg, __pyx_n_s_func, __pyx_n_s_return_xf, __pyx_n_s_view, __pyx_n_s__180, __pyx_n_s_name_or_columns, __pyx_n_s_index, __pyx_n_s_degree, __pyx_n_s_coeff, __pyx_n_s_f, __pyx_n_s_yc);<span class='error_goto'> if (unlikely(!__pyx_tuple__229)) __PYX_ERR(0, 3829, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__229);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__229);
  __pyx_codeobj__128 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(6, 0, 0, 13, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__229, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_scale_y, 3829, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__128)) __PYX_ERR(0, 3829, __pyx_L1_error)</span>
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(3829,0,<span class='error_goto'>__PYX_ERR(0, 3829, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(7);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3829, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_y, __pyx_n_s_ArrayLike) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3829, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_x, __pyx_n_s_ArrayLike) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3829, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_deg, __pyx_kp_s_Union_int_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3829, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_func, __pyx_n_s_F) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3829, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_return_xf, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3829, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_view, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3829, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_return, __pyx_kp_s_Tuple_ArrayLike_ArrayLike__F) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3829, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_116scale_y, 0, __pyx_n_s_scale_y, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__128));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3829, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_3, __pyx_tuple__230);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_3, __pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_scale_y, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3829, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_tuple__230 = <span class='py_c_api'>PyTuple_Pack</span>(5, Py_None, ((PyObject*)__pyx_n_u_auto), Py_None, ((PyObject *)Py_False), ((PyObject *)Py_False));<span class='error_goto'> if (unlikely(!__pyx_tuple__230)) __PYX_ERR(0, 3829, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__230);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__230);
</pre><pre class="cython line score-0">&#xA0;<span class="">3830</span>:     y: ArrayLike,</pre>
<pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3831</span>:     x: ArrayLike = None,</pre>
<pre class='cython code score-4 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_n_u_auto)));
</pre><pre class="cython line score-0">&#xA0;<span class="">3832</span>:     deg: Union [int, str] = "auto",</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3833</span>:     func: _F = None,</pre>
<pre class='cython code score-2 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3834</span>:     return_xf: bool = False,</pre>
<pre class='cython code score-2 '>    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
</pre><pre class="cython line score-90" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3835</span>:     view: bool = False</pre>
<pre class='cython code score-90 '>    values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_y)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3829, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_x);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3829, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_deg);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3829, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_func);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3829, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_return_xf);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3829, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  5:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_view);
          if (value) { values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3829, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "scale_y") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 3829, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_y = values[0];
    __pyx_v_x = values[1];
    __pyx_v_deg = values[2];
    __pyx_v_func = values[3];
    __pyx_v_return_xf = values[4];
    __pyx_v_view = values[5];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("scale_y", 0, 1, 6, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 3829, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.scale_y", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_115scale_y(__pyx_self, __pyx_v_y, __pyx_v_x, __pyx_v_deg, __pyx_v_func, __pyx_v_return_xf, __pyx_v_view);
</pre><pre class="cython line score-0">&#xA0;<span class="">3836</span>: ) -&gt; Tuple[ArrayLike, ArrayLike, _F]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">3837</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">3838</span>:     Scaling value using a fitting curve.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3839</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3840</span>:     Create polyfit function from specific data points `x` to correct `y`</pre>
<pre class="cython line score-0">&#xA0;<span class="">3841</span>:     values.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3842</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3843</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">3844</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3845</span>:     y : ArrayLike</pre>
<pre class="cython line score-0">&#xA0;<span class="">3846</span>:         Array-like of y-axis. This is the array of values to be scaled.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3847</span>:     x : ArrayLike, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3848</span>:         Array-like of x-axis. If `x` is given, it should be the same length</pre>
<pre class="cython line score-0">&#xA0;<span class="">3849</span>:         as `y`, otherwise an error will occur. Default is ``None``.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3850</span>:     deg : int, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3851</span>:         Polynomial degree. If value is ``auto`` or ``None``, it will be computed</pre>
<pre class="cython line score-0">&#xA0;<span class="">3852</span>:         using the length of extrema (local and/or global) values.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3853</span>:     func : _F, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3854</span>:         Callable - The model function, ``f(x, ...)``. It must take the</pre>
<pre class="cython line score-0">&#xA0;<span class="">3855</span>:         independent variable as the first argument and the parameters to</pre>
<pre class="cython line score-0">&#xA0;<span class="">3856</span>:         fit as separate remaining arguments. `func` can be a ``linear``</pre>
<pre class="cython line score-0">&#xA0;<span class="">3857</span>:         function i.e. for ``f(x)= ax + b`` where `a` is slope and `b` is</pre>
<pre class="cython line score-0">&#xA0;<span class="">3858</span>:         the intercept value. It is recommended to set up a custom function</pre>
<pre class="cython line score-0">&#xA0;<span class="">3859</span>:         according to the `y` value distribution for better fitting. If</pre>
<pre class="cython line score-0">&#xA0;<span class="">3860</span>:         `func` is given, `deg` is not needed.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3861</span>:     return_xf : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3862</span>:         If True, returns the new x-axis and the fitting function. Default</pre>
<pre class="cython line score-0">&#xA0;<span class="">3863</span>:         is ``False``.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3864</span>:     view : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3865</span>:         If True, visualizes the original and scaled data. Default is</pre>
<pre class="cython line score-0">&#xA0;<span class="">3866</span>:         ``False``.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3867</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3868</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">3869</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3870</span>:     yc : ArrayLike</pre>
<pre class="cython line score-0">&#xA0;<span class="">3871</span>:         Array of scaled/projected sample values obtained from `f`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3872</span>:     x : ArrayLike</pre>
<pre class="cython line score-0">&#xA0;<span class="">3873</span>:         New x-axis generated from the samples (if `return_xf` is True).</pre>
<pre class="cython line score-0">&#xA0;<span class="">3874</span>:     f : _F</pre>
<pre class="cython line score-0">&#xA0;<span class="">3875</span>:         Linear or polynomial function `f` (if `return_xf` is True).</pre>
<pre class="cython line score-0">&#xA0;<span class="">3876</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3877</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">3878</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3879</span>:     &gt;&gt;&gt; import numpy as np</pre>
<pre class="cython line score-0">&#xA0;<span class="">3880</span>:     &gt;&gt;&gt; import matplotlib.pyplot as plt</pre>
<pre class="cython line score-0">&#xA0;<span class="">3881</span>:     &gt;&gt;&gt; np.random.seed(42)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3882</span>:     &gt;&gt;&gt; x0 = 10 * np.random.rand(50)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3883</span>:     &gt;&gt;&gt; y = 2 * x0 + np.random.randn(50) - 1</pre>
<pre class="cython line score-0">&#xA0;<span class="">3884</span>:     &gt;&gt;&gt; plt.scatter(x0, y)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3885</span>:     &gt;&gt;&gt; yc, x, f = scale_y(y, return_xf=True, view=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3886</span>:     &gt;&gt;&gt; plt.plot(x, y, label='Original Data')</pre>
<pre class="cython line score-0">&#xA0;<span class="">3887</span>:     &gt;&gt;&gt; plt.plot(x, yc, label='Scaled Data')</pre>
<pre class="cython line score-0">&#xA0;<span class="">3888</span>:     &gt;&gt;&gt; plt.legend()</pre>
<pre class="cython line score-0">&#xA0;<span class="">3889</span>:     &gt;&gt;&gt; plt.show()</pre>
<pre class="cython line score-0">&#xA0;<span class="">3890</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3891</span>:     Notes</pre>
<pre class="cython line score-0">&#xA0;<span class="">3892</span>:     -----</pre>
<pre class="cython line score-0">&#xA0;<span class="">3893</span>:     - The function checks if `x` and `y` are of the same length.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3894</span>:     - If `func` is provided, `deg` is ignored.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3895</span>:     - The function raises a `TypeError` if `func` is not callable.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3896</span>:     - The degree of the polynomial is determined by the number of local</pre>
<pre class="cython line score-0">&#xA0;<span class="">3897</span>:       minima plus one.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3898</span>:     - In case of fitting errors, a `ValueError` is raised with a suggestion</pre>
<pre class="cython line score-0">&#xA0;<span class="">3899</span>:       to check the polynomial degree.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3900</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3901</span>:     References</pre>
<pre class="cython line score-0">&#xA0;<span class="">3902</span>:     -----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3903</span>:     Wikipedia, Curve fitting, https://en.wikipedia.org/wiki/Curve_fitting</pre>
<pre class="cython line score-0">&#xA0;<span class="">3904</span>:     Wikipedia, Polynomial interpolation, https://en.wikipedia.org/wiki/Polynomial_interpolation</pre>
<pre class="cython line score-0">&#xA0;<span class="">3905</span>:     """</pre>
<pre class="cython line score-66" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3906</span>:     _, name_or_columns, index = pandas_manager(y )</pre>
<pre class='cython code score-66 '>  <span class='trace'>__Pyx_TraceLine</span>(3906,0,<span class='error_goto'>__PYX_ERR(0, 3906, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_pandas_manager);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3906, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_y};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3906, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_1))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
    PyObject* sequence = __pyx_t_1;
    Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
    if (unlikely(size != 3)) {
      if (size &gt; 3) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(3);
      else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
      <span class='error_goto'>__PYX_ERR(0, 3906, __pyx_L1_error)</span>
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
      __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
      __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
      __pyx_t_5 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 2); 
    } else {
      __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
      __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
      __pyx_t_5 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 2); 
    }
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
    #else
    __pyx_t_2 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3906, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3906, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_5 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3906, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    #endif
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  } else {
    Py_ssize_t index = -1;
    __pyx_t_6 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3906, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_6);
    index = 0; __pyx_t_2 = __pyx_t_7(__pyx_t_6); if (unlikely(!__pyx_t_2)) goto __pyx_L3_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    index = 1; __pyx_t_3 = __pyx_t_7(__pyx_t_6); if (unlikely(!__pyx_t_3)) goto __pyx_L3_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    index = 2; __pyx_t_5 = __pyx_t_7(__pyx_t_6); if (unlikely(!__pyx_t_5)) goto __pyx_L3_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_7(__pyx_t_6), 3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3906, __pyx_L1_error)</span>
    __pyx_t_7 = NULL;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    goto __pyx_L4_unpacking_done;
    __pyx_L3_unpacking_failed:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_7 = NULL;
    if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
    <span class='error_goto'>__PYX_ERR(0, 3906, __pyx_L1_error)</span>
    __pyx_L4_unpacking_done:;
  }
  __pyx_v__ = __pyx_t_2;
  __pyx_t_2 = 0;
  __pyx_v_name_or_columns = __pyx_t_3;
  __pyx_t_3 = 0;
  __pyx_v_index = __pyx_t_5;
  __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3907</span>: </pre>
<pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3908</span>:     y = check_y(y, y_numeric =True )</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(3908,0,<span class='error_goto'>__PYX_ERR(0, 3908, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_check_y);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3908, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3908, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_y);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_v_y)) <span class='error_goto'>__PYX_ERR(0, 3908, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3908, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_y_numeric, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3908, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_5, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3908, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_y, __pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3909</span>:     if func is not None and (not callable(func) or not hasattr(func, '__call__')):</pre>
<pre class='cython code score-4 '>  <span class='trace'>__Pyx_TraceLine</span>(3909,0,<span class='error_goto'>__PYX_ERR(0, 3909, __pyx_L1_error)</span>)
  __pyx_t_9 = (__pyx_v_func != Py_None);
  if (__pyx_t_9) {
  } else {
    __pyx_t_8 = __pyx_t_9;
    goto __pyx_L6_bool_binop_done;
  }
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyCallable_Check</span>(__pyx_v_func);<span class='error_goto'> if (unlikely(__pyx_t_9 == ((int)-1))) __PYX_ERR(0, 3909, __pyx_L1_error)</span>
  __pyx_t_10 = (!__pyx_t_9);
  if (!__pyx_t_10) {
  } else {
    __pyx_t_8 = __pyx_t_10;
    goto __pyx_L6_bool_binop_done;
  }
  __pyx_t_10 = <span class='pyx_c_api'>__Pyx_HasAttr</span>(__pyx_v_func, __pyx_n_u_call);<span class='error_goto'> if (unlikely(__pyx_t_10 == ((int)-1))) __PYX_ERR(0, 3909, __pyx_L1_error)</span>
  __pyx_t_9 = (!__pyx_t_10);
  __pyx_t_8 = __pyx_t_9;
  __pyx_L6_bool_binop_done:;
  if (unlikely(__pyx_t_8)) {
/* â€¦ */
  }
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3910</span>:         raise TypeError(f"`func` argument is not a callable; got {type(func).__name__!r}")</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(3910,0,<span class='error_goto'>__PYX_ERR(0, 3910, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(((PyObject *)Py_TYPE(__pyx_v_func)), __pyx_n_s_name_2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3910, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_t_2), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3910, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_kp_u_func_argument_is_not_a_callable, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3910, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_TypeError, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3910, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_3, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='error_goto'>__PYX_ERR(0, 3910, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3911</span>: </pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3912</span>:     degree = _count_local_minima(y) + 1</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(3912,0,<span class='error_goto'>__PYX_ERR(0, 3912, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_count_local_minima);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3912, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_5 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_5)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_v_y};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 3912, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyInt_AddObjC</span>(__pyx_t_3, __pyx_int_1, 1, 0, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3912, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_v_degree = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3913</span>:     if x is None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(3913,0,<span class='error_goto'>__PYX_ERR(0, 3913, __pyx_L1_error)</span>)
  __pyx_t_8 = (__pyx_v_x == Py_None);
  if (__pyx_t_8) {
/* â€¦ */
  }
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3914</span>:         x = np.arange(len(y))</pre>
<pre class='cython code score-31 '>    <span class='trace'>__Pyx_TraceLine</span>(3914,0,<span class='error_goto'>__PYX_ERR(0, 3914, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3914, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_arange);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3914, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_11 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_y);<span class='error_goto'> if (unlikely(__pyx_t_11 == ((Py_ssize_t)-1))) __PYX_ERR(0, 3914, __pyx_L1_error)</span>
    __pyx_t_3 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_11);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3914, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_1 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_t_3};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3914, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_x, __pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3915</span>: </pre>
<pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3916</span>:     x = check_y(x, input_name="x")</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(3916,0,<span class='error_goto'>__PYX_ERR(0, 3916, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_check_y);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3916, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3916, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_x);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_x);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_v_x)) <span class='error_goto'>__PYX_ERR(0, 3916, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3916, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_input_name, __pyx_n_u_x) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3916, __pyx_L1_error)</span>
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_5, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3916, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_x, __pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3917</span>: </pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3918</span>:     if len(x) != len(y):</pre>
<pre class='cython code score-10 '>  <span class='trace'>__Pyx_TraceLine</span>(3918,0,<span class='error_goto'>__PYX_ERR(0, 3918, __pyx_L1_error)</span>)
  __pyx_t_11 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_x);<span class='error_goto'> if (unlikely(__pyx_t_11 == ((Py_ssize_t)-1))) __PYX_ERR(0, 3918, __pyx_L1_error)</span>
  __pyx_t_12 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_y);<span class='error_goto'> if (unlikely(__pyx_t_12 == ((Py_ssize_t)-1))) __PYX_ERR(0, 3918, __pyx_L1_error)</span>
  __pyx_t_8 = (__pyx_t_11 != __pyx_t_12);
  if (unlikely(__pyx_t_8)) {
/* â€¦ */
  }
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3919</span>:         raise ValueError("`x` and `y` arrays must have the same length."</pre>
<pre class='cython code score-16 '>    <span class='trace'>__Pyx_TraceLine</span>(3919,0,<span class='error_goto'>__PYX_ERR(0, 3919, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3919, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_12 = 0;
    __pyx_t_13 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_x_and_y_arrays_must_have_the_sa);
    __pyx_t_12 += 58;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_x_and_y_arrays_must_have_the_sa);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_kp_u_x_and_y_arrays_must_have_the_sa);
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(3919,0,<span class='error_goto'>__PYX_ERR(0, 3919, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_1, 5, __pyx_t_12, __pyx_t_13);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3919, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3919, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_1, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='error_goto'>__PYX_ERR(0, 3919, __pyx_L1_error)</span>
</pre><pre class="cython line score-24" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3920</span>:                          f" Got lengths {len(x)} and {len(y)}.")</pre>
<pre class='cython code score-24 '>    <span class='trace'>__Pyx_TraceLine</span>(3920,0,<span class='error_goto'>__PYX_ERR(0, 3920, __pyx_L1_error)</span>)
    __pyx_t_11 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_x);<span class='error_goto'> if (unlikely(__pyx_t_11 == ((Py_ssize_t)-1))) __PYX_ERR(0, 3920, __pyx_L1_error)</span>
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyUnicode_From_Py_ssize_t</span>(__pyx_t_11, 0, ' ', 'd');<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3920, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_12 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_3);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_t_3);
    __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_and);
    __pyx_t_12 += 5;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_and);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 2, __pyx_kp_u_and);
    __pyx_t_11 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_y);<span class='error_goto'> if (unlikely(__pyx_t_11 == ((Py_ssize_t)-1))) __PYX_ERR(0, 3920, __pyx_L1_error)</span>
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyUnicode_From_Py_ssize_t</span>(__pyx_t_11, 0, ' ', 'd');<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3920, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_12 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_3);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 3, __pyx_t_3);
    __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__2);
    __pyx_t_12 += 1;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__2);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 4, __pyx_kp_u__2);
</pre><pre class="cython line score-0">&#xA0;<span class="">3921</span>: </pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3922</span>:     deg= None if deg =='auto' else deg</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(3922,0,<span class='error_goto'>__PYX_ERR(0, 3922, __pyx_L1_error)</span>)
  __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_deg, __pyx_n_u_auto, Py_EQ)); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3922, __pyx_L1_error)</span>
  if (__pyx_t_8) {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    __pyx_t_1 = Py_None;
  } else {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_deg);
    __pyx_t_1 = __pyx_v_deg;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_deg, __pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3923</span>: </pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3924</span>:     try:</pre>
<pre class='cython code score-10 '>  <span class='trace'>__Pyx_TraceLine</span>(3924,0,<span class='error_goto'>__PYX_ERR(0, 3924, __pyx_L1_error)</span>)
  {
    /*try:*/ {
/* â€¦ */
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_16); __pyx_t_16 = 0;
    goto __pyx_L16_try_end;
    __pyx_L11_error:;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
/* â€¦ */
    __pyx_L13_except_error:;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_14);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_15);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_16);
    <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_14, __pyx_t_15, __pyx_t_16);
    goto __pyx_L1_error;
    __pyx_L16_try_end:;
  }
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3925</span>:         coeff = np.polyfit(x, y, int(deg) if deg is not None else degree)</pre>
<pre class='cython code score-23 '>      <span class='trace'>__Pyx_TraceLine</span>(3925,0,<span class='error_goto'>__PYX_ERR(0, 3925, __pyx_L11_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3925, __pyx_L11_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_polyfit);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3925, __pyx_L11_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_8 = (__pyx_v_deg != Py_None);
      if (__pyx_t_8) {
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyNumber_Int</span>(__pyx_v_deg);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3925, __pyx_L11_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        __pyx_t_3 = __pyx_t_2;
        __pyx_t_2 = 0;
      } else {
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_degree);
        __pyx_t_3 = __pyx_v_degree;
      }
      __pyx_t_2 = NULL;
      __pyx_t_4 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
        __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
        if (likely(__pyx_t_2)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
          __pyx_t_4 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[4] = {__pyx_t_2, __pyx_v_x, __pyx_v_y, __pyx_t_3};
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_4, 3+__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3925, __pyx_L11_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      }
      __pyx_v_coeff = __pyx_t_1;
      __pyx_t_1 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3926</span>:         f = np.poly1d(coeff) if func is None else func</pre>
<pre class='cython code score-20 '>      <span class='trace'>__Pyx_TraceLine</span>(3926,0,<span class='error_goto'>__PYX_ERR(0, 3926, __pyx_L11_error)</span>)
      __pyx_t_8 = (__pyx_v_func == Py_None);
      if (__pyx_t_8) {
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3926, __pyx_L11_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_poly1d);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3926, __pyx_L11_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        __pyx_t_3 = NULL;
        __pyx_t_4 = 0;
        #if CYTHON_UNPACK_METHODS
        if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
          __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
          if (likely(__pyx_t_3)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
            __pyx_t_4 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_coeff};
          __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 3926, __pyx_L11_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        }
        __pyx_t_1 = __pyx_t_5;
        __pyx_t_5 = 0;
      } else {
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_func);
        __pyx_t_1 = __pyx_v_func;
      }
      __pyx_v_f = __pyx_t_1;
      __pyx_t_1 = 0;
</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3927</span>:         yc = f(x)</pre>
<pre class='cython code score-15 '>      <span class='trace'>__Pyx_TraceLine</span>(3927,0,<span class='error_goto'>__PYX_ERR(0, 3927, __pyx_L11_error)</span>)
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_f);
      __pyx_t_5 = __pyx_v_f; __pyx_t_2 = NULL;
      __pyx_t_4 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
        __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
        if (likely(__pyx_t_2)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
          __pyx_t_4 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_x};
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3927, __pyx_L11_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      }
      __pyx_v_yc = __pyx_t_1;
      __pyx_t_1 = 0;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3928</span>:     except np.linalg.LinAlgError:</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(3928,0,<span class='error_goto'>__PYX_ERR(0, 3928, __pyx_L13_except_error)</span>)
    <span class='pyx_c_api'>__Pyx_ErrFetch</span>(&amp;__pyx_t_1, &amp;__pyx_t_5, &amp;__pyx_t_2);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3928, __pyx_L13_except_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_linalg);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3928, __pyx_L13_except_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_LinAlgError);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3928, __pyx_L13_except_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(__pyx_t_1, __pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_c_api'>__Pyx_ErrRestore</span>(__pyx_t_1, __pyx_t_5, __pyx_t_2);
    __pyx_t_1 = 0; __pyx_t_5 = 0; __pyx_t_2 = 0;
    if (__pyx_t_4) {
      <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.scale_y", __pyx_clineno, __pyx_lineno, __pyx_filename);
      if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_2, &amp;__pyx_t_5, &amp;__pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3928, __pyx_L13_except_error)</span>
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_2);
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_5);
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3929</span>:         raise ValueError("Check the number of degrees. SVD did not converge"</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(3929,0,<span class='error_goto'>__PYX_ERR(0, 3929, __pyx_L13_except_error)</span>)
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__129, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3929, __pyx_L13_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_3, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='error_goto'>__PYX_ERR(0, 3929, __pyx_L13_except_error)</span>
    }
    goto __pyx_L13_except_error;
/* â€¦ */
  __pyx_tuple__129 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Check_the_number_of_degrees_SVD);<span class='error_goto'> if (unlikely(!__pyx_tuple__129)) __PYX_ERR(0, 3929, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__129);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__129);
</pre><pre class="cython line score-0">&#xA0;<span class="">3930</span>:                          " in Linear Least Squares.")</pre>
<pre class="cython line score-0">&#xA0;<span class="">3931</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3932</span>:     if view:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3932,0,<span class='error_goto'>__PYX_ERR(0, 3932, __pyx_L1_error)</span>)
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_view); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3932, __pyx_L1_error)</span>
  if (__pyx_t_8) {
/* â€¦ */
  }
</pre><pre class="cython line score-32" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3933</span>:         plt.plot(x, y, "-ok", label='Original Data')</pre>
<pre class='cython code score-32 '>    <span class='trace'>__Pyx_TraceLine</span>(3933,0,<span class='error_goto'>__PYX_ERR(0, 3933, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_plt);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3933, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_plot);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3933, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3933, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_x);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_x);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_x)) <span class='error_goto'>__PYX_ERR(0, 3933, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_y);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_v_y)) <span class='error_goto'>__PYX_ERR(0, 3933, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_ok_3);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_ok_3);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 2, __pyx_kp_u_ok_3)) <span class='error_goto'>__PYX_ERR(0, 3933, __pyx_L1_error)</span>;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3933, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_label, __pyx_kp_u_Original_Data) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3933, __pyx_L1_error)</span>
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_t_1, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3933, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-32" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3934</span>:         plt.plot(x, yc, "-or", label='Scaled Data')</pre>
<pre class='cython code score-32 '>    <span class='trace'>__Pyx_TraceLine</span>(3934,0,<span class='error_goto'>__PYX_ERR(0, 3934, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_plt);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3934, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_plot);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3934, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3934, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_x);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_x);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_x)) <span class='error_goto'>__PYX_ERR(0, 3934, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_yc);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_yc);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_v_yc)) <span class='error_goto'>__PYX_ERR(0, 3934, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_or_2);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_or_2);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 2, __pyx_kp_u_or_2)) <span class='error_goto'>__PYX_ERR(0, 3934, __pyx_L1_error)</span>;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3934, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_label, __pyx_kp_u_Scaled_Data) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3934, __pyx_L1_error)</span>
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_3, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3934, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-40" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3935</span>:         plt.xlabel ("x") ; plt.ylabel("y")</pre>
<pre class='cython code score-40 '>    <span class='trace'>__Pyx_TraceLine</span>(3935,0,<span class='error_goto'>__PYX_ERR(0, 3935, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_plt);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3935, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_xlabel);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3935, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_n_u_x};
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 3935, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_plt);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3935, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_ylabel);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3935, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_n_u_y};
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 3935, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3936</span>:         plt.legend()</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(3936,0,<span class='error_goto'>__PYX_ERR(0, 3936, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_plt);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3936, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_legend);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3936, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, NULL};
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 3936, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3937</span>:         plt.show()</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(3937,0,<span class='error_goto'>__PYX_ERR(0, 3937, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_plt);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3937, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_show);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3937, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 3937, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3938</span>: </pre>
<pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3939</span>:     yc = pandas_manager(yc, todo="set", name_or_columns=name_or_columns,</pre>
<pre class='cython code score-28 '>  <span class='trace'>__Pyx_TraceLine</span>(3939,0,<span class='error_goto'>__PYX_ERR(0, 3939, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_pandas_manager);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3939, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3939, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_yc);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_yc);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_yc)) <span class='error_goto'>__PYX_ERR(0, 3939, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3939, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_todo, __pyx_n_u_set) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3939, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_name_or_columns, __pyx_v_name_or_columns) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3939, __pyx_L1_error)</span>
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(3939,0,<span class='error_goto'>__PYX_ERR(0, 3939, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_t_1, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3939, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_yc, __pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3940</span>:                         index =index )</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(3940,0,<span class='error_goto'>__PYX_ERR(0, 3940, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_index, __pyx_v_index) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3939, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3941</span>: </pre>
<pre class="cython line score-18" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3942</span>:     return (yc, x, f) if return_xf else yc</pre>
<pre class='cython code score-18 '>  <span class='trace'>__Pyx_TraceLine</span>(3942,0,<span class='error_goto'>__PYX_ERR(0, 3942, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_return_xf); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3942, __pyx_L1_error)</span>
  if (__pyx_t_8) {
    __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3942, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_yc);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_yc);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_yc)) <span class='error_goto'>__PYX_ERR(0, 3942, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_x);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_x);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_v_x)) <span class='error_goto'>__PYX_ERR(0, 3942, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_f);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_f);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 2, __pyx_v_f)) <span class='error_goto'>__PYX_ERR(0, 3942, __pyx_L1_error)</span>;
    __pyx_t_2 = __pyx_t_3;
    __pyx_t_3 = 0;
  } else {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_yc);
    __pyx_t_2 = __pyx_v_yc;
  }
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3943</span>: </pre>
<pre class="cython line score-93" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3944</span>: def _visualize_interpolation(</pre>
<pre class='cython code score-93 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_118_visualize_interpolation(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_117_visualize_interpolation, "\n    Helper function to visualize original and interpolated data.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_118_visualize_interpolation = {"_visualize_interpolation", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_118_visualize_interpolation, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_117_visualize_interpolation};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_118_visualize_interpolation(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_original_data = 0;
  PyObject *__pyx_v_interpolated_data = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_visualize_interpolation (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_original_data,&amp;__pyx_n_s_interpolated_data,0};
  PyObject* values[2] = {0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_original_data)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3944, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_interpolated_data)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3944, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_visualize_interpolation", 1, 2, 2, 1); <span class='error_goto'>__PYX_ERR(0, 3944, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_visualize_interpolation") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 3944, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 2)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
    }
    __pyx_v_original_data = values[0];
    __pyx_v_interpolated_data = values[1];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_visualize_interpolation", 1, 2, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 3944, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._visualize_interpolation", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_117_visualize_interpolation(__pyx_self, __pyx_v_original_data, __pyx_v_interpolated_data);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_117_visualize_interpolation(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_original_data, PyObject *__pyx_v_interpolated_data) {
  CYTHON_UNUSED PyObject *__pyx_v_fig = NULL;
  PyObject *__pyx_v_axes = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__130)
  <span class='trace'>__Pyx_TraceCall</span>("_visualize_interpolation", __pyx_f[0], 3944, 0, <span class='error_goto'>__PYX_ERR(0, 3944, __pyx_L1_error)</span>);
/* â€¦ */
  /* function exit code */
  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._visualize_interpolation", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_fig);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_axes);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__231 = <span class='py_c_api'>PyTuple_Pack</span>(4, __pyx_n_s_original_data, __pyx_n_s_interpolated_data, __pyx_n_s_fig, __pyx_n_s_axes);<span class='error_goto'> if (unlikely(!__pyx_tuple__231)) __PYX_ERR(0, 3944, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__231);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__231);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(3944,0,<span class='error_goto'>__PYX_ERR(0, 3944, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3944, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_original_data, __pyx_kp_s_Union_np_ndarray_pd_Series_pd_Da) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3944, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_interpolated_data, __pyx_kp_s_Union_np_ndarray_pd_Series_pd_Da) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3944, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return, __pyx_n_s_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3944, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_118_visualize_interpolation, 0, __pyx_n_s_visualize_interpolation, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__130));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3944, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_4, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_visualize_interpolation, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3944, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_codeobj__130 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(2, 0, 0, 4, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__231, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_visualize_interpolation, 3944, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__130)) __PYX_ERR(0, 3944, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3945</span>:     original_data: Union[np.ndarray, pd.Series, pd.DataFrame],</pre>
<pre class="cython line score-0">&#xA0;<span class="">3946</span>:     interpolated_data: Union[np.ndarray, pd.Series, pd.DataFrame]) -&gt; None:</pre>
<pre class="cython line score-0">&#xA0;<span class="">3947</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">3948</span>:     Helper function to visualize original and interpolated data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3949</span>:     """</pre>
<pre class="cython line score-72" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3950</span>:     fig, axes = plt.subplots(1, 2, figsize=(12, 6))</pre>
<pre class='cython code score-72 '>  <span class='trace'>__Pyx_TraceLine</span>(3950,0,<span class='error_goto'>__PYX_ERR(0, 3950, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_plt);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3950, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_subplots);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3950, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3950, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
/* â€¦ */
  __pyx_tuple__131 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_int_1, __pyx_int_2);<span class='error_goto'> if (unlikely(!__pyx_tuple__131)) __PYX_ERR(0, 3950, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__131);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__131);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_figsize, __pyx_tuple__132) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3950, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_tuple__131, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3950, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_3))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_3))) {
    PyObject* sequence = __pyx_t_3;
    Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
    if (unlikely(size != 2)) {
      if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
      else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
      <span class='error_goto'>__PYX_ERR(0, 3950, __pyx_L1_error)</span>
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
      __pyx_t_1 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
      __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
    } else {
      __pyx_t_1 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
      __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
    }
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
    #else
    __pyx_t_1 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3950, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_2 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3950, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    #endif
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  } else {
    Py_ssize_t index = -1;
    __pyx_t_4 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3950, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_4);
    index = 0; __pyx_t_1 = __pyx_t_5(__pyx_t_4); if (unlikely(!__pyx_t_1)) goto __pyx_L3_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    index = 1; __pyx_t_2 = __pyx_t_5(__pyx_t_4); if (unlikely(!__pyx_t_2)) goto __pyx_L3_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_5(__pyx_t_4), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3950, __pyx_L1_error)</span>
    __pyx_t_5 = NULL;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    goto __pyx_L4_unpacking_done;
    __pyx_L3_unpacking_failed:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_5 = NULL;
    if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
    <span class='error_goto'>__PYX_ERR(0, 3950, __pyx_L1_error)</span>
    __pyx_L4_unpacking_done:;
  }
  __pyx_v_fig = __pyx_t_1;
  __pyx_t_1 = 0;
  __pyx_v_axes = __pyx_t_2;
  __pyx_t_2 = 0;
  __pyx_tuple__132 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_int_12, __pyx_int_6);<span class='error_goto'> if (unlikely(!__pyx_tuple__132)) __PYX_ERR(0, 3950, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__132);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__132);
</pre><pre class="cython line score-0">&#xA0;<span class="">3951</span>: </pre>
<pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3952</span>:     if isinstance(original_data, (pd.Series, np.ndarray)</pre>
<pre class='cython code score-22 '>  <span class='trace'>__Pyx_TraceLine</span>(3952,0,<span class='error_goto'>__PYX_ERR(0, 3952, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3952, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3952, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3952, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_ndarray);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3952, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_8 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_original_data, __pyx_t_2); 
  if (!__pyx_t_8) {
  } else {
    __pyx_t_7 = __pyx_t_8;
    goto __pyx_L8_bool_binop_done;
  }
  __pyx_t_8 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_original_data, __pyx_t_1); 
  __pyx_t_7 = __pyx_t_8;
  __pyx_L8_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_7) {
  } else {
    __pyx_t_6 = __pyx_t_7;
    goto __pyx_L6_bool_binop_done;
  }
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(3952,0,<span class='error_goto'>__PYX_ERR(0, 3952, __pyx_L1_error)</span>)
  if (__pyx_t_6) {
/* â€¦ */
    goto __pyx_L5;
  }
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3953</span>:                   ) and original_data.ndim == 1:</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(3953,0,<span class='error_goto'>__PYX_ERR(0, 3953, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_original_data, __pyx_n_s_ndim);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3953, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_7 = (<span class='pyx_c_api'>__Pyx_PyInt_BoolEqObjC</span>(__pyx_t_2, __pyx_int_1, 1, 0)); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3953, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_6 = __pyx_t_7;
  __pyx_L6_bool_binop_done:;
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3954</span>:         axes[0].plot(original_data, label='Original Data', marker='o')</pre>
<pre class='cython code score-31 '>    <span class='trace'>__Pyx_TraceLine</span>(3954,0,<span class='error_goto'>__PYX_ERR(0, 3954, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_axes, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3954, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_plot);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3954, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3954, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_original_data);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_original_data);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_original_data)) <span class='error_goto'>__PYX_ERR(0, 3954, __pyx_L1_error)</span>;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3954, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_label, __pyx_kp_u_Original_Data) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3954, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_marker, __pyx_n_u_o) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3954, __pyx_L1_error)</span>
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_2, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3954, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3955</span>:         axes[1].plot(interpolated_data, label='Interpolated Data', marker='o')</pre>
<pre class='cython code score-31 '>    <span class='trace'>__Pyx_TraceLine</span>(3955,0,<span class='error_goto'>__PYX_ERR(0, 3955, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_axes, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3955, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_plot);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3955, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3955, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_interpolated_data);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_interpolated_data);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_v_interpolated_data)) <span class='error_goto'>__PYX_ERR(0, 3955, __pyx_L1_error)</span>;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3955, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_label, __pyx_kp_u_Interpolated_Data) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3955, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_marker, __pyx_n_u_o) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3955, __pyx_L1_error)</span>
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_4, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3955, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3956</span>:     elif isinstance(original_data, (pd.DataFrame, np.ndarray)</pre>
<pre class='cython code score-22 '>  <span class='trace'>__Pyx_TraceLine</span>(3956,0,<span class='error_goto'>__PYX_ERR(0, 3956, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3956, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3956, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3956, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_ndarray);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3956, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_8 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_original_data, __pyx_t_2); 
  if (!__pyx_t_8) {
  } else {
    __pyx_t_7 = __pyx_t_8;
    goto __pyx_L12_bool_binop_done;
  }
  __pyx_t_8 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_original_data, __pyx_t_4); 
  __pyx_t_7 = __pyx_t_8;
  __pyx_L12_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_7) {
  } else {
    __pyx_t_6 = __pyx_t_7;
    goto __pyx_L10_bool_binop_done;
  }
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(3956,0,<span class='error_goto'>__PYX_ERR(0, 3956, __pyx_L1_error)</span>)
  if (__pyx_t_6) {
/* â€¦ */
  }
  __pyx_L5:;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3957</span>:                     ) and original_data.ndim == 2:</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(3957,0,<span class='error_goto'>__PYX_ERR(0, 3957, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_original_data, __pyx_n_s_ndim);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3957, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_7 = (<span class='pyx_c_api'>__Pyx_PyInt_BoolEqObjC</span>(__pyx_t_2, __pyx_int_2, 2, 0)); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3957, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_6 = __pyx_t_7;
  __pyx_L10_bool_binop_done:;
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3958</span>:         axes[0].imshow(original_data, aspect='auto', interpolation='none')</pre>
<pre class='cython code score-31 '>    <span class='trace'>__Pyx_TraceLine</span>(3958,0,<span class='error_goto'>__PYX_ERR(0, 3958, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_axes, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3958, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_imshow);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3958, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3958, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_original_data);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_original_data);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_original_data)) <span class='error_goto'>__PYX_ERR(0, 3958, __pyx_L1_error)</span>;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3958, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_aspect, __pyx_n_u_auto) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3958, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_interpolation, __pyx_n_u_none) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3958, __pyx_L1_error)</span>
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_4, __pyx_t_2, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3958, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3959</span>:         axes[1].imshow(interpolated_data, aspect='auto', interpolation='none')</pre>
<pre class='cython code score-31 '>    <span class='trace'>__Pyx_TraceLine</span>(3959,0,<span class='error_goto'>__PYX_ERR(0, 3959, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_axes, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3959, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_imshow);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3959, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3959, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_interpolated_data);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_interpolated_data);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_interpolated_data)) <span class='error_goto'>__PYX_ERR(0, 3959, __pyx_L1_error)</span>;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3959, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_aspect, __pyx_n_u_auto) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3959, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_interpolation, __pyx_n_u_none) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3959, __pyx_L1_error)</span>
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_3, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3959, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3960</span>: </pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3961</span>:     axes[0].set_title('Original Data')</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(3961,0,<span class='error_goto'>__PYX_ERR(0, 3961, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_axes, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3961, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_set_title);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3961, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  __pyx_t_9 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_9 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_kp_u_Original_Data};
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_9, 1+__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 3961, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3962</span>:     axes[1].set_title('Interpolated Data')</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(3962,0,<span class='error_goto'>__PYX_ERR(0, 3962, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_axes, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3962, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_set_title);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3962, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_9 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_9 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_kp_u_Interpolated_Data};
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_9, 1+__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 3962, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3963</span>:     plt.show()</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(3963,0,<span class='error_goto'>__PYX_ERR(0, 3963, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_plt);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3963, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_show);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3963, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  __pyx_t_9 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_9 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_2, NULL};
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_9, 0+__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 3963, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3964</span>: </pre>
<pre class="cython line score-157" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3965</span>: def interpolate_data(</pre>
<pre class='cython code score-157 '>static PyObject *__pyx_pf_6gofast_5tools_9baseutils_133__defaults__(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceCall</span>("__defaults__", __pyx_f[0], 3965, 0, <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(3973,0,<span class='error_goto'>__PYX_ERR(0, 3973, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(7);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3965, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(((PyObject*)__pyx_n_u_slinear));
  <span class='refnanny'>__Pyx_GIVEREF</span>(((PyObject*)__pyx_n_u_slinear));
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, ((PyObject*)__pyx_n_u_slinear))) <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, Py_None)) <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(((PyObject*)__pyx_n_u_extrapolate));
  <span class='refnanny'>__Pyx_GIVEREF</span>(((PyObject*)__pyx_n_u_extrapolate));
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 2, ((PyObject*)__pyx_n_u_extrapolate))) <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(<span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults1, __pyx_self)-&gt;__pyx_arg_axis);
  <span class='refnanny'>__Pyx_GIVEREF</span>(<span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults1, __pyx_self)-&gt;__pyx_arg_axis);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 3, <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults1, __pyx_self)-&gt;__pyx_arg_axis)) <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(((PyObject *)Py_False));
  <span class='refnanny'>__Pyx_GIVEREF</span>(((PyObject *)Py_False));
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 4, ((PyObject *)Py_False))) <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(((PyObject*)__pyx_n_u_IQR));
  <span class='refnanny'>__Pyx_GIVEREF</span>(((PyObject*)__pyx_n_u_IQR));
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 5, ((PyObject*)__pyx_n_u_IQR))) <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(((PyObject *)Py_False));
  <span class='refnanny'>__Pyx_GIVEREF</span>(((PyObject *)Py_False));
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 6, ((PyObject *)Py_False))) <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L1_error)</span>;
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(3965,0,<span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3965, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, Py_None)) <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L1_error)</span>;
  __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.__defaults__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_120interpolate_data(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_119interpolate_data, "\n    Interpolates 1D or 2D data, allowing for NaN values, and visualizes \n    the result if requested.\n\n    Parameters\n    ----------\n    data : Union[np.ndarray, pd.Series, pd.DataFrame]\n        Input data to be interpolated. Can be a 1D or 2D numpy array, \n        pandas Series, or pandas DataFrame.\n    method : str, optional\n        Method of interpolation. Options include 'linear', 'nearest', \n        'zero', 'slinear', 'quadratic', and 'cubic'. Default is 'slinear'.\n    order : Optional[int], optional\n        The order of the spline interpolation. Only applicable for some \n        methods. Default is None.\n    fill_value : str, optional\n        Specifies the fill value for points outside the interpolation \n        domain. Default is 'extrapolate'.\n    axis : int, optional\n        Axis along which to interpolate, if data is a DataFrame. Default \n        is 0.\n    drop_outliers : bool, optional\n        If True, outliers will be removed before interpolation. Default \n        is False.\n    outlier_method : str, optional\n        Method for outlier detection if drop_outliers is True. Options \n        are 'IQR' and 'z-score'. Default is 'IQR'.\n    view : bool, optional\n        If True, visualizes the original and interpolated data in two \n        panels. Default is False.\n    **kwargs\n        Additional keyword arguments to pass to the interpolation \n        function.\n\n    Returns\n    -------\n    Union[np.ndarray, pd.Series, pd.DataFrame]\n        Interpolated data, returned in the same type as the input data.\n\n    Examples\n    --------\n    &gt;&gt;&gt; import numpy as np\n    &gt;&gt;&gt; import pandas as pd \n    &gt;&gt;&gt; from gofast.tools.baseutils import interpolate_data\n    &gt;&gt;&gt; s = pd.Series([1, np.nan, 3, 4, np.nan, 6])\n    &gt;&gt;&gt; interpolate_data(s, view=True)\n    0    1.0\n    1    2.0\n    2    3.0\n    3    4.0\n    4    5.0\n    5    6.0\n    dtype: float64\n\n    &gt;&gt;&gt; df = pd.DataFrame([[1, np.nan, 3], [4, 5, np.nan], [np.nan, 8, 9]])\n    ""&gt;&gt;&gt; interpolate_data(df, view=True)\n         0    1    2\n    0  1.0  6.5  3.0\n    1  4.0  5.0  6.0\n    2  4.0  8.0  9.0\n\n    Notes\n    -----\n    - The 'slinear' method is not available for 2D interpolation. It \n      defaults to 'linear' for 2D data.\n    - The 'extrapolate' fill_value is not available for 2D interpolation \n      and defaults to 0.\n    - If drop_outliers is True, the specified outlier detection method \n      will be applied before interpolation.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_120interpolate_data = {"interpolate_data", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_120interpolate_data, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_119interpolate_data};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_120interpolate_data(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_data = 0;
  PyObject *__pyx_v_method = 0;
  PyObject *__pyx_v_order = 0;
  PyObject *__pyx_v_fill_value = 0;
  PyObject *__pyx_v_axis = 0;
  PyObject *__pyx_v_drop_outliers = 0;
  PyObject *__pyx_v_outlier_method = 0;
  PyObject *__pyx_v_view = 0;
  PyObject *__pyx_v_kwargs = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("interpolate_data (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  __pyx_v_kwargs = <span class='py_c_api'>PyDict_New</span>(); if (unlikely(!__pyx_v_kwargs)) return NULL;
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_v_kwargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_data,&amp;__pyx_n_s_method,&amp;__pyx_n_s_order,&amp;__pyx_n_s_fill_value,&amp;__pyx_n_s_axis,&amp;__pyx_n_s_drop_outliers,&amp;__pyx_n_s_outlier_method,&amp;__pyx_n_s_view,0};
  PyObject* values[8] = {0,0,0,0,0,0,0,0};
    __pyx_defaults1 *__pyx_dynamic_args = <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults1, __pyx_self);
    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject*)((PyObject*)__pyx_n_u_slinear)));
/* â€¦ */
  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_kwargs);
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
static PyObject *__pyx_pf_6gofast_5tools_9baseutils_119interpolate_data(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_data, PyObject *__pyx_v_method, PyObject *__pyx_v_order, PyObject *__pyx_v_fill_value, PyObject *__pyx_v_axis, PyObject *__pyx_v_drop_outliers, PyObject *__pyx_v_outlier_method, PyObject *__pyx_v_view, PyObject *__pyx_v_kwargs) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_25_interpolate_data *__pyx_cur_scope;
  PyObject *__pyx_v_valid_methods = NULL;
  PyObject *__pyx_v_name_or_columns = NULL;
  PyObject *__pyx_v_index = NULL;
  PyObject *__pyx_v_x = NULL;
  PyObject *__pyx_v_y = NULL;
  PyObject *__pyx_v_mask = NULL;
  PyObject *__pyx_v_f = NULL;
  PyObject *__pyx_v_data_interp = NULL;
  PyObject *__pyx_v_result = NULL;
  PyObject *__pyx_v_x_grid = NULL;
  PyObject *__pyx_v_y_grid = NULL;
  PyObject *__pyx_v_points = NULL;
  PyObject *__pyx_v_values = NULL;
  PyObject *__pyx_v_x_new = NULL;
  PyObject *__pyx_v_y_new = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__133)
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_25_interpolate_data *)__pyx_tp_new_6gofast_5tools_9baseutils___pyx_scope_struct_25_interpolate_data(__pyx_ptype_6gofast_5tools_9baseutils___pyx_scope_struct_25_interpolate_data, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_25_interpolate_data *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  <span class='trace'>__Pyx_TraceCall</span>("interpolate_data", __pyx_f[0], 3965, 0, <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L1_error)</span>);
  __pyx_cur_scope-&gt;__pyx_v_method = __pyx_v_method;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_method);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_v_method);
  __pyx_cur_scope-&gt;__pyx_v_order = __pyx_v_order;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_order);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_v_order);
  __pyx_cur_scope-&gt;__pyx_v_fill_value = __pyx_v_fill_value;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_fill_value);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_v_fill_value);
  __pyx_cur_scope-&gt;__pyx_v_axis = __pyx_v_axis;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_axis);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_v_axis);
  __pyx_cur_scope-&gt;__pyx_v_kwargs = __pyx_v_kwargs;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_kwargs);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_v_kwargs);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.interpolate_data", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_valid_methods);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_name_or_columns);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_index);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_x);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_y);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_mask);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_f);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_data_interp);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_result);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_x_grid);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_y_grid);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_points);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_values);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_x_new);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_y_new);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_data);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__232 = <span class='py_c_api'>PyTuple_Pack</span>(24, __pyx_n_s_data, __pyx_n_s_method, __pyx_n_s_order, __pyx_n_s_fill_value, __pyx_n_s_axis, __pyx_n_s_drop_outliers, __pyx_n_s_outlier_method, __pyx_n_s_view, __pyx_n_s_kwargs, __pyx_n_s_valid_methods, __pyx_n_s_name_or_columns, __pyx_n_s_index, __pyx_n_s_x, __pyx_n_s_y, __pyx_n_s_mask, __pyx_n_s_f, __pyx_n_s_data_interp, __pyx_n_s_result, __pyx_n_s_x_grid, __pyx_n_s_y_grid, __pyx_n_s_points, __pyx_n_s_values, __pyx_n_s_x_new, __pyx_n_s_y_new);<span class='error_goto'> if (unlikely(!__pyx_tuple__232)) __PYX_ERR(0, 3965, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__232);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__232);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(3965,0,<span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(9);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3965, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_data, __pyx_kp_s_Union_ArrayLike_Series_DataFrame) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_method, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_order, __pyx_kp_s_Optional_int) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_fill_value, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_axis, __pyx_n_s_int) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_drop_outliers, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_outlier_method, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_view, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_return, __pyx_kp_s_Union_ArrayLike_Series_DataFrame) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_120interpolate_data, 0, __pyx_n_s_interpolate_data, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__133));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3965, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (!<span class='pyx_c_api'>__Pyx_CyFunction_InitDefaults</span>(__pyx_t_3, sizeof(__pyx_defaults1), 1)) <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L1_error)</span>
  __pyx_codeobj__133 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(8, 0, 0, 24, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__232, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_interpolate_data, 3965, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__133)) __PYX_ERR(0, 3965, __pyx_L1_error)</span>
/* â€¦ */
struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_25_interpolate_data {
  PyObject_HEAD
  PyObject *__pyx_v_axis;
  PyObject *__pyx_v_fill_value;
  PyObject *__pyx_v_kwargs;
  PyObject *__pyx_v_method;
  PyObject *__pyx_v_order;
};

</pre><pre class="cython line score-0">&#xA0;<span class="">3966</span>:     data: Union[ArrayLike, Series, DataFrame],</pre>
<pre class="cython line score-0">&#xA0;<span class="">3967</span>:     method: str = 'slinear',</pre>
<pre class="cython line score-135" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3968</span>:     order: Optional[int] = None,</pre>
<pre class='cython code score-135 '>    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject*)((PyObject*)__pyx_n_u_extrapolate)));
    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(__pyx_dynamic_args-&gt;__pyx_arg_axis);
    values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject*)((PyObject*)__pyx_n_u_IQR)));
    values[7] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  8: values[7] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 7);
        CYTHON_FALLTHROUGH;
        case  7: values[6] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 6);
        CYTHON_FALLTHROUGH;
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_method);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_order);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_fill_value);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_axis);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  5:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_drop_outliers);
          if (value) { values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  6:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_outlier_method);
          if (value) { values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  7:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_view);
          if (value) { values[7] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, __pyx_v_kwargs, values + 0, kwd_pos_args, "interpolate_data") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  8: values[7] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 7);
        CYTHON_FALLTHROUGH;
        case  7: values[6] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 6);
        CYTHON_FALLTHROUGH;
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_data = values[0];
    __pyx_v_method = ((PyObject*)values[1]);
    __pyx_v_order = values[2];
    __pyx_v_fill_value = ((PyObject*)values[3]);
    __pyx_v_axis = ((PyObject*)values[4]);
    __pyx_v_drop_outliers = values[5];
    __pyx_v_outlier_method = ((PyObject*)values[6]);
    __pyx_v_view = values[7];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("interpolate_data", 0, 1, 8, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_macro_api'>__Pyx_CLEAR</span>(__pyx_v_kwargs);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.interpolate_data", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_method), (&amp;PyUnicode_Type), 0, "method", 1))) <span class='error_goto'>__PYX_ERR(0, 3967, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_fill_value), (&amp;PyUnicode_Type), 0, "fill_value", 1))) <span class='error_goto'>__PYX_ERR(0, 3969, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_axis), (&amp;PyInt_Type), 0, "axis", 1))) <span class='error_goto'>__PYX_ERR(0, 3970, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_outlier_method), (&amp;PyUnicode_Type), 0, "outlier_method", 1))) <span class='error_goto'>__PYX_ERR(0, 3972, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_119interpolate_data(__pyx_self, __pyx_v_data, __pyx_v_method, __pyx_v_order, __pyx_v_fill_value, __pyx_v_axis, __pyx_v_drop_outliers, __pyx_v_outlier_method, __pyx_v_view, __pyx_v_kwargs);
</pre><pre class="cython line score-0">&#xA0;<span class="">3969</span>:     fill_value: str = 'extrapolate',</pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3970</span>:     axis: int = 0,</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(3970,0,<span class='error_goto'>__PYX_ERR(0, 3970, __pyx_L1_error)</span>)
  if (!(likely(__Pyx_Py3Int_CheckExact(__pyx_int_0)) || <span class='pyx_c_api'>__Pyx_RaiseUnexpectedTypeError</span>("int", __pyx_int_0))) <span class='error_goto'>__PYX_ERR(0, 3970, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_int_0);
  <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults1, __pyx_t_3)-&gt;__pyx_arg_axis = ((PyObject*)__pyx_int_0);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_int_0);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsGetter</span>(__pyx_t_3, __pyx_pf_6gofast_5tools_9baseutils_133__defaults__);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_3, __pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_interpolate_data, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3965, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3971</span>:     drop_outliers: bool = False,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3972</span>:     outlier_method: str = "IQR",</pre>
<pre class="cython line score-0">&#xA0;<span class="">3973</span>:     view: bool = False,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3974</span>:     **kwargs</pre>
<pre class="cython line score-0">&#xA0;<span class="">3975</span>: ) -&gt; Union[ArrayLike, Series, DataFrame]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">3976</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">3977</span>:     Interpolates 1D or 2D data, allowing for NaN values, and visualizes</pre>
<pre class="cython line score-0">&#xA0;<span class="">3978</span>:     the result if requested.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3979</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3980</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">3981</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3982</span>:     data : Union[np.ndarray, pd.Series, pd.DataFrame]</pre>
<pre class="cython line score-0">&#xA0;<span class="">3983</span>:         Input data to be interpolated. Can be a 1D or 2D numpy array,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3984</span>:         pandas Series, or pandas DataFrame.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3985</span>:     method : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3986</span>:         Method of interpolation. Options include 'linear', 'nearest',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3987</span>:         'zero', 'slinear', 'quadratic', and 'cubic'. Default is 'slinear'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3988</span>:     order : Optional[int], optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3989</span>:         The order of the spline interpolation. Only applicable for some</pre>
<pre class="cython line score-0">&#xA0;<span class="">3990</span>:         methods. Default is None.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3991</span>:     fill_value : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3992</span>:         Specifies the fill value for points outside the interpolation</pre>
<pre class="cython line score-0">&#xA0;<span class="">3993</span>:         domain. Default is 'extrapolate'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3994</span>:     axis : int, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3995</span>:         Axis along which to interpolate, if data is a DataFrame. Default</pre>
<pre class="cython line score-0">&#xA0;<span class="">3996</span>:         is 0.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3997</span>:     drop_outliers : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3998</span>:         If True, outliers will be removed before interpolation. Default</pre>
<pre class="cython line score-0">&#xA0;<span class="">3999</span>:         is False.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4000</span>:     outlier_method : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">4001</span>:         Method for outlier detection if drop_outliers is True. Options</pre>
<pre class="cython line score-0">&#xA0;<span class="">4002</span>:         are 'IQR' and 'z-score'. Default is 'IQR'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4003</span>:     view : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">4004</span>:         If True, visualizes the original and interpolated data in two</pre>
<pre class="cython line score-0">&#xA0;<span class="">4005</span>:         panels. Default is False.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4006</span>:     **kwargs</pre>
<pre class="cython line score-0">&#xA0;<span class="">4007</span>:         Additional keyword arguments to pass to the interpolation</pre>
<pre class="cython line score-0">&#xA0;<span class="">4008</span>:         function.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4009</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4010</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">4011</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">4012</span>:     Union[np.ndarray, pd.Series, pd.DataFrame]</pre>
<pre class="cython line score-0">&#xA0;<span class="">4013</span>:         Interpolated data, returned in the same type as the input data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4014</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4015</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">4016</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">4017</span>:     &gt;&gt;&gt; import numpy as np</pre>
<pre class="cython line score-0">&#xA0;<span class="">4018</span>:     &gt;&gt;&gt; import pandas as pd</pre>
<pre class="cython line score-0">&#xA0;<span class="">4019</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import interpolate_data</pre>
<pre class="cython line score-0">&#xA0;<span class="">4020</span>:     &gt;&gt;&gt; s = pd.Series([1, np.nan, 3, 4, np.nan, 6])</pre>
<pre class="cython line score-0">&#xA0;<span class="">4021</span>:     &gt;&gt;&gt; interpolate_data(s, view=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">4022</span>:     0    1.0</pre>
<pre class="cython line score-0">&#xA0;<span class="">4023</span>:     1    2.0</pre>
<pre class="cython line score-0">&#xA0;<span class="">4024</span>:     2    3.0</pre>
<pre class="cython line score-0">&#xA0;<span class="">4025</span>:     3    4.0</pre>
<pre class="cython line score-0">&#xA0;<span class="">4026</span>:     4    5.0</pre>
<pre class="cython line score-0">&#xA0;<span class="">4027</span>:     5    6.0</pre>
<pre class="cython line score-0">&#xA0;<span class="">4028</span>:     dtype: float64</pre>
<pre class="cython line score-0">&#xA0;<span class="">4029</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4030</span>:     &gt;&gt;&gt; df = pd.DataFrame([[1, np.nan, 3], [4, 5, np.nan], [np.nan, 8, 9]])</pre>
<pre class="cython line score-0">&#xA0;<span class="">4031</span>:     &gt;&gt;&gt; interpolate_data(df, view=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">4032</span>:          0    1    2</pre>
<pre class="cython line score-0">&#xA0;<span class="">4033</span>:     0  1.0  6.5  3.0</pre>
<pre class="cython line score-0">&#xA0;<span class="">4034</span>:     1  4.0  5.0  6.0</pre>
<pre class="cython line score-0">&#xA0;<span class="">4035</span>:     2  4.0  8.0  9.0</pre>
<pre class="cython line score-0">&#xA0;<span class="">4036</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4037</span>:     Notes</pre>
<pre class="cython line score-0">&#xA0;<span class="">4038</span>:     -----</pre>
<pre class="cython line score-0">&#xA0;<span class="">4039</span>:     - The 'slinear' method is not available for 2D interpolation. It</pre>
<pre class="cython line score-0">&#xA0;<span class="">4040</span>:       defaults to 'linear' for 2D data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4041</span>:     - The 'extrapolate' fill_value is not available for 2D interpolation</pre>
<pre class="cython line score-0">&#xA0;<span class="">4042</span>:       and defaults to 0.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4043</span>:     - If drop_outliers is True, the specified outlier detection method</pre>
<pre class="cython line score-0">&#xA0;<span class="">4044</span>:       will be applied before interpolation.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4045</span>:     """</pre>
<pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4046</span>:     valid_methods = ['linear', 'nearest', 'zero', 'slinear', 'quadratic', 'cubic']</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(4046,0,<span class='error_goto'>__PYX_ERR(0, 4046, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(6);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4046, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_linear);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_linear);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_n_u_linear)) <span class='error_goto'>__PYX_ERR(0, 4046, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_nearest);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_nearest);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 1, __pyx_n_u_nearest)) <span class='error_goto'>__PYX_ERR(0, 4046, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_zero);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_zero);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 2, __pyx_n_u_zero)) <span class='error_goto'>__PYX_ERR(0, 4046, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_slinear);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_slinear);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 3, __pyx_n_u_slinear)) <span class='error_goto'>__PYX_ERR(0, 4046, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_quadratic);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_quadratic);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 4, __pyx_n_u_quadratic)) <span class='error_goto'>__PYX_ERR(0, 4046, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_cubic);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_cubic);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 5, __pyx_n_u_cubic)) <span class='error_goto'>__PYX_ERR(0, 4046, __pyx_L1_error)</span>;
  __pyx_v_valid_methods = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-27" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4047</span>:     method = str(method).lower()</pre>
<pre class='cython code score-27 '>  <span class='trace'>__Pyx_TraceLine</span>(4047,0,<span class='error_goto'>__PYX_ERR(0, 4047, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Str</span>(__pyx_cur_scope-&gt;__pyx_v_method);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4047, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_lower);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4047, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_2, NULL};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4047, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  if (!(likely(<span class='py_c_api'>PyUnicode_CheckExact</span>(__pyx_t_1))||((__pyx_t_1) == Py_None) || <span class='pyx_c_api'>__Pyx_RaiseUnexpectedTypeError</span>("unicode", __pyx_t_1))) <span class='error_goto'>__PYX_ERR(0, 4047, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_cur_scope-&gt;__pyx_v_method);
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_cur_scope-&gt;__pyx_v_method, ((PyObject*)__pyx_t_1));
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4048</span>:     if method not in valid_methods:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(4048,0,<span class='error_goto'>__PYX_ERR(0, 4048, __pyx_L1_error)</span>)
  __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_cur_scope-&gt;__pyx_v_method, __pyx_v_valid_methods, Py_NE)); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4048, __pyx_L1_error)</span>
  if (unlikely(__pyx_t_5)) {
/* â€¦ */
  }
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4049</span>:         raise ValueError(</pre>
<pre class='cython code score-6 '>    <span class='trace'>__Pyx_TraceLine</span>(4049,0,<span class='error_goto'>__PYX_ERR(0, 4049, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4049, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_1, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='error_goto'>__PYX_ERR(0, 4049, __pyx_L1_error)</span>
</pre><pre class="cython line score-32" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4050</span>:             f"Invalid method. Expected one of {valid_methods}, got {method}.")</pre>
<pre class='cython code score-32 '>    <span class='trace'>__Pyx_TraceLine</span>(4050,0,<span class='error_goto'>__PYX_ERR(0, 4050, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4050, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_6 = 0;
    __pyx_t_7 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Invalid_method_Expected_one_of);
    __pyx_t_6 += 32;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Invalid_method_Expected_one_of);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_kp_u_Invalid_method_Expected_one_of);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_valid_methods, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4050, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_7 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_3) &gt; __pyx_t_7) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_3) : __pyx_t_7;
    __pyx_t_6 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_3);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_t_3);
    __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_got);
    __pyx_t_6 += 6;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_got);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 2, __pyx_kp_u_got);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyUnicode_Unicode</span>(__pyx_cur_scope-&gt;__pyx_v_method);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4050, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_7 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_3) &gt; __pyx_t_7) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_3) : __pyx_t_7;
    __pyx_t_6 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_3);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 3, __pyx_t_3);
    __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__2);
    __pyx_t_6 += 1;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__2);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 4, __pyx_kp_u__2);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_1, 5, __pyx_t_6, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4050, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4051</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4052</span>: </pre>
<pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4053</span>:     if not isinstance(data, (pd.Series, pd.DataFrame)):</pre>
<pre class='cython code score-22 '>  <span class='trace'>__Pyx_TraceLine</span>(4053,0,<span class='error_goto'>__PYX_ERR(0, 4053, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4053, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4053, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4053, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4053, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_8 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data, __pyx_t_3); 
  if (!__pyx_t_8) {
  } else {
    __pyx_t_5 = __pyx_t_8;
    goto __pyx_L5_bool_binop_done;
  }
  __pyx_t_8 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data, __pyx_t_2); 
  __pyx_t_5 = __pyx_t_8;
  __pyx_L5_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_8 = (!__pyx_t_5);
  if (__pyx_t_8) {
/* â€¦ */
  }
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4054</span>:         data = np.asarray(data)</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(4054,0,<span class='error_goto'>__PYX_ERR(0, 4054, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4054, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_asarray);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4054, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_data};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 4054, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_data, __pyx_t_3);
    __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4055</span>: </pre>
<pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4056</span>:     data = _handle_non_numeric(data, action="interpolate")</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(4056,0,<span class='error_goto'>__PYX_ERR(0, 4056, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_handle_non_numeric);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4056, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4056, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_data)) <span class='error_goto'>__PYX_ERR(0, 4056, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4056, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_action, __pyx_n_u_interpolate) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4056, __pyx_L1_error)</span>
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_1, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4056, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_data, __pyx_t_9);
  __pyx_t_9 = 0;
</pre><pre class="cython line score-67" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4057</span>:     data, name_or_columns, index = pandas_manager(data)</pre>
<pre class='cython code score-67 '>  <span class='trace'>__Pyx_TraceLine</span>(4057,0,<span class='error_goto'>__PYX_ERR(0, 4057, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_pandas_manager);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4057, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_1 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_1)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_v_data};
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(!__pyx_t_9)) <span class='error_goto'>__PYX_ERR(0, 4057, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_9))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_9))) {
    PyObject* sequence = __pyx_t_9;
    Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
    if (unlikely(size != 3)) {
      if (size &gt; 3) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(3);
      else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
      <span class='error_goto'>__PYX_ERR(0, 4057, __pyx_L1_error)</span>
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
      __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
      __pyx_t_1 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
      __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 2); 
    } else {
      __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
      __pyx_t_1 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
      __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 2); 
    }
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
    #else
    __pyx_t_2 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4057, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_1 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4057, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4057, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    #endif
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
  } else {
    Py_ssize_t index = -1;
    __pyx_t_10 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4057, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_10);
    index = 0; __pyx_t_2 = __pyx_t_11(__pyx_t_10); if (unlikely(!__pyx_t_2)) goto __pyx_L7_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    index = 1; __pyx_t_1 = __pyx_t_11(__pyx_t_10); if (unlikely(!__pyx_t_1)) goto __pyx_L7_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    index = 2; __pyx_t_3 = __pyx_t_11(__pyx_t_10); if (unlikely(!__pyx_t_3)) goto __pyx_L7_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_11(__pyx_t_10), 3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4057, __pyx_L1_error)</span>
    __pyx_t_11 = NULL;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    goto __pyx_L8_unpacking_done;
    __pyx_L7_unpacking_failed:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    __pyx_t_11 = NULL;
    if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
    <span class='error_goto'>__PYX_ERR(0, 4057, __pyx_L1_error)</span>
    __pyx_L8_unpacking_done:;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_data, __pyx_t_2);
  __pyx_t_2 = 0;
  __pyx_v_name_or_columns = __pyx_t_1;
  __pyx_t_1 = 0;
  __pyx_v_index = __pyx_t_3;
  __pyx_t_3 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4058</span>:     if drop_outliers:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(4058,0,<span class='error_goto'>__PYX_ERR(0, 4058, __pyx_L1_error)</span>)
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_drop_outliers); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4058, __pyx_L1_error)</span>
  if (__pyx_t_8) {
/* â€¦ */
  }
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4059</span>:         data = remove_outliers(data, method=outlier_method)</pre>
<pre class='cython code score-23 '>    <span class='trace'>__Pyx_TraceLine</span>(4059,0,<span class='error_goto'>__PYX_ERR(0, 4059, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_9, __pyx_n_s_remove_outliers_2);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4059, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4059, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_data)) <span class='error_goto'>__PYX_ERR(0, 4059, __pyx_L1_error)</span>;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4059, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_method, __pyx_v_outlier_method) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4059, __pyx_L1_error)</span>
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_9, __pyx_t_3, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4059, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_data, __pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4060</span>: </pre>
<pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4061</span>:     if isinstance(data, pd.Series):</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(4061,0,<span class='error_goto'>__PYX_ERR(0, 4061, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4061, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4061, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_8 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data, __pyx_t_1);<span class='error_goto'> if (unlikely(__pyx_t_8 == ((int)-1))) __PYX_ERR(0, 4061, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_8) {
/* â€¦ */
    goto __pyx_L10;
  }
</pre><pre class="cython line score-30" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4062</span>:         x = np.arange(len(data))</pre>
<pre class='cython code score-30 '>    <span class='trace'>__Pyx_TraceLine</span>(4062,0,<span class='error_goto'>__PYX_ERR(0, 4062, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4062, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_arange);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4062, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_6 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_data);<span class='error_goto'> if (unlikely(__pyx_t_6 == ((Py_ssize_t)-1))) __PYX_ERR(0, 4062, __pyx_L1_error)</span>
    __pyx_t_2 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4062, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_9 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_9)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_9, __pyx_t_2};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4062, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    __pyx_v_x = __pyx_t_1;
    __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4063</span>:         y = data.values</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(4063,0,<span class='error_goto'>__PYX_ERR(0, 4063, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_values);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4063, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_v_y = __pyx_t_1;
    __pyx_t_1 = 0;
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4064</span>:         mask = ~np.isnan(y)</pre>
<pre class='cython code score-25 '>    <span class='trace'>__Pyx_TraceLine</span>(4064,0,<span class='error_goto'>__PYX_ERR(0, 4064, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4064, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_isnan);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4064, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_y};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4064, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    __pyx_t_2 = <span class='py_c_api'>PyNumber_Invert</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4064, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_v_mask = __pyx_t_2;
    __pyx_t_2 = 0;
</pre><pre class="cython line score-32" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4065</span>:         f = interp1d(x[mask], y[mask], kind=method, fill_value=fill_value,</pre>
<pre class='cython code score-32 '>    <span class='trace'>__Pyx_TraceLine</span>(4065,0,<span class='error_goto'>__PYX_ERR(0, 4065, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_interp1d);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4065, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_x, __pyx_v_mask);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4065, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_y, __pyx_v_mask);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4065, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_9 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4065, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_9, 0, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4065, __pyx_L1_error)</span>;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_9, 1, __pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 4065, __pyx_L1_error)</span>;
    __pyx_t_1 = 0;
    __pyx_t_3 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4065, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_kind, __pyx_cur_scope-&gt;__pyx_v_method) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4065, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_fill_value, __pyx_cur_scope-&gt;__pyx_v_fill_value) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4065, __pyx_L1_error)</span>
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(4065,0,<span class='error_goto'>__PYX_ERR(0, 4065, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_9, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4065, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_v_f = __pyx_t_1;
    __pyx_t_1 = 0;
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4066</span>:                      bounds_error=False, **kwargs)</pre>
<pre class='cython code score-7 '>    <span class='trace'>__Pyx_TraceLine</span>(4066,0,<span class='error_goto'>__PYX_ERR(0, 4066, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_bounds_error, Py_False) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4065, __pyx_L1_error)</span>
    __pyx_t_3 = __pyx_t_1;
    __pyx_t_1 = 0;
    if (<span class='pyx_c_api'>__Pyx_MergeKeywords</span>(__pyx_t_3, __pyx_cur_scope-&gt;__pyx_v_kwargs) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4066, __pyx_L1_error)</span>
</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4067</span>:         data_interp = f(x)</pre>
<pre class='cython code score-15 '>    <span class='trace'>__Pyx_TraceLine</span>(4067,0,<span class='error_goto'>__PYX_ERR(0, 4067, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_f);
    __pyx_t_3 = __pyx_v_f; __pyx_t_9 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_9)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_9, __pyx_v_x};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4067, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    __pyx_v_data_interp = __pyx_t_1;
    __pyx_t_1 = 0;
</pre><pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4068</span>:         result = pd.Series(data_interp, index=data.index)</pre>
<pre class='cython code score-28 '>    <span class='trace'>__Pyx_TraceLine</span>(4068,0,<span class='error_goto'>__PYX_ERR(0, 4068, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4068, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4068, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4068, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data_interp);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data_interp);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_data_interp)) <span class='error_goto'>__PYX_ERR(0, 4068, __pyx_L1_error)</span>;
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4068, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_index);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4068, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_9, __pyx_n_s_index, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4068, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_1, __pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4068, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    __pyx_v_result = __pyx_t_2;
    __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4069</span>: </pre>
<pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4070</span>:     elif isinstance(data, pd.DataFrame):</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(4070,0,<span class='error_goto'>__PYX_ERR(0, 4070, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4070, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4070, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_8 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data, __pyx_t_9);<span class='error_goto'> if (unlikely(__pyx_t_8 == ((int)-1))) __PYX_ERR(0, 4070, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
  if (__pyx_t_8) {
/* â€¦ */
    goto __pyx_L10;
  }
</pre><pre class="cython line score-73" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4071</span>:         data_interp = data.apply(lambda col: interpolate_data(</pre>
<pre class='cython code score-73 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_16interpolate_data_lambda17(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_16interpolate_data_lambda17 = {"lambda17", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_16interpolate_data_lambda17, __Pyx_METH_FASTCALL|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_16interpolate_data_lambda17(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_col = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("lambda17 (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_col,0};
  PyObject* values[1] = {0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_col)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4071, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "lambda17") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 4071, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 1)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
    }
    __pyx_v_col = values[0];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("lambda17", 1, 1, 1, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 4071, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.interpolate_data.lambda17", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_lambda_funcdef_lambda17(__pyx_self, __pyx_v_col);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_lambda_funcdef_lambda17(PyObject *__pyx_self, PyObject *__pyx_v_col) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_25_interpolate_data *__pyx_cur_scope;
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_25_interpolate_data *__pyx_outer_scope;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_outer_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_25_interpolate_data *) <span class='pyx_c_api'>__Pyx_CyFunction_GetClosure</span>(__pyx_self);
  __pyx_cur_scope = __pyx_outer_scope;
  <span class='trace'>__Pyx_TraceCall</span>("lambda17", __pyx_f[0], 4071, 0, <span class='error_goto'>__PYX_ERR(0, 4071, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_interpolate_data);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4071, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(4072,0,<span class='error_goto'>__PYX_ERR(0, 4072, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4071, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_col);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_col);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_col)) <span class='error_goto'>__PYX_ERR(0, 4071, __pyx_L1_error)</span>;
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(4071,0,<span class='error_goto'>__PYX_ERR(0, 4071, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_2, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4071, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_r = __pyx_t_4;
  __pyx_t_4 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.interpolate_data.lambda17", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(4071,0,<span class='error_goto'>__PYX_ERR(0, 4071, __pyx_L1_error)</span>)
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_apply);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4071, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_16interpolate_data_lambda17, 0, __pyx_n_s_interpolate_data_locals_lambda, ((PyObject*)__pyx_cur_scope), __pyx_n_s_gofast_tools_baseutils, __pyx_d, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4071, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4071, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 4071, __pyx_L1_error)</span>;
    __pyx_t_2 = 0;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(4071,0,<span class='error_goto'>__PYX_ERR(0, 4071, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_9, __pyx_t_1, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4071, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_v_data_interp = __pyx_t_3;
    __pyx_t_3 = 0;
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4072</span>:             col, method=method,</pre>
<pre class='cython code score-9 '>  <span class='trace'>__Pyx_TraceLine</span>(4071,0,<span class='error_goto'>__PYX_ERR(0, 4071, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4072, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(4072,0,<span class='error_goto'>__PYX_ERR(0, 4072, __pyx_L1_error)</span>)
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_method)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("method"); <span class='error_goto'>__PYX_ERR(0, 4072, __pyx_L1_error)</span> }
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_method, __pyx_cur_scope-&gt;__pyx_v_method) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4072, __pyx_L1_error)</span>
</pre><pre class="cython line score-21" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4073</span>:             order=order, fill_value=fill_value, axis=axis,</pre>
<pre class='cython code score-21 '>  <span class='trace'>__Pyx_TraceLine</span>(4073,0,<span class='error_goto'>__PYX_ERR(0, 4073, __pyx_L1_error)</span>)
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_order)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("order"); <span class='error_goto'>__PYX_ERR(0, 4073, __pyx_L1_error)</span> }
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_order, __pyx_cur_scope-&gt;__pyx_v_order) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4072, __pyx_L1_error)</span>
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_fill_value)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("fill_value"); <span class='error_goto'>__PYX_ERR(0, 4073, __pyx_L1_error)</span> }
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_fill_value, __pyx_cur_scope-&gt;__pyx_v_fill_value) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4072, __pyx_L1_error)</span>
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_axis)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("axis"); <span class='error_goto'>__PYX_ERR(0, 4073, __pyx_L1_error)</span> }
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_axis, __pyx_cur_scope-&gt;__pyx_v_axis) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4072, __pyx_L1_error)</span>
  __pyx_t_3 = __pyx_t_4;
  __pyx_t_4 = 0;
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4074</span>:             **kwargs), axis=axis)</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(4074,0,<span class='error_goto'>__PYX_ERR(0, 4074, __pyx_L1_error)</span>)
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_kwargs)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("kwargs"); <span class='error_goto'>__PYX_ERR(0, 4074, __pyx_L1_error)</span> }
  if (unlikely(__pyx_cur_scope-&gt;__pyx_v_kwargs == Py_None)) {
    <span class='py_c_api'>PyErr_SetString</span>(PyExc_TypeError, "argument after ** must be a mapping, not NoneType");
    <span class='error_goto'>__PYX_ERR(0, 4074, __pyx_L1_error)</span>
  }
  if (<span class='pyx_c_api'>__Pyx_MergeKeywords</span>(__pyx_t_3, __pyx_cur_scope-&gt;__pyx_v_kwargs) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4074, __pyx_L1_error)</span>
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(4074,0,<span class='error_goto'>__PYX_ERR(0, 4074, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4074, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_axis, __pyx_cur_scope-&gt;__pyx_v_axis) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4074, __pyx_L1_error)</span>
</pre><pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4075</span>:         result = data_interp</pre>
<pre class='cython code score-1 '>    <span class='trace'>__Pyx_TraceLine</span>(4075,0,<span class='error_goto'>__PYX_ERR(0, 4075, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data_interp);
    __pyx_v_result = __pyx_v_data_interp;
</pre><pre class="cython line score-0">&#xA0;<span class="">4076</span>: </pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4077</span>:     elif data.ndim == 1:</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(4077,0,<span class='error_goto'>__PYX_ERR(0, 4077, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_ndim);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4077, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyInt_BoolEqObjC</span>(__pyx_t_3, __pyx_int_1, 1, 0)); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4077, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (__pyx_t_8) {
/* â€¦ */
    goto __pyx_L10;
  }
</pre><pre class="cython line score-30" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4078</span>:         x = np.arange(len(data))</pre>
<pre class='cython code score-30 '>    <span class='trace'>__Pyx_TraceLine</span>(4078,0,<span class='error_goto'>__PYX_ERR(0, 4078, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4078, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_arange);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4078, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_6 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_data);<span class='error_goto'> if (unlikely(__pyx_t_6 == ((Py_ssize_t)-1))) __PYX_ERR(0, 4078, __pyx_L1_error)</span>
    __pyx_t_2 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4078, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_9 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_9)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_9, __pyx_t_2};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 4078, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_v_x = __pyx_t_3;
    __pyx_t_3 = 0;
</pre><pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4079</span>:         y = data</pre>
<pre class='cython code score-1 '>    <span class='trace'>__Pyx_TraceLine</span>(4079,0,<span class='error_goto'>__PYX_ERR(0, 4079, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
    __pyx_v_y = __pyx_v_data;
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4080</span>:         mask = ~np.isnan(y)</pre>
<pre class='cython code score-25 '>    <span class='trace'>__Pyx_TraceLine</span>(4080,0,<span class='error_goto'>__PYX_ERR(0, 4080, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4080, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_isnan);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4080, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_v_y};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 4080, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    __pyx_t_2 = <span class='py_c_api'>PyNumber_Invert</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4080, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_v_mask = __pyx_t_2;
    __pyx_t_2 = 0;
</pre><pre class="cython line score-32" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4081</span>:         f = interp1d(x[mask], y[mask], kind=method, fill_value=fill_value,</pre>
<pre class='cython code score-32 '>    <span class='trace'>__Pyx_TraceLine</span>(4081,0,<span class='error_goto'>__PYX_ERR(0, 4081, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_interp1d);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4081, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_x, __pyx_v_mask);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4081, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_y, __pyx_v_mask);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4081, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_9 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4081, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_9, 0, __pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 4081, __pyx_L1_error)</span>;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_9, 1, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4081, __pyx_L1_error)</span>;
    __pyx_t_3 = 0;
    __pyx_t_1 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4081, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_kind, __pyx_cur_scope-&gt;__pyx_v_method) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4081, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_fill_value, __pyx_cur_scope-&gt;__pyx_v_fill_value) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4081, __pyx_L1_error)</span>
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(4081,0,<span class='error_goto'>__PYX_ERR(0, 4081, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_9, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4081, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_v_f = __pyx_t_3;
    __pyx_t_3 = 0;
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4082</span>:                      bounds_error=False, **kwargs)</pre>
<pre class='cython code score-7 '>    <span class='trace'>__Pyx_TraceLine</span>(4082,0,<span class='error_goto'>__PYX_ERR(0, 4082, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_bounds_error, Py_False) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4081, __pyx_L1_error)</span>
    __pyx_t_1 = __pyx_t_3;
    __pyx_t_3 = 0;
    if (<span class='pyx_c_api'>__Pyx_MergeKeywords</span>(__pyx_t_1, __pyx_cur_scope-&gt;__pyx_v_kwargs) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4082, __pyx_L1_error)</span>
</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4083</span>:         data_interp = f(x)</pre>
<pre class='cython code score-15 '>    <span class='trace'>__Pyx_TraceLine</span>(4083,0,<span class='error_goto'>__PYX_ERR(0, 4083, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_f);
    __pyx_t_1 = __pyx_v_f; __pyx_t_9 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_9)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_9, __pyx_v_x};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 4083, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_v_data_interp = __pyx_t_3;
    __pyx_t_3 = 0;
</pre><pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4084</span>:         result = data_interp</pre>
<pre class='cython code score-1 '>    <span class='trace'>__Pyx_TraceLine</span>(4084,0,<span class='error_goto'>__PYX_ERR(0, 4084, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data_interp);
    __pyx_v_result = __pyx_v_data_interp;
</pre><pre class="cython line score-0">&#xA0;<span class="">4085</span>: </pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4086</span>:     elif data.ndim == 2:</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(4086,0,<span class='error_goto'>__PYX_ERR(0, 4086, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_ndim);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4086, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyInt_BoolEqObjC</span>(__pyx_t_3, __pyx_int_2, 2, 0)); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4086, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (__pyx_t_8) {
/* â€¦ */
  }
  __pyx_L10:;
</pre><pre class="cython line score-0">&#xA0;<span class="">4087</span>:         # slinear not available for two dimensional interpolation</pre>
<pre class="cython line score-27" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4088</span>:         method = 'linear' if method.find("linear")&gt;=0 else method</pre>
<pre class='cython code score-27 '>    <span class='trace'>__Pyx_TraceLine</span>(4088,0,<span class='error_goto'>__PYX_ERR(0, 4088, __pyx_L1_error)</span>)
    if (unlikely(__pyx_cur_scope-&gt;__pyx_v_method == Py_None)) {
      <span class='py_c_api'>PyErr_Format</span>(PyExc_AttributeError, "'NoneType' object has no attribute '%.30s'", "find");
      <span class='error_goto'>__PYX_ERR(0, 4088, __pyx_L1_error)</span>
    }
    __pyx_t_6 = <span class='py_c_api'>PyUnicode_Find</span>(__pyx_cur_scope-&gt;__pyx_v_method, __pyx_n_u_linear, 0, PY_SSIZE_T_MAX, 1);<span class='error_goto'> if (unlikely(__pyx_t_6 == ((Py_ssize_t)-2))) __PYX_ERR(0, 4088, __pyx_L1_error)</span>
    __pyx_t_1 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4088, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_9 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_1, __pyx_int_0, Py_GE); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4088, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_9); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4088, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    if (__pyx_t_8) {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_linear);
      __pyx_t_3 = __pyx_n_u_linear;
    } else {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_method);
      __pyx_t_3 = __pyx_cur_scope-&gt;__pyx_v_method;
    }
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_cur_scope-&gt;__pyx_v_method);
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_cur_scope-&gt;__pyx_v_method, ((PyObject*)__pyx_t_3));
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
    __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4089</span>: </pre>
<pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4090</span>:         x = np.arange(data.shape[1])</pre>
<pre class='cython code score-25 '>    <span class='trace'>__Pyx_TraceLine</span>(4090,0,<span class='error_goto'>__PYX_ERR(0, 4090, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_9, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4090, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_9, __pyx_n_s_arange);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4090, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4090, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_9, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4090, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    __pyx_t_9 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_9)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_9, __pyx_t_2};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 4090, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_v_x = __pyx_t_3;
    __pyx_t_3 = 0;
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4091</span>:         y = np.arange(data.shape[0])</pre>
<pre class='cython code score-25 '>    <span class='trace'>__Pyx_TraceLine</span>(4091,0,<span class='error_goto'>__PYX_ERR(0, 4091, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4091, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_arange);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4091, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4091, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_1, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4091, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_t_9};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 4091, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    __pyx_v_y = __pyx_t_3;
    __pyx_t_3 = 0;
</pre><pre class="cython line score-65" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4092</span>:         x_grid, y_grid = np.meshgrid(x, y)</pre>
<pre class='cython code score-65 '>    <span class='trace'>__Pyx_TraceLine</span>(4092,0,<span class='error_goto'>__PYX_ERR(0, 4092, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4092, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_meshgrid);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4092, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_2, __pyx_v_x, __pyx_v_y};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 4092, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    }
    if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_3))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_3))) {
      PyObject* sequence = __pyx_t_3;
      Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
      if (unlikely(size != 2)) {
        if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
        else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
        <span class='error_goto'>__PYX_ERR(0, 4092, __pyx_L1_error)</span>
      }
      #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
      if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
        __pyx_t_9 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
        __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
      } else {
        __pyx_t_9 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
        __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
      }
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      #else
      __pyx_t_9 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4092, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_t_2 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4092, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      #endif
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    } else {
      Py_ssize_t index = -1;
      __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4092, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);
      index = 0; __pyx_t_9 = __pyx_t_11(__pyx_t_1); if (unlikely(!__pyx_t_9)) goto __pyx_L11_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      index = 1; __pyx_t_2 = __pyx_t_11(__pyx_t_1); if (unlikely(!__pyx_t_2)) goto __pyx_L11_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_11(__pyx_t_1), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4092, __pyx_L1_error)</span>
      __pyx_t_11 = NULL;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      goto __pyx_L12_unpacking_done;
      __pyx_L11_unpacking_failed:;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_11 = NULL;
      if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
      <span class='error_goto'>__PYX_ERR(0, 4092, __pyx_L1_error)</span>
      __pyx_L12_unpacking_done:;
    }
    __pyx_v_x_grid = __pyx_t_9;
    __pyx_t_9 = 0;
    __pyx_v_y_grid = __pyx_t_2;
    __pyx_t_2 = 0;
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4093</span>:         mask = ~np.isnan(data)</pre>
<pre class='cython code score-25 '>    <span class='trace'>__Pyx_TraceLine</span>(4093,0,<span class='error_goto'>__PYX_ERR(0, 4093, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4093, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_isnan);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4093, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_data};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 4093, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    }
    __pyx_t_9 = <span class='py_c_api'>PyNumber_Invert</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4093, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_v_mask = __pyx_t_9;
    __pyx_t_9 = 0;
</pre><pre class="cython line score-36" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4094</span>:         points = np.array((y_grid[mask], x_grid[mask])).T</pre>
<pre class='cython code score-36 '>    <span class='trace'>__Pyx_TraceLine</span>(4094,0,<span class='error_goto'>__PYX_ERR(0, 4094, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4094, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_array);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4094, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_y_grid, __pyx_v_mask);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4094, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_x_grid, __pyx_v_mask);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4094, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_10 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4094, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_10, 0, __pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 4094, __pyx_L1_error)</span>;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_10, 1, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4094, __pyx_L1_error)</span>;
    __pyx_t_3 = 0;
    __pyx_t_1 = 0;
    __pyx_t_1 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_t_10};
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      if (unlikely(!__pyx_t_9)) <span class='error_goto'>__PYX_ERR(0, 4094, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_9, __pyx_n_s_T);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4094, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    __pyx_v_points = __pyx_t_2;
    __pyx_t_2 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4095</span>:         values = data[mask]</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(4095,0,<span class='error_goto'>__PYX_ERR(0, 4095, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_v_mask);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4095, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_v_values = __pyx_t_2;
    __pyx_t_2 = 0;
</pre><pre class="cython line score-65" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4096</span>:         x_new, y_new = np.meshgrid(x, y)</pre>
<pre class='cython code score-65 '>    <span class='trace'>__Pyx_TraceLine</span>(4096,0,<span class='error_goto'>__PYX_ERR(0, 4096, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_9, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4096, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_9, __pyx_n_s_meshgrid);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4096, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    __pyx_t_9 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_10))) {
      __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_10);
      if (likely(__pyx_t_9)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_10);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_10, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_9, __pyx_v_x, __pyx_v_y};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_10, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 4096, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    }
    if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_2))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_2))) {
      PyObject* sequence = __pyx_t_2;
      Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
      if (unlikely(size != 2)) {
        if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
        else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
        <span class='error_goto'>__PYX_ERR(0, 4096, __pyx_L1_error)</span>
      }
      #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
      if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
        __pyx_t_10 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
        __pyx_t_9 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
      } else {
        __pyx_t_10 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
        __pyx_t_9 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
      }
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_10);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
      #else
      __pyx_t_10 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4096, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
      __pyx_t_9 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4096, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      #endif
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    } else {
      Py_ssize_t index = -1;
      __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4096, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);
      index = 0; __pyx_t_10 = __pyx_t_11(__pyx_t_1); if (unlikely(!__pyx_t_10)) goto __pyx_L13_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
      index = 1; __pyx_t_9 = __pyx_t_11(__pyx_t_1); if (unlikely(!__pyx_t_9)) goto __pyx_L13_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_11(__pyx_t_1), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4096, __pyx_L1_error)</span>
      __pyx_t_11 = NULL;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      goto __pyx_L14_unpacking_done;
      __pyx_L13_unpacking_failed:;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_11 = NULL;
      if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
      <span class='error_goto'>__PYX_ERR(0, 4096, __pyx_L1_error)</span>
      __pyx_L14_unpacking_done:;
    }
    __pyx_v_x_new = __pyx_t_10;
    __pyx_t_10 = 0;
    __pyx_v_y_new = __pyx_t_9;
    __pyx_t_9 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4097</span>:         # 'extrapolate fill_value' not available.</pre>
<pre class="cython line score-38" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4098</span>:         fill_value = 0. if str(fill_value).find("extra")&gt;=0 else fill_value</pre>
<pre class='cython code score-38 '>    <span class='trace'>__Pyx_TraceLine</span>(4098,0,<span class='error_goto'>__PYX_ERR(0, 4098, __pyx_L1_error)</span>)
    __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_Str</span>(__pyx_cur_scope-&gt;__pyx_v_fill_value);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4098, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_10, __pyx_n_s_find);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4098, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    __pyx_t_10 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_10 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_10)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_10);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_10, __pyx_n_u_extra};
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      if (unlikely(!__pyx_t_9)) <span class='error_goto'>__PYX_ERR(0, 4098, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_t_1 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_9, __pyx_int_0, Py_GE); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4098, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_1); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4098, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (__pyx_t_8) {
      if (!(likely(<span class='py_c_api'>PyUnicode_CheckExact</span>(__pyx_float_0_)) || <span class='pyx_c_api'>__Pyx_RaiseUnexpectedTypeError</span>("unicode", __pyx_float_0_))) <span class='error_goto'>__PYX_ERR(0, 4098, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_float_0_);
      __pyx_t_2 = __pyx_float_0_;
    } else {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_fill_value);
      __pyx_t_2 = __pyx_cur_scope-&gt;__pyx_v_fill_value;
    }
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_cur_scope-&gt;__pyx_v_fill_value);
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_cur_scope-&gt;__pyx_v_fill_value, ((PyObject*)__pyx_t_2));
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4099</span>:         data_interp = griddata(points, values, (</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(4099,0,<span class='error_goto'>__PYX_ERR(0, 4099, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_griddata);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4099, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(4099,0,<span class='error_goto'>__PYX_ERR(0, 4099, __pyx_L1_error)</span>)
    __pyx_t_9 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4099, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_points);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_points);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_9, 0, __pyx_v_points)) <span class='error_goto'>__PYX_ERR(0, 4099, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_values);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_values);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_9, 1, __pyx_v_values)) <span class='error_goto'>__PYX_ERR(0, 4099, __pyx_L1_error)</span>;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_9, 2, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4099, __pyx_L1_error)</span>;
    __pyx_t_1 = 0;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(4099,0,<span class='error_goto'>__PYX_ERR(0, 4099, __pyx_L1_error)</span>)
    __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_9, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4099, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_v_data_interp = __pyx_t_10;
    __pyx_t_10 = 0;
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4100</span>:             y_new, x_new), method=method, fill_value=fill_value, **kwargs)</pre>
<pre class='cython code score-25 '>    <span class='trace'>__Pyx_TraceLine</span>(4100,0,<span class='error_goto'>__PYX_ERR(0, 4100, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4100, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y_new);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_y_new);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_y_new)) <span class='error_goto'>__PYX_ERR(0, 4100, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_x_new);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_x_new);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_v_x_new)) <span class='error_goto'>__PYX_ERR(0, 4100, __pyx_L1_error)</span>;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(4100,0,<span class='error_goto'>__PYX_ERR(0, 4100, __pyx_L1_error)</span>)
    __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4100, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_10, __pyx_n_s_method, __pyx_cur_scope-&gt;__pyx_v_method) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4100, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_10, __pyx_n_s_fill_value, __pyx_cur_scope-&gt;__pyx_v_fill_value) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4100, __pyx_L1_error)</span>
    __pyx_t_1 = __pyx_t_10;
    __pyx_t_10 = 0;
    if (<span class='pyx_c_api'>__Pyx_MergeKeywords</span>(__pyx_t_1, __pyx_cur_scope-&gt;__pyx_v_kwargs) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4100, __pyx_L1_error)</span>
</pre><pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4101</span>:         result = data_interp</pre>
<pre class='cython code score-1 '>    <span class='trace'>__Pyx_TraceLine</span>(4101,0,<span class='error_goto'>__PYX_ERR(0, 4101, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data_interp);
    __pyx_v_result = __pyx_v_data_interp;
</pre><pre class="cython line score-0">&#xA0;<span class="">4102</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4103</span>:     if view:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(4103,0,<span class='error_goto'>__PYX_ERR(0, 4103, __pyx_L1_error)</span>)
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_view); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4103, __pyx_L1_error)</span>
  if (__pyx_t_8) {
/* â€¦ */
  }
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4104</span>:         _visualize_interpolation(data, result)</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(4104,0,<span class='error_goto'>__PYX_ERR(0, 4104, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_visualize_interpolation);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4104, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    if (unlikely(!__pyx_v_result)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("result"); <span class='error_goto'>__PYX_ERR(0, 4104, __pyx_L1_error)</span> }
    __pyx_t_9 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_9)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_9, __pyx_v_data, __pyx_v_result};
      __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      if (unlikely(!__pyx_t_10)) <span class='error_goto'>__PYX_ERR(0, 4104, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4105</span>: </pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4106</span>:     if name_or_columns is not None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(4106,0,<span class='error_goto'>__PYX_ERR(0, 4106, __pyx_L1_error)</span>)
  __pyx_t_8 = (__pyx_v_name_or_columns != Py_None);
  if (__pyx_t_8) {
/* â€¦ */
  }
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4107</span>:         result = pandas_manager(</pre>
<pre class='cython code score-16 '>    <span class='trace'>__Pyx_TraceLine</span>(4107,0,<span class='error_goto'>__PYX_ERR(0, 4107, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_10, __pyx_n_s_pandas_manager);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4107, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(4107,0,<span class='error_goto'>__PYX_ERR(0, 4107, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4107, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_result);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_result);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_result)) <span class='error_goto'>__PYX_ERR(0, 4107, __pyx_L1_error)</span>;
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(4107,0,<span class='error_goto'>__PYX_ERR(0, 4107, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_10, __pyx_t_1, __pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4107, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_result, __pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4108</span>:             result,</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(4108,0,<span class='error_goto'>__PYX_ERR(0, 4108, __pyx_L1_error)</span>)
    if (unlikely(!__pyx_v_result)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("result"); <span class='error_goto'>__PYX_ERR(0, 4108, __pyx_L1_error)</span> }
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4109</span>:             name_or_columns = name_or_columns,</pre>
<pre class='cython code score-7 '>    <span class='trace'>__Pyx_TraceLine</span>(4109,0,<span class='error_goto'>__PYX_ERR(0, 4109, __pyx_L1_error)</span>)
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4109, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_9, __pyx_n_s_name_or_columns, __pyx_v_name_or_columns) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4109, __pyx_L1_error)</span>
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4110</span>:             index = index,</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(4110,0,<span class='error_goto'>__PYX_ERR(0, 4110, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_9, __pyx_n_s_index, __pyx_v_index) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4109, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_9, __pyx_n_s_todo, __pyx_n_u_set) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4109, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">4111</span>:             todo='set'</pre>
<pre class="cython line score-0">&#xA0;<span class="">4112</span>:         )</pre>
<pre class="cython line score-0">&#xA0;<span class="">4113</span>: </pre>
<pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4114</span>:     return result</pre>
<pre class='cython code score-4 '>  <span class='trace'>__Pyx_TraceLine</span>(4114,0,<span class='error_goto'>__PYX_ERR(0, 4114, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  if (unlikely(!__pyx_v_result)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("result"); <span class='error_goto'>__PYX_ERR(0, 4114, __pyx_L1_error)</span> }
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_result);
  __pyx_r = __pyx_v_result;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4115</span>: </pre>
<pre class="cython line score-197" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4116</span>: def denormalizer(</pre>
<pre class='cython code score-197 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_122denormalizer(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_121denormalizer, "\n    Denormalizes data from a normalized scale back to its original scale.\n\n    Parameters\n    ----------\n    data : Union[np.ndarray, pd.Series, pd.DataFrame]\n        The data to be denormalized, can be a NumPy array, \n        pandas Series, or pandas DataFrame.\n    min_value : float\n        The minimum value of the original scale before normalization.\n    max_value : float\n        The maximum value of the original scale before normalization.\n    method : str, optional\n        The normalization method used. Supported methods are:\n        - '01' : Min-Max normalization to range [0, 1].\n        - 'zscore' : Standard score normalization (zero mean, unit variance).\n        - 'sum' : Normalization by sum of elements.\n        Default is '01'.\n    std_dev_factor : float, optional\n        The factor determining the range for standard deviation. \n        This is used only for 'zscore' method. Default is 3.\n\n    Returns\n    -------\n    Union[np.ndarray, pd.Series, pd.DataFrame]\n        The denormalized data, converted back to its original scale.\n\n    Raises\n    ------\n    ValueError\n        If an unsupported normalization method is provided.\n\n    Notes\n    -----\n    The denormalization process depends on the normalization method:\n    \n    - For Min-Max normalization ('01'):\n     .. math:: \n         \n         `denormalized\\_data = data \\cdot (max\\_value - min\\_value) + min\\_value`\n    \n    - For z-score normalization ('zscore'):\n      Assuming the original data follows a normal distribution:\n          \n      .. math:: \n          `denormalized\\_data = data \\cdot std\\_dev + mean`\n      where \n      \n      .. math::\n          `mean = \014rac{min\\_value + max\\_value}{2}`\n      and \n      \n      .. math::\n          `std\\_dev = \014rac{max\\_value - min\\_value}{2 \\cdot std\\_dev\\_factor}`\n    \n    - For sum normalization ('sum'):\n        \n      .. math::\n          \n          `denormalized\\_data = data \\cdot ""\014rac{max\\_value - min\\_value}{\\sum(data)} + min\\_value`\n\n    Examples\n    --------\n    &gt;&gt;&gt; import numpy as np\n    &gt;&gt;&gt; import pandas as pd\n    &gt;&gt;&gt; from gofast.tools.baseutils import denormalizer \n    \n    &gt;&gt;&gt; normalized_data = np.array([0, 0.5, 1])\n    &gt;&gt;&gt; min_value = 10\n    &gt;&gt;&gt; max_value = 20\n    &gt;&gt;&gt; denormalized_data = denormalizer(normalized_data, min_value, max_value)\n    &gt;&gt;&gt; print(denormalized_data)\n    [10. 15. 20.]\n\n    &gt;&gt;&gt; normalized_series = pd.Series([0, 0.5, 1])\n    &gt;&gt;&gt; denormalized_series = denormalizer(normalized_series, min_value, max_value)\n    &gt;&gt;&gt; print(denormalized_series)\n    0    10.0\n    1    15.0\n    2    20.0\n    dtype: float64\n\n    &gt;&gt;&gt; normalized_df = pd.DataFrame([[0, 0.5], [1, 0.2]])\n    &gt;&gt;&gt; denormalized_df = denormalizer(normalized_df, min_value, max_value)\n    &gt;&gt;&gt; print(denormalized_df)\n         0     1\n    0  10.0  15.0\n    1  20.0  12.0\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_122denormalizer = {"denormalizer", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_122denormalizer, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_121denormalizer};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_122denormalizer(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_data = 0;
  double __pyx_v_min_value;
  double __pyx_v_max_value;
  PyObject *__pyx_v_method = 0;
  double __pyx_v_std_dev_factor;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("denormalizer (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_data,&amp;__pyx_n_s_min_value,&amp;__pyx_n_s_max_value,&amp;__pyx_n_s_method,&amp;__pyx_n_s_std_dev_factor,0};
  PyObject* values[5] = {0,0,0,0,0};
    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject*)((PyObject*)__pyx_kp_u_01)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4116, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_min_value)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4116, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("denormalizer", 0, 3, 5, 1); <span class='error_goto'>__PYX_ERR(0, 4116, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (likely((values[2] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_max_value)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[2]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4116, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("denormalizer", 0, 3, 5, 2); <span class='error_goto'>__PYX_ERR(0, 4116, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_method);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4116, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_std_dev_factor);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4116, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "denormalizer") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 4116, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_data = values[0];
    __pyx_v_min_value = __pyx_<span class='py_c_api'>PyFloat_AsDouble</span>(values[1]); if (unlikely((__pyx_v_min_value == (double)-1) &amp;&amp; <span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4118, __pyx_L3_error)</span>
    __pyx_v_max_value = __pyx_<span class='py_c_api'>PyFloat_AsDouble</span>(values[2]); if (unlikely((__pyx_v_max_value == (double)-1) &amp;&amp; <span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4118, __pyx_L3_error)</span>
    __pyx_v_method = ((PyObject*)values[3]);
    if (values[4]) {
      __pyx_v_std_dev_factor = __pyx_<span class='py_c_api'>PyFloat_AsDouble</span>(values[4]); if (unlikely((__pyx_v_std_dev_factor == (double)-1) &amp;&amp; <span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4120, __pyx_L3_error)</span>
    } else {
      __pyx_v_std_dev_factor = ((double)((double)3.0));
    }
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("denormalizer", 0, 3, 5, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 4116, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.denormalizer", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_method), (&amp;PyUnicode_Type), 0, "method", 1))) <span class='error_goto'>__PYX_ERR(0, 4119, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_121denormalizer(__pyx_self, __pyx_v_data, __pyx_v_min_value, __pyx_v_max_value, __pyx_v_method, __pyx_v_std_dev_factor);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_121denormalizer(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_data, double __pyx_v_min_value, double __pyx_v_max_value, PyObject *__pyx_v_method, double __pyx_v_std_dev_factor) {
  PyObject *__pyx_v_data_values = NULL;
  int __pyx_v_is_pandas;
  PyObject *__pyx_v_denormalized_data = NULL;
  double __pyx_v_mean;
  double __pyx_v_std_dev;
  PyObject *__pyx_v_total = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__134)
  <span class='trace'>__Pyx_TraceCall</span>("denormalizer", __pyx_f[0], 4116, 0, <span class='error_goto'>__PYX_ERR(0, 4116, __pyx_L1_error)</span>);
/* â€¦ */
  /* function exit code */
  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.denormalizer", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_data_values);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_denormalized_data);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_total);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__233 = <span class='py_c_api'>PyTuple_Pack</span>(11, __pyx_n_s_data, __pyx_n_s_min_value, __pyx_n_s_max_value, __pyx_n_s_method, __pyx_n_s_std_dev_factor, __pyx_n_s_data_values, __pyx_n_s_is_pandas, __pyx_n_s_denormalized_data, __pyx_n_s_mean, __pyx_n_s_std_dev, __pyx_n_s_total);<span class='error_goto'> if (unlikely(!__pyx_tuple__233)) __PYX_ERR(0, 4116, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__233);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__233);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(4116,0,<span class='error_goto'>__PYX_ERR(0, 4116, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4116, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(((PyObject*)__pyx_kp_u_01));
  <span class='refnanny'>__Pyx_GIVEREF</span>(((PyObject*)__pyx_kp_u_01));
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, ((PyObject*)__pyx_kp_u_01))) <span class='error_goto'>__PYX_ERR(0, 4116, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 4116, __pyx_L1_error)</span>;
  __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(6);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4116, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_data, __pyx_kp_s_Union_np_ndarray_pd_Series_pd_Da) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4116, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_min_value, __pyx_n_s_float) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4116, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_max_value, __pyx_n_s_float) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4116, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_method, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4116, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_std_dev_factor, __pyx_n_s_float) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4116, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return, __pyx_kp_s_Union_np_ndarray_pd_Series_pd_Da) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4116, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_122denormalizer, 0, __pyx_n_s_denormalizer, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__134));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4116, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_2, __pyx_t_4);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_2, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_denormalizer, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4116, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_codeobj__134 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(5, 0, 0, 11, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__233, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_denormalizer, 4116, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__134)) __PYX_ERR(0, 4116, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">4117</span>:     data: Union[np.ndarray, pd.Series, pd.DataFrame],</pre>
<pre class="cython line score-0">&#xA0;<span class="">4118</span>:     min_value: float, max_value: float,</pre>
<pre class="cython line score-0">&#xA0;<span class="">4119</span>:     method: str = '01',</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4120</span>:     std_dev_factor: float = 3</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(4120,0,<span class='error_goto'>__PYX_ERR(0, 4120, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyFloat_FromDouble</span>(((double)3.0));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4120, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
</pre><pre class="cython line score-0">&#xA0;<span class="">4121</span>:     ) -&gt; Union[np.ndarray, pd.Series, pd.DataFrame]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">4122</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">4123</span>:     Denormalizes data from a normalized scale back to its original scale.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4124</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4125</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">4126</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">4127</span>:     data : Union[np.ndarray, pd.Series, pd.DataFrame]</pre>
<pre class="cython line score-0">&#xA0;<span class="">4128</span>:         The data to be denormalized, can be a NumPy array,</pre>
<pre class="cython line score-0">&#xA0;<span class="">4129</span>:         pandas Series, or pandas DataFrame.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4130</span>:     min_value : float</pre>
<pre class="cython line score-0">&#xA0;<span class="">4131</span>:         The minimum value of the original scale before normalization.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4132</span>:     max_value : float</pre>
<pre class="cython line score-0">&#xA0;<span class="">4133</span>:         The maximum value of the original scale before normalization.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4134</span>:     method : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">4135</span>:         The normalization method used. Supported methods are:</pre>
<pre class="cython line score-0">&#xA0;<span class="">4136</span>:         - '01' : Min-Max normalization to range [0, 1].</pre>
<pre class="cython line score-0">&#xA0;<span class="">4137</span>:         - 'zscore' : Standard score normalization (zero mean, unit variance).</pre>
<pre class="cython line score-0">&#xA0;<span class="">4138</span>:         - 'sum' : Normalization by sum of elements.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4139</span>:         Default is '01'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4140</span>:     std_dev_factor : float, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">4141</span>:         The factor determining the range for standard deviation.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4142</span>:         This is used only for 'zscore' method. Default is 3.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4143</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4144</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">4145</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">4146</span>:     Union[np.ndarray, pd.Series, pd.DataFrame]</pre>
<pre class="cython line score-0">&#xA0;<span class="">4147</span>:         The denormalized data, converted back to its original scale.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4148</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4149</span>:     Raises</pre>
<pre class="cython line score-0">&#xA0;<span class="">4150</span>:     ------</pre>
<pre class="cython line score-0">&#xA0;<span class="">4151</span>:     ValueError</pre>
<pre class="cython line score-0">&#xA0;<span class="">4152</span>:         If an unsupported normalization method is provided.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4153</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4154</span>:     Notes</pre>
<pre class="cython line score-0">&#xA0;<span class="">4155</span>:     -----</pre>
<pre class="cython line score-0">&#xA0;<span class="">4156</span>:     The denormalization process depends on the normalization method:</pre>
<pre class="cython line score-0">&#xA0;<span class="">4157</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4158</span>:     - For Min-Max normalization ('01'):</pre>
<pre class="cython line score-0">&#xA0;<span class="">4159</span>:      .. math::</pre>
<pre class="cython line score-0">&#xA0;<span class="">4160</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4161</span>:          `denormalized\_data = data \cdot (max\_value - min\_value) + min\_value`</pre>
<pre class="cython line score-0">&#xA0;<span class="">4162</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4163</span>:     - For z-score normalization ('zscore'):</pre>
<pre class="cython line score-0">&#xA0;<span class="">4164</span>:       Assuming the original data follows a normal distribution:</pre>
<pre class="cython line score-0">&#xA0;<span class="">4165</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4166</span>:       .. math::</pre>
<pre class="cython line score-0">&#xA0;<span class="">4167</span>:           `denormalized\_data = data \cdot std\_dev + mean`</pre>
<pre class="cython line score-0">&#xA0;<span class="">4168</span>:       where</pre>
<pre class="cython line score-0">&#xA0;<span class="">4169</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4170</span>:       .. math::</pre>
<pre class="cython line score-0">&#xA0;<span class="">4171</span>:           `mean = \frac{min\_value + max\_value}{2}`</pre>
<pre class="cython line score-0">&#xA0;<span class="">4172</span>:       and</pre>
<pre class="cython line score-0">&#xA0;<span class="">4173</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4174</span>:       .. math::</pre>
<pre class="cython line score-0">&#xA0;<span class="">4175</span>:           `std\_dev = \frac{max\_value - min\_value}{2 \cdot std\_dev\_factor}`</pre>
<pre class="cython line score-0">&#xA0;<span class="">4176</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4177</span>:     - For sum normalization ('sum'):</pre>
<pre class="cython line score-0">&#xA0;<span class="">4178</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4179</span>:       .. math::</pre>
<pre class="cython line score-0">&#xA0;<span class="">4180</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4181</span>:           `denormalized\_data = data \cdot \frac{max\_value - min\_value}{\sum(data)} + min\_value`</pre>
<pre class="cython line score-0">&#xA0;<span class="">4182</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4183</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">4184</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">4185</span>:     &gt;&gt;&gt; import numpy as np</pre>
<pre class="cython line score-0">&#xA0;<span class="">4186</span>:     &gt;&gt;&gt; import pandas as pd</pre>
<pre class="cython line score-0">&#xA0;<span class="">4187</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import denormalizer</pre>
<pre class="cython line score-0">&#xA0;<span class="">4188</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4189</span>:     &gt;&gt;&gt; normalized_data = np.array([0, 0.5, 1])</pre>
<pre class="cython line score-0">&#xA0;<span class="">4190</span>:     &gt;&gt;&gt; min_value = 10</pre>
<pre class="cython line score-0">&#xA0;<span class="">4191</span>:     &gt;&gt;&gt; max_value = 20</pre>
<pre class="cython line score-0">&#xA0;<span class="">4192</span>:     &gt;&gt;&gt; denormalized_data = denormalizer(normalized_data, min_value, max_value)</pre>
<pre class="cython line score-0">&#xA0;<span class="">4193</span>:     &gt;&gt;&gt; print(denormalized_data)</pre>
<pre class="cython line score-0">&#xA0;<span class="">4194</span>:     [10. 15. 20.]</pre>
<pre class="cython line score-0">&#xA0;<span class="">4195</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4196</span>:     &gt;&gt;&gt; normalized_series = pd.Series([0, 0.5, 1])</pre>
<pre class="cython line score-0">&#xA0;<span class="">4197</span>:     &gt;&gt;&gt; denormalized_series = denormalizer(normalized_series, min_value, max_value)</pre>
<pre class="cython line score-0">&#xA0;<span class="">4198</span>:     &gt;&gt;&gt; print(denormalized_series)</pre>
<pre class="cython line score-0">&#xA0;<span class="">4199</span>:     0    10.0</pre>
<pre class="cython line score-0">&#xA0;<span class="">4200</span>:     1    15.0</pre>
<pre class="cython line score-0">&#xA0;<span class="">4201</span>:     2    20.0</pre>
<pre class="cython line score-0">&#xA0;<span class="">4202</span>:     dtype: float64</pre>
<pre class="cython line score-0">&#xA0;<span class="">4203</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4204</span>:     &gt;&gt;&gt; normalized_df = pd.DataFrame([[0, 0.5], [1, 0.2]])</pre>
<pre class="cython line score-0">&#xA0;<span class="">4205</span>:     &gt;&gt;&gt; denormalized_df = denormalizer(normalized_df, min_value, max_value)</pre>
<pre class="cython line score-0">&#xA0;<span class="">4206</span>:     &gt;&gt;&gt; print(denormalized_df)</pre>
<pre class="cython line score-0">&#xA0;<span class="">4207</span>:          0     1</pre>
<pre class="cython line score-0">&#xA0;<span class="">4208</span>:     0  10.0  15.0</pre>
<pre class="cython line score-0">&#xA0;<span class="">4209</span>:     1  20.0  12.0</pre>
<pre class="cython line score-0">&#xA0;<span class="">4210</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">4211</span>: </pre>
<pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4212</span>:     if isinstance(data, (pd.Series, pd.DataFrame)):</pre>
<pre class='cython code score-22 '>  <span class='trace'>__Pyx_TraceLine</span>(4212,0,<span class='error_goto'>__PYX_ERR(0, 4212, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4212, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4212, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4212, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4212, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_5 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data, __pyx_t_2); 
  if (!__pyx_t_5) {
  } else {
    __pyx_t_4 = __pyx_t_5;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_5 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data, __pyx_t_3); 
  __pyx_t_4 = __pyx_t_5;
  __pyx_L4_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_4) {
/* â€¦ */
    goto __pyx_L3;
  }
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4213</span>:         data_values = data.to_numpy()</pre>
<pre class='cython code score-16 '>    <span class='trace'>__Pyx_TraceLine</span>(4213,0,<span class='error_goto'>__PYX_ERR(0, 4213, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_to_numpy);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4213, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_1 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, NULL};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 4213, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    __pyx_v_data_values = __pyx_t_2;
    __pyx_t_2 = 0;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4214</span>:         is_pandas = True</pre>
<pre class='cython code score-0 '>    <span class='trace'>__Pyx_TraceLine</span>(4214,0,<span class='error_goto'>__PYX_ERR(0, 4214, __pyx_L1_error)</span>)
    __pyx_v_is_pandas = 1;
</pre><pre class="cython line score-0">&#xA0;<span class="">4215</span>:     else:</pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4216</span>:         data_values = np.asarray(data)</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(4216,0,<span class='error_goto'>__PYX_ERR(0, 4216, __pyx_L1_error)</span>)
  /*else*/ {
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4216, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_asarray);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4216, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_data};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 4216, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_v_data_values = __pyx_t_2;
    __pyx_t_2 = 0;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4217</span>:         is_pandas = False</pre>
<pre class='cython code score-0 '>    <span class='trace'>__Pyx_TraceLine</span>(4217,0,<span class='error_goto'>__PYX_ERR(0, 4217, __pyx_L1_error)</span>)
    __pyx_v_is_pandas = 0;
  }
  __pyx_L3:;
</pre><pre class="cython line score-0">&#xA0;<span class="">4218</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4219</span>:     if method == '01':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(4219,0,<span class='error_goto'>__PYX_ERR(0, 4219, __pyx_L1_error)</span>)
  __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_method, __pyx_kp_u_01, Py_EQ)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4219, __pyx_L1_error)</span>
  if (__pyx_t_4) {
/* â€¦ */
    goto __pyx_L6;
  }
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4220</span>:         denormalized_data = data_values * (max_value - min_value) + min_value</pre>
<pre class='cython code score-23 '>    <span class='trace'>__Pyx_TraceLine</span>(4220,0,<span class='error_goto'>__PYX_ERR(0, 4220, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyFloat_FromDouble</span>((__pyx_v_max_value - __pyx_v_min_value));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4220, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_1 = <span class='py_c_api'>PyNumber_Multiply</span>(__pyx_v_data_values, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4220, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='py_c_api'>PyFloat_FromDouble</span>(__pyx_v_min_value);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4220, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='py_c_api'>PyNumber_Add</span>(__pyx_t_1, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4220, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_v_denormalized_data = __pyx_t_3;
    __pyx_t_3 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4221</span>:     elif method == 'zscore':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(4221,0,<span class='error_goto'>__PYX_ERR(0, 4221, __pyx_L1_error)</span>)
  __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_method, __pyx_n_u_zscore, Py_EQ)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4221, __pyx_L1_error)</span>
  if (__pyx_t_4) {
/* â€¦ */
    goto __pyx_L6;
  }
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4222</span>:         mean = (min_value + max_value) / 2</pre>
<pre class='cython code score-0 '>    <span class='trace'>__Pyx_TraceLine</span>(4222,0,<span class='error_goto'>__PYX_ERR(0, 4222, __pyx_L1_error)</span>)
    __pyx_v_mean = ((__pyx_v_min_value + __pyx_v_max_value) / 2.0);
</pre><pre class="cython line score-0">&#xA0;<span class="">4223</span>:         # Adjusting for specified standard deviation factor</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4224</span>:         std_dev = (max_value - min_value) /  (2 * std_dev_factor)</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(4224,0,<span class='error_goto'>__PYX_ERR(0, 4224, __pyx_L1_error)</span>)
    __pyx_t_7 = (__pyx_v_max_value - __pyx_v_min_value);
    __pyx_t_8 = (2.0 * __pyx_v_std_dev_factor);
    if (unlikely(__pyx_t_8 == 0)) {
      <span class='py_c_api'>PyErr_SetString</span>(PyExc_ZeroDivisionError, "float division");
      <span class='error_goto'>__PYX_ERR(0, 4224, __pyx_L1_error)</span>
    }
    __pyx_v_std_dev = (__pyx_t_7 / __pyx_t_8);
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4225</span>:         denormalized_data = data_values * std_dev + mean</pre>
<pre class='cython code score-23 '>    <span class='trace'>__Pyx_TraceLine</span>(4225,0,<span class='error_goto'>__PYX_ERR(0, 4225, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='py_c_api'>PyFloat_FromDouble</span>(__pyx_v_std_dev);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4225, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = <span class='py_c_api'>PyNumber_Multiply</span>(__pyx_v_data_values, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4225, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='py_c_api'>PyFloat_FromDouble</span>(__pyx_v_mean);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4225, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_1 = <span class='py_c_api'>PyNumber_Add</span>(__pyx_t_2, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4225, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_v_denormalized_data = __pyx_t_1;
    __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4226</span>:     elif method == 'sum':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(4226,0,<span class='error_goto'>__PYX_ERR(0, 4226, __pyx_L1_error)</span>)
  __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_method, __pyx_n_u_sum, Py_EQ)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4226, __pyx_L1_error)</span>
  if (likely(__pyx_t_4)) {
/* â€¦ */
    goto __pyx_L6;
  }
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4227</span>:         total = np.sum(data_values)</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(4227,0,<span class='error_goto'>__PYX_ERR(0, 4227, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4227, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_sum);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4227, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_data_values};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4227, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    __pyx_v_total = __pyx_t_1;
    __pyx_t_1 = 0;
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4228</span>:         denormalized_data = data_values * (max_value - min_value) / total + min_value</pre>
<pre class='cython code score-26 '>    <span class='trace'>__Pyx_TraceLine</span>(4228,0,<span class='error_goto'>__PYX_ERR(0, 4228, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='py_c_api'>PyFloat_FromDouble</span>((__pyx_v_max_value - __pyx_v_min_value));<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4228, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_2 = <span class='py_c_api'>PyNumber_Multiply</span>(__pyx_v_data_values, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4228, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyNumber_Divide</span>(__pyx_t_2, __pyx_v_total);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4228, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='py_c_api'>PyFloat_FromDouble</span>(__pyx_v_min_value);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4228, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='py_c_api'>PyNumber_Add</span>(__pyx_t_1, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4228, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_v_denormalized_data = __pyx_t_3;
    __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4229</span>:     else:</pre>
<pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4230</span>:         raise ValueError(f"Unsupported normalization method: {method}")</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(4230,0,<span class='error_goto'>__PYX_ERR(0, 4230, __pyx_L1_error)</span>)
  /*else*/ {
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_kp_u_Unsupported_normalization_method, __pyx_v_method);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4230, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4230, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='error_goto'>__PYX_ERR(0, 4230, __pyx_L1_error)</span>
  }
  __pyx_L6:;
</pre><pre class="cython line score-0">&#xA0;<span class="">4231</span>: </pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4232</span>:     if is_pandas:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(4232,0,<span class='error_goto'>__PYX_ERR(0, 4232, __pyx_L1_error)</span>)
  if (__pyx_v_is_pandas) {
/* â€¦ */
    goto __pyx_L7;
  }
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4233</span>:         if isinstance(data, pd.Series):</pre>
<pre class='cython code score-11 '>    <span class='trace'>__Pyx_TraceLine</span>(4233,0,<span class='error_goto'>__PYX_ERR(0, 4233, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4233, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4233, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_4 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data, __pyx_t_3);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(0, 4233, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (__pyx_t_4) {
/* â€¦ */
    }
</pre><pre class="cython line score-37" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4234</span>:             return pd.Series(denormalized_data, index=data.index, name=data.name)</pre>
<pre class='cython code score-37 '>      <span class='trace'>__Pyx_TraceLine</span>(4234,0,<span class='error_goto'>__PYX_ERR(0, 4234, __pyx_L1_error)</span>)
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4234, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4234, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4234, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_denormalized_data);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_denormalized_data);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_denormalized_data)) <span class='error_goto'>__PYX_ERR(0, 4234, __pyx_L1_error)</span>;
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4234, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_index);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4234, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_index, __pyx_t_9) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4234, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4234, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_name, __pyx_t_9) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4234, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_3, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4234, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_r = __pyx_t_9;
      __pyx_t_9 = 0;
      goto __pyx_L0;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4235</span>:         elif isinstance(data, pd.DataFrame):</pre>
<pre class='cython code score-11 '>    <span class='trace'>__Pyx_TraceLine</span>(4235,0,<span class='error_goto'>__PYX_ERR(0, 4235, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_9, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4235, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_9, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4235, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    __pyx_t_4 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data, __pyx_t_1);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(0, 4235, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (__pyx_t_4) {
/* â€¦ */
    }
</pre><pre class="cython line score-37" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4236</span>:             return pd.DataFrame(denormalized_data, index=data.index, columns=data.columns)</pre>
<pre class='cython code score-37 '>      <span class='trace'>__Pyx_TraceLine</span>(4236,0,<span class='error_goto'>__PYX_ERR(0, 4236, __pyx_L1_error)</span>)
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4236, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4236, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4236, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_denormalized_data);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_denormalized_data);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_denormalized_data)) <span class='error_goto'>__PYX_ERR(0, 4236, __pyx_L1_error)</span>;
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4236, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_index);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4236, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_index, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4236, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4236, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_columns, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4236, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_9, __pyx_t_1, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4236, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_r = __pyx_t_2;
      __pyx_t_2 = 0;
      goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4237</span>:     else:</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4238</span>:         return denormalized_data</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(4238,0,<span class='error_goto'>__PYX_ERR(0, 4238, __pyx_L1_error)</span>)
  /*else*/ {
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_denormalized_data);
    __pyx_r = __pyx_v_denormalized_data;
    goto __pyx_L0;
  }
  __pyx_L7:;
</pre><pre class="cython line score-0">&#xA0;<span class="">4239</span>: </pre>
<pre class="cython line score-116" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4240</span>: def _handle_get_action(</pre>
<pre class='cython code score-116 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_124_handle_get_action(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_124_handle_get_action = {"_handle_get_action", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_124_handle_get_action, __Pyx_METH_FASTCALL|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_124_handle_get_action(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_data = 0;
  PyObject *__pyx_v_action = 0;
  PyObject *__pyx_v_error = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_handle_get_action (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_data,&amp;__pyx_n_s_action,&amp;__pyx_n_s_error,0};
  PyObject* values[3] = {0,0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4240, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_action)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4240, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_handle_get_action", 1, 3, 3, 1); <span class='error_goto'>__PYX_ERR(0, 4240, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (likely((values[2] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_error)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[2]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4240, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_handle_get_action", 1, 3, 3, 2); <span class='error_goto'>__PYX_ERR(0, 4240, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_handle_get_action") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 4240, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 3)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
      values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
    }
    __pyx_v_data = values[0];
    __pyx_v_action = ((PyObject*)values[1]);
    __pyx_v_error = ((PyObject*)values[2]);
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_handle_get_action", 1, 3, 3, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 4240, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._handle_get_action", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_action), (&amp;PyUnicode_Type), 0, "action", 1))) <span class='error_goto'>__PYX_ERR(0, 4241, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_error), (&amp;PyUnicode_Type), 0, "error", 1))) <span class='error_goto'>__PYX_ERR(0, 4241, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_123_handle_get_action(__pyx_self, __pyx_v_data, __pyx_v_action, __pyx_v_error);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_123_handle_get_action(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_data, PyObject *__pyx_v_action, PyObject *__pyx_v_error) {
  int __pyx_v_is_pandas;
  PyObject *__pyx_v_arr = NULL;
  PyObject *__pyx_v_index = NULL;
  PyObject *__pyx_v_name_or_columns = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__135)
  <span class='trace'>__Pyx_TraceCall</span>("_handle_get_action", __pyx_f[0], 4240, 0, <span class='error_goto'>__PYX_ERR(0, 4240, __pyx_L1_error)</span>);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._handle_get_action", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_arr);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_index);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_name_or_columns);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__234 = <span class='py_c_api'>PyTuple_Pack</span>(7, __pyx_n_s_data, __pyx_n_s_action, __pyx_n_s_error, __pyx_n_s_is_pandas, __pyx_n_s_arr, __pyx_n_s_index, __pyx_n_s_name_or_columns);<span class='error_goto'> if (unlikely(!__pyx_tuple__234)) __PYX_ERR(0, 4240, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__234);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__234);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(4240,0,<span class='error_goto'>__PYX_ERR(0, 4240, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4240, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_data, __pyx_n_s_Any) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4240, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_action, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4240, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_error, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4240, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_return, __pyx_kp_s_Union_bool_Tuple_np_ndarray_Any) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4240, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_124_handle_get_action, 0, __pyx_n_s_handle_get_action, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__135));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4240, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_3, __pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_handle_get_action, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4240, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_codeobj__135 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(3, 0, 0, 7, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__234, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_handle_get_action, 4240, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__135)) __PYX_ERR(0, 4240, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">4241</span>:         data: Any, action: str, error: str) -&gt; Union[bool, Tuple[np.ndarray, Any]]:</pre>
<pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4242</span>:     is_pandas = isinstance(data, (pd.Series, pd.DataFrame))</pre>
<pre class='cython code score-22 '>  <span class='trace'>__Pyx_TraceLine</span>(4242,0,<span class='error_goto'>__PYX_ERR(0, 4242, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4242, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4242, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4242, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4242, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_5 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data, __pyx_t_2); 
  if (!__pyx_t_5) {
  } else {
    __pyx_t_4 = __pyx_t_5;
    goto __pyx_L3_bool_binop_done;
  }
  __pyx_t_5 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data, __pyx_t_3); 
  __pyx_t_4 = __pyx_t_5;
  __pyx_L3_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_is_pandas = __pyx_t_4;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4243</span>:     if action == 'check_only':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(4243,0,<span class='error_goto'>__PYX_ERR(0, 4243, __pyx_L1_error)</span>)
  __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_action, __pyx_n_u_check_only, Py_EQ)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4243, __pyx_L1_error)</span>
  if (__pyx_t_4) {
/* â€¦ */
  }
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4244</span>:         return is_pandas</pre>
<pre class='cython code score-3 '>    <span class='trace'>__Pyx_TraceLine</span>(4244,0,<span class='error_goto'>__PYX_ERR(0, 4244, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyBool_FromLong</span>(__pyx_v_is_pandas);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4244, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_r = __pyx_t_2;
    __pyx_t_2 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4245</span>: </pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4246</span>:     arr = data.to_numpy() if is_pandas else data</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(4246,0,<span class='error_goto'>__PYX_ERR(0, 4246, __pyx_L1_error)</span>)
  if (__pyx_v_is_pandas) {
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_to_numpy);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4246, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_6 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_6, NULL};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_7, 0+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 4246, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_t_2 = __pyx_t_3;
    __pyx_t_3 = 0;
  } else {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
    __pyx_t_2 = __pyx_v_data;
  }
  __pyx_v_arr = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4247</span>:     index = data.index if is_pandas else None</pre>
<pre class='cython code score-3 '>  <span class='trace'>__Pyx_TraceLine</span>(4247,0,<span class='error_goto'>__PYX_ERR(0, 4247, __pyx_L1_error)</span>)
  if (__pyx_v_is_pandas) {
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_index);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4247, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = __pyx_t_3;
    __pyx_t_3 = 0;
  } else {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    __pyx_t_2 = Py_None;
  }
  __pyx_v_index = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4248</span>:     if error == 'raise' and not is_pandas:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(4248,0,<span class='error_goto'>__PYX_ERR(0, 4248, __pyx_L1_error)</span>)
  __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_error, __pyx_n_u_raise, Py_EQ)); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4248, __pyx_L1_error)</span>
  if (__pyx_t_5) {
  } else {
    __pyx_t_4 = __pyx_t_5;
    goto __pyx_L7_bool_binop_done;
  }
  __pyx_t_5 = (!__pyx_v_is_pandas);
  __pyx_t_4 = __pyx_t_5;
  __pyx_L7_bool_binop_done:;
  if (unlikely(__pyx_t_4)) {
/* â€¦ */
  }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4249</span>:         raise TypeError("Expected a pandas Series or DataFrame, but got a non-pandas type.")</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(4249,0,<span class='error_goto'>__PYX_ERR(0, 4249, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_TypeError, __pyx_tuple__136, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4249, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='error_goto'>__PYX_ERR(0, 4249, __pyx_L1_error)</span>
/* â€¦ */
  __pyx_tuple__136 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Expected_a_pandas_Series_or_Data);<span class='error_goto'> if (unlikely(!__pyx_tuple__136)) __PYX_ERR(0, 4249, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__136);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__136);
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4250</span>:     elif error == 'warn' and not is_pandas:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(4250,0,<span class='error_goto'>__PYX_ERR(0, 4250, __pyx_L1_error)</span>)
  __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_error, __pyx_n_u_warn, Py_EQ)); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4250, __pyx_L1_error)</span>
  if (__pyx_t_5) {
  } else {
    __pyx_t_4 = __pyx_t_5;
    goto __pyx_L9_bool_binop_done;
  }
  __pyx_t_5 = (!__pyx_v_is_pandas);
  __pyx_t_4 = __pyx_t_5;
  __pyx_L9_bool_binop_done:;
  if (__pyx_t_4) {
/* â€¦ */
  }
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4251</span>:         warnings.warn("Expected a pandas Series or DataFrame, but got a non-pandas type.")</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(4251,0,<span class='error_goto'>__PYX_ERR(0, 4251, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_warnings);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4251, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_warn);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4251, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_kp_u_Expected_a_pandas_Series_or_Data};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 4251, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4252</span>: </pre>
<pre class="cython line score-13" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4253</span>:     name_or_columns = data.name if isinstance(data, pd.Series) else\</pre>
<pre class='cython code score-13 '>  <span class='trace'>__Pyx_TraceLine</span>(4253,0,<span class='error_goto'>__PYX_ERR(0, 4253, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4253, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4253, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_4 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data, __pyx_t_3);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(0, 4253, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (__pyx_t_4) {
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4253, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = __pyx_t_3;
    __pyx_t_3 = 0;
  } else {
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4254</span>:         data.columns if is_pandas else None</pre>
<pre class='cython code score-3 '>    <span class='trace'>__Pyx_TraceLine</span>(4254,0,<span class='error_goto'>__PYX_ERR(0, 4254, __pyx_L1_error)</span>)
    if (__pyx_v_is_pandas) {
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4254, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_3 = __pyx_t_1;
      __pyx_t_1 = 0;
    } else {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
      __pyx_t_3 = Py_None;
    }
    __pyx_t_2 = __pyx_t_3;
    __pyx_t_3 = 0;
  }
  __pyx_v_name_or_columns = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4255</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4256</span>:     if action=='keep_frame':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(4256,0,<span class='error_goto'>__PYX_ERR(0, 4256, __pyx_L1_error)</span>)
  __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_action, __pyx_n_u_keep_frame, Py_EQ)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4256, __pyx_L1_error)</span>
  if (__pyx_t_4) {
/* â€¦ */
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4257</span>:         arr= data</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(4257,0,<span class='error_goto'>__PYX_ERR(0, 4257, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_arr, __pyx_v_data);
</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4258</span>:     return arr, name_or_columns, index</pre>
<pre class='cython code score-15 '>  <span class='trace'>__Pyx_TraceLine</span>(4258,0,<span class='error_goto'>__PYX_ERR(0, 4258, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4258, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_arr);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_arr);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_arr)) <span class='error_goto'>__PYX_ERR(0, 4258, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_name_or_columns);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_name_or_columns);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_v_name_or_columns)) <span class='error_goto'>__PYX_ERR(0, 4258, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_index);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_index);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 2, __pyx_v_index)) <span class='error_goto'>__PYX_ERR(0, 4258, __pyx_L1_error)</span>;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4259</span>: </pre>
<pre class="cython line score-67" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4260</span>: def _handle_set_action(data: Any, name_or_columns: Any, action: str, error: str,</pre>
<pre class='cython code score-67 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_126_handle_set_action(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_126_handle_set_action = {"_handle_set_action", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_126_handle_set_action, __Pyx_METH_FASTCALL|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_126_handle_set_action(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_data = 0;
  PyObject *__pyx_v_name_or_columns = 0;
  PyObject *__pyx_v_action = 0;
  PyObject *__pyx_v_error = 0;
  PyObject *__pyx_v_index = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_handle_set_action (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_data,&amp;__pyx_n_s_name_or_columns,&amp;__pyx_n_s_action,&amp;__pyx_n_s_error,&amp;__pyx_n_s_index,0};
  PyObject* values[5] = {0,0,0,0,0};
/* â€¦ */
  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_125_handle_set_action(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_data, PyObject *__pyx_v_name_or_columns, PyObject *__pyx_v_action, PyObject *__pyx_v_error, PyObject *__pyx_v_index) {
  int __pyx_v_is_pandas;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__137)
  <span class='trace'>__Pyx_TraceCall</span>("_handle_set_action", __pyx_f[0], 4260, 0, <span class='error_goto'>__PYX_ERR(0, 4260, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_name_or_columns);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._handle_set_action", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_data);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_name_or_columns);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__235 = <span class='py_c_api'>PyTuple_Pack</span>(6, __pyx_n_s_data, __pyx_n_s_name_or_columns, __pyx_n_s_action, __pyx_n_s_error, __pyx_n_s_index, __pyx_n_s_is_pandas);<span class='error_goto'> if (unlikely(!__pyx_tuple__235)) __PYX_ERR(0, 4260, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__235);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__235);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(4260,0,<span class='error_goto'>__PYX_ERR(0, 4260, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4260, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_data, __pyx_n_s_Any) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4260, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_name_or_columns, __pyx_n_s_Any) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4260, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_action, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4260, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_error, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4260, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return, __pyx_kp_s_Union_pd_Series_pd_DataFrame) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4260, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_126_handle_set_action, 0, __pyx_n_s_handle_set_action, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__137));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4260, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_2, __pyx_tuple__146);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_2, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_handle_set_action, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4260, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_codeobj__137 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(5, 0, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__235, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_handle_set_action, 4260, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__137)) __PYX_ERR(0, 4260, __pyx_L1_error)</span>
</pre><pre class="cython line score-87" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4261</span>:                        index=None,</pre>
<pre class='cython code score-87 '>    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4260, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_name_or_columns)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4260, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_handle_set_action", 0, 4, 5, 1); <span class='error_goto'>__PYX_ERR(0, 4260, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (likely((values[2] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_action)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[2]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4260, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_handle_set_action", 0, 4, 5, 2); <span class='error_goto'>__PYX_ERR(0, 4260, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (likely((values[3] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_error)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[3]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4260, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_handle_set_action", 0, 4, 5, 3); <span class='error_goto'>__PYX_ERR(0, 4260, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_index);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4260, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_handle_set_action") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 4260, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_data = values[0];
    __pyx_v_name_or_columns = values[1];
    __pyx_v_action = ((PyObject*)values[2]);
    __pyx_v_error = ((PyObject*)values[3]);
    __pyx_v_index = values[4];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_handle_set_action", 0, 4, 5, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 4260, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils._handle_set_action", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_action), (&amp;PyUnicode_Type), 0, "action", 1))) <span class='error_goto'>__PYX_ERR(0, 4260, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_error), (&amp;PyUnicode_Type), 0, "error", 1))) <span class='error_goto'>__PYX_ERR(0, 4260, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_125_handle_set_action(__pyx_self, __pyx_v_data, __pyx_v_name_or_columns, __pyx_v_action, __pyx_v_error, __pyx_v_index);
</pre><pre class="cython line score-0">&#xA0;<span class="">4262</span>:                        ) -&gt; Union[pd.Series, pd.DataFrame]:</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4263</span>:     if name_or_columns is None and action != 'default':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(4263,0,<span class='error_goto'>__PYX_ERR(0, 4263, __pyx_L1_error)</span>)
  __pyx_t_2 = (__pyx_v_name_or_columns == Py_None);
  if (__pyx_t_2) {
  } else {
    __pyx_t_1 = __pyx_t_2;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_2 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_action, __pyx_n_u_default, Py_NE)); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4263, __pyx_L1_error)</span>
  __pyx_t_1 = __pyx_t_2;
  __pyx_L4_bool_binop_done:;
  if (unlikely(__pyx_t_1)) {
/* â€¦ */
  }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4264</span>:         raise ValueError(</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(4264,0,<span class='error_goto'>__PYX_ERR(0, 4264, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__138, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4264, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_3, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='error_goto'>__PYX_ERR(0, 4264, __pyx_L1_error)</span>
/* â€¦ */
  __pyx_tuple__138 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_The_name_or_columns_parameter_ca);<span class='error_goto'> if (unlikely(!__pyx_tuple__138)) __PYX_ERR(0, 4264, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__138);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__138);
</pre><pre class="cython line score-0">&#xA0;<span class="">4265</span>:             "The 'name_or_columns' parameter cannot be None when setting data. "</pre>
<pre class="cython line score-0">&#xA0;<span class="">4266</span>:             "Provide a valid 'name_or_columns' or set the 'action' to 'default'."</pre>
<pre class="cython line score-0">&#xA0;<span class="">4267</span>:         )</pre>
<pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4268</span>:     is_pandas = isinstance(data, (pd.Series, pd.DataFrame))</pre>
<pre class='cython code score-22 '>  <span class='trace'>__Pyx_TraceLine</span>(4268,0,<span class='error_goto'>__PYX_ERR(0, 4268, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4268, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4268, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4268, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4268, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_2 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data, __pyx_t_4); 
  if (!__pyx_t_2) {
  } else {
    __pyx_t_1 = __pyx_t_2;
    goto __pyx_L6_bool_binop_done;
  }
  __pyx_t_2 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data, __pyx_t_5); 
  __pyx_t_1 = __pyx_t_2;
  __pyx_L6_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_v_is_pandas = __pyx_t_1;
</pre><pre class="cython line score-0">&#xA0;<span class="">4269</span>: </pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4270</span>:     if is_pandas and name_or_columns is None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(4270,0,<span class='error_goto'>__PYX_ERR(0, 4270, __pyx_L1_error)</span>)
  if (__pyx_v_is_pandas) {
  } else {
    __pyx_t_1 = __pyx_v_is_pandas;
    goto __pyx_L9_bool_binop_done;
  }
  __pyx_t_2 = (__pyx_v_name_or_columns == Py_None);
  __pyx_t_1 = __pyx_t_2;
  __pyx_L9_bool_binop_done:;
  if (__pyx_t_1) {
/* â€¦ */
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">4271</span>:         # Not set anymore when is already a series or dataframe.</pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4272</span>:         name_or_columns =  data.name if isinstance(data, pd.Series) else data.columns</pre>
<pre class='cython code score-16 '>    <span class='trace'>__Pyx_TraceLine</span>(4272,0,<span class='error_goto'>__PYX_ERR(0, 4272, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4272, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4272, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_1 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data, __pyx_t_3);<span class='error_goto'> if (unlikely(__pyx_t_1 == ((int)-1))) __PYX_ERR(0, 4272, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (__pyx_t_1) {
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4272, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_4 = __pyx_t_3;
      __pyx_t_3 = 0;
    } else {
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4272, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_4 = __pyx_t_3;
      __pyx_t_3 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_name_or_columns, __pyx_t_4);
    __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4273</span>: </pre>
<pre class="cython line score-37" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4274</span>:     data = np.asarray(data).squeeze()</pre>
<pre class='cython code score-37 '>  <span class='trace'>__Pyx_TraceLine</span>(4274,0,<span class='error_goto'>__PYX_ERR(0, 4274, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4274, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_asarray);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4274, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_5 = NULL;
  __pyx_t_7 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
    __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
    if (likely(__pyx_t_5)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
      __pyx_t_7 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_v_data};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 4274, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  }
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_squeeze);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4274, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_7 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
      __pyx_t_7 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_7, 0+__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 4274, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_data, __pyx_t_4);
  __pyx_t_4 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4275</span>:     if data.ndim == 1:</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(4275,0,<span class='error_goto'>__PYX_ERR(0, 4275, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_ndim);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4275, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_1 = (<span class='pyx_c_api'>__Pyx_PyInt_BoolEqObjC</span>(__pyx_t_4, __pyx_int_1, 1, 0)); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4275, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (__pyx_t_1) {
/* â€¦ */
  }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4276</span>:         if isinstance(name_or_columns, (list, tuple)):</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(4276,0,<span class='error_goto'>__PYX_ERR(0, 4276, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyList_Check</span>(__pyx_v_name_or_columns); 
    if (!__pyx_t_2) {
    } else {
      __pyx_t_1 = __pyx_t_2;
      goto __pyx_L13_bool_binop_done;
    }
    __pyx_t_2 = <span class='py_c_api'>PyTuple_Check</span>(__pyx_v_name_or_columns); 
    __pyx_t_1 = __pyx_t_2;
    __pyx_L13_bool_binop_done:;
    if (__pyx_t_1) {
/* â€¦ */
    }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4277</span>:             if error == 'raise':</pre>
<pre class='cython code score-2 '>      <span class='trace'>__Pyx_TraceLine</span>(4277,0,<span class='error_goto'>__PYX_ERR(0, 4277, __pyx_L1_error)</span>)
      __pyx_t_1 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_error, __pyx_n_u_raise, Py_EQ)); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4277, __pyx_L1_error)</span>
      if (unlikely(__pyx_t_1)) {
/* â€¦ */
      }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4278</span>:                 raise ValueError("1D array provided; 'name_or_columns' should be a single string.")</pre>
<pre class='cython code score-10 '>        <span class='trace'>__Pyx_TraceLine</span>(4278,0,<span class='error_goto'>__PYX_ERR(0, 4278, __pyx_L1_error)</span>)
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__139, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4278, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_4, 0, 0, 0);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        <span class='error_goto'>__PYX_ERR(0, 4278, __pyx_L1_error)</span>
/* â€¦ */
  __pyx_tuple__139 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_1D_array_provided_name_or_column);<span class='error_goto'> if (unlikely(!__pyx_tuple__139)) __PYX_ERR(0, 4278, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__139);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__139);
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4279</span>:             name_or_columns = list(name_or_columns)[0]</pre>
<pre class='cython code score-9 '>      <span class='trace'>__Pyx_TraceLine</span>(4279,0,<span class='error_goto'>__PYX_ERR(0, 4279, __pyx_L1_error)</span>)
      __pyx_t_4 = <span class='py_c_api'>PySequence_List</span>(__pyx_v_name_or_columns);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4279, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_GetItemInt_List</span>(__pyx_t_4, 0, long, 1, __Pyx_PyInt_From_long, 1, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4279, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_name_or_columns, __pyx_t_6);
      __pyx_t_6 = 0;
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4280</span>:         return pd.Series(data, name=name_or_columns, index =index  )</pre>
<pre class='cython code score-31 '>    <span class='trace'>__Pyx_TraceLine</span>(4280,0,<span class='error_goto'>__PYX_ERR(0, 4280, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4280, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4280, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4280, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_v_data)) <span class='error_goto'>__PYX_ERR(0, 4280, __pyx_L1_error)</span>;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4280, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_name, __pyx_v_name_or_columns) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4280, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_index, __pyx_v_index) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4280, __pyx_L1_error)</span>
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_4, __pyx_t_6, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4280, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_r = __pyx_t_5;
    __pyx_t_5 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4281</span>:     else:</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4282</span>:         if isinstance(name_or_columns, str):</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(4282,0,<span class='error_goto'>__PYX_ERR(0, 4282, __pyx_L1_error)</span>)
  /*else*/ {
    __pyx_t_1 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_name_or_columns); 
    if (__pyx_t_1) {
/* â€¦ */
    }
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4283</span>:             name_or_columns = [name_or_columns]</pre>
<pre class='cython code score-9 '>      <span class='trace'>__Pyx_TraceLine</span>(4283,0,<span class='error_goto'>__PYX_ERR(0, 4283, __pyx_L1_error)</span>)
      __pyx_t_5 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4283, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_name_or_columns);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_name_or_columns);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_5, 0, __pyx_v_name_or_columns)) <span class='error_goto'>__PYX_ERR(0, 4283, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_name_or_columns, __pyx_t_5);
      __pyx_t_5 = 0;
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4284</span>:         return pd.DataFrame(data, columns=name_or_columns, index =index )</pre>
<pre class='cython code score-31 '>    <span class='trace'>__Pyx_TraceLine</span>(4284,0,<span class='error_goto'>__PYX_ERR(0, 4284, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4284, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4284, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4284, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_v_data)) <span class='error_goto'>__PYX_ERR(0, 4284, __pyx_L1_error)</span>;
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4284, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_columns, __pyx_v_name_or_columns) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4284, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_index, __pyx_v_index) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4284, __pyx_L1_error)</span>
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_5, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4284, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_r = __pyx_t_4;
    __pyx_t_4 = 0;
    goto __pyx_L0;
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">4285</span>: </pre>
<pre class="cython line score-84" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4286</span>: def pandas_manager(</pre>
<pre class='cython code score-84 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_128pandas_manager(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_127pandas_manager, "\n    Manages pandas objects by getting or setting data, with error handling.\n\n    Parameters\n    ----------\n    data : Any\n        The input data which can be a numpy array, pandas Series, or DataFrame.\n    todo : str, optional\n        Specifies the action to perform: 'get' or 'set'. Default is 'get'.\n    name_or_columns : Any, optional\n        Name for Series or columns for DataFrame when setting data.\n    action : str, optional\n        Specifies the sub-action for 'get': 'as_array' or 'check_only' or 'keep_frame'. \n        - `as_array` converts data to Numpy array \n        - `check_only` checks only whether the data is passed as pandas Series or \n          DataFrame\n        - `keep_frame` keeps the dataframe but returns additionals frame attributes \n          like columns/name  and index. \n        Default is 'as_array'.\n    error : str, optional\n        Error handling strategy: 'passthrough', 'raise', or 'warn'. \n        Default is 'passthrough'.\n    index : bool, optional\n        Whether to include the index when getting or setting data. Default is None.\n\n    Returns\n    -------\n    Union[np.ndarray, pd.Series, pd.DataFrame, Tuple[np.ndarray, Any], bool]\n        Depending on the action, returns different types of results:\n        - If `todo` is 'get' and `action` is 'check_only': returns a boolean \n          indicating if the data is a pandas object.\n        - If `todo` is 'get' and `action` is 'as_array': returns the data as \n          a NumPy array along with the original pandas attributes.\n        - If `todo` is 'set': returns the data as a pandas Series or DataFrame.\n\n    Raises\n    ------\n    ValueError\n        If the 'todo' parameter is not 'get' or 'set'.\n        If 'name_or_columns' is None when setting data and action is not 'default'.\n    TypeError\n        If the data is not a pandas Series or DataFrame when expected.\n\n \n    Examples\n    --------\n    &gt;&gt;&gt; import numpy as np\n    &gt;&gt;&gt; import pandas as pd\n    &gt;""&gt;&gt; from gofast.tools.baseutils import pandas_manager\n\n    Get action with pandas DataFrame:\n    &gt;&gt;&gt; df = pd.DataFrame([[1, 2], [3, 4]], columns=['A', 'B'])\n    &gt;&gt;&gt; array, columns, index = pandas_manager(df, todo='get', action='as_array')\n    &gt;&gt;&gt; print(array)\n    [[1 2]\n     [3 4]]\n    &gt;&gt;&gt; print(columns)\n    Index(['A', 'B'], dtype='object')\n\n    Set action with 1D numpy array:\n    &gt;&gt;&gt; arr = np.array([1, 2, 3])\n    &gt;&gt;&gt; series = pandas_manager(arr, todo='set', name_or_columns='Value')\n    &gt;&gt;&gt; print(series)\n    0    1\n    1    2\n    2    3\n    Name: Value, dtype: int64\n\n    Set action with 2D numpy array:\n    &gt;&gt;&gt; arr_2d = np.array([[1, 2], [3, 4]])\n    &gt;&gt;&gt; df_2d = pandas_manager(arr_2d, todo='set', name_or_columns=['A', 'B'])\n    &gt;&gt;&gt; print(df_2d)\n       A  B\n    0  1  2\n    1  3  4\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_128pandas_manager = {"pandas_manager", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_128pandas_manager, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_127pandas_manager};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_128pandas_manager(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_data = 0;
  PyObject *__pyx_v_todo = 0;
  PyObject *__pyx_v_name_or_columns = 0;
  PyObject *__pyx_v_action = 0;
  PyObject *__pyx_v_error = 0;
  PyObject *__pyx_v_index = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("pandas_manager (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_data,&amp;__pyx_n_s_todo,&amp;__pyx_n_s_name_or_columns,&amp;__pyx_n_s_action,&amp;__pyx_n_s_error,&amp;__pyx_n_s_index,0};
  PyObject* values[6] = {0,0,0,0,0,0};
    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject*)((PyObject*)__pyx_n_u_get)));
/* â€¦ */
  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_127pandas_manager(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_data, PyObject *__pyx_v_todo, PyObject *__pyx_v_name_or_columns, PyObject *__pyx_v_action, PyObject *__pyx_v_error, PyObject *__pyx_v_index) {
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__140)
  <span class='trace'>__Pyx_TraceCall</span>("pandas_manager", __pyx_f[0], 4286, 0, <span class='error_goto'>__PYX_ERR(0, 4286, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_todo);
/* â€¦ */
  /* function exit code */
  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.pandas_manager", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_todo);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__236 = <span class='py_c_api'>PyTuple_Pack</span>(6, __pyx_n_s_data, __pyx_n_s_todo, __pyx_n_s_name_or_columns, __pyx_n_s_action, __pyx_n_s_error, __pyx_n_s_index);<span class='error_goto'> if (unlikely(!__pyx_tuple__236)) __PYX_ERR(0, 4286, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__236);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__236);
  __pyx_codeobj__140 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(6, 0, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__236, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_pandas_manager, 4286, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__140)) __PYX_ERR(0, 4286, __pyx_L1_error)</span>
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(4286,0,<span class='error_goto'>__PYX_ERR(0, 4286, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(7);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4286, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_data, __pyx_n_s_Any) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4286, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_todo, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4286, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_name_or_columns, __pyx_n_s_Any) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4286, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_action, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4286, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_error, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4286, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_index, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4286, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_return, __pyx_kp_s_Union_np_ndarray_Series_DataFram) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4286, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_128pandas_manager, 0, __pyx_n_s_pandas_manager, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__140));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4286, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_3, __pyx_tuple__237);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_3, __pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_pandas_manager, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4286, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_tuple__237 = <span class='py_c_api'>PyTuple_Pack</span>(5, ((PyObject*)__pyx_n_u_get), Py_None, ((PyObject*)__pyx_n_u_as_array), ((PyObject*)__pyx_n_u_passthrough), Py_None);<span class='error_goto'> if (unlikely(!__pyx_tuple__237)) __PYX_ERR(0, 4286, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__237);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__237);
</pre><pre class="cython line score-0">&#xA0;<span class="">4287</span>:     data: Any, todo: str = 'get',</pre>
<pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4288</span>:     name_or_columns: Any = None,</pre>
<pre class='cython code score-6 '>    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject*)((PyObject*)__pyx_n_u_as_array)));
    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject*)((PyObject*)__pyx_n_u_passthrough)));
</pre><pre class="cython line score-0">&#xA0;<span class="">4289</span>:     action: str = 'as_array',</pre>
<pre class="cython line score-0">&#xA0;<span class="">4290</span>:     error: str = 'passthrough',</pre>
<pre class="cython line score-96" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4291</span>:     index: bool = None</pre>
<pre class='cython code score-96 '>    values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4286, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_todo);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4286, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_name_or_columns);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4286, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_action);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4286, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_error);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4286, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  5:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_index);
          if (value) { values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4286, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "pandas_manager") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 4286, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_data = values[0];
    __pyx_v_todo = ((PyObject*)values[1]);
    __pyx_v_name_or_columns = values[2];
    __pyx_v_action = ((PyObject*)values[3]);
    __pyx_v_error = ((PyObject*)values[4]);
    __pyx_v_index = values[5];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("pandas_manager", 0, 1, 6, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 4286, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.pandas_manager", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_todo), (&amp;PyUnicode_Type), 0, "todo", 1))) <span class='error_goto'>__PYX_ERR(0, 4287, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_action), (&amp;PyUnicode_Type), 0, "action", 1))) <span class='error_goto'>__PYX_ERR(0, 4289, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_error), (&amp;PyUnicode_Type), 0, "error", 1))) <span class='error_goto'>__PYX_ERR(0, 4290, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_127pandas_manager(__pyx_self, __pyx_v_data, __pyx_v_todo, __pyx_v_name_or_columns, __pyx_v_action, __pyx_v_error, __pyx_v_index);
</pre><pre class="cython line score-0">&#xA0;<span class="">4292</span>: ) -&gt; Union[np.ndarray, Series, DataFrame, Tuple[np.ndarray, Any], bool]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">4293</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">4294</span>:     Manages pandas objects by getting or setting data, with error handling.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4295</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4296</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">4297</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">4298</span>:     data : Any</pre>
<pre class="cython line score-0">&#xA0;<span class="">4299</span>:         The input data which can be a numpy array, pandas Series, or DataFrame.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4300</span>:     todo : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">4301</span>:         Specifies the action to perform: 'get' or 'set'. Default is 'get'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4302</span>:     name_or_columns : Any, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">4303</span>:         Name for Series or columns for DataFrame when setting data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4304</span>:     action : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">4305</span>:         Specifies the sub-action for 'get': 'as_array' or 'check_only' or 'keep_frame'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4306</span>:         - `as_array` converts data to Numpy array</pre>
<pre class="cython line score-0">&#xA0;<span class="">4307</span>:         - `check_only` checks only whether the data is passed as pandas Series or</pre>
<pre class="cython line score-0">&#xA0;<span class="">4308</span>:           DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">4309</span>:         - `keep_frame` keeps the dataframe but returns additionals frame attributes</pre>
<pre class="cython line score-0">&#xA0;<span class="">4310</span>:           like columns/name  and index.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4311</span>:         Default is 'as_array'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4312</span>:     error : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">4313</span>:         Error handling strategy: 'passthrough', 'raise', or 'warn'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4314</span>:         Default is 'passthrough'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4315</span>:     index : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">4316</span>:         Whether to include the index when getting or setting data. Default is None.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4317</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4318</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">4319</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">4320</span>:     Union[np.ndarray, pd.Series, pd.DataFrame, Tuple[np.ndarray, Any], bool]</pre>
<pre class="cython line score-0">&#xA0;<span class="">4321</span>:         Depending on the action, returns different types of results:</pre>
<pre class="cython line score-0">&#xA0;<span class="">4322</span>:         - If `todo` is 'get' and `action` is 'check_only': returns a boolean</pre>
<pre class="cython line score-0">&#xA0;<span class="">4323</span>:           indicating if the data is a pandas object.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4324</span>:         - If `todo` is 'get' and `action` is 'as_array': returns the data as</pre>
<pre class="cython line score-0">&#xA0;<span class="">4325</span>:           a NumPy array along with the original pandas attributes.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4326</span>:         - If `todo` is 'set': returns the data as a pandas Series or DataFrame.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4327</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4328</span>:     Raises</pre>
<pre class="cython line score-0">&#xA0;<span class="">4329</span>:     ------</pre>
<pre class="cython line score-0">&#xA0;<span class="">4330</span>:     ValueError</pre>
<pre class="cython line score-0">&#xA0;<span class="">4331</span>:         If the 'todo' parameter is not 'get' or 'set'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4332</span>:         If 'name_or_columns' is None when setting data and action is not 'default'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4333</span>:     TypeError</pre>
<pre class="cython line score-0">&#xA0;<span class="">4334</span>:         If the data is not a pandas Series or DataFrame when expected.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4335</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4336</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4337</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">4338</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">4339</span>:     &gt;&gt;&gt; import numpy as np</pre>
<pre class="cython line score-0">&#xA0;<span class="">4340</span>:     &gt;&gt;&gt; import pandas as pd</pre>
<pre class="cython line score-0">&#xA0;<span class="">4341</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import pandas_manager</pre>
<pre class="cython line score-0">&#xA0;<span class="">4342</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4343</span>:     Get action with pandas DataFrame:</pre>
<pre class="cython line score-0">&#xA0;<span class="">4344</span>:     &gt;&gt;&gt; df = pd.DataFrame([[1, 2], [3, 4]], columns=['A', 'B'])</pre>
<pre class="cython line score-0">&#xA0;<span class="">4345</span>:     &gt;&gt;&gt; array, columns, index = pandas_manager(df, todo='get', action='as_array')</pre>
<pre class="cython line score-0">&#xA0;<span class="">4346</span>:     &gt;&gt;&gt; print(array)</pre>
<pre class="cython line score-0">&#xA0;<span class="">4347</span>:     [[1 2]</pre>
<pre class="cython line score-0">&#xA0;<span class="">4348</span>:      [3 4]]</pre>
<pre class="cython line score-0">&#xA0;<span class="">4349</span>:     &gt;&gt;&gt; print(columns)</pre>
<pre class="cython line score-0">&#xA0;<span class="">4350</span>:     Index(['A', 'B'], dtype='object')</pre>
<pre class="cython line score-0">&#xA0;<span class="">4351</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4352</span>:     Set action with 1D numpy array:</pre>
<pre class="cython line score-0">&#xA0;<span class="">4353</span>:     &gt;&gt;&gt; arr = np.array([1, 2, 3])</pre>
<pre class="cython line score-0">&#xA0;<span class="">4354</span>:     &gt;&gt;&gt; series = pandas_manager(arr, todo='set', name_or_columns='Value')</pre>
<pre class="cython line score-0">&#xA0;<span class="">4355</span>:     &gt;&gt;&gt; print(series)</pre>
<pre class="cython line score-0">&#xA0;<span class="">4356</span>:     0    1</pre>
<pre class="cython line score-0">&#xA0;<span class="">4357</span>:     1    2</pre>
<pre class="cython line score-0">&#xA0;<span class="">4358</span>:     2    3</pre>
<pre class="cython line score-0">&#xA0;<span class="">4359</span>:     Name: Value, dtype: int64</pre>
<pre class="cython line score-0">&#xA0;<span class="">4360</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4361</span>:     Set action with 2D numpy array:</pre>
<pre class="cython line score-0">&#xA0;<span class="">4362</span>:     &gt;&gt;&gt; arr_2d = np.array([[1, 2], [3, 4]])</pre>
<pre class="cython line score-0">&#xA0;<span class="">4363</span>:     &gt;&gt;&gt; df_2d = pandas_manager(arr_2d, todo='set', name_or_columns=['A', 'B'])</pre>
<pre class="cython line score-0">&#xA0;<span class="">4364</span>:     &gt;&gt;&gt; print(df_2d)</pre>
<pre class="cython line score-0">&#xA0;<span class="">4365</span>:        A  B</pre>
<pre class="cython line score-0">&#xA0;<span class="">4366</span>:     0  1  2</pre>
<pre class="cython line score-0">&#xA0;<span class="">4367</span>:     1  3  4</pre>
<pre class="cython line score-0">&#xA0;<span class="">4368</span>:     """</pre>
<pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4369</span>:     todo = todo.lower()</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(4369,0,<span class='error_goto'>__PYX_ERR(0, 4369, __pyx_L1_error)</span>)
  __pyx_t_1 = __Pyx_CallUnboundCMethod0(&amp;__pyx_umethod_PyUnicode_Type_lower, __pyx_v_todo);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4369, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  if (!(likely(<span class='py_c_api'>PyUnicode_CheckExact</span>(__pyx_t_1))||((__pyx_t_1) == Py_None) || <span class='pyx_c_api'>__Pyx_RaiseUnexpectedTypeError</span>("unicode", __pyx_t_1))) <span class='error_goto'>__PYX_ERR(0, 4369, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_todo, ((PyObject*)__pyx_t_1));
  __pyx_t_1 = 0;
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4370</span>:     if todo not in ('get', 'set'):</pre>
<pre class='cython code score-6 '>  <span class='trace'>__Pyx_TraceLine</span>(4370,0,<span class='error_goto'>__PYX_ERR(0, 4370, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_todo);
  __pyx_t_2 = __pyx_v_todo;
  __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_2, __pyx_n_u_get, Py_NE)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4370, __pyx_L1_error)</span>
  if (__pyx_t_4) {
  } else {
    __pyx_t_3 = __pyx_t_4;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_2, __pyx_n_u_set, Py_NE)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4370, __pyx_L1_error)</span>
  __pyx_t_3 = __pyx_t_4;
  __pyx_L4_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_4 = __pyx_t_3;
  if (unlikely(__pyx_t_4)) {
/* â€¦ */
  }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4371</span>:         raise ValueError("Invalid 'todo' parameter. Must be 'get' or 'set'.")</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(4371,0,<span class='error_goto'>__PYX_ERR(0, 4371, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__141, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4371, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_1, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='error_goto'>__PYX_ERR(0, 4371, __pyx_L1_error)</span>
/* â€¦ */
  __pyx_tuple__141 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Invalid_todo_parameter_Must_be_g);<span class='error_goto'> if (unlikely(!__pyx_tuple__141)) __PYX_ERR(0, 4371, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__141);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__141);
</pre><pre class="cython line score-0">&#xA0;<span class="">4372</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4373</span>:     if todo == 'get':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(4373,0,<span class='error_goto'>__PYX_ERR(0, 4373, __pyx_L1_error)</span>)
  __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_todo, __pyx_n_u_get, Py_EQ)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4373, __pyx_L1_error)</span>
  if (__pyx_t_4) {
/* â€¦ */
  }
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4374</span>:         return _handle_get_action(data, action, error)</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(4374,0,<span class='error_goto'>__PYX_ERR(0, 4374, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_handle_get_action);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4374, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_6 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[4] = {__pyx_t_6, __pyx_v_data, __pyx_v_action, __pyx_v_error};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_7, 3+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4374, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    __pyx_r = __pyx_t_1;
    __pyx_t_1 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4375</span>:     elif todo == 'set':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(4375,0,<span class='error_goto'>__PYX_ERR(0, 4375, __pyx_L1_error)</span>)
  __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_todo, __pyx_n_u_set, Py_EQ)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4375, __pyx_L1_error)</span>
  if (__pyx_t_4) {
/* â€¦ */
  }
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4376</span>:         return _handle_set_action(</pre>
<pre class='cython code score-3 '>    <span class='trace'>__Pyx_TraceLine</span>(4376,0,<span class='error_goto'>__PYX_ERR(0, 4376, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_handle_set_action);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4376, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
</pre><pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4377</span>:             data, name_or_columns, action , error, index)</pre>
<pre class='cython code score-14 '>    <span class='trace'>__Pyx_TraceLine</span>(4377,0,<span class='error_goto'>__PYX_ERR(0, 4377, __pyx_L1_error)</span>)
    __pyx_t_6 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[6] = {__pyx_t_6, __pyx_v_data, __pyx_v_name_or_columns, __pyx_v_action, __pyx_v_error, __pyx_v_index};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_7, 5+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4376, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    __pyx_r = __pyx_t_1;
    __pyx_t_1 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4378</span>: </pre>
<pre class="cython line score-89" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4379</span>: def make_df(</pre>
<pre class='cython code score-89 '>static PyObject *__pyx_pf_6gofast_5tools_9baseutils_135__defaults__(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceCall</span>("__defaults__", __pyx_f[0], 4379, 0, <span class='error_goto'>__PYX_ERR(0, 4379, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(4386,0,<span class='error_goto'>__PYX_ERR(0, 4386, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(7);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4379, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, Py_None)) <span class='error_goto'>__PYX_ERR(0, 4379, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, Py_None)) <span class='error_goto'>__PYX_ERR(0, 4379, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 2, Py_None)) <span class='error_goto'>__PYX_ERR(0, 4379, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(((PyObject *)Py_False));
  <span class='refnanny'>__Pyx_GIVEREF</span>(((PyObject *)Py_False));
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 3, ((PyObject *)Py_False))) <span class='error_goto'>__PYX_ERR(0, 4379, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(((PyObject*)__pyx_n_u_raise));
  <span class='refnanny'>__Pyx_GIVEREF</span>(((PyObject*)__pyx_n_u_raise));
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 4, ((PyObject*)__pyx_n_u_raise))) <span class='error_goto'>__PYX_ERR(0, 4379, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(<span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults2, __pyx_self)-&gt;__pyx_arg_fill_value);
  <span class='refnanny'>__Pyx_GIVEREF</span>(<span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults2, __pyx_self)-&gt;__pyx_arg_fill_value);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 5, <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults2, __pyx_self)-&gt;__pyx_arg_fill_value)) <span class='error_goto'>__PYX_ERR(0, 4379, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(((PyObject *)Py_False));
  <span class='refnanny'>__Pyx_GIVEREF</span>(((PyObject *)Py_False));
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 6, ((PyObject *)Py_False))) <span class='error_goto'>__PYX_ERR(0, 4379, __pyx_L1_error)</span>;
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(4379,0,<span class='error_goto'>__PYX_ERR(0, 4379, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4379, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4379, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, Py_None)) <span class='error_goto'>__PYX_ERR(0, 4379, __pyx_L1_error)</span>;
  __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.__defaults__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_130make_df(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_9baseutils_129make_df, "\n    Prepare a DataFrame from input data `X` and `y` with appropriate naming\n    conventions and length checks.\n\n    Parameters\n    ----------\n    X : array-like or DataFrame\n        Input features. If not a DataFrame, `X` will be converted into one with \n        column names generated using the `prefix` parameter.\n\n    y : array-like or Series, optional\n        Target values. If provided, `y` will be converted into a DataFrame. \n        If `y` is a 1D array and `target_names` is not given, 'target' will be \n        used as the default name. For a 2D array, `target_names` will be used \n        to name the columns.\n\n    prefix : str, optional\n        Prefix for feature column names if `X` is not a DataFrame. Default is 'feature_'.\n\n    target_names : list of str, optional\n        Names for target columns if `y` is 2D. If `target_names` is not provided, \n        columns will be named using 'target_' prefix.\n\n    coerce : bool, optional\n        Whether to coerce the lengths of `X` and `y` to match if they are inconsistent.\n        Default is False. If True and `len(X) &lt; len(y)`, `X` will be repeated to \n        match `y`'s length. If `len(y) &lt; len(X)`, `y` will be forward-filled to \n        match `X`'s length.\n\n    error : str, optional\n        Error handling strategy. Options are:\n        - 'raise': Raises an error if lengths of `X` and `y` are inconsistent \n          and `coerce` is False.\n        - 'warn': Issues a warning instead of raising an error.\n        - 'ignore': Ignores the inconsistency and proceeds. Default is 'raise'.\n\n    fill_value : scalar, optional\n        Value to use for filling missing values if `coerce` is True and \n        `len(y) &lt; len(X)`. Default is `np.nan`.\n\n    truncate_X : bool, optional\n        If True and `len(y) &lt; len(X)`, truncate `X` to match the length of `y`.\n        Default is False.\n\n    Returns\n    -------\n    DataFrame\n        Combined DataFrame with features and target(s).\n\n    ""Notes\n    -----\n    This function is useful for preparing data for machine learning tasks, \n    ensuring consistency between features and targets. The function handles \n    common issues such as inconsistent lengths and missing values, providing \n    options to coerce or truncate data as needed.\n\n    Examples\n    --------\n    &gt;&gt;&gt; from gofast.tools.baseutils import make_df\n    &gt;&gt;&gt; X = np.random.rand(90, 5)\n    &gt;&gt;&gt; y = np.random.rand(100)\n    &gt;&gt;&gt; df = make_data(X, y, coerce=True, error='ignore')\n    &gt;&gt;&gt; print(df.head())\n\n    See Also\n    --------\n    pd.DataFrame : Pandas DataFrame constructor.\n    np.asarray : Convert input to an array.\n\n    References\n    ----------\n    .. [1] Pandas Documentation: https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html\n    .. [2] NumPy Documentation: https://numpy.org/doc/stable/reference/generated/numpy.asarray.html\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_130make_df = {"make_df", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_130make_df, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_9baseutils_129make_df};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_130make_df(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_X = 0;
  PyObject *__pyx_v_y = 0;
  PyObject *__pyx_v_prefix = 0;
  PyObject *__pyx_v_target_names = 0;
  PyObject *__pyx_v_coerce = 0;
  PyObject *__pyx_v_error = 0;
  PyObject *__pyx_v_fill_value = 0;
  PyObject *__pyx_v_truncate_X = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("make_df (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_X,&amp;__pyx_n_s_y,&amp;__pyx_n_s_prefix,&amp;__pyx_n_s_target_names,&amp;__pyx_n_s_coerce,&amp;__pyx_n_s_error,&amp;__pyx_n_s_fill_value,&amp;__pyx_n_s_truncate_X,0};
  PyObject* values[8] = {0,0,0,0,0,0,0,0};
    __pyx_defaults2 *__pyx_dynamic_args = <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults2, __pyx_self);
/* â€¦ */
  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
static PyObject *__pyx_pf_6gofast_5tools_9baseutils_129make_df(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_X, PyObject *__pyx_v_y, PyObject *__pyx_v_prefix, PyObject *__pyx_v_target_names, PyObject *__pyx_v_coerce, PyObject *__pyx_v_error, PyObject *__pyx_v_fill_value, PyObject *__pyx_v_truncate_X) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_26_make_df *__pyx_cur_scope;
  PyObject *__pyx_v_to_dataframe = 0;
  PyObject *__pyx_v_msg = NULL;
  Py_ssize_t __pyx_v_multiplier;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__143)
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_26_make_df *)__pyx_tp_new_6gofast_5tools_9baseutils___pyx_scope_struct_26_make_df(__pyx_ptype_6gofast_5tools_9baseutils___pyx_scope_struct_26_make_df, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_26_make_df *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 4379, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  <span class='trace'>__Pyx_TraceCall</span>("make_df", __pyx_f[0], 4379, 0, <span class='error_goto'>__PYX_ERR(0, 4379, __pyx_L1_error)</span>);
  __pyx_cur_scope-&gt;__pyx_v_error = __pyx_v_error;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_error);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_v_error);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_prefix);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_names);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.make_df", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_to_dataframe);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_msg);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_X);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_y);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_prefix);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_target_names);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__238 = <span class='py_c_api'>PyTuple_Pack</span>(12, __pyx_n_s_X, __pyx_n_s_y, __pyx_n_s_prefix, __pyx_n_s_target_names, __pyx_n_s_coerce, __pyx_n_s_error, __pyx_n_s_fill_value, __pyx_n_s_truncate_X, __pyx_n_s_to_dataframe, __pyx_n_s_to_dataframe, __pyx_n_s_msg, __pyx_n_s_multiplier);<span class='error_goto'> if (unlikely(!__pyx_tuple__238)) __PYX_ERR(0, 4379, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__238);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__238);
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(4379,0,<span class='error_goto'>__PYX_ERR(0, 4379, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_130make_df, 0, __pyx_n_s_make_df, NULL, __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__143));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4379, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (!<span class='pyx_c_api'>__Pyx_CyFunction_InitDefaults</span>(__pyx_t_3, sizeof(__pyx_defaults2), 1)) <span class='error_goto'>__PYX_ERR(0, 4379, __pyx_L1_error)</span>
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4380</span>:     X, y=None,</pre>
<pre class='cython code score-2 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4381</span>:     prefix=None,</pre>
<pre class='cython code score-2 '>    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-124" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4382</span>:     target_names=None,</pre>
<pre class='cython code score-124 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_n_u_raise)));
    values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(__pyx_dynamic_args-&gt;__pyx_arg_fill_value);
    values[7] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  8: values[7] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 7);
        CYTHON_FALLTHROUGH;
        case  7: values[6] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 6);
        CYTHON_FALLTHROUGH;
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_X)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4379, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_y);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4379, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_prefix);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4379, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_target_names);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4379, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_coerce);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4379, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  5:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_error);
          if (value) { values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4379, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  6:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_fill_value);
          if (value) { values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4379, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  7:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_truncate_X);
          if (value) { values[7] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4379, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "make_df") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 4379, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  8: values[7] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 7);
        CYTHON_FALLTHROUGH;
        case  7: values[6] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 6);
        CYTHON_FALLTHROUGH;
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_X = values[0];
    __pyx_v_y = values[1];
    __pyx_v_prefix = values[2];
    __pyx_v_target_names = values[3];
    __pyx_v_coerce = values[4];
    __pyx_v_error = values[5];
    __pyx_v_fill_value = values[6];
    __pyx_v_truncate_X = values[7];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("make_df", 0, 1, 8, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 4379, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.make_df", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_129make_df(__pyx_self, __pyx_v_X, __pyx_v_y, __pyx_v_prefix, __pyx_v_target_names, __pyx_v_coerce, __pyx_v_error, __pyx_v_fill_value, __pyx_v_truncate_X);
</pre><pre class="cython line score-0">&#xA0;<span class="">4383</span>:     coerce=False,</pre>
<pre class="cython line score-0">&#xA0;<span class="">4384</span>:     error='raise',</pre>
<pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4385</span>:     fill_value=np.nan,</pre>
<pre class='cython code score-15 '>  <span class='trace'>__Pyx_TraceLine</span>(4385,0,<span class='error_goto'>__PYX_ERR(0, 4385, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4385, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_nan);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4385, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults2, __pyx_t_3)-&gt;__pyx_arg_fill_value = __pyx_t_4;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
  __pyx_t_4 = 0;
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsGetter</span>(__pyx_t_3, __pyx_pf_6gofast_5tools_9baseutils_135__defaults__);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_make_df, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4379, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4386</span>:     truncate_X=False</pre>
<pre class="cython line score-0">&#xA0;<span class="">4387</span>: ):</pre>
<pre class="cython line score-0">&#xA0;<span class="">4388</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">4389</span>:     Prepare a DataFrame from input data `X` and `y` with appropriate naming</pre>
<pre class="cython line score-0">&#xA0;<span class="">4390</span>:     conventions and length checks.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4391</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4392</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">4393</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">4394</span>:     X : array-like or DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">4395</span>:         Input features. If not a DataFrame, `X` will be converted into one with</pre>
<pre class="cython line score-0">&#xA0;<span class="">4396</span>:         column names generated using the `prefix` parameter.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4397</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4398</span>:     y : array-like or Series, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">4399</span>:         Target values. If provided, `y` will be converted into a DataFrame.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4400</span>:         If `y` is a 1D array and `target_names` is not given, 'target' will be</pre>
<pre class="cython line score-0">&#xA0;<span class="">4401</span>:         used as the default name. For a 2D array, `target_names` will be used</pre>
<pre class="cython line score-0">&#xA0;<span class="">4402</span>:         to name the columns.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4403</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4404</span>:     prefix : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">4405</span>:         Prefix for feature column names if `X` is not a DataFrame. Default is 'feature_'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4406</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4407</span>:     target_names : list of str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">4408</span>:         Names for target columns if `y` is 2D. If `target_names` is not provided,</pre>
<pre class="cython line score-0">&#xA0;<span class="">4409</span>:         columns will be named using 'target_' prefix.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4410</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4411</span>:     coerce : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">4412</span>:         Whether to coerce the lengths of `X` and `y` to match if they are inconsistent.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4413</span>:         Default is False. If True and `len(X) &lt; len(y)`, `X` will be repeated to</pre>
<pre class="cython line score-0">&#xA0;<span class="">4414</span>:         match `y`'s length. If `len(y) &lt; len(X)`, `y` will be forward-filled to</pre>
<pre class="cython line score-0">&#xA0;<span class="">4415</span>:         match `X`'s length.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4416</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4417</span>:     error : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">4418</span>:         Error handling strategy. Options are:</pre>
<pre class="cython line score-0">&#xA0;<span class="">4419</span>:         - 'raise': Raises an error if lengths of `X` and `y` are inconsistent</pre>
<pre class="cython line score-0">&#xA0;<span class="">4420</span>:           and `coerce` is False.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4421</span>:         - 'warn': Issues a warning instead of raising an error.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4422</span>:         - 'ignore': Ignores the inconsistency and proceeds. Default is 'raise'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4423</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4424</span>:     fill_value : scalar, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">4425</span>:         Value to use for filling missing values if `coerce` is True and</pre>
<pre class="cython line score-0">&#xA0;<span class="">4426</span>:         `len(y) &lt; len(X)`. Default is `np.nan`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4427</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4428</span>:     truncate_X : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">4429</span>:         If True and `len(y) &lt; len(X)`, truncate `X` to match the length of `y`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4430</span>:         Default is False.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4431</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4432</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">4433</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">4434</span>:     DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">4435</span>:         Combined DataFrame with features and target(s).</pre>
<pre class="cython line score-0">&#xA0;<span class="">4436</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4437</span>:     Notes</pre>
<pre class="cython line score-0">&#xA0;<span class="">4438</span>:     -----</pre>
<pre class="cython line score-0">&#xA0;<span class="">4439</span>:     This function is useful for preparing data for machine learning tasks,</pre>
<pre class="cython line score-0">&#xA0;<span class="">4440</span>:     ensuring consistency between features and targets. The function handles</pre>
<pre class="cython line score-0">&#xA0;<span class="">4441</span>:     common issues such as inconsistent lengths and missing values, providing</pre>
<pre class="cython line score-0">&#xA0;<span class="">4442</span>:     options to coerce or truncate data as needed.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4443</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4444</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">4445</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">4446</span>:     &gt;&gt;&gt; from gofast.tools.baseutils import make_df</pre>
<pre class="cython line score-0">&#xA0;<span class="">4447</span>:     &gt;&gt;&gt; X = np.random.rand(90, 5)</pre>
<pre class="cython line score-0">&#xA0;<span class="">4448</span>:     &gt;&gt;&gt; y = np.random.rand(100)</pre>
<pre class="cython line score-0">&#xA0;<span class="">4449</span>:     &gt;&gt;&gt; df = make_data(X, y, coerce=True, error='ignore')</pre>
<pre class="cython line score-0">&#xA0;<span class="">4450</span>:     &gt;&gt;&gt; print(df.head())</pre>
<pre class="cython line score-0">&#xA0;<span class="">4451</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4452</span>:     See Also</pre>
<pre class="cython line score-0">&#xA0;<span class="">4453</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">4454</span>:     pd.DataFrame : Pandas DataFrame constructor.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4455</span>:     np.asarray : Convert input to an array.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4456</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4457</span>:     References</pre>
<pre class="cython line score-0">&#xA0;<span class="">4458</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">4459</span>:     .. [1] Pandas Documentation: https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html</pre>
<pre class="cython line score-0">&#xA0;<span class="">4460</span>:     .. [2] NumPy Documentation: https://numpy.org/doc/stable/reference/generated/numpy.asarray.html</pre>
<pre class="cython line score-0">&#xA0;<span class="">4461</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">4462</span>: </pre>
<pre class="cython line score-94" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4463</span>:     def to_dataframe(data, prefix, default_name=None):</pre>
<pre class='cython code score-94 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_7make_df_1to_dataframe(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
static PyMethodDef __pyx_mdef_6gofast_5tools_9baseutils_7make_df_1to_dataframe = {"to_dataframe", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_9baseutils_7make_df_1to_dataframe, __Pyx_METH_FASTCALL|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_6gofast_5tools_9baseutils_7make_df_1to_dataframe(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_data = 0;
  PyObject *__pyx_v_prefix = 0;
  PyObject *__pyx_v_default_name = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("to_dataframe (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_data,&amp;__pyx_n_s_prefix,&amp;__pyx_n_s_default_name,0};
  PyObject* values[3] = {0,0,0};
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4463, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_prefix)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4463, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("to_dataframe", 0, 2, 3, 1); <span class='error_goto'>__PYX_ERR(0, 4463, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_default_name);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4463, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "to_dataframe") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 4463, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_data = values[0];
    __pyx_v_prefix = values[1];
    __pyx_v_default_name = values[2];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("to_dataframe", 0, 2, 3, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 4463, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.make_df.to_dataframe", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_9baseutils_7make_df_to_dataframe(__pyx_self, __pyx_v_data, __pyx_v_prefix, __pyx_v_default_name);

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_9baseutils_7make_df_to_dataframe(PyObject *__pyx_self, PyObject *__pyx_v_data, PyObject *__pyx_v_prefix, PyObject *__pyx_v_default_name) {
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_26_make_df *__pyx_cur_scope;
  struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_26_make_df *__pyx_outer_scope;
  PyObject *__pyx_v_column_names = NULL;
  PyObject *__pyx_9genexpr44__pyx_v_i = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_outer_scope = (struct __pyx_obj_6gofast_5tools_9baseutils___pyx_scope_struct_26_make_df *) <span class='pyx_c_api'>__Pyx_CyFunction_GetClosure</span>(__pyx_self);
  __pyx_cur_scope = __pyx_outer_scope;
  <span class='trace'>__Pyx_TraceCall</span>("to_dataframe", __pyx_f[0], 4463, 0, <span class='error_goto'>__PYX_ERR(0, 4463, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_default_name);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.baseutils.make_df.to_dataframe", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_column_names);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr44__pyx_v_i);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_data);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_default_name);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/* â€¦ */
  __pyx_tuple__144 = <span class='py_c_api'>PyTuple_Pack</span>(5, __pyx_n_s_data, __pyx_n_s_prefix, __pyx_n_s_default_name, __pyx_n_s_column_names, __pyx_n_s_i);<span class='error_goto'> if (unlikely(!__pyx_tuple__144)) __PYX_ERR(0, 4463, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__144);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__144);
  __pyx_codeobj__145 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(3, 0, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__144, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_baseutils_pyx, __pyx_n_s_to_dataframe, 4463, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__145)) __PYX_ERR(0, 4463, __pyx_L1_error)</span>
/* â€¦ */
  <span class='trace'>__Pyx_TraceLine</span>(4463,0,<span class='error_goto'>__PYX_ERR(0, 4463, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_9baseutils_7make_df_1to_dataframe, 0, __pyx_n_s_make_df_locals_to_dataframe, ((PyObject*)__pyx_cur_scope), __pyx_n_s_gofast_tools_baseutils, __pyx_d, ((PyObject *)__pyx_codeobj__145));<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4463, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_1, __pyx_tuple__146);
  __pyx_v_to_dataframe = __pyx_t_1;
  __pyx_t_1 = 0;
  __pyx_tuple__146 = <span class='py_c_api'>PyTuple_Pack</span>(1, Py_None);<span class='error_goto'> if (unlikely(!__pyx_tuple__146)) __PYX_ERR(0, 4463, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__146);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__146);
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4464</span>:         if isinstance(data, pd.DataFrame):</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(4464,0,<span class='error_goto'>__PYX_ERR(0, 4464, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4464, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4464, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data, __pyx_t_2);<span class='error_goto'> if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(0, 4464, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_3) {
/* â€¦ */
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4465</span>:             return data</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(4465,0,<span class='error_goto'>__PYX_ERR(0, 4465, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
    __pyx_r = __pyx_v_data;
    goto __pyx_L0;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4466</span>:         if isinstance(data, pd.Series):</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(4466,0,<span class='error_goto'>__PYX_ERR(0, 4466, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4466, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4466, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_3 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data, __pyx_t_1);<span class='error_goto'> if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(0, 4466, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_3) {
/* â€¦ */
  }
</pre><pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4467</span>:             return data.to_frame(name=default_name)</pre>
<pre class='cython code score-14 '>    <span class='trace'>__Pyx_TraceLine</span>(4467,0,<span class='error_goto'>__PYX_ERR(0, 4467, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_to_frame);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4467, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4467, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_name, __pyx_v_default_name) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4467, __pyx_L1_error)</span>
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_empty_tuple, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4467, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_r = __pyx_t_4;
    __pyx_t_4 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4468</span>:         data = np.asarray(data)</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(4468,0,<span class='error_goto'>__PYX_ERR(0, 4468, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4468, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_asarray);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4468, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_data};
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 4468, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_data, __pyx_t_4);
  __pyx_t_4 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4469</span>:         if data.ndim == 1:</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(4469,0,<span class='error_goto'>__PYX_ERR(0, 4469, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_ndim);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4469, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyInt_BoolEqObjC</span>(__pyx_t_4, __pyx_int_1, 1, 0)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4469, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (__pyx_t_3) {
/* â€¦ */
  }
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4470</span>:             default_name ='feature' if default_name=='feature_' else default_name</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(4470,0,<span class='error_goto'>__PYX_ERR(0, 4470, __pyx_L1_error)</span>)
    __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_default_name, __pyx_n_u_feature, Py_EQ)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4470, __pyx_L1_error)</span>
    if (__pyx_t_3) {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_feature_2);
      __pyx_t_4 = __pyx_n_u_feature_2;
    } else {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_default_name);
      __pyx_t_4 = __pyx_v_default_name;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_default_name, __pyx_t_4);
    __pyx_t_4 = 0;
</pre><pre class="cython line score-35" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4471</span>:             return pd.DataFrame(data, columns=[default_name])</pre>
<pre class='cython code score-35 '>    <span class='trace'>__Pyx_TraceLine</span>(4471,0,<span class='error_goto'>__PYX_ERR(0, 4471, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4471, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4471, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4471, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_v_data)) <span class='error_goto'>__PYX_ERR(0, 4471, __pyx_L1_error)</span>;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4471, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_6 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4471, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_default_name);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_default_name);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_6, 0, __pyx_v_default_name)) <span class='error_goto'>__PYX_ERR(0, 4471, __pyx_L1_error)</span>;
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_columns, __pyx_t_6) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4471, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_4, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4471, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_r = __pyx_t_6;
    __pyx_t_6 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-76" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4472</span>:         column_names = [f"{prefix}{i}" for i in range(data.shape[1])]</pre>
<pre class='cython code score-76 '>  <span class='trace'>__Pyx_TraceLine</span>(4472,0,<span class='error_goto'>__PYX_ERR(0, 4472, __pyx_L1_error)</span>)
  { /* enter inner scope */
    __pyx_t_6 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4472, __pyx_L8_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4472, __pyx_L8_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_2, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4472, __pyx_L8_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_range, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4472, __pyx_L8_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_2)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_2)) {
      __pyx_t_4 = __pyx_t_2; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
      __pyx_t_7 = 0;
      __pyx_t_8 = NULL;
    } else {
      __pyx_t_7 = -1; __pyx_t_4 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4472, __pyx_L8_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 4472, __pyx_L8_error)</span>
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    for (;;) {
      if (likely(!__pyx_t_8)) {
        if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_4))) {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_4);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4472, __pyx_L8_error)</span>
            #endif
            if (__pyx_t_7 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_4, __pyx_t_7); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_7++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4472, __pyx_L8_error)</span>
          #else
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_4, __pyx_t_7); __pyx_t_7++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4472, __pyx_L8_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          #endif
        } else {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_4);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4472, __pyx_L8_error)</span>
            #endif
            if (__pyx_t_7 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_4, __pyx_t_7); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_7++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4472, __pyx_L8_error)</span>
          #else
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_4, __pyx_t_7); __pyx_t_7++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4472, __pyx_L8_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          #endif
        }
      } else {
        __pyx_t_2 = __pyx_t_8(__pyx_t_4);
        if (unlikely(!__pyx_t_2)) {
          PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
          if (exc_type) {
            if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
            else <span class='error_goto'>__PYX_ERR(0, 4472, __pyx_L8_error)</span>
          }
          break;
        }
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      }
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr44__pyx_v_i, __pyx_t_2);
      __pyx_t_2 = 0;
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_prefix, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4472, __pyx_L8_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_9genexpr44__pyx_v_i, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4472, __pyx_L8_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyUnicode_ConcatInPlace</span>(__pyx_t_2, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4472, __pyx_L8_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_6, (PyObject*)__pyx_t_9))) <span class='error_goto'>__PYX_ERR(0, 4472, __pyx_L8_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr44__pyx_v_i); __pyx_9genexpr44__pyx_v_i = 0;
    goto __pyx_L12_exit_scope;
    __pyx_L8_error:;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr44__pyx_v_i); __pyx_9genexpr44__pyx_v_i = 0;
    goto __pyx_L1_error;
    __pyx_L12_exit_scope:;
  } /* exit inner scope */
  __pyx_v_column_names = ((PyObject*)__pyx_t_6);
  __pyx_t_6 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4473</span>: </pre>
<pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4474</span>:         default_name = column_names if (</pre>
<pre class='cython code score-1 '>    <span class='trace'>__Pyx_TraceLine</span>(4474,0,<span class='error_goto'>__PYX_ERR(0, 4474, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_column_names);
    __pyx_t_6 = __pyx_v_column_names;
  } else {
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4475</span>:             default_name is None or default_name == f'{prefix}') else default_name</pre>
<pre class='cython code score-7 '>  <span class='trace'>__Pyx_TraceLine</span>(4475,0,<span class='error_goto'>__PYX_ERR(0, 4475, __pyx_L1_error)</span>)
  __pyx_t_10 = (__pyx_v_default_name == Py_None);
  if (!__pyx_t_10) {
  } else {
    __pyx_t_3 = __pyx_t_10;
    goto __pyx_L13_bool_binop_done;
  }
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_prefix, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4475, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_10 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_default_name, __pyx_t_4, Py_EQ)); if (unlikely((__pyx_t_10 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4475, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_3 = __pyx_t_10;
  __pyx_L13_bool_binop_done:;
  if (__pyx_t_3) {
/* â€¦ */
    <span class='trace'>__Pyx_TraceLine</span>(4475,0,<span class='error_goto'>__PYX_ERR(0, 4475, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_default_name);
    __pyx_t_6 = __pyx_v_default_name;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_default_name, __pyx_t_6);
  __pyx_t_6 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4476</span>: </pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4477</span>:         if isinstance(default_name, str):</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(4477,0,<span class='error_goto'>__PYX_ERR(0, 4477, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_default_name); 
  if (__pyx_t_3) {
/* â€¦ */
  }
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4478</span>:             default_name = [default_name]</pre>
<pre class='cython code score-9 '>    <span class='trace'>__Pyx_TraceLine</span>(4478,0,<span class='error_goto'>__PYX_ERR(0, 4478, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4478, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_default_name);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_default_name);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_6, 0, __pyx_v_default_name)) <span class='error_goto'>__PYX_ERR(0, 4478, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_default_name, __pyx_t_6);
    __pyx_t_6 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4479</span>: </pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4480</span>:         if isinstance(default_name, (list, tuple)) and len(default_name) != len(column_names):</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(4480,0,<span class='error_goto'>__PYX_ERR(0, 4480, __pyx_L1_error)</span>)
  __pyx_t_11 = <span class='py_c_api'>PyList_Check</span>(__pyx_v_default_name); 
  if (!__pyx_t_11) {
  } else {
    __pyx_t_10 = __pyx_t_11;
    goto __pyx_L19_bool_binop_done;
  }
  __pyx_t_11 = <span class='py_c_api'>PyTuple_Check</span>(__pyx_v_default_name); 
  __pyx_t_10 = __pyx_t_11;
  __pyx_L19_bool_binop_done:;
  if (__pyx_t_10) {
  } else {
    __pyx_t_3 = __pyx_t_10;
    goto __pyx_L17_bool_binop_done;
  }
  __pyx_t_7 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_default_name);<span class='error_goto'> if (unlikely(__pyx_t_7 == ((Py_ssize_t)-1))) __PYX_ERR(0, 4480, __pyx_L1_error)</span>
  __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_v_column_names);<span class='error_goto'> if (unlikely(__pyx_t_12 == ((Py_ssize_t)-1))) __PYX_ERR(0, 4480, __pyx_L1_error)</span>
  __pyx_t_10 = (__pyx_t_7 != __pyx_t_12);
  __pyx_t_3 = __pyx_t_10;
  __pyx_L17_bool_binop_done:;
  if (__pyx_t_3) {
/* â€¦ */
  }
</pre><pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4481</span>:             if error == 'warn':</pre>
<pre class='cython code score-4 '>    <span class='trace'>__Pyx_TraceLine</span>(4481,0,<span class='error_goto'>__PYX_ERR(0, 4481, __pyx_L1_error)</span>)
    if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_error)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("error"); <span class='error_goto'>__PYX_ERR(0, 4481, __pyx_L1_error)</span> }
    __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_cur_scope-&gt;__pyx_v_error, __pyx_n_u_warn, Py_EQ)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4481, __pyx_L1_error)</span>
    if (__pyx_t_3) {
/* â€¦ */
      goto __pyx_L21;
    }
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4482</span>:                 warnings.warn("Provided default names must match the number"</pre>
<pre class='cython code score-20 '>      <span class='trace'>__Pyx_TraceLine</span>(4482,0,<span class='error_goto'>__PYX_ERR(0, 4482, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_warnings);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4482, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_warn);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4482, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_4 = NULL;
      __pyx_t_5 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
        __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
        if (likely(__pyx_t_4)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
          __pyx_t_5 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_kp_u_Provided_default_names_must_matc};
        __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 4482, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4483</span>:                               " of columns in data. Using generated names instead.")</pre>
<pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4484</span>:             elif error == 'raise':</pre>
<pre class='cython code score-4 '>    <span class='trace'>__Pyx_TraceLine</span>(4484,0,<span class='error_goto'>__PYX_ERR(0, 4484, __pyx_L1_error)</span>)
    if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_error)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("error"); <span class='error_goto'>__PYX_ERR(0, 4484, __pyx_L1_error)</span> }
    __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_cur_scope-&gt;__pyx_v_error, __pyx_n_u_raise, Py_EQ)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4484, __pyx_L1_error)</span>
    if (unlikely(__pyx_t_3)) {
/* â€¦ */
    }
    __pyx_L21:;
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4485</span>:                 raise ValueError("Provided default names must match the number of columns in data.")</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(4485,0,<span class='error_goto'>__PYX_ERR(0, 4485, __pyx_L1_error)</span>)
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__142, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4485, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_6, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='error_goto'>__PYX_ERR(0, 4485, __pyx_L1_error)</span>
/* â€¦ */
  __pyx_tuple__142 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Provided_default_names_must_matc_2);<span class='error_goto'> if (unlikely(!__pyx_tuple__142)) __PYX_ERR(0, 4485, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__142);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__142);
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4486</span>:             default_name = column_names</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(4486,0,<span class='error_goto'>__PYX_ERR(0, 4486, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_column_names);
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_default_name, __pyx_v_column_names);
</pre><pre class="cython line score-0">&#xA0;<span class="">4487</span>: </pre>
<pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4488</span>:         return pd.DataFrame(data, columns=default_name)</pre>
<pre class='cython code score-26 '>  <span class='trace'>__Pyx_TraceLine</span>(4488,0,<span class='error_goto'>__PYX_ERR(0, 4488, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4488, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4488, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4488, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_v_data)) <span class='error_goto'>__PYX_ERR(0, 4488, __pyx_L1_error)</span>;
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4488, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_columns, __pyx_v_default_name) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4488, __pyx_L1_error)</span>
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_9, __pyx_t_6, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4488, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4489</span>: </pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4490</span>:     prefix = prefix or 'feature_'</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(4490,0,<span class='error_goto'>__PYX_ERR(0, 4490, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_prefix); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4490, __pyx_L1_error)</span>
  if (!__pyx_t_2) {
  } else {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_prefix);
    __pyx_t_1 = __pyx_v_prefix;
    goto __pyx_L3_bool_binop_done;
  }
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_feature);
  __pyx_t_1 = __pyx_n_u_feature;
  __pyx_L3_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_prefix, __pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4491</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4492</span>:     # Convert X to DataFrame</pre>
<pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4493</span>:     X = to_dataframe(X, prefix, f"{prefix}")</pre>
<pre class='cython code score-4 '>  <span class='trace'>__Pyx_TraceLine</span>(4493,0,<span class='error_goto'>__PYX_ERR(0, 4493, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_prefix, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4493, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = __pyx_pf_6gofast_5tools_9baseutils_7make_df_to_dataframe(__pyx_v_to_dataframe, __pyx_v_X, __pyx_v_prefix, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4493, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_X, __pyx_t_3);
  __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4494</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4495</span>:     # Convert y to DataFrame if it is provided</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4496</span>:     if y is not None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(4496,0,<span class='error_goto'>__PYX_ERR(0, 4496, __pyx_L1_error)</span>)
  __pyx_t_2 = (__pyx_v_y != Py_None);
  if (__pyx_t_2) {
/* â€¦ */
  }
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4497</span>:         if isinstance(target_names, str):</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(4497,0,<span class='error_goto'>__PYX_ERR(0, 4497, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_target_names); 
    if (__pyx_t_2) {
/* â€¦ */
    }
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4498</span>:             target_names = [target_names]</pre>
<pre class='cython code score-9 '>      <span class='trace'>__Pyx_TraceLine</span>(4498,0,<span class='error_goto'>__PYX_ERR(0, 4498, __pyx_L1_error)</span>)
      __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4498, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_names);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target_names);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_target_names)) <span class='error_goto'>__PYX_ERR(0, 4498, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_target_names, __pyx_t_3);
      __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4499</span>: </pre>
<pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4500</span>:         y = to_dataframe(y, 'target_', target_names if target_names else 'target')</pre>
<pre class='cython code score-6 '>    <span class='trace'>__Pyx_TraceLine</span>(4500,0,<span class='error_goto'>__PYX_ERR(0, 4500, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_target_names); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4500, __pyx_L1_error)</span>
    if (__pyx_t_2) {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_names);
      __pyx_t_3 = __pyx_v_target_names;
    } else {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_target);
      __pyx_t_3 = __pyx_n_u_target;
    }
    __pyx_t_1 = __pyx_pf_6gofast_5tools_9baseutils_7make_df_to_dataframe(__pyx_v_to_dataframe, __pyx_v_y, __pyx_n_u_target_2, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4500, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_y, __pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4501</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4502</span>:     # Check for length consistency</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4503</span>:     if y is not None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(4503,0,<span class='error_goto'>__PYX_ERR(0, 4503, __pyx_L1_error)</span>)
  __pyx_t_2 = (__pyx_v_y != Py_None);
  if (__pyx_t_2) {
/* â€¦ */
  }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4504</span>:         if len(X) != len(y):</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(4504,0,<span class='error_goto'>__PYX_ERR(0, 4504, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_X);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(0, 4504, __pyx_L1_error)</span>
    __pyx_t_5 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_y);<span class='error_goto'> if (unlikely(__pyx_t_5 == ((Py_ssize_t)-1))) __PYX_ERR(0, 4504, __pyx_L1_error)</span>
    __pyx_t_2 = (__pyx_t_4 != __pyx_t_5);
    if (__pyx_t_2) {
/* â€¦ */
    }
</pre><pre class="cython line score-34" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4505</span>:             msg = f"Inconsistent lengths: len(X)={len(X)}, len(y)={len(y)}."</pre>
<pre class='cython code score-34 '>      <span class='trace'>__Pyx_TraceLine</span>(4505,0,<span class='error_goto'>__PYX_ERR(0, 4505, __pyx_L1_error)</span>)
      __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4505, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_5 = 0;
      __pyx_t_6 = 127;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Inconsistent_lengths_len_X);
      __pyx_t_5 += 29;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Inconsistent_lengths_len_X);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_kp_u_Inconsistent_lengths_len_X);
      __pyx_t_4 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_X);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(0, 4505, __pyx_L1_error)</span>
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyUnicode_From_Py_ssize_t</span>(__pyx_t_4, 0, ' ', 'd');<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4505, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_5 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_3);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_t_3);
      __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_len_y);
      __pyx_t_5 += 9;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_len_y);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 2, __pyx_kp_u_len_y);
      __pyx_t_4 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_y);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(0, 4505, __pyx_L1_error)</span>
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyUnicode_From_Py_ssize_t</span>(__pyx_t_4, 0, ' ', 'd');<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4505, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_5 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_3);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 3, __pyx_t_3);
      __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__2);
      __pyx_t_5 += 1;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__2);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 4, __pyx_kp_u__2);
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_1, 5, __pyx_t_5, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4505, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_v_msg = ((PyObject*)__pyx_t_3);
      __pyx_t_3 = 0;
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4506</span>:             if len(X) &lt; len(y):</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(4506,0,<span class='error_goto'>__PYX_ERR(0, 4506, __pyx_L1_error)</span>)
      __pyx_t_5 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_X);<span class='error_goto'> if (unlikely(__pyx_t_5 == ((Py_ssize_t)-1))) __PYX_ERR(0, 4506, __pyx_L1_error)</span>
      __pyx_t_4 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_y);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(0, 4506, __pyx_L1_error)</span>
      __pyx_t_2 = (__pyx_t_5 &lt; __pyx_t_4);
      if (__pyx_t_2) {
/* â€¦ */
        goto __pyx_L9;
      }
</pre><pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4507</span>:                 if error == 'raise' and not coerce:</pre>
<pre class='cython code score-4 '>        <span class='trace'>__Pyx_TraceLine</span>(4507,0,<span class='error_goto'>__PYX_ERR(0, 4507, __pyx_L1_error)</span>)
        __pyx_t_7 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_cur_scope-&gt;__pyx_v_error, __pyx_n_u_raise, Py_EQ)); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4507, __pyx_L1_error)</span>
        if (__pyx_t_7) {
        } else {
          __pyx_t_2 = __pyx_t_7;
          goto __pyx_L11_bool_binop_done;
        }
        __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_coerce); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4507, __pyx_L1_error)</span>
        __pyx_t_8 = (!__pyx_t_7);
        __pyx_t_2 = __pyx_t_8;
        __pyx_L11_bool_binop_done:;
        if (unlikely(__pyx_t_2)) {
/* â€¦ */
        }
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4508</span>:                     raise ValueError(msg)</pre>
<pre class='cython code score-5 '>          <span class='trace'>__Pyx_TraceLine</span>(4508,0,<span class='error_goto'>__PYX_ERR(0, 4508, __pyx_L1_error)</span>)
          __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_v_msg);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4508, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_3, 0, 0, 0);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          <span class='error_goto'>__PYX_ERR(0, 4508, __pyx_L1_error)</span>
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4509</span>:                 elif coerce:</pre>
<pre class='cython code score-2 '>        <span class='trace'>__Pyx_TraceLine</span>(4509,0,<span class='error_goto'>__PYX_ERR(0, 4509, __pyx_L1_error)</span>)
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_coerce); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4509, __pyx_L1_error)</span>
        if (__pyx_t_2) {
/* â€¦ */
          goto __pyx_L10;
        }
</pre><pre class="cython line score-21" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4510</span>:                     multiplier = (len(y) // len(X)) + 1</pre>
<pre class='cython code score-21 '>          <span class='trace'>__Pyx_TraceLine</span>(4510,0,<span class='error_goto'>__PYX_ERR(0, 4510, __pyx_L1_error)</span>)
          __pyx_t_4 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_y);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(0, 4510, __pyx_L1_error)</span>
          __pyx_t_5 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_X);<span class='error_goto'> if (unlikely(__pyx_t_5 == ((Py_ssize_t)-1))) __PYX_ERR(0, 4510, __pyx_L1_error)</span>
          if (unlikely(__pyx_t_5 == 0)) {
            <span class='py_c_api'>PyErr_SetString</span>(PyExc_ZeroDivisionError, "integer division or modulo by zero");
            <span class='error_goto'>__PYX_ERR(0, 4510, __pyx_L1_error)</span>
          }
          else if (sizeof(Py_ssize_t) == sizeof(long) &amp;&amp; (!(((Py_ssize_t)-1) &gt; 0)) &amp;&amp; unlikely(__pyx_t_5 == (Py_ssize_t)-1)  &amp;&amp; unlikely(<span class='pyx_macro_api'>__Pyx_UNARY_NEG_WOULD_OVERFLOW</span>(__pyx_t_4))) {
            <span class='py_c_api'>PyErr_SetString</span>(PyExc_OverflowError, "value too large to perform division");
            <span class='error_goto'>__PYX_ERR(0, 4510, __pyx_L1_error)</span>
          }
          __pyx_v_multiplier = (__Pyx_div_Py_ssize_t(__pyx_t_4, __pyx_t_5) + 1);
</pre><pre class="cython line score-54" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4511</span>:                     X = pd.concat([X] * multiplier).reset_index(drop=True).iloc[:len(y)]</pre>
<pre class='cython code score-54 '>          <span class='trace'>__Pyx_TraceLine</span>(4511,0,<span class='error_goto'>__PYX_ERR(0, 4511, __pyx_L1_error)</span>)
          <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4511, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_concat);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4511, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(1 * ((__pyx_v_multiplier&lt;0) ? 0:__pyx_v_multiplier));<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4511, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          { Py_ssize_t __pyx_temp;
            for (__pyx_temp=0; __pyx_temp &lt; __pyx_v_multiplier; __pyx_temp++) {
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
              <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X);
              if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, __pyx_temp, __pyx_v_X)) <span class='error_goto'>__PYX_ERR(0, 4511, __pyx_L1_error)</span>;
            }
          }
          __pyx_t_10 = NULL;
          __pyx_t_11 = 0;
          #if CYTHON_UNPACK_METHODS
          if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
            __pyx_t_10 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
            if (likely(__pyx_t_10)) {
              PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_10);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
              <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
              __pyx_t_11 = 1;
            }
          }
          #endif
          {
            PyObject *__pyx_callargs[2] = {__pyx_t_10, __pyx_t_1};
            __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_11, 1+__pyx_t_11);
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
            if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 4511, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
          }
          __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_reset_index);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4511, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4511, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_drop, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4511, __pyx_L1_error)</span>
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_9, __pyx_empty_tuple, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4511, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_iloc);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4511, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          __pyx_t_5 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_y);<span class='error_goto'> if (unlikely(__pyx_t_5 == ((Py_ssize_t)-1))) __PYX_ERR(0, 4511, __pyx_L1_error)</span>
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetSlice</span>(__pyx_t_3, 0, __pyx_t_5, NULL, NULL, NULL, 0, 1, 1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4511, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_X, __pyx_t_1);
          __pyx_t_1 = 0;
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4512</span>:                     warnings.warn(f"{msg} Coercing X to match y length.")</pre>
<pre class='cython code score-23 '>          <span class='trace'>__Pyx_TraceLine</span>(4512,0,<span class='error_goto'>__PYX_ERR(0, 4512, __pyx_L1_error)</span>)
          <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_warnings);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4512, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_warn);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4512, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_v_msg, __pyx_kp_u_Coercing_X_to_match_y_length);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4512, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          __pyx_t_10 = NULL;
          __pyx_t_11 = 0;
          #if CYTHON_UNPACK_METHODS
          if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
            __pyx_t_10 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
            if (likely(__pyx_t_10)) {
              PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_10);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
              <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
              __pyx_t_11 = 1;
            }
          }
          #endif
          {
            PyObject *__pyx_callargs[2] = {__pyx_t_10, __pyx_t_3};
            __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_11, 1+__pyx_t_11);
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
            if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4512, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
          }
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4513</span>:                 elif error == 'ignore':</pre>
<pre class='cython code score-2 '>        <span class='trace'>__Pyx_TraceLine</span>(4513,0,<span class='error_goto'>__PYX_ERR(0, 4513, __pyx_L1_error)</span>)
        __pyx_t_2 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_cur_scope-&gt;__pyx_v_error, __pyx_n_u_ignore, Py_EQ)); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4513, __pyx_L1_error)</span>
        if (__pyx_t_2) {
        }
        __pyx_L10:;
</pre><pre class="cython line score-0">&#xA0;<span class="">4514</span>:                     pass</pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4515</span>:             elif len(y) &lt; len(X):</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(4515,0,<span class='error_goto'>__PYX_ERR(0, 4515, __pyx_L1_error)</span>)
      __pyx_t_5 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_y);<span class='error_goto'> if (unlikely(__pyx_t_5 == ((Py_ssize_t)-1))) __PYX_ERR(0, 4515, __pyx_L1_error)</span>
      __pyx_t_4 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_X);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(0, 4515, __pyx_L1_error)</span>
      __pyx_t_2 = (__pyx_t_5 &lt; __pyx_t_4);
      if (__pyx_t_2) {
/* â€¦ */
      }
      __pyx_L9:;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4516</span>:                 if truncate_X:</pre>
<pre class='cython code score-2 '>        <span class='trace'>__Pyx_TraceLine</span>(4516,0,<span class='error_goto'>__PYX_ERR(0, 4516, __pyx_L1_error)</span>)
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_truncate_X); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4516, __pyx_L1_error)</span>
        if (__pyx_t_2) {
/* â€¦ */
          goto __pyx_L13;
        }
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4517</span>:                     X = X.iloc[:len(y)]</pre>
<pre class='cython code score-11 '>          <span class='trace'>__Pyx_TraceLine</span>(4517,0,<span class='error_goto'>__PYX_ERR(0, 4517, __pyx_L1_error)</span>)
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_iloc);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4517, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          __pyx_t_4 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_y);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(0, 4517, __pyx_L1_error)</span>
          __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetSlice</span>(__pyx_t_1, 0, __pyx_t_4, NULL, NULL, NULL, 0, 1, 1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4517, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_X, __pyx_t_9);
          __pyx_t_9 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4518</span>:                     if error =='warn':</pre>
<pre class='cython code score-2 '>          <span class='trace'>__Pyx_TraceLine</span>(4518,0,<span class='error_goto'>__PYX_ERR(0, 4518, __pyx_L1_error)</span>)
          __pyx_t_2 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_cur_scope-&gt;__pyx_v_error, __pyx_n_u_warn, Py_EQ)); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4518, __pyx_L1_error)</span>
          if (__pyx_t_2) {
/* â€¦ */
          }
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4519</span>:                         warnings.warn(f"{msg} Truncating X to match y length.")</pre>
<pre class='cython code score-23 '>            <span class='trace'>__Pyx_TraceLine</span>(4519,0,<span class='error_goto'>__PYX_ERR(0, 4519, __pyx_L1_error)</span>)
            <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_warnings);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4519, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
            __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_warn);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4519, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
            __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_v_msg, __pyx_kp_u_Truncating_X_to_match_y_length);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4519, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
            __pyx_t_10 = NULL;
            __pyx_t_11 = 0;
            #if CYTHON_UNPACK_METHODS
            if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
              __pyx_t_10 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
              if (likely(__pyx_t_10)) {
                PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
                <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_10);
                <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
                <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
                __pyx_t_11 = 1;
              }
            }
            #endif
            {
              PyObject *__pyx_callargs[2] = {__pyx_t_10, __pyx_t_1};
              __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_11, 1+__pyx_t_11);
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
              if (unlikely(!__pyx_t_9)) <span class='error_goto'>__PYX_ERR(0, 4519, __pyx_L1_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
            }
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4520</span>:                 elif coerce:</pre>
<pre class='cython code score-2 '>        <span class='trace'>__Pyx_TraceLine</span>(4520,0,<span class='error_goto'>__PYX_ERR(0, 4520, __pyx_L1_error)</span>)
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_coerce); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4520, __pyx_L1_error)</span>
        if (likely(__pyx_t_2)) {
/* â€¦ */
          goto __pyx_L13;
        }
</pre><pre class="cython line score-52" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4521</span>:                     y = y.reindex(np.arange(len(X)), method='ffill',</pre>
<pre class='cython code score-52 '>          <span class='trace'>__Pyx_TraceLine</span>(4521,0,<span class='error_goto'>__PYX_ERR(0, 4521, __pyx_L1_error)</span>)
          __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_y, __pyx_n_s_reindex);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4521, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
          <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4521, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_arange);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4521, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          __pyx_t_4 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_X);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(0, 4521, __pyx_L1_error)</span>
          __pyx_t_1 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4521, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          __pyx_t_12 = NULL;
          __pyx_t_11 = 0;
          #if CYTHON_UNPACK_METHODS
          if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_10))) {
            __pyx_t_12 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_10);
            if (likely(__pyx_t_12)) {
              PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_10);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_12);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
              <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_10, function);
              __pyx_t_11 = 1;
            }
          }
          #endif
          {
            PyObject *__pyx_callargs[2] = {__pyx_t_12, __pyx_t_1};
            __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_10, __pyx_callargs+1-__pyx_t_11, 1+__pyx_t_11);
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
            if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 4521, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
          }
          __pyx_t_10 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4521, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
          if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_10, 0, __pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 4521, __pyx_L1_error)</span>;
          __pyx_t_3 = 0;
          __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4521, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_method, __pyx_n_u_ffill) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4521, __pyx_L1_error)</span>
/* â€¦ */
          <span class='trace'>__Pyx_TraceLine</span>(4521,0,<span class='error_goto'>__PYX_ERR(0, 4521, __pyx_L1_error)</span>)
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_9, __pyx_t_10, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4521, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_y, __pyx_t_1);
          __pyx_t_1 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4522</span>:                                   fill_value=fill_value)</pre>
<pre class='cython code score-5 '>          <span class='trace'>__Pyx_TraceLine</span>(4522,0,<span class='error_goto'>__PYX_ERR(0, 4522, __pyx_L1_error)</span>)
          if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_fill_value, __pyx_v_fill_value) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4521, __pyx_L1_error)</span>
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4523</span>:                     warnings.warn(f"{msg} Forward filling y to match X length.")</pre>
<pre class='cython code score-23 '>          <span class='trace'>__Pyx_TraceLine</span>(4523,0,<span class='error_goto'>__PYX_ERR(0, 4523, __pyx_L1_error)</span>)
          <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_warnings);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4523, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_warn);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4523, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_v_msg, __pyx_kp_u_Forward_filling_y_to_match_X_le);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4523, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          __pyx_t_9 = NULL;
          __pyx_t_11 = 0;
          #if CYTHON_UNPACK_METHODS
          if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_10))) {
            __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_10);
            if (likely(__pyx_t_9)) {
              PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_10);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
              <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_10, function);
              __pyx_t_11 = 1;
            }
          }
          #endif
          {
            PyObject *__pyx_callargs[2] = {__pyx_t_9, __pyx_t_3};
            __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_10, __pyx_callargs+1-__pyx_t_11, 1+__pyx_t_11);
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
            if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4523, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
          }
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4524</span>:                 else:</pre>
<pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4525</span>:                     raise ValueError(</pre>
<pre class='cython code score-6 '>        <span class='trace'>__Pyx_TraceLine</span>(4525,0,<span class='error_goto'>__PYX_ERR(0, 4525, __pyx_L1_error)</span>)
        /*else*/ {
/* â€¦ */
          <span class='trace'>__Pyx_TraceLine</span>(4525,0,<span class='error_goto'>__PYX_ERR(0, 4525, __pyx_L1_error)</span>)
          __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4525, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_10, 0, 0, 0);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
          <span class='error_goto'>__PYX_ERR(0, 4525, __pyx_L1_error)</span>
        }
        __pyx_L13:;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4526</span>:                         msg + " y cannot have fewer rows than X. Please check the input.")</pre>
<pre class='cython code score-2 '>          <span class='trace'>__Pyx_TraceLine</span>(4526,0,<span class='error_goto'>__PYX_ERR(0, 4526, __pyx_L1_error)</span>)
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_v_msg, __pyx_kp_u_y_cannot_have_fewer_rows_than_X);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4526, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
</pre><pre class="cython line score-0">&#xA0;<span class="">4527</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4528</span>:     # Combine X and y</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4529</span>:     if y is not None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(4529,0,<span class='error_goto'>__PYX_ERR(0, 4529, __pyx_L1_error)</span>)
  __pyx_t_2 = (__pyx_v_y != Py_None);
  if (__pyx_t_2) {
/* â€¦ */
  }
</pre><pre class="cython line score-60" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4530</span>:         return pd.concat([X.reset_index(drop=True), y.reset_index(drop=True)], axis=1)</pre>
<pre class='cython code score-60 '>    <span class='trace'>__Pyx_TraceLine</span>(4530,0,<span class='error_goto'>__PYX_ERR(0, 4530, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_10, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4530, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_10, __pyx_n_s_concat);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4530, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_reset_index);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4530, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4530, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_drop, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4530, __pyx_L1_error)</span>
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_10, __pyx_empty_tuple, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4530, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_y, __pyx_n_s_reset_index);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4530, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4530, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_10, __pyx_n_s_drop, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4530, __pyx_L1_error)</span>
    __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_empty_tuple, __pyx_t_10);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 4530, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    __pyx_t_10 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4530, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_9);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_10, 0, __pyx_t_9)) <span class='error_goto'>__PYX_ERR(0, 4530, __pyx_L1_error)</span>;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_12);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_10, 1, __pyx_t_12)) <span class='error_goto'>__PYX_ERR(0, 4530, __pyx_L1_error)</span>;
    __pyx_t_9 = 0;
    __pyx_t_12 = 0;
    __pyx_t_12 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 4530, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_10);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_12, 0, __pyx_t_10)) <span class='error_goto'>__PYX_ERR(0, 4530, __pyx_L1_error)</span>;
    __pyx_t_10 = 0;
    __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4530, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_10, __pyx_n_s_axis, __pyx_int_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4530, __pyx_L1_error)</span>
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_12, __pyx_t_10);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4530, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    __pyx_r = __pyx_t_9;
    __pyx_t_9 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4531</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4532</span>:     return X</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(4532,0,<span class='error_goto'>__PYX_ERR(0, 4532, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
  __pyx_r = __pyx_v_X;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4533</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4534</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4535</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4536</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4537</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4538</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4539</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4540</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4541</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4542</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4543</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4544</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4545</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4546</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4547</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4548</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4549</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4550</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4551</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4552</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4553</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4554</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4555</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4556</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4557</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4558</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4559</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4560</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4561</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4562</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4563</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4564</span>: </pre>
</div></body></html>
