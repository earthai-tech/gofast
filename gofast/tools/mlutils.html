<!DOCTYPE html>
<!-- Generated by Cython 3.0.9 -->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Cython: mlutils.pyx</title>
    <style type="text/css">
    
body.cython { font-family: courier; font-size: 12; }

.cython.tag  {  }
.cython.line { color: #000000; margin: 0em }
.cython.code { font-size: 9; color: #444444; display: none; margin: 0px 0px 0px 8px; border-left: 8px none; }

.cython.line .run { background-color: #B0FFB0; }
.cython.line .mis { background-color: #FFB0B0; }
.cython.code.run  { border-left: 8px solid #B0FFB0; }
.cython.code.mis  { border-left: 8px solid #FFB0B0; }

.cython.code .py_c_api  { color: red; }
.cython.code .py_macro_api  { color: #FF7000; }
.cython.code .pyx_c_api  { color: #FF3000; }
.cython.code .pyx_macro_api  { color: #FF7000; }
.cython.code .refnanny  { color: #FFA000; }
.cython.code .trace  { color: #FFA000; }
.cython.code .error_goto  { color: #FFA000; }

.cython.code .coerce  { color: #008000; border: 1px dotted #008000 }
.cython.code .py_attr { color: #FF0000; font-weight: bold; }
.cython.code .c_attr  { color: #0000FF; }
.cython.code .py_call { color: #FF0000; font-weight: bold; }
.cython.code .c_call  { color: #0000FF; }

.cython.score-0 {background-color: #FFFFff;}
.cython.score-1 {background-color: #FFFFe7;}
.cython.score-2 {background-color: #FFFFd4;}
.cython.score-3 {background-color: #FFFFc4;}
.cython.score-4 {background-color: #FFFFb6;}
.cython.score-5 {background-color: #FFFFaa;}
.cython.score-6 {background-color: #FFFF9f;}
.cython.score-7 {background-color: #FFFF96;}
.cython.score-8 {background-color: #FFFF8d;}
.cython.score-9 {background-color: #FFFF86;}
.cython.score-10 {background-color: #FFFF7f;}
.cython.score-11 {background-color: #FFFF79;}
.cython.score-12 {background-color: #FFFF73;}
.cython.score-13 {background-color: #FFFF6e;}
.cython.score-14 {background-color: #FFFF6a;}
.cython.score-15 {background-color: #FFFF66;}
.cython.score-16 {background-color: #FFFF62;}
.cython.score-17 {background-color: #FFFF5e;}
.cython.score-18 {background-color: #FFFF5b;}
.cython.score-19 {background-color: #FFFF57;}
.cython.score-20 {background-color: #FFFF55;}
.cython.score-21 {background-color: #FFFF52;}
.cython.score-22 {background-color: #FFFF4f;}
.cython.score-23 {background-color: #FFFF4d;}
.cython.score-24 {background-color: #FFFF4b;}
.cython.score-25 {background-color: #FFFF48;}
.cython.score-26 {background-color: #FFFF46;}
.cython.score-27 {background-color: #FFFF44;}
.cython.score-28 {background-color: #FFFF43;}
.cython.score-29 {background-color: #FFFF41;}
.cython.score-30 {background-color: #FFFF3f;}
.cython.score-31 {background-color: #FFFF3e;}
.cython.score-32 {background-color: #FFFF3c;}
.cython.score-33 {background-color: #FFFF3b;}
.cython.score-34 {background-color: #FFFF39;}
.cython.score-35 {background-color: #FFFF38;}
.cython.score-36 {background-color: #FFFF37;}
.cython.score-37 {background-color: #FFFF36;}
.cython.score-38 {background-color: #FFFF35;}
.cython.score-39 {background-color: #FFFF34;}
.cython.score-40 {background-color: #FFFF33;}
.cython.score-41 {background-color: #FFFF32;}
.cython.score-42 {background-color: #FFFF31;}
.cython.score-43 {background-color: #FFFF30;}
.cython.score-44 {background-color: #FFFF2f;}
.cython.score-45 {background-color: #FFFF2e;}
.cython.score-46 {background-color: #FFFF2d;}
.cython.score-47 {background-color: #FFFF2c;}
.cython.score-48 {background-color: #FFFF2b;}
.cython.score-49 {background-color: #FFFF2b;}
.cython.score-50 {background-color: #FFFF2a;}
.cython.score-51 {background-color: #FFFF29;}
.cython.score-52 {background-color: #FFFF29;}
.cython.score-53 {background-color: #FFFF28;}
.cython.score-54 {background-color: #FFFF27;}
.cython.score-55 {background-color: #FFFF27;}
.cython.score-56 {background-color: #FFFF26;}
.cython.score-57 {background-color: #FFFF26;}
.cython.score-58 {background-color: #FFFF25;}
.cython.score-59 {background-color: #FFFF24;}
.cython.score-60 {background-color: #FFFF24;}
.cython.score-61 {background-color: #FFFF23;}
.cython.score-62 {background-color: #FFFF23;}
.cython.score-63 {background-color: #FFFF22;}
.cython.score-64 {background-color: #FFFF22;}
.cython.score-65 {background-color: #FFFF22;}
.cython.score-66 {background-color: #FFFF21;}
.cython.score-67 {background-color: #FFFF21;}
.cython.score-68 {background-color: #FFFF20;}
.cython.score-69 {background-color: #FFFF20;}
.cython.score-70 {background-color: #FFFF1f;}
.cython.score-71 {background-color: #FFFF1f;}
.cython.score-72 {background-color: #FFFF1f;}
.cython.score-73 {background-color: #FFFF1e;}
.cython.score-74 {background-color: #FFFF1e;}
.cython.score-75 {background-color: #FFFF1e;}
.cython.score-76 {background-color: #FFFF1d;}
.cython.score-77 {background-color: #FFFF1d;}
.cython.score-78 {background-color: #FFFF1c;}
.cython.score-79 {background-color: #FFFF1c;}
.cython.score-80 {background-color: #FFFF1c;}
.cython.score-81 {background-color: #FFFF1c;}
.cython.score-82 {background-color: #FFFF1b;}
.cython.score-83 {background-color: #FFFF1b;}
.cython.score-84 {background-color: #FFFF1b;}
.cython.score-85 {background-color: #FFFF1a;}
.cython.score-86 {background-color: #FFFF1a;}
.cython.score-87 {background-color: #FFFF1a;}
.cython.score-88 {background-color: #FFFF1a;}
.cython.score-89 {background-color: #FFFF19;}
.cython.score-90 {background-color: #FFFF19;}
.cython.score-91 {background-color: #FFFF19;}
.cython.score-92 {background-color: #FFFF19;}
.cython.score-93 {background-color: #FFFF18;}
.cython.score-94 {background-color: #FFFF18;}
.cython.score-95 {background-color: #FFFF18;}
.cython.score-96 {background-color: #FFFF18;}
.cython.score-97 {background-color: #FFFF17;}
.cython.score-98 {background-color: #FFFF17;}
.cython.score-99 {background-color: #FFFF17;}
.cython.score-100 {background-color: #FFFF17;}
.cython.score-101 {background-color: #FFFF16;}
.cython.score-102 {background-color: #FFFF16;}
.cython.score-103 {background-color: #FFFF16;}
.cython.score-104 {background-color: #FFFF16;}
.cython.score-105 {background-color: #FFFF16;}
.cython.score-106 {background-color: #FFFF15;}
.cython.score-107 {background-color: #FFFF15;}
.cython.score-108 {background-color: #FFFF15;}
.cython.score-109 {background-color: #FFFF15;}
.cython.score-110 {background-color: #FFFF15;}
.cython.score-111 {background-color: #FFFF15;}
.cython.score-112 {background-color: #FFFF14;}
.cython.score-113 {background-color: #FFFF14;}
.cython.score-114 {background-color: #FFFF14;}
.cython.score-115 {background-color: #FFFF14;}
.cython.score-116 {background-color: #FFFF14;}
.cython.score-117 {background-color: #FFFF14;}
.cython.score-118 {background-color: #FFFF13;}
.cython.score-119 {background-color: #FFFF13;}
.cython.score-120 {background-color: #FFFF13;}
.cython.score-121 {background-color: #FFFF13;}
.cython.score-122 {background-color: #FFFF13;}
.cython.score-123 {background-color: #FFFF13;}
.cython.score-124 {background-color: #FFFF13;}
.cython.score-125 {background-color: #FFFF12;}
.cython.score-126 {background-color: #FFFF12;}
.cython.score-127 {background-color: #FFFF12;}
.cython.score-128 {background-color: #FFFF12;}
.cython.score-129 {background-color: #FFFF12;}
.cython.score-130 {background-color: #FFFF12;}
.cython.score-131 {background-color: #FFFF12;}
.cython.score-132 {background-color: #FFFF11;}
.cython.score-133 {background-color: #FFFF11;}
.cython.score-134 {background-color: #FFFF11;}
.cython.score-135 {background-color: #FFFF11;}
.cython.score-136 {background-color: #FFFF11;}
.cython.score-137 {background-color: #FFFF11;}
.cython.score-138 {background-color: #FFFF11;}
.cython.score-139 {background-color: #FFFF11;}
.cython.score-140 {background-color: #FFFF11;}
.cython.score-141 {background-color: #FFFF10;}
.cython.score-142 {background-color: #FFFF10;}
.cython.score-143 {background-color: #FFFF10;}
.cython.score-144 {background-color: #FFFF10;}
.cython.score-145 {background-color: #FFFF10;}
.cython.score-146 {background-color: #FFFF10;}
.cython.score-147 {background-color: #FFFF10;}
.cython.score-148 {background-color: #FFFF10;}
.cython.score-149 {background-color: #FFFF10;}
.cython.score-150 {background-color: #FFFF0f;}
.cython.score-151 {background-color: #FFFF0f;}
.cython.score-152 {background-color: #FFFF0f;}
.cython.score-153 {background-color: #FFFF0f;}
.cython.score-154 {background-color: #FFFF0f;}
.cython.score-155 {background-color: #FFFF0f;}
.cython.score-156 {background-color: #FFFF0f;}
.cython.score-157 {background-color: #FFFF0f;}
.cython.score-158 {background-color: #FFFF0f;}
.cython.score-159 {background-color: #FFFF0f;}
.cython.score-160 {background-color: #FFFF0f;}
.cython.score-161 {background-color: #FFFF0e;}
.cython.score-162 {background-color: #FFFF0e;}
.cython.score-163 {background-color: #FFFF0e;}
.cython.score-164 {background-color: #FFFF0e;}
.cython.score-165 {background-color: #FFFF0e;}
.cython.score-166 {background-color: #FFFF0e;}
.cython.score-167 {background-color: #FFFF0e;}
.cython.score-168 {background-color: #FFFF0e;}
.cython.score-169 {background-color: #FFFF0e;}
.cython.score-170 {background-color: #FFFF0e;}
.cython.score-171 {background-color: #FFFF0e;}
.cython.score-172 {background-color: #FFFF0e;}
.cython.score-173 {background-color: #FFFF0d;}
.cython.score-174 {background-color: #FFFF0d;}
.cython.score-175 {background-color: #FFFF0d;}
.cython.score-176 {background-color: #FFFF0d;}
.cython.score-177 {background-color: #FFFF0d;}
.cython.score-178 {background-color: #FFFF0d;}
.cython.score-179 {background-color: #FFFF0d;}
.cython.score-180 {background-color: #FFFF0d;}
.cython.score-181 {background-color: #FFFF0d;}
.cython.score-182 {background-color: #FFFF0d;}
.cython.score-183 {background-color: #FFFF0d;}
.cython.score-184 {background-color: #FFFF0d;}
.cython.score-185 {background-color: #FFFF0d;}
.cython.score-186 {background-color: #FFFF0d;}
.cython.score-187 {background-color: #FFFF0c;}
.cython.score-188 {background-color: #FFFF0c;}
.cython.score-189 {background-color: #FFFF0c;}
.cython.score-190 {background-color: #FFFF0c;}
.cython.score-191 {background-color: #FFFF0c;}
.cython.score-192 {background-color: #FFFF0c;}
.cython.score-193 {background-color: #FFFF0c;}
.cython.score-194 {background-color: #FFFF0c;}
.cython.score-195 {background-color: #FFFF0c;}
.cython.score-196 {background-color: #FFFF0c;}
.cython.score-197 {background-color: #FFFF0c;}
.cython.score-198 {background-color: #FFFF0c;}
.cython.score-199 {background-color: #FFFF0c;}
.cython.score-200 {background-color: #FFFF0c;}
.cython.score-201 {background-color: #FFFF0c;}
.cython.score-202 {background-color: #FFFF0c;}
.cython.score-203 {background-color: #FFFF0b;}
.cython.score-204 {background-color: #FFFF0b;}
.cython.score-205 {background-color: #FFFF0b;}
.cython.score-206 {background-color: #FFFF0b;}
.cython.score-207 {background-color: #FFFF0b;}
.cython.score-208 {background-color: #FFFF0b;}
.cython.score-209 {background-color: #FFFF0b;}
.cython.score-210 {background-color: #FFFF0b;}
.cython.score-211 {background-color: #FFFF0b;}
.cython.score-212 {background-color: #FFFF0b;}
.cython.score-213 {background-color: #FFFF0b;}
.cython.score-214 {background-color: #FFFF0b;}
.cython.score-215 {background-color: #FFFF0b;}
.cython.score-216 {background-color: #FFFF0b;}
.cython.score-217 {background-color: #FFFF0b;}
.cython.score-218 {background-color: #FFFF0b;}
.cython.score-219 {background-color: #FFFF0b;}
.cython.score-220 {background-color: #FFFF0b;}
.cython.score-221 {background-color: #FFFF0b;}
.cython.score-222 {background-color: #FFFF0a;}
.cython.score-223 {background-color: #FFFF0a;}
.cython.score-224 {background-color: #FFFF0a;}
.cython.score-225 {background-color: #FFFF0a;}
.cython.score-226 {background-color: #FFFF0a;}
.cython.score-227 {background-color: #FFFF0a;}
.cython.score-228 {background-color: #FFFF0a;}
.cython.score-229 {background-color: #FFFF0a;}
.cython.score-230 {background-color: #FFFF0a;}
.cython.score-231 {background-color: #FFFF0a;}
.cython.score-232 {background-color: #FFFF0a;}
.cython.score-233 {background-color: #FFFF0a;}
.cython.score-234 {background-color: #FFFF0a;}
.cython.score-235 {background-color: #FFFF0a;}
.cython.score-236 {background-color: #FFFF0a;}
.cython.score-237 {background-color: #FFFF0a;}
.cython.score-238 {background-color: #FFFF0a;}
.cython.score-239 {background-color: #FFFF0a;}
.cython.score-240 {background-color: #FFFF0a;}
.cython.score-241 {background-color: #FFFF0a;}
.cython.score-242 {background-color: #FFFF0a;}
.cython.score-243 {background-color: #FFFF0a;}
.cython.score-244 {background-color: #FFFF0a;}
.cython.score-245 {background-color: #FFFF0a;}
.cython.score-246 {background-color: #FFFF09;}
.cython.score-247 {background-color: #FFFF09;}
.cython.score-248 {background-color: #FFFF09;}
.cython.score-249 {background-color: #FFFF09;}
.cython.score-250 {background-color: #FFFF09;}
.cython.score-251 {background-color: #FFFF09;}
.cython.score-252 {background-color: #FFFF09;}
.cython.score-253 {background-color: #FFFF09;}
.cython.score-254 {background-color: #FFFF09;}
    </style>
</head>
<body class="cython">
<p><span style="border-bottom: solid 1px grey;">Generated by Cython 3.0.9</span></p>
<p>
    <span style="background-color: #FFFF00">Yellow lines</span> hint at Python interaction.<br />
    Click on a line that starts with a "<code>+</code>" to see the C code that Cython generated for it.
</p>
<p>Raw output: <a href="mlutils.c">mlutils.c</a></p>
<div class="cython"><pre class="cython line score-208" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0001</span>: # -*- coding: utf-8 -*-</pre>
<pre class='cython code score-208 '>  <span class='trace'>__Pyx_TraceLine</span>(1,0,<span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(40);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_one_click_prep_line_103, __pyx_kp_u_Perform_all_in_one_preprocessin) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_soft_encoder_line_299, __pyx_kp_u_Encode_multiple_categorical_var) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_resampling_line_534, __pyx_kp_u_Combining_Random_Oversampling_a) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_bin_counting_line_663, __pyx_kp_u_Bin_counting_categorical_variab) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_laplace_smoothing_word_line_945, __pyx_kp_u_Apply_Laplace_smoothing_to_esti) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_laplace_smoothing_categorical_li, __pyx_kp_u_Apply_Laplace_smoothing_to_esti_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_laplace_smoothing_line_1077, __pyx_kp_u_Applies_Laplace_smoothing_to_da) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_evaluate_model_line_1157, __pyx_kp_u_Evaluates_a_predictive_model_s) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_get_correlated_features_line_126, __pyx_kp_u_Find_the_correlated_features_col) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_get_global_score_line_1349, __pyx_kp_u_Retrieve_the_global_mean_and_st) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_format_model_score_line_1411, __pyx_kp_u_Formats_and_prints_model_scores) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_stats_from_prediction_line_1448, __pyx_kp_u_Generate_statistical_summaries) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_save_dataframes_line_1510, __pyx_kp_u_Saves_multiple_dataframes_to_Ex) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_fetch_tgz_line_1563, __pyx_kp_u_Fetches_and_extracts_a_tgz_file) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_process_df_line_1641, __pyx_kp_u_Processes_a_DataFrame_to_separa) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_base_url_tgz_fetch_line_1817, __pyx_kp_u_Fetches_a_tgz_file_from_a_given) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_fetch_tgz_from_url_line_1899, __pyx_kp_u_Fetches_a_tgz_file_from_a_given_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_fetch_tgz_locally_line_2001, __pyx_kp_u_Fetches_and_optionally_renames) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_base_local_tgz_fetch_line_2063, __pyx_kp_u_Fetches_a_single_file_from_an_a) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_load_csv_line_2129, __pyx_kp_u_Loads_a_CSV_file_into_a_pandas) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_discretize_categories_line_2183, __pyx_kp_u_Discretizes_a_numerical_column) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_stratify_categories_line_2240, __pyx_kp_u_Perform_stratified_sampling_on) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_fetch_model_line_2316, __pyx_kp_u_Fetches_a_model_saved_using_the) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_serialize_data_line_2411, __pyx_kp_u_Serialize_and_save_data_to_a_bi) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_deserialize_data_line_2490, __pyx_kp_u_Deserialize_and_load_data_from) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_assert_sl_target_line_2580, __pyx_kp_u_Check_whether_the_target_name_i) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_smart_split_line_2728, __pyx_kp_u_Splits_data_into_training_and_t) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_handle_imbalance_line_2835, __pyx_kp_u_Handles_imbalanced_datasets_by) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_soft_data_split_line_2967, __pyx_kp_u_Splits_data_into_training_and_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_load_model_line_3034, __pyx_kp_u_Loads_a_saved_model_or_data_usi) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_bi_selector_line_3135, __pyx_kp_u_Auto_differentiates_the_numeric) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_make_pipe_line_3220, __pyx_kp_u_make_a_pipeline_to_transform_da) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_build_data_preprocessor_line_344, __pyx_kp_u_Create_a_preprocessing_pipeline) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_select_feature_importances_line, __pyx_kp_u_Select_features_based_on_import) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_soft_imputer_line_3719, __pyx_kp_u_Impute_missing_values_in_a_data) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_enabled_bi_impute_mode_line_391, __pyx_kp_u_Determines_strategies_and_fill) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_manage_fill_value_line_3977, __pyx_kp_u_Parses_and_manages_fill_values) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_soft_scaler_line_4037, __pyx_kp_u_Scale_data_using_specified_scal) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_display_feature_contributions_li, __pyx_kp_u_Trains_a_RandomForest_model_to) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_kp_u_get_feature_contributions_line_4, __pyx_kp_u_Calculate_the_SHAP_SHapley_Addi) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_test, __pyx_t_6) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0002</span>: #   License: BSD-3-Clause</pre>
<pre class="cython line score-0">&#xA0;<span class="">0003</span>: #   Author: LKouadio &lt;etanoyau@gmail.com&gt;</pre>
<pre class="cython line score-0">&#xA0;<span class="">0004</span>: """</pre>
<pre class="cython line score-0">&#xA0;<span class="">0005</span>: Learning utilities for data transformation, model learning and inspections.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0006</span>: """</pre>
<pre class="cython line score-0">&#xA0;<span class="">0007</span>: </pre>
<pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0008</span>: import os</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(8,0,<span class='error_goto'>__PYX_ERR(0, 8, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_os, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 8, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_os, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 8, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0009</span>: import re</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(9,0,<span class='error_goto'>__PYX_ERR(0, 9, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_re, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 9, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_re, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 9, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0010</span>: import copy</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(10,0,<span class='error_goto'>__PYX_ERR(0, 10, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_copy, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 10, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_copy, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 10, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0011</span>: import tarfile</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(11,0,<span class='error_goto'>__PYX_ERR(0, 11, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_tarfile, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 11, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_tarfile, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 11, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0012</span>: import pickle</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(12,0,<span class='error_goto'>__PYX_ERR(0, 12, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_pickle, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 12, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_pickle, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 12, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0013</span>: import joblib</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(13,0,<span class='error_goto'>__PYX_ERR(0, 13, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_joblib_2, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 13, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_joblib_2, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 13, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0014</span>: import datetime</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(14,0,<span class='error_goto'>__PYX_ERR(0, 14, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_datetime, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 14, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_datetime, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 14, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0015</span>: import warnings</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(15,0,<span class='error_goto'>__PYX_ERR(0, 15, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_warnings, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 15, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_warnings, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 15, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0016</span>: import shutil</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(16,0,<span class='error_goto'>__PYX_ERR(0, 16, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_shutil, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 16, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_shutil, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 16, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0017</span>: from six.moves import urllib</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(17,0,<span class='error_goto'>__PYX_ERR(0, 17, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 17, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_urllib);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_urllib);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_urllib)) <span class='error_goto'>__PYX_ERR(0, 17, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_six_moves, __pyx_t_2, 0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 17, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_urllib);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 17, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_urllib, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 17, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0018</span>: from collections import Counter</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(18,0,<span class='error_goto'>__PYX_ERR(0, 18, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 18, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_Counter);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_Counter);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_s_Counter)) <span class='error_goto'>__PYX_ERR(0, 18, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_collections, __pyx_t_3, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 18, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_Counter);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 18, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_Counter, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 18, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0019</span>: from pathlib import Path</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(19,0,<span class='error_goto'>__PYX_ERR(0, 19, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 19, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_Path);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_Path);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_Path)) <span class='error_goto'>__PYX_ERR(0, 19, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_pathlib, __pyx_t_2, 0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 19, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_Path);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 19, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_Path, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 19, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0020</span>: </pre>
<pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0021</span>: import numpy as np</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(21,0,<span class='error_goto'>__PYX_ERR(0, 21, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_numpy, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 21, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_np, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 21, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0022</span>: import pandas as pd</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(22,0,<span class='error_goto'>__PYX_ERR(0, 22, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_pandas, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 22, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_pd, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 22, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0023</span>: from scipy import sparse</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(23,0,<span class='error_goto'>__PYX_ERR(0, 23, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 23, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_sparse);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_sparse);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_s_sparse)) <span class='error_goto'>__PYX_ERR(0, 23, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_scipy, __pyx_t_3, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 23, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_sparse);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 23, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_sparse, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 23, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0024</span>: from tqdm import tqdm</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(24,0,<span class='error_goto'>__PYX_ERR(0, 24, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 24, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_tqdm);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_tqdm);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_tqdm)) <span class='error_goto'>__PYX_ERR(0, 24, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_tqdm, __pyx_t_2, 0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 24, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_tqdm);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 24, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_tqdm, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 24, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0025</span>: </pre>
<pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0026</span>: from sklearn.base import BaseEstimator, TransformerMixin</pre>
<pre class='cython code score-31 '>  <span class='trace'>__Pyx_TraceLine</span>(26,0,<span class='error_goto'>__PYX_ERR(0, 26, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 26, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_BaseEstimator);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_BaseEstimator);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_s_BaseEstimator)) <span class='error_goto'>__PYX_ERR(0, 26, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_TransformerMixin);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_TransformerMixin);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 1, __pyx_n_s_TransformerMixin)) <span class='error_goto'>__PYX_ERR(0, 26, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_sklearn_base, __pyx_t_3, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 26, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_BaseEstimator);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 26, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_BaseEstimator, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 26, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_TransformerMixin);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 26, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_TransformerMixin, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 26, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0027</span>: from sklearn.compose import ColumnTransformer, make_column_selector</pre>
<pre class='cython code score-31 '>  <span class='trace'>__Pyx_TraceLine</span>(27,0,<span class='error_goto'>__PYX_ERR(0, 27, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 27, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_ColumnTransformer);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_ColumnTransformer);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_ColumnTransformer)) <span class='error_goto'>__PYX_ERR(0, 27, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_make_column_selector);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_make_column_selector);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 1, __pyx_n_s_make_column_selector)) <span class='error_goto'>__PYX_ERR(0, 27, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_sklearn_compose, __pyx_t_2, 0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 27, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_ColumnTransformer);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 27, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_ColumnTransformer, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 27, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_make_column_selector);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 27, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_make_column_selector, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 27, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0028</span>: from sklearn.decomposition import PCA</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(28,0,<span class='error_goto'>__PYX_ERR(0, 28, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 28, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_PCA);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_PCA);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_s_PCA)) <span class='error_goto'>__PYX_ERR(0, 28, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_sklearn_decomposition, __pyx_t_3, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 28, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_PCA);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 28, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_PCA, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 28, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0029</span>: from sklearn.ensemble import RandomForestClassifier</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(29,0,<span class='error_goto'>__PYX_ERR(0, 29, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 29, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_RandomForestClassifier);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_RandomForestClassifier);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_RandomForestClassifier)) <span class='error_goto'>__PYX_ERR(0, 29, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_sklearn_ensemble, __pyx_t_2, 0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 29, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_RandomForestClassifier);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 29, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_RandomForestClassifier, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 29, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0030</span>: from sklearn.feature_selection import SelectFromModel, SelectKBest</pre>
<pre class='cython code score-31 '>  <span class='trace'>__Pyx_TraceLine</span>(30,0,<span class='error_goto'>__PYX_ERR(0, 30, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 30, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_SelectFromModel);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_SelectFromModel);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_s_SelectFromModel)) <span class='error_goto'>__PYX_ERR(0, 30, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_SelectKBest);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_SelectKBest);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 1, __pyx_n_s_SelectKBest)) <span class='error_goto'>__PYX_ERR(0, 30, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_sklearn_feature_selection, __pyx_t_3, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 30, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_SelectFromModel);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 30, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_SelectFromModel, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 30, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_SelectKBest);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 30, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_SelectKBest, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 30, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0031</span>: from sklearn.impute import SimpleImputer</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(31,0,<span class='error_goto'>__PYX_ERR(0, 31, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 31, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_SimpleImputer);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_SimpleImputer);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_SimpleImputer)) <span class='error_goto'>__PYX_ERR(0, 31, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_sklearn_impute, __pyx_t_2, 0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 31, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_SimpleImputer);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 31, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_SimpleImputer, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 31, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0032</span>: from sklearn.model_selection import StratifiedShuffleSplit</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(32,0,<span class='error_goto'>__PYX_ERR(0, 32, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 32, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_StratifiedShuffleSplit);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_StratifiedShuffleSplit);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_s_StratifiedShuffleSplit)) <span class='error_goto'>__PYX_ERR(0, 32, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_sklearn_model_selection, __pyx_t_3, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 32, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_StratifiedShuffleSplit);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 32, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_StratifiedShuffleSplit, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 32, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0033</span>: from sklearn.pipeline import Pipeline, FeatureUnion</pre>
<pre class='cython code score-31 '>  <span class='trace'>__Pyx_TraceLine</span>(33,0,<span class='error_goto'>__PYX_ERR(0, 33, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 33, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_Pipeline);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_Pipeline);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_Pipeline)) <span class='error_goto'>__PYX_ERR(0, 33, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_FeatureUnion);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_FeatureUnion);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 1, __pyx_n_s_FeatureUnion)) <span class='error_goto'>__PYX_ERR(0, 33, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_sklearn_pipeline, __pyx_t_2, 0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 33, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_Pipeline);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 33, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_Pipeline, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 33, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_FeatureUnion);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 33, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_FeatureUnion, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 33, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-42" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0034</span>: from sklearn.preprocessing import OneHotEncoder,RobustScaler ,OrdinalEncoder</pre>
<pre class='cython code score-42 '>  <span class='trace'>__Pyx_TraceLine</span>(34,0,<span class='error_goto'>__PYX_ERR(0, 34, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 34, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_OneHotEncoder);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_OneHotEncoder);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_s_OneHotEncoder)) <span class='error_goto'>__PYX_ERR(0, 34, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_RobustScaler);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_RobustScaler);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 1, __pyx_n_s_RobustScaler)) <span class='error_goto'>__PYX_ERR(0, 34, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_OrdinalEncoder);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_OrdinalEncoder);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 2, __pyx_n_s_OrdinalEncoder)) <span class='error_goto'>__PYX_ERR(0, 34, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_sklearn_preprocessing, __pyx_t_3, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 34, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_OneHotEncoder);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 34, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_OneHotEncoder, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 34, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_RobustScaler);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 34, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_RobustScaler, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 34, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_OrdinalEncoder);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 34, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_OrdinalEncoder, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 34, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-42" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0035</span>: from sklearn.preprocessing import StandardScaler,MinMaxScaler,  LabelBinarizer</pre>
<pre class='cython code score-42 '>  <span class='trace'>__Pyx_TraceLine</span>(35,0,<span class='error_goto'>__PYX_ERR(0, 35, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 35, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_StandardScaler);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_StandardScaler);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_StandardScaler)) <span class='error_goto'>__PYX_ERR(0, 35, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_MinMaxScaler);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_MinMaxScaler);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 1, __pyx_n_s_MinMaxScaler)) <span class='error_goto'>__PYX_ERR(0, 35, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_LabelBinarizer);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_LabelBinarizer);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 2, __pyx_n_s_LabelBinarizer)) <span class='error_goto'>__PYX_ERR(0, 35, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_sklearn_preprocessing, __pyx_t_2, 0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 35, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_StandardScaler);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 35, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_StandardScaler, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 35, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_MinMaxScaler);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 35, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_MinMaxScaler, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 35, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_LabelBinarizer);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 35, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_LabelBinarizer, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 35, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-42" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0036</span>: from sklearn.preprocessing import LabelEncoder,Normalizer, PolynomialFeatures</pre>
<pre class='cython code score-42 '>  <span class='trace'>__Pyx_TraceLine</span>(36,0,<span class='error_goto'>__PYX_ERR(0, 36, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 36, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_LabelEncoder);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_LabelEncoder);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_s_LabelEncoder)) <span class='error_goto'>__PYX_ERR(0, 36, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_Normalizer);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_Normalizer);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 1, __pyx_n_s_Normalizer)) <span class='error_goto'>__PYX_ERR(0, 36, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_PolynomialFeatures);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_PolynomialFeatures);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 2, __pyx_n_s_PolynomialFeatures)) <span class='error_goto'>__PYX_ERR(0, 36, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_sklearn_preprocessing, __pyx_t_3, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 36, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_LabelEncoder);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 36, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_LabelEncoder, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 36, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_Normalizer);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 36, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_Normalizer, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 36, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_PolynomialFeatures);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 36, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_PolynomialFeatures, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 36, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0037</span>: from sklearn.utils import resample</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(37,0,<span class='error_goto'>__PYX_ERR(0, 37, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 37, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_resample);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_resample);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_resample)) <span class='error_goto'>__PYX_ERR(0, 37, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_sklearn_utils, __pyx_t_2, 0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 37, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_resample);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 37, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_resample, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 37, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0038</span>: </pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0039</span>: from .._gofastlog import gofastlog</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(39,0,<span class='error_goto'>__PYX_ERR(0, 39, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 39, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_gofastlog_2);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_gofastlog_2);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_s_gofastlog_2)) <span class='error_goto'>__PYX_ERR(0, 39, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_gofastlog, __pyx_t_3, 2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 39, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_gofastlog_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 39, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_gofastlog_2, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 39, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-86" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0040</span>: from ..api.types import List, Tuple, Any, Dict,  Optional,Union, Series</pre>
<pre class='cython code score-86 '>  <span class='trace'>__Pyx_TraceLine</span>(40,0,<span class='error_goto'>__PYX_ERR(0, 40, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(7);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 40, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_List);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_List);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_List)) <span class='error_goto'>__PYX_ERR(0, 40, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_Tuple);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_Tuple);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 1, __pyx_n_s_Tuple)) <span class='error_goto'>__PYX_ERR(0, 40, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_Any);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_Any);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 2, __pyx_n_s_Any)) <span class='error_goto'>__PYX_ERR(0, 40, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_Dict);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_Dict);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 3, __pyx_n_s_Dict)) <span class='error_goto'>__PYX_ERR(0, 40, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_Optional);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_Optional);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 4, __pyx_n_s_Optional)) <span class='error_goto'>__PYX_ERR(0, 40, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_Union);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_Union);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 5, __pyx_n_s_Union)) <span class='error_goto'>__PYX_ERR(0, 40, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_Series);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_Series);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 6, __pyx_n_s_Series)) <span class='error_goto'>__PYX_ERR(0, 40, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_api_types, __pyx_t_2, 2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 40, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_List);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 40, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_List, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 40, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_Tuple);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 40, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_Tuple, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 40, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_Any);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 40, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_Any, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 40, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_Dict);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 40, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_Dict, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 40, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_Optional);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 40, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_Optional, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 40, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_Union);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 40, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_Union, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 40, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 40, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_Series, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 40, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-53" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0041</span>: from ..api.types import  _F, ArrayLike, NDArray,  DataFrame</pre>
<pre class='cython code score-53 '>  <span class='trace'>__Pyx_TraceLine</span>(41,0,<span class='error_goto'>__PYX_ERR(0, 41, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 41, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_F);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_F);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_s_F)) <span class='error_goto'>__PYX_ERR(0, 41, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_ArrayLike);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_ArrayLike);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 1, __pyx_n_s_ArrayLike)) <span class='error_goto'>__PYX_ERR(0, 41, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_NDArray);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_NDArray);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 2, __pyx_n_s_NDArray)) <span class='error_goto'>__PYX_ERR(0, 41, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_DataFrame);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_DataFrame);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 3, __pyx_n_s_DataFrame)) <span class='error_goto'>__PYX_ERR(0, 41, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_api_types, __pyx_t_3, 2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 41, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_F);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 41, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_F, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 41, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_ArrayLike);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 41, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_ArrayLike, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 41, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_NDArray);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 41, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_NDArray, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 41, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 41, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_DataFrame, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 41, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0042</span>: from ..api.formatter import MetricFormatter</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(42,0,<span class='error_goto'>__PYX_ERR(0, 42, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 42, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_MetricFormatter);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_MetricFormatter);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_MetricFormatter)) <span class='error_goto'>__PYX_ERR(0, 42, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_api_formatter, __pyx_t_2, 2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 42, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_MetricFormatter);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 42, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_MetricFormatter, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 42, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0043</span>: from ..api.summary import ReportFactory, ResultSummary</pre>
<pre class='cython code score-31 '>  <span class='trace'>__Pyx_TraceLine</span>(43,0,<span class='error_goto'>__PYX_ERR(0, 43, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 43, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_ReportFactory);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_ReportFactory);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_s_ReportFactory)) <span class='error_goto'>__PYX_ERR(0, 43, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_ResultSummary);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_ResultSummary);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 1, __pyx_n_s_ResultSummary)) <span class='error_goto'>__PYX_ERR(0, 43, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_api_summary, __pyx_t_3, 2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 43, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_ReportFactory);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 43, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_ReportFactory, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 43, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_ResultSummary);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 43, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_ResultSummary, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 43, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0044</span>: from ..compat.sklearn import get_feature_names</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(44,0,<span class='error_goto'>__PYX_ERR(0, 44, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 44, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_get_feature_names);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_get_feature_names);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_get_feature_names)) <span class='error_goto'>__PYX_ERR(0, 44, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_compat_sklearn, __pyx_t_2, 2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 44, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_get_feature_names);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 44, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_get_feature_names, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 44, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0045</span>: from ..compat.sklearn import train_test_split</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(45,0,<span class='error_goto'>__PYX_ERR(0, 45, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 45, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_train_test_split);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_train_test_split);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_s_train_test_split)) <span class='error_goto'>__PYX_ERR(0, 45, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_compat_sklearn, __pyx_t_3, 2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 45, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_train_test_split);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 45, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_train_test_split, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 45, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0046</span>: from ..decorators import SmartProcessor</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(46,0,<span class='error_goto'>__PYX_ERR(0, 46, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 46, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_SmartProcessor);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_SmartProcessor);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_SmartProcessor)) <span class='error_goto'>__PYX_ERR(0, 46, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_decorators, __pyx_t_2, 2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 46, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_SmartProcessor);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 46, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_SmartProcessor, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 46, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0047</span>: from .baseutils import select_features</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(47,0,<span class='error_goto'>__PYX_ERR(0, 47, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 47, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_select_features);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_select_features);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_s_select_features)) <span class='error_goto'>__PYX_ERR(0, 47, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_baseutils, __pyx_t_3, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 47, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_select_features);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 47, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_select_features, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 47, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-42" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0048</span>: from .coreutils import _assert_all_types, is_in_if,  ellipsis2false</pre>
<pre class='cython code score-42 '>  <span class='trace'>__Pyx_TraceLine</span>(48,0,<span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 48, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_assert_all_types);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_assert_all_types);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_assert_all_types)) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_is_in_if);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_is_in_if);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 1, __pyx_n_s_is_in_if)) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_ellipsis2false);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_ellipsis2false);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 2, __pyx_n_s_ellipsis2false)) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_coreutils, __pyx_t_2, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 48, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_assert_all_types);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 48, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_assert_all_types, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_is_in_if);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 48, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_is_in_if, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_ellipsis2false);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 48, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_ellipsis2false, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 48, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-42" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0049</span>: from .coreutils import smart_format, is_iterable, get_valid_kwargs</pre>
<pre class='cython code score-42 '>  <span class='trace'>__Pyx_TraceLine</span>(49,0,<span class='error_goto'>__PYX_ERR(0, 49, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 49, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_smart_format);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_smart_format);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_s_smart_format)) <span class='error_goto'>__PYX_ERR(0, 49, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_is_iterable);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_is_iterable);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 1, __pyx_n_s_is_iterable)) <span class='error_goto'>__PYX_ERR(0, 49, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_get_valid_kwargs);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_get_valid_kwargs);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 2, __pyx_n_s_get_valid_kwargs)) <span class='error_goto'>__PYX_ERR(0, 49, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_coreutils, __pyx_t_3, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 49, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_smart_format);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 49, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_smart_format, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 49, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_is_iterable);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 49, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_is_iterable, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 49, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_get_valid_kwargs);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 49, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_get_valid_kwargs, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 49, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0050</span>: from .coreutils import is_classification_task, to_numeric_dtypes</pre>
<pre class='cython code score-31 '>  <span class='trace'>__Pyx_TraceLine</span>(50,0,<span class='error_goto'>__PYX_ERR(0, 50, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 50, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_is_classification_task);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_is_classification_task);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_is_classification_task)) <span class='error_goto'>__PYX_ERR(0, 50, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_to_numeric_dtypes);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_to_numeric_dtypes);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 1, __pyx_n_s_to_numeric_dtypes)) <span class='error_goto'>__PYX_ERR(0, 50, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_coreutils, __pyx_t_2, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 50, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_is_classification_task);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 50, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_is_classification_task, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 50, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_to_numeric_dtypes);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 50, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_to_numeric_dtypes, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 50, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-42" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0051</span>: from .coreutils import validate_feature, download_progress_hook, exist_features</pre>
<pre class='cython code score-42 '>  <span class='trace'>__Pyx_TraceLine</span>(51,0,<span class='error_goto'>__PYX_ERR(0, 51, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 51, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_validate_feature);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_validate_feature);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_s_validate_feature)) <span class='error_goto'>__PYX_ERR(0, 51, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_download_progress_hook);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_download_progress_hook);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 1, __pyx_n_s_download_progress_hook)) <span class='error_goto'>__PYX_ERR(0, 51, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_exist_features);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_exist_features);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 2, __pyx_n_s_exist_features)) <span class='error_goto'>__PYX_ERR(0, 51, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_coreutils, __pyx_t_3, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 51, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_validate_feature);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 51, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_validate_feature, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 51, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_download_progress_hook);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 51, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_download_progress_hook, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 51, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_exist_features);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 51, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_exist_features, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 51, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0052</span>: from .coreutils import contains_delimiter, nan_to_na</pre>
<pre class='cython code score-31 '>  <span class='trace'>__Pyx_TraceLine</span>(52,0,<span class='error_goto'>__PYX_ERR(0, 52, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 52, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_contains_delimiter);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_contains_delimiter);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_contains_delimiter)) <span class='error_goto'>__PYX_ERR(0, 52, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_nan_to_na);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_nan_to_na);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 1, __pyx_n_s_nan_to_na)) <span class='error_goto'>__PYX_ERR(0, 52, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_coreutils, __pyx_t_2, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 52, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_contains_delimiter);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 52, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_contains_delimiter, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 52, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_nan_to_na);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 52, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_nan_to_na, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 52, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0053</span>: from .funcutils import ensure_pkg</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(53,0,<span class='error_goto'>__PYX_ERR(0, 53, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 53, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_ensure_pkg);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_ensure_pkg);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_s_ensure_pkg)) <span class='error_goto'>__PYX_ERR(0, 53, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_funcutils, __pyx_t_3, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 53, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_ensure_pkg);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 53, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_ensure_pkg, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 53, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0054</span>: from .validator import _is_numeric_dtype, _is_arraylike_1d</pre>
<pre class='cython code score-31 '>  <span class='trace'>__Pyx_TraceLine</span>(54,0,<span class='error_goto'>__PYX_ERR(0, 54, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 54, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_is_numeric_dtype);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_is_numeric_dtype);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_is_numeric_dtype)) <span class='error_goto'>__PYX_ERR(0, 54, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_is_arraylike_1d);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_is_arraylike_1d);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 1, __pyx_n_s_is_arraylike_1d)) <span class='error_goto'>__PYX_ERR(0, 54, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_validator, __pyx_t_2, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 54, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_is_numeric_dtype);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 54, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_is_numeric_dtype, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 54, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_is_arraylike_1d);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 54, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_is_arraylike_1d, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 54, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-42" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0055</span>: from .validator import get_estimator_name, check_array, check_consistent_length</pre>
<pre class='cython code score-42 '>  <span class='trace'>__Pyx_TraceLine</span>(55,0,<span class='error_goto'>__PYX_ERR(0, 55, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 55, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_get_estimator_name);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_get_estimator_name);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_s_get_estimator_name)) <span class='error_goto'>__PYX_ERR(0, 55, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_check_array);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_check_array);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 1, __pyx_n_s_check_array)) <span class='error_goto'>__PYX_ERR(0, 55, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_check_consistent_length);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_check_consistent_length);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 2, __pyx_n_s_check_consistent_length)) <span class='error_goto'>__PYX_ERR(0, 55, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_validator, __pyx_t_3, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 55, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_get_estimator_name);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 55, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_get_estimator_name, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 55, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_check_array);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 55, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_check_array, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 55, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_check_consistent_length);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 55, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_check_consistent_length, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 55, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-42" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0056</span>: from .validator import is_frame, build_data_if, check_is_fitted</pre>
<pre class='cython code score-42 '>  <span class='trace'>__Pyx_TraceLine</span>(56,0,<span class='error_goto'>__PYX_ERR(0, 56, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 56, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_is_frame);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_is_frame);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_is_frame)) <span class='error_goto'>__PYX_ERR(0, 56, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_build_data_if);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_build_data_if);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 1, __pyx_n_s_build_data_if)) <span class='error_goto'>__PYX_ERR(0, 56, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_check_is_fitted);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_check_is_fitted);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 2, __pyx_n_s_check_is_fitted)) <span class='error_goto'>__PYX_ERR(0, 56, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_validator, __pyx_t_2, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 56, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_is_frame);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 56, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_is_frame, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 56, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_build_data_if);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 56, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_build_data_if, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 56, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_check_is_fitted);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 56, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_check_is_fitted, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 56, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0057</span>: from .validator import check_mixed_data_types, validate_data_types</pre>
<pre class='cython code score-31 '>  <span class='trace'>__Pyx_TraceLine</span>(57,0,<span class='error_goto'>__PYX_ERR(0, 57, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 57, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_check_mixed_data_types);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_check_mixed_data_types);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_s_check_mixed_data_types)) <span class='error_goto'>__PYX_ERR(0, 57, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_validate_data_types);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_validate_data_types);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 1, __pyx_n_s_validate_data_types)) <span class='error_goto'>__PYX_ERR(0, 57, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_validator, __pyx_t_3, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 57, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_check_mixed_data_types);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 57, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_check_mixed_data_types, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 57, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_validate_data_types);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 57, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_validate_data_types, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 57, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0058</span>: </pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0059</span>: _logger = gofastlog().get_gofast_logger(__name__)</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(59,0,<span class='error_goto'>__PYX_ERR(0, 59, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_gofastlog_2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 59, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_CallNoArg</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 59, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_get_gofast_logger);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 59, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_name_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 59, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_t_2, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 59, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_logger, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 59, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0060</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0061</span>: </pre>
<pre class="cython line score-122" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0062</span>: __all__=[</pre>
<pre class='cython code score-122 '>  <span class='trace'>__Pyx_TraceLine</span>(62,0,<span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='py_c_api'>PyList_New</span>(37);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 62, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_base_local_tgz_fetch);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_base_local_tgz_fetch);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 0, __pyx_n_u_base_local_tgz_fetch)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_base_url_tgz_fetch);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_base_url_tgz_fetch);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 1, __pyx_n_u_base_url_tgz_fetch)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_bi_selector);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_bi_selector);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 2, __pyx_n_u_bi_selector)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_bin_counting_2);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_bin_counting_2);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 3, __pyx_n_u_bin_counting_2)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_build_data_preprocessor);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_build_data_preprocessor);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 4, __pyx_n_u_build_data_preprocessor)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_deserialize_data);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_deserialize_data);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 5, __pyx_n_u_deserialize_data)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_discretize_categories);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_discretize_categories);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 6, __pyx_n_u_discretize_categories)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_display_feature_contributions);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_display_feature_contributions);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 7, __pyx_n_u_display_feature_contributions)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_evaluate_model);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_evaluate_model);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 8, __pyx_n_u_evaluate_model)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_fetch_model);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_fetch_model);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 9, __pyx_n_u_fetch_model)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_fetch_tgz);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_fetch_tgz);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 10, __pyx_n_u_fetch_tgz)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_fetch_tgz_from_url);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_fetch_tgz_from_url);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 11, __pyx_n_u_fetch_tgz_from_url)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_fetch_tgz_locally);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_fetch_tgz_locally);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 12, __pyx_n_u_fetch_tgz_locally)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_format_model_score);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_format_model_score);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 13, __pyx_n_u_format_model_score)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_get_correlated_features);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_get_correlated_features);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 14, __pyx_n_u_get_correlated_features)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_get_feature_contributions);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_get_feature_contributions);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 15, __pyx_n_u_get_feature_contributions)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_get_global_score);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_get_global_score);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 16, __pyx_n_u_get_global_score)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_handle_imbalance);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_handle_imbalance);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 17, __pyx_n_u_handle_imbalance)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_laplace_smoothing);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_laplace_smoothing);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 18, __pyx_n_u_laplace_smoothing)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_laplace_smoothing_categorical);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_laplace_smoothing_categorical);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 19, __pyx_n_u_laplace_smoothing_categorical)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_laplace_smoothing_word);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_laplace_smoothing_word);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 20, __pyx_n_u_laplace_smoothing_word)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_load_csv);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_load_csv);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 21, __pyx_n_u_load_csv)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_load_model);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_load_model);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 22, __pyx_n_u_load_model)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_make_pipe);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_make_pipe);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 23, __pyx_n_u_make_pipe)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_one_click_prep);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_one_click_prep);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 24, __pyx_n_u_one_click_prep)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_process_df);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_process_df);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 25, __pyx_n_u_process_df)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_resampling);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_resampling);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 26, __pyx_n_u_resampling)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_save_dataframes);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_save_dataframes);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 27, __pyx_n_u_save_dataframes)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_select_feature_importances);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_select_feature_importances);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 28, __pyx_n_u_select_feature_importances)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_serialize_data);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_serialize_data);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 29, __pyx_n_u_serialize_data)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_smart_split);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_smart_split);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 30, __pyx_n_u_smart_split)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_soft_data_split);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_soft_data_split);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 31, __pyx_n_u_soft_data_split)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_soft_encoder);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_soft_encoder);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 32, __pyx_n_u_soft_encoder)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_soft_imputer);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_soft_imputer);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 33, __pyx_n_u_soft_imputer)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_soft_scaler);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_soft_scaler);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 34, __pyx_n_u_soft_scaler)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_stats_from_prediction);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_stats_from_prediction);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 35, __pyx_n_u_stats_from_prediction)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_stratify_categories);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_stratify_categories);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 36, __pyx_n_u_stratify_categories)) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_all, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 62, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0063</span>:      'base_local_tgz_fetch',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0064</span>:      'base_url_tgz_fetch',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0065</span>:      'bi_selector',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0066</span>:      'bin_counting',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0067</span>:      'build_data_preprocessor',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0068</span>:      'deserialize_data',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0069</span>:      'discretize_categories',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0070</span>:      'display_feature_contributions',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0071</span>:      'evaluate_model',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0072</span>:      'fetch_model',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0073</span>:      'fetch_tgz',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0074</span>:      'fetch_tgz_from_url',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0075</span>:      'fetch_tgz_locally',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0076</span>:      'format_model_score',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0077</span>:      'get_correlated_features',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0078</span>:      'get_feature_contributions',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0079</span>:      'get_global_score',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0080</span>:      'handle_imbalance',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0081</span>:      'laplace_smoothing',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0082</span>:      'laplace_smoothing_categorical',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0083</span>:      'laplace_smoothing_word',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0084</span>:      'load_csv',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0085</span>:      'load_model',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0086</span>:      'make_pipe',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0087</span>:      'one_click_prep',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0088</span>:      'process_df',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0089</span>:      'resampling',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0090</span>:      'save_dataframes',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0091</span>:      'select_feature_importances',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0092</span>:      'serialize_data',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0093</span>:      'smart_split',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0094</span>:      'soft_data_split',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0095</span>:      'soft_encoder',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0096</span>:      'soft_imputer',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0097</span>:      'soft_scaler',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0098</span>:      'stats_from_prediction',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0099</span>:      'stratify_categories',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0100</span>:  ]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0101</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0102</span>: </pre>
<pre class="cython line score-84" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0103</span>: def one_click_prep (</pre>
<pre class='cython code score-84 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_1one_click_prep(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_one_click_prep, "\n    Perform all-in-one preprocessing for beginners on a pandas DataFrame,\n    simplifying common tasks like scaling, encoding, and imputation.\n\n    This function is designed to be user-friendly, particularly for those new\n    to data analysis, by automating complex preprocessing tasks with just a\n    few parameters. It supports selective processing through specification\n    of target and other columns and incorporates flexibility with custom\n    imputation strategies and random seeds for reproducibility.\n\n    Parameters\n    ----------\n    data : pandas.DataFrame\n        The DataFrame to preprocess. This should be a structured DataFrame\n        with any combination of numeric and categorical variables.\n    target_columns : str or list of str, optional\n        Column(s) designated as target(s) for modeling. These columns will\n        not be scaled or imputed to avoid data leakage. Defaults to None,\n        implying no columns are treated as targets.\n    columns : str or list of str, optional\n        Column names to be specifically included in preprocessing. If None\n        (default), all columns are processed.\n    impute_strategy : dict, optional\n        Defines specific strategies for imputing missing values, separately\n        for 'numeric' and 'categorical' data types. The default strategy is\n        {'numeric': 'median', 'categorical': 'constant'}.\n    coerce_datetime : bool, default=False\n        If True, tries to convert object columns to datetime data types when \n        `data` is a numpy array. \n    seed : int, optional\n        Random seed for operations that involve randomization, ensuring\n        reproducibility of results. Defaults to None.\n    \n    **process_kws : keyword arguments, optional\n        Additional arguments that can be passed to preprocessing steps, such\n        as parameters for scaling or encoding methods.\n\n    Returns\n    -------\n    pandas.DataFrame\n        A DataFrame with preprocessed data, where ""numeric columns have been\n        scaled, categorical columns encoded, and missing values imputed.\n\n    Examples\n    --------\n    &gt;&gt;&gt; import pandas as pd\n    &gt;&gt;&gt; import numpy as np \n    &gt;&gt;&gt; from gofast.tools import one_click_preprocess\n    &gt;&gt;&gt; data = pd.DataFrame({\n    ...     'Age': [25, np.nan, 37, 59],\n    ...     'City': ['New York', 'Paris', 'Berlin', np.nan],\n    ...     'Income': [58000, 67000, np.nan, 120000]\n    ... })\n    &gt;&gt;&gt; processed_data = one_click_preprocess(\n    ...     data, seed=42)\n    &gt;&gt;&gt; processed_data.head()\n            Age    Income  City_Berlin  City_New York  City_Paris  City_missing\n    0 -1.180971 -0.815478            0              1           0             0\n    1 -0.203616 -0.448513            0              0           1             0\n    2 -0.203616 -0.448513            1              0           0             0\n    3  1.588203  1.712504            0              0           0             1\n\n    After preprocessing, the 'Age' and 'Income' columns will be scaled,\n    the 'City' column will be one-hot encoded, and missing values in\n    'Age' and 'City' will be imputed based on the specified strategies.\n\n    Notes\n    -----\n    The function relies on scikit-learn's ColumnTransformer to apply\n    different preprocessing steps to numeric and categorical columns.\n    It is important to note that while this function aims to simplify\n    preprocessing for beginners, understanding the underlying transformations\n    and their implications is beneficial for more advanced data analysis.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_1one_click_prep = {"one_click_prep", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_1one_click_prep, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_one_click_prep};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_1one_click_prep(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_data = 0;
  PyObject *__pyx_v_target_columns = 0;
  PyObject *__pyx_v_columns = 0;
  PyObject *__pyx_v_impute_strategy = 0;
  PyObject *__pyx_v_coerce_datetime = 0;
  PyObject *__pyx_v_seed = 0;
  PyObject *__pyx_v_process_kws = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("one_click_prep (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  __pyx_v_process_kws = <span class='py_c_api'>PyDict_New</span>(); if (unlikely(!__pyx_v_process_kws)) return NULL;
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_v_process_kws);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_data,&amp;__pyx_n_s_target_columns,&amp;__pyx_n_s_columns,&amp;__pyx_n_s_impute_strategy,&amp;__pyx_n_s_coerce_datetime,&amp;__pyx_n_s_seed,0};
  PyObject* values[6] = {0,0,0,0,0,0};
/*  */
  /* function exit code */
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_process_kws);
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_one_click_prep(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_data, PyObject *__pyx_v_target_columns, PyObject *__pyx_v_columns, PyObject *__pyx_v_impute_strategy, PyObject *__pyx_v_coerce_datetime, PyObject *__pyx_v_seed, PyObject *__pyx_v_process_kws) {
  PyObject *__pyx_v_handle_unknown = NULL;
  PyObject *__pyx_v_fill_value = NULL;
  PyObject *__pyx_v_remainder = NULL;
  PyObject *__pyx_v_numeric_features = NULL;
  PyObject *__pyx_v_categorical_features = NULL;
  PyObject *__pyx_v_numeric_transformer = NULL;
  PyObject *__pyx_v_steps = NULL;
  PyObject *__pyx_v_categorical_step = NULL;
  PyObject *__pyx_v_categorical_transformer = NULL;
  PyObject *__pyx_v_transformer_steps = NULL;
  PyObject *__pyx_v_preprocessor = NULL;
  PyObject *__pyx_v_data_processed = NULL;
  PyObject *__pyx_v_processed_columns = NULL;
  PyObject *__pyx_v_cat_features_names = NULL;
  PyObject *__pyx_v_FloatCategoricalToInt = NULL;
  PyObject *__pyx_7genexpr__pyx_v_col = NULL;
  PyObject *__pyx_8genexpr1__pyx_v_col = NULL;
  PyObject *__pyx_8genexpr2__pyx_v_col = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj_)
  <span class='trace'>__Pyx_TraceCall</span>("one_click_prep", __pyx_f[0], 103, 0, <span class='error_goto'>__PYX_ERR(0, 103, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_columns);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_columns);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_impute_strategy);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_16);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.one_click_prep", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_handle_unknown);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_fill_value);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_remainder);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_numeric_features);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_categorical_features);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_numeric_transformer);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_steps);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_categorical_step);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_categorical_transformer);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_transformer_steps);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_preprocessor);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_data_processed);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_processed_columns);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_cat_features_names);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_FloatCategoricalToInt);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_7genexpr__pyx_v_col);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr1__pyx_v_col);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr2__pyx_v_col);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_data);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_target_columns);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_columns);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_impute_strategy);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__130 = <span class='py_c_api'>PyTuple_Pack</span>(25, __pyx_n_s_data, __pyx_n_s_target_columns, __pyx_n_s_columns, __pyx_n_s_impute_strategy, __pyx_n_s_coerce_datetime, __pyx_n_s_seed, __pyx_n_s_process_kws, __pyx_n_s_handle_unknown, __pyx_n_s_fill_value, __pyx_n_s_remainder, __pyx_n_s_numeric_features, __pyx_n_s_categorical_features, __pyx_n_s_numeric_transformer, __pyx_n_s_steps, __pyx_n_s_categorical_step, __pyx_n_s_categorical_transformer, __pyx_n_s_transformer_steps, __pyx_n_s_preprocessor, __pyx_n_s_data_processed, __pyx_n_s_processed_columns, __pyx_n_s_cat_features_names, __pyx_n_s_FloatCategoricalToInt, __pyx_n_s_col, __pyx_n_s_col, __pyx_n_s_col);<span class='error_goto'> if (unlikely(!__pyx_tuple__130)) __PYX_ERR(0, 103, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__130);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__130);
  __pyx_codeobj_ = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(6, 0, 0, 25, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__130, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_one_click_prep, 103, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj_)) __PYX_ERR(0, 103, __pyx_L1_error)</span>
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(103,0,<span class='error_goto'>__PYX_ERR(0, 103, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 103, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_data, __pyx_n_s_DataFrame) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 103, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_1one_click_prep, 0, __pyx_n_s_one_click_prep, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj_));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 103, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_3, __pyx_tuple__131);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_3, __pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_one_click_prep, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 103, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_tuple__131 = <span class='py_c_api'>PyTuple_Pack</span>(5, Py_None, Py_None, Py_None, ((PyObject *)Py_False), Py_None);<span class='error_goto'> if (unlikely(!__pyx_tuple__131)) __PYX_ERR(0, 103, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__131);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__131);
</pre><pre class="cython line score-0">&#xA0;<span class="">0104</span>:     data: DataFrame,</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0105</span>:     target_columns=None,</pre>
<pre class='cython code score-2 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0106</span>:     columns=None,</pre>
<pre class='cython code score-2 '>    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0107</span>:     impute_strategy=None,</pre>
<pre class='cython code score-2 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0108</span>:     coerce_datetime=False,</pre>
<pre class='cython code score-2 '>    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
</pre><pre class="cython line score-91" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0109</span>:     seed=None,</pre>
<pre class='cython code score-91 '>    values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 103, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_target_columns);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 103, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_columns);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 103, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_impute_strategy);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 103, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_coerce_datetime);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 103, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  5:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_seed);
          if (value) { values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 103, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, __pyx_v_process_kws, values + 0, kwd_pos_args, "one_click_prep") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 103, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_data = values[0];
    __pyx_v_target_columns = values[1];
    __pyx_v_columns = values[2];
    __pyx_v_impute_strategy = values[3];
    __pyx_v_coerce_datetime = values[4];
    __pyx_v_seed = values[5];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("one_click_prep", 0, 1, 6, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 103, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_process_kws); __pyx_v_process_kws = 0;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.one_click_prep", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_one_click_prep(__pyx_self, __pyx_v_data, __pyx_v_target_columns, __pyx_v_columns, __pyx_v_impute_strategy, __pyx_v_coerce_datetime, __pyx_v_seed, __pyx_v_process_kws);
</pre><pre class="cython line score-0">&#xA0;<span class="">0110</span>:     **process_kws</pre>
<pre class="cython line score-0">&#xA0;<span class="">0111</span>:     ):</pre>
<pre class="cython line score-0">&#xA0;<span class="">0112</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">0113</span>:     Perform all-in-one preprocessing for beginners on a pandas DataFrame,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0114</span>:     simplifying common tasks like scaling, encoding, and imputation.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0115</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0116</span>:     This function is designed to be user-friendly, particularly for those new</pre>
<pre class="cython line score-0">&#xA0;<span class="">0117</span>:     to data analysis, by automating complex preprocessing tasks with just a</pre>
<pre class="cython line score-0">&#xA0;<span class="">0118</span>:     few parameters. It supports selective processing through specification</pre>
<pre class="cython line score-0">&#xA0;<span class="">0119</span>:     of target and other columns and incorporates flexibility with custom</pre>
<pre class="cython line score-0">&#xA0;<span class="">0120</span>:     imputation strategies and random seeds for reproducibility.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0121</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0122</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">0123</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0124</span>:     data : pandas.DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">0125</span>:         The DataFrame to preprocess. This should be a structured DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">0126</span>:         with any combination of numeric and categorical variables.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0127</span>:     target_columns : str or list of str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">0128</span>:         Column(s) designated as target(s) for modeling. These columns will</pre>
<pre class="cython line score-0">&#xA0;<span class="">0129</span>:         not be scaled or imputed to avoid data leakage. Defaults to None,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0130</span>:         implying no columns are treated as targets.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0131</span>:     columns : str or list of str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">0132</span>:         Column names to be specifically included in preprocessing. If None</pre>
<pre class="cython line score-0">&#xA0;<span class="">0133</span>:         (default), all columns are processed.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0134</span>:     impute_strategy : dict, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">0135</span>:         Defines specific strategies for imputing missing values, separately</pre>
<pre class="cython line score-0">&#xA0;<span class="">0136</span>:         for 'numeric' and 'categorical' data types. The default strategy is</pre>
<pre class="cython line score-0">&#xA0;<span class="">0137</span>:         {'numeric': 'median', 'categorical': 'constant'}.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0138</span>:     coerce_datetime : bool, default=False</pre>
<pre class="cython line score-0">&#xA0;<span class="">0139</span>:         If True, tries to convert object columns to datetime data types when</pre>
<pre class="cython line score-0">&#xA0;<span class="">0140</span>:         `data` is a numpy array.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0141</span>:     seed : int, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">0142</span>:         Random seed for operations that involve randomization, ensuring</pre>
<pre class="cython line score-0">&#xA0;<span class="">0143</span>:         reproducibility of results. Defaults to None.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0144</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0145</span>:     **process_kws : keyword arguments, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">0146</span>:         Additional arguments that can be passed to preprocessing steps, such</pre>
<pre class="cython line score-0">&#xA0;<span class="">0147</span>:         as parameters for scaling or encoding methods.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0148</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0149</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">0150</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0151</span>:     pandas.DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">0152</span>:         A DataFrame with preprocessed data, where numeric columns have been</pre>
<pre class="cython line score-0">&#xA0;<span class="">0153</span>:         scaled, categorical columns encoded, and missing values imputed.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0154</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0155</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">0156</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0157</span>:     &gt;&gt;&gt; import pandas as pd</pre>
<pre class="cython line score-0">&#xA0;<span class="">0158</span>:     &gt;&gt;&gt; import numpy as np</pre>
<pre class="cython line score-0">&#xA0;<span class="">0159</span>:     &gt;&gt;&gt; from gofast.tools import one_click_preprocess</pre>
<pre class="cython line score-0">&#xA0;<span class="">0160</span>:     &gt;&gt;&gt; data = pd.DataFrame({</pre>
<pre class="cython line score-0">&#xA0;<span class="">0161</span>:     ...     'Age': [25, np.nan, 37, 59],</pre>
<pre class="cython line score-0">&#xA0;<span class="">0162</span>:     ...     'City': ['New York', 'Paris', 'Berlin', np.nan],</pre>
<pre class="cython line score-0">&#xA0;<span class="">0163</span>:     ...     'Income': [58000, 67000, np.nan, 120000]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0164</span>:     ... })</pre>
<pre class="cython line score-0">&#xA0;<span class="">0165</span>:     &gt;&gt;&gt; processed_data = one_click_preprocess(</pre>
<pre class="cython line score-0">&#xA0;<span class="">0166</span>:     ...     data, seed=42)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0167</span>:     &gt;&gt;&gt; processed_data.head()</pre>
<pre class="cython line score-0">&#xA0;<span class="">0168</span>:             Age    Income  City_Berlin  City_New York  City_Paris  City_missing</pre>
<pre class="cython line score-0">&#xA0;<span class="">0169</span>:     0 -1.180971 -0.815478            0              1           0             0</pre>
<pre class="cython line score-0">&#xA0;<span class="">0170</span>:     1 -0.203616 -0.448513            0              0           1             0</pre>
<pre class="cython line score-0">&#xA0;<span class="">0171</span>:     2 -0.203616 -0.448513            1              0           0             0</pre>
<pre class="cython line score-0">&#xA0;<span class="">0172</span>:     3  1.588203  1.712504            0              0           0             1</pre>
<pre class="cython line score-0">&#xA0;<span class="">0173</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0174</span>:     After preprocessing, the 'Age' and 'Income' columns will be scaled,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0175</span>:     the 'City' column will be one-hot encoded, and missing values in</pre>
<pre class="cython line score-0">&#xA0;<span class="">0176</span>:     'Age' and 'City' will be imputed based on the specified strategies.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0177</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0178</span>:     Notes</pre>
<pre class="cython line score-0">&#xA0;<span class="">0179</span>:     -----</pre>
<pre class="cython line score-0">&#xA0;<span class="">0180</span>:     The function relies on scikit-learn's ColumnTransformer to apply</pre>
<pre class="cython line score-0">&#xA0;<span class="">0181</span>:     different preprocessing steps to numeric and categorical columns.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0182</span>:     It is important to note that while this function aims to simplify</pre>
<pre class="cython line score-0">&#xA0;<span class="">0183</span>:     preprocessing for beginners, understanding the underlying transformations</pre>
<pre class="cython line score-0">&#xA0;<span class="">0184</span>:     and their implications is beneficial for more advanced data analysis.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0185</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">0186</span>:     # Convert input data to a DataFrame if it is not one already,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0187</span>:     # handling any issues silently.</pre>
<pre class="cython line score-38" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0188</span>:     data = build_data_if(data, to_frame=True, force=True, input_name='col',</pre>
<pre class='cython code score-38 '>  <span class='trace'>__Pyx_TraceLine</span>(188,0,<span class='error_goto'>__PYX_ERR(0, 188, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_build_data_if);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 188, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 188, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_data)) <span class='error_goto'>__PYX_ERR(0, 188, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 188, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_to_frame, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 188, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_force, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 188, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_input_name, __pyx_n_u_col) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 188, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_raise_warning, __pyx_n_u_silence) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 188, __pyx_L1_error)</span>
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(188,0,<span class='error_goto'>__PYX_ERR(0, 188, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_2, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 188, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_data, __pyx_t_4);
  __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0189</span>:                          raise_warning='silence',</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0190</span>:                          coerce_datetime=coerce_datetime</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(190,0,<span class='error_goto'>__PYX_ERR(0, 190, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_coerce_datetime, __pyx_v_coerce_datetime) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 188, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0191</span>:                          )</pre>
<pre class="cython line score-0">&#xA0;<span class="">0192</span>:     # Set a seed for reproducibility in operations that involve randomness.</pre>
<pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0193</span>:     np.random.seed(seed)</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(193,0,<span class='error_goto'>__PYX_ERR(0, 193, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 193, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_random);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 193, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_seed);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 193, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_seed};
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 193, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0194</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0195</span>:     # Set default imputation strategies if none are provided.</pre>
<pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0196</span>:     impute_strategy = impute_strategy or {</pre>
<pre class='cython code score-3 '>  <span class='trace'>__Pyx_TraceLine</span>(196,0,<span class='error_goto'>__PYX_ERR(0, 196, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_impute_strategy); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 196, __pyx_L1_error)</span>
  if (!__pyx_t_6) {
  } else {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_impute_strategy);
    __pyx_t_4 = __pyx_v_impute_strategy;
    goto __pyx_L3_bool_binop_done;
  }
</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0197</span>:         'numeric': 'median', 'categorical': 'constant'}</pre>
<pre class='cython code score-15 '>  <span class='trace'>__Pyx_TraceLine</span>(197,0,<span class='error_goto'>__PYX_ERR(0, 197, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 197, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_u_numeric, __pyx_n_u_median) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 197, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_u_categorical, __pyx_n_u_constant) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 197, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
  __pyx_t_4 = __pyx_t_3;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_L3_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_impute_strategy, __pyx_t_4);
  __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0198</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0199</span>:     # Ensure impute_strategy is a dictionary with required keys.</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0200</span>:     if ( not isinstance(impute_strategy, dict)</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(200,0,<span class='error_goto'>__PYX_ERR(0, 200, __pyx_L1_error)</span>)
  __pyx_t_7 = <span class='py_c_api'>PyDict_Check</span>(__pyx_v_impute_strategy); 
  __pyx_t_8 = (!__pyx_t_7);
  if (!__pyx_t_8) {
  } else {
    __pyx_t_6 = __pyx_t_8;
    goto __pyx_L6_bool_binop_done;
  }
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(200,0,<span class='error_goto'>__PYX_ERR(0, 200, __pyx_L1_error)</span>)
  if (unlikely(__pyx_t_6)) {
/*  */
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0201</span>:         or 'numeric' not in impute_strategy</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(201,0,<span class='error_goto'>__PYX_ERR(0, 201, __pyx_L1_error)</span>)
  __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_n_u_numeric, __pyx_v_impute_strategy, Py_NE)); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 201, __pyx_L1_error)</span>
  if (!__pyx_t_8) {
  } else {
    __pyx_t_6 = __pyx_t_8;
    goto __pyx_L6_bool_binop_done;
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0202</span>:         or 'categorical' not in impute_strategy</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(202,0,<span class='error_goto'>__PYX_ERR(0, 202, __pyx_L1_error)</span>)
  __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_n_u_categorical, __pyx_v_impute_strategy, Py_NE)); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 202, __pyx_L1_error)</span>
  __pyx_t_6 = __pyx_t_8;
  __pyx_L6_bool_binop_done:;
</pre><pre class="cython line score-0">&#xA0;<span class="">0203</span>:         ):</pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0204</span>:         raise ValueError("impute_strategy must be a dictionary with"</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(204,0,<span class='error_goto'>__PYX_ERR(0, 204, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__2, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 204, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_4, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='error_goto'>__PYX_ERR(0, 204, __pyx_L1_error)</span>
/*  */
  __pyx_tuple__2 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_impute_strategy_must_be_a_dictio);<span class='error_goto'> if (unlikely(!__pyx_tuple__2)) __PYX_ERR(0, 204, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__2);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__2);
</pre><pre class="cython line score-0">&#xA0;<span class="">0205</span>:                          " 'numeric' and 'categorical' keys")</pre>
<pre class="cython line score-0">&#xA0;<span class="">0206</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0207</span>:     # Pop keyword arguments or set defaults for handling missing categories,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0208</span>:     # fill values, and behavior of additional columns not specified in transformers.</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0209</span>:     handle_unknown = process_kws.pop("handle_unknown", 'ignore')</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(209,0,<span class='error_goto'>__PYX_ERR(0, 209, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_Pop</span>(__pyx_v_process_kws, __pyx_n_u_handle_unknown, __pyx_n_u_ignore);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 209, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_v_handle_unknown = __pyx_t_4;
  __pyx_t_4 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0210</span>:     fill_value = process_kws.pop("fill_value", 'missing')</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(210,0,<span class='error_goto'>__PYX_ERR(0, 210, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_Pop</span>(__pyx_v_process_kws, __pyx_n_u_fill_value, __pyx_n_u_missing);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 210, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_v_fill_value = __pyx_t_4;
  __pyx_t_4 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0211</span>:     remainder = process_kws.pop("remainder", 'passthrough')</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(211,0,<span class='error_goto'>__PYX_ERR(0, 211, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_Pop</span>(__pyx_v_process_kws, __pyx_n_u_remainder, __pyx_n_u_passthrough);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 211, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_v_remainder = __pyx_t_4;
  __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0212</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0213</span>:     # If specific columns are specified, reduce the DataFrame to these columns only.</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0214</span>:     if columns is not None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(214,0,<span class='error_goto'>__PYX_ERR(0, 214, __pyx_L1_error)</span>)
  __pyx_t_6 = (__pyx_v_columns != Py_None);
  if (__pyx_t_6) {
/*  */
  }
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0215</span>:         columns = list(is_iterable(columns, exclude_string= True, transform =True ))</pre>
<pre class='cython code score-31 '>    <span class='trace'>__Pyx_TraceLine</span>(215,0,<span class='error_goto'>__PYX_ERR(0, 215, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_is_iterable);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 215, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 215, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_columns);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_columns);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_columns)) <span class='error_goto'>__PYX_ERR(0, 215, __pyx_L1_error)</span>;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 215, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_exclude_string, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 215, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_transform, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 215, __pyx_L1_error)</span>
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_4, __pyx_t_3, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 215, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ListKeepNew</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 215, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_columns, __pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0216</span>:         data = data[columns] if isinstance(columns, list) else data[[columns]]</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(216,0,<span class='error_goto'>__PYX_ERR(0, 216, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='py_c_api'>PyList_Check</span>(__pyx_v_columns); 
    if (__pyx_t_6) {
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_v_columns);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 216, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_2 = __pyx_t_1;
      __pyx_t_1 = 0;
    } else {
      __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 216, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_columns);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_columns);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_columns)) <span class='error_goto'>__PYX_ERR(0, 216, __pyx_L1_error)</span>;
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 216, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_2 = __pyx_t_3;
      __pyx_t_3 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_data, __pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0217</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0218</span>:     # Convert target_columns to a list if it's a single column passed as string.</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0219</span>:     if target_columns is not None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(219,0,<span class='error_goto'>__PYX_ERR(0, 219, __pyx_L1_error)</span>)
  __pyx_t_6 = (__pyx_v_target_columns != Py_None);
  if (__pyx_t_6) {
/*  */
  }
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0220</span>:         target_columns = [target_columns] if isinstance(</pre>
<pre class='cython code score-8 '>      <span class='trace'>__Pyx_TraceLine</span>(220,0,<span class='error_goto'>__PYX_ERR(0, 220, __pyx_L1_error)</span>)
      __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 220, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_columns);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target_columns);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_target_columns)) <span class='error_goto'>__PYX_ERR(0, 220, __pyx_L1_error)</span>;
      __pyx_t_2 = __pyx_t_3;
      __pyx_t_3 = 0;
    } else {
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0221</span>:             target_columns, str) else target_columns</pre>
<pre class='cython code score-7 '>    <span class='trace'>__Pyx_TraceLine</span>(221,0,<span class='error_goto'>__PYX_ERR(0, 221, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_target_columns); 
    if (__pyx_t_6) {
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(221,0,<span class='error_goto'>__PYX_ERR(0, 221, __pyx_L1_error)</span>)
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_columns);
      __pyx_t_2 = __pyx_v_target_columns;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_target_columns, __pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0222</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0223</span>:     # Identify numeric and categorical features based on their data type.</pre>
<pre class="cython line score-48" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0224</span>:     numeric_features = data.select_dtypes(['int64', 'float64']).columns.tolist()</pre>
<pre class='cython code score-48 '>  <span class='trace'>__Pyx_TraceLine</span>(224,0,<span class='error_goto'>__PYX_ERR(0, 224, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_select_dtypes);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 224, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_4 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 224, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_int64);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_int64);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 0, __pyx_n_u_int64)) <span class='error_goto'>__PYX_ERR(0, 224, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_float64);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_float64);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 1, __pyx_n_u_float64)) <span class='error_goto'>__PYX_ERR(0, 224, __pyx_L1_error)</span>;
  __pyx_t_9 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_9)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_9, __pyx_t_4};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 224, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 224, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_tolist);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 224, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_1)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_1, NULL};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_5, 0+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 224, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_v_numeric_features = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-45" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0225</span>:     categorical_features = data.select_dtypes(['object']).columns.tolist()</pre>
<pre class='cython code score-45 '>  <span class='trace'>__Pyx_TraceLine</span>(225,0,<span class='error_goto'>__PYX_ERR(0, 225, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_select_dtypes);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 225, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_4 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 225, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_object);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_object);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 0, __pyx_n_u_object)) <span class='error_goto'>__PYX_ERR(0, 225, __pyx_L1_error)</span>;
  __pyx_t_9 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_9)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_9, __pyx_t_4};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 225, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 225, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_tolist);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 225, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_1)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_1, NULL};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_5, 0+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 225, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_v_categorical_features = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0226</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0227</span>:     # Exclude target columns from the numeric features list if specified.</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0228</span>:     if target_columns is not None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(228,0,<span class='error_goto'>__PYX_ERR(0, 228, __pyx_L1_error)</span>)
  __pyx_t_6 = (__pyx_v_target_columns != Py_None);
  if (__pyx_t_6) {
/*  */
  }
</pre><pre class="cython line score-59" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0229</span>:         numeric_features = [col for col in numeric_features</pre>
<pre class='cython code score-59 '>    <span class='trace'>__Pyx_TraceLine</span>(229,0,<span class='error_goto'>__PYX_ERR(0, 229, __pyx_L1_error)</span>)
    { /* enter inner scope */
      __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 229, __pyx_L14_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_numeric_features)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_numeric_features)) {
        __pyx_t_3 = __pyx_v_numeric_features; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        __pyx_t_10 = 0;
        __pyx_t_11 = NULL;
      } else {
        __pyx_t_10 = -1; __pyx_t_3 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_numeric_features);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 229, __pyx_L14_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 229, __pyx_L14_error)</span>
      }
      for (;;) {
        if (likely(!__pyx_t_11)) {
          if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_3))) {
            {
              Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_3);
              #if !CYTHON_ASSUME_SAFE_MACROS
              if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 229, __pyx_L14_error)</span>
              #endif
              if (__pyx_t_10 &gt;= __pyx_temp) break;
            }
            #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
            __pyx_t_1 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_3, __pyx_t_10); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1); __pyx_t_10++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 229, __pyx_L14_error)</span>
            #else
            __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_3, __pyx_t_10); __pyx_t_10++;<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 229, __pyx_L14_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
            #endif
          } else {
            {
              Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_3);
              #if !CYTHON_ASSUME_SAFE_MACROS
              if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 229, __pyx_L14_error)</span>
              #endif
              if (__pyx_t_10 &gt;= __pyx_temp) break;
            }
            #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
            __pyx_t_1 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_3, __pyx_t_10); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1); __pyx_t_10++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 229, __pyx_L14_error)</span>
            #else
            __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_3, __pyx_t_10); __pyx_t_10++;<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 229, __pyx_L14_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
            #endif
          }
        } else {
          __pyx_t_1 = __pyx_t_11(__pyx_t_3);
          if (unlikely(!__pyx_t_1)) {
            PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
            if (exc_type) {
              if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
              else <span class='error_goto'>__PYX_ERR(0, 229, __pyx_L14_error)</span>
            }
            break;
          }
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        }
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_7genexpr__pyx_v_col, __pyx_t_1);
        __pyx_t_1 = 0;
/*  */
          <span class='trace'>__Pyx_TraceLine</span>(229,0,<span class='error_goto'>__PYX_ERR(0, 229, __pyx_L14_error)</span>)
          if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_2, (PyObject*)__pyx_7genexpr__pyx_v_col))) <span class='error_goto'>__PYX_ERR(0, 229, __pyx_L14_error)</span>
/*  */
        <span class='trace'>__Pyx_TraceLine</span>(229,0,<span class='error_goto'>__PYX_ERR(0, 229, __pyx_L14_error)</span>)
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_7genexpr__pyx_v_col); __pyx_7genexpr__pyx_v_col = 0;
      goto __pyx_L19_exit_scope;
      __pyx_L14_error:;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_7genexpr__pyx_v_col); __pyx_7genexpr__pyx_v_col = 0;
      goto __pyx_L1_error;
      __pyx_L19_exit_scope:;
    } /* exit inner scope */
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_numeric_features, __pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0230</span>:                             if col not in target_columns]</pre>
<pre class='cython code score-2 '>        <span class='trace'>__Pyx_TraceLine</span>(230,0,<span class='error_goto'>__PYX_ERR(0, 230, __pyx_L14_error)</span>)
        __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_7genexpr__pyx_v_col, __pyx_v_target_columns, Py_NE)); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 230, __pyx_L14_error)</span>
        if (__pyx_t_6) {
/*  */
        }
</pre><pre class="cython line score-0">&#xA0;<span class="">0231</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0232</span>:     # Define transformation pipeline for numeric features: imputation and scaling.</pre>
<pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0233</span>:     numeric_transformer = Pipeline(steps=[</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(233,0,<span class='error_goto'>__PYX_ERR(0, 233, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_Pipeline);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 233, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 233, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(233,0,<span class='error_goto'>__PYX_ERR(0, 233, __pyx_L1_error)</span>)
  __pyx_t_9 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 233, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_9, 0, __pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 233, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_9, 1, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 233, __pyx_L1_error)</span>;
  __pyx_t_4 = 0;
  __pyx_t_1 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_steps, __pyx_t_9) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 233, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_empty_tuple, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 233, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_v_numeric_transformer = __pyx_t_9;
  __pyx_t_9 = 0;
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0234</span>:         ('imputer', SimpleImputer(strategy=impute_strategy['numeric'])),</pre>
<pre class='cython code score-26 '>  <span class='trace'>__Pyx_TraceLine</span>(234,0,<span class='error_goto'>__PYX_ERR(0, 234, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_SimpleImputer);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 234, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 234, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_Dict_GetItem</span>(__pyx_v_impute_strategy, __pyx_n_u_numeric);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 234, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_strategy, __pyx_t_9) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 234, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_empty_tuple, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 234, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 234, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_imputer);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_imputer);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_n_u_imputer)) <span class='error_goto'>__PYX_ERR(0, 234, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_9);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_t_9)) <span class='error_goto'>__PYX_ERR(0, 234, __pyx_L1_error)</span>;
  __pyx_t_9 = 0;
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0235</span>:         ('scaler', StandardScaler())</pre>
<pre class='cython code score-26 '>  <span class='trace'>__Pyx_TraceLine</span>(235,0,<span class='error_goto'>__PYX_ERR(0, 235, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_StandardScaler);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 235, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_12 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_12 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_12)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_12);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_12, NULL};
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_5, 0+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
    if (unlikely(!__pyx_t_9)) <span class='error_goto'>__PYX_ERR(0, 235, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 235, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_scaler);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_scaler);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_n_u_scaler)) <span class='error_goto'>__PYX_ERR(0, 235, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_9);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_t_9)) <span class='error_goto'>__PYX_ERR(0, 235, __pyx_L1_error)</span>;
  __pyx_t_9 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0236</span>:     ])</pre>
<pre class="cython line score-0">&#xA0;<span class="">0237</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0238</span>:     # Define transformation pipeline for categorical</pre>
<pre class="cython line score-0">&#xA0;<span class="">0239</span>:     # features: imputation and one-hot encoding.</pre>
<pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0240</span>:     steps = [('imputer', SimpleImputer(</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(240,0,<span class='error_goto'>__PYX_ERR(0, 240, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_9, __pyx_n_s_SimpleImputer);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 240, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(240,0,<span class='error_goto'>__PYX_ERR(0, 240, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_9, __pyx_empty_tuple, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 240, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 240, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_imputer);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_imputer);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_u_imputer)) <span class='error_goto'>__PYX_ERR(0, 240, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 240, __pyx_L1_error)</span>;
  __pyx_t_2 = 0;
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 240, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 240, __pyx_L1_error)</span>;
  __pyx_t_3 = 0;
  __pyx_v_steps = ((PyObject*)__pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0241</span>:         strategy=impute_strategy['categorical'], fill_value=fill_value))</pre>
<pre class='cython code score-15 '>  <span class='trace'>__Pyx_TraceLine</span>(241,0,<span class='error_goto'>__PYX_ERR(0, 241, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 241, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Dict_GetItem</span>(__pyx_v_impute_strategy, __pyx_n_u_categorical);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 241, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_strategy, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 241, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_fill_value, __pyx_v_fill_value) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 241, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0242</span>:         ]</pre>
<pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0243</span>:     categorical_step = ('onehot', OneHotEncoder(handle_unknown=handle_unknown))</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(243,0,<span class='error_goto'>__PYX_ERR(0, 243, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_OneHotEncoder);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 243, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 243, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_handle_unknown, __pyx_v_handle_unknown) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 243, __pyx_L1_error)</span>
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_empty_tuple, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 243, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 243, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_onehot);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_onehot);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_u_onehot)) <span class='error_goto'>__PYX_ERR(0, 243, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_9);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_t_9)) <span class='error_goto'>__PYX_ERR(0, 243, __pyx_L1_error)</span>;
  __pyx_t_9 = 0;
  __pyx_v_categorical_step = ((PyObject*)__pyx_t_3);
  __pyx_t_3 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0244</span>:     if categorical_features:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(244,0,<span class='error_goto'>__PYX_ERR(0, 244, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_categorical_features); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 244, __pyx_L1_error)</span>
  if (__pyx_t_6) {
/*  */
  }
</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0245</span>:         steps += [categorical_step]</pre>
<pre class='cython code score-15 '>    <span class='trace'>__Pyx_TraceLine</span>(245,0,<span class='error_goto'>__PYX_ERR(0, 245, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 245, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_categorical_step);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_categorical_step);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_categorical_step)) <span class='error_goto'>__PYX_ERR(0, 245, __pyx_L1_error)</span>;
    __pyx_t_9 = <span class='py_c_api'>PyNumber_InPlaceAdd</span>(__pyx_v_steps, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 245, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_steps, ((PyObject*)__pyx_t_9));
    __pyx_t_9 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0246</span>: </pre>
<pre class="cython line score-13" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0247</span>:     categorical_transformer = Pipeline(steps=steps)</pre>
<pre class='cython code score-13 '>  <span class='trace'>__Pyx_TraceLine</span>(247,0,<span class='error_goto'>__PYX_ERR(0, 247, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_9, __pyx_n_s_Pipeline);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 247, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 247, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_steps, __pyx_v_steps) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 247, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_9, __pyx_empty_tuple, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 247, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_v_categorical_transformer = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0248</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0249</span>:     # Combine the numeric and categorical transformations with ColumnTransformer.</pre>
<pre class="cython line score-21" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0250</span>:     transformer_steps = [('num', numeric_transformer, numeric_features)]</pre>
<pre class='cython code score-21 '>  <span class='trace'>__Pyx_TraceLine</span>(250,0,<span class='error_goto'>__PYX_ERR(0, 250, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 250, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_num);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_num);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_u_num)) <span class='error_goto'>__PYX_ERR(0, 250, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_numeric_transformer);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_numeric_transformer);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_v_numeric_transformer)) <span class='error_goto'>__PYX_ERR(0, 250, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_numeric_features);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_numeric_features);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 2, __pyx_v_numeric_features)) <span class='error_goto'>__PYX_ERR(0, 250, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 250, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 250, __pyx_L1_error)</span>;
  __pyx_t_2 = 0;
  __pyx_v_transformer_steps = ((PyObject*)__pyx_t_3);
  __pyx_t_3 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0251</span>:     if categorical_features:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(251,0,<span class='error_goto'>__PYX_ERR(0, 251, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_categorical_features); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 251, __pyx_L1_error)</span>
  if (__pyx_t_6) {
/*  */
  }
</pre><pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0252</span>:         transformer_steps +=[('cat', categorical_transformer, categorical_features)]</pre>
<pre class='cython code score-28 '>    <span class='trace'>__Pyx_TraceLine</span>(252,0,<span class='error_goto'>__PYX_ERR(0, 252, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 252, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_cat);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_cat);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_u_cat)) <span class='error_goto'>__PYX_ERR(0, 252, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_categorical_transformer);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_categorical_transformer);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_v_categorical_transformer)) <span class='error_goto'>__PYX_ERR(0, 252, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_categorical_features);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_categorical_features);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 2, __pyx_v_categorical_features)) <span class='error_goto'>__PYX_ERR(0, 252, __pyx_L1_error)</span>;
    __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 252, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 252, __pyx_L1_error)</span>;
    __pyx_t_3 = 0;
    __pyx_t_3 = <span class='py_c_api'>PyNumber_InPlaceAdd</span>(__pyx_v_transformer_steps, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 252, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_transformer_steps, ((PyObject*)__pyx_t_3));
    __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0253</span>: </pre>
<pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0254</span>:     preprocessor = ColumnTransformer(</pre>
<pre class='cython code score-6 '>  <span class='trace'>__Pyx_TraceLine</span>(254,0,<span class='error_goto'>__PYX_ERR(0, 254, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_ColumnTransformer);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 254, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(254,0,<span class='error_goto'>__PYX_ERR(0, 254, __pyx_L1_error)</span>)
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_empty_tuple, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 254, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_preprocessor = __pyx_t_9;
  __pyx_t_9 = 0;
</pre><pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0255</span>:         transformers=transformer_steps, remainder=remainder</pre>
<pre class='cython code score-12 '>  <span class='trace'>__Pyx_TraceLine</span>(255,0,<span class='error_goto'>__PYX_ERR(0, 255, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 255, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_transformers, __pyx_v_transformer_steps) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 255, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_remainder, __pyx_v_remainder) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 255, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0256</span>:     )</pre>
<pre class="cython line score-0">&#xA0;<span class="">0257</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0258</span>:     # Fit and transform the data using the defined ColumnTransformer.</pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0259</span>:     data_processed = preprocessor.fit_transform(data)</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(259,0,<span class='error_goto'>__PYX_ERR(0, 259, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_preprocessor, __pyx_n_s_fit_transform);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 259, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_data};
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_9)) <span class='error_goto'>__PYX_ERR(0, 259, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_v_data_processed = __pyx_t_9;
  __pyx_t_9 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0260</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0261</span>:     # Attempt to retrieve processed column names for creating</pre>
<pre class="cython line score-0">&#xA0;<span class="">0262</span>:     # a DataFrame from the transformed data.</pre>
<pre class="cython line score-13" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0263</span>:     try:</pre>
<pre class='cython code score-13 '>  <span class='trace'>__Pyx_TraceLine</span>(263,0,<span class='error_goto'>__PYX_ERR(0, 263, __pyx_L1_error)</span>)
  {
    /*try:*/ {
/*  */
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
    goto __pyx_L27_try_end;
    __pyx_L22_error:;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
/*  */
    __pyx_L24_except_error:;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_14);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_15);
    <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_13, __pyx_t_14, __pyx_t_15);
    goto __pyx_L1_error;
    __pyx_L23_exception_handled:;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_14);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_15);
    <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_13, __pyx_t_14, __pyx_t_15);
    __pyx_L27_try_end:;
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">0264</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0265</span>:         if categorical_features:</pre>
<pre class='cython code score-2 '>      <span class='trace'>__Pyx_TraceLine</span>(265,0,<span class='error_goto'>__PYX_ERR(0, 265, __pyx_L22_error)</span>)
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_categorical_features); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 265, __pyx_L22_error)</span>
      if (__pyx_t_6) {
/*  */
        goto __pyx_L28;
      }
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0266</span>:             processed_columns = numeric_features + list(get_feature_names(</pre>
<pre class='cython code score-11 '>        <span class='trace'>__Pyx_TraceLine</span>(266,0,<span class='error_goto'>__PYX_ERR(0, 266, __pyx_L22_error)</span>)
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_get_feature_names);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 266, __pyx_L22_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
/*  */
        <span class='trace'>__Pyx_TraceLine</span>(266,0,<span class='error_goto'>__PYX_ERR(0, 266, __pyx_L22_error)</span>)
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ListKeepNew</span>(__pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 266, __pyx_L22_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        __pyx_t_9 = <span class='py_c_api'>PyNumber_Add</span>(__pyx_v_numeric_features, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 266, __pyx_L22_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        { /* enter inner scope */
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0267</span>:                 preprocessor.named_transformers_['cat']['onehot'], categorical_features)</pre>
<pre class='cython code score-23 '>        <span class='trace'>__Pyx_TraceLine</span>(267,0,<span class='error_goto'>__PYX_ERR(0, 267, __pyx_L22_error)</span>)
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_preprocessor, __pyx_n_s_named_transformers);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 267, __pyx_L22_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Dict_GetItem</span>(__pyx_t_3, __pyx_n_u_cat);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 267, __pyx_L22_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Dict_GetItem</span>(__pyx_t_1, __pyx_n_u_onehot);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 267, __pyx_L22_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        __pyx_t_1 = NULL;
        __pyx_t_5 = 0;
        #if CYTHON_UNPACK_METHODS
        if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
          __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
          if (likely(__pyx_t_1)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
            __pyx_t_5 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[3] = {__pyx_t_1, __pyx_t_3, __pyx_v_categorical_features};
          __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_5, 2+__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          if (unlikely(!__pyx_t_9)) <span class='error_goto'>__PYX_ERR(0, 266, __pyx_L22_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        }
</pre><pre class="cython line score-68" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0268</span>:                 ) + [col for col in data.columns</pre>
<pre class='cython code score-68 '>          <span class='trace'>__Pyx_TraceLine</span>(268,0,<span class='error_goto'>__PYX_ERR(0, 268, __pyx_L31_error)</span>)
          __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 268, __pyx_L31_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 268, __pyx_L31_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_3)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_3)) {
            __pyx_t_1 = __pyx_t_3; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
            __pyx_t_10 = 0;
            __pyx_t_11 = NULL;
          } else {
            __pyx_t_10 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 268, __pyx_L31_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
            __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 268, __pyx_L31_error)</span>
          }
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          for (;;) {
            if (likely(!__pyx_t_11)) {
              if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
                {
                  Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
                  #if !CYTHON_ASSUME_SAFE_MACROS
                  if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 268, __pyx_L31_error)</span>
                  #endif
                  if (__pyx_t_10 &gt;= __pyx_temp) break;
                }
                #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
                __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_10); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3); __pyx_t_10++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 268, __pyx_L31_error)</span>
                #else
                __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_10); __pyx_t_10++;<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 268, __pyx_L31_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
                #endif
              } else {
                {
                  Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
                  #if !CYTHON_ASSUME_SAFE_MACROS
                  if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 268, __pyx_L31_error)</span>
                  #endif
                  if (__pyx_t_10 &gt;= __pyx_temp) break;
                }
                #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
                __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_10); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3); __pyx_t_10++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 268, __pyx_L31_error)</span>
                #else
                __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_10); __pyx_t_10++;<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 268, __pyx_L31_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
                #endif
              }
            } else {
              __pyx_t_3 = __pyx_t_11(__pyx_t_1);
              if (unlikely(!__pyx_t_3)) {
                PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
                if (exc_type) {
                  if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
                  else <span class='error_goto'>__PYX_ERR(0, 268, __pyx_L31_error)</span>
                }
                break;
              }
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
            }
            <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_8genexpr1__pyx_v_col, __pyx_t_3);
            __pyx_t_3 = 0;
/*  */
              <span class='trace'>__Pyx_TraceLine</span>(268,0,<span class='error_goto'>__PYX_ERR(0, 268, __pyx_L31_error)</span>)
              if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_2, (PyObject*)__pyx_8genexpr1__pyx_v_col))) <span class='error_goto'>__PYX_ERR(0, 268, __pyx_L31_error)</span>
/*  */
            <span class='trace'>__Pyx_TraceLine</span>(268,0,<span class='error_goto'>__PYX_ERR(0, 268, __pyx_L31_error)</span>)
          }
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr1__pyx_v_col); __pyx_8genexpr1__pyx_v_col = 0;
          goto __pyx_L36_exit_scope;
          __pyx_L31_error:;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr1__pyx_v_col); __pyx_8genexpr1__pyx_v_col = 0;
          goto __pyx_L22_error;
          __pyx_L36_exit_scope:;
        } /* exit inner scope */
        __pyx_t_1 = <span class='py_c_api'>PyNumber_Add</span>(__pyx_t_9, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 268, __pyx_L22_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        __pyx_v_processed_columns = __pyx_t_1;
        __pyx_t_1 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0269</span>:                      if col not in numeric_features + categorical_features]</pre>
<pre class='cython code score-8 '>            <span class='trace'>__Pyx_TraceLine</span>(269,0,<span class='error_goto'>__PYX_ERR(0, 269, __pyx_L31_error)</span>)
            __pyx_t_3 = <span class='py_c_api'>PyNumber_Add</span>(__pyx_v_numeric_features, __pyx_v_categorical_features);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 269, __pyx_L31_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
            __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_8genexpr1__pyx_v_col, __pyx_t_3, Py_NE)); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 269, __pyx_L31_error)</span>
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
            if (__pyx_t_6) {
/*  */
            }
</pre><pre class="cython line score-0">&#xA0;<span class="">0270</span>:         else:</pre>
<pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0271</span>:             processed_columns = numeric_features  + [</pre>
<pre class='cython code score-11 '>      <span class='trace'>__Pyx_TraceLine</span>(271,0,<span class='error_goto'>__PYX_ERR(0, 271, __pyx_L22_error)</span>)
      /*else*/ {
        { /* enter inner scope */
          __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 271, __pyx_L39_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
/*  */
        <span class='trace'>__Pyx_TraceLine</span>(271,0,<span class='error_goto'>__PYX_ERR(0, 271, __pyx_L22_error)</span>)
        __pyx_t_9 = <span class='py_c_api'>PyNumber_Add</span>(__pyx_v_numeric_features, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 271, __pyx_L22_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        __pyx_v_processed_columns = __pyx_t_9;
        __pyx_t_9 = 0;
      }
      __pyx_L28:;
</pre><pre class="cython line score-58" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0272</span>:                 col for col in data.columns if col not in numeric_features]</pre>
<pre class='cython code score-58 '>          <span class='trace'>__Pyx_TraceLine</span>(272,0,<span class='error_goto'>__PYX_ERR(0, 272, __pyx_L39_error)</span>)
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 272, __pyx_L39_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_2)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_2)) {
            __pyx_t_9 = __pyx_t_2; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
            __pyx_t_10 = 0;
            __pyx_t_11 = NULL;
          } else {
            __pyx_t_10 = -1; __pyx_t_9 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 272, __pyx_L39_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
            __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 272, __pyx_L39_error)</span>
          }
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          for (;;) {
            if (likely(!__pyx_t_11)) {
              if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_9))) {
                {
                  Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_9);
                  #if !CYTHON_ASSUME_SAFE_MACROS
                  if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 272, __pyx_L39_error)</span>
                  #endif
                  if (__pyx_t_10 &gt;= __pyx_temp) break;
                }
                #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
                __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_9, __pyx_t_10); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_10++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 272, __pyx_L39_error)</span>
                #else
                __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_9, __pyx_t_10); __pyx_t_10++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 272, __pyx_L39_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
                #endif
              } else {
                {
                  Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_9);
                  #if !CYTHON_ASSUME_SAFE_MACROS
                  if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 272, __pyx_L39_error)</span>
                  #endif
                  if (__pyx_t_10 &gt;= __pyx_temp) break;
                }
                #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
                __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_9, __pyx_t_10); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_10++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 272, __pyx_L39_error)</span>
                #else
                __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_9, __pyx_t_10); __pyx_t_10++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 272, __pyx_L39_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
                #endif
              }
            } else {
              __pyx_t_2 = __pyx_t_11(__pyx_t_9);
              if (unlikely(!__pyx_t_2)) {
                PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
                if (exc_type) {
                  if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
                  else <span class='error_goto'>__PYX_ERR(0, 272, __pyx_L39_error)</span>
                }
                break;
              }
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
            }
            <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_8genexpr2__pyx_v_col, __pyx_t_2);
            __pyx_t_2 = 0;
            __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_8genexpr2__pyx_v_col, __pyx_v_numeric_features, Py_NE)); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 272, __pyx_L39_error)</span>
            if (__pyx_t_6) {
              if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_1, (PyObject*)__pyx_8genexpr2__pyx_v_col))) <span class='error_goto'>__PYX_ERR(0, 271, __pyx_L39_error)</span>
            }
          }
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr2__pyx_v_col); __pyx_8genexpr2__pyx_v_col = 0;
          goto __pyx_L44_exit_scope;
          __pyx_L39_error:;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr2__pyx_v_col); __pyx_8genexpr2__pyx_v_col = 0;
          goto __pyx_L22_error;
          __pyx_L44_exit_scope:;
        } /* exit inner scope */
</pre><pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0273</span>:     except:</pre>
<pre class='cython code score-4 '>    <span class='trace'>__Pyx_TraceLine</span>(273,0,<span class='error_goto'>__PYX_ERR(0, 273, __pyx_L24_except_error)</span>)
    /*except:*/ {
      <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.one_click_prep", __pyx_clineno, __pyx_lineno, __pyx_filename);
      if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_9, &amp;__pyx_t_1, &amp;__pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 273, __pyx_L24_except_error)</span>
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_9);
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_2);
</pre><pre class="cython line score-0">&#xA0;<span class="">0274</span>:         # Fallback for older versions of scikit-learn or other compatibility issues.</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0275</span>:         if categorical_features:</pre>
<pre class='cython code score-2 '>      <span class='trace'>__Pyx_TraceLine</span>(275,0,<span class='error_goto'>__PYX_ERR(0, 275, __pyx_L24_except_error)</span>)
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_categorical_features); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 275, __pyx_L24_except_error)</span>
      if (__pyx_t_6) {
/*  */
        goto __pyx_L47;
      }
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0276</span>:             cat_features_names = get_feature_names(preprocessor.named_transformers_['cat'])</pre>
<pre class='cython code score-22 '>        <span class='trace'>__Pyx_TraceLine</span>(276,0,<span class='error_goto'>__PYX_ERR(0, 276, __pyx_L24_except_error)</span>)
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_get_feature_names);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 276, __pyx_L24_except_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_preprocessor, __pyx_n_s_named_transformers);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 276, __pyx_L24_except_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
        __pyx_t_16 = <span class='pyx_c_api'>__Pyx_PyObject_Dict_GetItem</span>(__pyx_t_12, __pyx_n_u_cat);<span class='error_goto'> if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 276, __pyx_L24_except_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_16);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
        __pyx_t_12 = NULL;
        __pyx_t_5 = 0;
        #if CYTHON_UNPACK_METHODS
        if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
          __pyx_t_12 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
          if (likely(__pyx_t_12)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_12);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
            __pyx_t_5 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_12, __pyx_t_16};
          __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_16); __pyx_t_16 = 0;
          if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 276, __pyx_L24_except_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        }
        __pyx_v_cat_features_names = __pyx_t_3;
        __pyx_t_3 = 0;
</pre><pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0277</span>:             processed_columns = numeric_features + list(cat_features_names)</pre>
<pre class='cython code score-12 '>        <span class='trace'>__Pyx_TraceLine</span>(277,0,<span class='error_goto'>__PYX_ERR(0, 277, __pyx_L24_except_error)</span>)
        __pyx_t_3 = <span class='py_c_api'>PySequence_List</span>(__pyx_v_cat_features_names);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 277, __pyx_L24_except_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        __pyx_t_4 = <span class='py_c_api'>PyNumber_Add</span>(__pyx_v_numeric_features, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 277, __pyx_L24_except_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_processed_columns, __pyx_t_4);
        __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0278</span>:         else:</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0279</span>:             processed_columns = numeric_features</pre>
<pre class='cython code score-5 '>      <span class='trace'>__Pyx_TraceLine</span>(279,0,<span class='error_goto'>__PYX_ERR(0, 279, __pyx_L24_except_error)</span>)
      /*else*/ {
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_numeric_features);
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_processed_columns, __pyx_v_numeric_features);
      }
      __pyx_L47:;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      goto __pyx_L23_exception_handled;
    }
</pre><pre class="cython line score-0">&#xA0;<span class="">0280</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0281</span>:     # Check if the transformed data is a sparse matrix and convert to dense if necessary.</pre>
<pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0282</span>:     if sparse.issparse(data_processed):</pre>
<pre class='cython code score-22 '>  <span class='trace'>__Pyx_TraceLine</span>(282,0,<span class='error_goto'>__PYX_ERR(0, 282, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_sparse);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 282, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_issparse);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 282, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
    __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
    if (likely(__pyx_t_1)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_v_data_processed};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 282, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
  }
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_2); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 282, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_6) {
/*  */
  }
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0283</span>:         data_processed = data_processed.toarray()</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(283,0,<span class='error_goto'>__PYX_ERR(0, 283, __pyx_L1_error)</span>)
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data_processed, __pyx_n_s_toarray);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 283, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_1 = NULL;
    __pyx_t_5 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
        __pyx_t_5 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, NULL};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_5, 0+__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 283, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_data_processed, __pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0284</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0285</span>:     # Create a new DataFrame with the processed data.</pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0286</span>:     data_processed = pd.DataFrame(</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(286,0,<span class='error_goto'>__PYX_ERR(0, 286, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 286, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 286, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(287,0,<span class='error_goto'>__PYX_ERR(0, 287, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 286, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data_processed);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data_processed);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_data_processed)) <span class='error_goto'>__PYX_ERR(0, 286, __pyx_L1_error)</span>;
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(286,0,<span class='error_goto'>__PYX_ERR(0, 286, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_9, __pyx_t_2, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 286, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_data_processed, __pyx_t_4);
  __pyx_t_4 = 0;
</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0287</span>:         data_processed, columns=processed_columns, index=data.index)</pre>
<pre class='cython code score-15 '>  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 287, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_columns, __pyx_v_processed_columns) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 287, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_index);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 287, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_index, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 287, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0288</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0289</span>:     # Attempt to use a custom transformer if available.</pre>
<pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0290</span>:     try:</pre>
<pre class='cython code score-14 '>  <span class='trace'>__Pyx_TraceLine</span>(290,0,<span class='error_goto'>__PYX_ERR(0, 290, __pyx_L1_error)</span>)
  {
    /*try:*/ {
/*  */
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
    goto __pyx_L54_try_end;
    __pyx_L49_error:;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_16); __pyx_t_16 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
/*  */
    __pyx_L51_except_error:;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_15);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_14);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
    <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_15, __pyx_t_14, __pyx_t_13);
    goto __pyx_L1_error;
    __pyx_L50_exception_handled:;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_15);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_14);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
    <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_15, __pyx_t_14, __pyx_t_13);
    __pyx_L54_try_end:;
  }
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0291</span>:         from ..transformers import FloatCategoricalToInt</pre>
<pre class='cython code score-16 '>      <span class='trace'>__Pyx_TraceLine</span>(291,0,<span class='error_goto'>__PYX_ERR(0, 291, __pyx_L49_error)</span>)
      __pyx_t_4 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 291, __pyx_L49_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_FloatCategoricalToInt);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_FloatCategoricalToInt);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 0, __pyx_n_s_FloatCategoricalToInt)) <span class='error_goto'>__PYX_ERR(0, 291, __pyx_L49_error)</span>;
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_transformers, __pyx_t_4, 2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 291, __pyx_L49_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_1, __pyx_n_s_FloatCategoricalToInt);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 291, __pyx_L49_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
      __pyx_v_FloatCategoricalToInt = __pyx_t_4;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0292</span>:         data_processed = FloatCategoricalToInt(</pre>
<pre class='cython code score-15 '>      <span class='trace'>__Pyx_TraceLine</span>(292,0,<span class='error_goto'>__PYX_ERR(0, 292, __pyx_L49_error)</span>)
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_FloatCategoricalToInt);
      __pyx_t_2 = __pyx_v_FloatCategoricalToInt; __pyx_t_9 = NULL;
      __pyx_t_5 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
        __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
        if (likely(__pyx_t_9)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
          __pyx_t_5 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_9, NULL};
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_5, 0+__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 292, __pyx_L49_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      }
</pre><pre class="cython line score-18" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0293</span>:             ).fit_transform(data_processed)</pre>
<pre class='cython code score-18 '>      <span class='trace'>__Pyx_TraceLine</span>(293,0,<span class='error_goto'>__PYX_ERR(0, 293, __pyx_L49_error)</span>)
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_fit_transform);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 293, __pyx_L49_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_4 = NULL;
      __pyx_t_5 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
        __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
        if (likely(__pyx_t_4)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
          __pyx_t_5 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_v_data_processed};
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 293, __pyx_L49_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_data_processed, __pyx_t_1);
      __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0294</span>:     except:</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(294,0,<span class='error_goto'>__PYX_ERR(0, 294, __pyx_L51_except_error)</span>)
    /*except:*/ {
      <span class='pyx_c_api'>__Pyx_ErrRestore</span>(0,0,0);
      goto __pyx_L50_exception_handled;
    }
</pre><pre class="cython line score-0">&#xA0;<span class="">0295</span>:         pass</pre>
<pre class="cython line score-0">&#xA0;<span class="">0296</span>:     # Return the preprocessed DataFrame.</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0297</span>:     return data_processed</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(297,0,<span class='error_goto'>__PYX_ERR(0, 297, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data_processed);
  __pyx_r = __pyx_v_data_processed;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0298</span>: </pre>
<pre class="cython line score-106" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0299</span>: def soft_encoder(</pre>
<pre class='cython code score-106 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_3soft_encoder(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_2soft_encoder, "\n    Encode multiple categorical variables in a dataset.\n\n    Function facilitates the encoding of categorical variables by applying \n    specified transformations, mapping categories to integers, or performing \n    one-hot encoding. It accepts input data in the form of pandas DataFrames, \n    array-like structures convertible to DataFrame, or dictionaries that are \n    directly convertible to DataFrame.\n\n    Parameters\n    ----------\n    data : DataFrame | ArrayLike | dict\n        The input data to process. Accepts a pandas DataFrame, any array-like \n        structure that can be converted to a DataFrame, or a dictionary that will\n        be converted to a DataFrame. In the case of array-like or dictionary\n        inputs, the structure must be suitable for DataFrame transformation.\n    columns : list, optional\n        A list of column names from the data that are to be encoded. If not \n        provided, all columns within the DataFrame are considered for encoding.\n    func : callable, optional\n        A function to apply to the data for encoding purposes. The function \n        should accept a single value and return a transformed value. It is \n        applied to each element of the columns specified by `columns`, or to all\n        elements in the DataFrame if `columns` is None.\n    categories : dict, optional\n        A dictionary mapping column names (keys) to lists of categories (values)\n        that should be used for encoding. This dictionary explicitly defines \n        the categories corresponding to each column that should be transformed.\n    get_dummies : bool, default False\n        When set to True, enables one-hot encoding for the specified `columns` \n        or for all columns if `columns` is unspecified. This parameter converts\n        each categorical variable into multiple binary columns, one for each \n        category, which indicates the presence of the category.\n    parse_cols : bool, default False\n        If True an""d `columns` is a string, this parameter will interpret the \n        string as a list of column names, effectively parsing a single comma-\n        separated string into separate column names.\n    return_cat_codes : bool, default False\n        When True, the function returns a tuple. The first element of the tuple \n        is the DataFrame with transformed data, and the second element is a \n        dictionary that maps the original categorical values to the new \n        numerical codes. This is useful for retaining a reference to the original\n        categorical data.\n\n    Returns\n    -------\n    DataFrame or (DataFrame, dict)\n        The primary return is the encoded DataFrame. If `return_cat_codes` is \n        True, a dictionary mapping original categories to their new numerical \n        codes is also returned.\n        \n    Raises\n    ------\n    TypeError\n        If `func` is provided but is not callable, or if `categories` \n        is not a dictionary.\n        \n    Examples\n    --------\n    &gt;&gt;&gt; from gofast.tools.mlutils import soft_encoder\n    &gt;&gt;&gt; # Sample dataset with categorical variables\n    &gt;&gt;&gt; data = {'Height': [152, 175, 162, 140, 170],\n    ...         'Color': ['Red', 'Blue', 'Green', 'Red', 'Blue'],\n    ...         'Size': ['Small', 'Large', 'Medium', 'Medium', 'Small'],\n    ...         'Shape': ['Circle', 'Square', 'Triangle', 'Circle', 'Triangle'],\n    ...         'Weight': [80, 75, 55, 61, 70]\n    ...        }\n    &gt;&gt;&gt; # Basic encoding without additional parameters\n    &gt;&gt;&gt; df_encoded = soft_encoder(data)\n    &gt;&gt;&gt; df_encoded.head(2)\n    Out[1]:\n       Height  Weight  Color  Size  Shape\n    0     152      80      2     2      0\n    1     175      75      0     0      1\n    \n    &gt;&gt;&gt; # Returning a map of categorical codes\n    &gt;&gt;&gt; df_encoded, map_codes = soft_encoder(data, return_cat_codes=True)\n    &gt;&gt;&gt; map_codes\n    Out[2]:\n    {'Color': {2: 'Red', 0: 'Blue', 1: 'Green'},\n     'Size': {2: 'Small', 0: 'Large', 1: 'M""edium'},\n     'Shape': {0: 'Circle', 1: 'Square', 2: 'Triangle'}}\n    \n    &gt;&gt;&gt; # Custom function to manually map categories\n    &gt;&gt;&gt; def cat_func(x):\n    ...     if x == 'Red':\n    ...         return 2\n    ...     elif x == 'Blue':\n    ...         return 0\n    ...     elif x == 'Green':\n    ...         return 1\n    ...     else:\n    ...         return x\n    &gt;&gt;&gt; df_encoded = soft_encoder(data, func=cat_func)\n    &gt;&gt;&gt; df_encoded.head(3)\n    Out[3]:\n       Height  Color    Size     Shape  Weight\n    0     152      2   Small    Circle      80\n    1     175      0   Large    Square      75\n    2     162      1  Medium  Triangle      55\n    \n    &gt;&gt;&gt; # Perform one-hot encoding\n    &gt;&gt;&gt; df_encoded = soft_encoder(data, get_dummies=True)\n    &gt;&gt;&gt; df_encoded.head(3)\n    Out[4]:\n       Height  Weight  Color_Blue  Color_Green  Color_Red  Size_Large  Size_Medium      0     152      80           0            0          1           0            0   \n    1     175      75           1            0          0           1            0   \n    2     162      55           0            1          0           0            1   \n    \n       Size_Small  Shape_Circle  Shape_Square  Shape_Triangle\n    0           1             1             0               0\n    1           0             0             1               0\n    2           0             0             0               1\n    \n    &gt;&gt;&gt; # Specifying explicit categories\n    &gt;&gt;&gt; df_encoded = soft_encoder(data, categories={'Size': ['Small', 'Large', 'Medium']})\n    &gt;&gt;&gt; df_encoded.head()\n    Out[5]:\n       Height  Color     Shape  Weight  Size\n    0     152    Red    Circle      80     0\n    1     175   Blue    Square      75     1\n    2     162  Green  Triangle      55     2\n    3     140    Red    Circle      61     2\n    4     170   Blue  Triangle      70     0\n    \n    Notes\n    -----\n    - The function handles various forms of input data, applying default \n      encoding if no specific encoding ""function or categories are provided.\n    - Custom encoding functions allow for flexibility in mapping categories \n      manually.\n    - One-hot encoding transforms each categorical attribute into multiple \n      binary attributes, enhancing model interpretability but increasing \n      dimensionality.\n    - Specifying explicit categories helps ensure consistency in encoding, \n      especially when some categories might not appear in the training set but \n      could appear in future data.\n\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_3soft_encoder = {"soft_encoder", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_3soft_encoder, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_2soft_encoder};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_3soft_encoder(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_data = 0;
  PyObject *__pyx_v_columns = 0;
  PyObject *__pyx_v_func = 0;
  PyObject *__pyx_v_categories = 0;
  PyObject *__pyx_v_get_dummies = 0;
  PyObject *__pyx_v_parse_cols = 0;
  PyObject *__pyx_v_return_cat_codes = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("soft_encoder (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_data,&amp;__pyx_n_s_columns,&amp;__pyx_n_s_func,&amp;__pyx_n_s_categories,&amp;__pyx_n_s_get_dummies,&amp;__pyx_n_s_parse_cols,&amp;__pyx_n_s_return_cat_codes,0};
  PyObject* values[7] = {0,0,0,0,0,0,0};
/*  */
  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_2soft_encoder(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_data, PyObject *__pyx_v_columns, PyObject *__pyx_v_func, PyObject *__pyx_v_categories, PyObject *__pyx_v_get_dummies, PyObject *__pyx_v_parse_cols, PyObject *__pyx_v_return_cat_codes) {
  PyObject *__pyx_v_df = NULL;
  PyObject *__pyx_v_map_codes = NULL;
  PyObject *__pyx_v_mapresult = NULL;
  CYTHON_UNUSED PyObject *__pyx_v_num_columns = NULL;
  PyObject *__pyx_v_cat_columns = NULL;
  PyObject *__pyx_v_col = NULL;
  PyObject *__pyx_v_unique_values = NULL;
  PyObject *__pyx_v_values = NULL;
  PyObject *__pyx_v_val = NULL;
  PyObject *__pyx_v_temp_col = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__4)
  <span class='trace'>__Pyx_TraceCall</span>("soft_encoder", __pyx_f[0], 299, 0, <span class='error_goto'>__PYX_ERR(0, 299, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_columns);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_categories);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_get_dummies);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_parse_cols);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_return_cat_codes);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.soft_encoder", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_df);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_map_codes);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_mapresult);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_num_columns);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_cat_columns);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_col);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_unique_values);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_values);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_val);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_temp_col);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_columns);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_categories);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_get_dummies);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_parse_cols);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_return_cat_codes);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__132 = <span class='py_c_api'>PyTuple_Pack</span>(17, __pyx_n_s_data, __pyx_n_s_columns, __pyx_n_s_func, __pyx_n_s_categories, __pyx_n_s_get_dummies, __pyx_n_s_parse_cols, __pyx_n_s_return_cat_codes, __pyx_n_s_df, __pyx_n_s_map_codes, __pyx_n_s_mapresult, __pyx_n_s_num_columns, __pyx_n_s_cat_columns, __pyx_n_s_col, __pyx_n_s_unique_values, __pyx_n_s_values, __pyx_n_s_val, __pyx_n_s_temp_col);<span class='error_goto'> if (unlikely(!__pyx_tuple__132)) __PYX_ERR(0, 299, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__132);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__132);
  __pyx_codeobj__4 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(7, 0, 0, 17, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__132, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_soft_encoder, 299, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__4)) __PYX_ERR(0, 299, __pyx_L1_error)</span>
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(299,0,<span class='error_goto'>__PYX_ERR(0, 299, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(8);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 299, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_data, __pyx_kp_s_Union_DataFrame_ArrayLike) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 299, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_columns, __pyx_kp_s_List_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 299, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_func, __pyx_n_s_F) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 299, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_categories, __pyx_kp_s_Dict_str_List) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 299, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_get_dummies, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 299, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_parse_cols, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 299, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return_cat_codes, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 299, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return, __pyx_n_s_DataFrame) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 299, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_3soft_encoder, 0, __pyx_n_s_soft_encoder, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__4));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 299, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_4, __pyx_tuple__133);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_4, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_soft_encoder, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 299, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_tuple__133 = <span class='py_c_api'>PyTuple_Pack</span>(6, Py_None, Py_None, Py_None, ((PyObject *)Py_Ellipsis), ((PyObject *)Py_Ellipsis), ((PyObject *)Py_Ellipsis));<span class='error_goto'> if (unlikely(!__pyx_tuple__133)) __PYX_ERR(0, 299, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__133);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__133);
</pre><pre class="cython line score-0">&#xA0;<span class="">0300</span>:     data: Union[DataFrame, ArrayLike],</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0301</span>:     columns: List[str] = None,</pre>
<pre class='cython code score-2 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0302</span>:     func: _F = None,</pre>
<pre class='cython code score-2 '>    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0303</span>:     categories: Dict[str, List] = None,</pre>
<pre class='cython code score-2 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0304</span>:     get_dummies: bool = ...,</pre>
<pre class='cython code score-2 '>    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_Ellipsis)));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0305</span>:     parse_cols: bool = ...,</pre>
<pre class='cython code score-2 '>    values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_Ellipsis)));
</pre><pre class="cython line score-103" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0306</span>:     return_cat_codes: bool = ...,</pre>
<pre class='cython code score-103 '>    values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_Ellipsis)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  7: values[6] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 6);
        CYTHON_FALLTHROUGH;
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 299, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_columns);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 299, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_func);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 299, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_categories);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 299, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_get_dummies);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 299, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  5:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_parse_cols);
          if (value) { values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 299, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  6:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_return_cat_codes);
          if (value) { values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 299, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "soft_encoder") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 299, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  7: values[6] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 6);
        CYTHON_FALLTHROUGH;
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_data = values[0];
    __pyx_v_columns = values[1];
    __pyx_v_func = values[2];
    __pyx_v_categories = values[3];
    __pyx_v_get_dummies = values[4];
    __pyx_v_parse_cols = values[5];
    __pyx_v_return_cat_codes = values[6];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("soft_encoder", 0, 1, 7, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 299, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.soft_encoder", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_2soft_encoder(__pyx_self, __pyx_v_data, __pyx_v_columns, __pyx_v_func, __pyx_v_categories, __pyx_v_get_dummies, __pyx_v_parse_cols, __pyx_v_return_cat_codes);
</pre><pre class="cython line score-0">&#xA0;<span class="">0307</span>: ) -&gt; DataFrame:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0308</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">0309</span>:     Encode multiple categorical variables in a dataset.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0310</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0311</span>:     Function facilitates the encoding of categorical variables by applying</pre>
<pre class="cython line score-0">&#xA0;<span class="">0312</span>:     specified transformations, mapping categories to integers, or performing</pre>
<pre class="cython line score-0">&#xA0;<span class="">0313</span>:     one-hot encoding. It accepts input data in the form of pandas DataFrames,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0314</span>:     array-like structures convertible to DataFrame, or dictionaries that are</pre>
<pre class="cython line score-0">&#xA0;<span class="">0315</span>:     directly convertible to DataFrame.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0316</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0317</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">0318</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0319</span>:     data : DataFrame | ArrayLike | dict</pre>
<pre class="cython line score-0">&#xA0;<span class="">0320</span>:         The input data to process. Accepts a pandas DataFrame, any array-like</pre>
<pre class="cython line score-0">&#xA0;<span class="">0321</span>:         structure that can be converted to a DataFrame, or a dictionary that will</pre>
<pre class="cython line score-0">&#xA0;<span class="">0322</span>:         be converted to a DataFrame. In the case of array-like or dictionary</pre>
<pre class="cython line score-0">&#xA0;<span class="">0323</span>:         inputs, the structure must be suitable for DataFrame transformation.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0324</span>:     columns : list, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">0325</span>:         A list of column names from the data that are to be encoded. If not</pre>
<pre class="cython line score-0">&#xA0;<span class="">0326</span>:         provided, all columns within the DataFrame are considered for encoding.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0327</span>:     func : callable, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">0328</span>:         A function to apply to the data for encoding purposes. The function</pre>
<pre class="cython line score-0">&#xA0;<span class="">0329</span>:         should accept a single value and return a transformed value. It is</pre>
<pre class="cython line score-0">&#xA0;<span class="">0330</span>:         applied to each element of the columns specified by `columns`, or to all</pre>
<pre class="cython line score-0">&#xA0;<span class="">0331</span>:         elements in the DataFrame if `columns` is None.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0332</span>:     categories : dict, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">0333</span>:         A dictionary mapping column names (keys) to lists of categories (values)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0334</span>:         that should be used for encoding. This dictionary explicitly defines</pre>
<pre class="cython line score-0">&#xA0;<span class="">0335</span>:         the categories corresponding to each column that should be transformed.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0336</span>:     get_dummies : bool, default False</pre>
<pre class="cython line score-0">&#xA0;<span class="">0337</span>:         When set to True, enables one-hot encoding for the specified `columns`</pre>
<pre class="cython line score-0">&#xA0;<span class="">0338</span>:         or for all columns if `columns` is unspecified. This parameter converts</pre>
<pre class="cython line score-0">&#xA0;<span class="">0339</span>:         each categorical variable into multiple binary columns, one for each</pre>
<pre class="cython line score-0">&#xA0;<span class="">0340</span>:         category, which indicates the presence of the category.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0341</span>:     parse_cols : bool, default False</pre>
<pre class="cython line score-0">&#xA0;<span class="">0342</span>:         If True and `columns` is a string, this parameter will interpret the</pre>
<pre class="cython line score-0">&#xA0;<span class="">0343</span>:         string as a list of column names, effectively parsing a single comma-</pre>
<pre class="cython line score-0">&#xA0;<span class="">0344</span>:         separated string into separate column names.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0345</span>:     return_cat_codes : bool, default False</pre>
<pre class="cython line score-0">&#xA0;<span class="">0346</span>:         When True, the function returns a tuple. The first element of the tuple</pre>
<pre class="cython line score-0">&#xA0;<span class="">0347</span>:         is the DataFrame with transformed data, and the second element is a</pre>
<pre class="cython line score-0">&#xA0;<span class="">0348</span>:         dictionary that maps the original categorical values to the new</pre>
<pre class="cython line score-0">&#xA0;<span class="">0349</span>:         numerical codes. This is useful for retaining a reference to the original</pre>
<pre class="cython line score-0">&#xA0;<span class="">0350</span>:         categorical data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0351</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0352</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">0353</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0354</span>:     DataFrame or (DataFrame, dict)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0355</span>:         The primary return is the encoded DataFrame. If `return_cat_codes` is</pre>
<pre class="cython line score-0">&#xA0;<span class="">0356</span>:         True, a dictionary mapping original categories to their new numerical</pre>
<pre class="cython line score-0">&#xA0;<span class="">0357</span>:         codes is also returned.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0358</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0359</span>:     Raises</pre>
<pre class="cython line score-0">&#xA0;<span class="">0360</span>:     ------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0361</span>:     TypeError</pre>
<pre class="cython line score-0">&#xA0;<span class="">0362</span>:         If `func` is provided but is not callable, or if `categories`</pre>
<pre class="cython line score-0">&#xA0;<span class="">0363</span>:         is not a dictionary.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0364</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0365</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">0366</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0367</span>:     &gt;&gt;&gt; from gofast.tools.mlutils import soft_encoder</pre>
<pre class="cython line score-0">&#xA0;<span class="">0368</span>:     &gt;&gt;&gt; # Sample dataset with categorical variables</pre>
<pre class="cython line score-0">&#xA0;<span class="">0369</span>:     &gt;&gt;&gt; data = {'Height': [152, 175, 162, 140, 170],</pre>
<pre class="cython line score-0">&#xA0;<span class="">0370</span>:     ...         'Color': ['Red', 'Blue', 'Green', 'Red', 'Blue'],</pre>
<pre class="cython line score-0">&#xA0;<span class="">0371</span>:     ...         'Size': ['Small', 'Large', 'Medium', 'Medium', 'Small'],</pre>
<pre class="cython line score-0">&#xA0;<span class="">0372</span>:     ...         'Shape': ['Circle', 'Square', 'Triangle', 'Circle', 'Triangle'],</pre>
<pre class="cython line score-0">&#xA0;<span class="">0373</span>:     ...         'Weight': [80, 75, 55, 61, 70]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0374</span>:     ...        }</pre>
<pre class="cython line score-0">&#xA0;<span class="">0375</span>:     &gt;&gt;&gt; # Basic encoding without additional parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">0376</span>:     &gt;&gt;&gt; df_encoded = soft_encoder(data)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0377</span>:     &gt;&gt;&gt; df_encoded.head(2)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0378</span>:     Out[1]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0379</span>:        Height  Weight  Color  Size  Shape</pre>
<pre class="cython line score-0">&#xA0;<span class="">0380</span>:     0     152      80      2     2      0</pre>
<pre class="cython line score-0">&#xA0;<span class="">0381</span>:     1     175      75      0     0      1</pre>
<pre class="cython line score-0">&#xA0;<span class="">0382</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0383</span>:     &gt;&gt;&gt; # Returning a map of categorical codes</pre>
<pre class="cython line score-0">&#xA0;<span class="">0384</span>:     &gt;&gt;&gt; df_encoded, map_codes = soft_encoder(data, return_cat_codes=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0385</span>:     &gt;&gt;&gt; map_codes</pre>
<pre class="cython line score-0">&#xA0;<span class="">0386</span>:     Out[2]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0387</span>:     {'Color': {2: 'Red', 0: 'Blue', 1: 'Green'},</pre>
<pre class="cython line score-0">&#xA0;<span class="">0388</span>:      'Size': {2: 'Small', 0: 'Large', 1: 'Medium'},</pre>
<pre class="cython line score-0">&#xA0;<span class="">0389</span>:      'Shape': {0: 'Circle', 1: 'Square', 2: 'Triangle'}}</pre>
<pre class="cython line score-0">&#xA0;<span class="">0390</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0391</span>:     &gt;&gt;&gt; # Custom function to manually map categories</pre>
<pre class="cython line score-0">&#xA0;<span class="">0392</span>:     &gt;&gt;&gt; def cat_func(x):</pre>
<pre class="cython line score-0">&#xA0;<span class="">0393</span>:     ...     if x == 'Red':</pre>
<pre class="cython line score-0">&#xA0;<span class="">0394</span>:     ...         return 2</pre>
<pre class="cython line score-0">&#xA0;<span class="">0395</span>:     ...     elif x == 'Blue':</pre>
<pre class="cython line score-0">&#xA0;<span class="">0396</span>:     ...         return 0</pre>
<pre class="cython line score-0">&#xA0;<span class="">0397</span>:     ...     elif x == 'Green':</pre>
<pre class="cython line score-0">&#xA0;<span class="">0398</span>:     ...         return 1</pre>
<pre class="cython line score-0">&#xA0;<span class="">0399</span>:     ...     else:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0400</span>:     ...         return x</pre>
<pre class="cython line score-0">&#xA0;<span class="">0401</span>:     &gt;&gt;&gt; df_encoded = soft_encoder(data, func=cat_func)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0402</span>:     &gt;&gt;&gt; df_encoded.head(3)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0403</span>:     Out[3]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0404</span>:        Height  Color    Size     Shape  Weight</pre>
<pre class="cython line score-0">&#xA0;<span class="">0405</span>:     0     152      2   Small    Circle      80</pre>
<pre class="cython line score-0">&#xA0;<span class="">0406</span>:     1     175      0   Large    Square      75</pre>
<pre class="cython line score-0">&#xA0;<span class="">0407</span>:     2     162      1  Medium  Triangle      55</pre>
<pre class="cython line score-0">&#xA0;<span class="">0408</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0409</span>:     &gt;&gt;&gt; # Perform one-hot encoding</pre>
<pre class="cython line score-0">&#xA0;<span class="">0410</span>:     &gt;&gt;&gt; df_encoded = soft_encoder(data, get_dummies=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0411</span>:     &gt;&gt;&gt; df_encoded.head(3)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0412</span>:     Out[4]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0413</span>:        Height  Weight  Color_Blue  Color_Green  Color_Red  Size_Large  Size_Medium  \</pre>
<pre class="cython line score-0">&#xA0;<span class="">0414</span>:     0     152      80           0            0          1           0            0</pre>
<pre class="cython line score-0">&#xA0;<span class="">0415</span>:     1     175      75           1            0          0           1            0</pre>
<pre class="cython line score-0">&#xA0;<span class="">0416</span>:     2     162      55           0            1          0           0            1</pre>
<pre class="cython line score-0">&#xA0;<span class="">0417</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0418</span>:        Size_Small  Shape_Circle  Shape_Square  Shape_Triangle</pre>
<pre class="cython line score-0">&#xA0;<span class="">0419</span>:     0           1             1             0               0</pre>
<pre class="cython line score-0">&#xA0;<span class="">0420</span>:     1           0             0             1               0</pre>
<pre class="cython line score-0">&#xA0;<span class="">0421</span>:     2           0             0             0               1</pre>
<pre class="cython line score-0">&#xA0;<span class="">0422</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0423</span>:     &gt;&gt;&gt; # Specifying explicit categories</pre>
<pre class="cython line score-0">&#xA0;<span class="">0424</span>:     &gt;&gt;&gt; df_encoded = soft_encoder(data, categories={'Size': ['Small', 'Large', 'Medium']})</pre>
<pre class="cython line score-0">&#xA0;<span class="">0425</span>:     &gt;&gt;&gt; df_encoded.head()</pre>
<pre class="cython line score-0">&#xA0;<span class="">0426</span>:     Out[5]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0427</span>:        Height  Color     Shape  Weight  Size</pre>
<pre class="cython line score-0">&#xA0;<span class="">0428</span>:     0     152    Red    Circle      80     0</pre>
<pre class="cython line score-0">&#xA0;<span class="">0429</span>:     1     175   Blue    Square      75     1</pre>
<pre class="cython line score-0">&#xA0;<span class="">0430</span>:     2     162  Green  Triangle      55     2</pre>
<pre class="cython line score-0">&#xA0;<span class="">0431</span>:     3     140    Red    Circle      61     2</pre>
<pre class="cython line score-0">&#xA0;<span class="">0432</span>:     4     170   Blue  Triangle      70     0</pre>
<pre class="cython line score-0">&#xA0;<span class="">0433</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0434</span>:     Notes</pre>
<pre class="cython line score-0">&#xA0;<span class="">0435</span>:     -----</pre>
<pre class="cython line score-0">&#xA0;<span class="">0436</span>:     - The function handles various forms of input data, applying default</pre>
<pre class="cython line score-0">&#xA0;<span class="">0437</span>:       encoding if no specific encoding function or categories are provided.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0438</span>:     - Custom encoding functions allow for flexibility in mapping categories</pre>
<pre class="cython line score-0">&#xA0;<span class="">0439</span>:       manually.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0440</span>:     - One-hot encoding transforms each categorical attribute into multiple</pre>
<pre class="cython line score-0">&#xA0;<span class="">0441</span>:       binary attributes, enhancing model interpretability but increasing</pre>
<pre class="cython line score-0">&#xA0;<span class="">0442</span>:       dimensionality.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0443</span>:     - Specifying explicit categories helps ensure consistency in encoding,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0444</span>:       especially when some categories might not appear in the training set but</pre>
<pre class="cython line score-0">&#xA0;<span class="">0445</span>:       could appear in future data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0446</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0447</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">0448</span>:     # Convert ellipsis inputs to False for get_dummies, parse_cols,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0449</span>:     # return_cat_codes if not explicitly defined</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0450</span>:     get_dummies, parse_cols, return_cat_codes = ellipsis2false(</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(450,0,<span class='error_goto'>__PYX_ERR(0, 450, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_ellipsis2false);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 450, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(450,0,<span class='error_goto'>__PYX_ERR(0, 450, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_get_dummies, __pyx_t_2);
  __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_parse_cols, __pyx_t_3);
  __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_return_cat_codes, __pyx_t_5);
  __pyx_t_5 = 0;
</pre><pre class="cython line score-64" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0451</span>:         get_dummies, parse_cols, return_cat_codes)</pre>
<pre class='cython code score-64 '>  <span class='trace'>__Pyx_TraceLine</span>(451,0,<span class='error_goto'>__PYX_ERR(0, 451, __pyx_L1_error)</span>)
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[4] = {__pyx_t_3, __pyx_v_get_dummies, __pyx_v_parse_cols, __pyx_v_return_cat_codes};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 3+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 450, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_1))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
    PyObject* sequence = __pyx_t_1;
    Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
    if (unlikely(size != 3)) {
      if (size &gt; 3) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(3);
      else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
      <span class='error_goto'>__PYX_ERR(0, 450, __pyx_L1_error)</span>
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
      __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
      __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
      __pyx_t_5 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 2); 
    } else {
      __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
      __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
      __pyx_t_5 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 2); 
    }
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
    #else
    __pyx_t_2 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 450, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 450, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_5 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 450, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    #endif
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  } else {
    Py_ssize_t index = -1;
    __pyx_t_6 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 450, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_6);
    index = 0; __pyx_t_2 = __pyx_t_7(__pyx_t_6); if (unlikely(!__pyx_t_2)) goto __pyx_L3_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    index = 1; __pyx_t_3 = __pyx_t_7(__pyx_t_6); if (unlikely(!__pyx_t_3)) goto __pyx_L3_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    index = 2; __pyx_t_5 = __pyx_t_7(__pyx_t_6); if (unlikely(!__pyx_t_5)) goto __pyx_L3_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_7(__pyx_t_6), 3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 450, __pyx_L1_error)</span>
    __pyx_t_7 = NULL;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    goto __pyx_L4_unpacking_done;
    __pyx_L3_unpacking_failed:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_7 = NULL;
    if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
    <span class='error_goto'>__PYX_ERR(0, 450, __pyx_L1_error)</span>
    __pyx_L4_unpacking_done:;
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">0452</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0453</span>:     # Convert input data to DataFrame if not already a DataFrame</pre>
<pre class="cython line score-37" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0454</span>:     df = build_data_if(data, to_frame=True, force=True, input_name='col',</pre>
<pre class='cython code score-37 '>  <span class='trace'>__Pyx_TraceLine</span>(454,0,<span class='error_goto'>__PYX_ERR(0, 454, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_build_data_if);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 454, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 454, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_v_data)) <span class='error_goto'>__PYX_ERR(0, 454, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 454, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_to_frame, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 454, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_force, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 454, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_input_name, __pyx_n_u_col) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 454, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_raise_warning, __pyx_n_u_silence) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 454, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_5, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 454, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_v_df = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0455</span>:                        raise_warning='silence')</pre>
<pre class="cython line score-0">&#xA0;<span class="">0456</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0457</span>:     # Recheck and convert data to numeric dtypes if possible</pre>
<pre class="cython line score-0">&#xA0;<span class="">0458</span>:     # and handle NaN to fit it specified types.</pre>
<pre class="cython line score-34" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0459</span>:     df = nan_to_na(to_numeric_dtypes(df))</pre>
<pre class='cython code score-34 '>  <span class='trace'>__Pyx_TraceLine</span>(459,0,<span class='error_goto'>__PYX_ERR(0, 459, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_nan_to_na);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 459, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_to_numeric_dtypes);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 459, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_6 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_6)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_v_df};
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 459, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  __pyx_t_1 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_1)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_t_5};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 459, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_df, __pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0460</span>:     # Ensure columns are iterable and parse them if necessary</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0461</span>:     if columns is not None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(461,0,<span class='error_goto'>__PYX_ERR(0, 461, __pyx_L1_error)</span>)
  __pyx_t_8 = (__pyx_v_columns != Py_None);
  if (__pyx_t_8) {
/*  */
  }
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0462</span>:         columns = list(is_iterable(columns, exclude_string=True,</pre>
<pre class='cython code score-26 '>    <span class='trace'>__Pyx_TraceLine</span>(462,0,<span class='error_goto'>__PYX_ERR(0, 462, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_is_iterable);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 462, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 462, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_columns);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_columns);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_columns)) <span class='error_goto'>__PYX_ERR(0, 462, __pyx_L1_error)</span>;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 462, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_exclude_string, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 462, __pyx_L1_error)</span>
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(462,0,<span class='error_goto'>__PYX_ERR(0, 462, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_3, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 462, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PySequence_ListKeepNew</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 462, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_columns, __pyx_t_5);
    __pyx_t_5 = 0;
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0463</span>:                                    transform=True, parse_string=parse_cols))</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(463,0,<span class='error_goto'>__PYX_ERR(0, 463, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_transform, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 462, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_parse_string, __pyx_v_parse_cols) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 462, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0464</span>:         # Select only the specified features from the DataFrame</pre>
<pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0465</span>:         df = select_features(df, features=columns)</pre>
<pre class='cython code score-23 '>    <span class='trace'>__Pyx_TraceLine</span>(465,0,<span class='error_goto'>__PYX_ERR(0, 465, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_select_features);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 465, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 465, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_df);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_df);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_df)) <span class='error_goto'>__PYX_ERR(0, 465, __pyx_L1_error)</span>;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 465, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_features, __pyx_v_columns) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 465, __pyx_L1_error)</span>
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_t_1, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 465, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_df, __pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0466</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0467</span>:     # Initialize map_codes to store mappings of categorical codes to labels</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0468</span>:     map_codes = {}</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(468,0,<span class='error_goto'>__PYX_ERR(0, 468, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 468, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_v_map_codes = ((PyObject*)__pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0469</span>:     # Create a CategoryMap code object for nested dict collection</pre>
<pre class="cython line score-18" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0470</span>:     mapresult=ResultSummary(name="CategoryMap", flatten_nested_dicts=False)</pre>
<pre class='cython code score-18 '>  <span class='trace'>__Pyx_TraceLine</span>(470,0,<span class='error_goto'>__PYX_ERR(0, 470, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_ResultSummary);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 470, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 470, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_name, __pyx_n_u_CategoryMap) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 470, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_flatten_nested_dicts, Py_False) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 470, __pyx_L1_error)</span>
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_empty_tuple, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 470, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_v_mapresult = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0471</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0472</span>:     # Perform one-hot encoding if requested</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0473</span>:     if get_dummies:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(473,0,<span class='error_goto'>__PYX_ERR(0, 473, __pyx_L1_error)</span>)
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_get_dummies); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 473, __pyx_L1_error)</span>
  if (__pyx_t_8) {
/*  */
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">0474</span>:         # Use pandas get_dummies for one-hot encoding and handle</pre>
<pre class="cython line score-0">&#xA0;<span class="">0475</span>:         # return type based on return_cat_codes</pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0476</span>:         mapresult.add_results(map_codes)</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(476,0,<span class='error_goto'>__PYX_ERR(0, 476, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_mapresult, __pyx_n_s_add_results);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 476, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_map_codes};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 476, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-36" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0477</span>:         return (pd.get_dummies(df, columns=columns), mapresult</pre>
<pre class='cython code score-36 '>    <span class='trace'>__Pyx_TraceLine</span>(477,0,<span class='error_goto'>__PYX_ERR(0, 477, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(477,0,<span class='error_goto'>__PYX_ERR(0, 477, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 477, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_get_dummies);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 477, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 477, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_df);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_df);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_df)) <span class='error_goto'>__PYX_ERR(0, 477, __pyx_L1_error)</span>;
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 477, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_columns, __pyx_v_columns) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 477, __pyx_L1_error)</span>
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_3, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 477, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 477, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_6);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 477, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_mapresult);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_mapresult);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 1, __pyx_v_mapresult)) <span class='error_goto'>__PYX_ERR(0, 477, __pyx_L1_error)</span>;
      __pyx_t_6 = 0;
      __pyx_t_1 = __pyx_t_5;
      __pyx_t_5 = 0;
    } else {
</pre><pre class="cython line score-27" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0478</span>:                 ) if return_cat_codes else pd.get_dummies(df, columns=columns)</pre>
<pre class='cython code score-27 '>    <span class='trace'>__Pyx_TraceLine</span>(478,0,<span class='error_goto'>__PYX_ERR(0, 478, __pyx_L1_error)</span>)
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_return_cat_codes); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 478, __pyx_L1_error)</span>
    if (__pyx_t_8) {
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(478,0,<span class='error_goto'>__PYX_ERR(0, 478, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 478, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_get_dummies);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 478, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 478, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_df);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_df);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_v_df)) <span class='error_goto'>__PYX_ERR(0, 478, __pyx_L1_error)</span>;
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 478, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_columns, __pyx_v_columns) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 478, __pyx_L1_error)</span>
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_6, __pyx_t_5, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 478, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_1 = __pyx_t_2;
      __pyx_t_2 = 0;
    }
    __pyx_r = __pyx_t_1;
    __pyx_t_1 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0479</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0480</span>:     # Automatically select numeric and categorical columns if not manually specified</pre>
<pre class="cython line score-62" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0481</span>:     num_columns, cat_columns = bi_selector(df)</pre>
<pre class='cython code score-62 '>  <span class='trace'>__Pyx_TraceLine</span>(481,0,<span class='error_goto'>__PYX_ERR(0, 481, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_bi_selector);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 481, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_df};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 481, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_1))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
    PyObject* sequence = __pyx_t_1;
    Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
    if (unlikely(size != 2)) {
      if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
      else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
      <span class='error_goto'>__PYX_ERR(0, 481, __pyx_L1_error)</span>
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
      __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
      __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
    } else {
      __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
      __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
    }
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
    #else
    __pyx_t_2 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 481, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 481, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    #endif
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  } else {
    Py_ssize_t index = -1;
    __pyx_t_5 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 481, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_5);
    index = 0; __pyx_t_2 = __pyx_t_7(__pyx_t_5); if (unlikely(!__pyx_t_2)) goto __pyx_L7_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    index = 1; __pyx_t_3 = __pyx_t_7(__pyx_t_5); if (unlikely(!__pyx_t_3)) goto __pyx_L7_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_7(__pyx_t_5), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 481, __pyx_L1_error)</span>
    __pyx_t_7 = NULL;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    goto __pyx_L8_unpacking_done;
    __pyx_L7_unpacking_failed:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_7 = NULL;
    if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
    <span class='error_goto'>__PYX_ERR(0, 481, __pyx_L1_error)</span>
    __pyx_L8_unpacking_done:;
  }
  __pyx_v_num_columns = __pyx_t_2;
  __pyx_t_2 = 0;
  __pyx_v_cat_columns = __pyx_t_3;
  __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0482</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0483</span>:     # Apply provided function to categorical columns if func is given</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0484</span>:     if func is not None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(484,0,<span class='error_goto'>__PYX_ERR(0, 484, __pyx_L1_error)</span>)
  __pyx_t_8 = (__pyx_v_func != Py_None);
  if (__pyx_t_8) {
/*  */
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0485</span>:         if not callable(func):</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(485,0,<span class='error_goto'>__PYX_ERR(0, 485, __pyx_L1_error)</span>)
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyCallable_Check</span>(__pyx_v_func);<span class='error_goto'> if (unlikely(__pyx_t_8 == ((int)-1))) __PYX_ERR(0, 485, __pyx_L1_error)</span>
    __pyx_t_9 = (!__pyx_t_8);
    if (unlikely(__pyx_t_9)) {
/*  */
    }
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0486</span>:             raise TypeError(f"Provided func is not callable. Received: {type(func)}")</pre>
<pre class='cython code score-11 '>      <span class='trace'>__Pyx_TraceLine</span>(486,0,<span class='error_goto'>__PYX_ERR(0, 486, __pyx_L1_error)</span>)
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(((PyObject *)Py_TYPE(__pyx_v_func)), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 486, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_kp_u_Provided_func_is_not_callable_Re, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 486, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_TypeError, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 486, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_1, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='error_goto'>__PYX_ERR(0, 486, __pyx_L1_error)</span>
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0487</span>:         if len(cat_columns) == 0:</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(487,0,<span class='error_goto'>__PYX_ERR(0, 487, __pyx_L1_error)</span>)
    __pyx_t_10 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_cat_columns);<span class='error_goto'> if (unlikely(__pyx_t_10 == ((Py_ssize_t)-1))) __PYX_ERR(0, 487, __pyx_L1_error)</span>
    __pyx_t_9 = (__pyx_t_10 == 0);
    if (__pyx_t_9) {
/*  */
    }
</pre><pre class="cython line score-0">&#xA0;<span class="">0488</span>:             # Warn if no categorical data were found</pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0489</span>:             warnings.warn("No categorical data were detected. To transform"</pre>
<pre class='cython code score-20 '>      <span class='trace'>__Pyx_TraceLine</span>(489,0,<span class='error_goto'>__PYX_ERR(0, 489, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_warnings);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 489, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_warn);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 489, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = NULL;
      __pyx_t_4 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
        __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
        if (likely(__pyx_t_3)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
          __pyx_t_4 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_kp_u_No_categorical_data_were_detecte};
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 489, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0490</span>:                           " numeric values into categorical labels, consider"</pre>
<pre class="cython line score-0">&#xA0;<span class="">0491</span>:                           " using either `gofast.tools.smart_label_classifier`"</pre>
<pre class="cython line score-0">&#xA0;<span class="">0492</span>:                           " or `gofast.tools.categorize_target`.")</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0493</span>:             return df</pre>
<pre class='cython code score-2 '>      <span class='trace'>__Pyx_TraceLine</span>(493,0,<span class='error_goto'>__PYX_ERR(0, 493, __pyx_L1_error)</span>)
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_df);
      __pyx_r = __pyx_v_df;
      goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0494</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0495</span>:         # Apply the function to each categorical column</pre>
<pre class="cython line score-49" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0496</span>:         for col in cat_columns:</pre>
<pre class='cython code score-49 '>    <span class='trace'>__Pyx_TraceLine</span>(496,0,<span class='error_goto'>__PYX_ERR(0, 496, __pyx_L1_error)</span>)
    if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_cat_columns)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_cat_columns)) {
      __pyx_t_1 = __pyx_v_cat_columns; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      __pyx_t_10 = 0;
      __pyx_t_11 = NULL;
    } else {
      __pyx_t_10 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_cat_columns);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 496, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 496, __pyx_L1_error)</span>
    }
    for (;;) {
      if (likely(!__pyx_t_11)) {
        if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 496, __pyx_L1_error)</span>
            #endif
            if (__pyx_t_10 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_10); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_10++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 496, __pyx_L1_error)</span>
          #else
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_10); __pyx_t_10++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 496, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          #endif
        } else {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 496, __pyx_L1_error)</span>
            #endif
            if (__pyx_t_10 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_10); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_10++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 496, __pyx_L1_error)</span>
          #else
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_10); __pyx_t_10++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 496, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          #endif
        }
      } else {
        __pyx_t_2 = __pyx_t_11(__pyx_t_1);
        if (unlikely(!__pyx_t_2)) {
          PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
          if (exc_type) {
            if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
            else <span class='error_goto'>__PYX_ERR(0, 496, __pyx_L1_error)</span>
          }
          break;
        }
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      }
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_col, __pyx_t_2);
      __pyx_t_2 = 0;
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(496,0,<span class='error_goto'>__PYX_ERR(0, 496, __pyx_L1_error)</span>)
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0497</span>:             df[col] = df[col].apply(func)</pre>
<pre class='cython code score-25 '>      <span class='trace'>__Pyx_TraceLine</span>(497,0,<span class='error_goto'>__PYX_ERR(0, 497, __pyx_L1_error)</span>)
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_df, __pyx_v_col);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 497, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_apply);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 497, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = NULL;
      __pyx_t_4 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
        __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
        if (likely(__pyx_t_3)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
          __pyx_t_4 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_func};
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 497, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      }
      if (unlikely((<span class='py_c_api'>PyObject_SetItem</span>(__pyx_v_df, __pyx_v_col, __pyx_t_2) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 497, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0498</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0499</span>:         # Return DataFrame and mappings if required</pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0500</span>:         mapresult.add_results(map_codes)</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(500,0,<span class='error_goto'>__PYX_ERR(0, 500, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_mapresult, __pyx_n_s_add_results);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 500, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_5 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_v_map_codes};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 500, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0501</span>:         return (df, mapresult) if return_cat_codes else df</pre>
<pre class='cython code score-15 '>    <span class='trace'>__Pyx_TraceLine</span>(501,0,<span class='error_goto'>__PYX_ERR(0, 501, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_return_cat_codes); if (unlikely((__pyx_t_9 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 501, __pyx_L1_error)</span>
    if (__pyx_t_9) {
      __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 501, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_df);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_df);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_df)) <span class='error_goto'>__PYX_ERR(0, 501, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_mapresult);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_mapresult);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_v_mapresult)) <span class='error_goto'>__PYX_ERR(0, 501, __pyx_L1_error)</span>;
      __pyx_t_1 = __pyx_t_2;
      __pyx_t_2 = 0;
    } else {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_df);
      __pyx_t_1 = __pyx_v_df;
    }
    __pyx_r = __pyx_t_1;
    __pyx_t_1 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0502</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0503</span>:     # Handle automatic categorization if categories are not provided</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0504</span>:     if categories is None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(504,0,<span class='error_goto'>__PYX_ERR(0, 504, __pyx_L1_error)</span>)
  __pyx_t_9 = (__pyx_v_categories == Py_None);
  if (__pyx_t_9) {
/*  */
  }
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0505</span>:         categories = {}</pre>
<pre class='cython code score-3 '>    <span class='trace'>__Pyx_TraceLine</span>(505,0,<span class='error_goto'>__PYX_ERR(0, 505, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 505, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_categories, __pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-49" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0506</span>:         for col in cat_columns:</pre>
<pre class='cython code score-49 '>    <span class='trace'>__Pyx_TraceLine</span>(506,0,<span class='error_goto'>__PYX_ERR(0, 506, __pyx_L1_error)</span>)
    if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_cat_columns)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_cat_columns)) {
      __pyx_t_1 = __pyx_v_cat_columns; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      __pyx_t_10 = 0;
      __pyx_t_11 = NULL;
    } else {
      __pyx_t_10 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_cat_columns);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 506, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 506, __pyx_L1_error)</span>
    }
    for (;;) {
      if (likely(!__pyx_t_11)) {
        if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 506, __pyx_L1_error)</span>
            #endif
            if (__pyx_t_10 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_10); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_10++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 506, __pyx_L1_error)</span>
          #else
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_10); __pyx_t_10++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 506, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          #endif
        } else {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 506, __pyx_L1_error)</span>
            #endif
            if (__pyx_t_10 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_10); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_10++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 506, __pyx_L1_error)</span>
          #else
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_10); __pyx_t_10++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 506, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          #endif
        }
      } else {
        __pyx_t_2 = __pyx_t_11(__pyx_t_1);
        if (unlikely(!__pyx_t_2)) {
          PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
          if (exc_type) {
            if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
            else <span class='error_goto'>__PYX_ERR(0, 506, __pyx_L1_error)</span>
          }
          break;
        }
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      }
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_col, __pyx_t_2);
      __pyx_t_2 = 0;
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(506,0,<span class='error_goto'>__PYX_ERR(0, 506, __pyx_L1_error)</span>)
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0507</span>:             # Drop NaN values before finding unique categories</pre>
<pre class="cython line score-40" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0508</span>:             unique_values = np.unique(df[col].dropna())</pre>
<pre class='cython code score-40 '>      <span class='trace'>__Pyx_TraceLine</span>(508,0,<span class='error_goto'>__PYX_ERR(0, 508, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 508, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_unique);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 508, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_df, __pyx_v_col);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 508, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_dropna);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 508, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_t_6 = NULL;
      __pyx_t_4 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_12))) {
        __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_12);
        if (likely(__pyx_t_6)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_12);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_12, function);
          __pyx_t_4 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_6, NULL};
        __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_12, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
        if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 508, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
      }
      __pyx_t_12 = NULL;
      __pyx_t_4 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
        __pyx_t_12 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
        if (likely(__pyx_t_12)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_12);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
          __pyx_t_4 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_12, __pyx_t_5};
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 508, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_unique_values, __pyx_t_2);
      __pyx_t_2 = 0;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0509</span>:             categories[col] =  list(unique_values)</pre>
<pre class='cython code score-11 '>      <span class='trace'>__Pyx_TraceLine</span>(509,0,<span class='error_goto'>__PYX_ERR(0, 509, __pyx_L1_error)</span>)
      __pyx_t_2 = <span class='py_c_api'>PySequence_List</span>(__pyx_v_unique_values);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 509, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      if (unlikely((<span class='py_c_api'>PyObject_SetItem</span>(__pyx_v_categories, __pyx_v_col, __pyx_t_2) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 509, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0510</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0511</span>:     # Ensure categories is a dictionary</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0512</span>:     if not isinstance(categories, dict):</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(512,0,<span class='error_goto'>__PYX_ERR(0, 512, __pyx_L1_error)</span>)
  __pyx_t_9 = <span class='py_c_api'>PyDict_Check</span>(__pyx_v_categories); 
  __pyx_t_8 = (!__pyx_t_9);
  if (unlikely(__pyx_t_8)) {
/*  */
  }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0513</span>:         raise TypeError("Expected a dictionary with the format"</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(513,0,<span class='error_goto'>__PYX_ERR(0, 513, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_TypeError, __pyx_tuple__5, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 513, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_1, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='error_goto'>__PYX_ERR(0, 513, __pyx_L1_error)</span>
/*  */
  __pyx_tuple__5 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Expected_a_dictionary_with_the_f);<span class='error_goto'> if (unlikely(!__pyx_tuple__5)) __PYX_ERR(0, 513, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__5);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__5);
</pre><pre class="cython line score-0">&#xA0;<span class="">0514</span>:                         " {'column name': 'labels'} to categorize data.")</pre>
<pre class="cython line score-0">&#xA0;<span class="">0515</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0516</span>:     # Map categories for each column and adjust DataFrame accordingly</pre>
<pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0517</span>:     for col, values in categories.items():</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(517,0,<span class='error_goto'>__PYX_ERR(0, 517, __pyx_L1_error)</span>)
  __pyx_t_10 = 0;
  if (unlikely(__pyx_v_categories == Py_None)) {
    <span class='py_c_api'>PyErr_Format</span>(PyExc_AttributeError, "'NoneType' object has no attribute '%.30s'", "items");
    <span class='error_goto'>__PYX_ERR(0, 517, __pyx_L1_error)</span>
  }
  __pyx_t_2 = __Pyx_dict_iterator(__pyx_v_categories, 0, __pyx_n_s_items, (&amp;__pyx_t_13), (&amp;__pyx_t_4));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 517, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  __pyx_t_1 = __pyx_t_2;
  __pyx_t_2 = 0;
  while (1) {
    __pyx_t_14 = __Pyx_dict_iter_next(__pyx_t_1, __pyx_t_13, &amp;__pyx_t_10, &amp;__pyx_t_2, &amp;__pyx_t_3, NULL, __pyx_t_4);
    if (unlikely(__pyx_t_14 == 0)) break;
    if (unlikely(__pyx_t_14 == -1)) <span class='error_goto'>__PYX_ERR(0, 517, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_col, __pyx_t_2);
    __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_values, __pyx_t_3);
    __pyx_t_3 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0518</span>:         if col not in df.columns:</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(518,0,<span class='error_goto'>__PYX_ERR(0, 518, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_df, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 518, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_v_col, __pyx_t_3, Py_NE)); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 518, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (__pyx_t_8) {
/*  */
    }
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0519</span>:             continue</pre>
<pre class='cython code score-0 '>      <span class='trace'>__Pyx_TraceLine</span>(519,0,<span class='error_goto'>__PYX_ERR(0, 519, __pyx_L1_error)</span>)
      goto __pyx_L20_continue;
</pre><pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0520</span>:         values = is_iterable(values, exclude_string=True, transform=True)</pre>
<pre class='cython code score-28 '>    <span class='trace'>__Pyx_TraceLine</span>(520,0,<span class='error_goto'>__PYX_ERR(0, 520, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_is_iterable);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 520, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 520, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_values);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_values);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_values)) <span class='error_goto'>__PYX_ERR(0, 520, __pyx_L1_error)</span>;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 520, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_exclude_string, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 520, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_transform, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 520, __pyx_L1_error)</span>
    __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_2, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 520, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_values, __pyx_t_12);
    __pyx_t_12 = 0;
</pre><pre class="cython line score-37" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0521</span>:         df[col] = pd.Categorical(df[col], categories=values, ordered=True)</pre>
<pre class='cython code score-37 '>    <span class='trace'>__Pyx_TraceLine</span>(521,0,<span class='error_goto'>__PYX_ERR(0, 521, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_12, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 521, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_12, __pyx_n_s_Categorical);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 521, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
    __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_df, __pyx_v_col);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 521, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 521, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_12);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_t_12)) <span class='error_goto'>__PYX_ERR(0, 521, __pyx_L1_error)</span>;
    __pyx_t_12 = 0;
    __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 521, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_12, __pyx_n_s_categories, __pyx_v_values) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 521, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_12, __pyx_n_s_ordered, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 521, __pyx_L1_error)</span>
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_t_2, __pyx_t_12);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 521, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
    if (unlikely((<span class='py_c_api'>PyObject_SetItem</span>(__pyx_v_df, __pyx_v_col, __pyx_t_3) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 521, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0522</span>:         val = df[col].cat.codes</pre>
<pre class='cython code score-9 '>    <span class='trace'>__Pyx_TraceLine</span>(522,0,<span class='error_goto'>__PYX_ERR(0, 522, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_df, __pyx_v_col);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 522, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_cat);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 522, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_12, __pyx_n_s_codes);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 522, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_val, __pyx_t_3);
    __pyx_t_3 = 0;
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0523</span>:         temp_col = col + '_col'</pre>
<pre class='cython code score-6 '>    <span class='trace'>__Pyx_TraceLine</span>(523,0,<span class='error_goto'>__PYX_ERR(0, 523, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='py_c_api'>PyNumber_Add</span>(__pyx_v_col, __pyx_n_u_col_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 523, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_temp_col, __pyx_t_3);
    __pyx_t_3 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0524</span>:         df[temp_col] = val</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(524,0,<span class='error_goto'>__PYX_ERR(0, 524, __pyx_L1_error)</span>)
    if (unlikely((<span class='py_c_api'>PyObject_SetItem</span>(__pyx_v_df, __pyx_v_temp_col, __pyx_v_val) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 524, __pyx_L1_error)</span>
</pre><pre class="cython line score-24" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0525</span>:         map_codes[col] = dict(zip(val, df[col]))</pre>
<pre class='cython code score-24 '>    <span class='trace'>__Pyx_TraceLine</span>(525,0,<span class='error_goto'>__PYX_ERR(0, 525, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_df, __pyx_v_col);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 525, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_12 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 525, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_val);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_val);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_12, 0, __pyx_v_val)) <span class='error_goto'>__PYX_ERR(0, 525, __pyx_L1_error)</span>;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_12, 1, __pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 525, __pyx_L1_error)</span>;
    __pyx_t_3 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_zip, __pyx_t_12, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 525, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
    __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(((PyObject *)(&amp;PyDict_Type)), __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 525, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely((<span class='py_c_api'>PyDict_SetItem</span>(__pyx_v_map_codes, __pyx_v_col, __pyx_t_12) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 525, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
</pre><pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0526</span>:         df.drop(columns=[col], inplace=True)  # Drop original column</pre>
<pre class='cython code score-28 '>    <span class='trace'>__Pyx_TraceLine</span>(526,0,<span class='error_goto'>__PYX_ERR(0, 526, __pyx_L1_error)</span>)
    __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_df, __pyx_n_s_drop);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 526, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 526, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 526, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_col);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_col);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_col)) <span class='error_goto'>__PYX_ERR(0, 526, __pyx_L1_error)</span>;
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_columns, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 526, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_inplace, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 526, __pyx_L1_error)</span>
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_12, __pyx_empty_tuple, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 526, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0527</span>:         # Rename the temp column to original column name</pre>
<pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0528</span>:         df.rename(columns={temp_col: col}, inplace=True)</pre>
<pre class='cython code score-28 '>    <span class='trace'>__Pyx_TraceLine</span>(528,0,<span class='error_goto'>__PYX_ERR(0, 528, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_df, __pyx_n_s_rename);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 528, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 528, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 528, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_12, __pyx_v_temp_col, __pyx_v_col) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 528, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_columns, __pyx_t_12) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 528, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_inplace, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 528, __pyx_L1_error)</span>
    __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_empty_tuple, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 528, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
    __pyx_L20_continue:;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0529</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0530</span>:     # Return DataFrame and mappings if required</pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0531</span>:     mapresult.add_results(map_codes)</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(531,0,<span class='error_goto'>__PYX_ERR(0, 531, __pyx_L1_error)</span>)
  __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_mapresult, __pyx_n_s_add_results);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 531, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_12))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_12);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_12);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_12, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_map_codes};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_12, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 531, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0532</span>:     return (df, mapresult) if return_cat_codes else df</pre>
<pre class='cython code score-15 '>  <span class='trace'>__Pyx_TraceLine</span>(532,0,<span class='error_goto'>__PYX_ERR(0, 532, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_return_cat_codes); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 532, __pyx_L1_error)</span>
  if (__pyx_t_8) {
    __pyx_t_12 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 532, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_df);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_df);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_12, 0, __pyx_v_df)) <span class='error_goto'>__PYX_ERR(0, 532, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_mapresult);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_mapresult);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_12, 1, __pyx_v_mapresult)) <span class='error_goto'>__PYX_ERR(0, 532, __pyx_L1_error)</span>;
    __pyx_t_1 = __pyx_t_12;
    __pyx_t_12 = 0;
  } else {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_df);
    __pyx_t_1 = __pyx_v_df;
  }
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0533</span>: </pre>
<pre class="cython line score-89" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0534</span>: @ensure_pkg ("imblearn", extra= (</pre>
<pre class='cython code score-89 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_5resampling(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_4resampling, " Combining Random Oversampling and Undersampling \n    \n    Resampling involves creating a new transformed version of the training \n    dataset in which the selected examples have a different class distribution.\n    This is a simple and effective strategy for imbalanced classification \n    problems.\n\n    Applying re-sampling strategies to obtain a more balanced data \n    distribution is an effective solution to the imbalance problem. There are \n    two main approaches to random resampling for imbalanced classification; \n    they are oversampling and undersampling.\n\n    - Random Oversampling: Randomly duplicate examples in the minority class.\n    - Random Undersampling: Randomly delete examples in the majority class.\n        \n    Parameters \n    -----------\n    X : array-like of shape (n_samples, n_features)\n        Training vector, where `n_samples` is the number of samples and\n        `n_features` is the number of features.\n        \n    y: array-like of shape (n_samples, ) \n        Target vector where `n_samples` is the number of samples.\n    kind: str, {\"over\", \"under\"} , default=\"over\"\n      kind of sampling to perform. ``\"over\"`` and ``\"under\"`` stand for \n      `oversampling` and `undersampling` respectively. \n      \n    strategy : float, str, dict, callable, default='auto'\n        Sampling information to sample the data set.\n\n        - When ``float``, it corresponds to the desired ratio of the number of\n          samples in the minority class over the number of samples in the\n          majority class after resampling. Therefore, the ratio is expressed as\n          :math:`\\alpha_{us} = N_{m} / N_{rM}` where :math:`N_{m}` is the\n          number of samples in the minority class and\n          :math:`N_{rM}` is the number of samples in the majority class\n          after resampling.\n\n          .. warning::\n             ``float`` is only available for **binary** classification. An\n             error is raised for mul""ti-class classification.\n\n        - When ``str``, specify the class targeted by the resampling. The\n          number of samples in the different classes will be equalized.\n          Possible choices are:\n\n            ``'majority'``: resample only the majority class;\n\n            ``'not minority'``: resample all classes but the minority class;\n\n            ``'not majority'``: resample all classes but the majority class;\n\n            ``'all'``: resample all classes;\n\n            ``'auto'``: equivalent to ``'not minority'``.\n\n        - When ``dict``, the keys correspond to the targeted classes. The\n          values correspond to the desired number of samples for each targeted\n          class.\n\n        - When callable, function taking ``y`` and returns a ``dict``. The keys\n          correspond to the targeted classes. The values correspond to the\n          desired number of samples for each class.\n          \n    random_state : int, RandomState instance, default=None\n            Control the randomization of the algorithm.\n\n            - If int, ``random_state`` is the seed used by the random number\n              generator;\n            - If ``RandomState`` instance, random_state is the random number\n              generator;\n            - If ``None``, the random number generator is the ``RandomState``\n              instance used by ``np.random``.\n              \n    verbose: bool, default=False \n      Display the counting samples \n      \n    Returns \n    ---------\n    X, y : NDarray, Arraylike \n        Arraylike sampled \n    \n    Examples \n    --------- \n    &gt;&gt;&gt; import gofast as gf \n    &gt;&gt;&gt; from gofast.tools.mlutils import resampling \n    &gt;&gt;&gt; data, target = gf.fetch_data ('bagoue analysed', as_frame =True, return_X_y=True) \n    &gt;&gt;&gt; data.shape, target.shape \n    &gt;&gt;&gt; data_us, target_us = resampling (data, target, kind ='under',verbose=True)\n    &gt;&gt;&gt; data_us.shape, target_us.shape \n    Counters: Auto      \n                     ""    Raw counter y: Counter({0: 232, 1: 112})\n               UnderSampling counter y: Counter({0: 112, 1: 112})\n    Out[43]: ((224, 8), (224,))\n    \n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_5resampling = {"resampling", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_5resampling, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_4resampling};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_5resampling(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_X = 0;
  PyObject *__pyx_v_y = 0;
  PyObject *__pyx_v_kind = 0;
  PyObject *__pyx_v_strategy = 0;
  PyObject *__pyx_v_random_state = 0;
  PyObject *__pyx_v_verbose = 0;
  PyObject *__pyx_v_kws = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("resampling (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  __pyx_v_kws = <span class='py_c_api'>PyDict_New</span>(); if (unlikely(!__pyx_v_kws)) return NULL;
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_v_kws);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_X,&amp;__pyx_n_s_y,&amp;__pyx_n_s_kind,&amp;__pyx_n_s_strategy,&amp;__pyx_n_s_random_state,&amp;__pyx_n_s_verbose,0};
  PyObject* values[6] = {0,0,0,0,0,0};
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_n_u_over)));
    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_n_u_auto)));
/*  */
  /* function exit code */
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_kws);
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_4resampling(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_X, PyObject *__pyx_v_y, PyObject *__pyx_v_kind, PyObject *__pyx_v_strategy, PyObject *__pyx_v_random_state, PyObject *__pyx_v_verbose, PyObject *__pyx_v_kws) {
  PyObject *__pyx_v_RandomUnderSampler = NULL;
  PyObject *__pyx_v_rsampler = NULL;
  PyObject *__pyx_v_RandomOverSampler = NULL;
  PyObject *__pyx_v_Xs = NULL;
  PyObject *__pyx_v_ys = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__6)
  <span class='trace'>__Pyx_TraceCall</span>("resampling", __pyx_f[0], 534, 0, <span class='error_goto'>__PYX_ERR(0, 534, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_kind);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.resampling", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_RandomUnderSampler);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_rsampler);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_RandomOverSampler);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_Xs);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_ys);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_kind);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(534,0,<span class='error_goto'>__PYX_ERR(0, 534, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_ensure_pkg);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 534, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 534, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_extra, __pyx_kp_u_imblearn_is_actually_a_shorthan) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 534, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_4, __pyx_tuple__134, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 534, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
/*  */
  __pyx_tuple__134 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_n_u_imblearn);<span class='error_goto'> if (unlikely(!__pyx_tuple__134)) __PYX_ERR(0, 534, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__134);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__134);
  __pyx_tuple__135 = <span class='py_c_api'>PyTuple_Pack</span>(12, __pyx_n_s_X, __pyx_n_s_y, __pyx_n_s_kind, __pyx_n_s_strategy, __pyx_n_s_random_state, __pyx_n_s_verbose, __pyx_n_s_kws, __pyx_n_s_RandomUnderSampler, __pyx_n_s_rsampler, __pyx_n_s_RandomOverSampler, __pyx_n_s_Xs, __pyx_n_s_ys);<span class='error_goto'> if (unlikely(!__pyx_tuple__135)) __PYX_ERR(0, 534, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__135);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__135);
  __pyx_codeobj__6 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(6, 0, 0, 12, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__135, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_resampling, 534, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__6)) __PYX_ERR(0, 534, __pyx_L1_error)</span>
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(542,0,<span class='error_goto'>__PYX_ERR(0, 542, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 534, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_verbose, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 534, __pyx_L1_error)</span>
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(534,0,<span class='error_goto'>__PYX_ERR(0, 534, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_5resampling, 0, __pyx_n_s_resampling, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__6));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 534, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_4, __pyx_tuple__136);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_4, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_t_2, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 534, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_resampling, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 534, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_tuple__136 = <span class='py_c_api'>PyTuple_Pack</span>(4, ((PyObject*)__pyx_n_u_over), ((PyObject*)__pyx_n_u_auto), Py_None, ((PyObject *)Py_Ellipsis));<span class='error_goto'> if (unlikely(!__pyx_tuple__136)) __PYX_ERR(0, 534, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__136);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__136);
</pre><pre class="cython line score-0">&#xA0;<span class="">0535</span>:     "`imblearn` is actually a shorthand for ``imbalanced-learn``.")</pre>
<pre class="cython line score-0">&#xA0;<span class="">0536</span>:    )</pre>
<pre class="cython line score-0">&#xA0;<span class="">0537</span>: def resampling(</pre>
<pre class="cython line score-0">&#xA0;<span class="">0538</span>:     X,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0539</span>:     y,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0540</span>:     kind ='over',</pre>
<pre class="cython line score-0">&#xA0;<span class="">0541</span>:     strategy ='auto',</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0542</span>:     random_state =None,</pre>
<pre class='cython code score-2 '>    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-93" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0543</span>:     verbose: bool=...,</pre>
<pre class='cython code score-93 '>    values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_Ellipsis)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_X)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 534, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_y)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 534, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("resampling", 0, 2, 6, 1); <span class='error_goto'>__PYX_ERR(0, 534, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_kind);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 534, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_strategy);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 534, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_random_state);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 534, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  5:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_verbose);
          if (value) { values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 534, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, __pyx_v_kws, values + 0, kwd_pos_args, "resampling") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 534, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_X = values[0];
    __pyx_v_y = values[1];
    __pyx_v_kind = values[2];
    __pyx_v_strategy = values[3];
    __pyx_v_random_state = values[4];
    __pyx_v_verbose = values[5];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("resampling", 0, 2, 6, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 534, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_kws); __pyx_v_kws = 0;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.resampling", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_4resampling(__pyx_self, __pyx_v_X, __pyx_v_y, __pyx_v_kind, __pyx_v_strategy, __pyx_v_random_state, __pyx_v_verbose, __pyx_v_kws);
</pre><pre class="cython line score-0">&#xA0;<span class="">0544</span>:     **kws</pre>
<pre class="cython line score-0">&#xA0;<span class="">0545</span>:     ):</pre>
<pre class="cython line score-0">&#xA0;<span class="">0546</span>:     """ Combining Random Oversampling and Undersampling</pre>
<pre class="cython line score-0">&#xA0;<span class="">0547</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0548</span>:     Resampling involves creating a new transformed version of the training</pre>
<pre class="cython line score-0">&#xA0;<span class="">0549</span>:     dataset in which the selected examples have a different class distribution.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0550</span>:     This is a simple and effective strategy for imbalanced classification</pre>
<pre class="cython line score-0">&#xA0;<span class="">0551</span>:     problems.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0552</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0553</span>:     Applying re-sampling strategies to obtain a more balanced data</pre>
<pre class="cython line score-0">&#xA0;<span class="">0554</span>:     distribution is an effective solution to the imbalance problem. There are</pre>
<pre class="cython line score-0">&#xA0;<span class="">0555</span>:     two main approaches to random resampling for imbalanced classification;</pre>
<pre class="cython line score-0">&#xA0;<span class="">0556</span>:     they are oversampling and undersampling.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0557</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0558</span>:     - Random Oversampling: Randomly duplicate examples in the minority class.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0559</span>:     - Random Undersampling: Randomly delete examples in the majority class.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0560</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0561</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">0562</span>:     -----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0563</span>:     X : array-like of shape (n_samples, n_features)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0564</span>:         Training vector, where `n_samples` is the number of samples and</pre>
<pre class="cython line score-0">&#xA0;<span class="">0565</span>:         `n_features` is the number of features.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0566</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0567</span>:     y: array-like of shape (n_samples, )</pre>
<pre class="cython line score-0">&#xA0;<span class="">0568</span>:         Target vector where `n_samples` is the number of samples.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0569</span>:     kind: str, {"over", "under"} , default="over"</pre>
<pre class="cython line score-0">&#xA0;<span class="">0570</span>:       kind of sampling to perform. ``"over"`` and ``"under"`` stand for</pre>
<pre class="cython line score-0">&#xA0;<span class="">0571</span>:       `oversampling` and `undersampling` respectively.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0572</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0573</span>:     strategy : float, str, dict, callable, default='auto'</pre>
<pre class="cython line score-0">&#xA0;<span class="">0574</span>:         Sampling information to sample the data set.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0575</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0576</span>:         - When ``float``, it corresponds to the desired ratio of the number of</pre>
<pre class="cython line score-0">&#xA0;<span class="">0577</span>:           samples in the minority class over the number of samples in the</pre>
<pre class="cython line score-0">&#xA0;<span class="">0578</span>:           majority class after resampling. Therefore, the ratio is expressed as</pre>
<pre class="cython line score-0">&#xA0;<span class="">0579</span>:           :math:`\\alpha_{us} = N_{m} / N_{rM}` where :math:`N_{m}` is the</pre>
<pre class="cython line score-0">&#xA0;<span class="">0580</span>:           number of samples in the minority class and</pre>
<pre class="cython line score-0">&#xA0;<span class="">0581</span>:           :math:`N_{rM}` is the number of samples in the majority class</pre>
<pre class="cython line score-0">&#xA0;<span class="">0582</span>:           after resampling.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0583</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0584</span>:           .. warning::</pre>
<pre class="cython line score-0">&#xA0;<span class="">0585</span>:              ``float`` is only available for **binary** classification. An</pre>
<pre class="cython line score-0">&#xA0;<span class="">0586</span>:              error is raised for multi-class classification.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0587</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0588</span>:         - When ``str``, specify the class targeted by the resampling. The</pre>
<pre class="cython line score-0">&#xA0;<span class="">0589</span>:           number of samples in the different classes will be equalized.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0590</span>:           Possible choices are:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0591</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0592</span>:             ``'majority'``: resample only the majority class;</pre>
<pre class="cython line score-0">&#xA0;<span class="">0593</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0594</span>:             ``'not minority'``: resample all classes but the minority class;</pre>
<pre class="cython line score-0">&#xA0;<span class="">0595</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0596</span>:             ``'not majority'``: resample all classes but the majority class;</pre>
<pre class="cython line score-0">&#xA0;<span class="">0597</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0598</span>:             ``'all'``: resample all classes;</pre>
<pre class="cython line score-0">&#xA0;<span class="">0599</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0600</span>:             ``'auto'``: equivalent to ``'not minority'``.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0601</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0602</span>:         - When ``dict``, the keys correspond to the targeted classes. The</pre>
<pre class="cython line score-0">&#xA0;<span class="">0603</span>:           values correspond to the desired number of samples for each targeted</pre>
<pre class="cython line score-0">&#xA0;<span class="">0604</span>:           class.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0605</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0606</span>:         - When callable, function taking ``y`` and returns a ``dict``. The keys</pre>
<pre class="cython line score-0">&#xA0;<span class="">0607</span>:           correspond to the targeted classes. The values correspond to the</pre>
<pre class="cython line score-0">&#xA0;<span class="">0608</span>:           desired number of samples for each class.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0609</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0610</span>:     random_state : int, RandomState instance, default=None</pre>
<pre class="cython line score-0">&#xA0;<span class="">0611</span>:             Control the randomization of the algorithm.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0612</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0613</span>:             - If int, ``random_state`` is the seed used by the random number</pre>
<pre class="cython line score-0">&#xA0;<span class="">0614</span>:               generator;</pre>
<pre class="cython line score-0">&#xA0;<span class="">0615</span>:             - If ``RandomState`` instance, random_state is the random number</pre>
<pre class="cython line score-0">&#xA0;<span class="">0616</span>:               generator;</pre>
<pre class="cython line score-0">&#xA0;<span class="">0617</span>:             - If ``None``, the random number generator is the ``RandomState``</pre>
<pre class="cython line score-0">&#xA0;<span class="">0618</span>:               instance used by ``np.random``.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0619</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0620</span>:     verbose: bool, default=False</pre>
<pre class="cython line score-0">&#xA0;<span class="">0621</span>:       Display the counting samples</pre>
<pre class="cython line score-0">&#xA0;<span class="">0622</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0623</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">0624</span>:     ---------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0625</span>:     X, y : NDarray, Arraylike</pre>
<pre class="cython line score-0">&#xA0;<span class="">0626</span>:         Arraylike sampled</pre>
<pre class="cython line score-0">&#xA0;<span class="">0627</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0628</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">0629</span>:     ---------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0630</span>:     &gt;&gt;&gt; import gofast as gf</pre>
<pre class="cython line score-0">&#xA0;<span class="">0631</span>:     &gt;&gt;&gt; from gofast.tools.mlutils import resampling</pre>
<pre class="cython line score-0">&#xA0;<span class="">0632</span>:     &gt;&gt;&gt; data, target = gf.fetch_data ('bagoue analysed', as_frame =True, return_X_y=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0633</span>:     &gt;&gt;&gt; data.shape, target.shape</pre>
<pre class="cython line score-0">&#xA0;<span class="">0634</span>:     &gt;&gt;&gt; data_us, target_us = resampling (data, target, kind ='under',verbose=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0635</span>:     &gt;&gt;&gt; data_us.shape, target_us.shape</pre>
<pre class="cython line score-0">&#xA0;<span class="">0636</span>:     Counters: Auto</pre>
<pre class="cython line score-0">&#xA0;<span class="">0637</span>:                          Raw counter y: Counter({0: 232, 1: 112})</pre>
<pre class="cython line score-0">&#xA0;<span class="">0638</span>:                UnderSampling counter y: Counter({0: 112, 1: 112})</pre>
<pre class="cython line score-0">&#xA0;<span class="">0639</span>:     Out[43]: ((224, 8), (224,))</pre>
<pre class="cython line score-0">&#xA0;<span class="">0640</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0641</span>:     """</pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0642</span>:     kind = str(kind).lower()</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(642,0,<span class='error_goto'>__PYX_ERR(0, 642, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Str</span>(__pyx_v_kind);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 642, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_lower);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 642, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_2, NULL};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 642, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_kind, __pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0643</span>:     if kind =='under':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(643,0,<span class='error_goto'>__PYX_ERR(0, 643, __pyx_L1_error)</span>)
  __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_kind, __pyx_n_u_under, Py_EQ)); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 643, __pyx_L1_error)</span>
  if (__pyx_t_5) {
/*  */
    goto __pyx_L3;
  }
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0644</span>:         from imblearn.under_sampling import RandomUnderSampler</pre>
<pre class='cython code score-16 '>    <span class='trace'>__Pyx_TraceLine</span>(644,0,<span class='error_goto'>__PYX_ERR(0, 644, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 644, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_RandomUnderSampler);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_RandomUnderSampler);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_n_s_RandomUnderSampler)) <span class='error_goto'>__PYX_ERR(0, 644, __pyx_L1_error)</span>;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_imblearn_under_sampling, __pyx_t_1, 0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 644, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_RandomUnderSampler);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 644, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    __pyx_v_RandomUnderSampler = __pyx_t_1;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0645</span>:         rsampler = RandomUnderSampler(sampling_strategy=strategy,</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(645,0,<span class='error_goto'>__PYX_ERR(0, 645, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 645, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_sampling_strategy, __pyx_v_strategy) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 645, __pyx_L1_error)</span>
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(645,0,<span class='error_goto'>__PYX_ERR(0, 645, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_v_RandomUnderSampler, __pyx_empty_tuple, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 645, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_v_rsampler = __pyx_t_1;
    __pyx_t_1 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0646</span>:                                       random_state = random_state ,</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(646,0,<span class='error_goto'>__PYX_ERR(0, 646, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_random_state, __pyx_v_random_state) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 645, __pyx_L1_error)</span>
    __pyx_t_3 = __pyx_t_1;
    __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0647</span>:                                       **kws)</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(647,0,<span class='error_goto'>__PYX_ERR(0, 647, __pyx_L1_error)</span>)
    if (<span class='pyx_c_api'>__Pyx_MergeKeywords</span>(__pyx_t_3, __pyx_v_kws) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 647, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0648</span>:     else:</pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0649</span>:         from imblearn.over_sampling import RandomOverSampler</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(649,0,<span class='error_goto'>__PYX_ERR(0, 649, __pyx_L1_error)</span>)
  /*else*/ {
    __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 649, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_RandomOverSampler);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_RandomOverSampler);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_n_s_RandomOverSampler)) <span class='error_goto'>__PYX_ERR(0, 649, __pyx_L1_error)</span>;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_imblearn_over_sampling, __pyx_t_1, 0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 649, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_3, __pyx_n_s_RandomOverSampler);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 649, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    __pyx_v_RandomOverSampler = __pyx_t_1;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0650</span>:         rsampler = RandomOverSampler(sampling_strategy=strategy,</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(650,0,<span class='error_goto'>__PYX_ERR(0, 650, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 650, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_sampling_strategy, __pyx_v_strategy) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 650, __pyx_L1_error)</span>
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(650,0,<span class='error_goto'>__PYX_ERR(0, 650, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_v_RandomOverSampler, __pyx_empty_tuple, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 650, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_v_rsampler = __pyx_t_1;
    __pyx_t_1 = 0;
  }
  __pyx_L3:;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0651</span>:                                      random_state = random_state ,</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(651,0,<span class='error_goto'>__PYX_ERR(0, 651, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_random_state, __pyx_v_random_state) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 650, __pyx_L1_error)</span>
    __pyx_t_3 = __pyx_t_1;
    __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0652</span>:                                      **kws</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(652,0,<span class='error_goto'>__PYX_ERR(0, 652, __pyx_L1_error)</span>)
    if (<span class='pyx_c_api'>__Pyx_MergeKeywords</span>(__pyx_t_3, __pyx_v_kws) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 652, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0653</span>:                                      )</pre>
<pre class="cython line score-62" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0654</span>:     Xs, ys = rsampler.fit_resample(X, y)</pre>
<pre class='cython code score-62 '>  <span class='trace'>__Pyx_TraceLine</span>(654,0,<span class='error_goto'>__PYX_ERR(0, 654, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_rsampler, __pyx_n_s_fit_resample);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 654, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_2 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_2, __pyx_v_X, __pyx_v_y};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 654, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_1))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
    PyObject* sequence = __pyx_t_1;
    Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
    if (unlikely(size != 2)) {
      if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
      else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
      <span class='error_goto'>__PYX_ERR(0, 654, __pyx_L1_error)</span>
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
      __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
      __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
    } else {
      __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
      __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
    }
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
    #else
    __pyx_t_3 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 654, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 654, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    #endif
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  } else {
    Py_ssize_t index = -1;
    __pyx_t_6 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 654, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_6);
    index = 0; __pyx_t_3 = __pyx_t_7(__pyx_t_6); if (unlikely(!__pyx_t_3)) goto __pyx_L4_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    index = 1; __pyx_t_2 = __pyx_t_7(__pyx_t_6); if (unlikely(!__pyx_t_2)) goto __pyx_L4_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_7(__pyx_t_6), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 654, __pyx_L1_error)</span>
    __pyx_t_7 = NULL;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    goto __pyx_L5_unpacking_done;
    __pyx_L4_unpacking_failed:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_7 = NULL;
    if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
    <span class='error_goto'>__PYX_ERR(0, 654, __pyx_L1_error)</span>
    __pyx_L5_unpacking_done:;
  }
  __pyx_v_Xs = __pyx_t_3;
  __pyx_t_3 = 0;
  __pyx_v_ys = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0655</span>: </pre>
<pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0656</span>:     if ellipsis2false(verbose)[0]:</pre>
<pre class='cython code score-22 '>  <span class='trace'>__Pyx_TraceLine</span>(656,0,<span class='error_goto'>__PYX_ERR(0, 656, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_ellipsis2false);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 656, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_verbose};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 656, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_1, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 656, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_2); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 656, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_5) {
/*  */
  }
</pre><pre class="cython line score-43" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0657</span>:         print("{:&lt;20}".format(f"Counters: {strategy.title()}"))</pre>
<pre class='cython code score-43 '>    <span class='trace'>__Pyx_TraceLine</span>(657,0,<span class='error_goto'>__PYX_ERR(0, 657, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_kp_u_20, __pyx_n_s_format);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 657, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_strategy, __pyx_n_s_title);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 657, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_8 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
      __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
      if (likely(__pyx_t_8)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_8, NULL};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 657, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_t_3, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 657, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_kp_u_Counters, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 657, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_t_3};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 657, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_print, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 657, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-45" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0658</span>:         print( "{:&gt;35}".format( "Raw counter y:") , Counter (y))</pre>
<pre class='cython code score-45 '>    <span class='trace'>__Pyx_TraceLine</span>(658,0,<span class='error_goto'>__PYX_ERR(0, 658, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_kp_u_35, __pyx_n_s_format);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 658, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_kp_u_Raw_counter_y};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 658, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_Counter);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 658, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_6 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_v_y};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 658, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 658, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 658, __pyx_L1_error)</span>;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 658, __pyx_L1_error)</span>;
    __pyx_t_1 = 0;
    __pyx_t_2 = 0;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_print, __pyx_t_3, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 658, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-68" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0659</span>:         print( "{:&gt;35}".format(f"{kind.title()}Sampling counter y:"), Counter (ys))</pre>
<pre class='cython code score-68 '>    <span class='trace'>__Pyx_TraceLine</span>(659,0,<span class='error_goto'>__PYX_ERR(0, 659, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_kp_u_35, __pyx_n_s_format);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 659, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_kind, __pyx_n_s_title);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 659, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_8 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
      __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
      if (likely(__pyx_t_8)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_8, NULL};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 659, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_t_1, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 659, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyUnicode_ConcatInPlace</span>(__pyx_t_6, __pyx_kp_u_Sampling_counter_y);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 659, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_t_1};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 659, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_Counter);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 659, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_6 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_v_ys};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 659, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 659, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 659, __pyx_L1_error)</span>;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 659, __pyx_L1_error)</span>;
    __pyx_t_2 = 0;
    __pyx_t_3 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_print, __pyx_t_1, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 659, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0660</span>: </pre>
<pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0661</span>:     return Xs, ys</pre>
<pre class='cython code score-12 '>  <span class='trace'>__Pyx_TraceLine</span>(661,0,<span class='error_goto'>__PYX_ERR(0, 661, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 661, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_Xs);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_Xs);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_Xs)) <span class='error_goto'>__PYX_ERR(0, 661, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_ys);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_ys);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_v_ys)) <span class='error_goto'>__PYX_ERR(0, 661, __pyx_L1_error)</span>;
  __pyx_r = __pyx_t_3;
  __pyx_t_3 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0662</span>: </pre>
<pre class="cython line score-106" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0663</span>: def bin_counting(</pre>
<pre class='cython code score-106 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_7bin_counting(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_6bin_counting, " Bin counting categorical variable and turn it into probabilistic \n    ratio.\n    \n    Bin counting is one of the perennial rediscoveries in machine learning. \n    It has been reinvented and used in a variety of applications, from ad \n    click-through rate prediction to hardware branch prediction [1]_, [2]_ \n    and [3]_.\n    \n    Given an input variable X and a target variable Y, the odds ratio is \n    defined as:\n        \n    .. math:: \n        \n        odds ratio = \014rac{ P(Y = 1 | X = 1)/ P(Y = 0 | X = 1)}{\n            P(Y = 1 | X = 0)/ P(Y = 0 | X = 0)}\n          \n    Probability ratios can easily become very small or very large. The log \n    transform again comes to our rescue. Anotheruseful property of the \n    logarithm is that it turns a division into a subtraction. To turn \n    bin statistic probability value to log, set ``uselog=True``.\n    \n    Parameters \n    -----------\n    data: dataframe \n       Data containing the categorical values. \n       \n    bin_columns: str or list , \n       The columns to apply the bin_counting. If 'auto', the columns are \n       extracted and categorized before applying the `bin_counting`. \n       \n    tname: str, pd.Series\n      The target name for which the counting is operated. If series, it \n      must have the same length as the data. \n      \n    odds: str , {\"N+\", \"N-\", \"log_N+\"}: \n        The odds ratio of bin counting to fill the categorical. ``N+`` and  \n        ``N-`` are positive and negative probabilistic computing. Whereas the\n        ``log_N+`` is the logarithm odds ratio useful when value are smaller \n        or larger. \n        \n    return_counts: bool, default=True \n      return the bin counting dataframes. \n  \n    tolog: bool, default=False, \n      Apply the logarithm to the output data ratio. Indeed, Probability ratios \n      can easily  become very small or very large. For instance, there will be \n      users who almost never click on ads, and perhaps"" users who click on ads \n      much more frequently than not.) The log transform again comes to our  \n      rescue. Another useful property of the logarithm is that it turns a \n      division \n      \n    encode_categorical : bool, optional\n        If `True`, encode categorical variables. Default is `False`.\n\n    Returns \n    --------\n    d: dataframe \n       Dataframe transformed or bin-counting data\n       \n    Examples \n    ---------\n    &gt;&gt;&gt; import gofast as gf \n    &gt;&gt;&gt; from gofast.tools.mlutils import bin_counting \n    &gt;&gt;&gt; X, y = gf.fetch_data ('bagoue analysed', as_frame =True) \n    &gt;&gt;&gt; # target binarize \n    &gt;&gt;&gt; y [y &lt;=1] = 0;  y [y &gt; 0]=1 \n    &gt;&gt;&gt; X.head(2) \n    Out[7]: \n          power  magnitude       sfi      ohmS       lwi  shape  type  geol\n    0  0.191800  -0.140799 -0.426916  0.386121  0.638622    4.0   1.0   3.0\n    1 -0.430644  -0.114022  1.678541 -0.185662 -0.063900    3.0   2.0   2.0\n    &gt;&gt;&gt;  bin_counting (X , bin_columns= 'geol', tname =y).head(2)\n    Out[8]: \n          power  magnitude       sfi      ohmS  ...  shape  type      geol  bin_target\n    0  0.191800  -0.140799 -0.426916  0.386121  ...    4.0   1.0  0.656716           1\n    1 -0.430644  -0.114022  1.678541 -0.185662  ...    3.0   2.0  0.219251           0\n    [2 rows x 9 columns]\n    &gt;&gt;&gt;  bin_counting (X , bin_columns= ['geol', 'shape', 'type'], tname =y).head(2)\n    Out[10]: \n          power  magnitude       sfi  ...      type      geol  bin_target\n    0  0.191800  -0.140799 -0.426916  ...  0.267241  0.656716           1\n    1 -0.430644  -0.114022  1.678541  ...  0.385965  0.219251           0\n    [2 rows x 9 columns]\n    &gt;&gt;&gt; df = pd.DataFrame ( pd.concat ( [X, pd.Series ( y, name ='flow')],\n                                       axis =1))\n    &gt;&gt;&gt; bin_counting (df , bin_columns= ['geol', 'shape', 'type'], \n                      tname =\"flow\", tolog=True).head(2)\n    Out[12]: \n          power  magnitude       sfi      ohmS  ...     shape      t""ype      geol  flow\n    0  0.191800  -0.140799 -0.426916  0.386121  ...  0.828571  0.364706  1.913043     1\n    1 -0.430644  -0.114022  1.678541 -0.185662  ...  0.364865  0.628571  0.280822     0\n    &gt;&gt;&gt; bin_counting (df , bin_columns= ['geol', 'shape', 'type'],odds =\"N-\", \n                      tname =y, tolog=True).head(2)\n    Out[13]: \n          power  magnitude       sfi  ...      geol  flow  bin_target\n    0  0.191800  -0.140799 -0.426916  ...  0.522727     1           1\n    1 -0.430644  -0.114022  1.678541  ...  3.560976     0           0\n    [2 rows x 10 columns]\n    &gt;&gt;&gt; bin_counting (df , bin_columns= \"geol\",tname =\"flow\", tolog=True,\n                      return_counts= True )\n    Out[14]: \n         flow  no_flow  total_flow        N+        N-     logN+     logN-\n    3.0    44       23          67  0.656716  0.343284  1.913043  0.522727\n    2.0    41      146         187  0.219251  0.780749  0.280822  3.560976\n    0.0    18       43          61  0.295082  0.704918  0.418605  2.388889\n    1.0     9       20          29  0.310345  0.689655  0.450000  2.222222\n\n    References \n    -----------\n    .. [1] Yeh, Tse-Yu, and Yale N. Patt. Two-Level Adaptive Training Branch \n           Prediction. Proceedings of the 24th Annual International \n           Symposium on Microarchitecture (1991):51\342\200\22361\n           \n    .. [2] Li, Wei, Xuerui Wang, Ruofei Zhang, Ying Cui, Jianchang Mao, and \n           Rong Jin.Exploitation and Exploration in a Performance Based Contextual \n           Advertising System. Proceedings of the 16th ACM SIGKDD International\n           Conference on Knowledge Discovery and Data Mining (2010): 27\342\200\22336\n           \n    .. [3] Chen, Ye, Dmitry Pavlov, and John _F. Canny. \342\200\234Large-Scale Behavioral \n           Targeting. Proceedings of the 15th ACM SIGKDD International \n           Conference on Knowledge Discovery and Data Mining (2009): 209\342\200\223218     \n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_7bin_counting = {"bin_counting", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_7bin_counting, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_6bin_counting};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_7bin_counting(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_data = 0;
  PyObject *__pyx_v_bin_columns = 0;
  PyObject *__pyx_v_tname = 0;
  PyObject *__pyx_v_odds = 0;
  PyObject *__pyx_v_return_counts = 0;
  PyObject *__pyx_v_tolog = 0;
  PyObject *__pyx_v_encode_categorical = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("bin_counting (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_data,&amp;__pyx_n_s_bin_columns,&amp;__pyx_n_s_tname,&amp;__pyx_n_s_odds,&amp;__pyx_n_s_return_counts,&amp;__pyx_n_s_tolog,&amp;__pyx_n_s_encode_categorical,0};
  PyObject* values[7] = {0,0,0,0,0,0,0};
    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject*)((PyObject*)__pyx_kp_u_N)));
/*  */
  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_6bin_counting(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_data, PyObject *__pyx_v_bin_columns, PyObject *__pyx_v_tname, PyObject *__pyx_v_odds, PyObject *__pyx_v_return_counts, PyObject *__pyx_v_tolog, PyObject *__pyx_v_encode_categorical) {
  PyObject *__pyx_v_ttname = NULL;
  CYTHON_UNUSED PyObject *__pyx_v__ = NULL;
  PyObject *__pyx_v_target_all_counts = NULL;
  PyObject *__pyx_v_d = NULL;
  PyObject *__pyx_v_feature_cols = NULL;
  PyObject *__pyx_v_bin_column = NULL;
  PyObject *__pyx_v_tc = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__7)
  <span class='trace'>__Pyx_TraceCall</span>("bin_counting", __pyx_f[0], 663, 0, <span class='error_goto'>__PYX_ERR(0, 663, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_bin_columns);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_tname);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_return_counts);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_tolog);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_encode_categorical);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.bin_counting", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_ttname);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v__);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_target_all_counts);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_d);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_feature_cols);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_bin_column);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_tc);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_data);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_bin_columns);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_tname);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_return_counts);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_tolog);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_encode_categorical);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__137 = <span class='py_c_api'>PyTuple_Pack</span>(14, __pyx_n_s_data, __pyx_n_s_bin_columns, __pyx_n_s_tname, __pyx_n_s_odds, __pyx_n_s_return_counts, __pyx_n_s_tolog, __pyx_n_s_encode_categorical, __pyx_n_s_ttname, __pyx_n_s__11, __pyx_n_s_target_all_counts, __pyx_n_s_d, __pyx_n_s_feature_cols, __pyx_n_s_bin_column, __pyx_n_s_tc);<span class='error_goto'> if (unlikely(!__pyx_tuple__137)) __PYX_ERR(0, 663, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__137);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__137);
  __pyx_codeobj__7 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(7, 0, 0, 14, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__137, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_bin_counting_2, 663, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__7)) __PYX_ERR(0, 663, __pyx_L1_error)</span>
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(663,0,<span class='error_goto'>__PYX_ERR(0, 663, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(8);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 663, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_data, __pyx_n_s_DataFrame) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 663, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_bin_columns, __pyx_kp_s_Union_str_List_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 663, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_tname, __pyx_kp_s_Union_str_Series_int) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 663, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_odds, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 663, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return_counts, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 663, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_tolog, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 663, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_encode_categorical, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 663, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return, __pyx_n_s_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 663, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_7bin_counting, 0, __pyx_n_s_bin_counting_2, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__7));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 663, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_4, __pyx_tuple__138);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_4, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_bin_counting_2, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 663, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_tuple__138 = <span class='py_c_api'>PyTuple_Pack</span>(4, ((PyObject*)__pyx_kp_u_N), ((PyObject *)Py_Ellipsis), ((PyObject *)Py_Ellipsis), ((PyObject *)Py_Ellipsis));<span class='error_goto'> if (unlikely(!__pyx_tuple__138)) __PYX_ERR(0, 663, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__138);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__138);
</pre><pre class="cython line score-0">&#xA0;<span class="">0664</span>:     data: DataFrame,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0665</span>:     bin_columns: Union[str, List[str]],</pre>
<pre class="cython line score-0">&#xA0;<span class="">0666</span>:     tname: Union[str, Series[int]],</pre>
<pre class="cython line score-0">&#xA0;<span class="">0667</span>:     odds: str = "N+",</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0668</span>:     return_counts: bool = ...,</pre>
<pre class='cython code score-2 '>    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_Ellipsis)));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0669</span>:     tolog: bool = ...,</pre>
<pre class='cython code score-2 '>    values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_Ellipsis)));
</pre><pre class="cython line score-109" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0670</span>:     encode_categorical: bool = ...,</pre>
<pre class='cython code score-109 '>    values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_Ellipsis)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  7: values[6] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 6);
        CYTHON_FALLTHROUGH;
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 663, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_bin_columns)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 663, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("bin_counting", 0, 3, 7, 1); <span class='error_goto'>__PYX_ERR(0, 663, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (likely((values[2] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_tname)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[2]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 663, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("bin_counting", 0, 3, 7, 2); <span class='error_goto'>__PYX_ERR(0, 663, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_odds);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 663, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_return_counts);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 663, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  5:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_tolog);
          if (value) { values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 663, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  6:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_encode_categorical);
          if (value) { values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 663, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "bin_counting") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 663, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  7: values[6] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 6);
        CYTHON_FALLTHROUGH;
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_data = values[0];
    __pyx_v_bin_columns = values[1];
    __pyx_v_tname = values[2];
    __pyx_v_odds = ((PyObject*)values[3]);
    __pyx_v_return_counts = values[4];
    __pyx_v_tolog = values[5];
    __pyx_v_encode_categorical = values[6];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("bin_counting", 0, 3, 7, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 663, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.bin_counting", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_odds), (&amp;PyUnicode_Type), 0, "odds", 1))) <span class='error_goto'>__PYX_ERR(0, 667, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_6bin_counting(__pyx_self, __pyx_v_data, __pyx_v_bin_columns, __pyx_v_tname, __pyx_v_odds, __pyx_v_return_counts, __pyx_v_tolog, __pyx_v_encode_categorical);
</pre><pre class="cython line score-0">&#xA0;<span class="">0671</span>: ) -&gt; None:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0672</span>:     """ Bin counting categorical variable and turn it into probabilistic</pre>
<pre class="cython line score-0">&#xA0;<span class="">0673</span>:     ratio.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0674</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0675</span>:     Bin counting is one of the perennial rediscoveries in machine learning.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0676</span>:     It has been reinvented and used in a variety of applications, from ad</pre>
<pre class="cython line score-0">&#xA0;<span class="">0677</span>:     click-through rate prediction to hardware branch prediction [1]_, [2]_</pre>
<pre class="cython line score-0">&#xA0;<span class="">0678</span>:     and [3]_.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0679</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0680</span>:     Given an input variable X and a target variable Y, the odds ratio is</pre>
<pre class="cython line score-0">&#xA0;<span class="">0681</span>:     defined as:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0682</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0683</span>:     .. math::</pre>
<pre class="cython line score-0">&#xA0;<span class="">0684</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0685</span>:         odds ratio = \frac{ P(Y = 1 | X = 1)/ P(Y = 0 | X = 1)}{</pre>
<pre class="cython line score-0">&#xA0;<span class="">0686</span>:             P(Y = 1 | X = 0)/ P(Y = 0 | X = 0)}</pre>
<pre class="cython line score-0">&#xA0;<span class="">0687</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0688</span>:     Probability ratios can easily become very small or very large. The log</pre>
<pre class="cython line score-0">&#xA0;<span class="">0689</span>:     transform again comes to our rescue. Anotheruseful property of the</pre>
<pre class="cython line score-0">&#xA0;<span class="">0690</span>:     logarithm is that it turns a division into a subtraction. To turn</pre>
<pre class="cython line score-0">&#xA0;<span class="">0691</span>:     bin statistic probability value to log, set ``uselog=True``.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0692</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0693</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">0694</span>:     -----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0695</span>:     data: dataframe</pre>
<pre class="cython line score-0">&#xA0;<span class="">0696</span>:        Data containing the categorical values.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0697</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0698</span>:     bin_columns: str or list ,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0699</span>:        The columns to apply the bin_counting. If 'auto', the columns are</pre>
<pre class="cython line score-0">&#xA0;<span class="">0700</span>:        extracted and categorized before applying the `bin_counting`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0701</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0702</span>:     tname: str, pd.Series</pre>
<pre class="cython line score-0">&#xA0;<span class="">0703</span>:       The target name for which the counting is operated. If series, it</pre>
<pre class="cython line score-0">&#xA0;<span class="">0704</span>:       must have the same length as the data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0705</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0706</span>:     odds: str , {"N+", "N-", "log_N+"}:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0707</span>:         The odds ratio of bin counting to fill the categorical. ``N+`` and</pre>
<pre class="cython line score-0">&#xA0;<span class="">0708</span>:         ``N-`` are positive and negative probabilistic computing. Whereas the</pre>
<pre class="cython line score-0">&#xA0;<span class="">0709</span>:         ``log_N+`` is the logarithm odds ratio useful when value are smaller</pre>
<pre class="cython line score-0">&#xA0;<span class="">0710</span>:         or larger.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0711</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0712</span>:     return_counts: bool, default=True</pre>
<pre class="cython line score-0">&#xA0;<span class="">0713</span>:       return the bin counting dataframes.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0714</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0715</span>:     tolog: bool, default=False,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0716</span>:       Apply the logarithm to the output data ratio. Indeed, Probability ratios</pre>
<pre class="cython line score-0">&#xA0;<span class="">0717</span>:       can easily  become very small or very large. For instance, there will be</pre>
<pre class="cython line score-0">&#xA0;<span class="">0718</span>:       users who almost never click on ads, and perhaps users who click on ads</pre>
<pre class="cython line score-0">&#xA0;<span class="">0719</span>:       much more frequently than not.) The log transform again comes to our</pre>
<pre class="cython line score-0">&#xA0;<span class="">0720</span>:       rescue. Another useful property of the logarithm is that it turns a</pre>
<pre class="cython line score-0">&#xA0;<span class="">0721</span>:       division</pre>
<pre class="cython line score-0">&#xA0;<span class="">0722</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0723</span>:     encode_categorical : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">0724</span>:         If `True`, encode categorical variables. Default is `False`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0725</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0726</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">0727</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0728</span>:     d: dataframe</pre>
<pre class="cython line score-0">&#xA0;<span class="">0729</span>:        Dataframe transformed or bin-counting data</pre>
<pre class="cython line score-0">&#xA0;<span class="">0730</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0731</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">0732</span>:     ---------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0733</span>:     &gt;&gt;&gt; import gofast as gf</pre>
<pre class="cython line score-0">&#xA0;<span class="">0734</span>:     &gt;&gt;&gt; from gofast.tools.mlutils import bin_counting</pre>
<pre class="cython line score-0">&#xA0;<span class="">0735</span>:     &gt;&gt;&gt; X, y = gf.fetch_data ('bagoue analysed', as_frame =True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0736</span>:     &gt;&gt;&gt; # target binarize</pre>
<pre class="cython line score-0">&#xA0;<span class="">0737</span>:     &gt;&gt;&gt; y [y &lt;=1] = 0;  y [y &gt; 0]=1</pre>
<pre class="cython line score-0">&#xA0;<span class="">0738</span>:     &gt;&gt;&gt; X.head(2)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0739</span>:     Out[7]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0740</span>:           power  magnitude       sfi      ohmS       lwi  shape  type  geol</pre>
<pre class="cython line score-0">&#xA0;<span class="">0741</span>:     0  0.191800  -0.140799 -0.426916  0.386121  0.638622    4.0   1.0   3.0</pre>
<pre class="cython line score-0">&#xA0;<span class="">0742</span>:     1 -0.430644  -0.114022  1.678541 -0.185662 -0.063900    3.0   2.0   2.0</pre>
<pre class="cython line score-0">&#xA0;<span class="">0743</span>:     &gt;&gt;&gt;  bin_counting (X , bin_columns= 'geol', tname =y).head(2)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0744</span>:     Out[8]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0745</span>:           power  magnitude       sfi      ohmS  ...  shape  type      geol  bin_target</pre>
<pre class="cython line score-0">&#xA0;<span class="">0746</span>:     0  0.191800  -0.140799 -0.426916  0.386121  ...    4.0   1.0  0.656716           1</pre>
<pre class="cython line score-0">&#xA0;<span class="">0747</span>:     1 -0.430644  -0.114022  1.678541 -0.185662  ...    3.0   2.0  0.219251           0</pre>
<pre class="cython line score-0">&#xA0;<span class="">0748</span>:     [2 rows x 9 columns]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0749</span>:     &gt;&gt;&gt;  bin_counting (X , bin_columns= ['geol', 'shape', 'type'], tname =y).head(2)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0750</span>:     Out[10]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0751</span>:           power  magnitude       sfi  ...      type      geol  bin_target</pre>
<pre class="cython line score-0">&#xA0;<span class="">0752</span>:     0  0.191800  -0.140799 -0.426916  ...  0.267241  0.656716           1</pre>
<pre class="cython line score-0">&#xA0;<span class="">0753</span>:     1 -0.430644  -0.114022  1.678541  ...  0.385965  0.219251           0</pre>
<pre class="cython line score-0">&#xA0;<span class="">0754</span>:     [2 rows x 9 columns]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0755</span>:     &gt;&gt;&gt; df = pd.DataFrame ( pd.concat ( [X, pd.Series ( y, name ='flow')],</pre>
<pre class="cython line score-0">&#xA0;<span class="">0756</span>:                                        axis =1))</pre>
<pre class="cython line score-0">&#xA0;<span class="">0757</span>:     &gt;&gt;&gt; bin_counting (df , bin_columns= ['geol', 'shape', 'type'],</pre>
<pre class="cython line score-0">&#xA0;<span class="">0758</span>:                       tname ="flow", tolog=True).head(2)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0759</span>:     Out[12]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0760</span>:           power  magnitude       sfi      ohmS  ...     shape      type      geol  flow</pre>
<pre class="cython line score-0">&#xA0;<span class="">0761</span>:     0  0.191800  -0.140799 -0.426916  0.386121  ...  0.828571  0.364706  1.913043     1</pre>
<pre class="cython line score-0">&#xA0;<span class="">0762</span>:     1 -0.430644  -0.114022  1.678541 -0.185662  ...  0.364865  0.628571  0.280822     0</pre>
<pre class="cython line score-0">&#xA0;<span class="">0763</span>:     &gt;&gt;&gt; bin_counting (df , bin_columns= ['geol', 'shape', 'type'],odds ="N-",</pre>
<pre class="cython line score-0">&#xA0;<span class="">0764</span>:                       tname =y, tolog=True).head(2)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0765</span>:     Out[13]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0766</span>:           power  magnitude       sfi  ...      geol  flow  bin_target</pre>
<pre class="cython line score-0">&#xA0;<span class="">0767</span>:     0  0.191800  -0.140799 -0.426916  ...  0.522727     1           1</pre>
<pre class="cython line score-0">&#xA0;<span class="">0768</span>:     1 -0.430644  -0.114022  1.678541  ...  3.560976     0           0</pre>
<pre class="cython line score-0">&#xA0;<span class="">0769</span>:     [2 rows x 10 columns]</pre>
<pre class="cython line score-0">&#xA0;<span class="">0770</span>:     &gt;&gt;&gt; bin_counting (df , bin_columns= "geol",tname ="flow", tolog=True,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0771</span>:                       return_counts= True )</pre>
<pre class="cython line score-0">&#xA0;<span class="">0772</span>:     Out[14]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0773</span>:          flow  no_flow  total_flow        N+        N-     logN+     logN-</pre>
<pre class="cython line score-0">&#xA0;<span class="">0774</span>:     3.0    44       23          67  0.656716  0.343284  1.913043  0.522727</pre>
<pre class="cython line score-0">&#xA0;<span class="">0775</span>:     2.0    41      146         187  0.219251  0.780749  0.280822  3.560976</pre>
<pre class="cython line score-0">&#xA0;<span class="">0776</span>:     0.0    18       43          61  0.295082  0.704918  0.418605  2.388889</pre>
<pre class="cython line score-0">&#xA0;<span class="">0777</span>:     1.0     9       20          29  0.310345  0.689655  0.450000  2.222222</pre>
<pre class="cython line score-0">&#xA0;<span class="">0778</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0779</span>:     References</pre>
<pre class="cython line score-0">&#xA0;<span class="">0780</span>:     -----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0781</span>:     .. [1] Yeh, Tse-Yu, and Yale N. Patt. Two-Level Adaptive Training Branch</pre>
<pre class="cython line score-0">&#xA0;<span class="">0782</span>:            Prediction. Proceedings of the 24th Annual International</pre>
<pre class="cython line score-0">&#xA0;<span class="">0783</span>:            Symposium on Microarchitecture (1991):5161</pre>
<pre class="cython line score-0">&#xA0;<span class="">0784</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0785</span>:     .. [2] Li, Wei, Xuerui Wang, Ruofei Zhang, Ying Cui, Jianchang Mao, and</pre>
<pre class="cython line score-0">&#xA0;<span class="">0786</span>:            Rong Jin.Exploitation and Exploration in a Performance Based Contextual</pre>
<pre class="cython line score-0">&#xA0;<span class="">0787</span>:            Advertising System. Proceedings of the 16th ACM SIGKDD International</pre>
<pre class="cython line score-0">&#xA0;<span class="">0788</span>:            Conference on Knowledge Discovery and Data Mining (2010): 2736</pre>
<pre class="cython line score-0">&#xA0;<span class="">0789</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0790</span>:     .. [3] Chen, Ye, Dmitry Pavlov, and John _F. Canny. Large-Scale Behavioral</pre>
<pre class="cython line score-0">&#xA0;<span class="">0791</span>:            Targeting. Proceedings of the 15th ACM SIGKDD International</pre>
<pre class="cython line score-0">&#xA0;<span class="">0792</span>:            Conference on Knowledge Discovery and Data Mining (2009): 209218</pre>
<pre class="cython line score-0">&#xA0;<span class="">0793</span>:     """</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0794</span>:     return_counts, tolog, encode_categorical= ellipsis2false(</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(794,0,<span class='error_goto'>__PYX_ERR(0, 794, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_ellipsis2false);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 794, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(794,0,<span class='error_goto'>__PYX_ERR(0, 794, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_return_counts, __pyx_t_2);
  __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_tolog, __pyx_t_3);
  __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_encode_categorical, __pyx_t_5);
  __pyx_t_5 = 0;
</pre><pre class="cython line score-64" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0795</span>:         return_counts, tolog, encode_categorical)</pre>
<pre class='cython code score-64 '>  <span class='trace'>__Pyx_TraceLine</span>(795,0,<span class='error_goto'>__PYX_ERR(0, 795, __pyx_L1_error)</span>)
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[4] = {__pyx_t_3, __pyx_v_return_counts, __pyx_v_tolog, __pyx_v_encode_categorical};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 3+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 794, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_1))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
    PyObject* sequence = __pyx_t_1;
    Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
    if (unlikely(size != 3)) {
      if (size &gt; 3) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(3);
      else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
      <span class='error_goto'>__PYX_ERR(0, 794, __pyx_L1_error)</span>
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
      __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
      __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
      __pyx_t_5 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 2); 
    } else {
      __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
      __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
      __pyx_t_5 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 2); 
    }
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
    #else
    __pyx_t_2 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 794, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 794, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_5 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 794, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    #endif
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  } else {
    Py_ssize_t index = -1;
    __pyx_t_6 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 794, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_6);
    index = 0; __pyx_t_2 = __pyx_t_7(__pyx_t_6); if (unlikely(!__pyx_t_2)) goto __pyx_L3_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    index = 1; __pyx_t_3 = __pyx_t_7(__pyx_t_6); if (unlikely(!__pyx_t_3)) goto __pyx_L3_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    index = 2; __pyx_t_5 = __pyx_t_7(__pyx_t_6); if (unlikely(!__pyx_t_5)) goto __pyx_L3_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_7(__pyx_t_6), 3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 794, __pyx_L1_error)</span>
    __pyx_t_7 = NULL;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    goto __pyx_L4_unpacking_done;
    __pyx_L3_unpacking_failed:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_7 = NULL;
    if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
    <span class='error_goto'>__PYX_ERR(0, 794, __pyx_L1_error)</span>
    __pyx_L4_unpacking_done:;
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">0796</span>:     # assert everything</pre>
<pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0797</span>:     if not is_frame (data, df_only =True ):</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(797,0,<span class='error_goto'>__PYX_ERR(0, 797, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_is_frame);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 797, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 797, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_v_data)) <span class='error_goto'>__PYX_ERR(0, 797, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 797, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_df_only, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 797, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_5, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 797, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_2); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 797, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_9 = (!__pyx_t_8);
  if (unlikely(__pyx_t_9)) {
/*  */
  }
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0798</span>:         raise TypeError(f"Expect dataframe. Got {type(data).__name__!r}")</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(798,0,<span class='error_goto'>__PYX_ERR(0, 798, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(((PyObject *)Py_TYPE(__pyx_v_data)), __pyx_n_s_name_2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 798, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_t_2), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 798, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_kp_u_Expect_dataframe_Got, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 798, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_TypeError, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 798, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_3, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='error_goto'>__PYX_ERR(0, 798, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0799</span>: </pre>
<pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0800</span>:     if isinstance (bin_columns, str) and bin_columns=='auto':</pre>
<pre class='cython code score-7 '>  <span class='trace'>__Pyx_TraceLine</span>(800,0,<span class='error_goto'>__PYX_ERR(0, 800, __pyx_L1_error)</span>)
  __pyx_t_8 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_bin_columns); 
  if (__pyx_t_8) {
  } else {
    __pyx_t_9 = __pyx_t_8;
    goto __pyx_L7_bool_binop_done;
  }
  __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_bin_columns, __pyx_n_u_auto, Py_EQ)); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 800, __pyx_L1_error)</span>
  __pyx_t_9 = __pyx_t_8;
  __pyx_L7_bool_binop_done:;
  if (__pyx_t_9) {
/*  */
  }
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0801</span>:         ttname = tname if isinstance (tname, str) else None # pass</pre>
<pre class='cython code score-7 '>    <span class='trace'>__Pyx_TraceLine</span>(801,0,<span class='error_goto'>__PYX_ERR(0, 801, __pyx_L1_error)</span>)
    __pyx_t_9 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_tname); 
    if (__pyx_t_9) {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_tname);
      __pyx_t_3 = __pyx_v_tname;
    } else {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
      __pyx_t_3 = Py_None;
    }
    __pyx_v_ttname = __pyx_t_3;
    __pyx_t_3 = 0;
</pre><pre class="cython line score-62" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0802</span>:         _, bin_columns = process_df(</pre>
<pre class='cython code score-62 '>    <span class='trace'>__Pyx_TraceLine</span>(802,0,<span class='error_goto'>__PYX_ERR(0, 802, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_process_df);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 802, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(803,0,<span class='error_goto'>__PYX_ERR(0, 803, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 802, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_data)) <span class='error_goto'>__PYX_ERR(0, 802, __pyx_L1_error)</span>;
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(802,0,<span class='error_goto'>__PYX_ERR(0, 802, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_2, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 802, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_1))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
      PyObject* sequence = __pyx_t_1;
      Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
      if (unlikely(size != 2)) {
        if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
        else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
        <span class='error_goto'>__PYX_ERR(0, 802, __pyx_L1_error)</span>
      }
      #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
      if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
        __pyx_t_5 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
        __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
      } else {
        __pyx_t_5 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
        __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
      }
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      #else
      __pyx_t_5 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 802, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      __pyx_t_2 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 802, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      #endif
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    } else {
      Py_ssize_t index = -1;
      __pyx_t_3 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 802, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_3);
      index = 0; __pyx_t_5 = __pyx_t_7(__pyx_t_3); if (unlikely(!__pyx_t_5)) goto __pyx_L9_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      index = 1; __pyx_t_2 = __pyx_t_7(__pyx_t_3); if (unlikely(!__pyx_t_2)) goto __pyx_L9_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_7(__pyx_t_3), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 802, __pyx_L1_error)</span>
      __pyx_t_7 = NULL;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      goto __pyx_L10_unpacking_done;
      __pyx_L9_unpacking_failed:;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_7 = NULL;
      if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
      <span class='error_goto'>__PYX_ERR(0, 802, __pyx_L1_error)</span>
      __pyx_L10_unpacking_done:;
    }
    __pyx_v__ = __pyx_t_5;
    __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_bin_columns, __pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0803</span>:             data, target_name= ttname,</pre>
<pre class='cython code score-7 '>    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 803, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_target_name, __pyx_v_ttname) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 803, __pyx_L1_error)</span>
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0804</span>:             exclude_target=True if ttname else False</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(804,0,<span class='error_goto'>__PYX_ERR(0, 804, __pyx_L1_error)</span>)
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_ttname); if (unlikely((__pyx_t_9 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 804, __pyx_L1_error)</span>
    if (__pyx_t_9) {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_True);
      __pyx_t_1 = Py_True;
    } else {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_False);
      __pyx_t_1 = Py_False;
    }
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_exclude_target, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 803, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0805</span>:         )</pre>
<pre class="cython line score-0">&#xA0;<span class="">0806</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0807</span>:     if encode_categorical:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(807,0,<span class='error_goto'>__PYX_ERR(0, 807, __pyx_L1_error)</span>)
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_encode_categorical); if (unlikely((__pyx_t_9 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 807, __pyx_L1_error)</span>
  if (__pyx_t_9) {
/*  */
  }
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0808</span>:         data = soft_encoder(data)</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(808,0,<span class='error_goto'>__PYX_ERR(0, 808, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_soft_encoder);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 808, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_5 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_v_data};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 808, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_data, __pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0809</span>: </pre>
<pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0810</span>:     if not _is_numeric_dtype(data, to_array= True):</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(810,0,<span class='error_goto'>__PYX_ERR(0, 810, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_is_numeric_dtype);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 810, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 810, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_data)) <span class='error_goto'>__PYX_ERR(0, 810, __pyx_L1_error)</span>;
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 810, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_to_array, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 810, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_2, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 810, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_3); if (unlikely((__pyx_t_9 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 810, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_8 = (!__pyx_t_9);
  if (unlikely(__pyx_t_8)) {
/*  */
  }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0811</span>:         raise TypeError ("Expect data with encoded categorical variables."</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(811,0,<span class='error_goto'>__PYX_ERR(0, 811, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_TypeError, __pyx_tuple__8, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 811, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_3, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='error_goto'>__PYX_ERR(0, 811, __pyx_L1_error)</span>
/*  */
  __pyx_tuple__8 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Expect_data_with_encoded_categor);<span class='error_goto'> if (unlikely(!__pyx_tuple__8)) __PYX_ERR(0, 811, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__8);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__8);
</pre><pre class="cython line score-0">&#xA0;<span class="">0812</span>:                          " Please check your data.")</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0813</span>:     if hasattr ( tname, '__array__'):</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(813,0,<span class='error_goto'>__PYX_ERR(0, 813, __pyx_L1_error)</span>)
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_HasAttr</span>(__pyx_v_tname, __pyx_n_u_array);<span class='error_goto'> if (unlikely(__pyx_t_8 == ((int)-1))) __PYX_ERR(0, 813, __pyx_L1_error)</span>
  if (__pyx_t_8) {
/*  */
  }
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0814</span>:         check_consistent_length( data, tname )</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(814,0,<span class='error_goto'>__PYX_ERR(0, 814, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_check_consistent_length);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 814, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_2 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_2, __pyx_v_data, __pyx_v_tname};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 814, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0815</span>:         if not _is_arraylike_1d(tname):</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(815,0,<span class='error_goto'>__PYX_ERR(0, 815, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_is_arraylike_1d);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 815, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_2 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_tname};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 815, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_3); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 815, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_9 = (!__pyx_t_8);
    if (unlikely(__pyx_t_9)) {
/*  */
    }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0816</span>:             raise TypeError (</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(816,0,<span class='error_goto'>__PYX_ERR(0, 816, __pyx_L1_error)</span>)
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_TypeError, __pyx_tuple__9, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 816, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_3, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='error_goto'>__PYX_ERR(0, 816, __pyx_L1_error)</span>
/*  */
  __pyx_tuple__9 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Only_one_dimensional_array_is_al);<span class='error_goto'> if (unlikely(!__pyx_tuple__9)) __PYX_ERR(0, 816, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__9);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__9);
</pre><pre class="cython line score-0">&#xA0;<span class="">0817</span>:                  "Only one dimensional array is allowed for the target.")</pre>
<pre class="cython line score-0">&#xA0;<span class="">0818</span>:         # create fake bin target</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0819</span>:         if not hasattr ( tname, 'name'):</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(819,0,<span class='error_goto'>__PYX_ERR(0, 819, __pyx_L1_error)</span>)
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_HasAttr</span>(__pyx_v_tname, __pyx_n_u_name);<span class='error_goto'> if (unlikely(__pyx_t_9 == ((int)-1))) __PYX_ERR(0, 819, __pyx_L1_error)</span>
    __pyx_t_8 = (!__pyx_t_9);
    if (__pyx_t_8) {
/*  */
    }
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0820</span>:             tname = pd.Series (tname, name ='bin_target')</pre>
<pre class='cython code score-26 '>      <span class='trace'>__Pyx_TraceLine</span>(820,0,<span class='error_goto'>__PYX_ERR(0, 820, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 820, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 820, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 820, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_tname);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_tname);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_tname)) <span class='error_goto'>__PYX_ERR(0, 820, __pyx_L1_error)</span>;
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 820, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_name, __pyx_n_u_bin_target) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 820, __pyx_L1_error)</span>
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_t_3, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 820, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_tname, __pyx_t_1);
      __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0821</span>:         # concatenate target</pre>
<pre class="cython line score-36" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0822</span>:         data= pd.concat ( [ data, tname], axis = 1 )</pre>
<pre class='cython code score-36 '>    <span class='trace'>__Pyx_TraceLine</span>(822,0,<span class='error_goto'>__PYX_ERR(0, 822, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 822, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_concat);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 822, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 822, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_data)) <span class='error_goto'>__PYX_ERR(0, 822, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_tname);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_tname);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 1, __pyx_v_tname)) <span class='error_goto'>__PYX_ERR(0, 822, __pyx_L1_error)</span>;
    __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 822, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 822, __pyx_L1_error)</span>;
    __pyx_t_1 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 822, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_axis, __pyx_int_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 822, __pyx_L1_error)</span>
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_3, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 822, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_data, __pyx_t_5);
    __pyx_t_5 = 0;
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0823</span>:         tname = tname.name  # take the name</pre>
<pre class='cython code score-3 '>    <span class='trace'>__Pyx_TraceLine</span>(823,0,<span class='error_goto'>__PYX_ERR(0, 823, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_tname, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 823, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_tname, __pyx_t_5);
    __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0824</span>: </pre>
<pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0825</span>:     bin_columns= is_iterable(bin_columns, exclude_string= True, transform =True )</pre>
<pre class='cython code score-28 '>  <span class='trace'>__Pyx_TraceLine</span>(825,0,<span class='error_goto'>__PYX_ERR(0, 825, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_is_iterable);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 825, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 825, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_bin_columns);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_bin_columns);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_bin_columns)) <span class='error_goto'>__PYX_ERR(0, 825, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 825, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_exclude_string, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 825, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_transform, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 825, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_t_1, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 825, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_bin_columns, __pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0826</span>:     tname = str(tname) ;</pre>
<pre class='cython code score-3 '>  <span class='trace'>__Pyx_TraceLine</span>(826,0,<span class='error_goto'>__PYX_ERR(0, 826, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Str</span>(__pyx_v_tname);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 826, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_tname, __pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0827</span>:     target_all_counts =[]</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(827,0,<span class='error_goto'>__PYX_ERR(0, 827, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 827, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_v_target_all_counts = ((PyObject*)__pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0828</span>: </pre>
<pre class="cython line score-38" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0829</span>:     validate_feature(data, features =bin_columns + [tname] )</pre>
<pre class='cython code score-38 '>  <span class='trace'>__Pyx_TraceLine</span>(829,0,<span class='error_goto'>__PYX_ERR(0, 829, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_validate_feature);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 829, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 829, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_data)) <span class='error_goto'>__PYX_ERR(0, 829, __pyx_L1_error)</span>;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 829, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_5 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 829, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_tname);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_tname);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_5, 0, __pyx_v_tname)) <span class='error_goto'>__PYX_ERR(0, 829, __pyx_L1_error)</span>;
  __pyx_t_6 = <span class='py_c_api'>PyNumber_Add</span>(__pyx_v_bin_columns, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 829, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_features, __pyx_t_6) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 829, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_3, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 829, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0830</span>:     d= data.copy()</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(830,0,<span class='error_goto'>__PYX_ERR(0, 830, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_copy);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 830, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 830, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  __pyx_v_d = __pyx_t_6;
  __pyx_t_6 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0831</span>:     # -convert all features dtype to float for consistency</pre>
<pre class="cython line score-0">&#xA0;<span class="">0832</span>:     # except the binary target</pre>
<pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0833</span>:     feature_cols = is_in_if (d.columns , tname, return_diff= True )</pre>
<pre class='cython code score-26 '>  <span class='trace'>__Pyx_TraceLine</span>(833,0,<span class='error_goto'>__PYX_ERR(0, 833, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_is_in_if);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 833, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_d, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 833, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 833, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 833, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_tname);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_tname);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_v_tname)) <span class='error_goto'>__PYX_ERR(0, 833, __pyx_L1_error)</span>;
  __pyx_t_1 = 0;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 833, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_return_diff, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 833, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_6, __pyx_t_3, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 833, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_feature_cols = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0834</span>:     d[feature_cols] = d[feature_cols].astype ( float)</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(834,0,<span class='error_goto'>__PYX_ERR(0, 834, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_d, __pyx_v_feature_cols);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 834, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_astype);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 834, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_1)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_1, ((PyObject *)(&amp;PyFloat_Type))};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 834, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  if (unlikely((<span class='py_c_api'>PyObject_SetItem</span>(__pyx_v_d, __pyx_v_feature_cols, __pyx_t_2) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 834, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0835</span>:     # -------------------------------------------------</pre>
<pre class="cython line score-49" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0836</span>:     for bin_column in bin_columns:</pre>
<pre class='cython code score-49 '>  <span class='trace'>__Pyx_TraceLine</span>(836,0,<span class='error_goto'>__PYX_ERR(0, 836, __pyx_L1_error)</span>)
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_bin_columns)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_bin_columns)) {
    __pyx_t_2 = __pyx_v_bin_columns; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
    __pyx_t_10 = 0;
    __pyx_t_11 = NULL;
  } else {
    __pyx_t_10 = -1; __pyx_t_2 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_bin_columns);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 836, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 836, __pyx_L1_error)</span>
  }
  for (;;) {
    if (likely(!__pyx_t_11)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_2))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_2);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 836, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_10 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_2, __pyx_t_10); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3); __pyx_t_10++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 836, __pyx_L1_error)</span>
        #else
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_2, __pyx_t_10); __pyx_t_10++;<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 836, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_2);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 836, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_10 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_2, __pyx_t_10); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3); __pyx_t_10++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 836, __pyx_L1_error)</span>
        #else
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_2, __pyx_t_10); __pyx_t_10++;<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 836, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        #endif
      }
    } else {
      __pyx_t_3 = __pyx_t_11(__pyx_t_2);
      if (unlikely(!__pyx_t_3)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 836, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_bin_column, __pyx_t_3);
    __pyx_t_3 = 0;
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(836,0,<span class='error_goto'>__PYX_ERR(0, 836, __pyx_L1_error)</span>)
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-69" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0837</span>:         d, tc  = _single_counts(d , bin_column, tname,</pre>
<pre class='cython code score-69 '>    <span class='trace'>__Pyx_TraceLine</span>(837,0,<span class='error_goto'>__PYX_ERR(0, 837, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_single_counts);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 837, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 837, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_d);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_d);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_d)) <span class='error_goto'>__PYX_ERR(0, 837, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_bin_column);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_bin_column);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_v_bin_column)) <span class='error_goto'>__PYX_ERR(0, 837, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_tname);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_tname);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 2, __pyx_v_tname)) <span class='error_goto'>__PYX_ERR(0, 837, __pyx_L1_error)</span>;
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(837,0,<span class='error_goto'>__PYX_ERR(0, 837, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_1, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 837, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_5))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_5))) {
      PyObject* sequence = __pyx_t_5;
      Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
      if (unlikely(size != 2)) {
        if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
        else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
        <span class='error_goto'>__PYX_ERR(0, 837, __pyx_L1_error)</span>
      }
      #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
      if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
        __pyx_t_6 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
        __pyx_t_1 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
      } else {
        __pyx_t_6 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
        __pyx_t_1 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
      }
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      #else
      __pyx_t_6 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 837, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_1 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 837, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      #endif
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    } else {
      Py_ssize_t index = -1;
      __pyx_t_3 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 837, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_3);
      index = 0; __pyx_t_6 = __pyx_t_7(__pyx_t_3); if (unlikely(!__pyx_t_6)) goto __pyx_L18_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      index = 1; __pyx_t_1 = __pyx_t_7(__pyx_t_3); if (unlikely(!__pyx_t_1)) goto __pyx_L18_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_7(__pyx_t_3), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 837, __pyx_L1_error)</span>
      __pyx_t_7 = NULL;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      goto __pyx_L19_unpacking_done;
      __pyx_L18_unpacking_failed:;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_7 = NULL;
      if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
      <span class='error_goto'>__PYX_ERR(0, 837, __pyx_L1_error)</span>
      __pyx_L19_unpacking_done:;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_d, __pyx_t_6);
    __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_tc, __pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0838</span>:                            odds =odds,</pre>
<pre class='cython code score-7 '>    <span class='trace'>__Pyx_TraceLine</span>(838,0,<span class='error_goto'>__PYX_ERR(0, 838, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 838, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_odds, __pyx_v_odds) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 838, __pyx_L1_error)</span>
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0839</span>:                            tolog=tolog,</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(839,0,<span class='error_goto'>__PYX_ERR(0, 839, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_tolog, __pyx_v_tolog) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 838, __pyx_L1_error)</span>
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0840</span>:                            return_counts= return_counts</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(840,0,<span class='error_goto'>__PYX_ERR(0, 840, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_return_counts, __pyx_v_return_counts) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 838, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0841</span>:                            )</pre>
<pre class="cython line score-0">&#xA0;<span class="">0842</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0843</span>:         target_all_counts.append (tc)</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(843,0,<span class='error_goto'>__PYX_ERR(0, 843, __pyx_L1_error)</span>)
    __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_v_target_all_counts, __pyx_v_tc);<span class='error_goto'> if (unlikely(__pyx_t_12 == ((int)-1))) __PYX_ERR(0, 843, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0844</span>:     # lowering the computation time</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0845</span>:     if return_counts:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(845,0,<span class='error_goto'>__PYX_ERR(0, 845, __pyx_L1_error)</span>)
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_return_counts); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 845, __pyx_L1_error)</span>
  if (__pyx_t_8) {
/*  */
  }
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0846</span>:         d = ( target_all_counts if len(target_all_counts) &gt;1</pre>
<pre class='cython code score-3 '>    <span class='trace'>__Pyx_TraceLine</span>(846,0,<span class='error_goto'>__PYX_ERR(0, 846, __pyx_L1_error)</span>)
    __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_v_target_all_counts);<span class='error_goto'> if (unlikely(__pyx_t_10 == ((Py_ssize_t)-1))) __PYX_ERR(0, 846, __pyx_L1_error)</span>
    __pyx_t_8 = (__pyx_t_10 &gt; 1);
    if (__pyx_t_8) {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_all_counts);
      __pyx_t_2 = __pyx_v_target_all_counts;
    } else {
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0847</span>:                  else target_all_counts [0]</pre>
<pre class='cython code score-3 '>      <span class='trace'>__Pyx_TraceLine</span>(847,0,<span class='error_goto'>__PYX_ERR(0, 847, __pyx_L1_error)</span>)
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_GetItemInt_List</span>(__pyx_v_target_all_counts, 0, long, 1, __Pyx_PyInt_From_long, 1, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 847, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      __pyx_t_2 = __pyx_t_5;
      __pyx_t_5 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_d, __pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0848</span>:                  )</pre>
<pre class="cython line score-0">&#xA0;<span class="">0849</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0850</span>:     return d</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(850,0,<span class='error_goto'>__PYX_ERR(0, 850, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_d);
  __pyx_r = __pyx_v_d;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0851</span>: </pre>
<pre class="cython line score-56" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0852</span>: def _single_counts (</pre>
<pre class='cython code score-56 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_9_single_counts(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_8_single_counts, " An isolated part of bin counting. \n    Compute single bin_counting. ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_9_single_counts = {"_single_counts", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_9_single_counts, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_8_single_counts};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_9_single_counts(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_d = 0;
  PyObject *__pyx_v_bin_column = 0;
  PyObject *__pyx_v_tname = 0;
  PyObject *__pyx_v_odds = 0;
  PyObject *__pyx_v_tolog = 0;
  PyObject *__pyx_v_return_counts = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_single_counts (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_d,&amp;__pyx_n_s_bin_column,&amp;__pyx_n_s_tname,&amp;__pyx_n_s_odds,&amp;__pyx_n_s_tolog,&amp;__pyx_n_s_return_counts,0};
  PyObject* values[6] = {0,0,0,0,0,0};
    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_kp_u_N)));
/*  */
  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_8_single_counts(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_d, PyObject *__pyx_v_bin_column, PyObject *__pyx_v_tname, PyObject *__pyx_v_odds, PyObject *__pyx_v_tolog, PyObject *__pyx_v_return_counts) {
  PyObject *__pyx_v_od = NULL;
  PyObject *__pyx_v_keys = NULL;
  PyObject *__pyx_v_msg = NULL;
  PyObject *__pyx_v_target_counts = NULL;
  PyObject *__pyx_v_target_all = NULL;
  PyObject *__pyx_v_target_bin_counts = NULL;
  PyObject *__pyx_v_lr = NULL;
  PyObject *__pyx_v_ybin = NULL;
  PyObject *__pyx_v_value = NULL;
  PyObject *__pyx_v_ratio = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__10)
  <span class='trace'>__Pyx_TraceCall</span>("_single_counts", __pyx_f[0], 852, 0, <span class='error_goto'>__PYX_ERR(0, 852, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_odds);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_tolog);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._single_counts", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_od);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_keys);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_msg);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_target_counts);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_target_all);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_target_bin_counts);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_lr);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_ybin);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_value);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_ratio);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_odds);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_tolog);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__139 = <span class='py_c_api'>PyTuple_Pack</span>(16, __pyx_n_s_d, __pyx_n_s_bin_column, __pyx_n_s_tname, __pyx_n_s_odds, __pyx_n_s_tolog, __pyx_n_s_return_counts, __pyx_n_s_od, __pyx_n_s_keys, __pyx_n_s_msg, __pyx_n_s_target_counts, __pyx_n_s_target_all, __pyx_n_s_target_bin_counts, __pyx_n_s_lr, __pyx_n_s_ybin, __pyx_n_s_value, __pyx_n_s_ratio);<span class='error_goto'> if (unlikely(!__pyx_tuple__139)) __PYX_ERR(0, 852, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__139);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__139);
  __pyx_codeobj__10 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(6, 0, 0, 16, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__139, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_single_counts, 852, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__10)) __PYX_ERR(0, 852, __pyx_L1_error)</span>
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(852,0,<span class='error_goto'>__PYX_ERR(0, 852, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_9_single_counts, 0, __pyx_n_s_single_counts, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__10));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 852, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_4, __pyx_tuple__140);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_single_counts, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 852, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_tuple__140 = <span class='py_c_api'>PyTuple_Pack</span>(3, ((PyObject*)__pyx_kp_u_N), ((PyObject *)Py_False), ((PyObject *)Py_False));<span class='error_goto'> if (unlikely(!__pyx_tuple__140)) __PYX_ERR(0, 852, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__140);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__140);
</pre><pre class="cython line score-0">&#xA0;<span class="">0853</span>:         d,  bin_column, tname, odds = "N+",</pre>
<pre class="cython line score-96" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0854</span>:         tolog= False, return_counts = False ):</pre>
<pre class='cython code score-96 '>    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_d)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 852, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_bin_column)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 852, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_single_counts", 0, 3, 6, 1); <span class='error_goto'>__PYX_ERR(0, 852, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (likely((values[2] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_tname)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[2]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 852, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_single_counts", 0, 3, 6, 2); <span class='error_goto'>__PYX_ERR(0, 852, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_odds);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 852, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_tolog);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 852, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  5:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_return_counts);
          if (value) { values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 852, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_single_counts") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 852, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_d = values[0];
    __pyx_v_bin_column = values[1];
    __pyx_v_tname = values[2];
    __pyx_v_odds = values[3];
    __pyx_v_tolog = values[4];
    __pyx_v_return_counts = values[5];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_single_counts", 0, 3, 6, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 852, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._single_counts", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_8_single_counts(__pyx_self, __pyx_v_d, __pyx_v_bin_column, __pyx_v_tname, __pyx_v_odds, __pyx_v_tolog, __pyx_v_return_counts);
</pre><pre class="cython line score-0">&#xA0;<span class="">0855</span>:     """ An isolated part of bin counting.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0856</span>:     Compute single bin_counting. """</pre>
<pre class="cython line score-0">&#xA0;<span class="">0857</span>:     # polish pos_label</pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0858</span>:     od = copy.deepcopy( odds)</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(858,0,<span class='error_goto'>__PYX_ERR(0, 858, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_copy);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 858, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_deepcopy);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 858, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_odds};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 858, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_v_od = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0859</span>:     # reconvert log and removetrailer</pre>
<pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0860</span>:     odds= str(odds).upper().replace ("_", "")</pre>
<pre class='cython code score-31 '>  <span class='trace'>__Pyx_TraceLine</span>(860,0,<span class='error_goto'>__PYX_ERR(0, 860, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Str</span>(__pyx_v_odds);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 860, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_upper);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 860, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 860, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_replace);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 860, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_tuple__13, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 860, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_odds, __pyx_t_1);
  __pyx_t_1 = 0;
/*  */
  __pyx_tuple__13 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_n_u__11, __pyx_kp_u__12);<span class='error_goto'> if (unlikely(!__pyx_tuple__13)) __PYX_ERR(0, 860, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__13);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__13);
</pre><pre class="cython line score-0">&#xA0;<span class="">0861</span>:     # just separted for</pre>
<pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0862</span>:     keys = ('N-', 'N+', 'lOGN+')</pre>
<pre class='cython code score-6 '>  <span class='trace'>__Pyx_TraceLine</span>(862,0,<span class='error_goto'>__PYX_ERR(0, 862, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_tuple__14);
  __pyx_v_keys = __pyx_tuple__14;
/*  */
  __pyx_tuple__14 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_kp_u_N_2, __pyx_kp_u_N, __pyx_kp_u_lOGN);<span class='error_goto'> if (unlikely(!__pyx_tuple__14)) __PYX_ERR(0, 862, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__14);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__14);
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0863</span>:     msg = ("Odds ratio or log Odds ratio expects"</pre>
<pre class='cython code score-10 '>  <span class='trace'>__Pyx_TraceLine</span>(863,0,<span class='error_goto'>__PYX_ERR(0, 863, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 863, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_5 = 0;
  __pyx_t_6 = 127;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Odds_ratio_or_log_Odds_ratio_exp);
  __pyx_t_5 += 37;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Odds_ratio_or_log_Odds_ratio_exp);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_kp_u_Odds_ratio_or_log_Odds_ratio_exp);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(863,0,<span class='error_goto'>__PYX_ERR(0, 863, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_1, 4, __pyx_t_5, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 863, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_msg = ((PyObject*)__pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class="cython line score-41" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0864</span>:            f" {smart_format(('N-', 'N+', 'logN+'), 'or')}. Got {od!r}")</pre>
<pre class='cython code score-41 '>  <span class='trace'>__Pyx_TraceLine</span>(864,0,<span class='error_goto'>__PYX_ERR(0, 864, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_smart_format);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 864, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
/*  */
  __pyx_tuple__15 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_kp_u_N_2, __pyx_kp_u_N, __pyx_kp_u_logN);<span class='error_goto'> if (unlikely(!__pyx_tuple__15)) __PYX_ERR(0, 864, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__15);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__15);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_tuple__16, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 864, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_t_3, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 864, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) &gt; __pyx_t_6) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) : __pyx_t_6;
  __pyx_t_5 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_2);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_t_2);
  __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Got);
  __pyx_t_5 += 6;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Got);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 2, __pyx_kp_u_Got);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_v_od), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 864, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) &gt; __pyx_t_6) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) : __pyx_t_6;
  __pyx_t_5 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_2);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 3, __pyx_t_2);
  __pyx_t_2 = 0;
  __pyx_tuple__16 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_tuple__15, __pyx_n_u_or);<span class='error_goto'> if (unlikely(!__pyx_tuple__16)) __PYX_ERR(0, 864, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__16);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__16);
</pre><pre class="cython line score-0">&#xA0;<span class="">0865</span>:     # check wther log is included</pre>
<pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0866</span>:     if odds.find('LOG')&gt;=0:</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(866,0,<span class='error_goto'>__PYX_ERR(0, 866, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_odds, __pyx_n_s_find);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 866, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_n_u_LOG};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 866, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  __pyx_t_1 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_2, __pyx_int_0, Py_GE); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 866, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_1); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 866, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_7) {
/*  */
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0867</span>:         tolog=True # then remove log</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(867,0,<span class='error_goto'>__PYX_ERR(0, 867, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_True);
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_tolog, Py_True);
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0868</span>:         odds= odds.replace ("LOG", "")</pre>
<pre class='cython code score-11 '>    <span class='trace'>__Pyx_TraceLine</span>(868,0,<span class='error_goto'>__PYX_ERR(0, 868, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_odds, __pyx_n_s_replace);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 868, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_tuple__17, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 868, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_odds, __pyx_t_2);
    __pyx_t_2 = 0;
/*  */
  __pyx_tuple__17 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_n_u_LOG, __pyx_kp_u__12);<span class='error_goto'> if (unlikely(!__pyx_tuple__17)) __PYX_ERR(0, 868, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__17);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__17);
</pre><pre class="cython line score-0">&#xA0;<span class="">0869</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0870</span>:     if odds not in keys:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(870,0,<span class='error_goto'>__PYX_ERR(0, 870, __pyx_L1_error)</span>)
  __pyx_t_7 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_v_odds, __pyx_v_keys, Py_NE)); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 870, __pyx_L1_error)</span>
  if (unlikely(__pyx_t_7)) {
/*  */
  }
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0871</span>:         raise ValueError (msg)</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(871,0,<span class='error_goto'>__PYX_ERR(0, 871, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_v_msg);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 871, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='error_goto'>__PYX_ERR(0, 871, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0872</span>:     # If tolog, then reconstructs</pre>
<pre class="cython line score-0">&#xA0;<span class="">0873</span>:     # the odds_labels</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0874</span>:     if tolog:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(874,0,<span class='error_goto'>__PYX_ERR(0, 874, __pyx_L1_error)</span>)
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_tolog); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 874, __pyx_L1_error)</span>
  if (__pyx_t_7) {
/*  */
  }
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0875</span>:         odds= f"log{odds}"</pre>
<pre class='cython code score-6 '>    <span class='trace'>__Pyx_TraceLine</span>(875,0,<span class='error_goto'>__PYX_ERR(0, 875, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_odds, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 875, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_n_u_log, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 875, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_odds, __pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0876</span>: </pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0877</span>:     target_counts= _target_counting(</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(877,0,<span class='error_goto'>__PYX_ERR(0, 877, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_target_counting);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 877, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(877,0,<span class='error_goto'>__PYX_ERR(0, 877, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 877, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_8);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_t_8)) <span class='error_goto'>__PYX_ERR(0, 877, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_bin_column);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_bin_column);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_v_bin_column)) <span class='error_goto'>__PYX_ERR(0, 877, __pyx_L1_error)</span>;
  __pyx_t_8 = 0;
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(877,0,<span class='error_goto'>__PYX_ERR(0, 877, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_3, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 877, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
  __pyx_v_target_counts = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0878</span>:         d.filter(items=[bin_column, tname]),</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(878,0,<span class='error_goto'>__PYX_ERR(0, 878, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_d, __pyx_n_s_filter);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 878, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 878, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_8 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 878, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_bin_column);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_bin_column);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_8, 0, __pyx_v_bin_column)) <span class='error_goto'>__PYX_ERR(0, 878, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_tname);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_tname);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_8, 1, __pyx_v_tname)) <span class='error_goto'>__PYX_ERR(0, 878, __pyx_L1_error)</span>;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_items, __pyx_t_8) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 878, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_empty_tuple, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 878, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0879</span>:     bin_column , tname =tname,</pre>
<pre class='cython code score-7 '>  <span class='trace'>__Pyx_TraceLine</span>(879,0,<span class='error_goto'>__PYX_ERR(0, 879, __pyx_L1_error)</span>)
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 879, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_8, __pyx_n_s_tname, __pyx_v_tname) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 879, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0880</span>:     )</pre>
<pre class="cython line score-62" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0881</span>:     target_all, target_bin_counts = _bin_counting(target_counts, tname, odds)</pre>
<pre class='cython code score-62 '>  <span class='trace'>__Pyx_TraceLine</span>(881,0,<span class='error_goto'>__PYX_ERR(0, 881, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_8, __pyx_n_s_bin_counting);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 881, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_8))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_8);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_8, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[4] = {__pyx_t_3, __pyx_v_target_counts, __pyx_v_tname, __pyx_v_odds};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_8, __pyx_callargs+1-__pyx_t_4, 3+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 881, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
  }
  if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_2))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_2))) {
    PyObject* sequence = __pyx_t_2;
    Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
    if (unlikely(size != 2)) {
      if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
      else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
      <span class='error_goto'>__PYX_ERR(0, 881, __pyx_L1_error)</span>
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
      __pyx_t_8 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
      __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
    } else {
      __pyx_t_8 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
      __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
    }
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
    #else
    __pyx_t_8 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 881, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    __pyx_t_3 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 881, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    #endif
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  } else {
    Py_ssize_t index = -1;
    __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 881, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);
    index = 0; __pyx_t_8 = __pyx_t_9(__pyx_t_1); if (unlikely(!__pyx_t_8)) goto __pyx_L6_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    index = 1; __pyx_t_3 = __pyx_t_9(__pyx_t_1); if (unlikely(!__pyx_t_3)) goto __pyx_L6_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_9(__pyx_t_1), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 881, __pyx_L1_error)</span>
    __pyx_t_9 = NULL;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    goto __pyx_L7_unpacking_done;
    __pyx_L6_unpacking_failed:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_9 = NULL;
    if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
    <span class='error_goto'>__PYX_ERR(0, 881, __pyx_L1_error)</span>
    __pyx_L7_unpacking_done:;
  }
  __pyx_v_target_all = __pyx_t_8;
  __pyx_t_8 = 0;
  __pyx_v_target_bin_counts = __pyx_t_3;
  __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0882</span>:     # Check to make sure we have all the devices</pre>
<pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0883</span>:     target_all.sort_values(by = f'total_{tname}', ascending=False)</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(883,0,<span class='error_goto'>__PYX_ERR(0, 883, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_target_all, __pyx_n_s_sort_values);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 883, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 883, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_tname, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 883, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_n_u_total, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 883, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_by, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 883, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_ascending, Py_False) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 883, __pyx_L1_error)</span>
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_empty_tuple, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 883, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0884</span>:     if return_counts:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(884,0,<span class='error_goto'>__PYX_ERR(0, 884, __pyx_L1_error)</span>)
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_return_counts); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 884, __pyx_L1_error)</span>
  if (__pyx_t_7) {
/*  */
  }
</pre><pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0885</span>:         return d, target_all</pre>
<pre class='cython code score-12 '>    <span class='trace'>__Pyx_TraceLine</span>(885,0,<span class='error_goto'>__PYX_ERR(0, 885, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 885, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_d);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_d);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_d)) <span class='error_goto'>__PYX_ERR(0, 885, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_all);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target_all);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_v_target_all)) <span class='error_goto'>__PYX_ERR(0, 885, __pyx_L1_error)</span>;
    __pyx_r = __pyx_t_1;
    __pyx_t_1 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0886</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0887</span>:     # zip index with ratio</pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0888</span>:     lr = list(zip (target_bin_counts.index, target_bin_counts[odds])</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(888,0,<span class='error_goto'>__PYX_ERR(0, 888, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_target_bin_counts, __pyx_n_s_index);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 888, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_target_bin_counts, __pyx_v_odds);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 888, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 888, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 888, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 888, __pyx_L1_error)</span>;
  __pyx_t_1 = 0;
  __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_zip, __pyx_t_2, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 888, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ListKeepNew</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 888, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_v_lr = ((PyObject*)__pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0889</span>:          )</pre>
<pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0890</span>:     ybin = np.array ( d[bin_column])# replace value with ratio</pre>
<pre class='cython code score-22 '>  <span class='trace'>__Pyx_TraceLine</span>(890,0,<span class='error_goto'>__PYX_ERR(0, 890, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 890, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_array_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 890, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_d, __pyx_v_bin_column);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 890, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_8 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_8)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_8, __pyx_t_3};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 890, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  __pyx_v_ybin = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-56" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0891</span>:     for (value , ratio) in lr :</pre>
<pre class='cython code score-56 '>  <span class='trace'>__Pyx_TraceLine</span>(891,0,<span class='error_goto'>__PYX_ERR(0, 891, __pyx_L1_error)</span>)
  __pyx_t_2 = __pyx_v_lr; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
  __pyx_t_5 = 0;
  for (;;) {
    {
      Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_2);
      #if !CYTHON_ASSUME_SAFE_MACROS
      if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 891, __pyx_L1_error)</span>
      #endif
      if (__pyx_t_5 &gt;= __pyx_temp) break;
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    __pyx_t_1 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_2, __pyx_t_5); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1); __pyx_t_5++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 891, __pyx_L1_error)</span>
    #else
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_2, __pyx_t_5); __pyx_t_5++;<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 891, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    #endif
    if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_1))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
      PyObject* sequence = __pyx_t_1;
      Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
      if (unlikely(size != 2)) {
        if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
        else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
        <span class='error_goto'>__PYX_ERR(0, 891, __pyx_L1_error)</span>
      }
      #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
      if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
        __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
        __pyx_t_8 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
      } else {
        __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
        __pyx_t_8 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
      }
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
      #else
      __pyx_t_3 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 891, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_8 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 891, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      #endif
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    } else {
      Py_ssize_t index = -1;
      __pyx_t_10 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 891, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_10);
      index = 0; __pyx_t_3 = __pyx_t_9(__pyx_t_10); if (unlikely(!__pyx_t_3)) goto __pyx_L11_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      index = 1; __pyx_t_8 = __pyx_t_9(__pyx_t_10); if (unlikely(!__pyx_t_8)) goto __pyx_L11_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_9(__pyx_t_10), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 891, __pyx_L1_error)</span>
      __pyx_t_9 = NULL;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      goto __pyx_L12_unpacking_done;
      __pyx_L11_unpacking_failed:;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      __pyx_t_9 = NULL;
      if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
      <span class='error_goto'>__PYX_ERR(0, 891, __pyx_L1_error)</span>
      __pyx_L12_unpacking_done:;
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_value, __pyx_t_3);
    __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_ratio, __pyx_t_8);
    __pyx_t_8 = 0;
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(891,0,<span class='error_goto'>__PYX_ERR(0, 891, __pyx_L1_error)</span>)
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0892</span>:         ybin [ybin ==value] = ratio</pre>
<pre class='cython code score-11 '>    <span class='trace'>__Pyx_TraceLine</span>(892,0,<span class='error_goto'>__PYX_ERR(0, 892, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_v_ybin, __pyx_v_value, Py_EQ); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 892, __pyx_L1_error)</span>
    if (unlikely((<span class='py_c_api'>PyObject_SetItem</span>(__pyx_v_ybin, __pyx_t_1, __pyx_v_ratio) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 892, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0893</span>: </pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0894</span>:     d[bin_column] = ybin</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(894,0,<span class='error_goto'>__PYX_ERR(0, 894, __pyx_L1_error)</span>)
  if (unlikely((<span class='py_c_api'>PyObject_SetItem</span>(__pyx_v_d, __pyx_v_bin_column, __pyx_v_ybin) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 894, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0895</span>: </pre>
<pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0896</span>:     return d, target_all</pre>
<pre class='cython code score-12 '>  <span class='trace'>__Pyx_TraceLine</span>(896,0,<span class='error_goto'>__PYX_ERR(0, 896, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 896, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_d);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_d);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_d)) <span class='error_goto'>__PYX_ERR(0, 896, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_all);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target_all);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_v_target_all)) <span class='error_goto'>__PYX_ERR(0, 896, __pyx_L1_error)</span>;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0897</span>: </pre>
<pre class="cython line score-89" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0898</span>: def _target_counting(d, bin_column, tname ):</pre>
<pre class='cython code score-89 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_11_target_counting(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_10_target_counting, " An isolated part of counting the target. \n    \n    :param d: DataFrame \n    :param bin_column: str, columns to appling bincounting strategy \n    :param tname: str, target name. \n\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_11_target_counting = {"_target_counting", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_11_target_counting, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_10_target_counting};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_11_target_counting(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_d = 0;
  PyObject *__pyx_v_bin_column = 0;
  PyObject *__pyx_v_tname = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_target_counting (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_d,&amp;__pyx_n_s_bin_column,&amp;__pyx_n_s_tname,0};
  PyObject* values[3] = {0,0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_d)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 898, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_bin_column)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 898, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_target_counting", 1, 3, 3, 1); <span class='error_goto'>__PYX_ERR(0, 898, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (likely((values[2] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_tname)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[2]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 898, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_target_counting", 1, 3, 3, 2); <span class='error_goto'>__PYX_ERR(0, 898, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_target_counting") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 898, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 3)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
      values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
    }
    __pyx_v_d = values[0];
    __pyx_v_bin_column = values[1];
    __pyx_v_tname = values[2];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_target_counting", 1, 3, 3, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 898, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._target_counting", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_10_target_counting(__pyx_self, __pyx_v_d, __pyx_v_bin_column, __pyx_v_tname);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_10_target_counting(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_d, PyObject *__pyx_v_bin_column, PyObject *__pyx_v_tname) {
  PyObject *__pyx_v_pos_action = NULL;
  PyObject *__pyx_v_neg_action = NULL;
  PyObject *__pyx_v_counts = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__18)
  <span class='trace'>__Pyx_TraceCall</span>("_target_counting", __pyx_f[0], 898, 0, <span class='error_goto'>__PYX_ERR(0, 898, __pyx_L1_error)</span>);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._target_counting", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_pos_action);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_neg_action);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_counts);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__141 = <span class='py_c_api'>PyTuple_Pack</span>(6, __pyx_n_s_d, __pyx_n_s_bin_column, __pyx_n_s_tname, __pyx_n_s_pos_action, __pyx_n_s_neg_action, __pyx_n_s_counts);<span class='error_goto'> if (unlikely(!__pyx_tuple__141)) __PYX_ERR(0, 898, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__141);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__141);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(898,0,<span class='error_goto'>__PYX_ERR(0, 898, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_11_target_counting, 0, __pyx_n_s_target_counting, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__18));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 898, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_target_counting, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 898, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_codeobj__18 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(3, 0, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__141, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_target_counting, 898, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__18)) __PYX_ERR(0, 898, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0899</span>:     """ An isolated part of counting the target.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0900</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0901</span>:     :param d: DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">0902</span>:     :param bin_column: str, columns to appling bincounting strategy</pre>
<pre class="cython line score-0">&#xA0;<span class="">0903</span>:     :param tname: str, target name.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0904</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0905</span>:     """</pre>
<pre class="cython line score-48" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0906</span>:     pos_action = pd.Series(d[d[tname] &gt; 0][bin_column].value_counts(),</pre>
<pre class='cython code score-48 '>  <span class='trace'>__Pyx_TraceLine</span>(906,0,<span class='error_goto'>__PYX_ERR(0, 906, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 906, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 906, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_d, __pyx_v_tname);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 906, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_4 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_3, __pyx_int_0, Py_GT); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 906, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_d, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 906, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_t_3, __pyx_v_bin_column);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 906, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_value_counts);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 906, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_4)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_4, NULL};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_5, 0+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 906, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 906, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 906, __pyx_L1_error)</span>;
  __pyx_t_1 = 0;
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(906,0,<span class='error_goto'>__PYX_ERR(0, 906, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_3, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 906, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_pos_action = __pyx_t_4;
  __pyx_t_4 = 0;
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0907</span>:         name=tname)</pre>
<pre class='cython code score-7 '>  <span class='trace'>__Pyx_TraceLine</span>(907,0,<span class='error_goto'>__PYX_ERR(0, 907, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 907, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_name, __pyx_v_tname) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 907, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0908</span>: </pre>
<pre class="cython line score-48" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0909</span>:     neg_action = pd.Series(d[d[tname] &lt; 1][bin_column].value_counts(),</pre>
<pre class='cython code score-48 '>  <span class='trace'>__Pyx_TraceLine</span>(909,0,<span class='error_goto'>__PYX_ERR(0, 909, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 909, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 909, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_d, __pyx_v_tname);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 909, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_2 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_3, __pyx_int_1, Py_LT); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 909, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_d, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 909, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_t_3, __pyx_v_bin_column);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 909, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_value_counts);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 909, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_2, NULL};
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_5, 0+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 909, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 909, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 909, __pyx_L1_error)</span>;
  __pyx_t_4 = 0;
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(909,0,<span class='error_goto'>__PYX_ERR(0, 909, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_3, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 909, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_v_neg_action = __pyx_t_6;
  __pyx_t_6 = 0;
</pre><pre class="cython line score-13" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0910</span>:     name=f'no_{tname}')</pre>
<pre class='cython code score-13 '>  <span class='trace'>__Pyx_TraceLine</span>(910,0,<span class='error_goto'>__PYX_ERR(0, 910, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 910, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_tname, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 910, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_n_u_no, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 910, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_name, __pyx_t_6) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 910, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0911</span>: </pre>
<pre class="cython line score-51" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0912</span>:     counts = pd.DataFrame([pos_action,neg_action]).T.fillna('0')</pre>
<pre class='cython code score-51 '>  <span class='trace'>__Pyx_TraceLine</span>(912,0,<span class='error_goto'>__PYX_ERR(0, 912, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 912, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 912, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 912, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_pos_action);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_pos_action);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_pos_action)) <span class='error_goto'>__PYX_ERR(0, 912, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_neg_action);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_neg_action);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 1, __pyx_v_neg_action)) <span class='error_goto'>__PYX_ERR(0, 912, __pyx_L1_error)</span>;
  __pyx_t_2 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_t_3};
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 912, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_T);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 912, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_fillna);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 912, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
    __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
    if (likely(__pyx_t_1)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_kp_u_0};
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 912, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  }
  __pyx_v_counts = __pyx_t_6;
  __pyx_t_6 = 0;
</pre><pre class="cython line score-38" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0913</span>:     counts[f'total_{tname}'] = counts[tname].astype('int64') +\</pre>
<pre class='cython code score-38 '>  <span class='trace'>__Pyx_TraceLine</span>(913,0,<span class='error_goto'>__PYX_ERR(0, 913, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_counts, __pyx_v_tname);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 913, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_astype);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 913, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_4)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_n_u_int64};
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 913, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(913,0,<span class='error_goto'>__PYX_ERR(0, 913, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyNumber_Add</span>(__pyx_t_6, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 913, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_tname, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 913, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_n_u_total, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 913, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  if (unlikely((<span class='py_c_api'>PyObject_SetItem</span>(__pyx_v_counts, __pyx_t_6, __pyx_t_3) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 913, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0914</span>:     counts[f'no_{tname}'].astype('int64')</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(914,0,<span class='error_goto'>__PYX_ERR(0, 914, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_tname, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 914, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_n_u_no, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 914, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Dict_GetItem</span>(__pyx_v_counts, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 914, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_astype);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 914, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_4)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_n_u_int64};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 914, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">0915</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0916</span>:     return counts</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(916,0,<span class='error_goto'>__PYX_ERR(0, 916, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_counts);
  __pyx_r = __pyx_v_counts;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0917</span>: </pre>
<pre class="cython line score-95" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0918</span>: def _bin_counting (counts, tname, odds="N+" ):</pre>
<pre class='cython code score-95 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_13_bin_counting(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_12_bin_counting, " Bin counting application to the target. \n    :param counts: pd.Series. Target counts \n    :param tname: str target name. \n    :param odds: str, label to bin-compute\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_13_bin_counting = {"_bin_counting", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_13_bin_counting, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_12_bin_counting};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_13_bin_counting(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_counts = 0;
  PyObject *__pyx_v_tname = 0;
  PyObject *__pyx_v_odds = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_bin_counting (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_counts,&amp;__pyx_n_s_tname,&amp;__pyx_n_s_odds,0};
  PyObject* values[3] = {0,0,0};
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_kp_u_N)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_counts)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 918, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_tname)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 918, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_bin_counting", 0, 2, 3, 1); <span class='error_goto'>__PYX_ERR(0, 918, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_odds);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 918, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_bin_counting") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 918, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_counts = values[0];
    __pyx_v_tname = values[1];
    __pyx_v_odds = values[2];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_bin_counting", 0, 2, 3, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 918, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._bin_counting", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_12_bin_counting(__pyx_self, __pyx_v_counts, __pyx_v_tname, __pyx_v_odds);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_12_bin_counting(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_counts, PyObject *__pyx_v_tname, PyObject *__pyx_v_odds) {
  PyObject *__pyx_v_items2filter = NULL;
  PyObject *__pyx_v_bin_counts = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__19)
  <span class='trace'>__Pyx_TraceCall</span>("_bin_counting", __pyx_f[0], 918, 0, <span class='error_goto'>__PYX_ERR(0, 918, __pyx_L1_error)</span>);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._bin_counting", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_items2filter);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_bin_counts);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__142 = <span class='py_c_api'>PyTuple_Pack</span>(5, __pyx_n_s_counts, __pyx_n_s_tname, __pyx_n_s_odds, __pyx_n_s_items2filter, __pyx_n_s_bin_counts);<span class='error_goto'> if (unlikely(!__pyx_tuple__142)) __PYX_ERR(0, 918, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__142);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__142);
  __pyx_codeobj__19 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(3, 0, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__142, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_bin_counting, 918, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__19)) __PYX_ERR(0, 918, __pyx_L1_error)</span>
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(918,0,<span class='error_goto'>__PYX_ERR(0, 918, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_13_bin_counting, 0, __pyx_n_s_bin_counting, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__19));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 918, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_4, __pyx_tuple__143);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_bin_counting, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 918, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_tuple__143 = <span class='py_c_api'>PyTuple_Pack</span>(1, ((PyObject*)__pyx_kp_u_N));<span class='error_goto'> if (unlikely(!__pyx_tuple__143)) __PYX_ERR(0, 918, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__143);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__143);
</pre><pre class="cython line score-0">&#xA0;<span class="">0919</span>:     """ Bin counting application to the target.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0920</span>:     :param counts: pd.Series. Target counts</pre>
<pre class="cython line score-0">&#xA0;<span class="">0921</span>:     :param tname: str target name.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0922</span>:     :param odds: str, label to bin-compute</pre>
<pre class="cython line score-0">&#xA0;<span class="">0923</span>:     """</pre>
<pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0924</span>:     counts['N+'] = ( counts[tname]</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(924,0,<span class='error_goto'>__PYX_ERR(0, 924, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_counts, __pyx_v_tname);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 924, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(924,0,<span class='error_goto'>__PYX_ERR(0, 924, __pyx_L1_error)</span>)
  if (unlikely((<span class='py_c_api'>PyObject_SetItem</span>(__pyx_v_counts, __pyx_kp_u_N, __pyx_t_1) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 924, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0925</span>:                     .astype('int64')</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(925,0,<span class='error_goto'>__PYX_ERR(0, 925, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_astype);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 925, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_n_u_int64};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 925, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  }
</pre><pre class="cython line score-43" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0926</span>:                     .divide(counts[f'total_{tname}'].astype('int64')</pre>
<pre class='cython code score-43 '>  <span class='trace'>__Pyx_TraceLine</span>(926,0,<span class='error_goto'>__PYX_ERR(0, 926, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_divide);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 926, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_tname, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 926, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_n_u_total, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 926, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Dict_GetItem</span>(__pyx_v_counts, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 926, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_astype);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 926, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_n_u_int64};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 926, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  }
  __pyx_t_6 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
    __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
    if (likely(__pyx_t_6)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_t_2};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 926, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">0927</span>:                             )</pre>
<pre class="cython line score-0">&#xA0;<span class="">0928</span>:                     )</pre>
<pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0929</span>:     counts['N-'] = ( counts[f'no_{tname}']</pre>
<pre class='cython code score-14 '>  <span class='trace'>__Pyx_TraceLine</span>(929,0,<span class='error_goto'>__PYX_ERR(0, 929, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_tname, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 929, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_n_u_no, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 929, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Dict_GetItem</span>(__pyx_v_counts, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 929, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(929,0,<span class='error_goto'>__PYX_ERR(0, 929, __pyx_L1_error)</span>)
  if (unlikely((<span class='py_c_api'>PyObject_SetItem</span>(__pyx_v_counts, __pyx_kp_u_N_2, __pyx_t_1) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 929, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0930</span>:                     .astype('int64')</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(930,0,<span class='error_goto'>__PYX_ERR(0, 930, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_astype);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 930, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_n_u_int64};
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 930, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  }
</pre><pre class="cython line score-43" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0931</span>:                     .divide(counts[f'total_{tname}'].astype('int64'))</pre>
<pre class='cython code score-43 '>  <span class='trace'>__Pyx_TraceLine</span>(931,0,<span class='error_goto'>__PYX_ERR(0, 931, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_divide);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 931, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_tname, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 931, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_n_u_total, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 931, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Dict_GetItem</span>(__pyx_v_counts, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 931, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_astype);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 931, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_n_u_int64};
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 931, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_t_3 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_t_4};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 931, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">0932</span>:                     )</pre>
<pre class="cython line score-0">&#xA0;<span class="">0933</span>: </pre>
<pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0934</span>:     items2filter= ['N+', 'N-']</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(934,0,<span class='error_goto'>__PYX_ERR(0, 934, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 934, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_N);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_N);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_kp_u_N)) <span class='error_goto'>__PYX_ERR(0, 934, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_N_2);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_N_2);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 1, __pyx_kp_u_N_2)) <span class='error_goto'>__PYX_ERR(0, 934, __pyx_L1_error)</span>;
  __pyx_v_items2filter = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0935</span>:     if str(odds).find ('log')&gt;=0:</pre>
<pre class='cython code score-28 '>  <span class='trace'>__Pyx_TraceLine</span>(935,0,<span class='error_goto'>__PYX_ERR(0, 935, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Str</span>(__pyx_v_odds);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 935, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_find);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 935, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_6 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
    __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
    if (likely(__pyx_t_6)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_n_u_log};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 935, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  }
  __pyx_t_4 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_1, __pyx_int_0, Py_GE); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 935, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_4); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 935, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (__pyx_t_7) {
/*  */
  }
</pre><pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0936</span>:         counts['logN+'] = counts['N+'].divide(counts['N-'])</pre>
<pre class='cython code score-28 '>    <span class='trace'>__Pyx_TraceLine</span>(936,0,<span class='error_goto'>__PYX_ERR(0, 936, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Dict_GetItem</span>(__pyx_v_counts, __pyx_kp_u_N);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 936, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_divide);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 936, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Dict_GetItem</span>(__pyx_v_counts, __pyx_kp_u_N_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 936, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = NULL;
    __pyx_t_5 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
        __pyx_t_5 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_t_1};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 936, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    if (unlikely((<span class='py_c_api'>PyObject_SetItem</span>(__pyx_v_counts, __pyx_kp_u_logN, __pyx_t_4) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 936, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0937</span>:         counts ['logN-'] = counts ['N-'].divide ( counts['N+'])</pre>
<pre class='cython code score-28 '>    <span class='trace'>__Pyx_TraceLine</span>(937,0,<span class='error_goto'>__PYX_ERR(0, 937, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Dict_GetItem</span>(__pyx_v_counts, __pyx_kp_u_N_2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 937, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_divide);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 937, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Dict_GetItem</span>(__pyx_v_counts, __pyx_kp_u_N);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 937, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_3 = NULL;
    __pyx_t_5 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_5 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_t_6};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 937, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    if (unlikely((<span class='py_c_api'>PyObject_SetItem</span>(__pyx_v_counts, __pyx_kp_u_logN_2, __pyx_t_4) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 937, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0938</span>:         items2filter.extend (['logN+', 'logN-'])</pre>
<pre class='cython code score-4 '>    <span class='trace'>__Pyx_TraceLine</span>(938,0,<span class='error_goto'>__PYX_ERR(0, 938, __pyx_L1_error)</span>)
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_v_items2filter, __pyx_kp_u_logN);<span class='error_goto'> if (unlikely(__pyx_t_8 == ((int)-1))) __PYX_ERR(0, 938, __pyx_L1_error)</span>
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_v_items2filter, __pyx_kp_u_logN_2);<span class='error_goto'> if (unlikely(__pyx_t_9 == ((int)-1))) __PYX_ERR(0, 938, __pyx_L1_error)</span>
    (void)((__pyx_t_8 | __pyx_t_9));
</pre><pre class="cython line score-0">&#xA0;<span class="">0939</span>:     # If we wanted to only return bin-counting properties,</pre>
<pre class="cython line score-0">&#xA0;<span class="">0940</span>:     # we would filter here</pre>
<pre class="cython line score-13" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0941</span>:     bin_counts = counts.filter(items= items2filter)</pre>
<pre class='cython code score-13 '>  <span class='trace'>__Pyx_TraceLine</span>(941,0,<span class='error_goto'>__PYX_ERR(0, 941, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_counts, __pyx_n_s_filter);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 941, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 941, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_items, __pyx_v_items2filter) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 941, __pyx_L1_error)</span>
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_4, __pyx_empty_tuple, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 941, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_bin_counts = __pyx_t_6;
  __pyx_t_6 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0942</span>: </pre>
<pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0943</span>:     return counts, bin_counts</pre>
<pre class='cython code score-12 '>  <span class='trace'>__Pyx_TraceLine</span>(943,0,<span class='error_goto'>__PYX_ERR(0, 943, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 943, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_counts);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_counts);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_v_counts)) <span class='error_goto'>__PYX_ERR(0, 943, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_bin_counts);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_bin_counts);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 1, __pyx_v_bin_counts)) <span class='error_goto'>__PYX_ERR(0, 943, __pyx_L1_error)</span>;
  __pyx_r = __pyx_t_6;
  __pyx_t_6 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">0944</span>: </pre>
<pre class="cython line score-118" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">0945</span>: def laplace_smoothing_word(word, class_,  word_counts, class_counts, V):</pre>
<pre class='cython code score-118 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_15laplace_smoothing_word(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_14laplace_smoothing_word, "\n    Apply Laplace smoothing to estimate the conditional probability of a \n    word given a class.\n\n    Laplace smoothing (add-one smoothing) is used to handle the issue of \n    zero probability in categorical data, particularly in the context of \n    text classification with Naive Bayes.\n\n    The mathematical formula for Laplace smoothing is:\n    \n    .. math:: \n        P(w|c) = \014rac{\text{count}(w, c) + 1}{\text{count}(c) + |V|}\n\n    where `count(w, c)` is the count of word `w` in class `c`, `count(c)` is \n    the total count of all words in class `c`, and `|V|` is the size of the \n    vocabulary.\n\n    Parameters\n    ----------\n    word : str\n        The word for which the probability is to be computed.\n    class_ : str\n        The class for which the probability is to be computed.\n    word_counts : dict\n        A dictionary containing word counts for each class. The keys should \n        be tuples of the form (word, class).\n    class_counts : dict\n        A dictionary containing the total count of words for each class.\n    V : int\n        The size of the vocabulary, i.e., the number of unique words in \n        the dataset.\n\n    Returns\n    -------\n    float\n        The Laplace-smoothed probability of the word given the class.\n\n    Example\n    -------\n    &gt;&gt;&gt; from gofast.tools.mlutils import laplace_smoothing_word\n    &gt;&gt;&gt; word_counts = {('dog', 'animal'): 3, ('cat', 'animal'):\n                       2, ('car', 'non-animal'): 4}\n    &gt;&gt;&gt; class_counts = {'animal': 5, 'non-animal': 4}\n    &gt;&gt;&gt; V = len(set([w for (w, c) in word_counts.keys()]))\n    &gt;&gt;&gt; laplace_smoothing_word('dog', 'animal', word_counts, class_counts, V)\n    0.5\n    \n    References\n    ----------\n    - C.D. Manning, P. Raghavan, and H. Sch\303\274tze, \"Introduction to Information Retrieval\",\n      Cambridge University Press, 2008.\n    - A detailed explanation of Laplace Smoothing can be found in Chapter 13 of \n      \"Introduction to Information Re""trieval\" by Manning et al.\n\n    Notes\n    -----\n    This function is particularly useful in text classification tasks where the\n    dataset may contain a large number of unique words, and some words may not \n    appear in the training data for every class.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_15laplace_smoothing_word = {"laplace_smoothing_word", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_15laplace_smoothing_word, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_14laplace_smoothing_word};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_15laplace_smoothing_word(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_word = 0;
  PyObject *__pyx_v_class_ = 0;
  PyObject *__pyx_v_word_counts = 0;
  PyObject *__pyx_v_class_counts = 0;
  PyObject *__pyx_v_V = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("laplace_smoothing_word (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_word,&amp;__pyx_n_s_class,&amp;__pyx_n_s_word_counts,&amp;__pyx_n_s_class_counts,&amp;__pyx_n_s_V,0};
  PyObject* values[5] = {0,0,0,0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_word)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 945, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_class)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 945, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("laplace_smoothing_word", 1, 5, 5, 1); <span class='error_goto'>__PYX_ERR(0, 945, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (likely((values[2] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_word_counts)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[2]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 945, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("laplace_smoothing_word", 1, 5, 5, 2); <span class='error_goto'>__PYX_ERR(0, 945, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (likely((values[3] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_class_counts)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[3]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 945, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("laplace_smoothing_word", 1, 5, 5, 3); <span class='error_goto'>__PYX_ERR(0, 945, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (likely((values[4] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_V)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[4]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 945, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("laplace_smoothing_word", 1, 5, 5, 4); <span class='error_goto'>__PYX_ERR(0, 945, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "laplace_smoothing_word") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 945, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 5)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
      values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
      values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
      values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
    }
    __pyx_v_word = values[0];
    __pyx_v_class_ = values[1];
    __pyx_v_word_counts = values[2];
    __pyx_v_class_counts = values[3];
    __pyx_v_V = values[4];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("laplace_smoothing_word", 1, 5, 5, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 945, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.laplace_smoothing_word", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_14laplace_smoothing_word(__pyx_self, __pyx_v_word, __pyx_v_class_, __pyx_v_word_counts, __pyx_v_class_counts, __pyx_v_V);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_14laplace_smoothing_word(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_word, PyObject *__pyx_v_class_, PyObject *__pyx_v_word_counts, PyObject *__pyx_v_class_counts, PyObject *__pyx_v_V) {
  PyObject *__pyx_v_word_class_count = NULL;
  PyObject *__pyx_v_class_word_count = NULL;
  PyObject *__pyx_v_probability = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__20)
  <span class='trace'>__Pyx_TraceCall</span>("laplace_smoothing_word", __pyx_f[0], 945, 0, <span class='error_goto'>__PYX_ERR(0, 945, __pyx_L1_error)</span>);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.laplace_smoothing_word", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_word_class_count);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_class_word_count);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_probability);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__144 = <span class='py_c_api'>PyTuple_Pack</span>(8, __pyx_n_s_word, __pyx_n_s_class, __pyx_n_s_word_counts, __pyx_n_s_class_counts, __pyx_n_s_V, __pyx_n_s_word_class_count, __pyx_n_s_class_word_count, __pyx_n_s_probability);<span class='error_goto'> if (unlikely(!__pyx_tuple__144)) __PYX_ERR(0, 945, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__144);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__144);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(945,0,<span class='error_goto'>__PYX_ERR(0, 945, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_15laplace_smoothing_word, 0, __pyx_n_s_laplace_smoothing_word, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__20));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 945, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_laplace_smoothing_word, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 945, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_codeobj__20 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(5, 0, 0, 8, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__144, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_laplace_smoothing_word, 945, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__20)) __PYX_ERR(0, 945, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">0946</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">0947</span>:     Apply Laplace smoothing to estimate the conditional probability of a</pre>
<pre class="cython line score-0">&#xA0;<span class="">0948</span>:     word given a class.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0949</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0950</span>:     Laplace smoothing (add-one smoothing) is used to handle the issue of</pre>
<pre class="cython line score-0">&#xA0;<span class="">0951</span>:     zero probability in categorical data, particularly in the context of</pre>
<pre class="cython line score-0">&#xA0;<span class="">0952</span>:     text classification with Naive Bayes.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0953</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0954</span>:     The mathematical formula for Laplace smoothing is:</pre>
<pre class="cython line score-0">&#xA0;<span class="">0955</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0956</span>:     .. math::</pre>
<pre class="cython line score-0">&#xA0;<span class="">0957</span>:         P(w|c) = \frac{\text{count}(w, c) + 1}{\text{count}(c) + |V|}</pre>
<pre class="cython line score-0">&#xA0;<span class="">0958</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0959</span>:     where `count(w, c)` is the count of word `w` in class `c`, `count(c)` is</pre>
<pre class="cython line score-0">&#xA0;<span class="">0960</span>:     the total count of all words in class `c`, and `|V|` is the size of the</pre>
<pre class="cython line score-0">&#xA0;<span class="">0961</span>:     vocabulary.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0962</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0963</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">0964</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0965</span>:     word : str</pre>
<pre class="cython line score-0">&#xA0;<span class="">0966</span>:         The word for which the probability is to be computed.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0967</span>:     class_ : str</pre>
<pre class="cython line score-0">&#xA0;<span class="">0968</span>:         The class for which the probability is to be computed.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0969</span>:     word_counts : dict</pre>
<pre class="cython line score-0">&#xA0;<span class="">0970</span>:         A dictionary containing word counts for each class. The keys should</pre>
<pre class="cython line score-0">&#xA0;<span class="">0971</span>:         be tuples of the form (word, class).</pre>
<pre class="cython line score-0">&#xA0;<span class="">0972</span>:     class_counts : dict</pre>
<pre class="cython line score-0">&#xA0;<span class="">0973</span>:         A dictionary containing the total count of words for each class.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0974</span>:     V : int</pre>
<pre class="cython line score-0">&#xA0;<span class="">0975</span>:         The size of the vocabulary, i.e., the number of unique words in</pre>
<pre class="cython line score-0">&#xA0;<span class="">0976</span>:         the dataset.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0977</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0978</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">0979</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0980</span>:     float</pre>
<pre class="cython line score-0">&#xA0;<span class="">0981</span>:         The Laplace-smoothed probability of the word given the class.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0982</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0983</span>:     Example</pre>
<pre class="cython line score-0">&#xA0;<span class="">0984</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0985</span>:     &gt;&gt;&gt; from gofast.tools.mlutils import laplace_smoothing_word</pre>
<pre class="cython line score-0">&#xA0;<span class="">0986</span>:     &gt;&gt;&gt; word_counts = {('dog', 'animal'): 3, ('cat', 'animal'):</pre>
<pre class="cython line score-0">&#xA0;<span class="">0987</span>:                        2, ('car', 'non-animal'): 4}</pre>
<pre class="cython line score-0">&#xA0;<span class="">0988</span>:     &gt;&gt;&gt; class_counts = {'animal': 5, 'non-animal': 4}</pre>
<pre class="cython line score-0">&#xA0;<span class="">0989</span>:     &gt;&gt;&gt; V = len(set([w for (w, c) in word_counts.keys()]))</pre>
<pre class="cython line score-0">&#xA0;<span class="">0990</span>:     &gt;&gt;&gt; laplace_smoothing_word('dog', 'animal', word_counts, class_counts, V)</pre>
<pre class="cython line score-0">&#xA0;<span class="">0991</span>:     0.5</pre>
<pre class="cython line score-0">&#xA0;<span class="">0992</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">0993</span>:     References</pre>
<pre class="cython line score-0">&#xA0;<span class="">0994</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">0995</span>:     - C.D. Manning, P. Raghavan, and H. Schtze, "Introduction to Information Retrieval",</pre>
<pre class="cython line score-0">&#xA0;<span class="">0996</span>:       Cambridge University Press, 2008.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0997</span>:     - A detailed explanation of Laplace Smoothing can be found in Chapter 13 of</pre>
<pre class="cython line score-0">&#xA0;<span class="">0998</span>:       "Introduction to Information Retrieval" by Manning et al.</pre>
<pre class="cython line score-0">&#xA0;<span class="">0999</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1000</span>:     Notes</pre>
<pre class="cython line score-0">&#xA0;<span class="">1001</span>:     -----</pre>
<pre class="cython line score-0">&#xA0;<span class="">1002</span>:     This function is particularly useful in text classification tasks where the</pre>
<pre class="cython line score-0">&#xA0;<span class="">1003</span>:     dataset may contain a large number of unique words, and some words may not</pre>
<pre class="cython line score-0">&#xA0;<span class="">1004</span>:     appear in the training data for every class.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1005</span>:     """</pre>
<pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1006</span>:     word_class_count = word_counts.get((word, class_), 0)</pre>
<pre class='cython code score-28 '>  <span class='trace'>__Pyx_TraceLine</span>(1006,0,<span class='error_goto'>__PYX_ERR(0, 1006, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_word_counts, __pyx_n_s_get);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1006, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1006, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_word);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_word);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_word)) <span class='error_goto'>__PYX_ERR(0, 1006, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_class_);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_class_);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_v_class_)) <span class='error_goto'>__PYX_ERR(0, 1006, __pyx_L1_error)</span>;
  __pyx_t_4 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_4)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_4, __pyx_t_3, __pyx_int_0};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_5, 2+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1006, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_v_word_class_count = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1007</span>:     class_word_count = class_counts.get(class_, 0)</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(1007,0,<span class='error_goto'>__PYX_ERR(0, 1007, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_class_counts, __pyx_n_s_get);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1007, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_3, __pyx_v_class_, __pyx_int_0};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_5, 2+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1007, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_v_class_word_count = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1008</span>:     probability = (word_class_count + 1) / (class_word_count + V)</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(1008,0,<span class='error_goto'>__PYX_ERR(0, 1008, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyInt_AddObjC</span>(__pyx_v_word_class_count, __pyx_int_1, 1, 0, 0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1008, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='py_c_api'>PyNumber_Add</span>(__pyx_v_class_word_count, __pyx_v_V);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1008, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyNumber_Divide</span>(__pyx_t_1, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1008, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_probability = __pyx_t_3;
  __pyx_t_3 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1009</span>:     return probability</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1009,0,<span class='error_goto'>__PYX_ERR(0, 1009, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_probability);
  __pyx_r = __pyx_v_probability;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1010</span>: </pre>
<pre class="cython line score-44" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1011</span>: def laplace_smoothing_categorical(</pre>
<pre class='cython code score-44 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_17laplace_smoothing_categorical(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_16laplace_smoothing_categorical, "\n    Apply Laplace smoothing to estimate conditional probabilities of \n    categorical features given a class in a dataset.\n\n    This function calculates the Laplace-smoothed probabilities for each \n    category of a specified feature given each class.\n\n    Parameters\n    ----------\n    data : pandas.DataFrame\n        The dataset containing categorical features and a class label.\n    feature_col : str\n        The column name in the dataset representing the feature for which \n        probabilities are to be calculated.\n    class_col : str\n        The column name in the dataset representing the class label.\n    V : int or None, optional\n        The size of the vocabulary (i.e., the number of unique categories \n                                    in the feature).\n        If None, it will be calculated based on the provided feature column.\n\n    Returns\n    -------\n    pd.DataFrame\n        A DataFrame containing the Laplace-smoothed probabilities for each \n        category of the feature across each class.\n\n    Example\n    -------\n    &gt;&gt;&gt; import pandas as pd \n    &gt;&gt;&gt; from gofast.tools.mlutils import laplace_smoothing_categorical\n    &gt;&gt;&gt; data = pd.DataFrame({'feature': ['cat', 'dog', 'cat', 'bird'],\n                             'class': ['A', 'A', 'B', 'B']})\n    &gt;&gt;&gt; probabilities = laplace_smoothing_categorical(data, 'feature', 'class')\n    &gt;&gt;&gt; print(probabilities)\n\n    Notes\n    -----\n    This function is useful for handling categorical data in classification\n    tasks, especially when the dataset may contain categories that do not \n    appear in the training data for every class.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_17laplace_smoothing_categorical = {"laplace_smoothing_categorical", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_17laplace_smoothing_categorical, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_16laplace_smoothing_categorical};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_17laplace_smoothing_categorical(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_data = 0;
  PyObject *__pyx_v_feature_col = 0;
  PyObject *__pyx_v_class_col = 0;
  PyObject *__pyx_v_V = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("laplace_smoothing_categorical (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_data,&amp;__pyx_n_s_feature_col,&amp;__pyx_n_s_class_col,&amp;__pyx_n_s_V,0};
  PyObject* values[4] = {0,0,0,0};
/*  */
  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_16laplace_smoothing_categorical(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_data, PyObject *__pyx_v_feature_col, PyObject *__pyx_v_class_col, PyObject *__pyx_v_V) {
  PyObject *__pyx_v_class_counts = NULL;
  PyObject *__pyx_v_probability_tables = NULL;
  PyObject *__pyx_v_class_value = NULL;
  PyObject *__pyx_v_class_subset = NULL;
  PyObject *__pyx_v_feature_counts = NULL;
  PyObject *__pyx_v_probabilities = NULL;
  PyObject *__pyx_v_probability_table = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__21)
  <span class='trace'>__Pyx_TraceCall</span>("laplace_smoothing_categorical", __pyx_f[0], 1011, 0, <span class='error_goto'>__PYX_ERR(0, 1011, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_V);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.laplace_smoothing_categorical", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_class_counts);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_probability_tables);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_class_value);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_class_subset);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_feature_counts);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_probabilities);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_probability_table);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_V);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__145 = <span class='py_c_api'>PyTuple_Pack</span>(11, __pyx_n_s_data, __pyx_n_s_feature_col, __pyx_n_s_class_col, __pyx_n_s_V, __pyx_n_s_class_counts, __pyx_n_s_probability_tables, __pyx_n_s_class_value, __pyx_n_s_class_subset, __pyx_n_s_feature_counts, __pyx_n_s_probabilities, __pyx_n_s_probability_table);<span class='error_goto'> if (unlikely(!__pyx_tuple__145)) __PYX_ERR(0, 1011, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__145);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__145);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(1011,0,<span class='error_goto'>__PYX_ERR(0, 1011, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_17laplace_smoothing_categorical, 0, __pyx_n_s_laplace_smoothing_categorical, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__21));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1011, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_4, __pyx_tuple__98);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_laplace_smoothing_categorical, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1011, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_codeobj__21 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(4, 0, 0, 11, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__145, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_laplace_smoothing_categorical, 1011, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__21)) __PYX_ERR(0, 1011, __pyx_L1_error)</span>
</pre><pre class="cython line score-68" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1012</span>:         data, feature_col, class_col, V=None):</pre>
<pre class='cython code score-68 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1011, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_feature_col)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1011, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("laplace_smoothing_categorical", 0, 3, 4, 1); <span class='error_goto'>__PYX_ERR(0, 1011, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (likely((values[2] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_class_col)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[2]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1011, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("laplace_smoothing_categorical", 0, 3, 4, 2); <span class='error_goto'>__PYX_ERR(0, 1011, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_V);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1011, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "laplace_smoothing_categorical") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1011, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_data = values[0];
    __pyx_v_feature_col = values[1];
    __pyx_v_class_col = values[2];
    __pyx_v_V = values[3];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("laplace_smoothing_categorical", 0, 3, 4, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1011, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.laplace_smoothing_categorical", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_16laplace_smoothing_categorical(__pyx_self, __pyx_v_data, __pyx_v_feature_col, __pyx_v_class_col, __pyx_v_V);
</pre><pre class="cython line score-0">&#xA0;<span class="">1013</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">1014</span>:     Apply Laplace smoothing to estimate conditional probabilities of</pre>
<pre class="cython line score-0">&#xA0;<span class="">1015</span>:     categorical features given a class in a dataset.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1016</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1017</span>:     This function calculates the Laplace-smoothed probabilities for each</pre>
<pre class="cython line score-0">&#xA0;<span class="">1018</span>:     category of a specified feature given each class.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1019</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1020</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">1021</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1022</span>:     data : pandas.DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">1023</span>:         The dataset containing categorical features and a class label.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1024</span>:     feature_col : str</pre>
<pre class="cython line score-0">&#xA0;<span class="">1025</span>:         The column name in the dataset representing the feature for which</pre>
<pre class="cython line score-0">&#xA0;<span class="">1026</span>:         probabilities are to be calculated.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1027</span>:     class_col : str</pre>
<pre class="cython line score-0">&#xA0;<span class="">1028</span>:         The column name in the dataset representing the class label.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1029</span>:     V : int or None, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1030</span>:         The size of the vocabulary (i.e., the number of unique categories</pre>
<pre class="cython line score-0">&#xA0;<span class="">1031</span>:                                     in the feature).</pre>
<pre class="cython line score-0">&#xA0;<span class="">1032</span>:         If None, it will be calculated based on the provided feature column.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1033</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1034</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">1035</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1036</span>:     pd.DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">1037</span>:         A DataFrame containing the Laplace-smoothed probabilities for each</pre>
<pre class="cython line score-0">&#xA0;<span class="">1038</span>:         category of the feature across each class.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1039</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1040</span>:     Example</pre>
<pre class="cython line score-0">&#xA0;<span class="">1041</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1042</span>:     &gt;&gt;&gt; import pandas as pd</pre>
<pre class="cython line score-0">&#xA0;<span class="">1043</span>:     &gt;&gt;&gt; from gofast.tools.mlutils import laplace_smoothing_categorical</pre>
<pre class="cython line score-0">&#xA0;<span class="">1044</span>:     &gt;&gt;&gt; data = pd.DataFrame({'feature': ['cat', 'dog', 'cat', 'bird'],</pre>
<pre class="cython line score-0">&#xA0;<span class="">1045</span>:                              'class': ['A', 'A', 'B', 'B']})</pre>
<pre class="cython line score-0">&#xA0;<span class="">1046</span>:     &gt;&gt;&gt; probabilities = laplace_smoothing_categorical(data, 'feature', 'class')</pre>
<pre class="cython line score-0">&#xA0;<span class="">1047</span>:     &gt;&gt;&gt; print(probabilities)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1048</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1049</span>:     Notes</pre>
<pre class="cython line score-0">&#xA0;<span class="">1050</span>:     -----</pre>
<pre class="cython line score-0">&#xA0;<span class="">1051</span>:     This function is useful for handling categorical data in classification</pre>
<pre class="cython line score-0">&#xA0;<span class="">1052</span>:     tasks, especially when the dataset may contain categories that do not</pre>
<pre class="cython line score-0">&#xA0;<span class="">1053</span>:     appear in the training data for every class.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1054</span>:     """</pre>
<pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1055</span>:     is_frame( data, df_only=True, raise_exception=True)</pre>
<pre class='cython code score-28 '>  <span class='trace'>__Pyx_TraceLine</span>(1055,0,<span class='error_goto'>__PYX_ERR(0, 1055, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_is_frame);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1055, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1055, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_data)) <span class='error_goto'>__PYX_ERR(0, 1055, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1055, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_df_only, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1055, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_raise_exception, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1055, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_2, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1055, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1056</span>:     if V is None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(1056,0,<span class='error_goto'>__PYX_ERR(0, 1056, __pyx_L1_error)</span>)
  __pyx_t_5 = (__pyx_v_V == Py_None);
  if (__pyx_t_5) {
/*  */
  }
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1057</span>:         V = data[feature_col].nunique()</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(1057,0,<span class='error_goto'>__PYX_ERR(0, 1057, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_v_feature_col);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1057, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_nunique);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1057, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1057, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_V, __pyx_t_4);
    __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1058</span>: </pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1059</span>:     class_counts = data[class_col].value_counts()</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(1059,0,<span class='error_goto'>__PYX_ERR(0, 1059, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_v_class_col);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1059, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_value_counts);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1059, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_2, NULL};
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1059, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_v_class_counts = __pyx_t_4;
  __pyx_t_4 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1060</span>:     probability_tables = []</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(1060,0,<span class='error_goto'>__PYX_ERR(0, 1060, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1060, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_v_probability_tables = ((PyObject*)__pyx_t_4);
  __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1061</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1062</span>:     # Iterating over each class to calculate probabilities</pre>
<pre class="cython line score-69" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1063</span>:     for class_value in data[class_col].unique():</pre>
<pre class='cython code score-69 '>  <span class='trace'>__Pyx_TraceLine</span>(1063,0,<span class='error_goto'>__PYX_ERR(0, 1063, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_v_class_col);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1063, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_unique);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1063, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1063, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_4)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_4)) {
    __pyx_t_2 = __pyx_t_4; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
    __pyx_t_7 = 0;
    __pyx_t_8 = NULL;
  } else {
    __pyx_t_7 = -1; __pyx_t_2 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1063, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1063, __pyx_L1_error)</span>
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  for (;;) {
    if (likely(!__pyx_t_8)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_2))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_2);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1063, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_7 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_2, __pyx_t_7); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_7++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1063, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_2, __pyx_t_7); __pyx_t_7++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1063, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_2);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1063, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_7 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_2, __pyx_t_7); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_7++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1063, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_2, __pyx_t_7); __pyx_t_7++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1063, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      }
    } else {
      __pyx_t_4 = __pyx_t_8(__pyx_t_2);
      if (unlikely(!__pyx_t_4)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 1063, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_class_value, __pyx_t_4);
    __pyx_t_4 = 0;
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(1063,0,<span class='error_goto'>__PYX_ERR(0, 1063, __pyx_L1_error)</span>)
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1064</span>:         class_subset = data[data[class_col] == class_value]</pre>
<pre class='cython code score-12 '>    <span class='trace'>__Pyx_TraceLine</span>(1064,0,<span class='error_goto'>__PYX_ERR(0, 1064, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_v_class_col);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1064, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_3 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_4, __pyx_v_class_value, Py_EQ); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1064, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1064, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_class_subset, __pyx_t_4);
    __pyx_t_4 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1065</span>:         feature_counts = class_subset[feature_col].value_counts()</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(1065,0,<span class='error_goto'>__PYX_ERR(0, 1065, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_class_subset, __pyx_v_feature_col);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1065, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_value_counts);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1065, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1065, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_feature_counts, __pyx_t_4);
    __pyx_t_4 = 0;
</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1066</span>:         probabilities = (feature_counts + 1) / (class_counts[class_value] + V)</pre>
<pre class='cython code score-15 '>    <span class='trace'>__Pyx_TraceLine</span>(1066,0,<span class='error_goto'>__PYX_ERR(0, 1066, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyInt_AddObjC</span>(__pyx_v_feature_counts, __pyx_int_1, 1, 0, 0);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1066, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_class_counts, __pyx_v_class_value);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1066, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='py_c_api'>PyNumber_Add</span>(__pyx_t_1, __pyx_v_V);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1066, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyNumber_Divide</span>(__pyx_t_4, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1066, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_probabilities, __pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1067</span>:         probabilities.name = class_value</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(1067,0,<span class='error_goto'>__PYX_ERR(0, 1067, __pyx_L1_error)</span>)
    if (<span class='pyx_c_api'>__Pyx_PyObject_SetAttrStr</span>(__pyx_v_probabilities, __pyx_n_s_name, __pyx_v_class_value) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1067, __pyx_L1_error)</span>
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1068</span>:         probability_tables.append(probabilities.to_frame().T)</pre>
<pre class='cython code score-22 '>    <span class='trace'>__Pyx_TraceLine</span>(1068,0,<span class='error_goto'>__PYX_ERR(0, 1068, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_probabilities, __pyx_n_s_to_frame);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1068, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_4 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_4)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_4, NULL};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1068, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_T);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1068, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_v_probability_tables, __pyx_t_3);<span class='error_goto'> if (unlikely(__pyx_t_9 == ((int)-1))) __PYX_ERR(0, 1068, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1069</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1070</span>:     # Using pandas.concat to combine the probability tables</pre>
<pre class="cython line score-45" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1071</span>:     probability_table = pd.concat(probability_tables, sort=False).fillna(1 / V)</pre>
<pre class='cython code score-45 '>  <span class='trace'>__Pyx_TraceLine</span>(1071,0,<span class='error_goto'>__PYX_ERR(0, 1071, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1071, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_concat);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1071, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1071, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_probability_tables);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_probability_tables);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_probability_tables)) <span class='error_goto'>__PYX_ERR(0, 1071, __pyx_L1_error)</span>;
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1071, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_sort, Py_False) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1071, __pyx_L1_error)</span>
  __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_3, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1071, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_10, __pyx_n_s_fillna);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1071, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
  __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyNumber_Divide</span>(__pyx_int_1, __pyx_v_V);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1071, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
  __pyx_t_3 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_t_10};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1071, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  }
  __pyx_v_probability_table = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1072</span>:     # Transpose to match expected format: features as rows, classes as columns</pre>
<pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1073</span>:     probability_table = probability_table.T</pre>
<pre class='cython code score-3 '>  <span class='trace'>__Pyx_TraceLine</span>(1073,0,<span class='error_goto'>__PYX_ERR(0, 1073, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_probability_table, __pyx_n_s_T);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1073, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_probability_table, __pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1074</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1075</span>:     return probability_table</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1075,0,<span class='error_goto'>__PYX_ERR(0, 1075, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_probability_table);
  __pyx_r = __pyx_v_probability_table;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1076</span>: </pre>
<pre class="cython line score-87" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1077</span>: def laplace_smoothing(</pre>
<pre class='cython code score-87 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_19laplace_smoothing(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_18laplace_smoothing, "\n    Applies Laplace smoothing to  data to calculate smoothed probabilities.\n\n    Parameters\n    ----------\n    data : ndarray or DataFrame\n        An array-like or DataFrame object containing categorical data. Each column \n        represents a feature, and each row represents a data sample.\n    alpha : float, optional\n        The smoothing parameter, often referred to as 'alpha'. This is \n        added to the count for each category in each feature. \n        Default is 1 (Laplace Smoothing).\n    columns: list, optional\n        Columns to construct the DataFrame when `data` is an ndarray. The \n        number of columns must match the second dimension of the ndarray.\n        \n    Returns\n    -------\n    smoothed_probs : ndarray or DataFrame\n        An array or DataFrame of the same shape as `data` containing the smoothed \n        probabilities for each category in each feature.\n\n    Raises\n    ------\n    ValueError\n        If `columns` is provided and its length does not match the number \n        of columns in `data`.\n\n    Examples\n    --------\n    &gt;&gt;&gt; import numpy as np \n    &gt;&gt;&gt; import pandas as pd \n    &gt;&gt;&gt; from gofast.tools.mlutils import laplace_smoothing\n    &gt;&gt;&gt; data = np.array([[0, 1], [1, 0], [1, 1]])\n    &gt;&gt;&gt; laplace_smoothing(data, alpha=1)\n    array([[0.4 , 0.6 ],\n           [0.6 , 0.4 ],\n           [0.6 , 0.6 ]])\n\n    &gt;&gt;&gt; data_df = pd.DataFrame(data, columns=['feature1', 'feature2'])\n    &gt;&gt;&gt; laplace_smoothing(data_df, alpha=1)\n       feature1  feature2\n    0       0.4       0.6\n    1       0.6       0.4\n    2       0.6       0.6\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_19laplace_smoothing = {"laplace_smoothing", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_19laplace_smoothing, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_18laplace_smoothing};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_19laplace_smoothing(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_data = 0;
  double __pyx_v_alpha;
  PyObject *__pyx_v_columns = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("laplace_smoothing (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_data,&amp;__pyx_n_s_alpha,&amp;__pyx_n_s_columns,0};
  PyObject* values[3] = {0,0,0};
/*  */
  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
static PyObject *__pyx_pf_6gofast_5tools_7mlutils_18laplace_smoothing(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_data, double __pyx_v_alpha, PyObject *__pyx_v_columns) {
  struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct__laplace_smoothing *__pyx_cur_scope;
  PyObject *__pyx_v_input_type = NULL;
  PyObject *__pyx_v_smoothed_probs_list = NULL;
  PyObject *__pyx_v_features = NULL;
  PyObject *__pyx_v_feature = NULL;
  PyObject *__pyx_v_series = NULL;
  PyObject *__pyx_v_counts = NULL;
  PyObject *__pyx_v_smoothed_probs = NULL;
  PyObject *__pyx_8genexpr3__pyx_v_feature = NULL;
  PyObject *__pyx_8genexpr3__pyx_v_probs = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__22)
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct__laplace_smoothing *)__pyx_tp_new_6gofast_5tools_7mlutils___pyx_scope_struct__laplace_smoothing(__pyx_ptype_6gofast_5tools_7mlutils___pyx_scope_struct__laplace_smoothing, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct__laplace_smoothing *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 1077, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  <span class='trace'>__Pyx_TraceCall</span>("laplace_smoothing", __pyx_f[0], 1077, 0, <span class='error_goto'>__PYX_ERR(0, 1077, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.laplace_smoothing", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_input_type);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_smoothed_probs_list);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_features);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_feature);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_series);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_counts);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_smoothed_probs);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr3__pyx_v_feature);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr3__pyx_v_probs);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_data);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__146 = <span class='py_c_api'>PyTuple_Pack</span>(14, __pyx_n_s_data, __pyx_n_s_alpha, __pyx_n_s_columns, __pyx_n_s_input_type, __pyx_n_s_smoothed_probs_list, __pyx_n_s_features, __pyx_n_s_feature_2, __pyx_n_s_series, __pyx_n_s_counts, __pyx_n_s_smoothed_counts, __pyx_n_s_total_counts, __pyx_n_s_smoothed_probs, __pyx_n_s_feature_2, __pyx_n_s_probs);<span class='error_goto'> if (unlikely(!__pyx_tuple__146)) __PYX_ERR(0, 1077, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__146);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__146);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(1077,0,<span class='error_goto'>__PYX_ERR(0, 1077, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1077, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1077, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 1, Py_None)) <span class='error_goto'>__PYX_ERR(0, 1077, __pyx_L1_error)</span>;
  __pyx_t_4 = 0;
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1077, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_data, __pyx_kp_s_Union_ArrayLike_DataFrame) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1077, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_alpha, __pyx_n_s_float) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1077, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_columns, __pyx_kp_s_Union_list_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1077, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_return, __pyx_kp_s_Union_ArrayLike_DataFrame) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1077, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_19laplace_smoothing, 0, __pyx_n_s_laplace_smoothing, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__22));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1077, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_2, __pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_2, __pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_laplace_smoothing, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1077, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_codeobj__22 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(3, 0, 0, 14, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__146, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_laplace_smoothing, 1077, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__22)) __PYX_ERR(0, 1077, __pyx_L1_error)</span>
/*  */
struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct__laplace_smoothing {
  PyObject_HEAD
  PyObject *__pyx_v_smoothed_counts;
  PyObject *__pyx_v_total_counts;
};

</pre><pre class="cython line score-0">&#xA0;<span class="">1078</span>:     data: Union[ArrayLike, DataFrame],</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1079</span>:     alpha: float = 1.0,</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(1079,0,<span class='error_goto'>__PYX_ERR(0, 1079, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='py_c_api'>PyFloat_FromDouble</span>(((double)1.0));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1079, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
</pre><pre class="cython line score-61" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1080</span>:     columns: Union[list, None] = None</pre>
<pre class='cython code score-61 '>    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1077, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_alpha);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1077, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_columns);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1077, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "laplace_smoothing") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1077, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_data = values[0];
    if (values[1]) {
      __pyx_v_alpha = __pyx_<span class='py_c_api'>PyFloat_AsDouble</span>(values[1]); if (unlikely((__pyx_v_alpha == (double)-1) &amp;&amp; <span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1079, __pyx_L3_error)</span>
    } else {
      __pyx_v_alpha = ((double)((double)1.0));
    }
    __pyx_v_columns = values[2];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("laplace_smoothing", 0, 1, 3, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1077, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.laplace_smoothing", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_18laplace_smoothing(__pyx_self, __pyx_v_data, __pyx_v_alpha, __pyx_v_columns);
</pre><pre class="cython line score-0">&#xA0;<span class="">1081</span>: ) -&gt; Union[ArrayLike, DataFrame]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">1082</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">1083</span>:     Applies Laplace smoothing to  data to calculate smoothed probabilities.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1084</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1085</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">1086</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1087</span>:     data : ndarray or DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">1088</span>:         An array-like or DataFrame object containing categorical data. Each column</pre>
<pre class="cython line score-0">&#xA0;<span class="">1089</span>:         represents a feature, and each row represents a data sample.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1090</span>:     alpha : float, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1091</span>:         The smoothing parameter, often referred to as 'alpha'. This is</pre>
<pre class="cython line score-0">&#xA0;<span class="">1092</span>:         added to the count for each category in each feature.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1093</span>:         Default is 1 (Laplace Smoothing).</pre>
<pre class="cython line score-0">&#xA0;<span class="">1094</span>:     columns: list, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1095</span>:         Columns to construct the DataFrame when `data` is an ndarray. The</pre>
<pre class="cython line score-0">&#xA0;<span class="">1096</span>:         number of columns must match the second dimension of the ndarray.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1097</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1098</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">1099</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1100</span>:     smoothed_probs : ndarray or DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">1101</span>:         An array or DataFrame of the same shape as `data` containing the smoothed</pre>
<pre class="cython line score-0">&#xA0;<span class="">1102</span>:         probabilities for each category in each feature.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1103</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1104</span>:     Raises</pre>
<pre class="cython line score-0">&#xA0;<span class="">1105</span>:     ------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1106</span>:     ValueError</pre>
<pre class="cython line score-0">&#xA0;<span class="">1107</span>:         If `columns` is provided and its length does not match the number</pre>
<pre class="cython line score-0">&#xA0;<span class="">1108</span>:         of columns in `data`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1109</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1110</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">1111</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1112</span>:     &gt;&gt;&gt; import numpy as np</pre>
<pre class="cython line score-0">&#xA0;<span class="">1113</span>:     &gt;&gt;&gt; import pandas as pd</pre>
<pre class="cython line score-0">&#xA0;<span class="">1114</span>:     &gt;&gt;&gt; from gofast.tools.mlutils import laplace_smoothing</pre>
<pre class="cython line score-0">&#xA0;<span class="">1115</span>:     &gt;&gt;&gt; data = np.array([[0, 1], [1, 0], [1, 1]])</pre>
<pre class="cython line score-0">&#xA0;<span class="">1116</span>:     &gt;&gt;&gt; laplace_smoothing(data, alpha=1)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1117</span>:     array([[0.4 , 0.6 ],</pre>
<pre class="cython line score-0">&#xA0;<span class="">1118</span>:            [0.6 , 0.4 ],</pre>
<pre class="cython line score-0">&#xA0;<span class="">1119</span>:            [0.6 , 0.6 ]])</pre>
<pre class="cython line score-0">&#xA0;<span class="">1120</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1121</span>:     &gt;&gt;&gt; data_df = pd.DataFrame(data, columns=['feature1', 'feature2'])</pre>
<pre class="cython line score-0">&#xA0;<span class="">1122</span>:     &gt;&gt;&gt; laplace_smoothing(data_df, alpha=1)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1123</span>:        feature1  feature2</pre>
<pre class="cython line score-0">&#xA0;<span class="">1124</span>:     0       0.4       0.6</pre>
<pre class="cython line score-0">&#xA0;<span class="">1125</span>:     1       0.6       0.4</pre>
<pre class="cython line score-0">&#xA0;<span class="">1126</span>:     2       0.6       0.6</pre>
<pre class="cython line score-0">&#xA0;<span class="">1127</span>:     """</pre>
<pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1128</span>:     if isinstance(data, np.ndarray):</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(1128,0,<span class='error_goto'>__PYX_ERR(0, 1128, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1128, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_ndarray);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1128, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data, __pyx_t_2);<span class='error_goto'> if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(0, 1128, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_3) {
/*  */
    goto __pyx_L3;
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1129</span>:         if columns:</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(1129,0,<span class='error_goto'>__PYX_ERR(0, 1129, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_columns); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1129, __pyx_L1_error)</span>
    if (__pyx_t_3) {
/*  */
    }
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1130</span>:             if len(columns) != data.shape[1]:</pre>
<pre class='cython code score-25 '>      <span class='trace'>__Pyx_TraceLine</span>(1130,0,<span class='error_goto'>__PYX_ERR(0, 1130, __pyx_L1_error)</span>)
      __pyx_t_4 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_columns);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(0, 1130, __pyx_L1_error)</span>
      __pyx_t_2 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1130, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1130, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_1, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1130, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_2, __pyx_t_5, Py_NE); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1130, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_1); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1130, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(__pyx_t_3)) {
/*  */
      }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1131</span>:                 raise ValueError("Length of `columns` does not match the shape of `data`.")</pre>
<pre class='cython code score-10 '>        <span class='trace'>__Pyx_TraceLine</span>(1131,0,<span class='error_goto'>__PYX_ERR(0, 1131, __pyx_L1_error)</span>)
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__23, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1131, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_1, 0, 0, 0);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        <span class='error_goto'>__PYX_ERR(0, 1131, __pyx_L1_error)</span>
/*  */
  __pyx_tuple__23 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Length_of_columns_does_not_match);<span class='error_goto'> if (unlikely(!__pyx_tuple__23)) __PYX_ERR(0, 1131, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__23);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__23);
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1132</span>:             data = pd.DataFrame(data, columns=columns)</pre>
<pre class='cython code score-26 '>      <span class='trace'>__Pyx_TraceLine</span>(1132,0,<span class='error_goto'>__PYX_ERR(0, 1132, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1132, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1132, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1132, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_data)) <span class='error_goto'>__PYX_ERR(0, 1132, __pyx_L1_error)</span>;
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1132, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_columns, __pyx_v_columns) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1132, __pyx_L1_error)</span>
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_t_1, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1132, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_data, __pyx_t_6);
      __pyx_t_6 = 0;
</pre><pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1133</span>:         input_type = 'ndarray'</pre>
<pre class='cython code score-1 '>    <span class='trace'>__Pyx_TraceLine</span>(1133,0,<span class='error_goto'>__PYX_ERR(0, 1133, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_ndarray);
    __pyx_v_input_type = __pyx_n_u_ndarray;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1134</span>:     elif isinstance(data, pd.DataFrame):</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(1134,0,<span class='error_goto'>__PYX_ERR(0, 1134, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1134, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1134, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_3 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data, __pyx_t_2);<span class='error_goto'> if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(0, 1134, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (likely(__pyx_t_3)) {
/*  */
    goto __pyx_L3;
  }
</pre><pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1135</span>:         input_type = 'dataframe'</pre>
<pre class='cython code score-1 '>    <span class='trace'>__Pyx_TraceLine</span>(1135,0,<span class='error_goto'>__PYX_ERR(0, 1135, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_dataframe);
    __pyx_v_input_type = __pyx_n_u_dataframe;
</pre><pre class="cython line score-0">&#xA0;<span class="">1136</span>:     else:</pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1137</span>:         raise TypeError("`data` must be either a numpy.ndarray or a pandas.DataFrame.")</pre>
<pre class='cython code score-10 '>  <span class='trace'>__Pyx_TraceLine</span>(1137,0,<span class='error_goto'>__PYX_ERR(0, 1137, __pyx_L1_error)</span>)
  /*else*/ {
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_TypeError, __pyx_tuple__24, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1137, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='error_goto'>__PYX_ERR(0, 1137, __pyx_L1_error)</span>
  }
  __pyx_L3:;
/*  */
  __pyx_tuple__24 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_data_must_be_either_a_numpy_nda);<span class='error_goto'> if (unlikely(!__pyx_tuple__24)) __PYX_ERR(0, 1137, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__24);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__24);
</pre><pre class="cython line score-0">&#xA0;<span class="">1138</span>: </pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1139</span>:     smoothed_probs_list = []</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(1139,0,<span class='error_goto'>__PYX_ERR(0, 1139, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1139, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_v_smoothed_probs_list = ((PyObject*)__pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1140</span>:     features = data.columns if input_type == 'dataframe' else range(data.shape[1])</pre>
<pre class='cython code score-12 '>  <span class='trace'>__Pyx_TraceLine</span>(1140,0,<span class='error_goto'>__PYX_ERR(0, 1140, __pyx_L1_error)</span>)
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_input_type, __pyx_n_u_dataframe, Py_EQ)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1140, __pyx_L1_error)</span>
  if (__pyx_t_3) {
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1140, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_2 = __pyx_t_6;
    __pyx_t_6 = 0;
  } else {
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1140, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_6, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1140, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_range, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1140, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_2 = __pyx_t_6;
    __pyx_t_6 = 0;
  }
  __pyx_v_features = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1141</span>: </pre>
<pre class="cython line score-49" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1142</span>:     for feature in features:</pre>
<pre class='cython code score-49 '>  <span class='trace'>__Pyx_TraceLine</span>(1142,0,<span class='error_goto'>__PYX_ERR(0, 1142, __pyx_L1_error)</span>)
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_features)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_features)) {
    __pyx_t_2 = __pyx_v_features; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
    __pyx_t_4 = 0;
    __pyx_t_7 = NULL;
  } else {
    __pyx_t_4 = -1; __pyx_t_2 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_features);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1142, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1142, __pyx_L1_error)</span>
  }
  for (;;) {
    if (likely(!__pyx_t_7)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_2))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_2);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1142, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_4 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_6 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_2, __pyx_t_4); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6); __pyx_t_4++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1142, __pyx_L1_error)</span>
        #else
        __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_2, __pyx_t_4); __pyx_t_4++;<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1142, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_2);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1142, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_4 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_6 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_2, __pyx_t_4); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6); __pyx_t_4++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1142, __pyx_L1_error)</span>
        #else
        __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_2, __pyx_t_4); __pyx_t_4++;<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1142, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
        #endif
      }
    } else {
      __pyx_t_6 = __pyx_t_7(__pyx_t_2);
      if (unlikely(!__pyx_t_6)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 1142, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_feature, __pyx_t_6);
    __pyx_t_6 = 0;
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(1142,0,<span class='error_goto'>__PYX_ERR(0, 1142, __pyx_L1_error)</span>)
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-24" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1143</span>:         series = data[feature] if input_type == 'dataframe' else data[:, feature]</pre>
<pre class='cython code score-24 '>    <span class='trace'>__Pyx_TraceLine</span>(1143,0,<span class='error_goto'>__PYX_ERR(0, 1143, __pyx_L1_error)</span>)
    __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_input_type, __pyx_n_u_dataframe, Py_EQ)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1143, __pyx_L1_error)</span>
    if (__pyx_t_3) {
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_v_feature);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1143, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_6 = __pyx_t_1;
      __pyx_t_1 = 0;
    } else {
      __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1143, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_slice__25);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_slice__25);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_slice__25)) <span class='error_goto'>__PYX_ERR(0, 1143, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_feature);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_feature);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_v_feature)) <span class='error_goto'>__PYX_ERR(0, 1143, __pyx_L1_error)</span>;
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1143, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_6 = __pyx_t_5;
      __pyx_t_5 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_series, __pyx_t_6);
    __pyx_t_6 = 0;
/*  */
  __pyx_slice__25 = <span class='py_c_api'>PySlice_New</span>(Py_None, Py_None, Py_None);<span class='error_goto'> if (unlikely(!__pyx_slice__25)) __PYX_ERR(0, 1143, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_slice__25);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_slice__25);
</pre><pre class="cython line score-46" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1144</span>:         counts = np.bincount(series, minlength=series.max() + 1)</pre>
<pre class='cython code score-46 '>    <span class='trace'>__Pyx_TraceLine</span>(1144,0,<span class='error_goto'>__PYX_ERR(0, 1144, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1144, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_bincount);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1144, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1144, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_series);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_series);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_v_series)) <span class='error_goto'>__PYX_ERR(0, 1144, __pyx_L1_error)</span>;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1144, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_series, __pyx_n_s_max);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1144, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_10 = NULL;
    __pyx_t_11 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
      __pyx_t_10 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
      if (likely(__pyx_t_10)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_10);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
        __pyx_t_11 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_10, NULL};
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_11, 0+__pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      if (unlikely(!__pyx_t_8)) <span class='error_goto'>__PYX_ERR(0, 1144, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    }
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyInt_AddObjC</span>(__pyx_t_8, __pyx_int_1, 1, 0, 0);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1144, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_minlength, __pyx_t_9) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1144, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_t_6, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1144, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_counts, __pyx_t_9);
    __pyx_t_9 = 0;
</pre><pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1145</span>:         smoothed_counts = counts + alpha</pre>
<pre class='cython code score-12 '>    <span class='trace'>__Pyx_TraceLine</span>(1145,0,<span class='error_goto'>__PYX_ERR(0, 1145, __pyx_L1_error)</span>)
    __pyx_t_9 = <span class='py_c_api'>PyFloat_FromDouble</span>(__pyx_v_alpha);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1145, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_1 = <span class='py_c_api'>PyNumber_Add</span>(__pyx_v_counts, __pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1145, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_cur_scope-&gt;__pyx_v_smoothed_counts);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_cur_scope-&gt;__pyx_v_smoothed_counts, __pyx_t_1);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1146</span>:         total_counts = smoothed_counts.sum()</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(1146,0,<span class='error_goto'>__PYX_ERR(0, 1146, __pyx_L1_error)</span>)
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_cur_scope-&gt;__pyx_v_smoothed_counts, __pyx_n_s_sum);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1146, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_6 = NULL;
    __pyx_t_11 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
        __pyx_t_11 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_6, NULL};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_11, 0+__pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1146, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    }
    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_cur_scope-&gt;__pyx_v_total_counts);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_cur_scope-&gt;__pyx_v_total_counts, __pyx_t_1);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-68" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1147</span>:         smoothed_probs = (series.map(lambda x: smoothed_counts[x] / total_counts)</pre>
<pre class='cython code score-68 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_17laplace_smoothing_lambda(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_17laplace_smoothing_lambda = {"lambda", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_17laplace_smoothing_lambda, __Pyx_METH_FASTCALL|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_17laplace_smoothing_lambda(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_x = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("lambda (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_x,0};
  PyObject* values[1] = {0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_x)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1147, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "lambda") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1147, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 1)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
    }
    __pyx_v_x = values[0];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("lambda", 1, 1, 1, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1147, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.laplace_smoothing.lambda", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_lambda_funcdef_lambda(__pyx_self, __pyx_v_x);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_lambda_funcdef_lambda(PyObject *__pyx_self, PyObject *__pyx_v_x) {
  struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct__laplace_smoothing *__pyx_cur_scope;
  struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct__laplace_smoothing *__pyx_outer_scope;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_outer_scope = (struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct__laplace_smoothing *) <span class='pyx_c_api'>__Pyx_CyFunction_GetClosure</span>(__pyx_self);
  __pyx_cur_scope = __pyx_outer_scope;
  <span class='trace'>__Pyx_TraceCall</span>("lambda", __pyx_f[0], 1147, 0, <span class='error_goto'>__PYX_ERR(0, 1147, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_smoothed_counts)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("smoothed_counts"); <span class='error_goto'>__PYX_ERR(0, 1147, __pyx_L1_error)</span> }
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_cur_scope-&gt;__pyx_v_smoothed_counts, __pyx_v_x);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1147, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_total_counts)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("total_counts"); <span class='error_goto'>__PYX_ERR(0, 1147, __pyx_L1_error)</span> }
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyNumber_Divide</span>(__pyx_t_1, __pyx_cur_scope-&gt;__pyx_v_total_counts);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1147, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.laplace_smoothing.lambda", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(1147,0,<span class='error_goto'>__PYX_ERR(0, 1147, __pyx_L1_error)</span>)
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_series, __pyx_n_s_map);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1147, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_17laplace_smoothing_lambda, 0, __pyx_n_s_laplace_smoothing_locals_lambda, ((PyObject*)__pyx_cur_scope), __pyx_n_s_gofast_tools_mlutils, __pyx_d, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1147, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      __pyx_t_8 = NULL;
      __pyx_t_11 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
        __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
        if (likely(__pyx_t_8)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
          __pyx_t_11 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_8, __pyx_t_5};
        __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_11, 1+__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        if (unlikely(!__pyx_t_9)) <span class='error_goto'>__PYX_ERR(0, 1147, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      }
      __pyx_t_1 = __pyx_t_9;
      __pyx_t_9 = 0;
    } else {
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1148</span>:                           if input_type == 'dataframe' else smoothed_counts[series] / total_counts)</pre>
<pre class='cython code score-8 '>    <span class='trace'>__Pyx_TraceLine</span>(1148,0,<span class='error_goto'>__PYX_ERR(0, 1148, __pyx_L1_error)</span>)
    __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_input_type, __pyx_n_u_dataframe, Py_EQ)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1148, __pyx_L1_error)</span>
    if (__pyx_t_3) {
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(1148,0,<span class='error_goto'>__PYX_ERR(0, 1148, __pyx_L1_error)</span>)
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_cur_scope-&gt;__pyx_v_smoothed_counts, __pyx_v_series);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1148, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyNumber_Divide</span>(__pyx_t_9, __pyx_cur_scope-&gt;__pyx_v_total_counts);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1148, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_1 = __pyx_t_6;
      __pyx_t_6 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_smoothed_probs, __pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1149</span>:         smoothed_probs_list.append(smoothed_probs)</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(1149,0,<span class='error_goto'>__PYX_ERR(0, 1149, __pyx_L1_error)</span>)
    __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_v_smoothed_probs_list, __pyx_v_smoothed_probs);<span class='error_goto'> if (unlikely(__pyx_t_12 == ((int)-1))) __PYX_ERR(0, 1149, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">1150</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1151</span>:     if input_type == 'dataframe':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1151,0,<span class='error_goto'>__PYX_ERR(0, 1151, __pyx_L1_error)</span>)
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_input_type, __pyx_n_u_dataframe, Py_EQ)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1151, __pyx_L1_error)</span>
  if (__pyx_t_3) {
/*  */
  }
</pre><pre class="cython line score-146" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1152</span>:         return pd.DataFrame({feature: probs for feature, probs in zip(</pre>
<pre class='cython code score-146 '>    <span class='trace'>__Pyx_TraceLine</span>(1152,0,<span class='error_goto'>__PYX_ERR(0, 1152, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1152, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1152, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    { /* enter inner scope */
      __pyx_t_1 = <span class='py_c_api'>PyDict_New</span>();<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1152, __pyx_L12_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(1153,0,<span class='error_goto'>__PYX_ERR(0, 1153, __pyx_L12_error)</span>)
      __pyx_t_9 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1152, __pyx_L12_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_features);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_features);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_9, 0, __pyx_v_features)) <span class='error_goto'>__PYX_ERR(0, 1152, __pyx_L12_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_smoothed_probs_list);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_smoothed_probs_list);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_9, 1, __pyx_v_smoothed_probs_list)) <span class='error_goto'>__PYX_ERR(0, 1152, __pyx_L12_error)</span>;
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(1152,0,<span class='error_goto'>__PYX_ERR(0, 1152, __pyx_L12_error)</span>)
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_zip, __pyx_t_9, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1152, __pyx_L12_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_5)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_5)) {
        __pyx_t_9 = __pyx_t_5; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
        __pyx_t_4 = 0;
        __pyx_t_7 = NULL;
      } else {
        __pyx_t_4 = -1; __pyx_t_9 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1152, __pyx_L12_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
        __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1152, __pyx_L12_error)</span>
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      for (;;) {
        if (likely(!__pyx_t_7)) {
          if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_9))) {
            {
              Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_9);
              #if !CYTHON_ASSUME_SAFE_MACROS
              if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1152, __pyx_L12_error)</span>
              #endif
              if (__pyx_t_4 &gt;= __pyx_temp) break;
            }
            #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
            __pyx_t_5 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_9, __pyx_t_4); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5); __pyx_t_4++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1152, __pyx_L12_error)</span>
            #else
            __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_9, __pyx_t_4); __pyx_t_4++;<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1152, __pyx_L12_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
            #endif
          } else {
            {
              Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_9);
              #if !CYTHON_ASSUME_SAFE_MACROS
              if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1152, __pyx_L12_error)</span>
              #endif
              if (__pyx_t_4 &gt;= __pyx_temp) break;
            }
            #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
            __pyx_t_5 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_9, __pyx_t_4); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5); __pyx_t_4++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1152, __pyx_L12_error)</span>
            #else
            __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_9, __pyx_t_4); __pyx_t_4++;<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1152, __pyx_L12_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
            #endif
          }
        } else {
          __pyx_t_5 = __pyx_t_7(__pyx_t_9);
          if (unlikely(!__pyx_t_5)) {
            PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
            if (exc_type) {
              if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
              else <span class='error_goto'>__PYX_ERR(0, 1152, __pyx_L12_error)</span>
            }
            break;
          }
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        }
        if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_5))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_5))) {
          PyObject* sequence = __pyx_t_5;
          Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
          if (unlikely(size != 2)) {
            if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
            else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
            <span class='error_goto'>__PYX_ERR(0, 1152, __pyx_L12_error)</span>
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
            __pyx_t_8 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
            __pyx_t_10 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
          } else {
            __pyx_t_8 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
            __pyx_t_10 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
          }
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_10);
          #else
          __pyx_t_8 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1152, __pyx_L12_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
          __pyx_t_10 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1152, __pyx_L12_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
          #endif
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        } else {
          Py_ssize_t index = -1;
          __pyx_t_13 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 1152, __pyx_L12_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_13);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
          __pyx_t_14 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_13);
          index = 0; __pyx_t_8 = __pyx_t_14(__pyx_t_13); if (unlikely(!__pyx_t_8)) goto __pyx_L15_unpacking_failed;
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
          index = 1; __pyx_t_10 = __pyx_t_14(__pyx_t_13); if (unlikely(!__pyx_t_10)) goto __pyx_L15_unpacking_failed;
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
          if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_14(__pyx_t_13), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1152, __pyx_L12_error)</span>
          __pyx_t_14 = NULL;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
          goto __pyx_L16_unpacking_done;
          __pyx_L15_unpacking_failed:;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
          __pyx_t_14 = NULL;
          if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
          <span class='error_goto'>__PYX_ERR(0, 1152, __pyx_L12_error)</span>
          __pyx_L16_unpacking_done:;
        }
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_8genexpr3__pyx_v_feature, __pyx_t_8);
        __pyx_t_8 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_8genexpr3__pyx_v_probs, __pyx_t_10);
        __pyx_t_10 = 0;
        if (unlikely(<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, (PyObject*)__pyx_8genexpr3__pyx_v_feature, (PyObject*)__pyx_8genexpr3__pyx_v_probs))) <span class='error_goto'>__PYX_ERR(0, 1152, __pyx_L12_error)</span>
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr3__pyx_v_feature); __pyx_8genexpr3__pyx_v_feature = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr3__pyx_v_probs); __pyx_8genexpr3__pyx_v_probs = 0;
      goto __pyx_L18_exit_scope;
      __pyx_L12_error:;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr3__pyx_v_feature); __pyx_8genexpr3__pyx_v_feature = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr3__pyx_v_probs); __pyx_8genexpr3__pyx_v_probs = 0;
      goto __pyx_L1_error;
      __pyx_L18_exit_scope:;
    } /* exit inner scope */
    __pyx_t_9 = NULL;
    __pyx_t_11 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
      __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
      if (likely(__pyx_t_9)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
        __pyx_t_11 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_9, __pyx_t_1};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_11, 1+__pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1152, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    __pyx_r = __pyx_t_2;
    __pyx_t_2 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1153</span>:             features, smoothed_probs_list)})</pre>
<pre class="cython line score-0">&#xA0;<span class="">1154</span>:     else:</pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1155</span>:         return np.column_stack(smoothed_probs_list)</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(1155,0,<span class='error_goto'>__PYX_ERR(0, 1155, __pyx_L1_error)</span>)
  /*else*/ {
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1155, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_column_stack);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1155, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = NULL;
    __pyx_t_11 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_11 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_v_smoothed_probs_list};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_11, 1+__pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1155, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_r = __pyx_t_2;
    __pyx_t_2 = 0;
    goto __pyx_L0;
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">1156</span>: </pre>
<pre class="cython line score-110" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1157</span>: def evaluate_model(</pre>
<pre class='cython code score-110 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_21evaluate_model(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_20evaluate_model, "\n    Evaluates a predictive model's performance or the effectiveness of predictions \n    using a specified scoring metric.\n\n    Parameters\n    ----------\n    model : Callable, optional\n        A machine learning model that implements fit and predict methods.\n        Required if `y_pred` is not provided.\n    X : np.ndarray or pd.DataFrame, optional\n        Training data features. Required if `model` is provided and `y_pred` is None.\n    Xt : np.ndarray or pd.DataFrame, optional\n        Test data features. Required if `model` is provided and `y_pred` is None.\n    y : np.ndarray or pd.Series, optional\n        Training data labels. Required if `model` is provided and `y_pred` is None.\n    yt : np.ndarray or pd.Series, optional\n        Test data labels. Required if `eval` is True.\n    y_pred : np.ndarray or pd.Series, optional\n        Predictions for test data. Required if `model` is None.\n    scorer : str or Callable, default='accuracy'\n        The scoring metric name or a scorer callable object/function with signature \n        scorer(y_true, y_pred, **kws). \n    eval : bool, default=False\n        If True, performs evaluation using `scorer` on `yt` and `y_pred`.\n    **kws : Any\n        Additional keyword arguments to pass to the scoring function.\n\n    Returns\n    -------\n    predictions : np.ndarray or pd.Series\n        The predicted labels or probabilities.\n    score : float, optional\n        The score of the predictions based on `scorer`. Only returned if `eval` is True.\n\n    Raises\n    ------\n    ValueError\n        If required arguments are missing or if the provided arguments are invalid.\n    TypeError\n        If `scorer` is not a recognized scoring function.\n\n    Examples\n    --------\n    &gt;&gt;&gt; from sklearn.datasets import load_iris\n    &gt;&gt;&gt; from sklearn.model_selection import train_test_split\n    &gt;&gt;&gt; from sklearn.linear_model import LogisticRegression\n    &gt;&gt;&gt; from gofast.tools.mlutils import evaluate_model\n    &gt;&gt;&gt; iris ="" load_iris()\n    &gt;&gt;&gt; X, y = iris.data, iris.target\n    &gt;&gt;&gt; X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2)\n    &gt;&gt;&gt; model = LogisticRegression()\n    &gt;&gt;&gt; y_pred, score = evaluate_model(model=model, X=X_train, Xt=X_test,\n    ...                                y=y_train, yt=y_test, eval=True)\n    &gt;&gt;&gt; print(f'Score: {score:.2f}')\n    \n    &gt;&gt;&gt; # Providing predictions directly\n    &gt;&gt;&gt; y_pred, _ = evaluate_model(y_pred=y_pred, yt=y_test, scorer='accuracy',\n    ...                            eval=True)\n    &gt;&gt;&gt; print(f'Accuracy: {score:.2f}')\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_21evaluate_model = {"evaluate_model", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_21evaluate_model, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_20evaluate_model};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_21evaluate_model(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_model = 0;
  PyObject *__pyx_v_X = 0;
  PyObject *__pyx_v_Xt = 0;
  PyObject *__pyx_v_y = 0;
  PyObject *__pyx_v_yt = 0;
  PyObject *__pyx_v_y_pred = 0;
  PyObject *__pyx_v_scorer = 0;
  PyObject *__pyx_v_eval = 0;
  PyObject *__pyx_v_kws = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("evaluate_model (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  __pyx_v_kws = <span class='py_c_api'>PyDict_New</span>(); if (unlikely(!__pyx_v_kws)) return NULL;
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_v_kws);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_model,&amp;__pyx_n_s_X,&amp;__pyx_n_s_Xt,&amp;__pyx_n_s_y,&amp;__pyx_n_s_yt,&amp;__pyx_n_s_y_pred,&amp;__pyx_n_s_scorer,&amp;__pyx_n_s_eval,0};
  PyObject* values[8] = {0,0,0,0,0,0,0,0};
/*  */
  /* function exit code */
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_kws);
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_20evaluate_model(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_model, PyObject *__pyx_v_X, PyObject *__pyx_v_Xt, PyObject *__pyx_v_y, PyObject *__pyx_v_yt, PyObject *__pyx_v_y_pred, PyObject *__pyx_v_scorer, PyObject *__pyx_v_eval, PyObject *__pyx_v_kws) {
  PyObject *__pyx_v_fetch_scorers = NULL;
  PyObject *__pyx_v_score = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__26)
  <span class='trace'>__Pyx_TraceCall</span>("evaluate_model", __pyx_f[0], 1157, 0, <span class='error_goto'>__PYX_ERR(0, 1157, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y_pred);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_scorer);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.evaluate_model", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_fetch_scorers);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_score);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_X);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_y_pred);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_scorer);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__147 = <span class='py_c_api'>PyTuple_Pack</span>(11, __pyx_n_s_model, __pyx_n_s_X, __pyx_n_s_Xt, __pyx_n_s_y, __pyx_n_s_yt, __pyx_n_s_y_pred, __pyx_n_s_scorer, __pyx_n_s_eval, __pyx_n_s_kws, __pyx_n_s_fetch_scorers, __pyx_n_s_score);<span class='error_goto'> if (unlikely(!__pyx_tuple__147)) __PYX_ERR(0, 1157, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__147);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__147);
  __pyx_codeobj__26 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(8, 0, 0, 11, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__147, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_evaluate_model, 1157, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__26)) __PYX_ERR(0, 1157, __pyx_L1_error)</span>
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(1157,0,<span class='error_goto'>__PYX_ERR(0, 1157, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(10);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1157, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_model, __pyx_kp_s_Optional__F_NDArray_NDArray_NDAr) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1157, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_X, __pyx_kp_s_Optional_Union_NDArray_DataFrame) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1157, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_Xt, __pyx_kp_s_Optional_Union_NDArray_DataFrame) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1157, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_y, __pyx_kp_s_Optional_Union_NDArray_Series) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1157, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_yt, __pyx_kp_s_Optional_Union_NDArray_Series) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1157, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_y_pred, __pyx_kp_s_Optional_Union_NDArray_Series) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1157, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_scorer, __pyx_kp_s_Union_str__F_NDArray_NDArray_flo) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1157, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_eval, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1157, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_kws, __pyx_n_s_Any) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1157, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_return, __pyx_kp_s_Union_Tuple_Optional_Union_NDArr) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1157, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_21evaluate_model, 0, __pyx_n_s_evaluate_model, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__26));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1157, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_4, __pyx_tuple__148);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_4, __pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_evaluate_model, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1157, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_tuple__148 = <span class='py_c_api'>PyTuple_Pack</span>(8, Py_None, Py_None, Py_None, Py_None, Py_None, Py_None, ((PyObject*)__pyx_n_u_accuracy_score), ((PyObject *)Py_False));<span class='error_goto'> if (unlikely(!__pyx_tuple__148)) __PYX_ERR(0, 1157, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__148);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__148);
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1158</span>:     model: Optional[_F[[NDArray, NDArray], NDArray]] = None,</pre>
<pre class='cython code score-2 '>    values[0] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1159</span>:     X: Optional[Union[NDArray, DataFrame]] = None,</pre>
<pre class='cython code score-2 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1160</span>:     Xt: Optional[Union[NDArray, DataFrame]] = None,</pre>
<pre class='cython code score-2 '>    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1161</span>:     y: Optional[Union[NDArray, Series]] = None,</pre>
<pre class='cython code score-2 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1162</span>:     yt: Optional[Union[NDArray, Series]] = None,</pre>
<pre class='cython code score-2 '>    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1163</span>:     y_pred: Optional[Union[NDArray, Series]] = None,</pre>
<pre class='cython code score-4 '>    values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_n_u_accuracy_score)));
</pre><pre class="cython line score-0">&#xA0;<span class="">1164</span>:     scorer: Union[str, _F[[NDArray, NDArray], float]] = 'accuracy_score',</pre>
<pre class="cython line score-117" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1165</span>:     eval: bool = False,</pre>
<pre class='cython code score-117 '>    values[7] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  8: values[7] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 7);
        CYTHON_FALLTHROUGH;
        case  7: values[6] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 6);
        CYTHON_FALLTHROUGH;
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_model);
          if (value) { values[0] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1157, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_X);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1157, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_Xt);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1157, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_y);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1157, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_yt);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1157, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  5:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_y_pred);
          if (value) { values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1157, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  6:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_scorer);
          if (value) { values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1157, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  7:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_eval);
          if (value) { values[7] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1157, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, __pyx_v_kws, values + 0, kwd_pos_args, "evaluate_model") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1157, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  8: values[7] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 7);
        CYTHON_FALLTHROUGH;
        case  7: values[6] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 6);
        CYTHON_FALLTHROUGH;
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_model = values[0];
    __pyx_v_X = values[1];
    __pyx_v_Xt = values[2];
    __pyx_v_y = values[3];
    __pyx_v_yt = values[4];
    __pyx_v_y_pred = values[5];
    __pyx_v_scorer = values[6];
    __pyx_v_eval = values[7];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("evaluate_model", 0, 0, 8, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1157, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_kws); __pyx_v_kws = 0;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.evaluate_model", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_20evaluate_model(__pyx_self, __pyx_v_model, __pyx_v_X, __pyx_v_Xt, __pyx_v_y, __pyx_v_yt, __pyx_v_y_pred, __pyx_v_scorer, __pyx_v_eval, __pyx_v_kws);
</pre><pre class="cython line score-0">&#xA0;<span class="">1166</span>:     **kws: Any</pre>
<pre class="cython line score-0">&#xA0;<span class="">1167</span>: ) -&gt; Union[Tuple[Optional[Union[NDArray, Series]], Optional[float]],</pre>
<pre class="cython line score-0">&#xA0;<span class="">1168</span>:            Optional[Union[NDArray, Series]]]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">1169</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">1170</span>:     Evaluates a predictive model's performance or the effectiveness of predictions</pre>
<pre class="cython line score-0">&#xA0;<span class="">1171</span>:     using a specified scoring metric.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1172</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1173</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">1174</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1175</span>:     model : Callable, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1176</span>:         A machine learning model that implements fit and predict methods.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1177</span>:         Required if `y_pred` is not provided.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1178</span>:     X : np.ndarray or pd.DataFrame, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1179</span>:         Training data features. Required if `model` is provided and `y_pred` is None.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1180</span>:     Xt : np.ndarray or pd.DataFrame, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1181</span>:         Test data features. Required if `model` is provided and `y_pred` is None.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1182</span>:     y : np.ndarray or pd.Series, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1183</span>:         Training data labels. Required if `model` is provided and `y_pred` is None.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1184</span>:     yt : np.ndarray or pd.Series, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1185</span>:         Test data labels. Required if `eval` is True.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1186</span>:     y_pred : np.ndarray or pd.Series, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1187</span>:         Predictions for test data. Required if `model` is None.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1188</span>:     scorer : str or Callable, default='accuracy'</pre>
<pre class="cython line score-0">&#xA0;<span class="">1189</span>:         The scoring metric name or a scorer callable object/function with signature</pre>
<pre class="cython line score-0">&#xA0;<span class="">1190</span>:         scorer(y_true, y_pred, **kws).</pre>
<pre class="cython line score-0">&#xA0;<span class="">1191</span>:     eval : bool, default=False</pre>
<pre class="cython line score-0">&#xA0;<span class="">1192</span>:         If True, performs evaluation using `scorer` on `yt` and `y_pred`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1193</span>:     **kws : Any</pre>
<pre class="cython line score-0">&#xA0;<span class="">1194</span>:         Additional keyword arguments to pass to the scoring function.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1195</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1196</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">1197</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1198</span>:     predictions : np.ndarray or pd.Series</pre>
<pre class="cython line score-0">&#xA0;<span class="">1199</span>:         The predicted labels or probabilities.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1200</span>:     score : float, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1201</span>:         The score of the predictions based on `scorer`. Only returned if `eval` is True.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1202</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1203</span>:     Raises</pre>
<pre class="cython line score-0">&#xA0;<span class="">1204</span>:     ------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1205</span>:     ValueError</pre>
<pre class="cython line score-0">&#xA0;<span class="">1206</span>:         If required arguments are missing or if the provided arguments are invalid.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1207</span>:     TypeError</pre>
<pre class="cython line score-0">&#xA0;<span class="">1208</span>:         If `scorer` is not a recognized scoring function.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1209</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1210</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">1211</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1212</span>:     &gt;&gt;&gt; from sklearn.datasets import load_iris</pre>
<pre class="cython line score-0">&#xA0;<span class="">1213</span>:     &gt;&gt;&gt; from sklearn.model_selection import train_test_split</pre>
<pre class="cython line score-0">&#xA0;<span class="">1214</span>:     &gt;&gt;&gt; from sklearn.linear_model import LogisticRegression</pre>
<pre class="cython line score-0">&#xA0;<span class="">1215</span>:     &gt;&gt;&gt; from gofast.tools.mlutils import evaluate_model</pre>
<pre class="cython line score-0">&#xA0;<span class="">1216</span>:     &gt;&gt;&gt; iris = load_iris()</pre>
<pre class="cython line score-0">&#xA0;<span class="">1217</span>:     &gt;&gt;&gt; X, y = iris.data, iris.target</pre>
<pre class="cython line score-0">&#xA0;<span class="">1218</span>:     &gt;&gt;&gt; X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1219</span>:     &gt;&gt;&gt; model = LogisticRegression()</pre>
<pre class="cython line score-0">&#xA0;<span class="">1220</span>:     &gt;&gt;&gt; y_pred, score = evaluate_model(model=model, X=X_train, Xt=X_test,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1221</span>:     ...                                y=y_train, yt=y_test, eval=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1222</span>:     &gt;&gt;&gt; print(f'Score: {score:.2f}')</pre>
<pre class="cython line score-0">&#xA0;<span class="">1223</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1224</span>:     &gt;&gt;&gt; # Providing predictions directly</pre>
<pre class="cython line score-0">&#xA0;<span class="">1225</span>:     &gt;&gt;&gt; y_pred, _ = evaluate_model(y_pred=y_pred, yt=y_test, scorer='accuracy',</pre>
<pre class="cython line score-0">&#xA0;<span class="">1226</span>:     ...                            eval=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1227</span>:     &gt;&gt;&gt; print(f'Accuracy: {score:.2f}')</pre>
<pre class="cython line score-0">&#xA0;<span class="">1228</span>:     """</pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1229</span>:     from ..metrics import fetch_scorers</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(1229,0,<span class='error_goto'>__PYX_ERR(0, 1229, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1229, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_fetch_scorers);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_fetch_scorers);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_n_s_fetch_scorers)) <span class='error_goto'>__PYX_ERR(0, 1229, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_metrics, __pyx_t_1, 2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1229, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_fetch_scorers);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1229, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
  __pyx_v_fetch_scorers = __pyx_t_1;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1230</span>: </pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1231</span>:     if y_pred is None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(1231,0,<span class='error_goto'>__PYX_ERR(0, 1231, __pyx_L1_error)</span>)
  __pyx_t_3 = (__pyx_v_y_pred == Py_None);
  if (__pyx_t_3) {
/*  */
  }
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1232</span>:         if model is None or X is None or y is None or Xt is None:</pre>
<pre class='cython code score-0 '>    <span class='trace'>__Pyx_TraceLine</span>(1232,0,<span class='error_goto'>__PYX_ERR(0, 1232, __pyx_L1_error)</span>)
    __pyx_t_4 = (__pyx_v_model == Py_None);
    if (!__pyx_t_4) {
    } else {
      __pyx_t_3 = __pyx_t_4;
      goto __pyx_L5_bool_binop_done;
    }
    __pyx_t_4 = (__pyx_v_X == Py_None);
    if (!__pyx_t_4) {
    } else {
      __pyx_t_3 = __pyx_t_4;
      goto __pyx_L5_bool_binop_done;
    }
    __pyx_t_4 = (__pyx_v_y == Py_None);
    if (!__pyx_t_4) {
    } else {
      __pyx_t_3 = __pyx_t_4;
      goto __pyx_L5_bool_binop_done;
    }
    __pyx_t_4 = (__pyx_v_Xt == Py_None);
    __pyx_t_3 = __pyx_t_4;
    __pyx_L5_bool_binop_done:;
    if (unlikely(__pyx_t_3)) {
/*  */
    }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1233</span>:             raise ValueError("Model, X, y, and Xt must be provided when y_pred"</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(1233,0,<span class='error_goto'>__PYX_ERR(0, 1233, __pyx_L1_error)</span>)
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__27, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1233, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='error_goto'>__PYX_ERR(0, 1233, __pyx_L1_error)</span>
/*  */
  __pyx_tuple__27 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Model_X_y_and_Xt_must_be_provide);<span class='error_goto'> if (unlikely(!__pyx_tuple__27)) __PYX_ERR(0, 1233, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__27);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__27);
</pre><pre class="cython line score-0">&#xA0;<span class="">1234</span>:                              " is not provided.")</pre>
<pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1235</span>:         if not hasattr(model, 'fit') or not hasattr(model, 'predict'):</pre>
<pre class='cython code score-4 '>    <span class='trace'>__Pyx_TraceLine</span>(1235,0,<span class='error_goto'>__PYX_ERR(0, 1235, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_HasAttr</span>(__pyx_v_model, __pyx_n_u_fit);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(0, 1235, __pyx_L1_error)</span>
    __pyx_t_5 = (!__pyx_t_4);
    if (!__pyx_t_5) {
    } else {
      __pyx_t_3 = __pyx_t_5;
      goto __pyx_L10_bool_binop_done;
    }
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_HasAttr</span>(__pyx_v_model, __pyx_n_u_predict);<span class='error_goto'> if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 1235, __pyx_L1_error)</span>
    __pyx_t_4 = (!__pyx_t_5);
    __pyx_t_3 = __pyx_t_4;
    __pyx_L10_bool_binop_done:;
    if (unlikely(__pyx_t_3)) {
/*  */
    }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1236</span>:             raise TypeError("The provided model does not implement fit and "</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(1236,0,<span class='error_goto'>__PYX_ERR(0, 1236, __pyx_L1_error)</span>)
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_TypeError, __pyx_tuple__28, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1236, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='error_goto'>__PYX_ERR(0, 1236, __pyx_L1_error)</span>
/*  */
  __pyx_tuple__28 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_The_provided_model_does_not_impl);<span class='error_goto'> if (unlikely(!__pyx_tuple__28)) __PYX_ERR(0, 1236, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__28);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__28);
</pre><pre class="cython line score-0">&#xA0;<span class="">1237</span>:                             "predict methods.")</pre>
<pre class="cython line score-0">&#xA0;<span class="">1238</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1239</span>:         # Check model if is fitted</pre>
<pre class="cython line score-27" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1240</span>:         try: check_is_fitted(model)</pre>
<pre class='cython code score-27 '>    <span class='trace'>__Pyx_TraceLine</span>(1240,0,<span class='error_goto'>__PYX_ERR(0, 1240, __pyx_L1_error)</span>)
    {
      /*try:*/ {
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_check_is_fitted);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1240, __pyx_L12_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        __pyx_t_9 = NULL;
        __pyx_t_10 = 0;
        #if CYTHON_UNPACK_METHODS
        if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
          __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
          if (likely(__pyx_t_9)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
            __pyx_t_10 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_9, __pyx_v_model};
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_10, 1+__pyx_t_10);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
          if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1240, __pyx_L12_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        }
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      goto __pyx_L17_try_end;
      __pyx_L12_error:;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
/*  */
      __pyx_L14_except_error:;
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_6);
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_7);
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_8);
      <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_6, __pyx_t_7, __pyx_t_8);
      goto __pyx_L1_error;
      __pyx_L13_exception_handled:;
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_6);
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_7);
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_8);
      <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_6, __pyx_t_7, __pyx_t_8);
      __pyx_L17_try_end:;
    }
</pre><pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1241</span>:         except:</pre>
<pre class='cython code score-4 '>      <span class='trace'>__Pyx_TraceLine</span>(1241,0,<span class='error_goto'>__PYX_ERR(0, 1241, __pyx_L14_except_error)</span>)
      /*except:*/ {
        <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.evaluate_model", __pyx_clineno, __pyx_lineno, __pyx_filename);
        if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_2, &amp;__pyx_t_1, &amp;__pyx_t_9) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1241, __pyx_L14_except_error)</span>
        <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_2);
        <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
        <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_9);
</pre><pre class="cython line score-0">&#xA0;<span class="">1242</span>:             # If the model is not fitted, then fit it with X and y</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1243</span>:             if X is not None and y is not None:</pre>
<pre class='cython code score-0 '>        <span class='trace'>__Pyx_TraceLine</span>(1243,0,<span class='error_goto'>__PYX_ERR(0, 1243, __pyx_L14_except_error)</span>)
        __pyx_t_4 = (__pyx_v_X != Py_None);
        if (__pyx_t_4) {
        } else {
          __pyx_t_3 = __pyx_t_4;
          goto __pyx_L21_bool_binop_done;
        }
        __pyx_t_4 = (__pyx_v_y != Py_None);
        __pyx_t_3 = __pyx_t_4;
        __pyx_L21_bool_binop_done:;
        if (likely(__pyx_t_3)) {
/*  */
          goto __pyx_L20;
        }
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1244</span>:                 if hasattr(X, 'ndim') and X.ndim == 1:</pre>
<pre class='cython code score-7 '>          <span class='trace'>__Pyx_TraceLine</span>(1244,0,<span class='error_goto'>__PYX_ERR(0, 1244, __pyx_L14_except_error)</span>)
          __pyx_t_4 = <span class='pyx_c_api'>__Pyx_HasAttr</span>(__pyx_v_X, __pyx_n_u_ndim);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(0, 1244, __pyx_L14_except_error)</span>
          if (__pyx_t_4) {
          } else {
            __pyx_t_3 = __pyx_t_4;
            goto __pyx_L24_bool_binop_done;
          }
          __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_ndim);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1244, __pyx_L14_except_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
          __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PyInt_BoolEqObjC</span>(__pyx_t_11, __pyx_int_1, 1, 0)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1244, __pyx_L14_except_error)</span>
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
          __pyx_t_3 = __pyx_t_4;
          __pyx_L24_bool_binop_done:;
          if (__pyx_t_3) {
/*  */
          }
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1245</span>:                     X = X.reshape(-1, 1)</pre>
<pre class='cython code score-11 '>            <span class='trace'>__Pyx_TraceLine</span>(1245,0,<span class='error_goto'>__PYX_ERR(0, 1245, __pyx_L14_except_error)</span>)
            __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_reshape);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1245, __pyx_L14_except_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
            __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_11, __pyx_tuple__29, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1245, __pyx_L14_except_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_X, __pyx_t_12);
            __pyx_t_12 = 0;
/*  */
  __pyx_tuple__29 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_int_neg_1, __pyx_int_1);<span class='error_goto'> if (unlikely(!__pyx_tuple__29)) __PYX_ERR(0, 1245, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__29);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__29);
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1246</span>:                 model.fit(X, y)</pre>
<pre class='cython code score-17 '>          <span class='trace'>__Pyx_TraceLine</span>(1246,0,<span class='error_goto'>__PYX_ERR(0, 1246, __pyx_L14_except_error)</span>)
          __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_model, __pyx_n_s_fit);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1246, __pyx_L14_except_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
          __pyx_t_13 = NULL;
          __pyx_t_10 = 0;
          #if CYTHON_UNPACK_METHODS
          if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_11))) {
            __pyx_t_13 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_11);
            if (likely(__pyx_t_13)) {
              PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_11);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_13);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
              <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_11, function);
              __pyx_t_10 = 1;
            }
          }
          #endif
          {
            PyObject *__pyx_callargs[3] = {__pyx_t_13, __pyx_v_X, __pyx_v_y};
            __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_11, __pyx_callargs+1-__pyx_t_10, 2+__pyx_t_10);
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
            if (unlikely(!__pyx_t_12)) <span class='error_goto'>__PYX_ERR(0, 1246, __pyx_L14_except_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
          }
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1247</span>:             else:</pre>
<pre class="cython line score-13" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1248</span>:                 raise ValueError("Model is not fitted, and no training data"</pre>
<pre class='cython code score-13 '>        <span class='trace'>__Pyx_TraceLine</span>(1248,0,<span class='error_goto'>__PYX_ERR(0, 1248, __pyx_L14_except_error)</span>)
        /*else*/ {
          __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__30, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1248, __pyx_L14_except_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
          <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_12, 0, 0, 0);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
          <span class='error_goto'>__PYX_ERR(0, 1248, __pyx_L14_except_error)</span>
        }
        __pyx_L20:;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        goto __pyx_L13_exception_handled;
      }
/*  */
  __pyx_tuple__30 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Model_is_not_fitted_and_no_train);<span class='error_goto'> if (unlikely(!__pyx_tuple__30)) __PYX_ERR(0, 1248, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__30);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__30);
</pre><pre class="cython line score-0">&#xA0;<span class="">1249</span>:                                  " (X, y) were provided.")</pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1250</span>:         y_pred = model.predict(Xt)</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(1250,0,<span class='error_goto'>__PYX_ERR(0, 1250, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_model, __pyx_n_s_predict);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1250, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_2 = NULL;
    __pyx_t_10 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_10 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_Xt};
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_10, 1+__pyx_t_10);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_9)) <span class='error_goto'>__PYX_ERR(0, 1250, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_y_pred, __pyx_t_9);
    __pyx_t_9 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1251</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1252</span>:     if eval:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1252,0,<span class='error_goto'>__PYX_ERR(0, 1252, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_eval); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1252, __pyx_L1_error)</span>
  if (__pyx_t_3) {
/*  */
  }
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1253</span>:         if yt is None:</pre>
<pre class='cython code score-0 '>    <span class='trace'>__Pyx_TraceLine</span>(1253,0,<span class='error_goto'>__PYX_ERR(0, 1253, __pyx_L1_error)</span>)
    __pyx_t_3 = (__pyx_v_yt == Py_None);
    if (unlikely(__pyx_t_3)) {
/*  */
    }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1254</span>:             raise ValueError("yt must be provided when eval is True.")</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(1254,0,<span class='error_goto'>__PYX_ERR(0, 1254, __pyx_L1_error)</span>)
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__31, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1254, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_9, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      <span class='error_goto'>__PYX_ERR(0, 1254, __pyx_L1_error)</span>
/*  */
  __pyx_tuple__31 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_yt_must_be_provided_when_eval_is);<span class='error_goto'> if (unlikely(!__pyx_tuple__31)) __PYX_ERR(0, 1254, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__31);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__31);
</pre><pre class="cython line score-13" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1255</span>:         if not isinstance(scorer, (str, callable)):</pre>
<pre class='cython code score-13 '>    <span class='trace'>__Pyx_TraceLine</span>(1255,0,<span class='error_goto'>__PYX_ERR(0, 1255, __pyx_L1_error)</span>)
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_GetBuiltinName</span>(__pyx_n_s_callable);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1255, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_4 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_scorer); 
    if (!__pyx_t_4) {
    } else {
      __pyx_t_3 = __pyx_t_4;
      goto __pyx_L29_bool_binop_done;
    }
    __pyx_t_4 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_scorer, __pyx_t_9); 
    __pyx_t_3 = __pyx_t_4;
    __pyx_L29_bool_binop_done:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    __pyx_t_4 = (!__pyx_t_3);
    if (unlikely(__pyx_t_4)) {
/*  */
    }
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1256</span>:             raise TypeError("scorer must be a string or a callable,"</pre>
<pre class='cython code score-16 '>      <span class='trace'>__Pyx_TraceLine</span>(1256,0,<span class='error_goto'>__PYX_ERR(0, 1256, __pyx_L1_error)</span>)
      __pyx_t_9 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1256, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_t_14 = 0;
      __pyx_t_15 = 127;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_scorer_must_be_a_string_or_a_cal);
      __pyx_t_14 += 43;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_scorer_must_be_a_string_or_a_cal);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_9, 0, __pyx_kp_u_scorer_must_be_a_string_or_a_cal);
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(1256,0,<span class='error_goto'>__PYX_ERR(0, 1256, __pyx_L1_error)</span>)
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_9, 3, __pyx_t_14, __pyx_t_15);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1256, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_TypeError, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1256, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_9, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      <span class='error_goto'>__PYX_ERR(0, 1256, __pyx_L1_error)</span>
</pre><pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1257</span>:                             f" got {type(scorer).__name__}.")</pre>
<pre class='cython code score-14 '>      <span class='trace'>__Pyx_TraceLine</span>(1257,0,<span class='error_goto'>__PYX_ERR(0, 1257, __pyx_L1_error)</span>)
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(((PyObject *)Py_TYPE(__pyx_v_scorer)), __pyx_n_s_name_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1257, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_t_1, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1257, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_15 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) &gt; __pyx_t_15) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) : __pyx_t_15;
      __pyx_t_14 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_2);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_9, 1, __pyx_t_2);
      __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__3);
      __pyx_t_14 += 1;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__3);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_9, 2, __pyx_kp_u__3);
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1258</span>:         if isinstance (scorer, str):</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(1258,0,<span class='error_goto'>__PYX_ERR(0, 1258, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_scorer); 
    if (__pyx_t_4) {
/*  */
    }
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1259</span>:             scorer= fetch_scorers (scorer)</pre>
<pre class='cython code score-16 '>      <span class='trace'>__Pyx_TraceLine</span>(1259,0,<span class='error_goto'>__PYX_ERR(0, 1259, __pyx_L1_error)</span>)
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_fetch_scorers);
      __pyx_t_2 = __pyx_v_fetch_scorers; __pyx_t_1 = NULL;
      __pyx_t_10 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
        __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
        if (likely(__pyx_t_1)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
          __pyx_t_10 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_v_scorer};
        __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_10, 1+__pyx_t_10);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        if (unlikely(!__pyx_t_9)) <span class='error_goto'>__PYX_ERR(0, 1259, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_scorer, __pyx_t_9);
      __pyx_t_9 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1260</span>:         # score_func = get_scorer(scorer, include_sklearn= True )</pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1261</span>:         score = scorer(yt, y_pred, **kws)</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(1261,0,<span class='error_goto'>__PYX_ERR(0, 1261, __pyx_L1_error)</span>)
    __pyx_t_9 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1261, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_yt);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_yt);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_9, 0, __pyx_v_yt)) <span class='error_goto'>__PYX_ERR(0, 1261, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y_pred);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_y_pred);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_9, 1, __pyx_v_y_pred)) <span class='error_goto'>__PYX_ERR(0, 1261, __pyx_L1_error)</span>;
    __pyx_t_2 = <span class='py_c_api'>PyDict_Copy</span>(__pyx_v_kws);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1261, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_v_scorer, __pyx_t_9, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1261, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_v_score = __pyx_t_1;
    __pyx_t_1 = 0;
</pre><pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1262</span>:         return y_pred, score</pre>
<pre class='cython code score-12 '>    <span class='trace'>__Pyx_TraceLine</span>(1262,0,<span class='error_goto'>__PYX_ERR(0, 1262, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1262, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y_pred);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_y_pred);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_y_pred)) <span class='error_goto'>__PYX_ERR(0, 1262, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_score);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_score);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_v_score)) <span class='error_goto'>__PYX_ERR(0, 1262, __pyx_L1_error)</span>;
    __pyx_r = __pyx_t_1;
    __pyx_t_1 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1263</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1264</span>:     return y_pred</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1264,0,<span class='error_goto'>__PYX_ERR(0, 1264, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y_pred);
  __pyx_r = __pyx_v_y_pred;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1265</span>: </pre>
<pre class="cython line score-89" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1266</span>: def get_correlated_features(</pre>
<pre class='cython code score-89 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_23get_correlated_features(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_22get_correlated_features, "Find the correlated features/columns in the dataframe. \n    \n    Indeed, highly correlated columns don't add value and can throw off \n    features importance and interpretation of regression coefficients. If we  \n    had correlated columns, choose to remove either the columns from  \n    level_0 or level_1 from the features data is a good choice. \n    \n    Parameters \n    -----------\n    data: Dataframe or shape (M, N) from :class:`pandas.DataFrame` \n        Dataframe containing samples M  and features N\n    corr: str, ['pearson'|'spearman'|'covariance']\n        Method of correlation to perform. Note that the 'person' and \n        'covariance' don't support string value. If such kind of data \n        is given, turn the `corr` to `spearman`. *default* is ``pearson``\n        \n    threshold: int, default is ``0.95``\n        the value from which can be considered as a correlated data. Should not \n        be greater than 1. \n        \n    fmt: bool, default {``False``}\n        format the correlated dataframe values \n        \n    Returns \n    ---------\n    df: `pandas.DataFrame`\n        Dataframe with cilumns equals to [level_0, level_1, pearson]\n        \n    Examples\n    --------\n    &gt;&gt;&gt; from gofast.tools.mlutils import get_correlated_features \n    &gt;&gt;&gt; df_corr = get_correlated_features (data , corr='spearman',\n                                     fmt=None, threshold=.95\n                                     )\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_23get_correlated_features = {"get_correlated_features", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_23get_correlated_features, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_22get_correlated_features};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_23get_correlated_features(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_data = 0;
  PyObject *__pyx_v_corr = 0;
  double __pyx_v_threshold;
  PyObject *__pyx_v_fmt = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("get_correlated_features (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_data,&amp;__pyx_n_s_corr,&amp;__pyx_n_s_threshold,&amp;__pyx_n_s_fmt,0};
  PyObject* values[4] = {0,0,0,0};
    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject*)((PyObject*)__pyx_n_u_pearson)));
/*  */
  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
static PyObject *__pyx_pf_6gofast_5tools_7mlutils_22get_correlated_features(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_data, PyObject *__pyx_v_corr, double __pyx_v_threshold, PyObject *__pyx_v_fmt) {
  struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_1_get_correlated_features *__pyx_cur_scope;
  PyObject *__pyx_v_th = NULL;
  PyObject *__pyx_v_c_df = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__32)
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_1_get_correlated_features *)__pyx_tp_new_6gofast_5tools_7mlutils___pyx_scope_struct_1_get_correlated_features(__pyx_ptype_6gofast_5tools_7mlutils___pyx_scope_struct_1_get_correlated_features, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_1_get_correlated_features *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 1266, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  <span class='trace'>__Pyx_TraceCall</span>("get_correlated_features", __pyx_f[0], 1266, 0, <span class='error_goto'>__PYX_ERR(0, 1266, __pyx_L1_error)</span>);
  __pyx_cur_scope-&gt;__pyx_v_threshold = __pyx_v_threshold;
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_14);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_17);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_18);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_19);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.get_correlated_features", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_th);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_c_df);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__149 = <span class='py_c_api'>PyTuple_Pack</span>(7, __pyx_n_s_data, __pyx_n_s_corr, __pyx_n_s_threshold, __pyx_n_s_fmt, __pyx_n_s_th, __pyx_n_s_df, __pyx_n_s_c_df);<span class='error_goto'> if (unlikely(!__pyx_tuple__149)) __PYX_ERR(0, 1266, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__149);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__149);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(1266,0,<span class='error_goto'>__PYX_ERR(0, 1266, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1266, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(((PyObject*)__pyx_n_u_pearson));
  <span class='refnanny'>__Pyx_GIVEREF</span>(((PyObject*)__pyx_n_u_pearson));
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, ((PyObject*)__pyx_n_u_pearson))) <span class='error_goto'>__PYX_ERR(0, 1266, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1266, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(((PyObject *)Py_False));
  <span class='refnanny'>__Pyx_GIVEREF</span>(((PyObject *)Py_False));
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 2, ((PyObject *)Py_False))) <span class='error_goto'>__PYX_ERR(0, 1266, __pyx_L1_error)</span>;
  __pyx_t_4 = 0;
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1266, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_data, __pyx_n_s_DataFrame) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1266, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_corr, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1266, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_threshold, __pyx_n_s_float) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1266, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_fmt, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1266, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_return, __pyx_n_s_DataFrame) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1266, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_23get_correlated_features, 0, __pyx_n_s_get_correlated_features, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__32));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1266, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_3, __pyx_t_2);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_3, __pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_get_correlated_features, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1266, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_codeobj__32 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(4, 0, 0, 7, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__149, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_get_correlated_features, 1266, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__32)) __PYX_ERR(0, 1266, __pyx_L1_error)</span>
/*  */
struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_1_get_correlated_features {
  PyObject_HEAD
  PyObject *__pyx_v_df;
  double __pyx_v_threshold;
};

</pre><pre class="cython line score-0">&#xA0;<span class="">1267</span>:     data:DataFrame ,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1268</span>:     corr:str ='pearson',</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1269</span>:     threshold: float=.95 ,</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(1269,0,<span class='error_goto'>__PYX_ERR(0, 1269, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='py_c_api'>PyFloat_FromDouble</span>(((double).95));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1269, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
</pre><pre class="cython line score-76" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1270</span>:     fmt: bool= False</pre>
<pre class='cython code score-76 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1266, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_corr);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1266, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_threshold);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1266, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_fmt);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1266, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "get_correlated_features") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1266, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_data = values[0];
    __pyx_v_corr = ((PyObject*)values[1]);
    if (values[2]) {
      __pyx_v_threshold = __pyx_<span class='py_c_api'>PyFloat_AsDouble</span>(values[2]); if (unlikely((__pyx_v_threshold == (double)-1) &amp;&amp; <span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1269, __pyx_L3_error)</span>
    } else {
      __pyx_v_threshold = ((double)((double).95));
    }
    __pyx_v_fmt = values[3];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("get_correlated_features", 0, 1, 4, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1266, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.get_correlated_features", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_corr), (&amp;PyUnicode_Type), 0, "corr", 1))) <span class='error_goto'>__PYX_ERR(0, 1268, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_22get_correlated_features(__pyx_self, __pyx_v_data, __pyx_v_corr, __pyx_v_threshold, __pyx_v_fmt);
</pre><pre class="cython line score-0">&#xA0;<span class="">1271</span>:     )-&gt; DataFrame:</pre>
<pre class="cython line score-0">&#xA0;<span class="">1272</span>:     """Find the correlated features/columns in the dataframe.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1273</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1274</span>:     Indeed, highly correlated columns don't add value and can throw off</pre>
<pre class="cython line score-0">&#xA0;<span class="">1275</span>:     features importance and interpretation of regression coefficients. If we</pre>
<pre class="cython line score-0">&#xA0;<span class="">1276</span>:     had correlated columns, choose to remove either the columns from</pre>
<pre class="cython line score-0">&#xA0;<span class="">1277</span>:     level_0 or level_1 from the features data is a good choice.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1278</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1279</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">1280</span>:     -----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1281</span>:     data: Dataframe or shape (M, N) from :class:`pandas.DataFrame`</pre>
<pre class="cython line score-0">&#xA0;<span class="">1282</span>:         Dataframe containing samples M  and features N</pre>
<pre class="cython line score-0">&#xA0;<span class="">1283</span>:     corr: str, ['pearson'|'spearman'|'covariance']</pre>
<pre class="cython line score-0">&#xA0;<span class="">1284</span>:         Method of correlation to perform. Note that the 'person' and</pre>
<pre class="cython line score-0">&#xA0;<span class="">1285</span>:         'covariance' don't support string value. If such kind of data</pre>
<pre class="cython line score-0">&#xA0;<span class="">1286</span>:         is given, turn the `corr` to `spearman`. *default* is ``pearson``</pre>
<pre class="cython line score-0">&#xA0;<span class="">1287</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1288</span>:     threshold: int, default is ``0.95``</pre>
<pre class="cython line score-0">&#xA0;<span class="">1289</span>:         the value from which can be considered as a correlated data. Should not</pre>
<pre class="cython line score-0">&#xA0;<span class="">1290</span>:         be greater than 1.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1291</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1292</span>:     fmt: bool, default {``False``}</pre>
<pre class="cython line score-0">&#xA0;<span class="">1293</span>:         format the correlated dataframe values</pre>
<pre class="cython line score-0">&#xA0;<span class="">1294</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1295</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">1296</span>:     ---------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1297</span>:     df: `pandas.DataFrame`</pre>
<pre class="cython line score-0">&#xA0;<span class="">1298</span>:         Dataframe with cilumns equals to [level_0, level_1, pearson]</pre>
<pre class="cython line score-0">&#xA0;<span class="">1299</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1300</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">1301</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1302</span>:     &gt;&gt;&gt; from gofast.tools.mlutils import get_correlated_features</pre>
<pre class="cython line score-0">&#xA0;<span class="">1303</span>:     &gt;&gt;&gt; df_corr = get_correlated_features (data , corr='spearman',</pre>
<pre class="cython line score-0">&#xA0;<span class="">1304</span>:                                      fmt=None, threshold=.95</pre>
<pre class="cython line score-0">&#xA0;<span class="">1305</span>:                                      )</pre>
<pre class="cython line score-0">&#xA0;<span class="">1306</span>:     """</pre>
<pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1307</span>:     th= copy.deepcopy(threshold)</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(1307,0,<span class='error_goto'>__PYX_ERR(0, 1307, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_copy);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1307, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_deepcopy);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1307, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='py_c_api'>PyFloat_FromDouble</span>(__pyx_cur_scope-&gt;__pyx_v_threshold);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1307, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_4 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_4)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_t_2};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1307, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_v_th = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1308</span>:     threshold = str(threshold)</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(1308,0,<span class='error_goto'>__PYX_ERR(0, 1308, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyFloat_FromDouble</span>(__pyx_cur_scope-&gt;__pyx_v_threshold);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1308, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Str</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1308, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_6 = __pyx_<span class='py_c_api'>PyFloat_AsDouble</span>(__pyx_t_3); if (unlikely((__pyx_t_6 == (double)-1) &amp;&amp; <span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1308, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_cur_scope-&gt;__pyx_v_threshold = __pyx_t_6;
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1309</span>:     try :</pre>
<pre class='cython code score-9 '>  <span class='trace'>__Pyx_TraceLine</span>(1309,0,<span class='error_goto'>__PYX_ERR(0, 1309, __pyx_L1_error)</span>)
  {
    /*try:*/ {
/*  */
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    goto __pyx_L8_try_end;
    __pyx_L3_error:;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
/*  */
    __pyx_L5_except_error:;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_7);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_8);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_9);
    <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_7, __pyx_t_8, __pyx_t_9);
    goto __pyx_L1_error;
    __pyx_L8_try_end:;
  }
</pre><pre class="cython line score-24" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1310</span>:         threshold = float(threshold.replace('%', '')</pre>
<pre class='cython code score-24 '>        <span class='trace'>__Pyx_TraceLine</span>(1310,0,<span class='error_goto'>__PYX_ERR(0, 1310, __pyx_L3_error)</span>)
        __pyx_t_3 = <span class='py_c_api'>PyFloat_FromDouble</span>(__pyx_cur_scope-&gt;__pyx_v_threshold);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1310, __pyx_L3_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_replace);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1310, __pyx_L3_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_tuple__34, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1310, __pyx_L3_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_AsDouble</span>(__pyx_t_3); if (unlikely(__pyx_t_11 == ((double)((double)-1)) &amp;&amp; <span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1310, __pyx_L3_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
/*  */
  __pyx_tuple__34 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_kp_u__33, __pyx_kp_u__12);<span class='error_goto'> if (unlikely(!__pyx_tuple__34)) __PYX_ERR(0, 1310, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__34);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__34);
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1311</span>:                           )/1e2  if '%' in threshold else float(threshold)</pre>
<pre class='cython code score-8 '>      <span class='trace'>__Pyx_TraceLine</span>(1311,0,<span class='error_goto'>__PYX_ERR(0, 1311, __pyx_L3_error)</span>)
      __pyx_t_3 = <span class='py_c_api'>PyFloat_FromDouble</span>(__pyx_cur_scope-&gt;__pyx_v_threshold);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1311, __pyx_L3_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_10 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_kp_u__33, __pyx_t_3, Py_EQ)); if (unlikely((__pyx_t_10 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1311, __pyx_L3_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (__pyx_t_10) {
/*  */
        <span class='trace'>__Pyx_TraceLine</span>(1311,0,<span class='error_goto'>__PYX_ERR(0, 1311, __pyx_L3_error)</span>)
        __pyx_t_6 = (__pyx_t_11 / 1e2);
      } else {
        __pyx_t_6 = __pyx_cur_scope-&gt;__pyx_v_threshold;
      }
      __pyx_cur_scope-&gt;__pyx_v_threshold = __pyx_t_6;
</pre><pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1312</span>:     except:</pre>
<pre class='cython code score-4 '>    <span class='trace'>__Pyx_TraceLine</span>(1312,0,<span class='error_goto'>__PYX_ERR(0, 1312, __pyx_L5_except_error)</span>)
    /*except:*/ {
      <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.get_correlated_features", __pyx_clineno, __pyx_lineno, __pyx_filename);
      if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_3, &amp;__pyx_t_1, &amp;__pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1312, __pyx_L5_except_error)</span>
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_2);
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1313</span>:         raise TypeError (</pre>
<pre class='cython code score-6 '>      <span class='trace'>__Pyx_TraceLine</span>(1313,0,<span class='error_goto'>__PYX_ERR(0, 1313, __pyx_L5_except_error)</span>)
      __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_TypeError, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1313, __pyx_L5_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_12, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
      <span class='error_goto'>__PYX_ERR(0, 1313, __pyx_L5_except_error)</span>
    }
</pre><pre class="cython line score-13" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1314</span>:             f"Threshold should be a float value, got: {type(th).__name__!r}")</pre>
<pre class='cython code score-13 '>      <span class='trace'>__Pyx_TraceLine</span>(1314,0,<span class='error_goto'>__PYX_ERR(0, 1314, __pyx_L5_except_error)</span>)
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(((PyObject *)Py_TYPE(__pyx_v_th)), __pyx_n_s_name_2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1314, __pyx_L5_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_t_4), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1314, __pyx_L5_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_kp_u_Threshold_should_be_a_float_valu, __pyx_t_12);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1314, __pyx_L5_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1315</span>: </pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1316</span>:     if threshold &gt;= 1 or threshold &lt;= 0 :</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(1316,0,<span class='error_goto'>__PYX_ERR(0, 1316, __pyx_L1_error)</span>)
  __pyx_t_13 = (__pyx_cur_scope-&gt;__pyx_v_threshold &gt;= 1.0);
  if (!__pyx_t_13) {
  } else {
    __pyx_t_10 = __pyx_t_13;
    goto __pyx_L12_bool_binop_done;
  }
  __pyx_t_13 = (__pyx_cur_scope-&gt;__pyx_v_threshold &lt;= 0.0);
  __pyx_t_10 = __pyx_t_13;
  __pyx_L12_bool_binop_done:;
  if (unlikely(__pyx_t_10)) {
/*  */
  }
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1317</span>:         raise ValueError (</pre>
<pre class='cython code score-6 '>    <span class='trace'>__Pyx_TraceLine</span>(1317,0,<span class='error_goto'>__PYX_ERR(0, 1317, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1317, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='error_goto'>__PYX_ERR(0, 1317, __pyx_L1_error)</span>
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1318</span>:             f"threshold must be ranged between 0 and 1, got {th!r}")</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(1318,0,<span class='error_goto'>__PYX_ERR(0, 1318, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_v_th), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1318, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_kp_u_threshold_must_be_ranged_between, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1318, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1319</span>: </pre>
<pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1320</span>:     if corr not in ('pearson', 'covariance', 'spearman'):</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(1320,0,<span class='error_goto'>__PYX_ERR(0, 1320, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_corr);
  __pyx_t_14 = __pyx_v_corr;
  __pyx_t_13 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_14, __pyx_n_u_pearson, Py_NE)); if (unlikely((__pyx_t_13 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1320, __pyx_L1_error)</span>
  if (__pyx_t_13) {
  } else {
    __pyx_t_10 = __pyx_t_13;
    goto __pyx_L15_bool_binop_done;
  }
  __pyx_t_13 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_14, __pyx_n_u_covariance, Py_NE)); if (unlikely((__pyx_t_13 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1320, __pyx_L1_error)</span>
  if (__pyx_t_13) {
  } else {
    __pyx_t_10 = __pyx_t_13;
    goto __pyx_L15_bool_binop_done;
  }
  __pyx_t_13 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_14, __pyx_n_u_spearman, Py_NE)); if (unlikely((__pyx_t_13 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1320, __pyx_L1_error)</span>
  __pyx_t_10 = __pyx_t_13;
  __pyx_L15_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
  __pyx_t_13 = __pyx_t_10;
  if (unlikely(__pyx_t_13)) {
/*  */
  }
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1321</span>:         raise ValueError (</pre>
<pre class='cython code score-6 '>    <span class='trace'>__Pyx_TraceLine</span>(1321,0,<span class='error_goto'>__PYX_ERR(0, 1321, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1321, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='error_goto'>__PYX_ERR(0, 1321, __pyx_L1_error)</span>
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1322</span>:             f"Expect ['pearson'|'spearman'|'covariance'], got{corr!r} ")</pre>
<pre class='cython code score-26 '>    <span class='trace'>__Pyx_TraceLine</span>(1322,0,<span class='error_goto'>__PYX_ERR(0, 1322, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1322, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_15 = 0;
    __pyx_t_16 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Expect_pearson_spearman_covarian);
    __pyx_t_15 += 47;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Expect_pearson_spearman_covarian);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_kp_u_Expect_pearson_spearman_covarian);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_v_corr), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1322, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_16 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_1) &gt; __pyx_t_16) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_1) : __pyx_t_16;
    __pyx_t_15 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_1);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_1);
    __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__35);
    __pyx_t_15 += 1;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__35);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 2, __pyx_kp_u__35);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_2, 3, __pyx_t_15, __pyx_t_16);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1322, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1323</span>:     # collect numerical values and exclude cat values</pre>
<pre class="cython line score-0">&#xA0;<span class="">1324</span>: </pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1325</span>:     df = select_features(data, None, 'number')</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(1325,0,<span class='error_goto'>__PYX_ERR(0, 1325, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_select_features);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1325, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[4] = {__pyx_t_3, __pyx_v_data, Py_None, __pyx_n_u_number};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_5, 3+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1325, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
  __pyx_cur_scope-&gt;__pyx_v_df = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1326</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1327</span>:     # use pipe to chain different func applied to df</pre>
<pre class="cython line score-0">&#xA0;<span class="">1328</span>:     c_df = (</pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1329</span>:         df.corr()</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(1329,0,<span class='error_goto'>__PYX_ERR(0, 1329, __pyx_L1_error)</span>)
  __pyx_t_18 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_cur_scope-&gt;__pyx_v_df, __pyx_n_s_corr);<span class='error_goto'> if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1329, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_18);
  __pyx_t_19 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_18))) {
    __pyx_t_19 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_18);
    if (likely(__pyx_t_19)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_18);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_19);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_18, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_19, NULL};
    __pyx_t_17 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_18, __pyx_callargs+1-__pyx_t_5, 0+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_19); __pyx_t_19 = 0;
    if (unlikely(!__pyx_t_17)) <span class='error_goto'>__PYX_ERR(0, 1329, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_17);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_18); __pyx_t_18 = 0;
  }
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1330</span>:         .pipe(</pre>
<pre class='cython code score-3 '>  <span class='trace'>__Pyx_TraceLine</span>(1330,0,<span class='error_goto'>__PYX_ERR(0, 1330, __pyx_L1_error)</span>)
  __pyx_t_18 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_17, __pyx_n_s_pipe);<span class='error_goto'> if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1330, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_18);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_17); __pyx_t_17 = 0;
</pre><pre class="cython line score-77" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1331</span>:             lambda df1: pd.DataFrame(</pre>
<pre class='cython code score-77 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_23get_correlated_features_lambda1(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_23get_correlated_features_lambda1 = {"lambda1", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_23get_correlated_features_lambda1, __Pyx_METH_FASTCALL|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_23get_correlated_features_lambda1(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_df1 = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("lambda1 (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_df1,0};
  PyObject* values[1] = {0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_df1)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1331, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "lambda1") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1331, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 1)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
    }
    __pyx_v_df1 = values[0];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("lambda1", 1, 1, 1, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1331, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.get_correlated_features.lambda1", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_lambda_funcdef_lambda1(__pyx_self, __pyx_v_df1);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_lambda_funcdef_lambda1(PyObject *__pyx_self, PyObject *__pyx_v_df1) {
  struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_1_get_correlated_features *__pyx_cur_scope;
  struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_1_get_correlated_features *__pyx_outer_scope;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_outer_scope = (struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_1_get_correlated_features *) <span class='pyx_c_api'>__Pyx_CyFunction_GetClosure</span>(__pyx_self);
  __pyx_cur_scope = __pyx_outer_scope;
  <span class='trace'>__Pyx_TraceCall</span>("lambda1", __pyx_f[0], 1331, 0, <span class='error_goto'>__PYX_ERR(0, 1331, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1331, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1331, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(1331,0,<span class='error_goto'>__PYX_ERR(0, 1331, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1331, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_5);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 1331, __pyx_L1_error)</span>;
  __pyx_t_5 = 0;
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(1331,0,<span class='error_goto'>__PYX_ERR(0, 1331, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_4, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1331, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.get_correlated_features.lambda1", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(1331,0,<span class='error_goto'>__PYX_ERR(0, 1331, __pyx_L1_error)</span>)
  __pyx_t_17 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_23get_correlated_features_lambda1, 0, __pyx_n_s_get_correlated_features_locals_l, ((PyObject*)__pyx_cur_scope), __pyx_n_s_gofast_tools_mlutils, __pyx_d, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_17)) __PYX_ERR(0, 1331, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_17);
  __pyx_t_19 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_18))) {
    __pyx_t_19 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_18);
    if (likely(__pyx_t_19)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_18);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_19);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_18, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_19, __pyx_t_17};
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_18, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_19); __pyx_t_19 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_17); __pyx_t_17 = 0;
    if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1330, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_18); __pyx_t_18 = 0;
  }
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1332</span>:                 np.tril (df1, k=-1 ), # low triangle zeroed</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(1332,0,<span class='error_goto'>__PYX_ERR(0, 1332, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1332, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_tril);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1332, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1332, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_df1);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_df1);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_df1)) <span class='error_goto'>__PYX_ERR(0, 1332, __pyx_L1_error)</span>;
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1332, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_k, __pyx_int_neg_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1332, __pyx_L1_error)</span>
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_1, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1332, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1333</span>:                 columns = df.columns,</pre>
<pre class='cython code score-12 '>  <span class='trace'>__Pyx_TraceLine</span>(1333,0,<span class='error_goto'>__PYX_ERR(0, 1333, __pyx_L1_error)</span>)
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1333, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_df)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("df"); <span class='error_goto'>__PYX_ERR(0, 1333, __pyx_L1_error)</span> }
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_cur_scope-&gt;__pyx_v_df, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1333, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_columns, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1333, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1334</span>:                 index =df.columns,</pre>
<pre class='cython code score-10 '>  <span class='trace'>__Pyx_TraceLine</span>(1334,0,<span class='error_goto'>__PYX_ERR(0, 1334, __pyx_L1_error)</span>)
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_df)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("df"); <span class='error_goto'>__PYX_ERR(0, 1334, __pyx_L1_error)</span> }
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_cur_scope-&gt;__pyx_v_df, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1334, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_index, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1333, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1335</span>:                 )</pre>
<pre class="cython line score-0">&#xA0;<span class="">1336</span>:             )</pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1337</span>:             .stack ()</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(1337,0,<span class='error_goto'>__PYX_ERR(0, 1337, __pyx_L1_error)</span>)
  __pyx_t_18 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_stack);<span class='error_goto'> if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1337, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_18);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_18))) {
    __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_18);
    if (likely(__pyx_t_4)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_18);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_18, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_4, NULL};
    __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_18, __pyx_callargs+1-__pyx_t_5, 0+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (unlikely(!__pyx_t_12)) <span class='error_goto'>__PYX_ERR(0, 1337, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_18); __pyx_t_18 = 0;
  }
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1338</span>:             .rename(corr)</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(1338,0,<span class='error_goto'>__PYX_ERR(0, 1338, __pyx_L1_error)</span>)
  __pyx_t_18 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_12, __pyx_n_s_rename);<span class='error_goto'> if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1338, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_18);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
  __pyx_t_12 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_18))) {
    __pyx_t_12 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_18);
    if (likely(__pyx_t_12)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_18);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_12);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_18, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_12, __pyx_v_corr};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_18, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1338, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_18); __pyx_t_18 = 0;
  }
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1339</span>:             .pipe(</pre>
<pre class='cython code score-3 '>  <span class='trace'>__Pyx_TraceLine</span>(1339,0,<span class='error_goto'>__PYX_ERR(0, 1339, __pyx_L1_error)</span>)
  __pyx_t_18 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_pipe);<span class='error_goto'> if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1339, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_18);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-61" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1340</span>:                 lambda s: s[</pre>
<pre class='cython code score-61 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_23get_correlated_features_1lambda2(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_23get_correlated_features_1lambda2 = {"lambda2", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_23get_correlated_features_1lambda2, __Pyx_METH_FASTCALL|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_23get_correlated_features_1lambda2(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_s = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("lambda2 (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_s,0};
  PyObject* values[1] = {0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_s)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1340, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "lambda2") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1340, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 1)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
    }
    __pyx_v_s = values[0];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("lambda2", 1, 1, 1, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1340, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.get_correlated_features.lambda2", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_lambda_funcdef_lambda2(__pyx_self, __pyx_v_s);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_lambda_funcdef_lambda2(PyObject *__pyx_self, PyObject *__pyx_v_s) {
  struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_1_get_correlated_features *__pyx_cur_scope;
  struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_1_get_correlated_features *__pyx_outer_scope;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_outer_scope = (struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_1_get_correlated_features *) <span class='pyx_c_api'>__Pyx_CyFunction_GetClosure</span>(__pyx_self);
  __pyx_cur_scope = __pyx_outer_scope;
  <span class='trace'>__Pyx_TraceCall</span>("lambda2", __pyx_f[0], 1340, 0, <span class='error_goto'>__PYX_ERR(0, 1340, __pyx_L1_error)</span>);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(1340,0,<span class='error_goto'>__PYX_ERR(0, 1340, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_s, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1340, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.get_correlated_features.lambda2", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(1340,0,<span class='error_goto'>__PYX_ERR(0, 1340, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_23get_correlated_features_1lambda2, 0, __pyx_n_s_get_correlated_features_locals_l, ((PyObject*)__pyx_cur_scope), __pyx_n_s_gofast_tools_mlutils, __pyx_d, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1340, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_12 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_18))) {
    __pyx_t_12 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_18);
    if (likely(__pyx_t_12)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_18);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_12);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_18, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_12, __pyx_t_3};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_18, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1339, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_18); __pyx_t_18 = 0;
  }
</pre><pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1341</span>:                     s.abs()&gt; threshold</pre>
<pre class='cython code score-28 '>  <span class='trace'>__Pyx_TraceLine</span>(1341,0,<span class='error_goto'>__PYX_ERR(0, 1341, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_s, __pyx_n_s_abs);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1341, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_4 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_4)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_4, NULL};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_5, 0+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1341, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_t_3 = <span class='py_c_api'>PyFloat_FromDouble</span>(__pyx_cur_scope-&gt;__pyx_v_threshold);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1341, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_4 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_2, __pyx_t_3, Py_GT); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1341, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-18" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1342</span>:                     ].reset_index()</pre>
<pre class='cython code score-18 '>  <span class='trace'>__Pyx_TraceLine</span>(1342,0,<span class='error_goto'>__PYX_ERR(0, 1342, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(1342,0,<span class='error_goto'>__PYX_ERR(0, 1342, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_reset_index);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1342, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_5, 0+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1342, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  }
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1343</span>:                 )</pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1344</span>:                 .query("level_0 not in level_1")</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(1344,0,<span class='error_goto'>__PYX_ERR(0, 1344, __pyx_L1_error)</span>)
  __pyx_t_18 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_query);<span class='error_goto'> if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 1344, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_18);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_18))) {
    __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_18);
    if (likely(__pyx_t_1)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_18);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_18, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_kp_u_level_0_not_in_level_1};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_18, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1344, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_18); __pyx_t_18 = 0;
  }
  __pyx_v_c_df = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1345</span>:         )</pre>
<pre class="cython line score-0">&#xA0;<span class="">1346</span>: </pre>
<pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1347</span>:     return  c_df.style.format({corr :"{:2.f}"}) if fmt else c_df</pre>
<pre class='cython code score-31 '>  <span class='trace'>__Pyx_TraceLine</span>(1347,0,<span class='error_goto'>__PYX_ERR(0, 1347, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_13 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_fmt); if (unlikely((__pyx_t_13 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1347, __pyx_L1_error)</span>
  if (__pyx_t_13) {
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_c_df, __pyx_n_s_style);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1347, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_format);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1347, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1347, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_v_corr, __pyx_kp_u_2_f) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1347, __pyx_L1_error)</span>
    __pyx_t_12 = NULL;
    __pyx_t_5 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_12 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_12)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_12);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_5 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_12, __pyx_t_1};
      __pyx_t_18 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_18)) <span class='error_goto'>__PYX_ERR(0, 1347, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_18);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    __pyx_t_2 = __pyx_t_18;
    __pyx_t_18 = 0;
  } else {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_c_df);
    __pyx_t_2 = __pyx_v_c_df;
  }
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1348</span>: </pre>
<pre class="cython line score-62" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1349</span>: def get_global_score(</pre>
<pre class='cython code score-62 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_25get_global_score(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_24get_global_score, "\n    Retrieve the global mean and standard deviation of test scores from \n    cross-validation results.\n\n    This function computes the overall mean and standard deviation of test \n    scores from the results of cross-validation. It can also handle situations \n    where convergence issues might have occurred during model training, \n    depending on the `ignore_convergence_problem` flag.\n\n    Parameters\n    ----------\n    cvres : Dict[str, np.ndarray]\n        A dictionary containing the cross-validation results. Expected to have \n        keys 'mean_test_score' and 'std_test_score', with each key mapping to \n        an array of scores.\n    ignore_convergence_problem : bool, default=False\n        If True, ignores NaN values that might have resulted from convergence \n        issues during model training while calculating the mean. If False, NaN \n        values contribute to the final mean as NaN.\n\n    Returns\n    -------\n    Tuple[float, float]\n        A tuple containing two float values:\n        - The first element is the mean of the test scores across all \n          cross-validation folds.\n        - The second element is the mean of the standard deviations of the \n          test scores across all cross-validation folds.\n\n    Examples\n    --------\n    &gt;&gt;&gt; from sklearn.model_selection import cross_val_score\n    &gt;&gt;&gt; from sklearn.tree import DecisionTreeClassifier\n    &gt;&gt;&gt; from sklearn.datasets import load_iris\n    &gt;&gt;&gt; iris = load_iris()\n    &gt;&gt;&gt; clf = DecisionTreeClassifier()\n    &gt;&gt;&gt; scores = cross_val_score(clf, iris.data, iris.target, cv=5,\n    ...                          scoring='accuracy', return_train_score=True)\n    &gt;&gt;&gt; cvres = {'mean_test_score': scores, 'std_test_score': np.std(scores)}\n    &gt;&gt;&gt; mean_score, mean_std = get_global_score(cvres)\n    &gt;&gt;&gt; print(f\"Mean score: {mean_score}, Mean standard deviation: {mean_std}\")\n\n    Notes\n    -----\n    - The function is primarily designed to be used with results obtained from ""\n      scikit-learn's cross-validation functions like `cross_val_score`.\n    - It is assumed that `cvres` contains keys 'mean_test_score' and \n      'std_test_score'.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_25get_global_score = {"get_global_score", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_25get_global_score, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_24get_global_score};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_25get_global_score(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_cvres = 0;
  PyObject *__pyx_v_ignore_convergence_problem = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("get_global_score (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_cvres,&amp;__pyx_n_s_ignore_convergence_problem,0};
  PyObject* values[2] = {0,0};
/*  */
  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_24get_global_score(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_cvres, PyObject *__pyx_v_ignore_convergence_problem) {
  PyObject *__pyx_v_mean_score = NULL;
  PyObject *__pyx_v_mean_std = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__36)
  <span class='trace'>__Pyx_TraceCall</span>("get_global_score", __pyx_f[0], 1349, 0, <span class='error_goto'>__PYX_ERR(0, 1349, __pyx_L1_error)</span>);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.get_global_score", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_mean_score);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_mean_std);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__150 = <span class='py_c_api'>PyTuple_Pack</span>(4, __pyx_n_s_cvres, __pyx_n_s_ignore_convergence_problem, __pyx_n_s_mean_score, __pyx_n_s_mean_std);<span class='error_goto'> if (unlikely(!__pyx_tuple__150)) __PYX_ERR(0, 1349, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__150);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__150);
  __pyx_codeobj__36 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(2, 0, 0, 4, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__150, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_get_global_score, 1349, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__36)) __PYX_ERR(0, 1349, __pyx_L1_error)</span>
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(1349,0,<span class='error_goto'>__PYX_ERR(0, 1349, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1349, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_cvres, __pyx_kp_s_Dict_str_ArrayLike) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1349, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_ignore_convergence_problem, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1349, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return, __pyx_kp_s_Tuple_float_float) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1349, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_25get_global_score, 0, __pyx_n_s_get_global_score, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__36));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1349, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_4, __pyx_tuple__151);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_4, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_get_global_score, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1349, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_tuple__151 = <span class='py_c_api'>PyTuple_Pack</span>(1, ((PyObject *)Py_False));<span class='error_goto'> if (unlikely(!__pyx_tuple__151)) __PYX_ERR(0, 1349, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__151);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__151);
</pre><pre class="cython line score-0">&#xA0;<span class="">1350</span>:     cvres: Dict[str, ArrayLike],</pre>
<pre class="cython line score-38" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1351</span>:     ignore_convergence_problem: bool = False</pre>
<pre class='cython code score-38 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_cvres)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1349, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_ignore_convergence_problem);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1349, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "get_global_score") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1349, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_cvres = values[0];
    __pyx_v_ignore_convergence_problem = values[1];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("get_global_score", 0, 1, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1349, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.get_global_score", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_24get_global_score(__pyx_self, __pyx_v_cvres, __pyx_v_ignore_convergence_problem);
</pre><pre class="cython line score-0">&#xA0;<span class="">1352</span>: ) -&gt; Tuple[float, float]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">1353</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">1354</span>:     Retrieve the global mean and standard deviation of test scores from</pre>
<pre class="cython line score-0">&#xA0;<span class="">1355</span>:     cross-validation results.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1356</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1357</span>:     This function computes the overall mean and standard deviation of test</pre>
<pre class="cython line score-0">&#xA0;<span class="">1358</span>:     scores from the results of cross-validation. It can also handle situations</pre>
<pre class="cython line score-0">&#xA0;<span class="">1359</span>:     where convergence issues might have occurred during model training,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1360</span>:     depending on the `ignore_convergence_problem` flag.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1361</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1362</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">1363</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1364</span>:     cvres : Dict[str, np.ndarray]</pre>
<pre class="cython line score-0">&#xA0;<span class="">1365</span>:         A dictionary containing the cross-validation results. Expected to have</pre>
<pre class="cython line score-0">&#xA0;<span class="">1366</span>:         keys 'mean_test_score' and 'std_test_score', with each key mapping to</pre>
<pre class="cython line score-0">&#xA0;<span class="">1367</span>:         an array of scores.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1368</span>:     ignore_convergence_problem : bool, default=False</pre>
<pre class="cython line score-0">&#xA0;<span class="">1369</span>:         If True, ignores NaN values that might have resulted from convergence</pre>
<pre class="cython line score-0">&#xA0;<span class="">1370</span>:         issues during model training while calculating the mean. If False, NaN</pre>
<pre class="cython line score-0">&#xA0;<span class="">1371</span>:         values contribute to the final mean as NaN.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1372</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1373</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">1374</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1375</span>:     Tuple[float, float]</pre>
<pre class="cython line score-0">&#xA0;<span class="">1376</span>:         A tuple containing two float values:</pre>
<pre class="cython line score-0">&#xA0;<span class="">1377</span>:         - The first element is the mean of the test scores across all</pre>
<pre class="cython line score-0">&#xA0;<span class="">1378</span>:           cross-validation folds.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1379</span>:         - The second element is the mean of the standard deviations of the</pre>
<pre class="cython line score-0">&#xA0;<span class="">1380</span>:           test scores across all cross-validation folds.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1381</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1382</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">1383</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1384</span>:     &gt;&gt;&gt; from sklearn.model_selection import cross_val_score</pre>
<pre class="cython line score-0">&#xA0;<span class="">1385</span>:     &gt;&gt;&gt; from sklearn.tree import DecisionTreeClassifier</pre>
<pre class="cython line score-0">&#xA0;<span class="">1386</span>:     &gt;&gt;&gt; from sklearn.datasets import load_iris</pre>
<pre class="cython line score-0">&#xA0;<span class="">1387</span>:     &gt;&gt;&gt; iris = load_iris()</pre>
<pre class="cython line score-0">&#xA0;<span class="">1388</span>:     &gt;&gt;&gt; clf = DecisionTreeClassifier()</pre>
<pre class="cython line score-0">&#xA0;<span class="">1389</span>:     &gt;&gt;&gt; scores = cross_val_score(clf, iris.data, iris.target, cv=5,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1390</span>:     ...                          scoring='accuracy', return_train_score=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1391</span>:     &gt;&gt;&gt; cvres = {'mean_test_score': scores, 'std_test_score': np.std(scores)}</pre>
<pre class="cython line score-0">&#xA0;<span class="">1392</span>:     &gt;&gt;&gt; mean_score, mean_std = get_global_score(cvres)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1393</span>:     &gt;&gt;&gt; print(f"Mean score: {mean_score}, Mean standard deviation: {mean_std}")</pre>
<pre class="cython line score-0">&#xA0;<span class="">1394</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1395</span>:     Notes</pre>
<pre class="cython line score-0">&#xA0;<span class="">1396</span>:     -----</pre>
<pre class="cython line score-0">&#xA0;<span class="">1397</span>:     - The function is primarily designed to be used with results obtained from</pre>
<pre class="cython line score-0">&#xA0;<span class="">1398</span>:       scikit-learn's cross-validation functions like `cross_val_score`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1399</span>:     - It is assumed that `cvres` contains keys 'mean_test_score' and</pre>
<pre class="cython line score-0">&#xA0;<span class="">1400</span>:       'std_test_score'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1401</span>:     """</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1402</span>:     if ignore_convergence_problem:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1402,0,<span class='error_goto'>__PYX_ERR(0, 1402, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_ignore_convergence_problem); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1402, __pyx_L1_error)</span>
  if (__pyx_t_1) {
/*  */
    goto __pyx_L3;
  }
</pre><pre class="cython line score-36" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1403</span>:         mean_score = np.nanmean(cvres.get('mean_test_score'))</pre>
<pre class='cython code score-36 '>    <span class='trace'>__Pyx_TraceLine</span>(1403,0,<span class='error_goto'>__PYX_ERR(0, 1403, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1403, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_nanmean);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1403, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_cvres, __pyx_n_s_get);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1403, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_6 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_n_u_mean_test_score};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1403, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    __pyx_t_5 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_t_3};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1403, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    }
    __pyx_v_mean_score = __pyx_t_2;
    __pyx_t_2 = 0;
</pre><pre class="cython line score-36" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1404</span>:         mean_std = np.nanmean(cvres.get('std_test_score'))</pre>
<pre class='cython code score-36 '>    <span class='trace'>__Pyx_TraceLine</span>(1404,0,<span class='error_goto'>__PYX_ERR(0, 1404, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1404, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_nanmean);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1404, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_cvres, __pyx_n_s_get);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1404, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_6 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_n_u_std_test_score};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1404, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    __pyx_t_5 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_t_4};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1404, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    __pyx_v_mean_std = __pyx_t_2;
    __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1405</span>:     else:</pre>
<pre class="cython line score-36" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1406</span>:         mean_score = np.mean( cvres.get('mean_test_score'))</pre>
<pre class='cython code score-36 '>  <span class='trace'>__Pyx_TraceLine</span>(1406,0,<span class='error_goto'>__PYX_ERR(0, 1406, __pyx_L1_error)</span>)
  /*else*/ {
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1406, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_mean);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1406, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_cvres, __pyx_n_s_get);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1406, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_6 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_n_u_mean_test_score};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1406, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    __pyx_t_5 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_t_3};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1406, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    }
    __pyx_v_mean_score = __pyx_t_2;
    __pyx_t_2 = 0;
</pre><pre class="cython line score-36" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1407</span>:         mean_std = np.mean(cvres.get('std_test_score'))</pre>
<pre class='cython code score-36 '>    <span class='trace'>__Pyx_TraceLine</span>(1407,0,<span class='error_goto'>__PYX_ERR(0, 1407, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1407, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_mean);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1407, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_cvres, __pyx_n_s_get);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1407, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_6 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_n_u_std_test_score};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1407, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    __pyx_t_5 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_t_4};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1407, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    __pyx_v_mean_std = __pyx_t_2;
    __pyx_t_2 = 0;
  }
  __pyx_L3:;
</pre><pre class="cython line score-0">&#xA0;<span class="">1408</span>: </pre>
<pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1409</span>:     return mean_score, mean_std</pre>
<pre class='cython code score-12 '>  <span class='trace'>__Pyx_TraceLine</span>(1409,0,<span class='error_goto'>__PYX_ERR(0, 1409, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1409, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_mean_score);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_mean_score);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_mean_score)) <span class='error_goto'>__PYX_ERR(0, 1409, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_mean_std);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_mean_std);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_v_mean_std)) <span class='error_goto'>__PYX_ERR(0, 1409, __pyx_L1_error)</span>;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1410</span>: </pre>
<pre class="cython line score-63" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1411</span>: def format_model_score(</pre>
<pre class='cython code score-63 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_27format_model_score(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_26format_model_score, "\n    Formats and prints model scores.\n\n    Parameters\n    ----------\n    model_score : float or Dict[str, float], optional\n        The model score or a dictionary of model scores with estimator \n        names as keys.\n    selected_estimator : str, optional\n        Name of the estimator to format the score for. Used only if \n        `model_score` is a float.\n\n    Example\n    -------\n    &gt;&gt;&gt; from gofast.tools.mlutils import format_model_score\n    &gt;&gt;&gt; format_model_score({'DecisionTreeClassifier': 0.26, 'BaggingClassifier': 0.13})\n    &gt;&gt;&gt; format_model_score(0.75, selected_estimator='RandomForestClassifier')\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_27format_model_score = {"format_model_score", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_27format_model_score, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_26format_model_score};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_27format_model_score(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_model_score = 0;
  PyObject *__pyx_v_selected_estimator = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("format_model_score (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_model_score,&amp;__pyx_n_s_selected_estimator,0};
  PyObject* values[2] = {0,0};
/*  */
  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_26format_model_score(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_model_score, PyObject *__pyx_v_selected_estimator) {
  PyObject *__pyx_v_estimator = NULL;
  PyObject *__pyx_v_score = NULL;
  PyObject *__pyx_v_formatted_score = NULL;
  PyObject *__pyx_v_estimator_name = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__37)
  <span class='trace'>__Pyx_TraceCall</span>("format_model_score", __pyx_f[0], 1411, 0, <span class='error_goto'>__PYX_ERR(0, 1411, __pyx_L1_error)</span>);
/*  */
  /* function exit code */
  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.format_model_score", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_estimator);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_score);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_formatted_score);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_estimator_name);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__152 = <span class='py_c_api'>PyTuple_Pack</span>(6, __pyx_n_s_model_score, __pyx_n_s_selected_estimator, __pyx_n_s_estimator, __pyx_n_s_score, __pyx_n_s_formatted_score, __pyx_n_s_estimator_name);<span class='error_goto'> if (unlikely(!__pyx_tuple__152)) __PYX_ERR(0, 1411, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__152);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__152);
  __pyx_codeobj__37 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(2, 0, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__152, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_format_model_score, 1411, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__37)) __PYX_ERR(0, 1411, __pyx_L1_error)</span>
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(1411,0,<span class='error_goto'>__PYX_ERR(0, 1411, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1411, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_model_score, __pyx_kp_s_Union_float_Dict_str_float) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1411, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_selected_estimator, __pyx_kp_s_Optional_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1411, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_return, __pyx_n_s_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1411, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_27format_model_score, 0, __pyx_n_s_format_model_score, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__37));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1411, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_3, __pyx_tuple__153);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_3, __pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_format_model_score, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1411, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_tuple__153 = <span class='py_c_api'>PyTuple_Pack</span>(2, Py_None, Py_None);<span class='error_goto'> if (unlikely(!__pyx_tuple__153)) __PYX_ERR(0, 1411, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__153);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__153);
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1412</span>:     model_score: Union[float, Dict[str, float]] = None,</pre>
<pre class='cython code score-2 '>    values[0] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-38" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1413</span>:     selected_estimator: Optional[str] = None</pre>
<pre class='cython code score-38 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_model_score);
          if (value) { values[0] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1411, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_selected_estimator);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1411, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "format_model_score") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1411, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_model_score = values[0];
    __pyx_v_selected_estimator = values[1];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("format_model_score", 0, 0, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1411, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.format_model_score", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_26format_model_score(__pyx_self, __pyx_v_model_score, __pyx_v_selected_estimator);
</pre><pre class="cython line score-0">&#xA0;<span class="">1414</span>: ) -&gt; None:</pre>
<pre class="cython line score-0">&#xA0;<span class="">1415</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">1416</span>:     Formats and prints model scores.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1417</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1418</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">1419</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1420</span>:     model_score : float or Dict[str, float], optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1421</span>:         The model score or a dictionary of model scores with estimator</pre>
<pre class="cython line score-0">&#xA0;<span class="">1422</span>:         names as keys.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1423</span>:     selected_estimator : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1424</span>:         Name of the estimator to format the score for. Used only if</pre>
<pre class="cython line score-0">&#xA0;<span class="">1425</span>:         `model_score` is a float.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1426</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1427</span>:     Example</pre>
<pre class="cython line score-0">&#xA0;<span class="">1428</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1429</span>:     &gt;&gt;&gt; from gofast.tools.mlutils import format_model_score</pre>
<pre class="cython line score-0">&#xA0;<span class="">1430</span>:     &gt;&gt;&gt; format_model_score({'DecisionTreeClassifier': 0.26, 'BaggingClassifier': 0.13})</pre>
<pre class="cython line score-0">&#xA0;<span class="">1431</span>:     &gt;&gt;&gt; format_model_score(0.75, selected_estimator='RandomForestClassifier')</pre>
<pre class="cython line score-0">&#xA0;<span class="">1432</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">1433</span>: </pre>
<pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1434</span>:     print('-' * 77)</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(1434,0,<span class='error_goto'>__PYX_ERR(0, 1434, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_print, __pyx_tuple__39, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1434, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
/*  */
  __pyx_tuple__39 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u__38);<span class='error_goto'> if (unlikely(!__pyx_tuple__39)) __PYX_ERR(0, 1434, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__39);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__39);
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1435</span>:     if isinstance(model_score, dict):</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(1435,0,<span class='error_goto'>__PYX_ERR(0, 1435, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyDict_Check</span>(__pyx_v_model_score); 
  if (__pyx_t_2) {
/*  */
    goto __pyx_L3;
  }
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1436</span>:         for estimator, score in model_score.items():</pre>
<pre class='cython code score-8 '>    <span class='trace'>__Pyx_TraceLine</span>(1436,0,<span class='error_goto'>__PYX_ERR(0, 1436, __pyx_L1_error)</span>)
    __pyx_t_3 = 0;
    if (unlikely(__pyx_v_model_score == Py_None)) {
      <span class='py_c_api'>PyErr_Format</span>(PyExc_AttributeError, "'NoneType' object has no attribute '%.30s'", "items");
      <span class='error_goto'>__PYX_ERR(0, 1436, __pyx_L1_error)</span>
    }
    __pyx_t_6 = __Pyx_dict_iterator(__pyx_v_model_score, 0, __pyx_n_s_items, (&amp;__pyx_t_4), (&amp;__pyx_t_5));<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1436, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
    __pyx_t_1 = __pyx_t_6;
    __pyx_t_6 = 0;
    while (1) {
      __pyx_t_8 = __Pyx_dict_iter_next(__pyx_t_1, __pyx_t_4, &amp;__pyx_t_3, &amp;__pyx_t_6, &amp;__pyx_t_7, NULL, __pyx_t_5);
      if (unlikely(__pyx_t_8 == 0)) break;
      if (unlikely(__pyx_t_8 == -1)) <span class='error_goto'>__PYX_ERR(0, 1436, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_estimator, __pyx_t_6);
      __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_score, __pyx_t_7);
      __pyx_t_7 = 0;
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1437</span>:             formatted_score = round(score * 100, 3)</pre>
<pre class='cython code score-16 '>      <span class='trace'>__Pyx_TraceLine</span>(1437,0,<span class='error_goto'>__PYX_ERR(0, 1437, __pyx_L1_error)</span>)
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyInt_MultiplyObjC</span>(__pyx_v_score, __pyx_int_100, 0x64, 0, 0);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1437, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1437, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_7);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 1437, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_int_3);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_int_3);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 1, __pyx_int_3)) <span class='error_goto'>__PYX_ERR(0, 1437, __pyx_L1_error)</span>;
      __pyx_t_7 = 0;
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_round, __pyx_t_6, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1437, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_formatted_score, __pyx_t_7);
      __pyx_t_7 = 0;
</pre><pre class="cython line score-48" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1438</span>:             print(f'&gt; {estimator:&lt;30}:{"Score":^10}= {formatted_score:^10} %')</pre>
<pre class='cython code score-48 '>      <span class='trace'>__Pyx_TraceLine</span>(1438,0,<span class='error_goto'>__PYX_ERR(0, 1438, __pyx_L1_error)</span>)
      __pyx_t_7 = <span class='py_c_api'>PyTuple_New</span>(7);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1438, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      __pyx_t_9 = 0;
      __pyx_t_10 = 127;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__40);
      __pyx_t_9 += 2;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__40);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_7, 0, __pyx_kp_u__40);
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Format</span>(__pyx_v_estimator, __pyx_kp_u_30);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1438, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_10 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_6) &gt; __pyx_t_10) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_6) : __pyx_t_10;
      __pyx_t_9 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_6);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_6);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_7, 1, __pyx_t_6);
      __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__41);
      __pyx_t_9 += 1;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__41);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_7, 2, __pyx_kp_u__41);
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Format</span>(__pyx_n_u_Score, __pyx_kp_u_10);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1438, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_10 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_6) &gt; __pyx_t_10) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_6) : __pyx_t_10;
      __pyx_t_9 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_6);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_6);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_7, 3, __pyx_t_6);
      __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__42);
      __pyx_t_9 += 2;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__42);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_7, 4, __pyx_kp_u__42);
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Format</span>(__pyx_v_formatted_score, __pyx_kp_u_10);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1438, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_10 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_6) &gt; __pyx_t_10) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_6) : __pyx_t_10;
      __pyx_t_9 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_6);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_6);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_7, 5, __pyx_t_6);
      __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__43);
      __pyx_t_9 += 2;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__43);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_7, 6, __pyx_kp_u__43);
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_7, 7, __pyx_t_9, __pyx_t_10);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1438, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_print, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1438, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1439</span>:     elif isinstance(model_score, float):</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(1439,0,<span class='error_goto'>__PYX_ERR(0, 1439, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyFloat_Check</span>(__pyx_v_model_score); 
  if (__pyx_t_2) {
/*  */
    goto __pyx_L3;
  }
</pre><pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1440</span>:         estimator_name = selected_estimator if selected_estimator else 'Unknown Estimator'</pre>
<pre class='cython code score-4 '>    <span class='trace'>__Pyx_TraceLine</span>(1440,0,<span class='error_goto'>__PYX_ERR(0, 1440, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_selected_estimator); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1440, __pyx_L1_error)</span>
    if (__pyx_t_2) {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_selected_estimator);
      __pyx_t_1 = __pyx_v_selected_estimator;
    } else {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Unknown_Estimator);
      __pyx_t_1 = __pyx_kp_u_Unknown_Estimator;
    }
    __pyx_v_estimator_name = __pyx_t_1;
    __pyx_t_1 = 0;
</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1441</span>:         formatted_score = round(model_score * 100, 3)</pre>
<pre class='cython code score-15 '>    <span class='trace'>__Pyx_TraceLine</span>(1441,0,<span class='error_goto'>__PYX_ERR(0, 1441, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyInt_MultiplyObjC</span>(__pyx_v_model_score, __pyx_int_100, 0x64, 0, 0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1441, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_7 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1441, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 0, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1441, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_int_3);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_int_3);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 1, __pyx_int_3)) <span class='error_goto'>__PYX_ERR(0, 1441, __pyx_L1_error)</span>;
    __pyx_t_1 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_round, __pyx_t_7, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1441, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_v_formatted_score = __pyx_t_1;
    __pyx_t_1 = 0;
</pre><pre class="cython line score-47" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1442</span>:         print(f'&gt; {estimator_name:&lt;30}:{"Score":^10}= {formatted_score:^10} %')</pre>
<pre class='cython code score-47 '>    <span class='trace'>__Pyx_TraceLine</span>(1442,0,<span class='error_goto'>__PYX_ERR(0, 1442, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(7);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1442, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_4 = 0;
    __pyx_t_10 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__40);
    __pyx_t_4 += 2;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__40);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_kp_u__40);
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_Format</span>(__pyx_v_estimator_name, __pyx_kp_u_30);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1442, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_10 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_7) &gt; __pyx_t_10) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_7) : __pyx_t_10;
    __pyx_t_4 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_7);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_7);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_t_7);
    __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__41);
    __pyx_t_4 += 1;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__41);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 2, __pyx_kp_u__41);
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_Format</span>(__pyx_n_u_Score, __pyx_kp_u_10);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1442, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_10 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_7) &gt; __pyx_t_10) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_7) : __pyx_t_10;
    __pyx_t_4 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_7);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_7);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 3, __pyx_t_7);
    __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__42);
    __pyx_t_4 += 2;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__42);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 4, __pyx_kp_u__42);
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_Format</span>(__pyx_v_formatted_score, __pyx_kp_u_10);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1442, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_10 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_7) &gt; __pyx_t_10) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_7) : __pyx_t_10;
    __pyx_t_4 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_7);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_7);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 5, __pyx_t_7);
    __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__43);
    __pyx_t_4 += 2;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__43);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 6, __pyx_kp_u__43);
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_1, 7, __pyx_t_4, __pyx_t_10);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1442, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_print, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1442, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1443</span>:     else:</pre>
<pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1444</span>:         print('Invalid model score format. Please provide a float or'</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(1444,0,<span class='error_goto'>__PYX_ERR(0, 1444, __pyx_L1_error)</span>)
  /*else*/ {
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_print, __pyx_tuple__44, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1444, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  __pyx_L3:;
/*  */
  __pyx_tuple__44 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Invalid_model_score_format_Pleas);<span class='error_goto'> if (unlikely(!__pyx_tuple__44)) __PYX_ERR(0, 1444, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__44);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__44);
</pre><pre class="cython line score-0">&#xA0;<span class="">1445</span>:               ' a dictionary of scores.')</pre>
<pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1446</span>:     print('-' * 77)</pre>
<pre class='cython code score-3 '>  <span class='trace'>__Pyx_TraceLine</span>(1446,0,<span class='error_goto'>__PYX_ERR(0, 1446, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_print, __pyx_tuple__39, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1446, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1447</span>: </pre>
<pre class="cython line score-94" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1448</span>: def stats_from_prediction(y_true, y_pred, verbose=False):</pre>
<pre class='cython code score-94 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_29stats_from_prediction(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_28stats_from_prediction, "\n    Generate statistical summaries and accuracy metrics from actual values (y_true)\n    and predicted values (y_pred).\n\n    Parameters\n    ----------\n    y_true : list or numpy.array\n        Actual values.\n    y_pred : list or numpy.array\n        Predicted values.\n    verbose : bool, optional\n        If True, print the statistical summary and accuracy metrics.\n        Default is False.\n\n    Returns\n    -------\n    dict\n        A dictionary containing statistical measures such \n        as MAE, MSE, RMSE, \n        and accuracy (if applicable).\n\n    Examples\n    --------\n    &gt;&gt;&gt; from gofast.tools.mlutils import stats_from_prediction \n    &gt;&gt;&gt; y_true = [0, 1, 1, 0, 1]\n    &gt;&gt;&gt; y_pred = [0, 1, 0, 0, 1]\n    &gt;&gt;&gt; stats_from_prediction(y_true, y_pred, verbose=True)\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_29stats_from_prediction = {"stats_from_prediction", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_29stats_from_prediction, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_28stats_from_prediction};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_29stats_from_prediction(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_y_true = 0;
  PyObject *__pyx_v_y_pred = 0;
  PyObject *__pyx_v_verbose = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("stats_from_prediction (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_y_true,&amp;__pyx_n_s_y_pred,&amp;__pyx_n_s_verbose,0};
  PyObject* values[3] = {0,0,0};
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_y_true)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1448, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_y_pred)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1448, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("stats_from_prediction", 0, 2, 3, 1); <span class='error_goto'>__PYX_ERR(0, 1448, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_verbose);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1448, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "stats_from_prediction") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1448, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_y_true = values[0];
    __pyx_v_y_pred = values[1];
    __pyx_v_verbose = values[2];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("stats_from_prediction", 0, 2, 3, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1448, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.stats_from_prediction", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_28stats_from_prediction(__pyx_self, __pyx_v_y_true, __pyx_v_y_pred, __pyx_v_verbose);

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_28stats_from_prediction(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_y_true, PyObject *__pyx_v_y_pred, PyObject *__pyx_v_verbose) {
  PyObject *__pyx_v_mean_absolute_error = NULL;
  PyObject *__pyx_v_mean_squared_error = NULL;
  PyObject *__pyx_v_accuracy_score = NULL;
  PyObject *__pyx_v_stats = NULL;
  PyObject *__pyx_v_summary = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__45)
  <span class='trace'>__Pyx_TraceCall</span>("stats_from_prediction", __pyx_f[0], 1448, 0, <span class='error_goto'>__PYX_ERR(0, 1448, __pyx_L1_error)</span>);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.stats_from_prediction", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_mean_absolute_error);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_mean_squared_error);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_accuracy_score);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_stats);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_summary);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__154 = <span class='py_c_api'>PyTuple_Pack</span>(8, __pyx_n_s_y_true, __pyx_n_s_y_pred, __pyx_n_s_verbose, __pyx_n_s_mean_absolute_error, __pyx_n_s_mean_squared_error, __pyx_n_s_accuracy_score, __pyx_n_s_stats, __pyx_n_s_summary);<span class='error_goto'> if (unlikely(!__pyx_tuple__154)) __PYX_ERR(0, 1448, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__154);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__154);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(1448,0,<span class='error_goto'>__PYX_ERR(0, 1448, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_29stats_from_prediction, 0, __pyx_n_s_stats_from_prediction, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__45));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1448, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_3, __pyx_tuple__151);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_stats_from_prediction, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1448, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_codeobj__45 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(3, 0, 0, 8, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__154, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_stats_from_prediction, 1448, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__45)) __PYX_ERR(0, 1448, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">1449</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">1450</span>:     Generate statistical summaries and accuracy metrics from actual values (y_true)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1451</span>:     and predicted values (y_pred).</pre>
<pre class="cython line score-0">&#xA0;<span class="">1452</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1453</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">1454</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1455</span>:     y_true : list or numpy.array</pre>
<pre class="cython line score-0">&#xA0;<span class="">1456</span>:         Actual values.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1457</span>:     y_pred : list or numpy.array</pre>
<pre class="cython line score-0">&#xA0;<span class="">1458</span>:         Predicted values.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1459</span>:     verbose : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1460</span>:         If True, print the statistical summary and accuracy metrics.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1461</span>:         Default is False.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1462</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1463</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">1464</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1465</span>:     dict</pre>
<pre class="cython line score-0">&#xA0;<span class="">1466</span>:         A dictionary containing statistical measures such</pre>
<pre class="cython line score-0">&#xA0;<span class="">1467</span>:         as MAE, MSE, RMSE,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1468</span>:         and accuracy (if applicable).</pre>
<pre class="cython line score-0">&#xA0;<span class="">1469</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1470</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">1471</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1472</span>:     &gt;&gt;&gt; from gofast.tools.mlutils import stats_from_prediction</pre>
<pre class="cython line score-0">&#xA0;<span class="">1473</span>:     &gt;&gt;&gt; y_true = [0, 1, 1, 0, 1]</pre>
<pre class="cython line score-0">&#xA0;<span class="">1474</span>:     &gt;&gt;&gt; y_pred = [0, 1, 0, 0, 1]</pre>
<pre class="cython line score-0">&#xA0;<span class="">1475</span>:     &gt;&gt;&gt; stats_from_prediction(y_true, y_pred, verbose=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1476</span>:     """</pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1477</span>:     from sklearn.metrics import (</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(1477,0,<span class='error_goto'>__PYX_ERR(0, 1477, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_sklearn_metrics, __pyx_t_1, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1477, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_mean_absolute_error);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1477, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
  __pyx_v_mean_absolute_error = __pyx_t_1;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_mean_squared_error);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1477, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
  __pyx_v_mean_squared_error = __pyx_t_1;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_accuracy_score);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1477, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
  __pyx_v_accuracy_score = __pyx_t_1;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1478</span>:         mean_absolute_error, mean_squared_error, accuracy_score)</pre>
<pre class='cython code score-14 '>  <span class='trace'>__Pyx_TraceLine</span>(1478,0,<span class='error_goto'>__PYX_ERR(0, 1478, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1478, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_mean_absolute_error);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_mean_absolute_error);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_n_s_mean_absolute_error)) <span class='error_goto'>__PYX_ERR(0, 1478, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_mean_squared_error);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_mean_squared_error);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 1, __pyx_n_s_mean_squared_error)) <span class='error_goto'>__PYX_ERR(0, 1478, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_accuracy_score);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_accuracy_score);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 2, __pyx_n_s_accuracy_score)) <span class='error_goto'>__PYX_ERR(0, 1478, __pyx_L1_error)</span>;
</pre><pre class="cython line score-0">&#xA0;<span class="">1479</span>:     # Calculating statistics</pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1480</span>:     check_consistent_length(y_true, y_pred )</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(1480,0,<span class='error_goto'>__PYX_ERR(0, 1480, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_check_consistent_length);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1480, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_3, __pyx_v_y_true, __pyx_v_y_pred};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1480, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1481</span>:     stats = {</pre>
<pre class="cython line score-27" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1482</span>:         'mean': np.mean(y_pred),</pre>
<pre class='cython code score-27 '>  <span class='trace'>__Pyx_TraceLine</span>(1482,0,<span class='error_goto'>__PYX_ERR(0, 1482, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1482, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1482, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_mean);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1482, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_y_pred};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1482, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  }
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_u_mean, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1482, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1483</span>:         'median': np.median(y_pred),</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(1483,0,<span class='error_goto'>__PYX_ERR(0, 1483, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1483, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_median);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1483, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_5 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_5)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_v_y_pred};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1483, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_u_median, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1482, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1484</span>:         'std_dev': np.std(y_pred),</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(1484,0,<span class='error_goto'>__PYX_ERR(0, 1484, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1484, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_std);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1484, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_y_pred};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1484, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  }
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_u_std_dev, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1482, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1485</span>:         'min': np.min(y_pred),</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(1485,0,<span class='error_goto'>__PYX_ERR(0, 1485, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1485, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_min);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1485, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_5 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_5)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_v_y_pred};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1485, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_u_min, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1482, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1486</span>:         'max': np.max(y_pred)</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(1486,0,<span class='error_goto'>__PYX_ERR(0, 1486, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1486, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_max);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1486, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_y_pred};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1486, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  }
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_u_max, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1482, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_stats = ((PyObject*)__pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1487</span>:     }</pre>
<pre class="cython line score-0">&#xA0;<span class="">1488</span>:     # add the metric stats</pre>
<pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1489</span>:     stats =dict ({</pre>
<pre class='cython code score-12 '>  <span class='trace'>__Pyx_TraceLine</span>(1489,0,<span class='error_goto'>__PYX_ERR(0, 1489, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1489, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1489, __pyx_L1_error)</span>;
  __pyx_t_2 = 0;
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(1489,0,<span class='error_goto'>__PYX_ERR(0, 1489, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(((PyObject *)(&amp;PyDict_Type)), __pyx_t_1, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1489, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_stats, ((PyObject*)__pyx_t_3));
  __pyx_t_3 = 0;
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1490</span>:             'MAE': mean_absolute_error(y_true, y_pred),</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(1490,0,<span class='error_goto'>__PYX_ERR(0, 1490, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1490, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_mean_absolute_error);
  __pyx_t_5 = __pyx_v_mean_absolute_error; __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_3, __pyx_v_y_true, __pyx_v_y_pred};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1490, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  }
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_u_MAE, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1490, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-21" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1491</span>:             'MSE': mean_squared_error(y_true, y_pred),</pre>
<pre class='cython code score-21 '>  <span class='trace'>__Pyx_TraceLine</span>(1491,0,<span class='error_goto'>__PYX_ERR(0, 1491, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_mean_squared_error);
  __pyx_t_5 = __pyx_v_mean_squared_error; __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_3, __pyx_v_y_true, __pyx_v_y_pred};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1491, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  }
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_u_MSE, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1490, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-41" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1492</span>:             'RMSE': np.sqrt(mean_squared_error(y_true, y_pred)),</pre>
<pre class='cython code score-41 '>  <span class='trace'>__Pyx_TraceLine</span>(1492,0,<span class='error_goto'>__PYX_ERR(0, 1492, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1492, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_sqrt);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1492, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_mean_squared_error);
  __pyx_t_6 = __pyx_v_mean_squared_error; __pyx_t_7 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
    __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
    if (likely(__pyx_t_7)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_7, __pyx_v_y_true, __pyx_v_y_pred};
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 1492, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  }
  __pyx_t_6 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_6)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_t_5};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1492, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_u_RMSE, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1490, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1493</span>:         }, **stats,</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(1493,0,<span class='error_goto'>__PYX_ERR(0, 1493, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyDict_Copy</span>(__pyx_v_stats);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1493, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
</pre><pre class="cython line score-0">&#xA0;<span class="">1494</span>:         )</pre>
<pre class="cython line score-0">&#xA0;<span class="">1495</span>:     # Adding accuracy for classification tasks</pre>
<pre class="cython line score-0">&#xA0;<span class="">1496</span>:     # Check if y_true and y_pred are categories task</pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1497</span>:     if is_classification_task(y_true, y_pred ):</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(1497,0,<span class='error_goto'>__PYX_ERR(0, 1497, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_is_classification_task);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1497, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_1 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_1)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_1, __pyx_v_y_true, __pyx_v_y_pred};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1497, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_3); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1497, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (__pyx_t_8) {
/*  */
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">1498</span>:     # if all(map(lambda x: x in [0, 1], y_true + y_pred)): #binary</pre>
<pre class="cython line score-21" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1499</span>:         stats['Accuracy'] = accuracy_score(y_true, y_pred)</pre>
<pre class='cython code score-21 '>    <span class='trace'>__Pyx_TraceLine</span>(1499,0,<span class='error_goto'>__PYX_ERR(0, 1499, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_accuracy_score);
    __pyx_t_2 = __pyx_v_accuracy_score; __pyx_t_1 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_1, __pyx_v_y_true, __pyx_v_y_pred};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1499, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    if (unlikely((<span class='py_c_api'>PyDict_SetItem</span>(__pyx_v_stats, __pyx_n_u_Accuracy, __pyx_t_3) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1499, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1500</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1501</span>:     # Printing the results if verbose is True</pre>
<pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1502</span>:     summary = MetricFormatter(</pre>
<pre class='cython code score-6 '>  <span class='trace'>__Pyx_TraceLine</span>(1502,0,<span class='error_goto'>__PYX_ERR(0, 1502, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_MetricFormatter);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1502, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(1502,0,<span class='error_goto'>__PYX_ERR(0, 1502, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_empty_tuple, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1502, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_summary = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1503</span>:         title="Prediction Summary", descriptor="PredictStats",</pre>
<pre class='cython code score-12 '>  <span class='trace'>__Pyx_TraceLine</span>(1503,0,<span class='error_goto'>__PYX_ERR(0, 1503, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1503, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_title, __pyx_kp_u_Prediction_Summary) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1503, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_descriptor, __pyx_n_u_PredictStats) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1503, __pyx_L1_error)</span>
  __pyx_t_2 = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1504</span>:         **stats)</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1504,0,<span class='error_goto'>__PYX_ERR(0, 1504, __pyx_L1_error)</span>)
  if (<span class='pyx_c_api'>__Pyx_MergeKeywords</span>(__pyx_t_2, __pyx_v_stats) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1504, __pyx_L1_error)</span>
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1505</span>:     if verbose:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1505,0,<span class='error_goto'>__PYX_ERR(0, 1505, __pyx_L1_error)</span>)
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_verbose); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1505, __pyx_L1_error)</span>
  if (__pyx_t_8) {
/*  */
  }
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1506</span>:         print(summary)</pre>
<pre class='cython code score-3 '>    <span class='trace'>__Pyx_TraceLine</span>(1506,0,<span class='error_goto'>__PYX_ERR(0, 1506, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_print, __pyx_v_summary);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1506, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1507</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1508</span>:     return summary</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1508,0,<span class='error_goto'>__PYX_ERR(0, 1508, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_summary);
  __pyx_r = __pyx_v_summary;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1509</span>: </pre>
<pre class="cython line score-145" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1510</span>: def save_dataframes(</pre>
<pre class='cython code score-145 '>static PyObject *__pyx_pf_6gofast_5tools_7mlutils_111__defaults__(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceCall</span>("__defaults__", __pyx_f[0], 1510, 0, <span class='error_goto'>__PYX_ERR(0, 1510, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1510, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_file_name_prefix, ((PyObject*)__pyx_n_u_data)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1510, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_output_format, ((PyObject*)__pyx_n_u_excel)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1510, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_sep, ((PyObject*)__pyx_kp_u__46)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1510, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_start_index, <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults, __pyx_self)-&gt;__pyx_arg_start_index) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1510, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1510, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, Py_None)) <span class='error_goto'>__PYX_ERR(0, 1510, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1510, __pyx_L1_error)</span>;
  __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.__defaults__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_31save_dataframes(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_30save_dataframes, "\n    Saves multiple dataframes to Excel or CSV files, with each dataframe in a\n    separate file.\n    \n    The files are named using a specified prefix and an index.\n\n    Parameters\n    ----------\n    *data : Union[pd.DataFrame, Any]\n        Variable number of arguments, where each argument is a dataframe or\n        data that can be converted to a dataframe.\n    file_name_prefix : str, optional\n        Prefix for the output file names. Default is 'data'.\n    output_format : str, optional\n        Output format of the files. Can be 'excel' or 'csv'. Default is 'excel'.\n    sep : str, optional\n        Separator character for CSV output. Default is ','.\n    start_index : int, optional\n        Starting index for numbering the output files. Default is 1.\n\n    Examples\n    --------\n    &gt;&gt;&gt; from gofast.tools.mlutils import save_dataframes\n    &gt;&gt;&gt; df1 = pd.DataFrame({'A': [1, 2], 'B': [3, 4]})\n    &gt;&gt;&gt; df2 = pd.DataFrame({'C': [5, 6], 'D': [7, 8]})\n    &gt;&gt;&gt; save_dataframes(df1, df2, file_name_prefix='mydata', output_format='csv')\n    # This will create 'mydata_1.csv' for df1 and 'mydata_2.csv' for df2\n\n    &gt;&gt;&gt; save_dataframes(df1, output_format='excel', file_name_prefix='test')\n    # This will create 'test_1.xlsx' containing df1\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_31save_dataframes = {"save_dataframes", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_31save_dataframes, METH_VARARGS|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_30save_dataframes};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_31save_dataframes(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_file_name_prefix = 0;
  PyObject *__pyx_v_output_format = 0;
  PyObject *__pyx_v_sep = 0;
  PyObject *__pyx_v_start_index = 0;
  PyObject *__pyx_v_data = 0;
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("save_dataframes (wrapper)", 0);
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_VARARGS</span>(__pyx_args, __pyx_nargs);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_args);
  __pyx_v_data = __pyx_args;
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_file_name_prefix,&amp;__pyx_n_s_output_format,&amp;__pyx_n_s_sep,&amp;__pyx_n_s_start_index,0};
  PyObject* values[4] = {0,0,0,0};
    __pyx_defaults *__pyx_dynamic_args = <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults, __pyx_self);
    values[0] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_VARARGS</span>(((PyObject*)((PyObject*)__pyx_n_u_data)));
    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_VARARGS</span>(((PyObject*)((PyObject*)__pyx_n_u_excel)));
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_VARARGS</span>(((PyObject*)((PyObject*)__pyx_kp_u__46)));
    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_VARARGS</span>(__pyx_dynamic_args-&gt;__pyx_arg_start_index);
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        default:
        case  0: break;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_VARARGS</span>(__pyx_kwds);
      if (kw_args &gt; 0 &amp;&amp; likely(kw_args &lt;= 4)) {
        Py_ssize_t index;
        for (index = 0; index &lt; 4 &amp;&amp; kw_args &gt; 0; index++) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_VARARGS</span>(__pyx_kwds, __pyx_kwvalues, *__pyx_pyargnames[index]);
          if (value) { values[index] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_VARARGS</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1510, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, 0, "save_dataframes") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1510, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs &lt; 0)) {
      goto __pyx_L5_argtuple_error;
    } else {
    }
    __pyx_v_file_name_prefix = ((PyObject*)values[0]);
    __pyx_v_output_format = ((PyObject*)values[1]);
    __pyx_v_sep = ((PyObject*)values[2]);
    __pyx_v_start_index = ((PyObject*)values[3]);
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("save_dataframes", 0, 0, 0, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1510, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_VARARGS</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_data); __pyx_v_data = 0;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.save_dataframes", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_file_name_prefix), (&amp;PyUnicode_Type), 0, "file_name_prefix", 1))) <span class='error_goto'>__PYX_ERR(0, 1512, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_output_format), (&amp;PyUnicode_Type), 0, "output_format", 1))) <span class='error_goto'>__PYX_ERR(0, 1513, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_sep), (&amp;PyUnicode_Type), 0, "sep", 1))) <span class='error_goto'>__PYX_ERR(0, 1514, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_start_index), (&amp;PyInt_Type), 0, "start_index", 1))) <span class='error_goto'>__PYX_ERR(0, 1515, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_30save_dataframes(__pyx_self, __pyx_v_file_name_prefix, __pyx_v_output_format, __pyx_v_sep, __pyx_v_start_index, __pyx_v_data);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_data);
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_VARARGS</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_30save_dataframes(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_file_name_prefix, PyObject *__pyx_v_output_format, PyObject *__pyx_v_sep, PyObject *__pyx_v_start_index, PyObject *__pyx_v_data) {
  PyObject *__pyx_v_index = NULL;
  PyObject *__pyx_v_df = NULL;
  PyObject *__pyx_v_file_name = NULL;
  PyObject *__pyx_v_writer = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__47)
  <span class='trace'>__Pyx_TraceCall</span>("save_dataframes", __pyx_f[0], 1510, 0, <span class='error_goto'>__PYX_ERR(0, 1510, __pyx_L1_error)</span>);
/*  */
  /* function exit code */
  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.save_dataframes", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_index);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_df);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_file_name);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_writer);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__155 = <span class='py_c_api'>PyTuple_Pack</span>(9, __pyx_n_s_file_name_prefix, __pyx_n_s_output_format, __pyx_n_s_sep, __pyx_n_s_start_index, __pyx_n_s_data, __pyx_n_s_index, __pyx_n_s_df, __pyx_n_s_file_name, __pyx_n_s_writer);<span class='error_goto'> if (unlikely(!__pyx_tuple__155)) __PYX_ERR(0, 1510, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__155);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__155);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(1510,0,<span class='error_goto'>__PYX_ERR(0, 1510, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(6);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1510, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_file_name_prefix, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1510, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_output_format, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1510, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_sep, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1510, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_start_index, __pyx_n_s_int) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1510, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_data, __pyx_kp_s_Union_DataFrame_Any) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1510, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return, __pyx_n_s_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1510, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_31save_dataframes, 0, __pyx_n_s_save_dataframes, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__47));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1510, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (!<span class='pyx_c_api'>__Pyx_CyFunction_InitDefaults</span>(__pyx_t_4, sizeof(__pyx_defaults), 1)) <span class='error_goto'>__PYX_ERR(0, 1510, __pyx_L1_error)</span>
  __pyx_codeobj__47 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(0, 0, 4, 9, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARARGS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__155, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_save_dataframes, 1510, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__47)) __PYX_ERR(0, 1510, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">1511</span>:     *data: Union[DataFrame, Any],</pre>
<pre class="cython line score-0">&#xA0;<span class="">1512</span>:     file_name_prefix: str = 'data',</pre>
<pre class="cython line score-0">&#xA0;<span class="">1513</span>:     output_format: str = 'excel',</pre>
<pre class="cython line score-0">&#xA0;<span class="">1514</span>:     sep: str = ',',</pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1515</span>:     start_index: int = 1</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(1515,0,<span class='error_goto'>__PYX_ERR(0, 1515, __pyx_L1_error)</span>)
  if (!(likely(__Pyx_Py3Int_CheckExact(__pyx_int_1)) || <span class='pyx_c_api'>__Pyx_RaiseUnexpectedTypeError</span>("int", __pyx_int_1))) <span class='error_goto'>__PYX_ERR(0, 1515, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_int_1);
  <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults, __pyx_t_4)-&gt;__pyx_arg_start_index = ((PyObject*)__pyx_int_1);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_int_1);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsGetter</span>(__pyx_t_4, __pyx_pf_6gofast_5tools_7mlutils_111__defaults__);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_4, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_save_dataframes, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1510, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1516</span>:     ) -&gt; None:</pre>
<pre class="cython line score-0">&#xA0;<span class="">1517</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">1518</span>:     Saves multiple dataframes to Excel or CSV files, with each dataframe in a</pre>
<pre class="cython line score-0">&#xA0;<span class="">1519</span>:     separate file.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1520</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1521</span>:     The files are named using a specified prefix and an index.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1522</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1523</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">1524</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1525</span>:     *data : Union[pd.DataFrame, Any]</pre>
<pre class="cython line score-0">&#xA0;<span class="">1526</span>:         Variable number of arguments, where each argument is a dataframe or</pre>
<pre class="cython line score-0">&#xA0;<span class="">1527</span>:         data that can be converted to a dataframe.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1528</span>:     file_name_prefix : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1529</span>:         Prefix for the output file names. Default is 'data'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1530</span>:     output_format : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1531</span>:         Output format of the files. Can be 'excel' or 'csv'. Default is 'excel'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1532</span>:     sep : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1533</span>:         Separator character for CSV output. Default is ','.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1534</span>:     start_index : int, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1535</span>:         Starting index for numbering the output files. Default is 1.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1536</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1537</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">1538</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1539</span>:     &gt;&gt;&gt; from gofast.tools.mlutils import save_dataframes</pre>
<pre class="cython line score-0">&#xA0;<span class="">1540</span>:     &gt;&gt;&gt; df1 = pd.DataFrame({'A': [1, 2], 'B': [3, 4]})</pre>
<pre class="cython line score-0">&#xA0;<span class="">1541</span>:     &gt;&gt;&gt; df2 = pd.DataFrame({'C': [5, 6], 'D': [7, 8]})</pre>
<pre class="cython line score-0">&#xA0;<span class="">1542</span>:     &gt;&gt;&gt; save_dataframes(df1, df2, file_name_prefix='mydata', output_format='csv')</pre>
<pre class="cython line score-0">&#xA0;<span class="">1543</span>:     # This will create 'mydata_1.csv' for df1 and 'mydata_2.csv' for df2</pre>
<pre class="cython line score-0">&#xA0;<span class="">1544</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1545</span>:     &gt;&gt;&gt; save_dataframes(df1, output_format='excel', file_name_prefix='test')</pre>
<pre class="cython line score-0">&#xA0;<span class="">1546</span>:     # This will create 'test_1.xlsx' containing df1</pre>
<pre class="cython line score-0">&#xA0;<span class="">1547</span>:     """</pre>
<pre class="cython line score-116" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1548</span>:     for index, df in enumerate(data, start=start_index):</pre>
<pre class='cython code score-116 '>  <span class='trace'>__Pyx_TraceLine</span>(1548,0,<span class='error_goto'>__PYX_ERR(0, 1548, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1548, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_data)) <span class='error_goto'>__PYX_ERR(0, 1548, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1548, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_start, __pyx_v_start_index) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1548, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_enumerate, __pyx_t_1, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1548, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_3)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_3)) {
    __pyx_t_2 = __pyx_t_3; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
    __pyx_t_4 = 0;
    __pyx_t_5 = NULL;
  } else {
    __pyx_t_4 = -1; __pyx_t_2 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1548, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1548, __pyx_L1_error)</span>
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  for (;;) {
    if (likely(!__pyx_t_5)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_2))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_2);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1548, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_4 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_2, __pyx_t_4); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3); __pyx_t_4++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1548, __pyx_L1_error)</span>
        #else
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_2, __pyx_t_4); __pyx_t_4++;<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1548, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_2);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1548, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_4 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_2, __pyx_t_4); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3); __pyx_t_4++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1548, __pyx_L1_error)</span>
        #else
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_2, __pyx_t_4); __pyx_t_4++;<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1548, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        #endif
      }
    } else {
      __pyx_t_3 = __pyx_t_5(__pyx_t_2);
      if (unlikely(!__pyx_t_3)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 1548, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    }
    if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_3))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_3))) {
      PyObject* sequence = __pyx_t_3;
      Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
      if (unlikely(size != 2)) {
        if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
        else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
        <span class='error_goto'>__PYX_ERR(0, 1548, __pyx_L1_error)</span>
      }
      #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
      if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
        __pyx_t_1 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
        __pyx_t_6 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
      } else {
        __pyx_t_1 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
        __pyx_t_6 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
      }
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
      #else
      __pyx_t_1 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1548, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_6 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1548, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      #endif
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    } else {
      Py_ssize_t index = -1;
      __pyx_t_7 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1548, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_7);
      index = 0; __pyx_t_1 = __pyx_t_8(__pyx_t_7); if (unlikely(!__pyx_t_1)) goto __pyx_L5_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      index = 1; __pyx_t_6 = __pyx_t_8(__pyx_t_7); if (unlikely(!__pyx_t_6)) goto __pyx_L5_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_8(__pyx_t_7), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1548, __pyx_L1_error)</span>
      __pyx_t_8 = NULL;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      goto __pyx_L6_unpacking_done;
      __pyx_L5_unpacking_failed:;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      __pyx_t_8 = NULL;
      if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
      <span class='error_goto'>__PYX_ERR(0, 1548, __pyx_L1_error)</span>
      __pyx_L6_unpacking_done:;
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_index, __pyx_t_1);
    __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_df, __pyx_t_6);
    __pyx_t_6 = 0;
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(1548,0,<span class='error_goto'>__PYX_ERR(0, 1548, __pyx_L1_error)</span>)
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1549</span>:         # Ensure the argument is a DataFrame</pre>
<pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1550</span>:         if not isinstance(df, pd.DataFrame):</pre>
<pre class='cython code score-11 '>    <span class='trace'>__Pyx_TraceLine</span>(1550,0,<span class='error_goto'>__PYX_ERR(0, 1550, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1550, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1550, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_9 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_df, __pyx_t_6);<span class='error_goto'> if (unlikely(__pyx_t_9 == ((int)-1))) __PYX_ERR(0, 1550, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_10 = (!__pyx_t_9);
    if (__pyx_t_10) {
/*  */
    }
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1551</span>:             df = pd.DataFrame(df)</pre>
<pre class='cython code score-20 '>      <span class='trace'>__Pyx_TraceLine</span>(1551,0,<span class='error_goto'>__PYX_ERR(0, 1551, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1551, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1551, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = NULL;
      __pyx_t_11 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
        __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
        if (likely(__pyx_t_3)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
          __pyx_t_11 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_df};
        __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_11, 1+__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 1551, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_df, __pyx_t_6);
      __pyx_t_6 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1552</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1553</span>:         # Determine the file name</pre>
<pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1554</span>:         file_name = f"{file_name_prefix}_{index}"</pre>
<pre class='cython code score-28 '>    <span class='trace'>__Pyx_TraceLine</span>(1554,0,<span class='error_goto'>__PYX_ERR(0, 1554, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1554, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_12 = 0;
    __pyx_t_13 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_file_name_prefix);
    __pyx_t_13 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_file_name_prefix) &gt; __pyx_t_13) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_file_name_prefix) : __pyx_t_13;
    __pyx_t_12 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_v_file_name_prefix);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_file_name_prefix);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_v_file_name_prefix);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u__11);
    __pyx_t_12 += 1;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u__11);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_6, 1, __pyx_n_u__11);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_index, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1554, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_13 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_1) &gt; __pyx_t_13) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_1) : __pyx_t_13;
    __pyx_t_12 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_1);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_6, 2, __pyx_t_1);
    __pyx_t_1 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_6, 3, __pyx_t_12, __pyx_t_13);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1554, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_file_name, ((PyObject*)__pyx_t_1));
    __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1555</span>:         if output_format == 'csv':</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(1555,0,<span class='error_goto'>__PYX_ERR(0, 1555, __pyx_L1_error)</span>)
    __pyx_t_10 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_output_format, __pyx_n_u_csv, Py_EQ)); if (unlikely((__pyx_t_10 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1555, __pyx_L1_error)</span>
    if (__pyx_t_10) {
/*  */
      goto __pyx_L8;
    }
</pre><pre class="cython line score-29" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1556</span>:             df.to_csv(f"{file_name}.csv", sep=sep, index=False)</pre>
<pre class='cython code score-29 '>      <span class='trace'>__Pyx_TraceLine</span>(1556,0,<span class='error_goto'>__PYX_ERR(0, 1556, __pyx_L1_error)</span>)
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_df, __pyx_n_s_to_csv);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1556, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_v_file_name, __pyx_kp_u_csv_2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1556, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1556, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_6);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 1556, __pyx_L1_error)</span>;
      __pyx_t_6 = 0;
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1556, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_sep, __pyx_v_sep) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1556, __pyx_L1_error)</span>
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_index, Py_False) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1556, __pyx_L1_error)</span>
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_3, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1556, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1557</span>:         elif output_format == 'excel':</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(1557,0,<span class='error_goto'>__PYX_ERR(0, 1557, __pyx_L1_error)</span>)
    __pyx_t_10 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_output_format, __pyx_n_u_excel, Py_EQ)); if (unlikely((__pyx_t_10 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1557, __pyx_L1_error)</span>
    if (likely(__pyx_t_10)) {
/*  */
      goto __pyx_L8;
    }
</pre><pre class="cython line score-84" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1558</span>:             with pd.ExcelWriter(f"{file_name}.xlsx") as writer:</pre>
<pre class='cython code score-84 '>      <span class='trace'>__Pyx_TraceLine</span>(1558,0,<span class='error_goto'>__PYX_ERR(0, 1558, __pyx_L1_error)</span>)
      /*with:*/ {
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1558, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_ExcelWriter);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1558, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
        __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_v_file_name, __pyx_kp_u_xlsx);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1558, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
        __pyx_t_1 = NULL;
        __pyx_t_11 = 0;
        #if CYTHON_UNPACK_METHODS
        if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
          __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
          if (likely(__pyx_t_1)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
            __pyx_t_11 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_t_6};
          __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_11, 1+__pyx_t_11);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
          if (unlikely(!__pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 1558, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        }
        __pyx_t_14 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_7, __pyx_n_s_exit);<span class='error_goto'> if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 1558, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_14);
        __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_7, __pyx_n_s_enter);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1558, __pyx_L9_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
        __pyx_t_1 = NULL;
        __pyx_t_11 = 0;
        #if CYTHON_UNPACK_METHODS
        if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
          __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
          if (likely(__pyx_t_1)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
            __pyx_t_11 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_1, NULL};
          __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_11, 0+__pyx_t_11);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1558, __pyx_L9_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
        }
        __pyx_t_6 = __pyx_t_3;
        __pyx_t_3 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        /*try:*/ {
          {
            /*try:*/ {
              <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_writer, __pyx_t_6);
              __pyx_t_6 = 0;
/*  */
            }
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_16); __pyx_t_16 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_17); __pyx_t_17 = 0;
            goto __pyx_L22_try_end;
            __pyx_L15_error:;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
            /*except:*/ {
              <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.save_dataframes", __pyx_clineno, __pyx_lineno, __pyx_filename);
              if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_1, &amp;__pyx_t_3, &amp;__pyx_t_7) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1558, __pyx_L17_except_error)</span>
              <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
              <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
              <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_7);
              __pyx_t_6 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_t_1, __pyx_t_3, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1558, __pyx_L17_except_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
              __pyx_t_18 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_14, __pyx_t_6, NULL);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
              if (unlikely(!__pyx_t_18)) <span class='error_goto'>__PYX_ERR(0, 1558, __pyx_L17_except_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_18);
              __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_18);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_18); __pyx_t_18 = 0;
              if (__pyx_t_10 &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1558, __pyx_L17_except_error)</span>
              __pyx_t_9 = (!__pyx_t_10);
              if (unlikely(__pyx_t_9)) {
                <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
                <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
                <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_7);
                <span class='pyx_c_api'>__Pyx_ErrRestoreWithState</span>(__pyx_t_1, __pyx_t_3, __pyx_t_7);
                __pyx_t_1 = 0; __pyx_t_3 = 0; __pyx_t_7 = 0; 
                <span class='error_goto'>__PYX_ERR(0, 1558, __pyx_L17_except_error)</span>
              }
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
              goto __pyx_L16_exception_handled;
            }
            __pyx_L17_except_error:;
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_15);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_16);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_17);
            <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_15, __pyx_t_16, __pyx_t_17);
            goto __pyx_L1_error;
            __pyx_L16_exception_handled:;
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_15);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_16);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_17);
            <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_15, __pyx_t_16, __pyx_t_17);
            __pyx_L22_try_end:;
          }
        }
        /*finally:*/ {
          /*normal exit:*/{
            if (__pyx_t_14) {
              __pyx_t_17 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_14, __pyx_tuple__48, NULL);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
              if (unlikely(!__pyx_t_17)) <span class='error_goto'>__PYX_ERR(0, 1558, __pyx_L1_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_17);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_17); __pyx_t_17 = 0;
            }
            goto __pyx_L14;
          }
          __pyx_L14:;
        }
        goto __pyx_L26;
        __pyx_L9_error:;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
        goto __pyx_L1_error;
        __pyx_L26:;
      }
/*  */
  __pyx_tuple__48 = <span class='py_c_api'>PyTuple_Pack</span>(3, Py_None, Py_None, Py_None);<span class='error_goto'> if (unlikely(!__pyx_tuple__48)) __PYX_ERR(0, 1558, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__48);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__48);
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1559</span>:                 df.to_excel(writer, index=False)</pre>
<pre class='cython code score-23 '>              <span class='trace'>__Pyx_TraceLine</span>(1559,0,<span class='error_goto'>__PYX_ERR(0, 1559, __pyx_L15_error)</span>)
              __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_df, __pyx_n_s_to_excel);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1559, __pyx_L15_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
              __pyx_t_7 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1559, __pyx_L15_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_writer);
              <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_writer);
              if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 0, __pyx_v_writer)) <span class='error_goto'>__PYX_ERR(0, 1559, __pyx_L15_error)</span>;
              __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1559, __pyx_L15_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
              if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_index, Py_False) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1559, __pyx_L15_error)</span>
              __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_6, __pyx_t_7, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1559, __pyx_L15_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1560</span>:         else:</pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1561</span>:             raise ValueError("Unsupported output format. Choose 'excel' or 'csv'.")</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(1561,0,<span class='error_goto'>__PYX_ERR(0, 1561, __pyx_L1_error)</span>)
    /*else*/ {
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__49, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1561, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_7, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      <span class='error_goto'>__PYX_ERR(0, 1561, __pyx_L1_error)</span>
    }
    __pyx_L8:;
/*  */
  __pyx_tuple__49 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Unsupported_output_format_Choose);<span class='error_goto'> if (unlikely(!__pyx_tuple__49)) __PYX_ERR(0, 1561, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__49);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__49);
</pre><pre class="cython line score-0">&#xA0;<span class="">1562</span>: </pre>
<pre class="cython line score-80" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1563</span>: def fetch_tgz(</pre>
<pre class='cython code score-80 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_33fetch_tgz(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_32fetch_tgz, "\n    Fetches and extracts a 'tgz' file from a specified URL, optionally into \n    a target directory.\n\n    If `data_path` is provided and does not exist, it is created. If `data_path`\n    is not provided, a default directory named 'tgz_data' in the current working \n    directory is used and created if necessary.\n\n    Parameters\n    ----------\n    data_url : str\n        The URL where the .tgz file is located.\n    tgz_filename : str\n        The filename of the .tgz file to download.\n    data_path : Optional[str], optional\n        The absolute path to the directory where the .tgz file will be extracted.\n        If None, uses a directory named ``'tgz_data'`` in the current working \n        directory.\n    show_progress : bool, optional\n        If True, displays a progress bar during the file download. Default is False.\n\n    Examples\n    --------\n    &gt;&gt;&gt; from gofast.tools.mlutils import fetch_tgz\n    &gt;&gt;&gt; fetch_tgz(\n    ...     data_url=\"http://example.com/data\",\n    ...     tgz_filename=\"data.tgz\",\n    ...     show_progress=True\n    ... )\n\n    &gt;&gt;&gt; fetch_tgz(\n    ...     data_url=\"http://example.com/data\",\n    ...     tgz_filename=\"data.tgz\",\n    ...     data_path=\"/path/to/custom/data\",\n    ...     show_progress=True\n    ... )\n\n    Note\n    ----\n    The function requires `tqdm` library for showing the progress bar. Ensure\n    that `tqdm` is installed if `show_progress` is set to True.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_33fetch_tgz = {"fetch_tgz", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_33fetch_tgz, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_32fetch_tgz};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_33fetch_tgz(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_data_url = 0;
  PyObject *__pyx_v_tgz_filename = 0;
  PyObject *__pyx_v_data_path = 0;
  PyObject *__pyx_v_show_progress = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("fetch_tgz (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_data_url,&amp;__pyx_n_s_tgz_filename,&amp;__pyx_n_s_data_path,&amp;__pyx_n_s_show_progress,0};
  PyObject* values[4] = {0,0,0,0};
/*  */
  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
static PyObject *__pyx_pf_6gofast_5tools_7mlutils_32fetch_tgz(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_data_url, PyObject *__pyx_v_tgz_filename, PyObject *__pyx_v_data_path, PyObject *__pyx_v_show_progress) {
  struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_2_fetch_tgz *__pyx_cur_scope;
  PyObject *__pyx_v_tgz_path = NULL;
  PyObject *__pyx_v__progress = 0;
  PyObject *__pyx_v_data_tgz = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__51)
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_2_fetch_tgz *)__pyx_tp_new_6gofast_5tools_7mlutils___pyx_scope_struct_2_fetch_tgz(__pyx_ptype_6gofast_5tools_7mlutils___pyx_scope_struct_2_fetch_tgz, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_2_fetch_tgz *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 1563, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  <span class='trace'>__Pyx_TraceCall</span>("fetch_tgz", __pyx_f[0], 1563, 0, <span class='error_goto'>__PYX_ERR(0, 1563, __pyx_L1_error)</span>);
  __pyx_cur_scope-&gt;__pyx_v_show_progress = __pyx_v_show_progress;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_show_progress);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_v_show_progress);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data_path);
/*  */
  /* function exit code */
  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.fetch_tgz", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_tgz_path);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v__progress);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_data_tgz);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_data_path);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__156 = <span class='py_c_api'>PyTuple_Pack</span>(8, __pyx_n_s_data_url, __pyx_n_s_tgz_filename, __pyx_n_s_data_path, __pyx_n_s_show_progress, __pyx_n_s_tgz_path, __pyx_n_s_progress_2, __pyx_n_s_progress_2, __pyx_n_s_data_tgz);<span class='error_goto'> if (unlikely(!__pyx_tuple__156)) __PYX_ERR(0, 1563, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__156);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__156);
  __pyx_codeobj__51 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(4, 0, 0, 8, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__156, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_fetch_tgz, 1563, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__51)) __PYX_ERR(0, 1563, __pyx_L1_error)</span>
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(1563,0,<span class='error_goto'>__PYX_ERR(0, 1563, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1563, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_data_url, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1563, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_tgz_filename, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1563, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_data_path, __pyx_kp_s_Optional_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1563, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_show_progress, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1563, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_return, __pyx_n_s_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1563, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_33fetch_tgz, 0, __pyx_n_s_fetch_tgz, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__51));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1563, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_3, __pyx_tuple__157);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_3, __pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_fetch_tgz, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1563, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_tuple__157 = <span class='py_c_api'>PyTuple_Pack</span>(2, Py_None, ((PyObject *)Py_False));<span class='error_goto'> if (unlikely(!__pyx_tuple__157)) __PYX_ERR(0, 1563, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__157);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__157);
/*  */
struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_2_fetch_tgz {
  PyObject_HEAD
  PyObject *__pyx_v_show_progress;
};

</pre><pre class="cython line score-0">&#xA0;<span class="">1564</span>:     data_url: str,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1565</span>:     tgz_filename: str,</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1566</span>:     data_path: Optional[str] = None,</pre>
<pre class='cython code score-2 '>    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-70" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1567</span>:     show_progress: bool = False</pre>
<pre class='cython code score-70 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data_url)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1563, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_tgz_filename)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1563, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("fetch_tgz", 0, 2, 4, 1); <span class='error_goto'>__PYX_ERR(0, 1563, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data_path);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1563, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_show_progress);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1563, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "fetch_tgz") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1563, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_data_url = ((PyObject*)values[0]);
    __pyx_v_tgz_filename = ((PyObject*)values[1]);
    __pyx_v_data_path = values[2];
    __pyx_v_show_progress = values[3];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("fetch_tgz", 0, 2, 4, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1563, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.fetch_tgz", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_data_url), (&amp;PyUnicode_Type), 0, "data_url", 1))) <span class='error_goto'>__PYX_ERR(0, 1564, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_tgz_filename), (&amp;PyUnicode_Type), 0, "tgz_filename", 1))) <span class='error_goto'>__PYX_ERR(0, 1565, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_32fetch_tgz(__pyx_self, __pyx_v_data_url, __pyx_v_tgz_filename, __pyx_v_data_path, __pyx_v_show_progress);
</pre><pre class="cython line score-0">&#xA0;<span class="">1568</span>: ) -&gt; None:</pre>
<pre class="cython line score-0">&#xA0;<span class="">1569</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">1570</span>:     Fetches and extracts a 'tgz' file from a specified URL, optionally into</pre>
<pre class="cython line score-0">&#xA0;<span class="">1571</span>:     a target directory.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1572</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1573</span>:     If `data_path` is provided and does not exist, it is created. If `data_path`</pre>
<pre class="cython line score-0">&#xA0;<span class="">1574</span>:     is not provided, a default directory named 'tgz_data' in the current working</pre>
<pre class="cython line score-0">&#xA0;<span class="">1575</span>:     directory is used and created if necessary.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1576</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1577</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">1578</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1579</span>:     data_url : str</pre>
<pre class="cython line score-0">&#xA0;<span class="">1580</span>:         The URL where the .tgz file is located.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1581</span>:     tgz_filename : str</pre>
<pre class="cython line score-0">&#xA0;<span class="">1582</span>:         The filename of the .tgz file to download.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1583</span>:     data_path : Optional[str], optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1584</span>:         The absolute path to the directory where the .tgz file will be extracted.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1585</span>:         If None, uses a directory named ``'tgz_data'`` in the current working</pre>
<pre class="cython line score-0">&#xA0;<span class="">1586</span>:         directory.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1587</span>:     show_progress : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1588</span>:         If True, displays a progress bar during the file download. Default is False.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1589</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1590</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">1591</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1592</span>:     &gt;&gt;&gt; from gofast.tools.mlutils import fetch_tgz</pre>
<pre class="cython line score-0">&#xA0;<span class="">1593</span>:     &gt;&gt;&gt; fetch_tgz(</pre>
<pre class="cython line score-0">&#xA0;<span class="">1594</span>:     ...     data_url="http://example.com/data",</pre>
<pre class="cython line score-0">&#xA0;<span class="">1595</span>:     ...     tgz_filename="data.tgz",</pre>
<pre class="cython line score-0">&#xA0;<span class="">1596</span>:     ...     show_progress=True</pre>
<pre class="cython line score-0">&#xA0;<span class="">1597</span>:     ... )</pre>
<pre class="cython line score-0">&#xA0;<span class="">1598</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1599</span>:     &gt;&gt;&gt; fetch_tgz(</pre>
<pre class="cython line score-0">&#xA0;<span class="">1600</span>:     ...     data_url="http://example.com/data",</pre>
<pre class="cython line score-0">&#xA0;<span class="">1601</span>:     ...     tgz_filename="data.tgz",</pre>
<pre class="cython line score-0">&#xA0;<span class="">1602</span>:     ...     data_path="/path/to/custom/data",</pre>
<pre class="cython line score-0">&#xA0;<span class="">1603</span>:     ...     show_progress=True</pre>
<pre class="cython line score-0">&#xA0;<span class="">1604</span>:     ... )</pre>
<pre class="cython line score-0">&#xA0;<span class="">1605</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1606</span>:     Note</pre>
<pre class="cython line score-0">&#xA0;<span class="">1607</span>:     ----</pre>
<pre class="cython line score-0">&#xA0;<span class="">1608</span>:     The function requires `tqdm` library for showing the progress bar. Ensure</pre>
<pre class="cython line score-0">&#xA0;<span class="">1609</span>:     that `tqdm` is installed if `show_progress` is set to True.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1610</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">1611</span>:     # Use a default data directory if none is provided</pre>
<pre class="cython line score-48" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1612</span>:     data_path = data_path or os.path.join(os.getcwd(), 'tgz_data')</pre>
<pre class='cython code score-48 '>  <span class='trace'>__Pyx_TraceLine</span>(1612,0,<span class='error_goto'>__PYX_ERR(0, 1612, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_data_path); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1612, __pyx_L1_error)</span>
  if (!__pyx_t_2) {
  } else {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data_path);
    __pyx_t_1 = __pyx_v_data_path;
    goto __pyx_L3_bool_binop_done;
  }
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1612, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1612, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_join);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1612, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1612, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_getcwd);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1612, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_6 = NULL;
  __pyx_t_8 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
    __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
    if (likely(__pyx_t_6)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
      __pyx_t_8 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_6, NULL};
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_8, 0+__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 1612, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  }
  __pyx_t_7 = NULL;
  __pyx_t_8 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
    __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
    if (likely(__pyx_t_7)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
      __pyx_t_8 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_7, __pyx_t_5, __pyx_n_u_tgz_data};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_8, 2+__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1612, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
  __pyx_t_1 = __pyx_t_3;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_L3_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_data_path, __pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1613</span>: </pre>
<pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1614</span>:     if not os.path.isdir(data_path):</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(1614,0,<span class='error_goto'>__PYX_ERR(0, 1614, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1614, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1614, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_isdir);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1614, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = NULL;
  __pyx_t_8 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_4)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_8 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_v_data_path};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1614, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_1); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1614, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_9 = (!__pyx_t_2);
  if (__pyx_t_9) {
/*  */
  }
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1615</span>:         os.makedirs(data_path, exist_ok=True)</pre>
<pre class='cython code score-26 '>    <span class='trace'>__Pyx_TraceLine</span>(1615,0,<span class='error_goto'>__PYX_ERR(0, 1615, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1615, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_makedirs);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1615, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1615, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data_path);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data_path);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_data_path)) <span class='error_goto'>__PYX_ERR(0, 1615, __pyx_L1_error)</span>;
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1615, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_exist_ok, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1615, __pyx_L1_error)</span>
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_1, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1615, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1616</span>: </pre>
<pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1617</span>:     tgz_path = os.path.join(data_path, tgz_filename)</pre>
<pre class='cython code score-22 '>  <span class='trace'>__Pyx_TraceLine</span>(1617,0,<span class='error_goto'>__PYX_ERR(0, 1617, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1617, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1617, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_join);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1617, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = NULL;
  __pyx_t_8 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
    __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
    if (likely(__pyx_t_1)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
      __pyx_t_8 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_1, __pyx_v_data_path, __pyx_v_tgz_filename};
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_8, 2+__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 1617, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  }
  __pyx_v_tgz_path = __pyx_t_5;
  __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1618</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1619</span>:     # Define a simple progress function, if needed</pre>
<pre class="cython line score-81" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1620</span>:     def _progress(block_num, block_size, total_size):</pre>
<pre class='cython code score-81 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_9fetch_tgz_1_progress(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_9fetch_tgz_1_progress = {"_progress", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_9fetch_tgz_1_progress, __Pyx_METH_FASTCALL|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_9fetch_tgz_1_progress(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_block_num = 0;
  PyObject *__pyx_v_block_size = 0;
  PyObject *__pyx_v_total_size = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_progress (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_block_num,&amp;__pyx_n_s_block_size,&amp;__pyx_n_s_total_size,0};
  PyObject* values[3] = {0,0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_block_num)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1620, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_block_size)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1620, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_progress", 1, 3, 3, 1); <span class='error_goto'>__PYX_ERR(0, 1620, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (likely((values[2] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_total_size)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[2]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1620, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_progress", 1, 3, 3, 2); <span class='error_goto'>__PYX_ERR(0, 1620, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_progress") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1620, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 3)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
      values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
    }
    __pyx_v_block_num = values[0];
    __pyx_v_block_size = values[1];
    __pyx_v_total_size = values[2];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_progress", 1, 3, 3, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1620, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.fetch_tgz._progress", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_9fetch_tgz__progress(__pyx_self, __pyx_v_block_num, __pyx_v_block_size, __pyx_v_total_size);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_9fetch_tgz__progress(PyObject *__pyx_self, PyObject *__pyx_v_block_num, PyObject *__pyx_v_block_size, PyObject *__pyx_v_total_size) {
  struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_2_fetch_tgz *__pyx_cur_scope;
  struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_2_fetch_tgz *__pyx_outer_scope;
  PyObject *__pyx_v_progress = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_outer_scope = (struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_2_fetch_tgz *) <span class='pyx_c_api'>__Pyx_CyFunction_GetClosure</span>(__pyx_self);
  __pyx_cur_scope = __pyx_outer_scope;
  <span class='trace'>__Pyx_TraceCall</span>("_progress", __pyx_f[0], 1620, 0, <span class='error_goto'>__PYX_ERR(0, 1620, __pyx_L1_error)</span>);
/*  */
  /* function exit code */
  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.fetch_tgz._progress", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_progress);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__52 = <span class='py_c_api'>PyTuple_Pack</span>(4, __pyx_n_s_block_num, __pyx_n_s_block_size, __pyx_n_s_total_size, __pyx_n_s_progress);<span class='error_goto'> if (unlikely(!__pyx_tuple__52)) __PYX_ERR(0, 1620, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__52);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__52);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(1620,0,<span class='error_goto'>__PYX_ERR(0, 1620, __pyx_L1_error)</span>)
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_9fetch_tgz_1_progress, 0, __pyx_n_s_fetch_tgz_locals__progress, ((PyObject*)__pyx_cur_scope), __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__53));<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1620, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_v__progress = __pyx_t_5;
  __pyx_t_5 = 0;
  __pyx_codeobj__53 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(3, 0, 0, 4, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__52, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_progress_2, 1620, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__53)) __PYX_ERR(0, 1620, __pyx_L1_error)</span>
</pre><pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1621</span>:         if show_progress:</pre>
<pre class='cython code score-4 '>  <span class='trace'>__Pyx_TraceLine</span>(1621,0,<span class='error_goto'>__PYX_ERR(0, 1621, __pyx_L1_error)</span>)
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_show_progress)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("show_progress"); <span class='error_goto'>__PYX_ERR(0, 1621, __pyx_L1_error)</span> }
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_cur_scope-&gt;__pyx_v_show_progress); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1621, __pyx_L1_error)</span>
  if (__pyx_t_1) {
/*  */
  }
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1622</span>:             if tqdm is None:</pre>
<pre class='cython code score-3 '>    <span class='trace'>__Pyx_TraceLine</span>(1622,0,<span class='error_goto'>__PYX_ERR(0, 1622, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_tqdm);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1622, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_1 = (__pyx_t_2 == Py_None);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(__pyx_t_1)) {
/*  */
    }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1623</span>:                 raise ImportError("`tqdm` library is required for progress output.")</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(1623,0,<span class='error_goto'>__PYX_ERR(0, 1623, __pyx_L1_error)</span>)
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ImportError, __pyx_tuple__50, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1623, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='error_goto'>__PYX_ERR(0, 1623, __pyx_L1_error)</span>
/*  */
  __pyx_tuple__50 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_tqdm_library_is_required_for_pr);<span class='error_goto'> if (unlikely(!__pyx_tuple__50)) __PYX_ERR(0, 1623, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__50);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__50);
</pre><pre class="cython line score-33" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1624</span>:             progress = tqdm(total=total_size, unit='iB', unit_scale=True, ascii=True,</pre>
<pre class='cython code score-33 '>    <span class='trace'>__Pyx_TraceLine</span>(1624,0,<span class='error_goto'>__PYX_ERR(0, 1624, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_tqdm);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1624, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1624, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_total_2, __pyx_v_total_size) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1624, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_unit, __pyx_n_u_iB) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1624, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_unit_scale, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1624, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_ascii, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1624, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_ncols, __pyx_int_100) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1624, __pyx_L1_error)</span>
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_empty_tuple, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1624, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_v_progress = __pyx_t_4;
    __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1625</span>:                             ncols= 100)</pre>
<pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1626</span>:             progress.n = block_num * block_size</pre>
<pre class='cython code score-8 '>    <span class='trace'>__Pyx_TraceLine</span>(1626,0,<span class='error_goto'>__PYX_ERR(0, 1626, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='py_c_api'>PyNumber_Multiply</span>(__pyx_v_block_num, __pyx_v_block_size);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1626, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    if (<span class='pyx_c_api'>__Pyx_PyObject_SetAttrStr</span>(__pyx_v_progress, __pyx_n_s_n, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1626, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1627</span>:             progress.last_print_n = progress.n</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(1627,0,<span class='error_goto'>__PYX_ERR(0, 1627, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_progress, __pyx_n_s_n);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1627, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    if (<span class='pyx_c_api'>__Pyx_PyObject_SetAttrStr</span>(__pyx_v_progress, __pyx_n_s_last_print_n, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1627, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1628</span>:             progress.update()</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(1628,0,<span class='error_goto'>__PYX_ERR(0, 1628, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_progress, __pyx_n_s_update);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1628, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = NULL;
    __pyx_t_5 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_5 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_2, NULL};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_5, 0+__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1628, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1629</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1630</span>:     # Download the .tgz file</pre>
<pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1631</span>:     urllib.request.urlretrieve(</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(1631,0,<span class='error_goto'>__PYX_ERR(0, 1631, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_urllib);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1631, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_request);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1631, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_urlretrieve);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1631, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1632</span>:         data_url, tgz_path, _progress if show_progress else None)</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(1632,0,<span class='error_goto'>__PYX_ERR(0, 1632, __pyx_L1_error)</span>)
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_cur_scope-&gt;__pyx_v_show_progress); if (unlikely((__pyx_t_9 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1632, __pyx_L1_error)</span>
  if (__pyx_t_9) {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v__progress);
    __pyx_t_1 = __pyx_v__progress;
  } else {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    __pyx_t_1 = Py_None;
  }
  __pyx_t_3 = NULL;
  __pyx_t_8 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
      __pyx_t_8 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[4] = {__pyx_t_3, __pyx_v_data_url, __pyx_v_tgz_path, __pyx_t_1};
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_8, 3+__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 1631, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1633</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1634</span>:     # Extract the .tgz file</pre>
<pre class="cython line score-77" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1635</span>:     with tarfile.open(tgz_path) as data_tgz:</pre>
<pre class='cython code score-77 '>  <span class='trace'>__Pyx_TraceLine</span>(1635,0,<span class='error_goto'>__PYX_ERR(0, 1635, __pyx_L1_error)</span>)
  /*with:*/ {
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_tarfile);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1635, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_open);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1635, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = NULL;
    __pyx_t_8 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_4)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_8 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_v_tgz_path};
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 1635, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_5, __pyx_n_s_exit);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1635, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_5, __pyx_n_s_enter);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1635, __pyx_L6_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_3 = NULL;
    __pyx_t_8 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
        __pyx_t_8 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_8, 0+__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1635, __pyx_L6_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    }
    __pyx_t_4 = __pyx_t_1;
    __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    /*try:*/ {
      {
        /*try:*/ {
          __pyx_v_data_tgz = __pyx_t_4;
          __pyx_t_4 = 0;
/*  */
        }
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
        goto __pyx_L15_try_end;
        __pyx_L10_error:;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        /*except:*/ {
          <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.fetch_tgz", __pyx_clineno, __pyx_lineno, __pyx_filename);
          if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_1, &amp;__pyx_t_5, &amp;__pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1635, __pyx_L12_except_error)</span>
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_5);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_4);
          __pyx_t_3 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_t_1, __pyx_t_5, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1635, __pyx_L12_except_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          __pyx_t_14 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_10, __pyx_t_3, NULL);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          if (unlikely(!__pyx_t_14)) <span class='error_goto'>__PYX_ERR(0, 1635, __pyx_L12_except_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_14);
          __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_14);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
          if (__pyx_t_9 &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1635, __pyx_L12_except_error)</span>
          __pyx_t_2 = (!__pyx_t_9);
          if (unlikely(__pyx_t_2)) {
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_5);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_4);
            <span class='pyx_c_api'>__Pyx_ErrRestoreWithState</span>(__pyx_t_1, __pyx_t_5, __pyx_t_4);
            __pyx_t_1 = 0; __pyx_t_5 = 0; __pyx_t_4 = 0; 
            <span class='error_goto'>__PYX_ERR(0, 1635, __pyx_L12_except_error)</span>
          }
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
          goto __pyx_L11_exception_handled;
        }
        __pyx_L12_except_error:;
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
        <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_11, __pyx_t_12, __pyx_t_13);
        goto __pyx_L1_error;
        __pyx_L11_exception_handled:;
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
        <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_11, __pyx_t_12, __pyx_t_13);
        __pyx_L15_try_end:;
      }
    }
    /*finally:*/ {
      /*normal exit:*/{
        if (__pyx_t_10) {
          __pyx_t_13 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_10, __pyx_tuple__48, NULL);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
          if (unlikely(!__pyx_t_13)) <span class='error_goto'>__PYX_ERR(0, 1635, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_13);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
        }
        goto __pyx_L9;
      }
      __pyx_L9:;
    }
    goto __pyx_L19;
    __pyx_L6_error:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    goto __pyx_L1_error;
    __pyx_L19:;
  }
</pre><pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1636</span>:         data_tgz.extractall(path=data_path)</pre>
<pre class='cython code score-14 '>          <span class='trace'>__Pyx_TraceLine</span>(1636,0,<span class='error_goto'>__PYX_ERR(0, 1636, __pyx_L10_error)</span>)
          __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data_tgz, __pyx_n_s_extractall);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1636, __pyx_L10_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
          __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1636, __pyx_L10_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
          if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_path, __pyx_v_data_path) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1636, __pyx_L10_error)</span>
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_4, __pyx_empty_tuple, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1636, __pyx_L10_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1637</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1638</span>:     if show_progress:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1638,0,<span class='error_goto'>__PYX_ERR(0, 1638, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_cur_scope-&gt;__pyx_v_show_progress); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1638, __pyx_L1_error)</span>
  if (__pyx_t_2) {
/*  */
  }
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1639</span>:         print("Download and extraction complete.")</pre>
<pre class='cython code score-8 '>    <span class='trace'>__Pyx_TraceLine</span>(1639,0,<span class='error_goto'>__PYX_ERR(0, 1639, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_print, __pyx_tuple__54, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1639, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
/*  */
  __pyx_tuple__54 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Download_and_extraction_complete);<span class='error_goto'> if (unlikely(!__pyx_tuple__54)) __PYX_ERR(0, 1639, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__54);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__54);
</pre><pre class="cython line score-0">&#xA0;<span class="">1640</span>: </pre>
<pre class="cython line score-49" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1641</span>: def process_df(</pre>
<pre class='cython code score-49 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_35process_df(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_34process_df, "\n    Processes a DataFrame to separate numeric and categorical data.\n\n    Parameters\n    ----------\n    data : pd.DataFrame\n        The input DataFrame.\n    target_name : str or list of str, optional\n        The name(s) of the target column(s) to exclude. If a single \n        target column is provided, it can be given as a string. \n        If multiple target columns are provided, they should be given \n        as a list of strings.\n    exclude_target : bool, optional\n        If `True`, exclude the target column(s) from the returned \n        numeric and categorical data. Default is `False`.\n    return_frame : bool, optional\n        If `True`, return DataFrames for numeric and categorical data. \n        If `False`, return lists of column names. Default is `False`.\n    include_datetime : bool, optional\n        If `True`, include datetime columns in the processing. \n        Default is `True`.\n    is_numeric_datetime : bool, optional\n        If `True`, consider datetime columns as numeric. Default is `True`.\n    return_target : bool, optional\n        If `True`, return the target data along with numeric and \n        categorical data. Default is `False`.\n    encode_cat_columns : bool, optional\n        If `True`, encode categorical variables. Default is `False`.\n    error : str, optional\n        How to handle errors when target columns are not found. Options \n        are ``'warn'``, ``'raise'``, ``'ignore'``. Default is ``'warn'``.\n\n    Returns\n    -------\n    tuple\n        If `return_frame` is `True`, returns a tuple of DataFrames \n        (`numeric_df`, `categorical_df`, `target_df`). \n        If `return_frame` is `False`, returns a tuple of lists \n        (`numeric_columns`, `categorical_columns`, `target_columns`).\n\n    Raises\n    ------\n    ValueError\n        If `exclude_target` is `True` and `target_name` is not provided.\n        If specified target columns do not exist in the DataFrame \n        and ``error`` is set to ``'ra""ise'``.\n\n    Notes\n    -----\n    The function processes a DataFrame to separate numeric and \n    categorical data, with optional inclusion of datetime columns. \n    If `target_name` is provided, it can be excluded from the data \n    or returned separately. The function handles missing target \n    columns based on the ``error`` parameter.\n\n    Mathematically, the separation of numeric and categorical columns \n    can be represented as:\n\n    .. math:: \n        X_{\text{numeric}} = \\{ x_i \\mid x_i \\in \\mathbb{R}, \014orall i \\}\n    \n    .. math:: \n        X_{\text{categorical}} = \\{ x_i \\mid x_i \notin \\mathbb{R}, \014orall i \\}\n\n    where :math:`X` is the set of all columns in the DataFrame, \n    :math:`X_{\text{numeric}}` is the set of numeric columns, and \n    :math:`X_{\text{categorical}}` is the set of categorical columns.\n\n    Examples\n    --------\n    &gt;&gt;&gt; from gofast.tools.mlutils import process_df\n    &gt;&gt;&gt; df = pd.DataFrame({'A': [1, 2, 3], \n    ...                    'B': ['a', 'b', 'c'], \n    ...                    'C': pd.to_datetime(['2020-01-01', '2020-01-02', '2020-01-03'])})\n    &gt;&gt;&gt; numeric_columns, categorical_columns = process_df(df)\n    &gt;&gt;&gt; numeric_columns\n    ['A']\n    &gt;&gt;&gt; categorical_columns\n    ['B']\n\n    &gt;&gt;&gt; numeric_df, categorical_df = process_df(df, return_frame=True)\n    &gt;&gt;&gt; numeric_df\n       A\n    0  1\n    1  2\n    2  3\n    &gt;&gt;&gt; categorical_df\n       B\n    0  a\n    1  b\n    2  c\n\n    &gt;&gt;&gt; numeric_columns, categorical_columns, target_columns = process_df(\n    ...     df, target_name='A', exclude_target=True, return_target=True)\n    &gt;&gt;&gt; numeric_columns\n    []\n    &gt;&gt;&gt; categorical_columns\n    ['B']\n    &gt;&gt;&gt; target_columns\n    ['A']\n\n    See Also\n    --------\n    pandas.DataFrame.select_dtypes : Select columns by data type.\n    pandas.concat : Concatenate pandas objects along a particular axis.\n\n    References\n    ----------\n    .. [1] McKinney, Wes. \"pandas: a foundational Python"" library for data \n       analysis and statistics.\" Python for High Performance and Scientific \n       Computing (2011): 1-9.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_35process_df = {"process_df", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_35process_df, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_34process_df};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_35process_df(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_data = 0;
  PyObject *__pyx_v_target_name = 0;
  PyObject *__pyx_v_exclude_target = 0;
  PyObject *__pyx_v_return_frame = 0;
  PyObject *__pyx_v_include_datetime = 0;
  PyObject *__pyx_v_is_numeric_datetime = 0;
  PyObject *__pyx_v_return_target = 0;
  PyObject *__pyx_v_encode_cat_columns = 0;
  PyObject *__pyx_v_error = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("process_df (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_data,&amp;__pyx_n_s_target_name,&amp;__pyx_n_s_exclude_target,&amp;__pyx_n_s_return_frame,&amp;__pyx_n_s_include_datetime,&amp;__pyx_n_s_is_numeric_datetime,&amp;__pyx_n_s_return_target,&amp;__pyx_n_s_encode_cat_columns,&amp;__pyx_n_s_error,0};
  PyObject* values[9] = {0,0,0,0,0,0,0,0,0};
/*  */
  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_34process_df(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_data, PyObject *__pyx_v_target_name, PyObject *__pyx_v_exclude_target, PyObject *__pyx_v_return_frame, PyObject *__pyx_v_include_datetime, PyObject *__pyx_v_is_numeric_datetime, PyObject *__pyx_v_return_target, PyObject *__pyx_v_encode_cat_columns, PyObject *__pyx_v_error) {
  PyObject *__pyx_v_missing_targets = NULL;
  PyObject *__pyx_v_numeric_df = NULL;
  PyObject *__pyx_v_categorical_df = NULL;
  PyObject *__pyx_v_datetime_df = NULL;
  PyObject *__pyx_v_target_df = NULL;
  PyObject *__pyx_8genexpr4__pyx_v_target = NULL;
  PyObject *__pyx_8genexpr5__pyx_v_target = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__55)
  <span class='trace'>__Pyx_TraceCall</span>("process_df", __pyx_f[0], 1641, 0, <span class='error_goto'>__PYX_ERR(0, 1641, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_name);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.process_df", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_missing_targets);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_numeric_df);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_categorical_df);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_datetime_df);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_target_df);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr4__pyx_v_target);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr5__pyx_v_target);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_target_name);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__158 = <span class='py_c_api'>PyTuple_Pack</span>(16, __pyx_n_s_data, __pyx_n_s_target_name, __pyx_n_s_exclude_target, __pyx_n_s_return_frame, __pyx_n_s_include_datetime, __pyx_n_s_is_numeric_datetime, __pyx_n_s_return_target, __pyx_n_s_encode_cat_columns, __pyx_n_s_error, __pyx_n_s_missing_targets, __pyx_n_s_numeric_df, __pyx_n_s_categorical_df, __pyx_n_s_datetime_df, __pyx_n_s_target_df, __pyx_n_s_target, __pyx_n_s_target);<span class='error_goto'> if (unlikely(!__pyx_tuple__158)) __PYX_ERR(0, 1641, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__158);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__158);
  __pyx_codeobj__55 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(9, 0, 0, 16, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__158, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_process_df, 1641, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__55)) __PYX_ERR(0, 1641, __pyx_L1_error)</span>
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(1641,0,<span class='error_goto'>__PYX_ERR(0, 1641, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_35process_df, 0, __pyx_n_s_process_df, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__55));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1641, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_3, __pyx_tuple__159);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_process_df, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1641, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_tuple__159 = <span class='py_c_api'>PyTuple_Pack</span>(8, Py_None, ((PyObject *)Py_False), ((PyObject *)Py_False), ((PyObject *)Py_True), ((PyObject *)Py_True), ((PyObject *)Py_False), ((PyObject *)Py_False), ((PyObject*)__pyx_n_u_warn));<span class='error_goto'> if (unlikely(!__pyx_tuple__159)) __PYX_ERR(0, 1641, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__159);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__159);
</pre><pre class="cython line score-0">&#xA0;<span class="">1642</span>:     data,</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1643</span>:     target_name=None,</pre>
<pre class='cython code score-2 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1644</span>:     exclude_target=False,</pre>
<pre class='cython code score-2 '>    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1645</span>:     return_frame=False,</pre>
<pre class='cython code score-2 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1646</span>:     include_datetime=True,</pre>
<pre class='cython code score-2 '>    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_True)));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1647</span>:     is_numeric_datetime=True,</pre>
<pre class='cython code score-2 '>    values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_True)));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1648</span>:     return_target=False,</pre>
<pre class='cython code score-2 '>    values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
</pre><pre class="cython line score-131" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1649</span>:     encode_cat_columns=False,</pre>
<pre class='cython code score-131 '>    values[7] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    values[8] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_n_u_warn)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  9: values[8] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 8);
        CYTHON_FALLTHROUGH;
        case  8: values[7] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 7);
        CYTHON_FALLTHROUGH;
        case  7: values[6] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 6);
        CYTHON_FALLTHROUGH;
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1641, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_target_name);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1641, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_exclude_target);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1641, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_return_frame);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1641, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_include_datetime);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1641, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  5:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_is_numeric_datetime);
          if (value) { values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1641, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  6:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_return_target);
          if (value) { values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1641, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  7:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_encode_cat_columns);
          if (value) { values[7] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1641, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  8:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_error);
          if (value) { values[8] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1641, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "process_df") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1641, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  9: values[8] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 8);
        CYTHON_FALLTHROUGH;
        case  8: values[7] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 7);
        CYTHON_FALLTHROUGH;
        case  7: values[6] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 6);
        CYTHON_FALLTHROUGH;
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_data = values[0];
    __pyx_v_target_name = values[1];
    __pyx_v_exclude_target = values[2];
    __pyx_v_return_frame = values[3];
    __pyx_v_include_datetime = values[4];
    __pyx_v_is_numeric_datetime = values[5];
    __pyx_v_return_target = values[6];
    __pyx_v_encode_cat_columns = values[7];
    __pyx_v_error = values[8];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("process_df", 0, 1, 9, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1641, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.process_df", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_34process_df(__pyx_self, __pyx_v_data, __pyx_v_target_name, __pyx_v_exclude_target, __pyx_v_return_frame, __pyx_v_include_datetime, __pyx_v_is_numeric_datetime, __pyx_v_return_target, __pyx_v_encode_cat_columns, __pyx_v_error);
</pre><pre class="cython line score-0">&#xA0;<span class="">1650</span>:     error='warn',</pre>
<pre class="cython line score-0">&#xA0;<span class="">1651</span>:     ):</pre>
<pre class="cython line score-0">&#xA0;<span class="">1652</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">1653</span>:     Processes a DataFrame to separate numeric and categorical data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1654</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1655</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">1656</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1657</span>:     data : pd.DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">1658</span>:         The input DataFrame.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1659</span>:     target_name : str or list of str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1660</span>:         The name(s) of the target column(s) to exclude. If a single</pre>
<pre class="cython line score-0">&#xA0;<span class="">1661</span>:         target column is provided, it can be given as a string.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1662</span>:         If multiple target columns are provided, they should be given</pre>
<pre class="cython line score-0">&#xA0;<span class="">1663</span>:         as a list of strings.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1664</span>:     exclude_target : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1665</span>:         If `True`, exclude the target column(s) from the returned</pre>
<pre class="cython line score-0">&#xA0;<span class="">1666</span>:         numeric and categorical data. Default is `False`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1667</span>:     return_frame : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1668</span>:         If `True`, return DataFrames for numeric and categorical data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1669</span>:         If `False`, return lists of column names. Default is `False`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1670</span>:     include_datetime : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1671</span>:         If `True`, include datetime columns in the processing.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1672</span>:         Default is `True`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1673</span>:     is_numeric_datetime : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1674</span>:         If `True`, consider datetime columns as numeric. Default is `True`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1675</span>:     return_target : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1676</span>:         If `True`, return the target data along with numeric and</pre>
<pre class="cython line score-0">&#xA0;<span class="">1677</span>:         categorical data. Default is `False`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1678</span>:     encode_cat_columns : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1679</span>:         If `True`, encode categorical variables. Default is `False`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1680</span>:     error : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1681</span>:         How to handle errors when target columns are not found. Options</pre>
<pre class="cython line score-0">&#xA0;<span class="">1682</span>:         are ``'warn'``, ``'raise'``, ``'ignore'``. Default is ``'warn'``.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1683</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1684</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">1685</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1686</span>:     tuple</pre>
<pre class="cython line score-0">&#xA0;<span class="">1687</span>:         If `return_frame` is `True`, returns a tuple of DataFrames</pre>
<pre class="cython line score-0">&#xA0;<span class="">1688</span>:         (`numeric_df`, `categorical_df`, `target_df`).</pre>
<pre class="cython line score-0">&#xA0;<span class="">1689</span>:         If `return_frame` is `False`, returns a tuple of lists</pre>
<pre class="cython line score-0">&#xA0;<span class="">1690</span>:         (`numeric_columns`, `categorical_columns`, `target_columns`).</pre>
<pre class="cython line score-0">&#xA0;<span class="">1691</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1692</span>:     Raises</pre>
<pre class="cython line score-0">&#xA0;<span class="">1693</span>:     ------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1694</span>:     ValueError</pre>
<pre class="cython line score-0">&#xA0;<span class="">1695</span>:         If `exclude_target` is `True` and `target_name` is not provided.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1696</span>:         If specified target columns do not exist in the DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">1697</span>:         and ``error`` is set to ``'raise'``.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1698</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1699</span>:     Notes</pre>
<pre class="cython line score-0">&#xA0;<span class="">1700</span>:     -----</pre>
<pre class="cython line score-0">&#xA0;<span class="">1701</span>:     The function processes a DataFrame to separate numeric and</pre>
<pre class="cython line score-0">&#xA0;<span class="">1702</span>:     categorical data, with optional inclusion of datetime columns.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1703</span>:     If `target_name` is provided, it can be excluded from the data</pre>
<pre class="cython line score-0">&#xA0;<span class="">1704</span>:     or returned separately. The function handles missing target</pre>
<pre class="cython line score-0">&#xA0;<span class="">1705</span>:     columns based on the ``error`` parameter.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1706</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1707</span>:     Mathematically, the separation of numeric and categorical columns</pre>
<pre class="cython line score-0">&#xA0;<span class="">1708</span>:     can be represented as:</pre>
<pre class="cython line score-0">&#xA0;<span class="">1709</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1710</span>:     .. math::</pre>
<pre class="cython line score-0">&#xA0;<span class="">1711</span>:         X_{\text{numeric}} = \{ x_i \mid x_i \in \mathbb{R}, \forall i \}</pre>
<pre class="cython line score-0">&#xA0;<span class="">1712</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1713</span>:     .. math::</pre>
<pre class="cython line score-0">&#xA0;<span class="">1714</span>:         X_{\text{categorical}} = \{ x_i \mid x_i \notin \mathbb{R}, \forall i \}</pre>
<pre class="cython line score-0">&#xA0;<span class="">1715</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1716</span>:     where :math:`X` is the set of all columns in the DataFrame,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1717</span>:     :math:`X_{\text{numeric}}` is the set of numeric columns, and</pre>
<pre class="cython line score-0">&#xA0;<span class="">1718</span>:     :math:`X_{\text{categorical}}` is the set of categorical columns.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1719</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1720</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">1721</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1722</span>:     &gt;&gt;&gt; from gofast.tools.mlutils import process_df</pre>
<pre class="cython line score-0">&#xA0;<span class="">1723</span>:     &gt;&gt;&gt; df = pd.DataFrame({'A': [1, 2, 3],</pre>
<pre class="cython line score-0">&#xA0;<span class="">1724</span>:     ...                    'B': ['a', 'b', 'c'],</pre>
<pre class="cython line score-0">&#xA0;<span class="">1725</span>:     ...                    'C': pd.to_datetime(['2020-01-01', '2020-01-02', '2020-01-03'])})</pre>
<pre class="cython line score-0">&#xA0;<span class="">1726</span>:     &gt;&gt;&gt; numeric_columns, categorical_columns = process_df(df)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1727</span>:     &gt;&gt;&gt; numeric_columns</pre>
<pre class="cython line score-0">&#xA0;<span class="">1728</span>:     ['A']</pre>
<pre class="cython line score-0">&#xA0;<span class="">1729</span>:     &gt;&gt;&gt; categorical_columns</pre>
<pre class="cython line score-0">&#xA0;<span class="">1730</span>:     ['B']</pre>
<pre class="cython line score-0">&#xA0;<span class="">1731</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1732</span>:     &gt;&gt;&gt; numeric_df, categorical_df = process_df(df, return_frame=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1733</span>:     &gt;&gt;&gt; numeric_df</pre>
<pre class="cython line score-0">&#xA0;<span class="">1734</span>:        A</pre>
<pre class="cython line score-0">&#xA0;<span class="">1735</span>:     0  1</pre>
<pre class="cython line score-0">&#xA0;<span class="">1736</span>:     1  2</pre>
<pre class="cython line score-0">&#xA0;<span class="">1737</span>:     2  3</pre>
<pre class="cython line score-0">&#xA0;<span class="">1738</span>:     &gt;&gt;&gt; categorical_df</pre>
<pre class="cython line score-0">&#xA0;<span class="">1739</span>:        B</pre>
<pre class="cython line score-0">&#xA0;<span class="">1740</span>:     0  a</pre>
<pre class="cython line score-0">&#xA0;<span class="">1741</span>:     1  b</pre>
<pre class="cython line score-0">&#xA0;<span class="">1742</span>:     2  c</pre>
<pre class="cython line score-0">&#xA0;<span class="">1743</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1744</span>:     &gt;&gt;&gt; numeric_columns, categorical_columns, target_columns = process_df(</pre>
<pre class="cython line score-0">&#xA0;<span class="">1745</span>:     ...     df, target_name='A', exclude_target=True, return_target=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1746</span>:     &gt;&gt;&gt; numeric_columns</pre>
<pre class="cython line score-0">&#xA0;<span class="">1747</span>:     []</pre>
<pre class="cython line score-0">&#xA0;<span class="">1748</span>:     &gt;&gt;&gt; categorical_columns</pre>
<pre class="cython line score-0">&#xA0;<span class="">1749</span>:     ['B']</pre>
<pre class="cython line score-0">&#xA0;<span class="">1750</span>:     &gt;&gt;&gt; target_columns</pre>
<pre class="cython line score-0">&#xA0;<span class="">1751</span>:     ['A']</pre>
<pre class="cython line score-0">&#xA0;<span class="">1752</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1753</span>:     See Also</pre>
<pre class="cython line score-0">&#xA0;<span class="">1754</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1755</span>:     pandas.DataFrame.select_dtypes : Select columns by data type.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1756</span>:     pandas.concat : Concatenate pandas objects along a particular axis.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1757</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1758</span>:     References</pre>
<pre class="cython line score-0">&#xA0;<span class="">1759</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1760</span>:     .. [1] McKinney, Wes. "pandas: a foundational Python library for data</pre>
<pre class="cython line score-0">&#xA0;<span class="">1761</span>:        analysis and statistics." Python for High Performance and Scientific</pre>
<pre class="cython line score-0">&#xA0;<span class="">1762</span>:        Computing (2011): 1-9.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1763</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">1764</span>: </pre>
<pre class="cython line score-33" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1765</span>:     is_frame(data, df_only =True, raise_exception=True, objname='data')</pre>
<pre class='cython code score-33 '>  <span class='trace'>__Pyx_TraceLine</span>(1765,0,<span class='error_goto'>__PYX_ERR(0, 1765, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_is_frame);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1765, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1765, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_data)) <span class='error_goto'>__PYX_ERR(0, 1765, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1765, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_df_only, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1765, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_raise_exception, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1765, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_objname, __pyx_n_u_data) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1765, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_2, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1765, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1766</span>:     if exclude_target and not target_name:</pre>
<pre class='cython code score-4 '>  <span class='trace'>__Pyx_TraceLine</span>(1766,0,<span class='error_goto'>__PYX_ERR(0, 1766, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_exclude_target); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1766, __pyx_L1_error)</span>
  if (__pyx_t_6) {
  } else {
    __pyx_t_5 = __pyx_t_6;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_target_name); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1766, __pyx_L1_error)</span>
  __pyx_t_7 = (!__pyx_t_6);
  __pyx_t_5 = __pyx_t_7;
  __pyx_L4_bool_binop_done:;
  if (unlikely(__pyx_t_5)) {
/*  */
  }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1767</span>:         raise ValueError("If exclude_target is True, target_name must be provided.")</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(1767,0,<span class='error_goto'>__PYX_ERR(0, 1767, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__56, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1767, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_4, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='error_goto'>__PYX_ERR(0, 1767, __pyx_L1_error)</span>
/*  */
  __pyx_tuple__56 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_If_exclude_target_is_True_target);<span class='error_goto'> if (unlikely(!__pyx_tuple__56)) __PYX_ERR(0, 1767, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__56);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__56);
</pre><pre class="cython line score-0">&#xA0;<span class="">1768</span>: </pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1769</span>:     if isinstance(target_name, str):</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(1769,0,<span class='error_goto'>__PYX_ERR(0, 1769, __pyx_L1_error)</span>)
  __pyx_t_5 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_target_name); 
  if (__pyx_t_5) {
/*  */
  }
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1770</span>:         target_name = [target_name]</pre>
<pre class='cython code score-9 '>    <span class='trace'>__Pyx_TraceLine</span>(1770,0,<span class='error_goto'>__PYX_ERR(0, 1770, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1770, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_name);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target_name);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 0, __pyx_v_target_name)) <span class='error_goto'>__PYX_ERR(0, 1770, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_target_name, __pyx_t_4);
    __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1771</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1772</span>:     if target_name:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1772,0,<span class='error_goto'>__PYX_ERR(0, 1772, __pyx_L1_error)</span>)
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_target_name); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1772, __pyx_L1_error)</span>
  if (__pyx_t_5) {
/*  */
  }
</pre><pre class="cython line score-63" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1773</span>:         missing_targets = [target for target in target_name if target not in data.columns]</pre>
<pre class='cython code score-63 '>    <span class='trace'>__Pyx_TraceLine</span>(1773,0,<span class='error_goto'>__PYX_ERR(0, 1773, __pyx_L1_error)</span>)
    { /* enter inner scope */
      __pyx_t_4 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1773, __pyx_L10_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_target_name)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_target_name)) {
        __pyx_t_3 = __pyx_v_target_name; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        __pyx_t_8 = 0;
        __pyx_t_9 = NULL;
      } else {
        __pyx_t_8 = -1; __pyx_t_3 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_target_name);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1773, __pyx_L10_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1773, __pyx_L10_error)</span>
      }
      for (;;) {
        if (likely(!__pyx_t_9)) {
          if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_3))) {
            {
              Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_3);
              #if !CYTHON_ASSUME_SAFE_MACROS
              if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1773, __pyx_L10_error)</span>
              #endif
              if (__pyx_t_8 &gt;= __pyx_temp) break;
            }
            #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
            __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_3, __pyx_t_8); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_8++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1773, __pyx_L10_error)</span>
            #else
            __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_3, __pyx_t_8); __pyx_t_8++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1773, __pyx_L10_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
            #endif
          } else {
            {
              Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_3);
              #if !CYTHON_ASSUME_SAFE_MACROS
              if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1773, __pyx_L10_error)</span>
              #endif
              if (__pyx_t_8 &gt;= __pyx_temp) break;
            }
            #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
            __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_3, __pyx_t_8); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_8++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1773, __pyx_L10_error)</span>
            #else
            __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_3, __pyx_t_8); __pyx_t_8++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1773, __pyx_L10_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
            #endif
          }
        } else {
          __pyx_t_2 = __pyx_t_9(__pyx_t_3);
          if (unlikely(!__pyx_t_2)) {
            PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
            if (exc_type) {
              if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
              else <span class='error_goto'>__PYX_ERR(0, 1773, __pyx_L10_error)</span>
            }
            break;
          }
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        }
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_8genexpr4__pyx_v_target, __pyx_t_2);
        __pyx_t_2 = 0;
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1773, __pyx_L10_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_8genexpr4__pyx_v_target, __pyx_t_2, Py_NE)); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1773, __pyx_L10_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        if (__pyx_t_5) {
          if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_4, (PyObject*)__pyx_8genexpr4__pyx_v_target))) <span class='error_goto'>__PYX_ERR(0, 1773, __pyx_L10_error)</span>
        }
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr4__pyx_v_target); __pyx_8genexpr4__pyx_v_target = 0;
      goto __pyx_L15_exit_scope;
      __pyx_L10_error:;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr4__pyx_v_target); __pyx_8genexpr4__pyx_v_target = 0;
      goto __pyx_L1_error;
      __pyx_L15_exit_scope:;
    } /* exit inner scope */
    __pyx_v_missing_targets = ((PyObject*)__pyx_t_4);
    __pyx_t_4 = 0;
</pre><pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1774</span>:         if missing_targets:</pre>
<pre class='cython code score-1 '>    <span class='trace'>__Pyx_TraceLine</span>(1774,0,<span class='error_goto'>__PYX_ERR(0, 1774, __pyx_L1_error)</span>)
    __pyx_t_5 = (<span class='py_macro_api'>PyList_GET_SIZE</span>(__pyx_v_missing_targets) != 0);
    if (__pyx_t_5) {
/*  */
    }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1775</span>:             if error == 'warn':</pre>
<pre class='cython code score-2 '>      <span class='trace'>__Pyx_TraceLine</span>(1775,0,<span class='error_goto'>__PYX_ERR(0, 1775, __pyx_L1_error)</span>)
      __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_error, __pyx_n_u_warn, Py_EQ)); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1775, __pyx_L1_error)</span>
      if (__pyx_t_5) {
/*  */
        goto __pyx_L17;
      }
</pre><pre class="cython line score-42" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1776</span>:                 warnings.warn(f"Target columns {missing_targets} not found in DataFrame.")</pre>
<pre class='cython code score-42 '>        <span class='trace'>__Pyx_TraceLine</span>(1776,0,<span class='error_goto'>__PYX_ERR(0, 1776, __pyx_L1_error)</span>)
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_warnings);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1776, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_warn);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1776, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1776, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        __pyx_t_8 = 0;
        __pyx_t_10 = 127;
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Target_columns);
        __pyx_t_8 += 15;
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Target_columns);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_kp_u_Target_columns);
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_missing_targets, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1776, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        __pyx_t_10 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_1) &gt; __pyx_t_10) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_1) : __pyx_t_10;
        __pyx_t_8 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_1);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_t_1);
        __pyx_t_1 = 0;
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_not_found_in_DataFrame);
        __pyx_t_8 += 24;
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_not_found_in_DataFrame);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 2, __pyx_kp_u_not_found_in_DataFrame);
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_3, 3, __pyx_t_8, __pyx_t_10);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1776, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        __pyx_t_3 = NULL;
        __pyx_t_11 = 0;
        #if CYTHON_UNPACK_METHODS
        if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
          __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
          if (likely(__pyx_t_3)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
            __pyx_t_11 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_t_1};
          __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_11, 1+__pyx_t_11);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1776, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        }
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1777</span>:             elif error == 'raise':</pre>
<pre class='cython code score-2 '>      <span class='trace'>__Pyx_TraceLine</span>(1777,0,<span class='error_goto'>__PYX_ERR(0, 1777, __pyx_L1_error)</span>)
      __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_error, __pyx_n_u_raise, Py_EQ)); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1777, __pyx_L1_error)</span>
      if (unlikely(__pyx_t_5)) {
/*  */
      }
      __pyx_L17:;
</pre><pre class="cython line score-27" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1778</span>:                 raise ValueError(f"Target columns {missing_targets} not found in DataFrame.")</pre>
<pre class='cython code score-27 '>        <span class='trace'>__Pyx_TraceLine</span>(1778,0,<span class='error_goto'>__PYX_ERR(0, 1778, __pyx_L1_error)</span>)
        __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1778, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        __pyx_t_8 = 0;
        __pyx_t_10 = 127;
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Target_columns);
        __pyx_t_8 += 15;
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Target_columns);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_kp_u_Target_columns);
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_missing_targets, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1778, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        __pyx_t_10 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) &gt; __pyx_t_10) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) : __pyx_t_10;
        __pyx_t_8 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_2);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_t_2);
        __pyx_t_2 = 0;
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_not_found_in_DataFrame);
        __pyx_t_8 += 24;
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_not_found_in_DataFrame);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 2, __pyx_kp_u_not_found_in_DataFrame);
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_4, 3, __pyx_t_8, __pyx_t_10);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1778, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1778, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_4, 0, 0, 0);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        <span class='error_goto'>__PYX_ERR(0, 1778, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">1779</span>:             # Filter out missing targets</pre>
<pre class="cython line score-64" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1780</span>:             target_name = [target for target in target_name if target in data.columns]</pre>
<pre class='cython code score-64 '>      <span class='trace'>__Pyx_TraceLine</span>(1780,0,<span class='error_goto'>__PYX_ERR(0, 1780, __pyx_L1_error)</span>)
      { /* enter inner scope */
        __pyx_t_4 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1780, __pyx_L20_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_target_name)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_target_name)) {
          __pyx_t_2 = __pyx_v_target_name; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
          __pyx_t_8 = 0;
          __pyx_t_9 = NULL;
        } else {
          __pyx_t_8 = -1; __pyx_t_2 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_target_name);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1780, __pyx_L20_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1780, __pyx_L20_error)</span>
        }
        for (;;) {
          if (likely(!__pyx_t_9)) {
            if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_2))) {
              {
                Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_2);
                #if !CYTHON_ASSUME_SAFE_MACROS
                if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1780, __pyx_L20_error)</span>
                #endif
                if (__pyx_t_8 &gt;= __pyx_temp) break;
              }
              #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
              __pyx_t_1 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_2, __pyx_t_8); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1); __pyx_t_8++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1780, __pyx_L20_error)</span>
              #else
              __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_2, __pyx_t_8); __pyx_t_8++;<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1780, __pyx_L20_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
              #endif
            } else {
              {
                Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_2);
                #if !CYTHON_ASSUME_SAFE_MACROS
                if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1780, __pyx_L20_error)</span>
                #endif
                if (__pyx_t_8 &gt;= __pyx_temp) break;
              }
              #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
              __pyx_t_1 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_2, __pyx_t_8); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1); __pyx_t_8++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1780, __pyx_L20_error)</span>
              #else
              __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_2, __pyx_t_8); __pyx_t_8++;<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1780, __pyx_L20_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
              #endif
            }
          } else {
            __pyx_t_1 = __pyx_t_9(__pyx_t_2);
            if (unlikely(!__pyx_t_1)) {
              PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
              if (exc_type) {
                if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
                else <span class='error_goto'>__PYX_ERR(0, 1780, __pyx_L20_error)</span>
              }
              break;
            }
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          }
          <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_8genexpr5__pyx_v_target, __pyx_t_1);
          __pyx_t_1 = 0;
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1780, __pyx_L20_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_8genexpr5__pyx_v_target, __pyx_t_1, Py_EQ)); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1780, __pyx_L20_error)</span>
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          if (__pyx_t_5) {
            if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_4, (PyObject*)__pyx_8genexpr5__pyx_v_target))) <span class='error_goto'>__PYX_ERR(0, 1780, __pyx_L20_error)</span>
          }
        }
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr5__pyx_v_target); __pyx_8genexpr5__pyx_v_target = 0;
        goto __pyx_L25_exit_scope;
        __pyx_L20_error:;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr5__pyx_v_target); __pyx_8genexpr5__pyx_v_target = 0;
        goto __pyx_L1_error;
        __pyx_L25_exit_scope:;
      } /* exit inner scope */
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_target_name, __pyx_t_4);
      __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1781</span>: </pre>
<pre class="cython line score-29" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1782</span>:     numeric_df = data.select_dtypes([np.number])</pre>
<pre class='cython code score-29 '>  <span class='trace'>__Pyx_TraceLine</span>(1782,0,<span class='error_goto'>__PYX_ERR(0, 1782, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_select_dtypes);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1782, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1782, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_number);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1782, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1782, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1782, __pyx_L1_error)</span>;
  __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_11 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_11 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_t_1};
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_11, 1+__pyx_t_11);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1782, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_v_numeric_df = __pyx_t_4;
  __pyx_t_4 = 0;
</pre><pre class="cython line score-29" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1783</span>:     categorical_df = data.select_dtypes(None, [np.number])</pre>
<pre class='cython code score-29 '>  <span class='trace'>__Pyx_TraceLine</span>(1783,0,<span class='error_goto'>__PYX_ERR(0, 1783, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_select_dtypes);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1783, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1783, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_number);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1783, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1783, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1783, __pyx_L1_error)</span>;
  __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_11 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_11 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_3, Py_None, __pyx_t_1};
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_11, 2+__pyx_t_11);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1783, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_v_categorical_df = __pyx_t_4;
  __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1784</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1785</span>:     if include_datetime:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1785,0,<span class='error_goto'>__PYX_ERR(0, 1785, __pyx_L1_error)</span>)
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_include_datetime); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1785, __pyx_L1_error)</span>
  if (__pyx_t_5) {
/*  */
  }
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1786</span>:         datetime_df = data.select_dtypes(['datetime'])</pre>
<pre class='cython code score-25 '>    <span class='trace'>__Pyx_TraceLine</span>(1786,0,<span class='error_goto'>__PYX_ERR(0, 1786, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_select_dtypes);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1786, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1786, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_datetime);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_datetime);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_n_u_datetime)) <span class='error_goto'>__PYX_ERR(0, 1786, __pyx_L1_error)</span>;
    __pyx_t_3 = NULL;
    __pyx_t_11 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_11 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_t_1};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_11, 1+__pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1786, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    __pyx_v_datetime_df = __pyx_t_4;
    __pyx_t_4 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1787</span>:         if is_numeric_datetime:</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(1787,0,<span class='error_goto'>__PYX_ERR(0, 1787, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_is_numeric_datetime); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1787, __pyx_L1_error)</span>
    if (__pyx_t_5) {
/*  */
      goto __pyx_L27;
    }
</pre><pre class="cython line score-36" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1788</span>:             numeric_df = pd.concat([numeric_df, datetime_df], axis=1)</pre>
<pre class='cython code score-36 '>      <span class='trace'>__Pyx_TraceLine</span>(1788,0,<span class='error_goto'>__PYX_ERR(0, 1788, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1788, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_concat);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1788, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_4 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1788, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_numeric_df);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_numeric_df);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 0, __pyx_v_numeric_df)) <span class='error_goto'>__PYX_ERR(0, 1788, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_datetime_df);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_datetime_df);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 1, __pyx_v_datetime_df)) <span class='error_goto'>__PYX_ERR(0, 1788, __pyx_L1_error)</span>;
      __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1788, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1788, __pyx_L1_error)</span>;
      __pyx_t_4 = 0;
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1788, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_axis, __pyx_int_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1788, __pyx_L1_error)</span>
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_1, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1788, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_numeric_df, __pyx_t_3);
      __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1789</span>:         else:</pre>
<pre class="cython line score-36" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1790</span>:             categorical_df = pd.concat([categorical_df, datetime_df], axis=1)</pre>
<pre class='cython code score-36 '>    <span class='trace'>__Pyx_TraceLine</span>(1790,0,<span class='error_goto'>__PYX_ERR(0, 1790, __pyx_L1_error)</span>)
    /*else*/ {
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1790, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_concat);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1790, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1790, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_categorical_df);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_categorical_df);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_categorical_df)) <span class='error_goto'>__PYX_ERR(0, 1790, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_datetime_df);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_datetime_df);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 1, __pyx_v_datetime_df)) <span class='error_goto'>__PYX_ERR(0, 1790, __pyx_L1_error)</span>;
      __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1790, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1790, __pyx_L1_error)</span>;
      __pyx_t_3 = 0;
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1790, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_axis, __pyx_int_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1790, __pyx_L1_error)</span>
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_4, __pyx_t_1, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1790, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_categorical_df, __pyx_t_2);
      __pyx_t_2 = 0;
    }
    __pyx_L27:;
</pre><pre class="cython line score-0">&#xA0;<span class="">1791</span>: </pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1792</span>:     target_df = pd.DataFrame()</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(1792,0,<span class='error_goto'>__PYX_ERR(0, 1792, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1792, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1792, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_11 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_11 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_11, 0+__pyx_t_11);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1792, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  __pyx_v_target_df = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1793</span>:     if target_name:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1793,0,<span class='error_goto'>__PYX_ERR(0, 1793, __pyx_L1_error)</span>)
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_target_name); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1793, __pyx_L1_error)</span>
  if (__pyx_t_5) {
/*  */
  }
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1794</span>:         target_df = data[target_name]</pre>
<pre class='cython code score-3 '>    <span class='trace'>__Pyx_TraceLine</span>(1794,0,<span class='error_goto'>__PYX_ERR(0, 1794, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_v_target_name);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1794, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_target_df, __pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1795</span>: </pre>
<pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1796</span>:     if exclude_target and target_name:</pre>
<pre class='cython code score-4 '>  <span class='trace'>__Pyx_TraceLine</span>(1796,0,<span class='error_goto'>__PYX_ERR(0, 1796, __pyx_L1_error)</span>)
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_exclude_target); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1796, __pyx_L1_error)</span>
  if (__pyx_t_7) {
  } else {
    __pyx_t_5 = __pyx_t_7;
    goto __pyx_L30_bool_binop_done;
  }
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_target_name); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1796, __pyx_L1_error)</span>
  __pyx_t_5 = __pyx_t_7;
  __pyx_L30_bool_binop_done:;
  if (__pyx_t_5) {
/*  */
  }
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1797</span>:         numeric_df = numeric_df.drop(columns=target_name, errors='ignore')</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(1797,0,<span class='error_goto'>__PYX_ERR(0, 1797, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_numeric_df, __pyx_n_s_drop);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1797, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1797, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_columns, __pyx_v_target_name) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1797, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_errors, __pyx_n_u_ignore) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1797, __pyx_L1_error)</span>
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_empty_tuple, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1797, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_numeric_df, __pyx_t_3);
    __pyx_t_3 = 0;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1798</span>:         categorical_df = categorical_df.drop(columns=target_name, errors='ignore')</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(1798,0,<span class='error_goto'>__PYX_ERR(0, 1798, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_categorical_df, __pyx_n_s_drop);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1798, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1798, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_columns, __pyx_v_target_name) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1798, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_errors, __pyx_n_u_ignore) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1798, __pyx_L1_error)</span>
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_empty_tuple, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1798, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_categorical_df, __pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1799</span>: </pre>
<pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1800</span>:     if encode_cat_columns and not categorical_df.empty:</pre>
<pre class='cython code score-7 '>  <span class='trace'>__Pyx_TraceLine</span>(1800,0,<span class='error_goto'>__PYX_ERR(0, 1800, __pyx_L1_error)</span>)
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_encode_cat_columns); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1800, __pyx_L1_error)</span>
  if (__pyx_t_7) {
  } else {
    __pyx_t_5 = __pyx_t_7;
    goto __pyx_L33_bool_binop_done;
  }
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_categorical_df, __pyx_n_s_empty);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1800, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_2); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1800, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_6 = (!__pyx_t_7);
  __pyx_t_5 = __pyx_t_6;
  __pyx_L33_bool_binop_done:;
  if (__pyx_t_5) {
/*  */
  }
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1801</span>:         categorical_df = soft_encoder ( categorical_df )</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(1801,0,<span class='error_goto'>__PYX_ERR(0, 1801, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_soft_encoder);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1801, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = NULL;
    __pyx_t_11 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_11 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_categorical_df};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_11, 1+__pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1801, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_categorical_df, __pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1802</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1803</span>:     if return_frame:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1803,0,<span class='error_goto'>__PYX_ERR(0, 1803, __pyx_L1_error)</span>)
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_return_frame); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1803, __pyx_L1_error)</span>
  if (__pyx_t_5) {
/*  */
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1804</span>:         if return_target:</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(1804,0,<span class='error_goto'>__PYX_ERR(0, 1804, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_return_target); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1804, __pyx_L1_error)</span>
    if (__pyx_t_5) {
/*  */
    }
</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1805</span>:             return numeric_df, categorical_df, target_df</pre>
<pre class='cython code score-15 '>      <span class='trace'>__Pyx_TraceLine</span>(1805,0,<span class='error_goto'>__PYX_ERR(0, 1805, __pyx_L1_error)</span>)
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
      __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1805, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_numeric_df);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_numeric_df);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_numeric_df)) <span class='error_goto'>__PYX_ERR(0, 1805, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_categorical_df);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_categorical_df);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_v_categorical_df)) <span class='error_goto'>__PYX_ERR(0, 1805, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_df);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target_df);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 2, __pyx_v_target_df)) <span class='error_goto'>__PYX_ERR(0, 1805, __pyx_L1_error)</span>;
      __pyx_r = __pyx_t_2;
      __pyx_t_2 = 0;
      goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1806</span>:         else:</pre>
<pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1807</span>:             return numeric_df, categorical_df</pre>
<pre class='cython code score-12 '>    <span class='trace'>__Pyx_TraceLine</span>(1807,0,<span class='error_goto'>__PYX_ERR(0, 1807, __pyx_L1_error)</span>)
    /*else*/ {
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
      __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1807, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_numeric_df);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_numeric_df);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_numeric_df)) <span class='error_goto'>__PYX_ERR(0, 1807, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_categorical_df);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_categorical_df);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_v_categorical_df)) <span class='error_goto'>__PYX_ERR(0, 1807, __pyx_L1_error)</span>;
      __pyx_r = __pyx_t_2;
      __pyx_t_2 = 0;
      goto __pyx_L0;
    }
</pre><pre class="cython line score-0">&#xA0;<span class="">1808</span>:     else:</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1809</span>:         if return_target:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1809,0,<span class='error_goto'>__PYX_ERR(0, 1809, __pyx_L1_error)</span>)
  /*else*/ {
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_return_target); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1809, __pyx_L1_error)</span>
    if (__pyx_t_5) {
/*  */
    }
</pre><pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1810</span>:             return (</pre>
<pre class='cython code score-1 '>      <span class='trace'>__Pyx_TraceLine</span>(1810,0,<span class='error_goto'>__PYX_ERR(0, 1810, __pyx_L1_error)</span>)
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
</pre><pre class="cython line score-49" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1811</span>:                 numeric_df.columns.tolist(), categorical_df.columns.tolist(),</pre>
<pre class='cython code score-49 '>      <span class='trace'>__Pyx_TraceLine</span>(1811,0,<span class='error_goto'>__PYX_ERR(0, 1811, __pyx_L1_error)</span>)
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_numeric_df, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1811, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_tolist);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1811, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = NULL;
      __pyx_t_11 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
        __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
        if (likely(__pyx_t_1)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
          __pyx_t_11 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_1, NULL};
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_11, 0+__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1811, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      }
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_categorical_df, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1811, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_tolist);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1811, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = NULL;
      __pyx_t_11 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
        __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
        if (likely(__pyx_t_1)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
          __pyx_t_11 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_1, NULL};
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_11, 0+__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1811, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      }
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(1811,0,<span class='error_goto'>__PYX_ERR(0, 1811, __pyx_L1_error)</span>)
      __pyx_t_12 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1811, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_12, 0, __pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1811, __pyx_L1_error)</span>;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_12, 1, __pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1811, __pyx_L1_error)</span>;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_12, 2, __pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1811, __pyx_L1_error)</span>;
      __pyx_t_2 = 0;
      __pyx_t_3 = 0;
      __pyx_t_4 = 0;
      __pyx_r = __pyx_t_12;
      __pyx_t_12 = 0;
      goto __pyx_L0;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1812</span>:                 target_df.columns.tolist()</pre>
<pre class='cython code score-19 '>      <span class='trace'>__Pyx_TraceLine</span>(1812,0,<span class='error_goto'>__PYX_ERR(0, 1812, __pyx_L1_error)</span>)
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_target_df, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1812, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_tolist);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1812, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = NULL;
      __pyx_t_11 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_12))) {
        __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_12);
        if (likely(__pyx_t_1)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_12);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_12, function);
          __pyx_t_11 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_1, NULL};
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_12, __pyx_callargs+1-__pyx_t_11, 0+__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1812, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
      }
</pre><pre class="cython line score-0">&#xA0;<span class="">1813</span>:                 )</pre>
<pre class="cython line score-0">&#xA0;<span class="">1814</span>:         else:</pre>
<pre class="cython line score-48" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1815</span>:             return numeric_df.columns.tolist(), categorical_df.columns.tolist()</pre>
<pre class='cython code score-48 '>    <span class='trace'>__Pyx_TraceLine</span>(1815,0,<span class='error_goto'>__PYX_ERR(0, 1815, __pyx_L1_error)</span>)
    /*else*/ {
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_numeric_df, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1815, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_tolist);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1815, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_4 = NULL;
      __pyx_t_11 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
        __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
        if (likely(__pyx_t_4)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
          __pyx_t_11 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_4, NULL};
        __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_11, 0+__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        if (unlikely(!__pyx_t_12)) <span class='error_goto'>__PYX_ERR(0, 1815, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      }
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_categorical_df, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1815, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_tolist);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1815, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_4 = NULL;
      __pyx_t_11 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
        __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
        if (likely(__pyx_t_4)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
          __pyx_t_11 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_4, NULL};
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_11, 0+__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1815, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      }
      __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1815, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_12);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_t_12)) <span class='error_goto'>__PYX_ERR(0, 1815, __pyx_L1_error)</span>;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1815, __pyx_L1_error)</span>;
      __pyx_t_12 = 0;
      __pyx_t_3 = 0;
      __pyx_r = __pyx_t_2;
      __pyx_t_2 = 0;
      goto __pyx_L0;
    }
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">1816</span>: </pre>
<pre class="cython line score-79" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1817</span>: def base_url_tgz_fetch(</pre>
<pre class='cython code score-79 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_37base_url_tgz_fetch(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_36base_url_tgz_fetch, "\n    Fetches a tgz file from a given URL, saves it to a specified directory, \n    and optionally extracts a specific file from it.\n\n    This function downloads a .tgz file from the specified URL and saves it to \n    the given directory. If a specific file  within the .tgz archive is \n    specified, it attempts to extract this file. If no specific file is \n    mentioned, it will extract all contents of the archive.\n\n    Parameters\n    ----------\n    data_url : str\n        The URL where the .tgz file is located.\n    data_path : str\n        The absolute path to the directory where the .tgz file will be saved.\n    tgz_filename : str\n        The name of the .tgz file to be downloaded.\n    file_to_retrieve : Optional[str], optional\n        The specific file within the .tgz archive to extract. If None, all \n        contents of the archive are extracted, by default None.\n    **kwargs : dict\n        Additional keyword arguments to be passed to the extraction method.\n\n    Returns\n    -------\n    Union[str, None]\n        The path to the extracted file if a specific file is requested,\n        None otherwise.\n\n    Examples\n    --------\n    &gt;&gt;&gt; from gofast.tools.mlutils import base_url_tgz_fetch\n    &gt;&gt;&gt; data_url = 'https://example.com/data.tar.gz'\n    &gt;&gt;&gt; data_path = '/path/to/save/data'\n    &gt;&gt;&gt; tgz_filename = 'data.tar.gz'\n    &gt;&gt;&gt; file_to_retrieve = 'data.csv'\n    &gt;&gt;&gt; extracted_file_path = base_url_tgz_fetch(\n    ... data_url, tgz_filename, data_path,file_to_retrieve)\n    &gt;&gt;&gt; print(extracted_file_path)\n\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_37base_url_tgz_fetch = {"base_url_tgz_fetch", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_37base_url_tgz_fetch, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_36base_url_tgz_fetch};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_37base_url_tgz_fetch(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_data_url = 0;
  PyObject *__pyx_v_tgz_filename = 0;
  PyObject *__pyx_v_data_path = 0;
  PyObject *__pyx_v_file_to_retrieve = 0;
  PyObject *__pyx_v_kwargs = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("base_url_tgz_fetch (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  __pyx_v_kwargs = <span class='py_c_api'>PyDict_New</span>(); if (unlikely(!__pyx_v_kwargs)) return NULL;
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_v_kwargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_data_url,&amp;__pyx_n_s_tgz_filename,&amp;__pyx_n_s_data_path,&amp;__pyx_n_s_file_to_retrieve,0};
  PyObject* values[4] = {0,0,0,0};
/*  */
  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_kwargs);
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_36base_url_tgz_fetch(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_data_url, PyObject *__pyx_v_tgz_filename, PyObject *__pyx_v_data_path, PyObject *__pyx_v_file_to_retrieve, PyObject *__pyx_v_kwargs) {
  PyObject *__pyx_v_urllib = NULL;
  PyObject *__pyx_v_tgz_path = NULL;
  PyObject *__pyx_v_e = NULL;
  PyObject *__pyx_v_tar = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__57)
  <span class='trace'>__Pyx_TraceCall</span>("base_url_tgz_fetch", __pyx_f[0], 1817, 0, <span class='error_goto'>__PYX_ERR(0, 1817, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data_path);
/*  */
  /* function exit code */
  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.base_url_tgz_fetch", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_urllib);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_tgz_path);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_e);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_tar);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_data_path);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__160 = <span class='py_c_api'>PyTuple_Pack</span>(9, __pyx_n_s_data_url, __pyx_n_s_tgz_filename, __pyx_n_s_data_path, __pyx_n_s_file_to_retrieve, __pyx_n_s_kwargs, __pyx_n_s_urllib, __pyx_n_s_tgz_path, __pyx_n_s_e, __pyx_n_s_tar);<span class='error_goto'> if (unlikely(!__pyx_tuple__160)) __PYX_ERR(0, 1817, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__160);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__160);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(1817,0,<span class='error_goto'>__PYX_ERR(0, 1817, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1817, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_data_url, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1817, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_tgz_filename, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1817, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_data_path, __pyx_kp_s_Optional_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1817, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_file_to_retrieve, __pyx_kp_s_Optional_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1817, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return, __pyx_kp_s_Union_str_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1817, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_37base_url_tgz_fetch, 0, __pyx_n_s_base_url_tgz_fetch, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__57));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1817, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_4, __pyx_tuple__153);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_4, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_base_url_tgz_fetch, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1817, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_codeobj__57 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(4, 0, 0, 9, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__160, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_base_url_tgz_fetch, 1817, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__57)) __PYX_ERR(0, 1817, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">1818</span>:     data_url: str, tgz_filename: str,</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1819</span>:     data_path: Optional[str]=None,</pre>
<pre class='cython code score-2 '>    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-71" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1820</span>:     file_to_retrieve: Optional[str] = None,</pre>
<pre class='cython code score-71 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data_url)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1817, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_tgz_filename)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1817, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("base_url_tgz_fetch", 0, 2, 4, 1); <span class='error_goto'>__PYX_ERR(0, 1817, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data_path);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1817, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_file_to_retrieve);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1817, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, __pyx_v_kwargs, values + 0, kwd_pos_args, "base_url_tgz_fetch") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1817, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_data_url = ((PyObject*)values[0]);
    __pyx_v_tgz_filename = ((PyObject*)values[1]);
    __pyx_v_data_path = values[2];
    __pyx_v_file_to_retrieve = values[3];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("base_url_tgz_fetch", 0, 2, 4, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1817, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_kwargs); __pyx_v_kwargs = 0;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.base_url_tgz_fetch", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_data_url), (&amp;PyUnicode_Type), 0, "data_url", 1))) <span class='error_goto'>__PYX_ERR(0, 1818, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_tgz_filename), (&amp;PyUnicode_Type), 0, "tgz_filename", 1))) <span class='error_goto'>__PYX_ERR(0, 1818, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_36base_url_tgz_fetch(__pyx_self, __pyx_v_data_url, __pyx_v_tgz_filename, __pyx_v_data_path, __pyx_v_file_to_retrieve, __pyx_v_kwargs);
</pre><pre class="cython line score-0">&#xA0;<span class="">1821</span>:     **kwargs</pre>
<pre class="cython line score-0">&#xA0;<span class="">1822</span>:     ) -&gt; Union[str, None]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">1823</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">1824</span>:     Fetches a tgz file from a given URL, saves it to a specified directory,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1825</span>:     and optionally extracts a specific file from it.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1826</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1827</span>:     This function downloads a .tgz file from the specified URL and saves it to</pre>
<pre class="cython line score-0">&#xA0;<span class="">1828</span>:     the given directory. If a specific file  within the .tgz archive is</pre>
<pre class="cython line score-0">&#xA0;<span class="">1829</span>:     specified, it attempts to extract this file. If no specific file is</pre>
<pre class="cython line score-0">&#xA0;<span class="">1830</span>:     mentioned, it will extract all contents of the archive.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1831</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1832</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">1833</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1834</span>:     data_url : str</pre>
<pre class="cython line score-0">&#xA0;<span class="">1835</span>:         The URL where the .tgz file is located.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1836</span>:     data_path : str</pre>
<pre class="cython line score-0">&#xA0;<span class="">1837</span>:         The absolute path to the directory where the .tgz file will be saved.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1838</span>:     tgz_filename : str</pre>
<pre class="cython line score-0">&#xA0;<span class="">1839</span>:         The name of the .tgz file to be downloaded.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1840</span>:     file_to_retrieve : Optional[str], optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1841</span>:         The specific file within the .tgz archive to extract. If None, all</pre>
<pre class="cython line score-0">&#xA0;<span class="">1842</span>:         contents of the archive are extracted, by default None.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1843</span>:     **kwargs : dict</pre>
<pre class="cython line score-0">&#xA0;<span class="">1844</span>:         Additional keyword arguments to be passed to the extraction method.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1845</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1846</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">1847</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1848</span>:     Union[str, None]</pre>
<pre class="cython line score-0">&#xA0;<span class="">1849</span>:         The path to the extracted file if a specific file is requested,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1850</span>:         None otherwise.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1851</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1852</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">1853</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1854</span>:     &gt;&gt;&gt; from gofast.tools.mlutils import base_url_tgz_fetch</pre>
<pre class="cython line score-0">&#xA0;<span class="">1855</span>:     &gt;&gt;&gt; data_url = 'https://example.com/data.tar.gz'</pre>
<pre class="cython line score-0">&#xA0;<span class="">1856</span>:     &gt;&gt;&gt; data_path = '/path/to/save/data'</pre>
<pre class="cython line score-0">&#xA0;<span class="">1857</span>:     &gt;&gt;&gt; tgz_filename = 'data.tar.gz'</pre>
<pre class="cython line score-0">&#xA0;<span class="">1858</span>:     &gt;&gt;&gt; file_to_retrieve = 'data.csv'</pre>
<pre class="cython line score-0">&#xA0;<span class="">1859</span>:     &gt;&gt;&gt; extracted_file_path = base_url_tgz_fetch(</pre>
<pre class="cython line score-0">&#xA0;<span class="">1860</span>:     ... data_url, tgz_filename, data_path,file_to_retrieve)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1861</span>:     &gt;&gt;&gt; print(extracted_file_path)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1862</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1863</span>:     """</pre>
<pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1864</span>:     import urllib.request</pre>
<pre class='cython code score-7 '>  <span class='trace'>__Pyx_TraceLine</span>(1864,0,<span class='error_goto'>__PYX_ERR(0, 1864, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_urllib_request, 0, 0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1864, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_urllib = __pyx_t_1;
  __pyx_t_1 = 0;
/*  */
  __pyx_tuple__58 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_n_s_urllib, __pyx_n_s_request);<span class='error_goto'> if (unlikely(!__pyx_tuple__58)) __PYX_ERR(0, 1864, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__58);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__58);
</pre><pre class="cython line score-0">&#xA0;<span class="">1865</span>:     # Use a default data directory if none is provided</pre>
<pre class="cython line score-48" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1866</span>:     data_path = data_path or os.path.join(os.getcwd(), 'tgz_data')</pre>
<pre class='cython code score-48 '>  <span class='trace'>__Pyx_TraceLine</span>(1866,0,<span class='error_goto'>__PYX_ERR(0, 1866, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_data_path); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1866, __pyx_L1_error)</span>
  if (!__pyx_t_2) {
  } else {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data_path);
    __pyx_t_1 = __pyx_v_data_path;
    goto __pyx_L3_bool_binop_done;
  }
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1866, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1866, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_join);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1866, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1866, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_getcwd);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1866, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_6 = NULL;
  __pyx_t_8 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
    __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
    if (likely(__pyx_t_6)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
      __pyx_t_8 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_6, NULL};
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_8, 0+__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 1866, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  }
  __pyx_t_7 = NULL;
  __pyx_t_8 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
    __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
    if (likely(__pyx_t_7)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
      __pyx_t_8 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_7, __pyx_t_5, __pyx_n_u_tgz_data};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_8, 2+__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1866, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
  __pyx_t_1 = __pyx_t_3;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_L3_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_data_path, __pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1867</span>: </pre>
<pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1868</span>:     if not os.path.isdir(data_path):</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(1868,0,<span class='error_goto'>__PYX_ERR(0, 1868, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1868, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1868, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_isdir);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1868, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = NULL;
  __pyx_t_8 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_4)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_8 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_v_data_path};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1868, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_1); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1868, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_9 = (!__pyx_t_2);
  if (__pyx_t_9) {
/*  */
  }
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1869</span>:         os.makedirs(data_path, exist_ok=True)</pre>
<pre class='cython code score-26 '>    <span class='trace'>__Pyx_TraceLine</span>(1869,0,<span class='error_goto'>__PYX_ERR(0, 1869, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1869, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_makedirs);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1869, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1869, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data_path);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data_path);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_data_path)) <span class='error_goto'>__PYX_ERR(0, 1869, __pyx_L1_error)</span>;
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1869, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_exist_ok, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1869, __pyx_L1_error)</span>
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_1, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1869, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1870</span>: </pre>
<pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1871</span>:     tgz_path = os.path.join(data_path, tgz_filename)</pre>
<pre class='cython code score-22 '>  <span class='trace'>__Pyx_TraceLine</span>(1871,0,<span class='error_goto'>__PYX_ERR(0, 1871, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1871, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1871, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_join);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1871, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = NULL;
  __pyx_t_8 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
    __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
    if (likely(__pyx_t_1)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
      __pyx_t_8 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_1, __pyx_v_data_path, __pyx_v_tgz_filename};
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_8, 2+__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 1871, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  }
  __pyx_v_tgz_path = __pyx_t_5;
  __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1872</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1873</span>:     # Attempt to download the .tgz file</pre>
<pre class="cython line score-13" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1874</span>:     try:</pre>
<pre class='cython code score-13 '>  <span class='trace'>__Pyx_TraceLine</span>(1874,0,<span class='error_goto'>__PYX_ERR(0, 1874, __pyx_L1_error)</span>)
  {
    /*try:*/ {
/*  */
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
    goto __pyx_L11_try_end;
    __pyx_L6_error:;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
/*  */
    __pyx_L8_except_error:;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_10);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
    <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_10, __pyx_t_11, __pyx_t_12);
    goto __pyx_L1_error;
    __pyx_L9_except_return:;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_10);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
    <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_10, __pyx_t_11, __pyx_t_12);
    goto __pyx_L0;
    __pyx_L11_try_end:;
  }
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1875</span>:         urllib.request.urlretrieve(data_url, tgz_path)</pre>
<pre class='cython code score-20 '>      <span class='trace'>__Pyx_TraceLine</span>(1875,0,<span class='error_goto'>__PYX_ERR(0, 1875, __pyx_L6_error)</span>)
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_urllib, __pyx_n_s_request);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1875, __pyx_L6_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_urlretrieve);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1875, __pyx_L6_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_4 = NULL;
      __pyx_t_8 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
        __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
        if (likely(__pyx_t_4)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
          __pyx_t_8 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[3] = {__pyx_t_4, __pyx_v_data_url, __pyx_v_tgz_path};
        __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_8, 2+__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 1875, __pyx_L6_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1876</span>:     except Exception as e:</pre>
<pre class='cython code score-22 '>    <span class='trace'>__Pyx_TraceLine</span>(1876,0,<span class='error_goto'>__PYX_ERR(0, 1876, __pyx_L8_except_error)</span>)
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyErr_ExceptionMatches</span>(((PyObject *)(&amp;((PyTypeObject*)PyExc_Exception)[0])));
    if (__pyx_t_8) {
      <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.base_url_tgz_fetch", __pyx_clineno, __pyx_lineno, __pyx_filename);
      if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_5, &amp;__pyx_t_1, &amp;__pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1876, __pyx_L8_except_error)</span>
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_5);
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      __pyx_v_e = __pyx_t_1;
      /*try:*/ {
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(1876,0,<span class='error_goto'>__PYX_ERR(0, 1876, __pyx_L17_error)</span>)
      /*finally:*/ {
        __pyx_L17_error:;
        /*exception exit:*/{
          __Pyx_PyThreadState_declare
          __Pyx_PyThreadState_assign
          __pyx_t_17 = 0; __pyx_t_18 = 0; __pyx_t_19 = 0; __pyx_t_20 = 0; __pyx_t_21 = 0; __pyx_t_22 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
          if (PY_MAJOR_VERSION &gt;= 3) <span class='pyx_c_api'>__Pyx_ExceptionSwap</span>(&amp;__pyx_t_20, &amp;__pyx_t_21, &amp;__pyx_t_22);
          if ((PY_MAJOR_VERSION &lt; 3) || unlikely(<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_17, &amp;__pyx_t_18, &amp;__pyx_t_19) &lt; 0)) <span class='pyx_c_api'>__Pyx_ErrFetch</span>(&amp;__pyx_t_17, &amp;__pyx_t_18, &amp;__pyx_t_19);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_17);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_18);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_19);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_20);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_21);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_22);
          __pyx_t_8 = __pyx_lineno; __pyx_t_15 = __pyx_clineno; __pyx_t_16 = __pyx_filename;
          {
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_e); __pyx_v_e = 0;
          }
          if (PY_MAJOR_VERSION &gt;= 3) {
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_20);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_21);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_22);
            <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_20, __pyx_t_21, __pyx_t_22);
          }
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_17);
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_18);
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_19);
          <span class='pyx_c_api'>__Pyx_ErrRestore</span>(__pyx_t_17, __pyx_t_18, __pyx_t_19);
          __pyx_t_17 = 0; __pyx_t_18 = 0; __pyx_t_19 = 0; __pyx_t_20 = 0; __pyx_t_21 = 0; __pyx_t_22 = 0;
          __pyx_lineno = __pyx_t_8; __pyx_clineno = __pyx_t_15; __pyx_filename = __pyx_t_16;
          goto __pyx_L8_except_error;
        }
        __pyx_L16_return: {
          __pyx_t_22 = __pyx_r;
          __pyx_r = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_e); __pyx_v_e = 0;
          __pyx_r = __pyx_t_22;
          __pyx_t_22 = 0;
          goto __pyx_L9_except_return;
        }
      }
    }
    goto __pyx_L8_except_error;
</pre><pre class="cython line score-43" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1877</span>:         print(f"Failed to download {tgz_filename} from {data_url}. Error: {e}")</pre>
<pre class='cython code score-43 '>        <span class='trace'>__Pyx_TraceLine</span>(1877,0,<span class='error_goto'>__PYX_ERR(0, 1877, __pyx_L17_error)</span>)
        __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(6);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1877, __pyx_L17_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        __pyx_t_13 = 0;
        __pyx_t_14 = 127;
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Failed_to_download);
        __pyx_t_13 += 19;
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Failed_to_download);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_kp_u_Failed_to_download);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_tgz_filename);
        __pyx_t_14 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_tgz_filename) &gt; __pyx_t_14) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_tgz_filename) : __pyx_t_14;
        __pyx_t_13 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_v_tgz_filename);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_tgz_filename);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_v_tgz_filename);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_from);
        __pyx_t_13 += 6;
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_from);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 2, __pyx_kp_u_from);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data_url);
        __pyx_t_14 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_data_url) &gt; __pyx_t_14) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_data_url) : __pyx_t_14;
        __pyx_t_13 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_v_data_url);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data_url);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 3, __pyx_v_data_url);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Error);
        __pyx_t_13 += 9;
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Error);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 4, __pyx_kp_u_Error);
        __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_e, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1877, __pyx_L17_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        __pyx_t_14 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_7) &gt; __pyx_t_14) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_7) : __pyx_t_14;
        __pyx_t_13 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_7);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_7);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 5, __pyx_t_7);
        __pyx_t_7 = 0;
        __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_3, 6, __pyx_t_13, __pyx_t_14);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1877, __pyx_L17_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_print, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1877, __pyx_L17_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1878</span>:         return None</pre>
<pre class='cython code score-5 '>        <span class='trace'>__Pyx_TraceLine</span>(1878,0,<span class='error_goto'>__PYX_ERR(0, 1878, __pyx_L17_error)</span>)
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
        __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        goto __pyx_L16_return;
      }
</pre><pre class="cython line score-0">&#xA0;<span class="">1879</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1880</span>:     # If a specific file to retrieve is not specified, extract all contents</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1881</span>:     if not file_to_retrieve:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1881,0,<span class='error_goto'>__PYX_ERR(0, 1881, __pyx_L1_error)</span>)
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_file_to_retrieve); if (unlikely((__pyx_t_9 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1881, __pyx_L1_error)</span>
  __pyx_t_2 = (!__pyx_t_9);
  if (__pyx_t_2) {
/*  */
  }
</pre><pre class="cython line score-13" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1882</span>:         try:</pre>
<pre class='cython code score-13 '>    <span class='trace'>__Pyx_TraceLine</span>(1882,0,<span class='error_goto'>__PYX_ERR(0, 1882, __pyx_L1_error)</span>)
    {
      /*try:*/ {
/*  */
      }
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      goto __pyx_L29_try_end;
      __pyx_L24_error:;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
/*  */
      __pyx_L26_except_error:;
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_10);
      <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_12, __pyx_t_11, __pyx_t_10);
      goto __pyx_L1_error;
      __pyx_L27_except_return:;
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_10);
      <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_12, __pyx_t_11, __pyx_t_10);
      goto __pyx_L0;
      __pyx_L29_try_end:;
    }
</pre><pre class="cython line score-77" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1883</span>:             with tarfile.open(tgz_path, "r:gz") as tar:</pre>
<pre class='cython code score-77 '>        <span class='trace'>__Pyx_TraceLine</span>(1883,0,<span class='error_goto'>__PYX_ERR(0, 1883, __pyx_L24_error)</span>)
        /*with:*/ {
          <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_tarfile);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1883, __pyx_L24_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_open);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1883, __pyx_L24_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          __pyx_t_1 = NULL;
          __pyx_t_15 = 0;
          #if CYTHON_UNPACK_METHODS
          if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
            __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
            if (likely(__pyx_t_1)) {
              PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
              <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
              __pyx_t_15 = 1;
            }
          }
          #endif
          {
            PyObject *__pyx_callargs[3] = {__pyx_t_1, __pyx_v_tgz_path, __pyx_kp_u_r_gz};
            __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_15, 2+__pyx_t_15);
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
            if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1883, __pyx_L24_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
          }
          __pyx_t_22 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_4, __pyx_n_s_exit);<span class='error_goto'> if (unlikely(!__pyx_t_22)) __PYX_ERR(0, 1883, __pyx_L24_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_22);
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_4, __pyx_n_s_enter);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1883, __pyx_L30_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          __pyx_t_3 = NULL;
          __pyx_t_15 = 0;
          #if CYTHON_UNPACK_METHODS
          if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
            __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
            if (likely(__pyx_t_3)) {
              PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
              <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
              __pyx_t_15 = 1;
            }
          }
          #endif
          {
            PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
            __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_15, 0+__pyx_t_15);
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
            if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 1883, __pyx_L30_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          }
          __pyx_t_1 = __pyx_t_5;
          __pyx_t_5 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
          /*try:*/ {
            {
              /*try:*/ {
                __pyx_v_tar = __pyx_t_1;
                __pyx_t_1 = 0;
/*  */
              }
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_21); __pyx_t_21 = 0;
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_20); __pyx_t_20 = 0;
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_19); __pyx_t_19 = 0;
              goto __pyx_L39_try_end;
              __pyx_L34_error:;
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
              /*except:*/ {
                <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.base_url_tgz_fetch", __pyx_clineno, __pyx_lineno, __pyx_filename);
                if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_5, &amp;__pyx_t_4, &amp;__pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1883, __pyx_L36_except_error)</span>
                <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_5);
                <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_4);
                <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
                __pyx_t_3 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_t_5, __pyx_t_4, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1883, __pyx_L36_except_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
                __pyx_t_18 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_22, __pyx_t_3, NULL);
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_22); __pyx_t_22 = 0;
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
                if (unlikely(!__pyx_t_18)) <span class='error_goto'>__PYX_ERR(0, 1883, __pyx_L36_except_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_18);
                __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_18);
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_18); __pyx_t_18 = 0;
                if (__pyx_t_2 &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1883, __pyx_L36_except_error)</span>
                __pyx_t_9 = (!__pyx_t_2);
                if (unlikely(__pyx_t_9)) {
                  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_5);
                  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
                  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_1);
                  <span class='pyx_c_api'>__Pyx_ErrRestoreWithState</span>(__pyx_t_5, __pyx_t_4, __pyx_t_1);
                  __pyx_t_5 = 0; __pyx_t_4 = 0; __pyx_t_1 = 0; 
                  <span class='error_goto'>__PYX_ERR(0, 1883, __pyx_L36_except_error)</span>
                }
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
                goto __pyx_L35_exception_handled;
              }
              __pyx_L36_except_error:;
              <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_21);
              <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_20);
              <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_19);
              <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_21, __pyx_t_20, __pyx_t_19);
              goto __pyx_L24_error;
              __pyx_L35_exception_handled:;
              <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_21);
              <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_20);
              <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_19);
              <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_21, __pyx_t_20, __pyx_t_19);
              __pyx_L39_try_end:;
            }
          }
          /*finally:*/ {
            /*normal exit:*/{
              if (__pyx_t_22) {
                __pyx_t_19 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_22, __pyx_tuple__48, NULL);
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_22); __pyx_t_22 = 0;
                if (unlikely(!__pyx_t_19)) <span class='error_goto'>__PYX_ERR(0, 1883, __pyx_L24_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_19);
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_19); __pyx_t_19 = 0;
              }
              goto __pyx_L33;
            }
            __pyx_L33:;
          }
          goto __pyx_L43;
          __pyx_L30_error:;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_22); __pyx_t_22 = 0;
          goto __pyx_L24_error;
          __pyx_L43:;
        }
</pre><pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1884</span>:                 tar.extractall(path=data_path)</pre>
<pre class='cython code score-14 '>                <span class='trace'>__Pyx_TraceLine</span>(1884,0,<span class='error_goto'>__PYX_ERR(0, 1884, __pyx_L34_error)</span>)
                __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_tar, __pyx_n_s_extractall);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1884, __pyx_L34_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
                __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1884, __pyx_L34_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
                if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_path, __pyx_v_data_path) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1884, __pyx_L34_error)</span>
                __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_empty_tuple, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1884, __pyx_L34_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1885</span>:         except Exception as e:</pre>
<pre class='cython code score-22 '>      <span class='trace'>__Pyx_TraceLine</span>(1885,0,<span class='error_goto'>__PYX_ERR(0, 1885, __pyx_L26_except_error)</span>)
      __pyx_t_15 = <span class='pyx_c_api'>__Pyx_PyErr_ExceptionMatches</span>(((PyObject *)(&amp;((PyTypeObject*)PyExc_Exception)[0])));
      if (__pyx_t_15) {
        <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.base_url_tgz_fetch", __pyx_clineno, __pyx_lineno, __pyx_filename);
        if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_1, &amp;__pyx_t_4, &amp;__pyx_t_5) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1885, __pyx_L26_except_error)</span>
        <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
        <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_4);
        <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
        __pyx_v_e = __pyx_t_4;
        /*try:*/ {
/*  */
        <span class='trace'>__Pyx_TraceLine</span>(1885,0,<span class='error_goto'>__PYX_ERR(0, 1885, __pyx_L49_error)</span>)
        /*finally:*/ {
          __pyx_L49_error:;
          /*exception exit:*/{
            __Pyx_PyThreadState_declare
            __Pyx_PyThreadState_assign
            __pyx_t_22 = 0; __pyx_t_19 = 0; __pyx_t_20 = 0; __pyx_t_21 = 0; __pyx_t_18 = 0; __pyx_t_17 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
            if (PY_MAJOR_VERSION &gt;= 3) <span class='pyx_c_api'>__Pyx_ExceptionSwap</span>(&amp;__pyx_t_21, &amp;__pyx_t_18, &amp;__pyx_t_17);
            if ((PY_MAJOR_VERSION &lt; 3) || unlikely(<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_22, &amp;__pyx_t_19, &amp;__pyx_t_20) &lt; 0)) <span class='pyx_c_api'>__Pyx_ErrFetch</span>(&amp;__pyx_t_22, &amp;__pyx_t_19, &amp;__pyx_t_20);
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_22);
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_19);
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_20);
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_21);
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_18);
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_17);
            __pyx_t_15 = __pyx_lineno; __pyx_t_8 = __pyx_clineno; __pyx_t_23 = __pyx_filename;
            {
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_e); __pyx_v_e = 0;
            }
            if (PY_MAJOR_VERSION &gt;= 3) {
              <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_21);
              <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_18);
              <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_17);
              <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_21, __pyx_t_18, __pyx_t_17);
            }
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_22);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_19);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_20);
            <span class='pyx_c_api'>__Pyx_ErrRestore</span>(__pyx_t_22, __pyx_t_19, __pyx_t_20);
            __pyx_t_22 = 0; __pyx_t_19 = 0; __pyx_t_20 = 0; __pyx_t_21 = 0; __pyx_t_18 = 0; __pyx_t_17 = 0;
            __pyx_lineno = __pyx_t_15; __pyx_clineno = __pyx_t_8; __pyx_filename = __pyx_t_23;
            goto __pyx_L26_except_error;
          }
          __pyx_L48_return: {
            __pyx_t_17 = __pyx_r;
            __pyx_r = 0;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_e); __pyx_v_e = 0;
            __pyx_r = __pyx_t_17;
            __pyx_t_17 = 0;
            goto __pyx_L27_except_return;
          }
        }
      }
      goto __pyx_L26_except_error;
</pre><pre class="cython line score-33" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1886</span>:             print(f"Failed to extract {tgz_filename}. Error: {e}")</pre>
<pre class='cython code score-33 '>          <span class='trace'>__Pyx_TraceLine</span>(1886,0,<span class='error_goto'>__PYX_ERR(0, 1886, __pyx_L49_error)</span>)
          __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1886, __pyx_L49_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          __pyx_t_13 = 0;
          __pyx_t_14 = 127;
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Failed_to_extract);
          __pyx_t_13 += 18;
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Failed_to_extract);
          <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_kp_u_Failed_to_extract);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_tgz_filename);
          __pyx_t_14 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_tgz_filename) &gt; __pyx_t_14) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_tgz_filename) : __pyx_t_14;
          __pyx_t_13 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_v_tgz_filename);
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_tgz_filename);
          <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_v_tgz_filename);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Error);
          __pyx_t_13 += 9;
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Error);
          <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 2, __pyx_kp_u_Error);
          __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_e, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1886, __pyx_L49_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
          __pyx_t_14 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_7) &gt; __pyx_t_14) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_7) : __pyx_t_14;
          __pyx_t_13 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_7);
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_7);
          <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 3, __pyx_t_7);
          __pyx_t_7 = 0;
          __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_3, 4, __pyx_t_13, __pyx_t_14);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1886, __pyx_L49_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_print, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1886, __pyx_L49_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1887</span>:             return None</pre>
<pre class='cython code score-5 '>          <span class='trace'>__Pyx_TraceLine</span>(1887,0,<span class='error_goto'>__PYX_ERR(0, 1887, __pyx_L49_error)</span>)
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
          __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
          goto __pyx_L48_return;
        }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1888</span>:         return None</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(1888,0,<span class='error_goto'>__PYX_ERR(0, 1888, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1889</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1890</span>:     # If a specific file is specified, attempt to extract just that file</pre>
<pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1891</span>:     try:</pre>
<pre class='cython code score-15 '>  <span class='trace'>__Pyx_TraceLine</span>(1891,0,<span class='error_goto'>__PYX_ERR(0, 1891, __pyx_L1_error)</span>)
  {
    /*try:*/ {
/*  */
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
    goto __pyx_L60_try_end;
    __pyx_L55_error:;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
/*  */
    __pyx_L57_except_error:;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_10);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
    <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_10, __pyx_t_11, __pyx_t_12);
    goto __pyx_L1_error;
    __pyx_L59_try_return:;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_10);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
    <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_10, __pyx_t_11, __pyx_t_12);
    goto __pyx_L0;
    __pyx_L58_except_return:;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_10);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
    <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_10, __pyx_t_11, __pyx_t_12);
    goto __pyx_L0;
    __pyx_L60_try_end:;
  }
</pre><pre class="cython line score-80" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1892</span>:         with tarfile.open(tgz_path, "r:gz") as tar:</pre>
<pre class='cython code score-80 '>      <span class='trace'>__Pyx_TraceLine</span>(1892,0,<span class='error_goto'>__PYX_ERR(0, 1892, __pyx_L55_error)</span>)
      /*with:*/ {
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_tarfile);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1892, __pyx_L55_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_open);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1892, __pyx_L55_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        __pyx_t_4 = NULL;
        __pyx_t_8 = 0;
        #if CYTHON_UNPACK_METHODS
        if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
          __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
          if (likely(__pyx_t_4)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
            __pyx_t_8 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[3] = {__pyx_t_4, __pyx_v_tgz_path, __pyx_kp_u_r_gz};
          __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_8, 2+__pyx_t_8);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
          if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 1892, __pyx_L55_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        }
        __pyx_t_17 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_5, __pyx_n_s_exit);<span class='error_goto'> if (unlikely(!__pyx_t_17)) __PYX_ERR(0, 1892, __pyx_L55_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_17);
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_5, __pyx_n_s_enter);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1892, __pyx_L61_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        __pyx_t_3 = NULL;
        __pyx_t_8 = 0;
        #if CYTHON_UNPACK_METHODS
        if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
          __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
          if (likely(__pyx_t_3)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
            __pyx_t_8 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_8, 0+__pyx_t_8);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1892, __pyx_L61_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        }
        __pyx_t_4 = __pyx_t_1;
        __pyx_t_1 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        /*try:*/ {
          {
            /*try:*/ {
              __pyx_v_tar = __pyx_t_4;
              __pyx_t_4 = 0;
/*  */
            }
            __pyx_L65_error:;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
            /*except:*/ {
              <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.base_url_tgz_fetch", __pyx_clineno, __pyx_lineno, __pyx_filename);
              if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_3, &amp;__pyx_t_1, &amp;__pyx_t_5) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1892, __pyx_L67_except_error)</span>
              <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
              <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
              <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_5);
              __pyx_t_4 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_t_3, __pyx_t_1, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1892, __pyx_L67_except_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
              __pyx_t_19 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_17, __pyx_t_4, NULL);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_17); __pyx_t_17 = 0;
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
              if (unlikely(!__pyx_t_19)) <span class='error_goto'>__PYX_ERR(0, 1892, __pyx_L67_except_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_19);
              __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_19);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_19); __pyx_t_19 = 0;
              if (__pyx_t_9 &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1892, __pyx_L67_except_error)</span>
              __pyx_t_2 = (!__pyx_t_9);
              if (unlikely(__pyx_t_2)) {
                <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
                <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
                <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_5);
                <span class='pyx_c_api'>__Pyx_ErrRestoreWithState</span>(__pyx_t_3, __pyx_t_1, __pyx_t_5);
                __pyx_t_3 = 0; __pyx_t_1 = 0; __pyx_t_5 = 0; 
                <span class='error_goto'>__PYX_ERR(0, 1892, __pyx_L67_except_error)</span>
              }
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
              goto __pyx_L66_exception_handled;
            }
            __pyx_L67_except_error:;
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_18);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_21);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_20);
            <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_18, __pyx_t_21, __pyx_t_20);
            goto __pyx_L55_error;
            __pyx_L69_try_return:;
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_18);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_21);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_20);
            <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_18, __pyx_t_21, __pyx_t_20);
            goto __pyx_L62_return;
            __pyx_L66_exception_handled:;
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_18);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_21);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_20);
            <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_18, __pyx_t_21, __pyx_t_20);
          }
        }
        /*finally:*/ {
          /*normal exit:*/{
            if (__pyx_t_17) {
              __pyx_t_20 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_17, __pyx_tuple__48, NULL);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_17); __pyx_t_17 = 0;
              if (unlikely(!__pyx_t_20)) <span class='error_goto'>__PYX_ERR(0, 1892, __pyx_L55_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_20);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_20); __pyx_t_20 = 0;
            }
            goto __pyx_L64;
          }
          __pyx_L62_return: {
            __pyx_t_20 = __pyx_r;
            __pyx_r = 0;
            if (__pyx_t_17) {
              __pyx_t_21 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_17, __pyx_tuple__48, NULL);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_17); __pyx_t_17 = 0;
              if (unlikely(!__pyx_t_21)) <span class='error_goto'>__PYX_ERR(0, 1892, __pyx_L55_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_21);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_21); __pyx_t_21 = 0;
            }
            __pyx_r = __pyx_t_20;
            __pyx_t_20 = 0;
            goto __pyx_L59_try_return;
          }
          __pyx_L64:;
        }
        goto __pyx_L74;
        __pyx_L61_error:;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_17); __pyx_t_17 = 0;
        goto __pyx_L55_error;
        __pyx_L74:;
      }
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1893</span>:             tar.extract(file_to_retrieve, path=data_path, **kwargs)</pre>
<pre class='cython code score-25 '>              <span class='trace'>__Pyx_TraceLine</span>(1893,0,<span class='error_goto'>__PYX_ERR(0, 1893, __pyx_L65_error)</span>)
              __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_tar, __pyx_n_s_extract);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1893, __pyx_L65_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
              __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1893, __pyx_L65_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_file_to_retrieve);
              <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_file_to_retrieve);
              if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_v_file_to_retrieve)) <span class='error_goto'>__PYX_ERR(0, 1893, __pyx_L65_error)</span>;
              __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1893, __pyx_L65_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
              if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_path, __pyx_v_data_path) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1893, __pyx_L65_error)</span>
              __pyx_t_1 = __pyx_t_3;
              __pyx_t_3 = 0;
              if (<span class='pyx_c_api'>__Pyx_MergeKeywords</span>(__pyx_t_1, __pyx_v_kwargs) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1893, __pyx_L65_error)</span>
              __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_4, __pyx_t_5, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1893, __pyx_L65_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1894</span>:             return os.path.join(data_path, file_to_retrieve)</pre>
<pre class='cython code score-23 '>              <span class='trace'>__Pyx_TraceLine</span>(1894,0,<span class='error_goto'>__PYX_ERR(0, 1894, __pyx_L65_error)</span>)
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
              <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1894, __pyx_L65_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
              __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1894, __pyx_L65_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
              __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_join);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1894, __pyx_L65_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
              __pyx_t_5 = NULL;
              __pyx_t_8 = 0;
              #if CYTHON_UNPACK_METHODS
              if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
                __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
                if (likely(__pyx_t_5)) {
                  PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
                  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
                  <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
                  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
                  __pyx_t_8 = 1;
                }
              }
              #endif
              {
                PyObject *__pyx_callargs[3] = {__pyx_t_5, __pyx_v_data_path, __pyx_v_file_to_retrieve};
                __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_8, 2+__pyx_t_8);
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
                if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1894, __pyx_L65_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
              }
              __pyx_r = __pyx_t_3;
              __pyx_t_3 = 0;
              goto __pyx_L69_try_return;
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1895</span>:     except Exception as e:</pre>
<pre class='cython code score-22 '>    <span class='trace'>__Pyx_TraceLine</span>(1895,0,<span class='error_goto'>__PYX_ERR(0, 1895, __pyx_L57_except_error)</span>)
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyErr_ExceptionMatches</span>(((PyObject *)(&amp;((PyTypeObject*)PyExc_Exception)[0])));
    if (__pyx_t_8) {
      <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.base_url_tgz_fetch", __pyx_clineno, __pyx_lineno, __pyx_filename);
      if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_5, &amp;__pyx_t_1, &amp;__pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1895, __pyx_L57_except_error)</span>
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_5);
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      __pyx_v_e = __pyx_t_1;
      /*try:*/ {
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(1895,0,<span class='error_goto'>__PYX_ERR(0, 1895, __pyx_L80_error)</span>)
      /*finally:*/ {
        __pyx_L80_error:;
        /*exception exit:*/{
          __Pyx_PyThreadState_declare
          __Pyx_PyThreadState_assign
          __pyx_t_17 = 0; __pyx_t_20 = 0; __pyx_t_21 = 0; __pyx_t_18 = 0; __pyx_t_19 = 0; __pyx_t_22 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
          if (PY_MAJOR_VERSION &gt;= 3) <span class='pyx_c_api'>__Pyx_ExceptionSwap</span>(&amp;__pyx_t_18, &amp;__pyx_t_19, &amp;__pyx_t_22);
          if ((PY_MAJOR_VERSION &lt; 3) || unlikely(<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_17, &amp;__pyx_t_20, &amp;__pyx_t_21) &lt; 0)) <span class='pyx_c_api'>__Pyx_ErrFetch</span>(&amp;__pyx_t_17, &amp;__pyx_t_20, &amp;__pyx_t_21);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_17);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_20);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_21);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_18);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_19);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_22);
          __pyx_t_8 = __pyx_lineno; __pyx_t_15 = __pyx_clineno; __pyx_t_24 = __pyx_filename;
          {
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_e); __pyx_v_e = 0;
          }
          if (PY_MAJOR_VERSION &gt;= 3) {
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_18);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_19);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_22);
            <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_18, __pyx_t_19, __pyx_t_22);
          }
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_17);
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_20);
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_21);
          <span class='pyx_c_api'>__Pyx_ErrRestore</span>(__pyx_t_17, __pyx_t_20, __pyx_t_21);
          __pyx_t_17 = 0; __pyx_t_20 = 0; __pyx_t_21 = 0; __pyx_t_18 = 0; __pyx_t_19 = 0; __pyx_t_22 = 0;
          __pyx_lineno = __pyx_t_8; __pyx_clineno = __pyx_t_15; __pyx_filename = __pyx_t_24;
          goto __pyx_L57_except_error;
        }
        __pyx_L79_return: {
          __pyx_t_22 = __pyx_r;
          __pyx_r = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_e); __pyx_v_e = 0;
          __pyx_r = __pyx_t_22;
          __pyx_t_22 = 0;
          goto __pyx_L58_except_return;
        }
      }
    }
    goto __pyx_L57_except_error;
</pre><pre class="cython line score-44" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1896</span>:         print(f"Failed to extract {file_to_retrieve} from {tgz_filename}. Error: {e}")</pre>
<pre class='cython code score-44 '>        <span class='trace'>__Pyx_TraceLine</span>(1896,0,<span class='error_goto'>__PYX_ERR(0, 1896, __pyx_L80_error)</span>)
        __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(6);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1896, __pyx_L80_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        __pyx_t_13 = 0;
        __pyx_t_14 = 127;
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Failed_to_extract);
        __pyx_t_13 += 18;
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Failed_to_extract);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_kp_u_Failed_to_extract);
        __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_file_to_retrieve, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1896, __pyx_L80_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        __pyx_t_14 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_7) &gt; __pyx_t_14) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_7) : __pyx_t_14;
        __pyx_t_13 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_7);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_7);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_t_7);
        __pyx_t_7 = 0;
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_from);
        __pyx_t_13 += 6;
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_from);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 2, __pyx_kp_u_from);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_tgz_filename);
        __pyx_t_14 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_tgz_filename) &gt; __pyx_t_14) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_tgz_filename) : __pyx_t_14;
        __pyx_t_13 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_v_tgz_filename);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_tgz_filename);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 3, __pyx_v_tgz_filename);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Error);
        __pyx_t_13 += 9;
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Error);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 4, __pyx_kp_u_Error);
        __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_e, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1896, __pyx_L80_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        __pyx_t_14 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_7) &gt; __pyx_t_14) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_7) : __pyx_t_14;
        __pyx_t_13 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_7);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_7);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 5, __pyx_t_7);
        __pyx_t_7 = 0;
        __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_4, 6, __pyx_t_13, __pyx_t_14);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1896, __pyx_L80_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_print, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1896, __pyx_L80_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1897</span>:         return None</pre>
<pre class='cython code score-5 '>        <span class='trace'>__Pyx_TraceLine</span>(1897,0,<span class='error_goto'>__PYX_ERR(0, 1897, __pyx_L80_error)</span>)
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
        __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        goto __pyx_L79_return;
      }
</pre><pre class="cython line score-0">&#xA0;<span class="">1898</span>: </pre>
<pre class="cython line score-78" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1899</span>: def fetch_tgz_from_url(</pre>
<pre class='cython code score-78 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_39fetch_tgz_from_url(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_38fetch_tgz_from_url, "\n    Fetches a tgz file from a given URL, saves it to a specified directory, \n    and optionally extracts a specific file from it.\n\n    This function downloads a .tgz file from the specified URL and saves it to \n    the given directory. If a specific file  within the .tgz archive is \n    specified, it attempts to extract this file. If no specific file is \n    mentioned, it will extract all contents of the archive.\n\n    Parameters\n    ----------\n    data_url : str\n        The URL where the .tgz file is located.\n    data_path : str\n        The absolute path to the directory where the .tgz file will be saved.\n    tgz_filename : str\n        The name of the .tgz file to be downloaded.\n    file_to_retrieve : Optional[str], optional\n        The specific file within the .tgz archive to extract. If None, all \n        contents of the archive are extracted, by default None.\n    **kwargs : dict\n        Additional keyword arguments to be passed to the extraction method.\n\n    Returns\n    -------\n    Union[str, None]\n        The path to the extracted file if a specific file is requested,\n        None otherwise.\n\n    Examples\n    --------\n    &gt;&gt;&gt; from gofast.tools.mlutils import fetch_tgz_from_url\n    &gt;&gt;&gt; data_url = 'https://example.com/data.tar.gz'\n    &gt;&gt;&gt; data_path = '/path/to/save/data'\n    &gt;&gt;&gt; tgz_filename = 'data.tar.gz'\n    &gt;&gt;&gt; file_to_retrieve = 'data.csv'\n    &gt;&gt;&gt; extracted_file_path = fetch_tgz_from_url(\n    ... data_url, tgz_filename, data_path,file_to_retrieve)\n    &gt;&gt;&gt; print(extracted_file_path)\n\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_39fetch_tgz_from_url = {"fetch_tgz_from_url", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_39fetch_tgz_from_url, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_38fetch_tgz_from_url};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_39fetch_tgz_from_url(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_data_url = 0;
  PyObject *__pyx_v_tgz_filename = 0;
  PyObject *__pyx_v_data_path = 0;
  PyObject *__pyx_v_file_to_retrieve = 0;
  PyObject *__pyx_v_kwargs = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("fetch_tgz_from_url (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  __pyx_v_kwargs = <span class='py_c_api'>PyDict_New</span>(); if (unlikely(!__pyx_v_kwargs)) return NULL;
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_v_kwargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_data_url,&amp;__pyx_n_s_tgz_filename,&amp;__pyx_n_s_data_path,&amp;__pyx_n_s_file_to_retrieve,0};
  PyObject* values[4] = {0,0,0,0};
/*  */
  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_kwargs);
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_38fetch_tgz_from_url(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_data_url, PyObject *__pyx_v_tgz_filename, PyObject *__pyx_v_data_path, PyObject *__pyx_v_file_to_retrieve, PyObject *__pyx_v_kwargs) {
  PyObject *__pyx_v_tgz_path = NULL;
  PyObject *__pyx_v_t = NULL;
  PyObject *__pyx_v_tar = NULL;
  PyObject *__pyx_v_e = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__59)
  <span class='trace'>__Pyx_TraceCall</span>("fetch_tgz_from_url", __pyx_f[0], 1899, 0, <span class='error_goto'>__PYX_ERR(0, 1899, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data_path);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.fetch_tgz_from_url", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_tgz_path);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_t);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_tar);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_e);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_data_path);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__161 = <span class='py_c_api'>PyTuple_Pack</span>(9, __pyx_n_s_data_url, __pyx_n_s_tgz_filename, __pyx_n_s_data_path, __pyx_n_s_file_to_retrieve, __pyx_n_s_kwargs, __pyx_n_s_tgz_path, __pyx_n_s_t, __pyx_n_s_tar, __pyx_n_s_e);<span class='error_goto'> if (unlikely(!__pyx_tuple__161)) __PYX_ERR(0, 1899, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__161);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__161);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(1899,0,<span class='error_goto'>__PYX_ERR(0, 1899, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1899, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_data_url, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1899, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_tgz_filename, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1899, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_data_path, __pyx_kp_s_Optional_str_Path) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1899, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_file_to_retrieve, __pyx_kp_s_Optional_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1899, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_return, __pyx_kp_s_Optional_Path) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1899, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_39fetch_tgz_from_url, 0, __pyx_n_s_fetch_tgz_from_url, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__59));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1899, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_3, __pyx_tuple__153);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_3, __pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_fetch_tgz_from_url, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1899, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_codeobj__59 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(4, 0, 0, 9, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__161, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_fetch_tgz_from_url, 1899, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__59)) __PYX_ERR(0, 1899, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">1900</span>:     data_url: str, tgz_filename: str,</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1901</span>:     data_path: Optional[str, Path]=None,</pre>
<pre class='cython code score-2 '>    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-71" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1902</span>:     file_to_retrieve: Optional[str] = None,</pre>
<pre class='cython code score-71 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data_url)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1899, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_tgz_filename)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1899, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("fetch_tgz_from_url", 0, 2, 4, 1); <span class='error_goto'>__PYX_ERR(0, 1899, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data_path);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1899, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_file_to_retrieve);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1899, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, __pyx_v_kwargs, values + 0, kwd_pos_args, "fetch_tgz_from_url") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1899, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_data_url = ((PyObject*)values[0]);
    __pyx_v_tgz_filename = ((PyObject*)values[1]);
    __pyx_v_data_path = values[2];
    __pyx_v_file_to_retrieve = values[3];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("fetch_tgz_from_url", 0, 2, 4, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1899, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_kwargs); __pyx_v_kwargs = 0;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.fetch_tgz_from_url", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_data_url), (&amp;PyUnicode_Type), 0, "data_url", 1))) <span class='error_goto'>__PYX_ERR(0, 1900, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_tgz_filename), (&amp;PyUnicode_Type), 0, "tgz_filename", 1))) <span class='error_goto'>__PYX_ERR(0, 1900, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_38fetch_tgz_from_url(__pyx_self, __pyx_v_data_url, __pyx_v_tgz_filename, __pyx_v_data_path, __pyx_v_file_to_retrieve, __pyx_v_kwargs);
</pre><pre class="cython line score-0">&#xA0;<span class="">1903</span>:     **kwargs</pre>
<pre class="cython line score-0">&#xA0;<span class="">1904</span>:     ) -&gt; Optional[Path]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">1905</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">1906</span>:     Fetches a tgz file from a given URL, saves it to a specified directory,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1907</span>:     and optionally extracts a specific file from it.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1908</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1909</span>:     This function downloads a .tgz file from the specified URL and saves it to</pre>
<pre class="cython line score-0">&#xA0;<span class="">1910</span>:     the given directory. If a specific file  within the .tgz archive is</pre>
<pre class="cython line score-0">&#xA0;<span class="">1911</span>:     specified, it attempts to extract this file. If no specific file is</pre>
<pre class="cython line score-0">&#xA0;<span class="">1912</span>:     mentioned, it will extract all contents of the archive.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1913</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1914</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">1915</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1916</span>:     data_url : str</pre>
<pre class="cython line score-0">&#xA0;<span class="">1917</span>:         The URL where the .tgz file is located.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1918</span>:     data_path : str</pre>
<pre class="cython line score-0">&#xA0;<span class="">1919</span>:         The absolute path to the directory where the .tgz file will be saved.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1920</span>:     tgz_filename : str</pre>
<pre class="cython line score-0">&#xA0;<span class="">1921</span>:         The name of the .tgz file to be downloaded.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1922</span>:     file_to_retrieve : Optional[str], optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">1923</span>:         The specific file within the .tgz archive to extract. If None, all</pre>
<pre class="cython line score-0">&#xA0;<span class="">1924</span>:         contents of the archive are extracted, by default None.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1925</span>:     **kwargs : dict</pre>
<pre class="cython line score-0">&#xA0;<span class="">1926</span>:         Additional keyword arguments to be passed to the extraction method.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1927</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1928</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">1929</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1930</span>:     Union[str, None]</pre>
<pre class="cython line score-0">&#xA0;<span class="">1931</span>:         The path to the extracted file if a specific file is requested,</pre>
<pre class="cython line score-0">&#xA0;<span class="">1932</span>:         None otherwise.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1933</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1934</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">1935</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1936</span>:     &gt;&gt;&gt; from gofast.tools.mlutils import fetch_tgz_from_url</pre>
<pre class="cython line score-0">&#xA0;<span class="">1937</span>:     &gt;&gt;&gt; data_url = 'https://example.com/data.tar.gz'</pre>
<pre class="cython line score-0">&#xA0;<span class="">1938</span>:     &gt;&gt;&gt; data_path = '/path/to/save/data'</pre>
<pre class="cython line score-0">&#xA0;<span class="">1939</span>:     &gt;&gt;&gt; tgz_filename = 'data.tar.gz'</pre>
<pre class="cython line score-0">&#xA0;<span class="">1940</span>:     &gt;&gt;&gt; file_to_retrieve = 'data.csv'</pre>
<pre class="cython line score-0">&#xA0;<span class="">1941</span>:     &gt;&gt;&gt; extracted_file_path = fetch_tgz_from_url(</pre>
<pre class="cython line score-0">&#xA0;<span class="">1942</span>:     ... data_url, tgz_filename, data_path,file_to_retrieve)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1943</span>:     &gt;&gt;&gt; print(extracted_file_path)</pre>
<pre class="cython line score-0">&#xA0;<span class="">1944</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1945</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">1946</span>:     # Use a default data directory if none is provided</pre>
<pre class="cython line score-48" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1947</span>:     data_path = data_path or os.path.join(os.getcwd(), 'tgz_data')</pre>
<pre class='cython code score-48 '>  <span class='trace'>__Pyx_TraceLine</span>(1947,0,<span class='error_goto'>__PYX_ERR(0, 1947, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_data_path); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1947, __pyx_L1_error)</span>
  if (!__pyx_t_2) {
  } else {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data_path);
    __pyx_t_1 = __pyx_v_data_path;
    goto __pyx_L3_bool_binop_done;
  }
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1947, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1947, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_join);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1947, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1947, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_getcwd);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1947, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_6 = NULL;
  __pyx_t_8 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
    __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
    if (likely(__pyx_t_6)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
      __pyx_t_8 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_6, NULL};
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_8, 0+__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 1947, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  }
  __pyx_t_7 = NULL;
  __pyx_t_8 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
    __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
    if (likely(__pyx_t_7)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
      __pyx_t_8 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_7, __pyx_t_5, __pyx_n_u_tgz_data};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_8, 2+__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1947, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
  __pyx_t_1 = __pyx_t_3;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_L3_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_data_path, __pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1948</span>: </pre>
<pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1949</span>:     if not os.path.isdir(data_path):</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(1949,0,<span class='error_goto'>__PYX_ERR(0, 1949, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1949, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1949, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_isdir);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1949, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = NULL;
  __pyx_t_8 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_4)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_8 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_v_data_path};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1949, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_1); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1949, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_9 = (!__pyx_t_2);
  if (__pyx_t_9) {
/*  */
  }
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1950</span>:         os.makedirs(data_path, exist_ok=True)</pre>
<pre class='cython code score-26 '>    <span class='trace'>__Pyx_TraceLine</span>(1950,0,<span class='error_goto'>__PYX_ERR(0, 1950, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1950, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_makedirs);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1950, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1950, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data_path);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data_path);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_data_path)) <span class='error_goto'>__PYX_ERR(0, 1950, __pyx_L1_error)</span>;
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1950, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_exist_ok, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1950, __pyx_L1_error)</span>
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_1, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1950, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1951</span>: </pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1952</span>:     data_path = Path(data_path)</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(1952,0,<span class='error_goto'>__PYX_ERR(0, 1952, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_Path);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1952, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_1 = NULL;
  __pyx_t_8 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
    __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
    if (likely(__pyx_t_1)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
      __pyx_t_8 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_v_data_path};
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 1952, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_data_path, __pyx_t_5);
  __pyx_t_5 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1953</span>:     tgz_path = data_path / tgz_filename</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1953,0,<span class='error_goto'>__PYX_ERR(0, 1953, __pyx_L1_error)</span>)
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyNumber_Divide</span>(__pyx_v_data_path, __pyx_v_tgz_filename);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1953, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_v_tgz_path = __pyx_t_5;
  __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1954</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1955</span>:     # Setup tqdm progress bar for the download</pre>
<pre class="cython line score-91" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1956</span>:     with tqdm(unit='B', unit_scale=True, miniters=1, desc=tgz_filename, ncols=100) as t:</pre>
<pre class='cython code score-91 '>  <span class='trace'>__Pyx_TraceLine</span>(1956,0,<span class='error_goto'>__PYX_ERR(0, 1956, __pyx_L1_error)</span>)
  /*with:*/ {
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_tqdm);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1956, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1956, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_unit, __pyx_n_u_B) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1956, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_unit_scale, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1956, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_miniters, __pyx_int_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1956, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_desc, __pyx_v_tgz_filename) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1956, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_ncols, __pyx_int_100) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1956, __pyx_L1_error)</span>
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_empty_tuple, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1956, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_1, __pyx_n_s_exit);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1956, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_1, __pyx_n_s_enter);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1956, __pyx_L6_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_3 = NULL;
    __pyx_t_8 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_8 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_8, 0+__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 1956, __pyx_L6_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    __pyx_t_5 = __pyx_t_4;
    __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    /*try:*/ {
      {
        /*try:*/ {
          __pyx_v_t = __pyx_t_5;
          __pyx_t_5 = 0;
/*  */
        }
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
        goto __pyx_L15_try_end;
        __pyx_L10_error:;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        /*except:*/ {
          <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.fetch_tgz_from_url", __pyx_clineno, __pyx_lineno, __pyx_filename);
          if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_3, &amp;__pyx_t_4, &amp;__pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1956, __pyx_L12_except_error)</span>
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_4);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
          __pyx_t_5 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_t_3, __pyx_t_4, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1956, __pyx_L12_except_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
          __pyx_t_14 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_10, __pyx_t_5, NULL);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
          if (unlikely(!__pyx_t_14)) <span class='error_goto'>__PYX_ERR(0, 1956, __pyx_L12_except_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_14);
          __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_14);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
          if (__pyx_t_9 &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1956, __pyx_L12_except_error)</span>
          __pyx_t_2 = (!__pyx_t_9);
          if (unlikely(__pyx_t_2)) {
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_1);
            <span class='pyx_c_api'>__Pyx_ErrRestoreWithState</span>(__pyx_t_3, __pyx_t_4, __pyx_t_1);
            __pyx_t_3 = 0; __pyx_t_4 = 0; __pyx_t_1 = 0; 
            <span class='error_goto'>__PYX_ERR(0, 1956, __pyx_L12_except_error)</span>
          }
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          goto __pyx_L11_exception_handled;
        }
        __pyx_L12_except_error:;
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
        <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_11, __pyx_t_12, __pyx_t_13);
        goto __pyx_L1_error;
        __pyx_L11_exception_handled:;
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
        <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_11, __pyx_t_12, __pyx_t_13);
        __pyx_L15_try_end:;
      }
    }
    /*finally:*/ {
      /*normal exit:*/{
        if (__pyx_t_10) {
          __pyx_t_13 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_10, __pyx_tuple__48, NULL);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
          if (unlikely(!__pyx_t_13)) <span class='error_goto'>__PYX_ERR(0, 1956, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_13);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
        }
        goto __pyx_L9;
      }
      __pyx_L9:;
    }
    goto __pyx_L19;
    __pyx_L6_error:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    goto __pyx_L1_error;
    __pyx_L19:;
  }
</pre><pre class="cython line score-49" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1957</span>:         urllib.request.urlretrieve(data_url, tgz_path, reporthook=download_progress_hook(t))</pre>
<pre class='cython code score-49 '>          <span class='trace'>__Pyx_TraceLine</span>(1957,0,<span class='error_goto'>__PYX_ERR(0, 1957, __pyx_L10_error)</span>)
          <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_urllib);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1957, __pyx_L10_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_request);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1957, __pyx_L10_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
          __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_urlretrieve);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1957, __pyx_L10_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1957, __pyx_L10_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data_url);
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data_url);
          if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_data_url)) <span class='error_goto'>__PYX_ERR(0, 1957, __pyx_L10_error)</span>;
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_tgz_path);
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_tgz_path);
          if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_v_tgz_path)) <span class='error_goto'>__PYX_ERR(0, 1957, __pyx_L10_error)</span>;
          __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1957, __pyx_L10_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
          <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_7, __pyx_n_s_download_progress_hook);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1957, __pyx_L10_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
          __pyx_t_6 = NULL;
          __pyx_t_8 = 0;
          #if CYTHON_UNPACK_METHODS
          if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
            __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
            if (likely(__pyx_t_6)) {
              PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
              <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
              __pyx_t_8 = 1;
            }
          }
          #endif
          {
            PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_v_t};
            __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
            if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1957, __pyx_L10_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
          }
          if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_reporthook, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1957, __pyx_L10_error)</span>
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_t_1, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1957, __pyx_L10_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1958</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1959</span>:     # Extract specified file or entire archive</pre>
<pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1960</span>:     try:</pre>
<pre class='cython code score-15 '>  <span class='trace'>__Pyx_TraceLine</span>(1960,0,<span class='error_goto'>__PYX_ERR(0, 1960, __pyx_L1_error)</span>)
  {
    /*try:*/ {
/*  */
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
    goto __pyx_L25_try_end;
    __pyx_L20_error:;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
/*  */
    __pyx_L22_except_error:;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_10);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
    <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_10, __pyx_t_13, __pyx_t_12);
    goto __pyx_L1_error;
    __pyx_L24_try_return:;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_10);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
    <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_10, __pyx_t_13, __pyx_t_12);
    goto __pyx_L0;
    __pyx_L23_except_return:;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_10);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
    <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_10, __pyx_t_13, __pyx_t_12);
    goto __pyx_L0;
    __pyx_L25_try_end:;
  }
</pre><pre class="cython line score-83" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1961</span>:         with tarfile.open(tgz_path, "r:gz") as tar:</pre>
<pre class='cython code score-83 '>      <span class='trace'>__Pyx_TraceLine</span>(1961,0,<span class='error_goto'>__PYX_ERR(0, 1961, __pyx_L20_error)</span>)
      /*with:*/ {
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_tarfile);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1961, __pyx_L20_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_open);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1961, __pyx_L20_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        __pyx_t_4 = NULL;
        __pyx_t_8 = 0;
        #if CYTHON_UNPACK_METHODS
        if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
          __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
          if (likely(__pyx_t_4)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
            __pyx_t_8 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[3] = {__pyx_t_4, __pyx_v_tgz_path, __pyx_kp_u_r_gz};
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_8, 2+__pyx_t_8);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
          if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1961, __pyx_L20_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        }
        __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_1, __pyx_n_s_exit);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1961, __pyx_L20_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_1, __pyx_n_s_enter);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1961, __pyx_L26_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        __pyx_t_5 = NULL;
        __pyx_t_8 = 0;
        #if CYTHON_UNPACK_METHODS
        if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
          __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
          if (likely(__pyx_t_5)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
            __pyx_t_8 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_5, NULL};
          __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_8, 0+__pyx_t_8);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
          if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1961, __pyx_L26_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        }
        __pyx_t_4 = __pyx_t_3;
        __pyx_t_3 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        /*try:*/ {
          {
            /*try:*/ {
              __pyx_v_tar = __pyx_t_4;
              __pyx_t_4 = 0;
/*  */
            }
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_16); __pyx_t_16 = 0;
            goto __pyx_L35_try_end;
            __pyx_L30_error:;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
            /*except:*/ {
              <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.fetch_tgz_from_url", __pyx_clineno, __pyx_lineno, __pyx_filename);
              if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_1, &amp;__pyx_t_3, &amp;__pyx_t_5) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1961, __pyx_L32_except_error)</span>
              <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
              <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
              <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_5);
              __pyx_t_4 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_t_1, __pyx_t_3, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1961, __pyx_L32_except_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
              __pyx_t_17 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_11, __pyx_t_4, NULL);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
              if (unlikely(!__pyx_t_17)) <span class='error_goto'>__PYX_ERR(0, 1961, __pyx_L32_except_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_17);
              __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_17);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_17); __pyx_t_17 = 0;
              if (__pyx_t_2 &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1961, __pyx_L32_except_error)</span>
              __pyx_t_9 = (!__pyx_t_2);
              if (unlikely(__pyx_t_9)) {
                <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
                <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
                <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_5);
                <span class='pyx_c_api'>__Pyx_ErrRestoreWithState</span>(__pyx_t_1, __pyx_t_3, __pyx_t_5);
                __pyx_t_1 = 0; __pyx_t_3 = 0; __pyx_t_5 = 0; 
                <span class='error_goto'>__PYX_ERR(0, 1961, __pyx_L32_except_error)</span>
              }
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
              goto __pyx_L31_exception_handled;
            }
            __pyx_L32_except_error:;
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_14);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_15);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_16);
            <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_14, __pyx_t_15, __pyx_t_16);
            goto __pyx_L20_error;
            __pyx_L34_try_return:;
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_14);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_15);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_16);
            <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_14, __pyx_t_15, __pyx_t_16);
            goto __pyx_L27_return;
            __pyx_L31_exception_handled:;
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_14);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_15);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_16);
            <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_14, __pyx_t_15, __pyx_t_16);
            __pyx_L35_try_end:;
          }
        }
        /*finally:*/ {
          /*normal exit:*/{
            if (__pyx_t_11) {
              __pyx_t_16 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_11, __pyx_tuple__48, NULL);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
              if (unlikely(!__pyx_t_16)) <span class='error_goto'>__PYX_ERR(0, 1961, __pyx_L20_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_16);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_16); __pyx_t_16 = 0;
            }
            goto __pyx_L29;
          }
          __pyx_L27_return: {
            __pyx_t_16 = __pyx_r;
            __pyx_r = 0;
            if (__pyx_t_11) {
              __pyx_t_15 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_11, __pyx_tuple__48, NULL);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
              if (unlikely(!__pyx_t_15)) <span class='error_goto'>__PYX_ERR(0, 1961, __pyx_L20_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_15);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
            }
            __pyx_r = __pyx_t_16;
            __pyx_t_16 = 0;
            goto __pyx_L24_try_return;
          }
          __pyx_L29:;
        }
        goto __pyx_L40;
        __pyx_L26_error:;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
        goto __pyx_L20_error;
        __pyx_L40:;
      }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1962</span>:             if file_to_retrieve:</pre>
<pre class='cython code score-2 '>              <span class='trace'>__Pyx_TraceLine</span>(1962,0,<span class='error_goto'>__PYX_ERR(0, 1962, __pyx_L30_error)</span>)
              __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_file_to_retrieve); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1962, __pyx_L30_error)</span>
              if (__pyx_t_2) {
/*  */
              }
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1963</span>:                 tar.extract(file_to_retrieve, path=data_path, **kwargs)</pre>
<pre class='cython code score-25 '>                <span class='trace'>__Pyx_TraceLine</span>(1963,0,<span class='error_goto'>__PYX_ERR(0, 1963, __pyx_L30_error)</span>)
                __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_tar, __pyx_n_s_extract);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1963, __pyx_L30_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
                __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1963, __pyx_L30_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
                <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_file_to_retrieve);
                <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_file_to_retrieve);
                if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_file_to_retrieve)) <span class='error_goto'>__PYX_ERR(0, 1963, __pyx_L30_error)</span>;
                __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1963, __pyx_L30_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
                if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_path, __pyx_v_data_path) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1963, __pyx_L30_error)</span>
                __pyx_t_3 = __pyx_t_5;
                __pyx_t_5 = 0;
                if (<span class='pyx_c_api'>__Pyx_MergeKeywords</span>(__pyx_t_3, __pyx_v_kwargs) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1963, __pyx_L30_error)</span>
                __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_4, __pyx_t_1, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1963, __pyx_L30_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1964</span>:                 return data_path / file_to_retrieve</pre>
<pre class='cython code score-3 '>                <span class='trace'>__Pyx_TraceLine</span>(1964,0,<span class='error_goto'>__PYX_ERR(0, 1964, __pyx_L30_error)</span>)
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
                __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyNumber_Divide</span>(__pyx_v_data_path, __pyx_v_file_to_retrieve);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1964, __pyx_L30_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
                __pyx_r = __pyx_t_5;
                __pyx_t_5 = 0;
                goto __pyx_L34_try_return;
</pre><pre class="cython line score-0">&#xA0;<span class="">1965</span>:             else:</pre>
<pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1966</span>:                 tar.extractall(path=data_path)</pre>
<pre class='cython code score-14 '>              <span class='trace'>__Pyx_TraceLine</span>(1966,0,<span class='error_goto'>__PYX_ERR(0, 1966, __pyx_L30_error)</span>)
              /*else*/ {
                __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_tar, __pyx_n_s_extractall);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1966, __pyx_L30_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
                __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1966, __pyx_L30_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
                if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_path, __pyx_v_data_path) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1966, __pyx_L30_error)</span>
                __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_empty_tuple, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1966, __pyx_L30_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
              }
</pre><pre class="cython line score-30" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1967</span>:     except (tarfile.TarError, KeyError) as e:</pre>
<pre class='cython code score-30 '>    <span class='trace'>__Pyx_TraceLine</span>(1967,0,<span class='error_goto'>__PYX_ERR(0, 1967, __pyx_L22_except_error)</span>)
    <span class='pyx_c_api'>__Pyx_ErrFetch</span>(&amp;__pyx_t_5, &amp;__pyx_t_3, &amp;__pyx_t_1);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_tarfile);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1967, __pyx_L22_except_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_TarError);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1967, __pyx_L22_except_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_8 = __Pyx_PyErr_GivenExceptionMatches2(__pyx_t_5, __pyx_t_7, __pyx_builtin_KeyError);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    <span class='pyx_c_api'>__Pyx_ErrRestore</span>(__pyx_t_5, __pyx_t_3, __pyx_t_1);
    __pyx_t_5 = 0; __pyx_t_3 = 0; __pyx_t_1 = 0;
    if (__pyx_t_8) {
      <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.fetch_tgz_from_url", __pyx_clineno, __pyx_lineno, __pyx_filename);
      if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_1, &amp;__pyx_t_3, &amp;__pyx_t_5) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1967, __pyx_L22_except_error)</span>
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      __pyx_v_e = __pyx_t_3;
      /*try:*/ {
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(1967,0,<span class='error_goto'>__PYX_ERR(0, 1967, __pyx_L46_error)</span>)
      /*finally:*/ {
        __pyx_L46_error:;
        /*exception exit:*/{
          __Pyx_PyThreadState_declare
          __Pyx_PyThreadState_assign
          __pyx_t_11 = 0; __pyx_t_16 = 0; __pyx_t_15 = 0; __pyx_t_14 = 0; __pyx_t_17 = 0; __pyx_t_22 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
          if (PY_MAJOR_VERSION &gt;= 3) <span class='pyx_c_api'>__Pyx_ExceptionSwap</span>(&amp;__pyx_t_14, &amp;__pyx_t_17, &amp;__pyx_t_22);
          if ((PY_MAJOR_VERSION &lt; 3) || unlikely(<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_11, &amp;__pyx_t_16, &amp;__pyx_t_15) &lt; 0)) <span class='pyx_c_api'>__Pyx_ErrFetch</span>(&amp;__pyx_t_11, &amp;__pyx_t_16, &amp;__pyx_t_15);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_11);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_16);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_15);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_14);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_17);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_22);
          __pyx_t_8 = __pyx_lineno; __pyx_t_20 = __pyx_clineno; __pyx_t_21 = __pyx_filename;
          {
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_e); __pyx_v_e = 0;
          }
          if (PY_MAJOR_VERSION &gt;= 3) {
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_14);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_17);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_22);
            <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_14, __pyx_t_17, __pyx_t_22);
          }
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_16);
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_15);
          <span class='pyx_c_api'>__Pyx_ErrRestore</span>(__pyx_t_11, __pyx_t_16, __pyx_t_15);
          __pyx_t_11 = 0; __pyx_t_16 = 0; __pyx_t_15 = 0; __pyx_t_14 = 0; __pyx_t_17 = 0; __pyx_t_22 = 0;
          __pyx_lineno = __pyx_t_8; __pyx_clineno = __pyx_t_20; __pyx_filename = __pyx_t_21;
          goto __pyx_L22_except_error;
        }
        __pyx_L45_return: {
          __pyx_t_22 = __pyx_r;
          __pyx_r = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_e); __pyx_v_e = 0;
          __pyx_r = __pyx_t_22;
          __pyx_t_22 = 0;
          goto __pyx_L23_except_return;
        }
      }
    }
    goto __pyx_L22_except_error;
</pre><pre class="cython line score-39" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1968</span>:         print(f"Error extracting {'file' if file_to_retrieve else 'archive'}: {e}")</pre>
<pre class='cython code score-39 '>        <span class='trace'>__Pyx_TraceLine</span>(1968,0,<span class='error_goto'>__PYX_ERR(0, 1968, __pyx_L46_error)</span>)
        __pyx_t_7 = <span class='py_c_api'>PyTuple_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1968, __pyx_L46_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        __pyx_t_18 = 0;
        __pyx_t_19 = 127;
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Error_extracting);
        __pyx_t_18 += 17;
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Error_extracting);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_7, 0, __pyx_kp_u_Error_extracting);
        __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_file_to_retrieve); if (unlikely((__pyx_t_9 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 1968, __pyx_L46_error)</span>
        if (__pyx_t_9) {
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_file);
          __pyx_t_4 = __pyx_n_u_file;
        } else {
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_archive);
          __pyx_t_4 = __pyx_n_u_archive;
        }
        __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyUnicode_Unicode</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1968, __pyx_L46_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        __pyx_t_19 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_6) &gt; __pyx_t_19) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_6) : __pyx_t_19;
        __pyx_t_18 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_6);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_6);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_7, 1, __pyx_t_6);
        __pyx_t_6 = 0;
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__60);
        __pyx_t_18 += 2;
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__60);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_7, 2, __pyx_kp_u__60);
        __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_e, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1968, __pyx_L46_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
        __pyx_t_19 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_6) &gt; __pyx_t_19) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_6) : __pyx_t_19;
        __pyx_t_18 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_6);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_6);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_7, 3, __pyx_t_6);
        __pyx_t_6 = 0;
        __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_7, 4, __pyx_t_18, __pyx_t_19);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1968, __pyx_L46_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_print, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1968, __pyx_L46_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1969</span>:         return None</pre>
<pre class='cython code score-5 '>        <span class='trace'>__Pyx_TraceLine</span>(1969,0,<span class='error_goto'>__PYX_ERR(0, 1969, __pyx_L46_error)</span>)
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
        __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        goto __pyx_L45_return;
      }
</pre><pre class="cython line score-0">&#xA0;<span class="">1970</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1971</span>:     return None</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(1971,0,<span class='error_goto'>__PYX_ERR(0, 1971, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1972</span>: </pre>
<pre class="cython line score-110" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1973</span>: def _extract_with_progress(</pre>
<pre class='cython code score-110 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_41_extract_with_progress(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_40_extract_with_progress, "\n    Extracts a single member from a tarfile with progress reporting.\n\n    Parameters\n    ----------\n    tar : tarfile.TarFile\n        The tarfile object opened in read mode.\n    member : tarfile.TarInfo\n        The specific member within the tarfile to extract.\n    path : Path\n        The path to extract the member to.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_41_extract_with_progress = {"_extract_with_progress", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_41_extract_with_progress, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_40_extract_with_progress};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_41_extract_with_progress(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_tar = 0;
  PyObject *__pyx_v_member = 0;
  PyObject *__pyx_v_path = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_extract_with_progress (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_tar,&amp;__pyx_n_s_member,&amp;__pyx_n_s_path,0};
  PyObject* values[3] = {0,0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_tar)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1973, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_member)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1973, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_extract_with_progress", 1, 3, 3, 1); <span class='error_goto'>__PYX_ERR(0, 1973, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (likely((values[2] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_path)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[2]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1973, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_extract_with_progress", 1, 3, 3, 2); <span class='error_goto'>__PYX_ERR(0, 1973, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_extract_with_progress") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1973, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 3)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
      values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
    }
    __pyx_v_tar = values[0];
    __pyx_v_member = values[1];
    __pyx_v_path = values[2];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_extract_with_progress", 1, 3, 3, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1973, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._extract_with_progress", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_40_extract_with_progress(__pyx_self, __pyx_v_tar, __pyx_v_member, __pyx_v_path);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
static PyObject *__pyx_pf_6gofast_5tools_7mlutils_40_extract_with_progress(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_tar, PyObject *__pyx_v_member, PyObject *__pyx_v_path) {
  struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_3__extract_with_progress *__pyx_cur_scope;
  CYTHON_UNUSED PyObject *__pyx_v_custom_read = 0;
  PyObject *__pyx_v_out_file = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__61)
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_3__extract_with_progress *)__pyx_tp_new_6gofast_5tools_7mlutils___pyx_scope_struct_3__extract_with_progress(__pyx_ptype_6gofast_5tools_7mlutils___pyx_scope_struct_3__extract_with_progress, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_3__extract_with_progress *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 1973, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  <span class='trace'>__Pyx_TraceCall</span>("_extract_with_progress", __pyx_f[0], 1973, 0, <span class='error_goto'>__PYX_ERR(0, 1973, __pyx_L1_error)</span>);
/*  */
  /* function exit code */
  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._extract_with_progress", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_custom_read);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_out_file);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__162 = <span class='py_c_api'>PyTuple_Pack</span>(8, __pyx_n_s_tar, __pyx_n_s_member, __pyx_n_s_path, __pyx_n_s_progress_bar, __pyx_n_s_custom_read, __pyx_n_s_custom_read, __pyx_n_s_member_file, __pyx_n_s_out_file);<span class='error_goto'> if (unlikely(!__pyx_tuple__162)) __PYX_ERR(0, 1973, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__162);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__162);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(1973,0,<span class='error_goto'>__PYX_ERR(0, 1973, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1973, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_tar, __pyx_kp_s_tarfile_TarFile) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1973, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_member, __pyx_kp_s_tarfile_TarInfo) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1973, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_path, __pyx_n_s_Path) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1973, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_41_extract_with_progress, 0, __pyx_n_s_extract_with_progress, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__61));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1973, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_4, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_extract_with_progress, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1973, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_codeobj__61 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(3, 0, 0, 8, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__162, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_extract_with_progress, 1973, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__61)) __PYX_ERR(0, 1973, __pyx_L1_error)</span>
/*  */
struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_3__extract_with_progress {
  PyObject_HEAD
  PyObject *__pyx_v_member_file;
  PyObject *__pyx_v_progress_bar;
};

</pre><pre class="cython line score-0">&#xA0;<span class="">1974</span>:         tar: tarfile.TarFile, member: tarfile.TarInfo, path: Path):</pre>
<pre class="cython line score-0">&#xA0;<span class="">1975</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">1976</span>:     Extracts a single member from a tarfile with progress reporting.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1977</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1978</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">1979</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">1980</span>:     tar : tarfile.TarFile</pre>
<pre class="cython line score-0">&#xA0;<span class="">1981</span>:         The tarfile object opened in read mode.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1982</span>:     member : tarfile.TarInfo</pre>
<pre class="cython line score-0">&#xA0;<span class="">1983</span>:         The specific member within the tarfile to extract.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1984</span>:     path : Path</pre>
<pre class="cython line score-0">&#xA0;<span class="">1985</span>:         The path to extract the member to.</pre>
<pre class="cython line score-0">&#xA0;<span class="">1986</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">1987</span>:     # Initialize a progress bar for the extraction process</pre>
<pre class="cython line score-91" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1988</span>:     with tqdm(total=member.size, desc=f"Extracting {member.name}",</pre>
<pre class='cython code score-91 '>  <span class='trace'>__Pyx_TraceLine</span>(1988,0,<span class='error_goto'>__PYX_ERR(0, 1988, __pyx_L1_error)</span>)
  /*with:*/ {
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_tqdm);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1988, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1988, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_member, __pyx_n_s_size);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1988, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_total_2, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1988, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_member, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1988, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_t_3, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1988, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_kp_u_Extracting, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1988, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_desc, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1988, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_unit, __pyx_n_u_B) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1988, __pyx_L1_error)</span>
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(1988,0,<span class='error_goto'>__PYX_ERR(0, 1988, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_empty_tuple, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1988, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_3, __pyx_n_s_exit);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1988, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_3, __pyx_n_s_enter);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1988, __pyx_L3_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_4 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_4)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_4, NULL};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1988, __pyx_L3_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_t_1 = __pyx_t_2;
    __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    /*try:*/ {
      {
        /*try:*/ {
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
          __pyx_cur_scope-&gt;__pyx_v_progress_bar = __pyx_t_1;
          __pyx_t_1 = 0;
/*  */
        }
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        goto __pyx_L12_try_end;
        __pyx_L7_error:;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        /*except:*/ {
          <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._extract_with_progress", __pyx_clineno, __pyx_lineno, __pyx_filename);
          if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_4, &amp;__pyx_t_2, &amp;__pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1988, __pyx_L9_except_error)</span>
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_4);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_2);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
          __pyx_t_1 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_t_4, __pyx_t_2, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1988, __pyx_L9_except_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_t_1, NULL);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          if (unlikely(!__pyx_t_10)) <span class='error_goto'>__PYX_ERR(0, 1988, __pyx_L9_except_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
          __pyx_t_19 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_10);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
          if (__pyx_t_19 &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1988, __pyx_L9_except_error)</span>
          __pyx_t_20 = (!__pyx_t_19);
          if (unlikely(__pyx_t_20)) {
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_3);
            <span class='pyx_c_api'>__Pyx_ErrRestoreWithState</span>(__pyx_t_4, __pyx_t_2, __pyx_t_3);
            __pyx_t_4 = 0; __pyx_t_2 = 0; __pyx_t_3 = 0; 
            <span class='error_goto'>__PYX_ERR(0, 1988, __pyx_L9_except_error)</span>
          }
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          goto __pyx_L8_exception_handled;
        }
        __pyx_L9_except_error:;
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_7);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_8);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_9);
        <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_7, __pyx_t_8, __pyx_t_9);
        goto __pyx_L1_error;
        __pyx_L8_exception_handled:;
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_7);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_8);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_9);
        <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_7, __pyx_t_8, __pyx_t_9);
        __pyx_L12_try_end:;
      }
    }
    /*finally:*/ {
      /*normal exit:*/{
        if (__pyx_t_5) {
          __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_tuple__48, NULL);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
          if (unlikely(!__pyx_t_9)) <span class='error_goto'>__PYX_ERR(0, 1988, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        }
        goto __pyx_L6;
      }
      __pyx_L6:;
    }
    goto __pyx_L44;
    __pyx_L3_error:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    goto __pyx_L1_error;
    __pyx_L44:;
  }
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1989</span>:               unit='B', unit_scale=True) as progress_bar:</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(1989,0,<span class='error_goto'>__PYX_ERR(0, 1989, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_unit_scale, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1988, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">1990</span>:         # Extract member and update the progress bar accordingly</pre>
<pre class="cython line score-49" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1991</span>:         def custom_read(size):</pre>
<pre class='cython code score-49 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_22_extract_with_progress_1custom_read(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_22_extract_with_progress_1custom_read = {"custom_read", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_22_extract_with_progress_1custom_read, __Pyx_METH_FASTCALL|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_22_extract_with_progress_1custom_read(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_size = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("custom_read (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_size,0};
  PyObject* values[1] = {0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_size)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1991, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "custom_read") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1991, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 1)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
    }
    __pyx_v_size = values[0];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("custom_read", 1, 1, 1, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1991, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._extract_with_progress.custom_read", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_22_extract_with_progress_custom_read(__pyx_self, __pyx_v_size);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_22_extract_with_progress_custom_read(PyObject *__pyx_self, PyObject *__pyx_v_size) {
  struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_3__extract_with_progress *__pyx_cur_scope;
  struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_3__extract_with_progress *__pyx_outer_scope;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_outer_scope = (struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_3__extract_with_progress *) <span class='pyx_c_api'>__Pyx_CyFunction_GetClosure</span>(__pyx_self);
  __pyx_cur_scope = __pyx_outer_scope;
  <span class='trace'>__Pyx_TraceCall</span>("custom_read", __pyx_f[0], 1991, 0, <span class='error_goto'>__PYX_ERR(0, 1991, __pyx_L1_error)</span>);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._extract_with_progress.custom_read", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__62 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_n_s_size);<span class='error_goto'> if (unlikely(!__pyx_tuple__62)) __PYX_ERR(0, 1991, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__62);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__62);
/*  */
          <span class='trace'>__Pyx_TraceLine</span>(1991,0,<span class='error_goto'>__PYX_ERR(0, 1991, __pyx_L7_error)</span>)
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_22_extract_with_progress_1custom_read, 0, __pyx_n_s_extract_with_progress_locals_cu, ((PyObject*)__pyx_cur_scope), __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__63));<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1991, __pyx_L7_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          __pyx_v_custom_read = __pyx_t_1;
          __pyx_t_1 = 0;
  __pyx_codeobj__63 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(1, 0, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__62, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_custom_read, 1991, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__63)) __PYX_ERR(0, 1991, __pyx_L1_error)</span>
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1992</span>:             progress_bar.update(size)</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(1992,0,<span class='error_goto'>__PYX_ERR(0, 1992, __pyx_L1_error)</span>)
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_progress_bar)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("progress_bar"); <span class='error_goto'>__PYX_ERR(0, 1992, __pyx_L1_error)</span> }
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_cur_scope-&gt;__pyx_v_progress_bar, __pyx_n_s_update);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1992, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_size};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1992, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1993</span>:             return member_file.read(size)</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(1993,0,<span class='error_goto'>__PYX_ERR(0, 1993, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_member_file)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("member_file"); <span class='error_goto'>__PYX_ERR(0, 1993, __pyx_L1_error)</span> }
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_cur_scope-&gt;__pyx_v_member_file, __pyx_n_s_read);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1993, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_size};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1993, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">1994</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">1995</span>:         # Open the member file for reading and wrap the read method for progress updates</pre>
<pre class="cython line score-72" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1996</span>:         with tar.extractfile(member) as member_file:</pre>
<pre class='cython code score-72 '>          <span class='trace'>__Pyx_TraceLine</span>(1996,0,<span class='error_goto'>__PYX_ERR(0, 1996, __pyx_L7_error)</span>)
          /*with:*/ {
            __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_tar, __pyx_n_s_extractfile);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1996, __pyx_L7_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
            __pyx_t_2 = NULL;
            __pyx_t_6 = 0;
            #if CYTHON_UNPACK_METHODS
            if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
              __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
              if (likely(__pyx_t_2)) {
                PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
                <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
                <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
                <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
                __pyx_t_6 = 1;
              }
            }
            #endif
            {
              PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_member};
              __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
              if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1996, __pyx_L7_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
            }
            __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_1, __pyx_n_s_exit);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1996, __pyx_L7_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
            __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_1, __pyx_n_s_enter);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1996, __pyx_L13_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
            __pyx_t_4 = NULL;
            __pyx_t_6 = 0;
            #if CYTHON_UNPACK_METHODS
            if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
              __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
              if (likely(__pyx_t_4)) {
                PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
                <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
                <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
                <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
                __pyx_t_6 = 1;
              }
            }
            #endif
            {
              PyObject *__pyx_callargs[2] = {__pyx_t_4, NULL};
              __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
              if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 1996, __pyx_L13_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
            }
            __pyx_t_2 = __pyx_t_3;
            __pyx_t_3 = 0;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
            /*try:*/ {
              {
                /*try:*/ {
                  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
                  __pyx_cur_scope-&gt;__pyx_v_member_file = __pyx_t_2;
                  __pyx_t_2 = 0;
/*  */
                }
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
                goto __pyx_L22_try_end;
                __pyx_L17_error:;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
                /*except:*/ {
                  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._extract_with_progress", __pyx_clineno, __pyx_lineno, __pyx_filename);
                  if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_3, &amp;__pyx_t_2, &amp;__pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1996, __pyx_L19_except_error)</span>
                  <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
                  <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_2);
                  <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_4);
                  __pyx_t_1 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_t_3, __pyx_t_2, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1996, __pyx_L19_except_error)</span>
                  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
                  __pyx_t_14 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_10, __pyx_t_1, NULL);
                  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
                  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
                  if (unlikely(!__pyx_t_14)) <span class='error_goto'>__PYX_ERR(0, 1996, __pyx_L19_except_error)</span>
                  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_14);
                  __pyx_t_20 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_14);
                  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
                  if (__pyx_t_20 &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1996, __pyx_L19_except_error)</span>
                  __pyx_t_19 = (!__pyx_t_20);
                  if (unlikely(__pyx_t_19)) {
                    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
                    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
                    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_4);
                    <span class='pyx_c_api'>__Pyx_ErrRestoreWithState</span>(__pyx_t_3, __pyx_t_2, __pyx_t_4);
                    __pyx_t_3 = 0; __pyx_t_2 = 0; __pyx_t_4 = 0; 
                    <span class='error_goto'>__PYX_ERR(0, 1996, __pyx_L19_except_error)</span>
                  }
                  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
                  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
                  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
                  goto __pyx_L18_exception_handled;
                }
                __pyx_L19_except_error:;
                <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
                <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
                <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
                <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_11, __pyx_t_12, __pyx_t_13);
                goto __pyx_L7_error;
                __pyx_L18_exception_handled:;
                <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
                <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
                <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
                <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_11, __pyx_t_12, __pyx_t_13);
                __pyx_L22_try_end:;
              }
            }
            /*finally:*/ {
              /*normal exit:*/{
                if (__pyx_t_10) {
                  __pyx_t_13 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_10, __pyx_tuple__48, NULL);
                  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
                  if (unlikely(!__pyx_t_13)) <span class='error_goto'>__PYX_ERR(0, 1996, __pyx_L7_error)</span>
                  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_13);
                  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
                }
                goto __pyx_L16;
              }
              __pyx_L16:;
            }
            goto __pyx_L40;
            __pyx_L13_error:;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
            goto __pyx_L7_error;
            __pyx_L40:;
          }
</pre><pre class="cython line score-74" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1997</span>:             with open(path / member.name, 'wb') as out_file:</pre>
<pre class='cython code score-74 '>                  <span class='trace'>__Pyx_TraceLine</span>(1997,0,<span class='error_goto'>__PYX_ERR(0, 1997, __pyx_L17_error)</span>)
                  /*with:*/ {
                    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_member, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1997, __pyx_L17_error)</span>
                    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
                    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyNumber_Divide</span>(__pyx_v_path, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1997, __pyx_L17_error)</span>
                    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
                    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
                    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1997, __pyx_L17_error)</span>
                    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
                    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
                    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1997, __pyx_L17_error)</span>;
                    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_wb);
                    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_wb);
                    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_n_u_wb)) <span class='error_goto'>__PYX_ERR(0, 1997, __pyx_L17_error)</span>;
                    __pyx_t_1 = 0;
                    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_open, __pyx_t_2, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1997, __pyx_L17_error)</span>
                    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
                    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
                    __pyx_t_14 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_1, __pyx_n_s_exit);<span class='error_goto'> if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 1997, __pyx_L17_error)</span>
                    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_14);
                    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_1, __pyx_n_s_enter);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1997, __pyx_L23_error)</span>
                    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
                    __pyx_t_4 = NULL;
                    __pyx_t_6 = 0;
                    #if CYTHON_UNPACK_METHODS
                    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
                      __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
                      if (likely(__pyx_t_4)) {
                        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
                        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
                        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
                        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
                        __pyx_t_6 = 1;
                      }
                    }
                    #endif
                    {
                      PyObject *__pyx_callargs[2] = {__pyx_t_4, NULL};
                      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
                      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
                      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 1997, __pyx_L23_error)</span>
                      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
                      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
                    }
                    __pyx_t_3 = __pyx_t_2;
                    __pyx_t_2 = 0;
                    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
                    /*try:*/ {
                      {
                        /*try:*/ {
                          __pyx_v_out_file = __pyx_t_3;
                          __pyx_t_3 = 0;
/*  */
                        }
                        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
                        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_16); __pyx_t_16 = 0;
                        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_17); __pyx_t_17 = 0;
                        goto __pyx_L32_try_end;
                        __pyx_L27_error:;
                        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
                        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
                        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
                        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
                        /*except:*/ {
                          <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._extract_with_progress", __pyx_clineno, __pyx_lineno, __pyx_filename);
                          if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_4, &amp;__pyx_t_2, &amp;__pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1997, __pyx_L29_except_error)</span>
                          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_4);
                          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_2);
                          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
                          __pyx_t_1 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_t_4, __pyx_t_2, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1997, __pyx_L29_except_error)</span>
                          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
                          __pyx_t_18 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_14, __pyx_t_1, NULL);
                          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
                          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
                          if (unlikely(!__pyx_t_18)) <span class='error_goto'>__PYX_ERR(0, 1997, __pyx_L29_except_error)</span>
                          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_18);
                          __pyx_t_19 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_18);
                          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_18); __pyx_t_18 = 0;
                          if (__pyx_t_19 &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1997, __pyx_L29_except_error)</span>
                          __pyx_t_20 = (!__pyx_t_19);
                          if (unlikely(__pyx_t_20)) {
                            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
                            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
                            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_3);
                            <span class='pyx_c_api'>__Pyx_ErrRestoreWithState</span>(__pyx_t_4, __pyx_t_2, __pyx_t_3);
                            __pyx_t_4 = 0; __pyx_t_2 = 0; __pyx_t_3 = 0; 
                            <span class='error_goto'>__PYX_ERR(0, 1997, __pyx_L29_except_error)</span>
                          }
                          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
                          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
                          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
                          goto __pyx_L28_exception_handled;
                        }
                        __pyx_L29_except_error:;
                        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_15);
                        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_16);
                        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_17);
                        <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_15, __pyx_t_16, __pyx_t_17);
                        goto __pyx_L17_error;
                        __pyx_L28_exception_handled:;
                        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_15);
                        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_16);
                        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_17);
                        <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_15, __pyx_t_16, __pyx_t_17);
                        __pyx_L32_try_end:;
                      }
                    }
                    /*finally:*/ {
                      /*normal exit:*/{
                        if (__pyx_t_14) {
                          __pyx_t_17 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_14, __pyx_tuple__48, NULL);
                          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
                          if (unlikely(!__pyx_t_17)) <span class='error_goto'>__PYX_ERR(0, 1997, __pyx_L17_error)</span>
                          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_17);
                          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_17); __pyx_t_17 = 0;
                        }
                        goto __pyx_L26;
                      }
                      __pyx_L26:;
                    }
                    goto __pyx_L36;
                    __pyx_L23_error:;
                    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
                    goto __pyx_L17_error;
                    __pyx_L36:;
                  }
</pre><pre class="cython line score-29" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1998</span>:                 shutil.copyfileobj(member_file, out_file, length=1024*1024,</pre>
<pre class='cython code score-29 '>                          <span class='trace'>__Pyx_TraceLine</span>(1998,0,<span class='error_goto'>__PYX_ERR(0, 1998, __pyx_L27_error)</span>)
                          <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_shutil);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1998, __pyx_L27_error)</span>
                          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
                          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_copyfileobj);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1998, __pyx_L27_error)</span>
                          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
                          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
                          __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1998, __pyx_L27_error)</span>
                          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
                          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_member_file);
                          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_v_member_file);
                          if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_cur_scope-&gt;__pyx_v_member_file)) <span class='error_goto'>__PYX_ERR(0, 1998, __pyx_L27_error)</span>;
                          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_out_file);
                          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_out_file);
                          if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_v_out_file)) <span class='error_goto'>__PYX_ERR(0, 1998, __pyx_L27_error)</span>;
                          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1998, __pyx_L27_error)</span>
                          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
                          if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_length, __pyx_int_1048576) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1998, __pyx_L27_error)</span>
/*  */
                          <span class='trace'>__Pyx_TraceLine</span>(1998,0,<span class='error_goto'>__PYX_ERR(0, 1998, __pyx_L27_error)</span>)
                          __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_3, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1998, __pyx_L27_error)</span>
                          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
                          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
                          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
                          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
                          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-67" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">1999</span>:                                    callback=lambda x: progress_bar.update(1024*1024))</pre>
<pre class='cython code score-67 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_22_extract_with_progress_2lambda3(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_22_extract_with_progress_2lambda3 = {"lambda3", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_22_extract_with_progress_2lambda3, __Pyx_METH_FASTCALL|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_22_extract_with_progress_2lambda3(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  CYTHON_UNUSED PyObject *__pyx_v_x = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("lambda3 (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_x,0};
  PyObject* values[1] = {0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_x)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 1999, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "lambda3") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 1999, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 1)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
    }
    __pyx_v_x = values[0];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("lambda3", 1, 1, 1, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 1999, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._extract_with_progress.lambda3", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_lambda_funcdef_lambda3(__pyx_self, __pyx_v_x);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_lambda_funcdef_lambda3(PyObject *__pyx_self, CYTHON_UNUSED PyObject *__pyx_v_x) {
  struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_3__extract_with_progress *__pyx_cur_scope;
  struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_3__extract_with_progress *__pyx_outer_scope;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_outer_scope = (struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_3__extract_with_progress *) <span class='pyx_c_api'>__Pyx_CyFunction_GetClosure</span>(__pyx_self);
  __pyx_cur_scope = __pyx_outer_scope;
  <span class='trace'>__Pyx_TraceCall</span>("lambda3", __pyx_f[0], 1999, 0, <span class='error_goto'>__PYX_ERR(0, 1999, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_v_progress_bar)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("progress_bar"); <span class='error_goto'>__PYX_ERR(0, 1999, __pyx_L1_error)</span> }
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_cur_scope-&gt;__pyx_v_progress_bar, __pyx_n_s_update);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1999, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_int_1048576};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 1999, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._extract_with_progress.lambda3", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
                          <span class='trace'>__Pyx_TraceLine</span>(1999,0,<span class='error_goto'>__PYX_ERR(0, 1999, __pyx_L27_error)</span>)
                          __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_22_extract_with_progress_2lambda3, 0, __pyx_n_s_extract_with_progress_locals_la, ((PyObject*)__pyx_cur_scope), __pyx_n_s_gofast_tools_mlutils, __pyx_d, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1999, __pyx_L27_error)</span>
                          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
                          if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_callback, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 1998, __pyx_L27_error)</span>
                          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2000</span>: </pre>
<pre class="cython line score-81" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2001</span>: def fetch_tgz_locally(</pre>
<pre class='cython code score-81 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_43fetch_tgz_locally(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_42fetch_tgz_locally, "\n    Fetches and optionally renames a file from a tar archive with progress\n    reporting.\n    \n    Parameters\n    ----------\n    tgz_file : str or Path\n        The full path to the tar file.\n    filename : str\n        The target file to fetch from the tar archive.\n    savefile : str or Path, optional\n        The destination path to save the retrieved file.\n    rename_outfile : str or Path, optional\n        The new name for the fetched file, if desired.\n\n    Returns\n    -------\n    str\n        The path to the fetched and possibly renamed file.\n        \n    Example\n    -------\n    &gt;&gt;&gt; from gofast.tools.mlutils import fetch_tgz_locally\n    &gt;&gt;&gt; fetch_tgz_locally('data/__tar.tgz/fmain.bagciv.data.tar.gz',\n    ...                      'dataset.csv', 'extracted', \n    ...                      rename_outfile='main.bagciv.data.csv')\n    &gt;&gt;&gt; # This will extract 'dataset.csv' from the tar.gz, save it to \n    &gt;&gt;&gt; # 'extracted' directory, and rename it to 'main.bagciv.data.csv'.\n    \n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_43fetch_tgz_locally = {"fetch_tgz_locally", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_43fetch_tgz_locally, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_42fetch_tgz_locally};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_43fetch_tgz_locally(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_tgz_file = 0;
  PyObject *__pyx_v_filename = 0;
  PyObject *__pyx_v_savefile = 0;
  PyObject *__pyx_v_rename_outfile = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("fetch_tgz_locally (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_tgz_file,&amp;__pyx_n_s_filename,&amp;__pyx_n_s_savefile,&amp;__pyx_n_s_rename_outfile,0};
  PyObject* values[4] = {0,0,0,0};
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject*)((PyObject*)__pyx_n_u_tgz)));
/*  */
  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
static PyObject *__pyx_gb_6gofast_5tools_7mlutils_17fetch_tgz_locally_2generator(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
/*  */
static PyObject *__pyx_pf_6gofast_5tools_7mlutils_42fetch_tgz_locally(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_tgz_file, PyObject *__pyx_v_filename, PyObject *__pyx_v_savefile, PyObject *__pyx_v_rename_outfile) {
  struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_4_fetch_tgz_locally *__pyx_cur_scope;
  PyObject *__pyx_v_tgz_path = NULL;
  PyObject *__pyx_v_save_path = NULL;
  PyObject *__pyx_v_tar = NULL;
  PyObject *__pyx_v_member = NULL;
  PyObject *__pyx_v_extracted_file_path = NULL;
  PyObject *__pyx_v_final_file_path = NULL;
  PyObject *__pyx_gb_6gofast_5tools_7mlutils_17fetch_tgz_locally_2generator = 0;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__64)
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_4_fetch_tgz_locally *)__pyx_tp_new_6gofast_5tools_7mlutils___pyx_scope_struct_4_fetch_tgz_locally(__pyx_ptype_6gofast_5tools_7mlutils___pyx_scope_struct_4_fetch_tgz_locally, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_4_fetch_tgz_locally *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 2001, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  <span class='trace'>__Pyx_TraceCall</span>("fetch_tgz_locally", __pyx_f[0], 2001, 0, <span class='error_goto'>__PYX_ERR(0, 2001, __pyx_L1_error)</span>);
  __pyx_cur_scope-&gt;__pyx_v_filename = __pyx_v_filename;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_filename);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_v_filename);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.fetch_tgz_locally", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_tgz_path);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_save_path);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_tar);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_member);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_extracted_file_path);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_final_file_path);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_gb_6gofast_5tools_7mlutils_17fetch_tgz_locally_2generator);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__163 = <span class='py_c_api'>PyTuple_Pack</span>(12, __pyx_n_s_tgz_file, __pyx_n_s_filename, __pyx_n_s_savefile, __pyx_n_s_rename_outfile, __pyx_n_s_tgz_path, __pyx_n_s_save_path, __pyx_n_s_tar, __pyx_n_s_member, __pyx_n_s_extracted_file_path, __pyx_n_s_final_file_path, __pyx_n_s_genexpr, __pyx_n_s_genexpr);<span class='error_goto'> if (unlikely(!__pyx_tuple__163)) __PYX_ERR(0, 2001, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__163);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__163);
  __pyx_codeobj__64 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(4, 0, 0, 12, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__163, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_fetch_tgz_locally, 2001, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__64)) __PYX_ERR(0, 2001, __pyx_L1_error)</span>
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2001,0,<span class='error_goto'>__PYX_ERR(0, 2001, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2001, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_tgz_file, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2001, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_filename, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2001, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_savefile, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2001, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_rename_outfile, __pyx_kp_s_Optional_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2001, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_return, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2001, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_43fetch_tgz_locally, 0, __pyx_n_s_fetch_tgz_locally, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__64));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2001, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_3, __pyx_tuple__164);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_3, __pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_fetch_tgz_locally, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2001, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_tuple__164 = <span class='py_c_api'>PyTuple_Pack</span>(2, ((PyObject*)__pyx_n_u_tgz), Py_None);<span class='error_goto'> if (unlikely(!__pyx_tuple__164)) __PYX_ERR(0, 2001, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__164);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__164);
/*  */
struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_4_fetch_tgz_locally {
  PyObject_HEAD
  PyObject *__pyx_v_filename;
};

</pre><pre class="cython line score-0">&#xA0;<span class="">2002</span>:     tgz_file: str,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2003</span>:     filename: str,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2004</span>:     savefile: str = 'tgz',</pre>
<pre class="cython line score-72" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2005</span>:     rename_outfile: Optional[str] = None</pre>
<pre class='cython code score-72 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_tgz_file)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2001, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_filename)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2001, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("fetch_tgz_locally", 0, 2, 4, 1); <span class='error_goto'>__PYX_ERR(0, 2001, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_savefile);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2001, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_rename_outfile);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2001, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "fetch_tgz_locally") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2001, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_tgz_file = ((PyObject*)values[0]);
    __pyx_v_filename = ((PyObject*)values[1]);
    __pyx_v_savefile = ((PyObject*)values[2]);
    __pyx_v_rename_outfile = values[3];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("fetch_tgz_locally", 0, 2, 4, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2001, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.fetch_tgz_locally", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_tgz_file), (&amp;PyUnicode_Type), 0, "tgz_file", 1))) <span class='error_goto'>__PYX_ERR(0, 2002, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_filename), (&amp;PyUnicode_Type), 0, "filename", 1))) <span class='error_goto'>__PYX_ERR(0, 2003, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_savefile), (&amp;PyUnicode_Type), 0, "savefile", 1))) <span class='error_goto'>__PYX_ERR(0, 2004, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_42fetch_tgz_locally(__pyx_self, __pyx_v_tgz_file, __pyx_v_filename, __pyx_v_savefile, __pyx_v_rename_outfile);
</pre><pre class="cython line score-0">&#xA0;<span class="">2006</span>:     ) -&gt; str:</pre>
<pre class="cython line score-0">&#xA0;<span class="">2007</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2008</span>:     Fetches and optionally renames a file from a tar archive with progress</pre>
<pre class="cython line score-0">&#xA0;<span class="">2009</span>:     reporting.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2010</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2011</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">2012</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2013</span>:     tgz_file : str or Path</pre>
<pre class="cython line score-0">&#xA0;<span class="">2014</span>:         The full path to the tar file.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2015</span>:     filename : str</pre>
<pre class="cython line score-0">&#xA0;<span class="">2016</span>:         The target file to fetch from the tar archive.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2017</span>:     savefile : str or Path, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2018</span>:         The destination path to save the retrieved file.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2019</span>:     rename_outfile : str or Path, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2020</span>:         The new name for the fetched file, if desired.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2021</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2022</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">2023</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2024</span>:     str</pre>
<pre class="cython line score-0">&#xA0;<span class="">2025</span>:         The path to the fetched and possibly renamed file.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2026</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2027</span>:     Example</pre>
<pre class="cython line score-0">&#xA0;<span class="">2028</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2029</span>:     &gt;&gt;&gt; from gofast.tools.mlutils import fetch_tgz_locally</pre>
<pre class="cython line score-0">&#xA0;<span class="">2030</span>:     &gt;&gt;&gt; fetch_tgz_locally('data/__tar.tgz/fmain.bagciv.data.tar.gz',</pre>
<pre class="cython line score-0">&#xA0;<span class="">2031</span>:     ...                      'dataset.csv', 'extracted',</pre>
<pre class="cython line score-0">&#xA0;<span class="">2032</span>:     ...                      rename_outfile='main.bagciv.data.csv')</pre>
<pre class="cython line score-0">&#xA0;<span class="">2033</span>:     &gt;&gt;&gt; # This will extract 'dataset.csv' from the tar.gz, save it to</pre>
<pre class="cython line score-0">&#xA0;<span class="">2034</span>:     &gt;&gt;&gt; # 'extracted' directory, and rename it to 'main.bagciv.data.csv'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2035</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2036</span>:     """</pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2037</span>:     tgz_path = Path(tgz_file)</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(2037,0,<span class='error_goto'>__PYX_ERR(0, 2037, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_Path);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2037, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_tgz_file};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2037, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_v_tgz_path = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2038</span>:     save_path = Path(savefile)</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(2038,0,<span class='error_goto'>__PYX_ERR(0, 2038, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_Path);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2038, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_savefile};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2038, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_v_save_path = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2039</span>:     save_path.mkdir(parents=True, exist_ok=True)</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(2039,0,<span class='error_goto'>__PYX_ERR(0, 2039, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_save_path, __pyx_n_s_mkdir);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2039, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2039, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_parents, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2039, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_exist_ok, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2039, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_empty_tuple, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2039, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2040</span>: </pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2041</span>:     if not tgz_path.is_file():</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(2041,0,<span class='error_goto'>__PYX_ERR(0, 2041, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_tgz_path, __pyx_n_s_is_file);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2041, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_1 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_1)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_1, NULL};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 2041, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_3); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2041, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_6 = (!__pyx_t_5);
  if (unlikely(__pyx_t_6)) {
/*  */
  }
</pre><pre class="cython line score-35" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2042</span>:         raise FileNotFoundError(f"Source {tgz_file!r} is not a valid file.")</pre>
<pre class='cython code score-35 '>    <span class='trace'>__Pyx_TraceLine</span>(2042,0,<span class='error_goto'>__PYX_ERR(0, 2042, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_FileNotFoundError);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2042, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2042, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_7 = 0;
    __pyx_t_8 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Source);
    __pyx_t_7 += 7;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Source);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_kp_u_Source);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_v_tgz_file), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2042, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_1) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_1) : __pyx_t_8;
    __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_1);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_1);
    __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_is_not_a_valid_file);
    __pyx_t_7 += 21;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_is_not_a_valid_file);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 2, __pyx_kp_u_is_not_a_valid_file);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_2, 3, __pyx_t_7, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2042, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_t_3, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2042, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='error_goto'>__PYX_ERR(0, 2042, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2043</span>: </pre>
<pre class="cython line score-75" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2044</span>:     with tarfile.open(tgz_path) as tar:</pre>
<pre class='cython code score-75 '>  <span class='trace'>__Pyx_TraceLine</span>(2044,0,<span class='error_goto'>__PYX_ERR(0, 2044, __pyx_L1_error)</span>)
  /*with:*/ {
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_tarfile);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2044, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_open);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2044, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_v_tgz_path};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2044, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_2, __pyx_n_s_exit);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2044, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_2, __pyx_n_s_enter);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2044, __pyx_L4_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_10 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_10 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_10)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_10);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_10, NULL};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 2044, __pyx_L4_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_t_1 = __pyx_t_3;
    __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    /*try:*/ {
      {
        /*try:*/ {
          __pyx_v_tar = __pyx_t_1;
          __pyx_t_1 = 0;
/*  */
        }
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
        goto __pyx_L13_try_end;
        __pyx_L8_error:;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        /*except:*/ {
          <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.fetch_tgz_locally", __pyx_clineno, __pyx_lineno, __pyx_filename);
          if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_2, &amp;__pyx_t_3, &amp;__pyx_t_10) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2044, __pyx_L10_except_error)</span>
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_2);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_10);
          __pyx_t_1 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_t_2, __pyx_t_3, __pyx_t_10);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2044, __pyx_L10_except_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          __pyx_t_14 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_9, __pyx_t_1, NULL);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          if (unlikely(!__pyx_t_14)) <span class='error_goto'>__PYX_ERR(0, 2044, __pyx_L10_except_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_14);
          __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_14);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
          if (__pyx_t_6 &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2044, __pyx_L10_except_error)</span>
          __pyx_t_5 = (!__pyx_t_6);
          if (unlikely(__pyx_t_5)) {
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_10);
            <span class='pyx_c_api'>__Pyx_ErrRestoreWithState</span>(__pyx_t_2, __pyx_t_3, __pyx_t_10);
            __pyx_t_2 = 0; __pyx_t_3 = 0; __pyx_t_10 = 0; 
            <span class='error_goto'>__PYX_ERR(0, 2044, __pyx_L10_except_error)</span>
          }
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
          goto __pyx_L9_exception_handled;
        }
        __pyx_L10_except_error:;
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
        <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_11, __pyx_t_12, __pyx_t_13);
        goto __pyx_L1_error;
        __pyx_L9_exception_handled:;
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
        <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_11, __pyx_t_12, __pyx_t_13);
        __pyx_L13_try_end:;
      }
    }
    /*finally:*/ {
      /*normal exit:*/{
        if (__pyx_t_9) {
          __pyx_t_13 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_9, __pyx_tuple__48, NULL);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
          if (unlikely(!__pyx_t_13)) <span class='error_goto'>__PYX_ERR(0, 2044, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_13);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
        }
        goto __pyx_L7;
      }
      __pyx_L7:;
    }
    goto __pyx_L20;
    __pyx_L4_error:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    goto __pyx_L1_error;
    __pyx_L20:;
  }
</pre><pre class="cython line score-123" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2045</span>:         member = next((m for m in tar.getmembers() if m.name.endswith(filename)), None)</pre>
<pre class='cython code score-123 '>static PyObject *__pyx_pf_6gofast_5tools_7mlutils_17fetch_tgz_locally_genexpr(PyObject *__pyx_self, PyObject *__pyx_genexpr_arg_0) {
  struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_5_genexpr *__pyx_cur_scope;
  PyObject *__pyx_r = NULL;
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_5_genexpr *)__pyx_tp_new_6gofast_5tools_7mlutils___pyx_scope_struct_5_genexpr(__pyx_ptype_6gofast_5tools_7mlutils___pyx_scope_struct_5_genexpr, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_5_genexpr *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 2045, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  __pyx_cur_scope-&gt;__pyx_outer_scope = (struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_4_fetch_tgz_locally *) __pyx_self;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>((PyObject *)__pyx_cur_scope-&gt;__pyx_outer_scope);
  <span class='refnanny'>__Pyx_GIVEREF</span>((PyObject *)__pyx_cur_scope-&gt;__pyx_outer_scope);
  __pyx_cur_scope-&gt;__pyx_genexpr_arg_0 = __pyx_genexpr_arg_0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  {
    __pyx_CoroutineObject *gen = <span class='pyx_c_api'>__Pyx_Generator_New</span>((__pyx_coroutine_body_t) __pyx_gb_6gofast_5tools_7mlutils_17fetch_tgz_locally_2generator, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_fetch_tgz_locally_locals_genexpr, __pyx_n_s_gofast_tools_mlutils);<span class='error_goto'> if (unlikely(!gen)) __PYX_ERR(0, 2045, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_cur_scope);
    <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
    return (PyObject *) gen;
  }

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.fetch_tgz_locally.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_gb_6gofast_5tools_7mlutils_17fetch_tgz_locally_2generator(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
{
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("genexpr", 0);
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_L3_first_run:;
  if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 2045, __pyx_L1_error)</span>
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>(".0"); <span class='error_goto'>__PYX_ERR(0, 2045, __pyx_L1_error)</span> }
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) {
    __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_genexpr_arg_0; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    __pyx_t_2 = 0;
    __pyx_t_3 = NULL;
  } else {
    __pyx_t_2 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2045, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2045, __pyx_L1_error)</span>
  }
  for (;;) {
    if (likely(!__pyx_t_3)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2045, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2045, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2045, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2045, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2045, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2045, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      }
    } else {
      __pyx_t_4 = __pyx_t_3(__pyx_t_1);
      if (unlikely(!__pyx_t_4)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 2045, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    }
    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_cur_scope-&gt;__pyx_v_m);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_cur_scope-&gt;__pyx_v_m, __pyx_t_4);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
    __pyx_t_4 = 0;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_cur_scope-&gt;__pyx_v_m, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2045, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_endswith);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2045, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(!__pyx_cur_scope-&gt;__pyx_outer_scope-&gt;__pyx_v_filename)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("filename"); <span class='error_goto'>__PYX_ERR(0, 2045, __pyx_L1_error)</span> }
    __pyx_t_5 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_cur_scope-&gt;__pyx_outer_scope-&gt;__pyx_v_filename};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 2045, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_4); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2045, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (__pyx_t_8) {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_m);
      __pyx_r = __pyx_cur_scope-&gt;__pyx_v_m;
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_1);
      __pyx_cur_scope-&gt;__pyx_t_0 = __pyx_t_1;
      __pyx_cur_scope-&gt;__pyx_t_1 = __pyx_t_2;
      __pyx_cur_scope-&gt;__pyx_t_2 = __pyx_t_3;
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
      <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
      <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
      <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
      /* return from generator, yielding value */
      __pyx_generator-&gt;resume_label = 1;
      return __pyx_r;
      __pyx_L7_resume_from_yield:;
      __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_t_0;
      __pyx_cur_scope-&gt;__pyx_t_0 = 0;
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
      __pyx_t_2 = __pyx_cur_scope-&gt;__pyx_t_1;
      __pyx_t_3 = __pyx_cur_scope-&gt;__pyx_t_2;
      if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 2045, __pyx_L1_error)</span>
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);

  /* function exit code */
  <span class='py_c_api'>PyErr_SetNone</span>(PyExc_StopIteration);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_Generator_Replace_StopIteration</span>(0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r); __pyx_r = 0;
  #if !CYTHON_USE_EXC_INFO_STACK
  <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
  #endif
  __pyx_generator-&gt;resume_label = -1;
  <span class='pyx_c_api'>__Pyx_Coroutine_clear</span>((PyObject*)__pyx_generator);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
          <span class='trace'>__Pyx_TraceLine</span>(2045,0,<span class='error_goto'>__PYX_ERR(0, 2045, __pyx_L8_error)</span>)
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_tar, __pyx_n_s_getmembers);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2045, __pyx_L8_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          __pyx_t_3 = NULL;
          __pyx_t_4 = 0;
          #if CYTHON_UNPACK_METHODS
          if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
            __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
            if (likely(__pyx_t_3)) {
              PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
              <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
              __pyx_t_4 = 1;
            }
          }
          #endif
          {
            PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
            __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
            if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2045, __pyx_L8_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          }
          __pyx_t_2 = __pyx_pf_6gofast_5tools_7mlutils_17fetch_tgz_locally_genexpr(((PyObject*)__pyx_cur_scope), __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2045, __pyx_L8_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          __pyx_t_1 = __Pyx_PyIter_Next2(__pyx_t_2, Py_None);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2045, __pyx_L8_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          __pyx_v_member = __pyx_t_1;
          __pyx_t_1 = 0;
/*  */
struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_5_genexpr {
  PyObject_HEAD
  struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_4_fetch_tgz_locally *__pyx_outer_scope;
  PyObject *__pyx_genexpr_arg_0;
  PyObject *__pyx_v_m;
  PyObject *__pyx_t_0;
  Py_ssize_t __pyx_t_1;
  PyObject *(*__pyx_t_2)(PyObject *);
};

</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2046</span>:         if member:</pre>
<pre class='cython code score-2 '>          <span class='trace'>__Pyx_TraceLine</span>(2046,0,<span class='error_goto'>__PYX_ERR(0, 2046, __pyx_L8_error)</span>)
          __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_member); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2046, __pyx_L8_error)</span>
          if (likely(__pyx_t_6)) {
/*  */
            goto __pyx_L14;
          }
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2047</span>:             _extract_with_progress(tar, member, save_path)</pre>
<pre class='cython code score-17 '>            <span class='trace'>__Pyx_TraceLine</span>(2047,0,<span class='error_goto'>__PYX_ERR(0, 2047, __pyx_L8_error)</span>)
            <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_extract_with_progress);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2047, __pyx_L8_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
            __pyx_t_3 = NULL;
            __pyx_t_4 = 0;
            #if CYTHON_UNPACK_METHODS
            if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
              __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
              if (likely(__pyx_t_3)) {
                PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
                <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
                <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
                <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
                __pyx_t_4 = 1;
              }
            }
            #endif
            {
              PyObject *__pyx_callargs[4] = {__pyx_t_3, __pyx_v_tar, __pyx_v_member, __pyx_v_save_path};
              __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 3+__pyx_t_4);
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
              if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2047, __pyx_L8_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
            }
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2048</span>:             extracted_file_path = save_path / member.name</pre>
<pre class='cython code score-5 '>            <span class='trace'>__Pyx_TraceLine</span>(2048,0,<span class='error_goto'>__PYX_ERR(0, 2048, __pyx_L8_error)</span>)
            __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_member, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2048, __pyx_L8_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
            __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyNumber_Divide</span>(__pyx_v_save_path, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2048, __pyx_L8_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
            __pyx_v_extracted_file_path = __pyx_t_2;
            __pyx_t_2 = 0;
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2049</span>:             final_file_path = save_path / (rename_outfile if rename_outfile else filename)</pre>
<pre class='cython code score-7 '>            <span class='trace'>__Pyx_TraceLine</span>(2049,0,<span class='error_goto'>__PYX_ERR(0, 2049, __pyx_L8_error)</span>)
            __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_rename_outfile); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2049, __pyx_L8_error)</span>
            if (__pyx_t_6) {
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_rename_outfile);
              __pyx_t_2 = __pyx_v_rename_outfile;
            } else {
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_filename);
              __pyx_t_2 = __pyx_cur_scope-&gt;__pyx_v_filename;
            }
            __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyNumber_Divide</span>(__pyx_v_save_path, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2049, __pyx_L8_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
            __pyx_v_final_file_path = __pyx_t_1;
            __pyx_t_1 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2050</span>:             if extracted_file_path != final_file_path:</pre>
<pre class='cython code score-8 '>            <span class='trace'>__Pyx_TraceLine</span>(2050,0,<span class='error_goto'>__PYX_ERR(0, 2050, __pyx_L8_error)</span>)
            __pyx_t_1 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_v_extracted_file_path, __pyx_v_final_file_path, Py_NE); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2050, __pyx_L8_error)</span>
            __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_1); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2050, __pyx_L8_error)</span>
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
            if (__pyx_t_6) {
/*  */
            }
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2051</span>:                 extracted_file_path.rename(final_file_path)</pre>
<pre class='cython code score-17 '>              <span class='trace'>__Pyx_TraceLine</span>(2051,0,<span class='error_goto'>__PYX_ERR(0, 2051, __pyx_L8_error)</span>)
              __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_extracted_file_path, __pyx_n_s_rename);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2051, __pyx_L8_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
              __pyx_t_3 = NULL;
              __pyx_t_4 = 0;
              #if CYTHON_UNPACK_METHODS
              if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
                __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
                if (likely(__pyx_t_3)) {
                  PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
                  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
                  <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
                  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
                  __pyx_t_4 = 1;
                }
              }
              #endif
              {
                PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_final_file_path};
                __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
                if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2051, __pyx_L8_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
              }
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2052</span>:                 # Cleanup if the extracted file was within a subdirectory</pre>
<pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2053</span>:                 if extracted_file_path.parent != save_path:</pre>
<pre class='cython code score-11 '>              <span class='trace'>__Pyx_TraceLine</span>(2053,0,<span class='error_goto'>__PYX_ERR(0, 2053, __pyx_L8_error)</span>)
              __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_extracted_file_path, __pyx_n_s_parent);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2053, __pyx_L8_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
              __pyx_t_2 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_1, __pyx_v_save_path, Py_NE); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2053, __pyx_L8_error)</span>
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
              __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_2); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2053, __pyx_L8_error)</span>
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
              if (__pyx_t_6) {
/*  */
              }
</pre><pre class="cython line score-27" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2054</span>:                     shutil.rmtree(extracted_file_path.parent, ignore_errors=True)</pre>
<pre class='cython code score-27 '>                <span class='trace'>__Pyx_TraceLine</span>(2054,0,<span class='error_goto'>__PYX_ERR(0, 2054, __pyx_L8_error)</span>)
                <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_shutil);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2054, __pyx_L8_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
                __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_rmtree);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2054, __pyx_L8_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
                __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_extracted_file_path, __pyx_n_s_parent);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2054, __pyx_L8_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
                __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2054, __pyx_L8_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
                <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
                if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2054, __pyx_L8_error)</span>;
                __pyx_t_2 = 0;
                __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2054, __pyx_L8_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
                if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_ignore_errors, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2054, __pyx_L8_error)</span>
                __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_3, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2054, __pyx_L8_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2055</span>:         else:</pre>
<pre class="cython line score-39" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2056</span>:             raise FileNotFoundError(f"File {filename} not found in {tgz_file}.")</pre>
<pre class='cython code score-39 '>          <span class='trace'>__Pyx_TraceLine</span>(2056,0,<span class='error_goto'>__PYX_ERR(0, 2056, __pyx_L8_error)</span>)
          /*else*/ {
            <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_10, __pyx_n_s_FileNotFoundError);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2056, __pyx_L8_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
            __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2056, __pyx_L8_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
            __pyx_t_7 = 0;
            __pyx_t_8 = 127;
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_File);
            __pyx_t_7 += 5;
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_File);
            <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_kp_u_File);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_filename);
            __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_cur_scope-&gt;__pyx_v_filename) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_cur_scope-&gt;__pyx_v_filename) : __pyx_t_8;
            __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_cur_scope-&gt;__pyx_v_filename);
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_v_filename);
            <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_cur_scope-&gt;__pyx_v_filename);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_not_found_in);
            __pyx_t_7 += 14;
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_not_found_in);
            <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 2, __pyx_kp_u_not_found_in);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_tgz_file);
            __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_tgz_file) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_tgz_file) : __pyx_t_8;
            __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_v_tgz_file);
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_tgz_file);
            <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 3, __pyx_v_tgz_file);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__3);
            __pyx_t_7 += 1;
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__3);
            <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 4, __pyx_kp_u__3);
            __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_2, 5, __pyx_t_7, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2056, __pyx_L8_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
            __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_t_10, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2056, __pyx_L8_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
            <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
            <span class='error_goto'>__PYX_ERR(0, 2056, __pyx_L8_error)</span>
          }
          __pyx_L14:;
</pre><pre class="cython line score-0">&#xA0;<span class="">2057</span>: </pre>
<pre class="cython line score-27" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2058</span>:     print(f"--&gt; '{final_file_path}' was successfully decompressed from"</pre>
<pre class='cython code score-27 '>  <span class='trace'>__Pyx_TraceLine</span>(2058,0,<span class='error_goto'>__PYX_ERR(0, 2058, __pyx_L1_error)</span>)
  __pyx_t_10 = <span class='py_c_api'>PyTuple_New</span>(7);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2058, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
  __pyx_t_7 = 0;
  __pyx_t_8 = 127;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__65);
  __pyx_t_7 += 5;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__65);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_10, 0, __pyx_kp_u__65);
  if (unlikely(!__pyx_v_final_file_path)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("final_file_path"); <span class='error_goto'>__PYX_ERR(0, 2058, __pyx_L1_error)</span> }
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_final_file_path, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2058, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_3) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_3) : __pyx_t_8;
  __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_3);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_10, 1, __pyx_t_3);
  __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_was_successfully_decompressed_f);
  __pyx_t_7 += 38;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_was_successfully_decompressed_f);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_10, 2, __pyx_kp_u_was_successfully_decompressed_f);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2058,0,<span class='error_goto'>__PYX_ERR(0, 2058, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_10, 7, __pyx_t_7, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2058, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
  __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_print, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2058, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2059</span>:           f" '{tgz_path.name}' and saved to '{save_path}'.")</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(2059,0,<span class='error_goto'>__PYX_ERR(0, 2059, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_tgz_path, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2059, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_t_3, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2059, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) : __pyx_t_8;
  __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_2);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_10, 3, __pyx_t_2);
  __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_and_saved_to);
  __pyx_t_7 += 16;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_and_saved_to);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_10, 4, __pyx_kp_u_and_saved_to);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_save_path, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2059, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) : __pyx_t_8;
  __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_2);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_10, 5, __pyx_t_2);
  __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__66);
  __pyx_t_7 += 2;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__66);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_10, 6, __pyx_kp_u__66);
</pre><pre class="cython line score-0">&#xA0;<span class="">2060</span>: </pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2061</span>:     return str(final_file_path)</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(2061,0,<span class='error_goto'>__PYX_ERR(0, 2061, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  if (unlikely(!__pyx_v_final_file_path)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("final_file_path"); <span class='error_goto'>__PYX_ERR(0, 2061, __pyx_L1_error)</span> }
  __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_Str</span>(__pyx_v_final_file_path);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2061, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
  __pyx_r = ((PyObject*)__pyx_t_10);
  __pyx_t_10 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2062</span>: </pre>
<pre class="cython line score-74" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2063</span>: def base_local_tgz_fetch(</pre>
<pre class='cython code score-74 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_45base_local_tgz_fetch(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_44base_local_tgz_fetch, "\n    Fetches a single file from an archived tar file and optionally renames it.\n\n    Parameters\n    ----------\n    tgz_file : str or Path\n        The full path to the tar file.\n    filename : str\n        The target file to fetch from the tar archive.\n    savefile : str or Path, optional\n        The destination path to save the retrieved file. Defaults to 'tgz'.\n    rename_outfile : str or Path, optional\n        The new name for the fetched file. If not provided, the original name is used.\n\n    Returns\n    -------\n    str\n        The path to the fetched (and possibly renamed) file.\n\n    Example\n    -------\n    &gt;&gt;&gt; fetch_tgz_locally('data/__tar.tgz/fmain.bagciv.data.tar.gz',\n    ...                      'dataset.csv', 'extracted', \n    ...                      rename_outfile='main.bagciv.data.csv')\n    &gt;&gt;&gt; # This will extract 'dataset.csv' from the tar.gz, save it to \n    &gt;&gt;&gt; # 'extracted' directory, and rename it to 'main.bagciv.data.csv'.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_45base_local_tgz_fetch = {"base_local_tgz_fetch", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_45base_local_tgz_fetch, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_44base_local_tgz_fetch};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_45base_local_tgz_fetch(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_tgz_file = 0;
  PyObject *__pyx_v_filename = 0;
  PyObject *__pyx_v_savefile = 0;
  PyObject *__pyx_v_rename_outfile = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("base_local_tgz_fetch (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_tgz_file,&amp;__pyx_n_s_filename,&amp;__pyx_n_s_savefile,&amp;__pyx_n_s_rename_outfile,0};
  PyObject* values[4] = {0,0,0,0};
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject*)((PyObject*)__pyx_n_u_tgz)));
/*  */
  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
static PyObject *__pyx_pf_6gofast_5tools_7mlutils_44base_local_tgz_fetch(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_tgz_file, PyObject *__pyx_v_filename, PyObject *__pyx_v_savefile, PyObject *__pyx_v_rename_outfile) {
  PyObject *__pyx_v_tgz_path = NULL;
  PyObject *__pyx_v_save_path = NULL;
  PyObject *__pyx_v_retrieve_target_member = 0;
  PyObject *__pyx_v_tar = NULL;
  PyObject *__pyx_v_target_extension = NULL;
  PyObject *__pyx_v_target_member = NULL;
  PyObject *__pyx_v_extracted_file_path = NULL;
  PyObject *__pyx_v_final_file_path = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__67)
  <span class='trace'>__Pyx_TraceCall</span>("base_local_tgz_fetch", __pyx_f[0], 2063, 0, <span class='error_goto'>__PYX_ERR(0, 2063, __pyx_L1_error)</span>);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.base_local_tgz_fetch", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_tgz_path);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_save_path);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_retrieve_target_member);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_tar);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_target_extension);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_target_member);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_extracted_file_path);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_final_file_path);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__165 = <span class='py_c_api'>PyTuple_Pack</span>(13, __pyx_n_s_tgz_file, __pyx_n_s_filename, __pyx_n_s_savefile, __pyx_n_s_rename_outfile, __pyx_n_s_tgz_path, __pyx_n_s_save_path, __pyx_n_s_retrieve_target_member, __pyx_n_s_retrieve_target_member, __pyx_n_s_tar, __pyx_n_s_target_extension, __pyx_n_s_target_member, __pyx_n_s_extracted_file_path, __pyx_n_s_final_file_path);<span class='error_goto'> if (unlikely(!__pyx_tuple__165)) __PYX_ERR(0, 2063, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__165);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__165);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2063,0,<span class='error_goto'>__PYX_ERR(0, 2063, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2063, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_tgz_file, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2063, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_filename, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2063, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_savefile, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2063, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_rename_outfile, __pyx_kp_s_Optional_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2063, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2063, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_45base_local_tgz_fetch, 0, __pyx_n_s_base_local_tgz_fetch, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__67));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2063, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_4, __pyx_tuple__164);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_4, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_base_local_tgz_fetch, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2063, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_codeobj__67 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(4, 0, 0, 13, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__165, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_base_local_tgz_fetch, 2063, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__67)) __PYX_ERR(0, 2063, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2064</span>:     tgz_file: str,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2065</span>:     filename: str,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2066</span>:     savefile: str = 'tgz',</pre>
<pre class="cython line score-72" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2067</span>:     rename_outfile: Optional[str] = None</pre>
<pre class='cython code score-72 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_tgz_file)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2063, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_filename)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2063, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("base_local_tgz_fetch", 0, 2, 4, 1); <span class='error_goto'>__PYX_ERR(0, 2063, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_savefile);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2063, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_rename_outfile);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2063, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "base_local_tgz_fetch") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2063, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_tgz_file = ((PyObject*)values[0]);
    __pyx_v_filename = ((PyObject*)values[1]);
    __pyx_v_savefile = ((PyObject*)values[2]);
    __pyx_v_rename_outfile = values[3];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("base_local_tgz_fetch", 0, 2, 4, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2063, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.base_local_tgz_fetch", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_tgz_file), (&amp;PyUnicode_Type), 0, "tgz_file", 1))) <span class='error_goto'>__PYX_ERR(0, 2064, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_filename), (&amp;PyUnicode_Type), 0, "filename", 1))) <span class='error_goto'>__PYX_ERR(0, 2065, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_savefile), (&amp;PyUnicode_Type), 0, "savefile", 1))) <span class='error_goto'>__PYX_ERR(0, 2066, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_44base_local_tgz_fetch(__pyx_self, __pyx_v_tgz_file, __pyx_v_filename, __pyx_v_savefile, __pyx_v_rename_outfile);
</pre><pre class="cython line score-0">&#xA0;<span class="">2068</span>:     ) -&gt; str:</pre>
<pre class="cython line score-0">&#xA0;<span class="">2069</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2070</span>:     Fetches a single file from an archived tar file and optionally renames it.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2071</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2072</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">2073</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2074</span>:     tgz_file : str or Path</pre>
<pre class="cython line score-0">&#xA0;<span class="">2075</span>:         The full path to the tar file.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2076</span>:     filename : str</pre>
<pre class="cython line score-0">&#xA0;<span class="">2077</span>:         The target file to fetch from the tar archive.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2078</span>:     savefile : str or Path, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2079</span>:         The destination path to save the retrieved file. Defaults to 'tgz'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2080</span>:     rename_outfile : str or Path, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2081</span>:         The new name for the fetched file. If not provided, the original name is used.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2082</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2083</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">2084</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2085</span>:     str</pre>
<pre class="cython line score-0">&#xA0;<span class="">2086</span>:         The path to the fetched (and possibly renamed) file.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2087</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2088</span>:     Example</pre>
<pre class="cython line score-0">&#xA0;<span class="">2089</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2090</span>:     &gt;&gt;&gt; fetch_tgz_locally('data/__tar.tgz/fmain.bagciv.data.tar.gz',</pre>
<pre class="cython line score-0">&#xA0;<span class="">2091</span>:     ...                      'dataset.csv', 'extracted',</pre>
<pre class="cython line score-0">&#xA0;<span class="">2092</span>:     ...                      rename_outfile='main.bagciv.data.csv')</pre>
<pre class="cython line score-0">&#xA0;<span class="">2093</span>:     &gt;&gt;&gt; # This will extract 'dataset.csv' from the tar.gz, save it to</pre>
<pre class="cython line score-0">&#xA0;<span class="">2094</span>:     &gt;&gt;&gt; # 'extracted' directory, and rename it to 'main.bagciv.data.csv'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2095</span>:     """</pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2096</span>:     tgz_path = Path(tgz_file)</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(2096,0,<span class='error_goto'>__PYX_ERR(0, 2096, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_Path);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2096, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_tgz_file};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2096, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_v_tgz_path = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2097</span>:     save_path = Path(savefile)</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(2097,0,<span class='error_goto'>__PYX_ERR(0, 2097, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_Path);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2097, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_savefile};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2097, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_v_save_path = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2098</span>:     save_path.mkdir(parents=True, exist_ok=True)</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(2098,0,<span class='error_goto'>__PYX_ERR(0, 2098, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_save_path, __pyx_n_s_mkdir);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2098, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2098, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_parents, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2098, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_exist_ok, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2098, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_empty_tuple, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2098, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2099</span>: </pre>
<pre class="cython line score-67" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2100</span>:     def retrieve_target_member(tar_obj, target_extension):</pre>
<pre class='cython code score-67 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_20base_local_tgz_fetch_1retrieve_target_member(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_20base_local_tgz_fetch_retrieve_target_member, "Retrieve the main member that matches the target filename extension.");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_20base_local_tgz_fetch_1retrieve_target_member = {"retrieve_target_member", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_20base_local_tgz_fetch_1retrieve_target_member, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_20base_local_tgz_fetch_retrieve_target_member};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_20base_local_tgz_fetch_1retrieve_target_member(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_tar_obj = 0;
  PyObject *__pyx_v_target_extension = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("retrieve_target_member (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_tar_obj,&amp;__pyx_n_s_target_extension,0};
  PyObject* values[2] = {0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_tar_obj)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2100, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_target_extension)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2100, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("retrieve_target_member", 1, 2, 2, 1); <span class='error_goto'>__PYX_ERR(0, 2100, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "retrieve_target_member") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2100, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 2)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
    }
    __pyx_v_tar_obj = values[0];
    __pyx_v_target_extension = values[1];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("retrieve_target_member", 1, 2, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2100, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.base_local_tgz_fetch.retrieve_target_member", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_20base_local_tgz_fetch_retrieve_target_member(__pyx_self, __pyx_v_tar_obj, __pyx_v_target_extension);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
static PyObject *__pyx_gb_6gofast_5tools_7mlutils_20base_local_tgz_fetch_22retrieve_target_member_2generator1(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
/*  */
static PyObject *__pyx_pf_6gofast_5tools_7mlutils_20base_local_tgz_fetch_retrieve_target_member(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_tar_obj, PyObject *__pyx_v_target_extension) {
  struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_6_retrieve_target_member *__pyx_cur_scope;
  PyObject *__pyx_gb_6gofast_5tools_7mlutils_20base_local_tgz_fetch_22retrieve_target_member_2generator1 = 0;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_6_retrieve_target_member *)__pyx_tp_new_6gofast_5tools_7mlutils___pyx_scope_struct_6_retrieve_target_member(__pyx_ptype_6gofast_5tools_7mlutils___pyx_scope_struct_6_retrieve_target_member, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_6_retrieve_target_member *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 2100, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  <span class='trace'>__Pyx_TraceCall</span>("retrieve_target_member", __pyx_f[0], 2100, 0, <span class='error_goto'>__PYX_ERR(0, 2100, __pyx_L1_error)</span>);
  __pyx_cur_scope-&gt;__pyx_v_target_extension = __pyx_v_target_extension;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_target_extension);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_v_target_extension);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.base_local_tgz_fetch.retrieve_target_member", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_gb_6gofast_5tools_7mlutils_20base_local_tgz_fetch_22retrieve_target_member_2generator1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__68 = <span class='py_c_api'>PyTuple_Pack</span>(4, __pyx_n_s_tar_obj, __pyx_n_s_target_extension, __pyx_n_s_genexpr, __pyx_n_s_genexpr);<span class='error_goto'> if (unlikely(!__pyx_tuple__68)) __PYX_ERR(0, 2100, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__68);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__68);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2100,0,<span class='error_goto'>__PYX_ERR(0, 2100, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_20base_local_tgz_fetch_1retrieve_target_member, 0, __pyx_n_s_base_local_tgz_fetch_locals_retr_2, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__69));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2100, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_v_retrieve_target_member = __pyx_t_3;
  __pyx_t_3 = 0;
  __pyx_codeobj__69 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(2, 0, 0, 4, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__68, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_retrieve_target_member, 2100, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__69)) __PYX_ERR(0, 2100, __pyx_L1_error)</span>
/*  */
struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_6_retrieve_target_member {
  PyObject_HEAD
  PyObject *__pyx_v_target_extension;
};

</pre><pre class="cython line score-0">&#xA0;<span class="">2101</span>:         """Retrieve the main member that matches the target filename extension."""</pre>
<pre class="cython line score-103" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2102</span>:         return next((m for m in tar_obj.getmembers() if Path</pre>
<pre class='cython code score-103 '>static PyObject *__pyx_pf_6gofast_5tools_7mlutils_20base_local_tgz_fetch_22retrieve_target_member_genexpr(PyObject *__pyx_self, PyObject *__pyx_genexpr_arg_0) {
  struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_7_genexpr *__pyx_cur_scope;
  PyObject *__pyx_r = NULL;
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_7_genexpr *)__pyx_tp_new_6gofast_5tools_7mlutils___pyx_scope_struct_7_genexpr(__pyx_ptype_6gofast_5tools_7mlutils___pyx_scope_struct_7_genexpr, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_7_genexpr *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 2102, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  __pyx_cur_scope-&gt;__pyx_outer_scope = (struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_6_retrieve_target_member *) __pyx_self;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>((PyObject *)__pyx_cur_scope-&gt;__pyx_outer_scope);
  <span class='refnanny'>__Pyx_GIVEREF</span>((PyObject *)__pyx_cur_scope-&gt;__pyx_outer_scope);
  __pyx_cur_scope-&gt;__pyx_genexpr_arg_0 = __pyx_genexpr_arg_0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  {
    __pyx_CoroutineObject *gen = <span class='pyx_c_api'>__Pyx_Generator_New</span>((__pyx_coroutine_body_t) __pyx_gb_6gofast_5tools_7mlutils_20base_local_tgz_fetch_22retrieve_target_member_2generator1, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_base_local_tgz_fetch_locals_retr, __pyx_n_s_gofast_tools_mlutils);<span class='error_goto'> if (unlikely(!gen)) __PYX_ERR(0, 2102, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_cur_scope);
    <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
    return (PyObject *) gen;
  }

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.base_local_tgz_fetch.retrieve_target_member.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_gb_6gofast_5tools_7mlutils_20base_local_tgz_fetch_22retrieve_target_member_2generator1(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
{
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("genexpr", 0);
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_L3_first_run:;
  if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 2102, __pyx_L1_error)</span>
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>(".0"); <span class='error_goto'>__PYX_ERR(0, 2102, __pyx_L1_error)</span> }
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) {
    __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_genexpr_arg_0; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    __pyx_t_2 = 0;
    __pyx_t_3 = NULL;
  } else {
    __pyx_t_2 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2102, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2102, __pyx_L1_error)</span>
  }
  for (;;) {
    if (likely(!__pyx_t_3)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2102, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2102, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2102, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2102, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2102, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2102, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      }
    } else {
      __pyx_t_4 = __pyx_t_3(__pyx_t_1);
      if (unlikely(!__pyx_t_4)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 2102, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    }
    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_cur_scope-&gt;__pyx_v_m);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_cur_scope-&gt;__pyx_v_m, __pyx_t_4);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
    __pyx_t_4 = 0;
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(2103,0,<span class='error_goto'>__PYX_ERR(0, 2103, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_Path);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2102, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(2102,0,<span class='error_goto'>__PYX_ERR(0, 2102, __pyx_L1_error)</span>)
    if (__pyx_t_9) {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_v_m);
      __pyx_r = __pyx_cur_scope-&gt;__pyx_v_m;
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_1);
      __pyx_cur_scope-&gt;__pyx_t_0 = __pyx_t_1;
      __pyx_cur_scope-&gt;__pyx_t_1 = __pyx_t_2;
      __pyx_cur_scope-&gt;__pyx_t_2 = __pyx_t_3;
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
      <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
      <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
      <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
      /* return from generator, yielding value */
      __pyx_generator-&gt;resume_label = 1;
      return __pyx_r;
      __pyx_L7_resume_from_yield:;
      __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_t_0;
      __pyx_cur_scope-&gt;__pyx_t_0 = 0;
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
      __pyx_t_2 = __pyx_cur_scope-&gt;__pyx_t_1;
      __pyx_t_3 = __pyx_cur_scope-&gt;__pyx_t_2;
      if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 2102, __pyx_L1_error)</span>
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);

  /* function exit code */
  <span class='py_c_api'>PyErr_SetNone</span>(PyExc_StopIteration);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_Generator_Replace_StopIteration</span>(0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r); __pyx_r = 0;
  #if !CYTHON_USE_EXC_INFO_STACK
  <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
  #endif
  __pyx_generator-&gt;resume_label = -1;
  <span class='pyx_c_api'>__Pyx_Coroutine_clear</span>((PyObject*)__pyx_generator);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2102,0,<span class='error_goto'>__PYX_ERR(0, 2102, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_tar_obj, __pyx_n_s_getmembers);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2102, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2102, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_t_2 = __pyx_pf_6gofast_5tools_7mlutils_20base_local_tgz_fetch_22retrieve_target_member_genexpr(((PyObject*)__pyx_cur_scope), __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2102, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2103,0,<span class='error_goto'>__PYX_ERR(0, 2103, __pyx_L1_error)</span>)
  __pyx_t_1 = __Pyx_PyIter_Next2(__pyx_t_2, Py_None);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2102, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;
/*  */
struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_7_genexpr {
  PyObject_HEAD
  struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_6_retrieve_target_member *__pyx_outer_scope;
  PyObject *__pyx_genexpr_arg_0;
  PyObject *__pyx_v_m;
  PyObject *__pyx_t_0;
  Py_ssize_t __pyx_t_1;
  PyObject *(*__pyx_t_2)(PyObject *);
};

</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2103</span>:                      (m.name).suffix == target_extension), None)</pre>
<pre class='cython code score-31 '>    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_cur_scope-&gt;__pyx_v_m, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2103, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_7 = NULL;
    __pyx_t_8 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_7)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_8 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_7, __pyx_t_6};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 2103, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_suffix);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2103, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (unlikely(!__pyx_cur_scope-&gt;__pyx_outer_scope-&gt;__pyx_v_target_extension)) { <span class='pyx_c_api'>__Pyx_RaiseClosureNameError</span>("target_extension"); <span class='error_goto'>__PYX_ERR(0, 2103, __pyx_L1_error)</span> }
    __pyx_t_4 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_5, __pyx_cur_scope-&gt;__pyx_outer_scope-&gt;__pyx_v_target_extension, Py_EQ); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2103, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_4); if (unlikely((__pyx_t_9 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2103, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2104</span>: </pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2105</span>:     if not tgz_path.is_file():</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(2105,0,<span class='error_goto'>__PYX_ERR(0, 2105, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_tgz_path, __pyx_n_s_is_file);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2105, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_1 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_1)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_1, NULL};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 2105, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_3); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2105, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_6 = (!__pyx_t_5);
  if (unlikely(__pyx_t_6)) {
/*  */
  }
</pre><pre class="cython line score-35" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2106</span>:         raise FileNotFoundError(f"Source {tgz_file!r} is not a valid file.")</pre>
<pre class='cython code score-35 '>    <span class='trace'>__Pyx_TraceLine</span>(2106,0,<span class='error_goto'>__PYX_ERR(0, 2106, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_FileNotFoundError);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2106, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2106, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_7 = 0;
    __pyx_t_8 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Source);
    __pyx_t_7 += 7;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Source);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_kp_u_Source);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_v_tgz_file), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2106, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_1) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_1) : __pyx_t_8;
    __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_1);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_1);
    __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_is_not_a_valid_file);
    __pyx_t_7 += 21;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_is_not_a_valid_file);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 2, __pyx_kp_u_is_not_a_valid_file);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_2, 3, __pyx_t_7, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2106, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_t_3, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2106, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='error_goto'>__PYX_ERR(0, 2106, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2107</span>: </pre>
<pre class="cython line score-75" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2108</span>:     with tarfile.open(tgz_path) as tar:</pre>
<pre class='cython code score-75 '>  <span class='trace'>__Pyx_TraceLine</span>(2108,0,<span class='error_goto'>__PYX_ERR(0, 2108, __pyx_L1_error)</span>)
  /*with:*/ {
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_tarfile);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2108, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_open);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2108, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_v_tgz_path};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2108, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_2, __pyx_n_s_exit);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2108, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_2, __pyx_n_s_enter);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2108, __pyx_L4_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_10 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_10 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_10)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_10);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_10, NULL};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 2108, __pyx_L4_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_t_1 = __pyx_t_3;
    __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    /*try:*/ {
      {
        /*try:*/ {
          __pyx_v_tar = __pyx_t_1;
          __pyx_t_1 = 0;
/*  */
        }
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
        goto __pyx_L13_try_end;
        __pyx_L8_error:;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        /*except:*/ {
          <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.base_local_tgz_fetch", __pyx_clineno, __pyx_lineno, __pyx_filename);
          if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_1, &amp;__pyx_t_10, &amp;__pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2108, __pyx_L10_except_error)</span>
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_10);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
          __pyx_t_2 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_t_1, __pyx_t_10, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2108, __pyx_L10_except_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          __pyx_t_14 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_9, __pyx_t_2, NULL);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          if (unlikely(!__pyx_t_14)) <span class='error_goto'>__PYX_ERR(0, 2108, __pyx_L10_except_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_14);
          __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_14);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
          if (__pyx_t_6 &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2108, __pyx_L10_except_error)</span>
          __pyx_t_5 = (!__pyx_t_6);
          if (unlikely(__pyx_t_5)) {
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_10);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_3);
            <span class='pyx_c_api'>__Pyx_ErrRestoreWithState</span>(__pyx_t_1, __pyx_t_10, __pyx_t_3);
            __pyx_t_1 = 0; __pyx_t_10 = 0; __pyx_t_3 = 0; 
            <span class='error_goto'>__PYX_ERR(0, 2108, __pyx_L10_except_error)</span>
          }
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          goto __pyx_L9_exception_handled;
        }
        __pyx_L10_except_error:;
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
        <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_11, __pyx_t_12, __pyx_t_13);
        goto __pyx_L1_error;
        __pyx_L9_exception_handled:;
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
        <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_11, __pyx_t_12, __pyx_t_13);
        __pyx_L13_try_end:;
      }
    }
    /*finally:*/ {
      /*normal exit:*/{
        if (__pyx_t_9) {
          __pyx_t_13 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_9, __pyx_tuple__48, NULL);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
          if (unlikely(!__pyx_t_13)) <span class='error_goto'>__PYX_ERR(0, 2108, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_13);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
        }
        goto __pyx_L7;
      }
      __pyx_L7:;
    }
    goto __pyx_L20;
    __pyx_L4_error:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    goto __pyx_L1_error;
    __pyx_L20:;
  }
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2109</span>:         target_extension = Path(filename).suffix</pre>
<pre class='cython code score-19 '>          <span class='trace'>__Pyx_TraceLine</span>(2109,0,<span class='error_goto'>__PYX_ERR(0, 2109, __pyx_L8_error)</span>)
          <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_Path);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2109, __pyx_L8_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          __pyx_t_3 = NULL;
          __pyx_t_4 = 0;
          #if CYTHON_UNPACK_METHODS
          if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
            __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
            if (likely(__pyx_t_3)) {
              PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
              <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
              __pyx_t_4 = 1;
            }
          }
          #endif
          {
            PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_filename};
            __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
            if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2109, __pyx_L8_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          }
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_suffix);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2109, __pyx_L8_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          __pyx_v_target_extension = __pyx_t_2;
          __pyx_t_2 = 0;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2110</span>:         target_member = retrieve_target_member(tar, target_extension)</pre>
<pre class='cython code score-0 '>          <span class='trace'>__Pyx_TraceLine</span>(2110,0,<span class='error_goto'>__PYX_ERR(0, 2110, __pyx_L8_error)</span>)
          __pyx_t_2 = __pyx_pf_6gofast_5tools_7mlutils_20base_local_tgz_fetch_retrieve_target_member(__pyx_v_retrieve_target_member, __pyx_v_tar, __pyx_v_target_extension);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2110, __pyx_L8_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          __pyx_v_target_member = __pyx_t_2;
          __pyx_t_2 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2111</span>:         if target_member:</pre>
<pre class='cython code score-2 '>          <span class='trace'>__Pyx_TraceLine</span>(2111,0,<span class='error_goto'>__PYX_ERR(0, 2111, __pyx_L8_error)</span>)
          __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_target_member); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2111, __pyx_L8_error)</span>
          if (likely(__pyx_t_6)) {
/*  */
            goto __pyx_L14;
          }
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2112</span>:             tar.extract(target_member, path=save_path)</pre>
<pre class='cython code score-23 '>            <span class='trace'>__Pyx_TraceLine</span>(2112,0,<span class='error_goto'>__PYX_ERR(0, 2112, __pyx_L8_error)</span>)
            __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_tar, __pyx_n_s_extract);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2112, __pyx_L8_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
            __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2112, __pyx_L8_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_member);
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target_member);
            if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_target_member)) <span class='error_goto'>__PYX_ERR(0, 2112, __pyx_L8_error)</span>;
            __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2112, __pyx_L8_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
            if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_path, __pyx_v_save_path) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2112, __pyx_L8_error)</span>
            __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_1, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2112, __pyx_L8_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2113</span>:             extracted_file_path = save_path / target_member.name</pre>
<pre class='cython code score-5 '>            <span class='trace'>__Pyx_TraceLine</span>(2113,0,<span class='error_goto'>__PYX_ERR(0, 2113, __pyx_L8_error)</span>)
            __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_target_member, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2113, __pyx_L8_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
            __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyNumber_Divide</span>(__pyx_v_save_path, __pyx_t_10);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2113, __pyx_L8_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
            __pyx_v_extracted_file_path = __pyx_t_3;
            __pyx_t_3 = 0;
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2114</span>:             final_file_path = save_path / (rename_outfile if rename_outfile else filename)</pre>
<pre class='cython code score-7 '>            <span class='trace'>__Pyx_TraceLine</span>(2114,0,<span class='error_goto'>__PYX_ERR(0, 2114, __pyx_L8_error)</span>)
            __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_rename_outfile); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2114, __pyx_L8_error)</span>
            if (__pyx_t_6) {
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_rename_outfile);
              __pyx_t_3 = __pyx_v_rename_outfile;
            } else {
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_filename);
              __pyx_t_3 = __pyx_v_filename;
            }
            __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyNumber_Divide</span>(__pyx_v_save_path, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2114, __pyx_L8_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
            __pyx_v_final_file_path = __pyx_t_10;
            __pyx_t_10 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2115</span>:             if extracted_file_path != final_file_path:</pre>
<pre class='cython code score-8 '>            <span class='trace'>__Pyx_TraceLine</span>(2115,0,<span class='error_goto'>__PYX_ERR(0, 2115, __pyx_L8_error)</span>)
            __pyx_t_10 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_v_extracted_file_path, __pyx_v_final_file_path, Py_NE); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_10);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2115, __pyx_L8_error)</span>
            __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_10); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2115, __pyx_L8_error)</span>
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
            if (__pyx_t_6) {
/*  */
            }
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2116</span>:                 extracted_file_path.rename(final_file_path)</pre>
<pre class='cython code score-17 '>              <span class='trace'>__Pyx_TraceLine</span>(2116,0,<span class='error_goto'>__PYX_ERR(0, 2116, __pyx_L8_error)</span>)
              __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_extracted_file_path, __pyx_n_s_rename);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2116, __pyx_L8_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
              __pyx_t_1 = NULL;
              __pyx_t_4 = 0;
              #if CYTHON_UNPACK_METHODS
              if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
                __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
                if (likely(__pyx_t_1)) {
                  PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
                  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
                  <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
                  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
                  __pyx_t_4 = 1;
                }
              }
              #endif
              {
                PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_v_final_file_path};
                __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
                if (unlikely(!__pyx_t_10)) <span class='error_goto'>__PYX_ERR(0, 2116, __pyx_L8_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
              }
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2117</span>:                 # Cleanup if the extracted file was within a subdirectory</pre>
<pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2118</span>:                 if extracted_file_path.parent != save_path:</pre>
<pre class='cython code score-11 '>              <span class='trace'>__Pyx_TraceLine</span>(2118,0,<span class='error_goto'>__PYX_ERR(0, 2118, __pyx_L8_error)</span>)
              __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_extracted_file_path, __pyx_n_s_parent);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2118, __pyx_L8_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
              __pyx_t_3 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_10, __pyx_v_save_path, Py_NE); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2118, __pyx_L8_error)</span>
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
              __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_3); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2118, __pyx_L8_error)</span>
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
              if (__pyx_t_6) {
/*  */
              }
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2119</span>:                     shutil.rmtree(extracted_file_path.parent)</pre>
<pre class='cython code score-23 '>                <span class='trace'>__Pyx_TraceLine</span>(2119,0,<span class='error_goto'>__PYX_ERR(0, 2119, __pyx_L8_error)</span>)
                <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_10, __pyx_n_s_shutil);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2119, __pyx_L8_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
                __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_10, __pyx_n_s_rmtree);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2119, __pyx_L8_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
                __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_extracted_file_path, __pyx_n_s_parent);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2119, __pyx_L8_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
                __pyx_t_2 = NULL;
                __pyx_t_4 = 0;
                #if CYTHON_UNPACK_METHODS
                if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
                  __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
                  if (likely(__pyx_t_2)) {
                    PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
                    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
                    <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
                    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
                    __pyx_t_4 = 1;
                  }
                }
                #endif
                {
                  PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_t_10};
                  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
                  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
                  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
                  if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 2119, __pyx_L8_error)</span>
                  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
                  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
                }
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2120</span>:         else:</pre>
<pre class="cython line score-39" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2121</span>:             raise FileNotFoundError(f"File {filename} not found in {tgz_file}.")</pre>
<pre class='cython code score-39 '>          <span class='trace'>__Pyx_TraceLine</span>(2121,0,<span class='error_goto'>__PYX_ERR(0, 2121, __pyx_L8_error)</span>)
          /*else*/ {
            <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_FileNotFoundError);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2121, __pyx_L8_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
            __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2121, __pyx_L8_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
            __pyx_t_7 = 0;
            __pyx_t_8 = 127;
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_File);
            __pyx_t_7 += 5;
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_File);
            <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_kp_u_File);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_filename);
            __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_filename) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_filename) : __pyx_t_8;
            __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_v_filename);
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_filename);
            <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_v_filename);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_not_found_in);
            __pyx_t_7 += 14;
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_not_found_in);
            <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 2, __pyx_kp_u_not_found_in);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_tgz_file);
            __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_tgz_file) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_tgz_file) : __pyx_t_8;
            __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_v_tgz_file);
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_tgz_file);
            <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 3, __pyx_v_tgz_file);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__3);
            __pyx_t_7 += 1;
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__3);
            <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 4, __pyx_kp_u__3);
            __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_1, 5, __pyx_t_7, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2121, __pyx_L8_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
            __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_t_3, __pyx_t_10);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2121, __pyx_L8_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
            <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_1, 0, 0, 0);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
            <span class='error_goto'>__PYX_ERR(0, 2121, __pyx_L8_error)</span>
          }
          __pyx_L14:;
</pre><pre class="cython line score-0">&#xA0;<span class="">2122</span>: </pre>
<pre class="cython line score-27" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2123</span>:     print(f"--&gt; '{final_file_path}' was successfully decompressed from"</pre>
<pre class='cython code score-27 '>  <span class='trace'>__Pyx_TraceLine</span>(2123,0,<span class='error_goto'>__PYX_ERR(0, 2123, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(7);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2123, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_7 = 0;
  __pyx_t_8 = 127;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__65);
  __pyx_t_7 += 5;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__65);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_kp_u__65);
  if (unlikely(!__pyx_v_final_file_path)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("final_file_path"); <span class='error_goto'>__PYX_ERR(0, 2123, __pyx_L1_error)</span> }
  __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_final_file_path, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2123, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
  __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_10) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_10) : __pyx_t_8;
  __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_10);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_10);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_t_10);
  __pyx_t_10 = 0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_was_successfully_decompressed_f);
  __pyx_t_7 += 38;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_was_successfully_decompressed_f);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 2, __pyx_kp_u_was_successfully_decompressed_f);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2123,0,<span class='error_goto'>__PYX_ERR(0, 2123, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_3, 7, __pyx_t_7, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2123, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_print, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2123, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2124</span>:           f" '{tgz_path.name}' and saved to '{save_path}'.")</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(2124,0,<span class='error_goto'>__PYX_ERR(0, 2124, __pyx_L1_error)</span>)
  __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_tgz_path, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2124, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_t_10, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2124, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
  __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_1) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_1) : __pyx_t_8;
  __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_1);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 3, __pyx_t_1);
  __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_and_saved_to);
  __pyx_t_7 += 16;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_and_saved_to);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 4, __pyx_kp_u_and_saved_to);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_save_path, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2124, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_1) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_1) : __pyx_t_8;
  __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_1);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 5, __pyx_t_1);
  __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__66);
  __pyx_t_7 += 2;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__66);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 6, __pyx_kp_u__66);
</pre><pre class="cython line score-0">&#xA0;<span class="">2125</span>: </pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2126</span>:     return str(final_file_path)</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(2126,0,<span class='error_goto'>__PYX_ERR(0, 2126, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  if (unlikely(!__pyx_v_final_file_path)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("final_file_path"); <span class='error_goto'>__PYX_ERR(0, 2126, __pyx_L1_error)</span> }
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Str</span>(__pyx_v_final_file_path);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2126, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_r = ((PyObject*)__pyx_t_3);
  __pyx_t_3 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2127</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2128</span>: </pre>
<pre class="cython line score-106" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2129</span>: def load_csv(data_path: str, delimiter: Optional[str] = ',', **kwargs</pre>
<pre class='cython code score-106 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_47load_csv(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_46load_csv, "\n    Loads a CSV file into a pandas DataFrame.\n\n    Parameters\n    ----------\n    data_path : str\n        The file path to the CSV file to be loaded.\n    delimiter : str, optional\n        The delimiter character used in the CSV file. Defaults to ','.\n    **kwargs : dict\n        Additional keyword arguments passed to `pandas.read_csv`.\n\n    Returns\n    -------\n    DataFrame\n        A DataFrame containing the loaded data.\n\n    Raises\n    ------\n    FileNotFoundError\n        If the specified file does not exist.\n    ValueError\n        If the specified file is not a CSV file.\n\n    Examples\n    --------\n    Assuming you have a CSV file named 'example.csv' with the following content:\n    \n    ```\n    name,age\n    Alice,30\n    Bob,25\n    ```\n\n    You can load this file into a DataFrame like this:\n\n    &gt;&gt;&gt; from gofast.tools.mlutils import load_csv\n    &gt;&gt;&gt; df = load_csv('example.csv')\n    &gt;&gt;&gt; print(df)\n       name  age\n    0  Alice   30\n    1    Bob   25\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_47load_csv = {"load_csv", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_47load_csv, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_46load_csv};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_47load_csv(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_data_path = 0;
  PyObject *__pyx_v_delimiter = 0;
  PyObject *__pyx_v_kwargs = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("load_csv (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  __pyx_v_kwargs = <span class='py_c_api'>PyDict_New</span>(); if (unlikely(!__pyx_v_kwargs)) return NULL;
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_v_kwargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_data_path,&amp;__pyx_n_s_delimiter,0};
  PyObject* values[2] = {0,0};
    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_kp_u__46)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data_path)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2129, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_delimiter);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2129, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, __pyx_v_kwargs, values + 0, kwd_pos_args, "load_csv") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2129, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_data_path = ((PyObject*)values[0]);
    __pyx_v_delimiter = values[1];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("load_csv", 0, 1, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2129, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_kwargs); __pyx_v_kwargs = 0;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.load_csv", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_data_path), (&amp;PyUnicode_Type), 0, "data_path", 1))) <span class='error_goto'>__PYX_ERR(0, 2129, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_46load_csv(__pyx_self, __pyx_v_data_path, __pyx_v_delimiter, __pyx_v_kwargs);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_kwargs);
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_46load_csv(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_data_path, PyObject *__pyx_v_delimiter, PyObject *__pyx_v_kwargs) {
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__70)
  <span class='trace'>__Pyx_TraceCall</span>("load_csv", __pyx_f[0], 2129, 0, <span class='error_goto'>__PYX_ERR(0, 2129, __pyx_L1_error)</span>);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.load_csv", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__166 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_n_s_data_path, __pyx_n_s_delimiter, __pyx_n_s_kwargs);<span class='error_goto'> if (unlikely(!__pyx_tuple__166)) __PYX_ERR(0, 2129, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__166);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__166);
  __pyx_codeobj__70 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(2, 0, 0, 3, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__166, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_load_csv, 2129, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__70)) __PYX_ERR(0, 2129, __pyx_L1_error)</span>
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2129,0,<span class='error_goto'>__PYX_ERR(0, 2129, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2129, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_data_path, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2129, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_delimiter, __pyx_kp_s_Optional_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2129, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_return, __pyx_n_s_DataFrame) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2129, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_47load_csv, 0, __pyx_n_s_load_csv, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__70));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2129, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_3, __pyx_tuple__167);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_3, __pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_load_csv, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2129, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_tuple__167 = <span class='py_c_api'>PyTuple_Pack</span>(1, ((PyObject*)__pyx_kp_u__46));<span class='error_goto'> if (unlikely(!__pyx_tuple__167)) __PYX_ERR(0, 2129, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__167);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__167);
</pre><pre class="cython line score-0">&#xA0;<span class="">2130</span>:              ) -&gt; DataFrame:</pre>
<pre class="cython line score-0">&#xA0;<span class="">2131</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2132</span>:     Loads a CSV file into a pandas DataFrame.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2133</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2134</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">2135</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2136</span>:     data_path : str</pre>
<pre class="cython line score-0">&#xA0;<span class="">2137</span>:         The file path to the CSV file to be loaded.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2138</span>:     delimiter : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2139</span>:         The delimiter character used in the CSV file. Defaults to ','.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2140</span>:     **kwargs : dict</pre>
<pre class="cython line score-0">&#xA0;<span class="">2141</span>:         Additional keyword arguments passed to `pandas.read_csv`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2142</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2143</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">2144</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2145</span>:     DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">2146</span>:         A DataFrame containing the loaded data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2147</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2148</span>:     Raises</pre>
<pre class="cython line score-0">&#xA0;<span class="">2149</span>:     ------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2150</span>:     FileNotFoundError</pre>
<pre class="cython line score-0">&#xA0;<span class="">2151</span>:         If the specified file does not exist.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2152</span>:     ValueError</pre>
<pre class="cython line score-0">&#xA0;<span class="">2153</span>:         If the specified file is not a CSV file.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2154</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2155</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">2156</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2157</span>:     Assuming you have a CSV file named 'example.csv' with the following content:</pre>
<pre class="cython line score-0">&#xA0;<span class="">2158</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2159</span>:     ```</pre>
<pre class="cython line score-0">&#xA0;<span class="">2160</span>:     name,age</pre>
<pre class="cython line score-0">&#xA0;<span class="">2161</span>:     Alice,30</pre>
<pre class="cython line score-0">&#xA0;<span class="">2162</span>:     Bob,25</pre>
<pre class="cython line score-0">&#xA0;<span class="">2163</span>:     ```</pre>
<pre class="cython line score-0">&#xA0;<span class="">2164</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2165</span>:     You can load this file into a DataFrame like this:</pre>
<pre class="cython line score-0">&#xA0;<span class="">2166</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2167</span>:     &gt;&gt;&gt; from gofast.tools.mlutils import load_csv</pre>
<pre class="cython line score-0">&#xA0;<span class="">2168</span>:     &gt;&gt;&gt; df = load_csv('example.csv')</pre>
<pre class="cython line score-0">&#xA0;<span class="">2169</span>:     &gt;&gt;&gt; print(df)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2170</span>:        name  age</pre>
<pre class="cython line score-0">&#xA0;<span class="">2171</span>:     0  Alice   30</pre>
<pre class="cython line score-0">&#xA0;<span class="">2172</span>:     1    Bob   25</pre>
<pre class="cython line score-0">&#xA0;<span class="">2173</span>:     """</pre>
<pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2174</span>:     if not os.path.isfile(data_path):</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(2174,0,<span class='error_goto'>__PYX_ERR(0, 2174, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2174, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2174, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_isfile);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2174, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_data_path};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2174, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_1); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2174, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_6 = (!__pyx_t_5);
  if (unlikely(__pyx_t_6)) {
/*  */
  }
</pre><pre class="cython line score-29" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2175</span>:         raise FileNotFoundError(f"The file '{data_path}' does not exist.")</pre>
<pre class='cython code score-29 '>    <span class='trace'>__Pyx_TraceLine</span>(2175,0,<span class='error_goto'>__PYX_ERR(0, 2175, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_FileNotFoundError);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2175, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2175, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_7 = 0;
    __pyx_t_8 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_The_file);
    __pyx_t_7 += 10;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_The_file);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_kp_u_The_file);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data_path);
    __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_data_path) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_data_path) : __pyx_t_8;
    __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_v_data_path);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data_path);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_v_data_path);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_does_not_exist);
    __pyx_t_7 += 17;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_does_not_exist);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 2, __pyx_kp_u_does_not_exist);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_2, 3, __pyx_t_7, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2175, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_t_1, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2175, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='error_goto'>__PYX_ERR(0, 2175, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2176</span>: </pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2177</span>:     if not data_path.lower().endswith('.csv'):</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(2177,0,<span class='error_goto'>__PYX_ERR(0, 2177, __pyx_L1_error)</span>)
  __pyx_t_3 = __Pyx_CallUnboundCMethod0(&amp;__pyx_umethod_PyUnicode_Type_lower, __pyx_v_data_path);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2177, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_endswith);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2177, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_kp_u_csv_2};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2177, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_2); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2177, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_5 = (!__pyx_t_6);
  if (unlikely(__pyx_t_5)) {
/*  */
  }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2178</span>:         raise ValueError(</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(2178,0,<span class='error_goto'>__PYX_ERR(0, 2178, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__71, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2178, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='error_goto'>__PYX_ERR(0, 2178, __pyx_L1_error)</span>
/*  */
  __pyx_tuple__71 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_The_specified_file_is_not_a_CSV);<span class='error_goto'> if (unlikely(!__pyx_tuple__71)) __PYX_ERR(0, 2178, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__71);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__71);
</pre><pre class="cython line score-0">&#xA0;<span class="">2179</span>:             "The specified file is not a CSV file. Please provide a valid CSV file.")</pre>
<pre class="cython line score-0">&#xA0;<span class="">2180</span>: </pre>
<pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2181</span>:     return pd.read_csv(data_path, delimiter=delimiter, **kwargs)</pre>
<pre class='cython code score-28 '>  <span class='trace'>__Pyx_TraceLine</span>(2181,0,<span class='error_goto'>__PYX_ERR(0, 2181, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2181, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_read_csv);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2181, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2181, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data_path);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data_path);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_data_path)) <span class='error_goto'>__PYX_ERR(0, 2181, __pyx_L1_error)</span>;
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2181, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_9, __pyx_n_s_delimiter, __pyx_v_delimiter) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2181, __pyx_L1_error)</span>
  __pyx_t_3 = __pyx_t_9;
  __pyx_t_9 = 0;
  if (<span class='pyx_c_api'>__Pyx_MergeKeywords</span>(__pyx_t_3, __pyx_v_kwargs) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2181, __pyx_L1_error)</span>
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_2, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2181, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_r = __pyx_t_9;
  __pyx_t_9 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2182</span>: </pre>
<pre class="cython line score-99" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2183</span>: def discretize_categories(</pre>
<pre class='cython code score-99 '>static PyObject *__pyx_pf_6gofast_5tools_7mlutils_113__defaults__(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceCall</span>("__defaults__", __pyx_f[0], 2183, 0, <span class='error_goto'>__PYX_ERR(0, 2183, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2183,0,<span class='error_goto'>__PYX_ERR(0, 2183, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2183, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, Py_None)) <span class='error_goto'>__PYX_ERR(0, 2183, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2183, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(<span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults1, __pyx_self)-&gt;__pyx_arg_higherclass);
  <span class='refnanny'>__Pyx_GIVEREF</span>(<span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults1, __pyx_self)-&gt;__pyx_arg_higherclass);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 2, <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults1, __pyx_self)-&gt;__pyx_arg_higherclass)) <span class='error_goto'>__PYX_ERR(0, 2183, __pyx_L1_error)</span>;
  __pyx_t_1 = 0;
  __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2183, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2183, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, Py_None)) <span class='error_goto'>__PYX_ERR(0, 2183, __pyx_L1_error)</span>;
  __pyx_t_2 = 0;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.__defaults__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_49discretize_categories(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_48discretize_categories, "\n    Discretizes a numerical column in the DataFrame into categories. \n    \n    Creating a new categorical column based on ceiling division and \n    an upper class limit.\n\n    Parameters\n    ----------\n    data : DataFrame or Series\n        Input data containing the column to be discretized.\n    in_cat : str\n        Column name in `data` used for generating the new categorical attribute.\n    new_cat : str, optional\n        Name for the newly created categorical column. If not provided, \n        a default name 'new_category' is used.\n    divby : float, default=1.5\n        The divisor used in the ceiling division to discretize the column values.\n    higherclass : int, default=5\n        The upper bound for the discretized categories. Values reaching this \n        class or higher are grouped into this single upper class.\n\n    Returns\n    -------\n    DataFrame\n        A new DataFrame including the newly created categorical column.\n\n    Examples\n    --------\n    &gt;&gt;&gt; df = pd.DataFrame({'age': [23, 45, 18, 27]})\n    &gt;&gt;&gt; discretized_df = discretize_categories(df, 'age', 'age_cat', divby=10, higherclass=3)\n    &gt;&gt;&gt; print(discretized_df)\n       age  age_cat\n    0   23      3.0\n    1   45      3.0\n    2   18      2.0\n    3   27      3.0\n\n    Note: The 'age_cat' column contains discretized categories based on the \n    'age' column.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_49discretize_categories = {"discretize_categories", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_49discretize_categories, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_48discretize_categories};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_49discretize_categories(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_data = 0;
  PyObject *__pyx_v_in_cat = 0;
  PyObject *__pyx_v_new_cat = 0;
  double __pyx_v_divby;
  PyObject *__pyx_v_higherclass = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("discretize_categories (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_data,&amp;__pyx_n_s_in_cat,&amp;__pyx_n_s_new_cat,&amp;__pyx_n_s_divby,&amp;__pyx_n_s_higherclass,0};
  PyObject* values[5] = {0,0,0,0,0};
    __pyx_defaults1 *__pyx_dynamic_args = <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults1, __pyx_self);
/*  */
  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_48discretize_categories(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_data, PyObject *__pyx_v_in_cat, PyObject *__pyx_v_new_cat, double __pyx_v_divby, PyObject *__pyx_v_higherclass) {
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__72)
  <span class='trace'>__Pyx_TraceCall</span>("discretize_categories", __pyx_f[0], 2183, 0, <span class='error_goto'>__PYX_ERR(0, 2183, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_new_cat);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.discretize_categories", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_new_cat);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__168 = <span class='py_c_api'>PyTuple_Pack</span>(5, __pyx_n_s_data, __pyx_n_s_in_cat, __pyx_n_s_new_cat, __pyx_n_s_divby, __pyx_n_s_higherclass);<span class='error_goto'> if (unlikely(!__pyx_tuple__168)) __PYX_ERR(0, 2183, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__168);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__168);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2183,0,<span class='error_goto'>__PYX_ERR(0, 2183, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(6);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2183, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_data, __pyx_kp_s_Union_pd_DataFrame_pd_Series) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2183, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_in_cat, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2183, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_new_cat, __pyx_kp_s_Optional_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2183, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_divby, __pyx_n_s_float) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2183, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_higherclass, __pyx_n_s_int) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2183, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return, __pyx_n_s_DataFrame) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2183, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_49discretize_categories, 0, __pyx_n_s_discretize_categories, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__72));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2183, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (!<span class='pyx_c_api'>__Pyx_CyFunction_InitDefaults</span>(__pyx_t_4, sizeof(__pyx_defaults1), 1)) <span class='error_goto'>__PYX_ERR(0, 2183, __pyx_L1_error)</span>
  __pyx_codeobj__72 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(5, 0, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__168, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_discretize_categories, 2183, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__72)) __PYX_ERR(0, 2183, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2184</span>:     data: Union[pd.DataFrame, pd.Series],</pre>
<pre class="cython line score-0">&#xA0;<span class="">2185</span>:     in_cat: str,</pre>
<pre class="cython line score-95" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2186</span>:     new_cat: Optional[str] = None,</pre>
<pre class='cython code score-95 '>    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(__pyx_dynamic_args-&gt;__pyx_arg_higherclass);
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2183, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_in_cat)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2183, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("discretize_categories", 0, 2, 5, 1); <span class='error_goto'>__PYX_ERR(0, 2183, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_new_cat);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2183, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_divby);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2183, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_higherclass);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2183, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "discretize_categories") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2183, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_data = values[0];
    __pyx_v_in_cat = ((PyObject*)values[1]);
    __pyx_v_new_cat = values[2];
    if (values[3]) {
      __pyx_v_divby = __pyx_<span class='py_c_api'>PyFloat_AsDouble</span>(values[3]); if (unlikely((__pyx_v_divby == (double)-1) &amp;&amp; <span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2187, __pyx_L3_error)</span>
    } else {
      __pyx_v_divby = ((double)((double)1.5));
    }
    __pyx_v_higherclass = ((PyObject*)values[4]);
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("discretize_categories", 0, 2, 5, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2183, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.discretize_categories", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_in_cat), (&amp;PyUnicode_Type), 0, "in_cat", 1))) <span class='error_goto'>__PYX_ERR(0, 2185, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_higherclass), (&amp;PyInt_Type), 0, "higherclass", 1))) <span class='error_goto'>__PYX_ERR(0, 2188, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_48discretize_categories(__pyx_self, __pyx_v_data, __pyx_v_in_cat, __pyx_v_new_cat, __pyx_v_divby, __pyx_v_higherclass);
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2187</span>:     divby: float = 1.5,</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(2187,0,<span class='error_goto'>__PYX_ERR(0, 2187, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyFloat_FromDouble</span>(((double)1.5));<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2187, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2188</span>:     higherclass: int = 5</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(2188,0,<span class='error_goto'>__PYX_ERR(0, 2188, __pyx_L1_error)</span>)
  if (!(likely(__Pyx_Py3Int_CheckExact(__pyx_int_5)) || <span class='pyx_c_api'>__Pyx_RaiseUnexpectedTypeError</span>("int", __pyx_int_5))) <span class='error_goto'>__PYX_ERR(0, 2188, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_int_5);
  <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults1, __pyx_t_4)-&gt;__pyx_arg_higherclass = ((PyObject*)__pyx_int_5);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_int_5);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsGetter</span>(__pyx_t_4, __pyx_pf_6gofast_5tools_7mlutils_113__defaults__);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_4, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_discretize_categories, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2183, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2189</span>: ) -&gt; DataFrame:</pre>
<pre class="cython line score-0">&#xA0;<span class="">2190</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2191</span>:     Discretizes a numerical column in the DataFrame into categories.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2192</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2193</span>:     Creating a new categorical column based on ceiling division and</pre>
<pre class="cython line score-0">&#xA0;<span class="">2194</span>:     an upper class limit.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2195</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2196</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">2197</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2198</span>:     data : DataFrame or Series</pre>
<pre class="cython line score-0">&#xA0;<span class="">2199</span>:         Input data containing the column to be discretized.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2200</span>:     in_cat : str</pre>
<pre class="cython line score-0">&#xA0;<span class="">2201</span>:         Column name in `data` used for generating the new categorical attribute.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2202</span>:     new_cat : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2203</span>:         Name for the newly created categorical column. If not provided,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2204</span>:         a default name 'new_category' is used.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2205</span>:     divby : float, default=1.5</pre>
<pre class="cython line score-0">&#xA0;<span class="">2206</span>:         The divisor used in the ceiling division to discretize the column values.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2207</span>:     higherclass : int, default=5</pre>
<pre class="cython line score-0">&#xA0;<span class="">2208</span>:         The upper bound for the discretized categories. Values reaching this</pre>
<pre class="cython line score-0">&#xA0;<span class="">2209</span>:         class or higher are grouped into this single upper class.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2210</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2211</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">2212</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2213</span>:     DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">2214</span>:         A new DataFrame including the newly created categorical column.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2215</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2216</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">2217</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2218</span>:     &gt;&gt;&gt; df = pd.DataFrame({'age': [23, 45, 18, 27]})</pre>
<pre class="cython line score-0">&#xA0;<span class="">2219</span>:     &gt;&gt;&gt; discretized_df = discretize_categories(df, 'age', 'age_cat', divby=10, higherclass=3)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2220</span>:     &gt;&gt;&gt; print(discretized_df)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2221</span>:        age  age_cat</pre>
<pre class="cython line score-0">&#xA0;<span class="">2222</span>:     0   23      3.0</pre>
<pre class="cython line score-0">&#xA0;<span class="">2223</span>:     1   45      3.0</pre>
<pre class="cython line score-0">&#xA0;<span class="">2224</span>:     2   18      2.0</pre>
<pre class="cython line score-0">&#xA0;<span class="">2225</span>:     3   27      3.0</pre>
<pre class="cython line score-0">&#xA0;<span class="">2226</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2227</span>:     Note: The 'age_cat' column contains discretized categories based on the</pre>
<pre class="cython line score-0">&#xA0;<span class="">2228</span>:     'age' column.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2229</span>:     """</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2230</span>:     if new_cat is None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(2230,0,<span class='error_goto'>__PYX_ERR(0, 2230, __pyx_L1_error)</span>)
  __pyx_t_1 = (__pyx_v_new_cat == Py_None);
  if (__pyx_t_1) {
/*  */
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2231</span>:         new_cat = 'new_category'</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(2231,0,<span class='error_goto'>__PYX_ERR(0, 2231, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_new_category);
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_new_cat, __pyx_n_u_new_category);
</pre><pre class="cython line score-0">&#xA0;<span class="">2232</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2233</span>:     # Discretize the specified column</pre>
<pre class="cython line score-37" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2234</span>:     data[new_cat] = np.ceil(data[in_cat] / divby)</pre>
<pre class='cython code score-37 '>  <span class='trace'>__Pyx_TraceLine</span>(2234,0,<span class='error_goto'>__PYX_ERR(0, 2234, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2234, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_ceil);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2234, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Dict_GetItem</span>(__pyx_v_data, __pyx_v_in_cat);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2234, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_5 = <span class='py_c_api'>PyFloat_FromDouble</span>(__pyx_v_divby);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2234, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyNumber_Divide</span>(__pyx_t_3, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2234, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_5 = NULL;
  __pyx_t_7 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
    __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
    if (likely(__pyx_t_5)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
      __pyx_t_7 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_t_6};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2234, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  }
  if (unlikely((<span class='py_c_api'>PyObject_SetItem</span>(__pyx_v_data, __pyx_v_new_cat, __pyx_t_2) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2234, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2235</span>:     # Apply upper class limit</pre>
<pre class="cython line score-38" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2236</span>:     data[new_cat] = data[new_cat].where(data[new_cat] &lt; higherclass, other=higherclass)</pre>
<pre class='cython code score-38 '>  <span class='trace'>__Pyx_TraceLine</span>(2236,0,<span class='error_goto'>__PYX_ERR(0, 2236, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_v_new_cat);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2236, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_where);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2236, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_v_new_cat);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2236, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_6 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_2, __pyx_v_higherclass, Py_LT); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2236, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2236, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_6);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 2236, __pyx_L1_error)</span>;
  __pyx_t_6 = 0;
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2236, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_other, __pyx_v_higherclass) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2236, __pyx_L1_error)</span>
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_4, __pyx_t_2, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2236, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  if (unlikely((<span class='py_c_api'>PyObject_SetItem</span>(__pyx_v_data, __pyx_v_new_cat, __pyx_t_5) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2236, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2237</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2238</span>:     return data</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(2238,0,<span class='error_goto'>__PYX_ERR(0, 2238, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
  __pyx_r = __pyx_v_data;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2239</span>: </pre>
<pre class="cython line score-205" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2240</span>: def stratify_categories(</pre>
<pre class='cython code score-205 '>static PyObject *__pyx_pf_6gofast_5tools_7mlutils_115__defaults__(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceCall</span>("__defaults__", __pyx_f[0], 2240, 0, <span class='error_goto'>__PYX_ERR(0, 2240, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2240,0,<span class='error_goto'>__PYX_ERR(0, 2240, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2240, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(<span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults2, __pyx_self)-&gt;__pyx_arg_n_splits);
  <span class='refnanny'>__Pyx_GIVEREF</span>(<span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults2, __pyx_self)-&gt;__pyx_arg_n_splits);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults2, __pyx_self)-&gt;__pyx_arg_n_splits)) <span class='error_goto'>__PYX_ERR(0, 2240, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2240, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(<span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults2, __pyx_self)-&gt;__pyx_arg_random_state);
  <span class='refnanny'>__Pyx_GIVEREF</span>(<span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults2, __pyx_self)-&gt;__pyx_arg_random_state);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 2, <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults2, __pyx_self)-&gt;__pyx_arg_random_state)) <span class='error_goto'>__PYX_ERR(0, 2240, __pyx_L1_error)</span>;
  __pyx_t_1 = 0;
  __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2240, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2240, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, Py_None)) <span class='error_goto'>__PYX_ERR(0, 2240, __pyx_L1_error)</span>;
  __pyx_t_2 = 0;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.__defaults__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_51stratify_categories(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_50stratify_categories, "\n    Perform stratified sampling on a dataset based on a specified categorical column.\n\n    Parameters\n    ----------\n    data : Union[pd.DataFrame, np.ndarray]\n        The dataset to be split. Can be a Pandas DataFrame or a NumPy ndarray.\n        \n    cat_name : str\n        The name of the categorical column in 'data' used for stratified sampling. \n        This column must exist in 'data' if it's a DataFrame.\n        \n    n_splits : int, optional\n        Number of re-shuffling &amp; splitting iterations. Defaults to 1.\n        \n    test_size : float, optional\n        Proportion of the dataset to include in the test split. Defaults to 0.2.\n        \n    random_state : int, optional\n        Controls the shuffling applied to the data before applying the split.\n        Pass an int for reproducible output across multiple function calls.\n        Defaults to 42.\n\n    Returns\n    -------\n    Tuple[Union[pd.DataFrame, np.ndarray], Union[pd.DataFrame, np.ndarray]]\n        A tuple containing the training and testing sets.\n\n    Raises\n    ------\n    ValueError\n        If 'cat_name' is not found in 'data' when 'data' is a DataFrame.\n        If 'test_size' is not between 0 and 1.\n        If 'n_splits' is less than 1.\n\n    Examples\n    --------\n    &gt;&gt;&gt; df = pd.DataFrame({\n    ...     'feature1': np.random.rand(100),\n    ...     'feature2': np.random.rand(100),\n    ...     'category': np.random.choice(['A', 'B', 'C'], 100)\n    ... })\n    &gt;&gt;&gt; train_set, test_set = stratify_categories(df, 'category')\n    &gt;&gt;&gt; train_set.shape, test_set.shape\n    ((80, 3), (20, 3))\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_51stratify_categories = {"stratify_categories", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_51stratify_categories, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_50stratify_categories};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_51stratify_categories(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_data = 0;
  PyObject *__pyx_v_cat_name = 0;
  PyObject *__pyx_v_n_splits = 0;
  double __pyx_v_test_size;
  PyObject *__pyx_v_random_state = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("stratify_categories (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_data,&amp;__pyx_n_s_cat_name,&amp;__pyx_n_s_n_splits,&amp;__pyx_n_s_test_size,&amp;__pyx_n_s_random_state,0};
  PyObject* values[5] = {0,0,0,0,0};
    __pyx_defaults2 *__pyx_dynamic_args = <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults2, __pyx_self);
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(__pyx_dynamic_args-&gt;__pyx_arg_n_splits);
    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(__pyx_dynamic_args-&gt;__pyx_arg_random_state);
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2240, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_cat_name)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2240, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("stratify_categories", 0, 2, 5, 1); <span class='error_goto'>__PYX_ERR(0, 2240, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_n_splits);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2240, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_test_size);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2240, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_random_state);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2240, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "stratify_categories") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2240, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_data = values[0];
    __pyx_v_cat_name = ((PyObject*)values[1]);
    __pyx_v_n_splits = ((PyObject*)values[2]);
    if (values[3]) {
      __pyx_v_test_size = __pyx_<span class='py_c_api'>PyFloat_AsDouble</span>(values[3]); if (unlikely((__pyx_v_test_size == (double)-1) &amp;&amp; <span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2244, __pyx_L3_error)</span>
    } else {
      __pyx_v_test_size = ((double)((double)0.2));
    }
    __pyx_v_random_state = ((PyObject*)values[4]);
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("stratify_categories", 0, 2, 5, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2240, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.stratify_categories", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_cat_name), (&amp;PyUnicode_Type), 0, "cat_name", 1))) <span class='error_goto'>__PYX_ERR(0, 2242, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_n_splits), (&amp;PyInt_Type), 0, "n_splits", 1))) <span class='error_goto'>__PYX_ERR(0, 2243, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_random_state), (&amp;PyInt_Type), 0, "random_state", 1))) <span class='error_goto'>__PYX_ERR(0, 2245, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_50stratify_categories(__pyx_self, __pyx_v_data, __pyx_v_cat_name, __pyx_v_n_splits, __pyx_v_test_size, __pyx_v_random_state);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_50stratify_categories(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_data, PyObject *__pyx_v_cat_name, PyObject *__pyx_v_n_splits, double __pyx_v_test_size, PyObject *__pyx_v_random_state) {
  PyObject *__pyx_v_split = NULL;
  PyObject *__pyx_v_train_index = NULL;
  PyObject *__pyx_v_test_index = NULL;
  PyObject *__pyx_v_strat_train_set = NULL;
  PyObject *__pyx_v_strat_test_set = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__73)
  <span class='trace'>__Pyx_TraceCall</span>("stratify_categories", __pyx_f[0], 2240, 0, <span class='error_goto'>__PYX_ERR(0, 2240, __pyx_L1_error)</span>);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.stratify_categories", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_split);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_train_index);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_test_index);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_strat_train_set);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_strat_test_set);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__169 = <span class='py_c_api'>PyTuple_Pack</span>(10, __pyx_n_s_data, __pyx_n_s_cat_name, __pyx_n_s_n_splits, __pyx_n_s_test_size, __pyx_n_s_random_state, __pyx_n_s_split, __pyx_n_s_train_index, __pyx_n_s_test_index, __pyx_n_s_strat_train_set, __pyx_n_s_strat_test_set);<span class='error_goto'> if (unlikely(!__pyx_tuple__169)) __PYX_ERR(0, 2240, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__169);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__169);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2240,0,<span class='error_goto'>__PYX_ERR(0, 2240, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(6);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2240, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_data, __pyx_kp_s_Union_DataFrame_ArrayLike) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2240, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_cat_name, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2240, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_n_splits, __pyx_n_s_int) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2240, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_test_size, __pyx_n_s_float) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2240, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_random_state, __pyx_n_s_int) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2240, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_return, __pyx_kp_s_Tuple_Union_DataFrame_ArrayLike) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2240, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_51stratify_categories, 0, __pyx_n_s_stratify_categories, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__73));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2240, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (!<span class='pyx_c_api'>__Pyx_CyFunction_InitDefaults</span>(__pyx_t_3, sizeof(__pyx_defaults2), 2)) <span class='error_goto'>__PYX_ERR(0, 2240, __pyx_L1_error)</span>
  __pyx_codeobj__73 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(5, 0, 0, 10, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__169, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_stratify_categories, 2240, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__73)) __PYX_ERR(0, 2240, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2241</span>:     data: Union[DataFrame, ArrayLike],</pre>
<pre class="cython line score-0">&#xA0;<span class="">2242</span>:     cat_name: str,</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2243</span>:     n_splits: int = 1,</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(2243,0,<span class='error_goto'>__PYX_ERR(0, 2243, __pyx_L1_error)</span>)
  if (!(likely(__Pyx_Py3Int_CheckExact(__pyx_int_1)) || <span class='pyx_c_api'>__Pyx_RaiseUnexpectedTypeError</span>("int", __pyx_int_1))) <span class='error_goto'>__PYX_ERR(0, 2243, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_int_1);
  <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults2, __pyx_t_3)-&gt;__pyx_arg_n_splits = ((PyObject*)__pyx_int_1);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_int_1);
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2244</span>:     test_size: float = 0.2,</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(2244,0,<span class='error_goto'>__PYX_ERR(0, 2244, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyFloat_FromDouble</span>(((double)0.2));<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2244, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2245</span>:     random_state: int = 42</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(2245,0,<span class='error_goto'>__PYX_ERR(0, 2245, __pyx_L1_error)</span>)
  if (!(likely(__Pyx_Py3Int_CheckExact(__pyx_int_42)) || <span class='pyx_c_api'>__Pyx_RaiseUnexpectedTypeError</span>("int", __pyx_int_42))) <span class='error_goto'>__PYX_ERR(0, 2245, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_int_42);
  <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults2, __pyx_t_3)-&gt;__pyx_arg_random_state = ((PyObject*)__pyx_int_42);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_int_42);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsGetter</span>(__pyx_t_3, __pyx_pf_6gofast_5tools_7mlutils_115__defaults__);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_3, __pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_stratify_categories, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2240, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2246</span>: ) -&gt; Tuple[Union[DataFrame, ArrayLike], Union[DataFrame, ArrayLike]]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">2247</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2248</span>:     Perform stratified sampling on a dataset based on a specified categorical column.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2249</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2250</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">2251</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2252</span>:     data : Union[pd.DataFrame, np.ndarray]</pre>
<pre class="cython line score-0">&#xA0;<span class="">2253</span>:         The dataset to be split. Can be a Pandas DataFrame or a NumPy ndarray.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2254</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2255</span>:     cat_name : str</pre>
<pre class="cython line score-0">&#xA0;<span class="">2256</span>:         The name of the categorical column in 'data' used for stratified sampling.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2257</span>:         This column must exist in 'data' if it's a DataFrame.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2258</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2259</span>:     n_splits : int, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2260</span>:         Number of re-shuffling &amp; splitting iterations. Defaults to 1.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2261</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2262</span>:     test_size : float, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2263</span>:         Proportion of the dataset to include in the test split. Defaults to 0.2.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2264</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2265</span>:     random_state : int, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2266</span>:         Controls the shuffling applied to the data before applying the split.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2267</span>:         Pass an int for reproducible output across multiple function calls.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2268</span>:         Defaults to 42.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2269</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2270</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">2271</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2272</span>:     Tuple[Union[pd.DataFrame, np.ndarray], Union[pd.DataFrame, np.ndarray]]</pre>
<pre class="cython line score-0">&#xA0;<span class="">2273</span>:         A tuple containing the training and testing sets.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2274</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2275</span>:     Raises</pre>
<pre class="cython line score-0">&#xA0;<span class="">2276</span>:     ------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2277</span>:     ValueError</pre>
<pre class="cython line score-0">&#xA0;<span class="">2278</span>:         If 'cat_name' is not found in 'data' when 'data' is a DataFrame.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2279</span>:         If 'test_size' is not between 0 and 1.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2280</span>:         If 'n_splits' is less than 1.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2281</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2282</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">2283</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2284</span>:     &gt;&gt;&gt; df = pd.DataFrame({</pre>
<pre class="cython line score-0">&#xA0;<span class="">2285</span>:     ...     'feature1': np.random.rand(100),</pre>
<pre class="cython line score-0">&#xA0;<span class="">2286</span>:     ...     'feature2': np.random.rand(100),</pre>
<pre class="cython line score-0">&#xA0;<span class="">2287</span>:     ...     'category': np.random.choice(['A', 'B', 'C'], 100)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2288</span>:     ... })</pre>
<pre class="cython line score-0">&#xA0;<span class="">2289</span>:     &gt;&gt;&gt; train_set, test_set = stratify_categories(df, 'category')</pre>
<pre class="cython line score-0">&#xA0;<span class="">2290</span>:     &gt;&gt;&gt; train_set.shape, test_set.shape</pre>
<pre class="cython line score-0">&#xA0;<span class="">2291</span>:     ((80, 3), (20, 3))</pre>
<pre class="cython line score-0">&#xA0;<span class="">2292</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2293</span>: </pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2294</span>:     if isinstance(data, pd.DataFrame) and cat_name not in data.columns:</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(2294,0,<span class='error_goto'>__PYX_ERR(0, 2294, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2294, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2294, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_4 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data, __pyx_t_3);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(0, 2294, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (__pyx_t_4) {
  } else {
    __pyx_t_1 = __pyx_t_4;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2294, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_v_cat_name, __pyx_t_3, Py_NE)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2294, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_1 = __pyx_t_4;
  __pyx_L4_bool_binop_done:;
  if (unlikely(__pyx_t_1)) {
/*  */
  }
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2295</span>:         raise ValueError(f"Column '{cat_name}' not found in the DataFrame.")</pre>
<pre class='cython code score-26 '>    <span class='trace'>__Pyx_TraceLine</span>(2295,0,<span class='error_goto'>__PYX_ERR(0, 2295, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2295, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_5 = 0;
    __pyx_t_6 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Column);
    __pyx_t_5 += 8;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Column);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_kp_u_Column);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_cat_name);
    __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_cat_name) &gt; __pyx_t_6) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_cat_name) : __pyx_t_6;
    __pyx_t_5 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_v_cat_name);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_cat_name);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_v_cat_name);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_not_found_in_the_DataFrame);
    __pyx_t_5 += 29;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_not_found_in_the_DataFrame);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 2, __pyx_kp_u_not_found_in_the_DataFrame);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_3, 3, __pyx_t_5, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2295, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2295, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_3, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='error_goto'>__PYX_ERR(0, 2295, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2296</span>: </pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2297</span>:     if not (0 &lt; test_size &lt; 1):</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(2297,0,<span class='error_goto'>__PYX_ERR(0, 2297, __pyx_L1_error)</span>)
  __pyx_t_1 = (0.0 &lt; __pyx_v_test_size);
  if (__pyx_t_1) {
    __pyx_t_1 = (__pyx_v_test_size &lt; 1.0);
  }
  __pyx_t_4 = (!__pyx_t_1);
  if (unlikely(__pyx_t_4)) {
/*  */
  }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2298</span>:         raise ValueError("Test size must be between 0 and 1.")</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(2298,0,<span class='error_goto'>__PYX_ERR(0, 2298, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__74, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2298, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_3, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='error_goto'>__PYX_ERR(0, 2298, __pyx_L1_error)</span>
/*  */
  __pyx_tuple__74 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Test_size_must_be_between_0_and);<span class='error_goto'> if (unlikely(!__pyx_tuple__74)) __PYX_ERR(0, 2298, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__74);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__74);
</pre><pre class="cython line score-0">&#xA0;<span class="">2299</span>: </pre>
<pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2300</span>:     if n_splits &lt; 1:</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(2300,0,<span class='error_goto'>__PYX_ERR(0, 2300, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_v_n_splits, __pyx_int_1, Py_LT); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2300, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_3); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2300, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (unlikely(__pyx_t_4)) {
/*  */
  }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2301</span>:         raise ValueError("Number of splits 'n_splits' must be at least 1.")</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(2301,0,<span class='error_goto'>__PYX_ERR(0, 2301, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__75, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2301, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_3, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='error_goto'>__PYX_ERR(0, 2301, __pyx_L1_error)</span>
/*  */
  __pyx_tuple__75 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Number_of_splits_n_splits_must_b);<span class='error_goto'> if (unlikely(!__pyx_tuple__75)) __PYX_ERR(0, 2301, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__75);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__75);
</pre><pre class="cython line score-0">&#xA0;<span class="">2302</span>: </pre>
<pre class="cython line score-24" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2303</span>:     split = StratifiedShuffleSplit(n_splits=n_splits, test_size=test_size,</pre>
<pre class='cython code score-24 '>  <span class='trace'>__Pyx_TraceLine</span>(2303,0,<span class='error_goto'>__PYX_ERR(0, 2303, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_StratifiedShuffleSplit);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2303, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2303, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_n_splits, __pyx_v_n_splits) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2303, __pyx_L1_error)</span>
  __pyx_t_7 = <span class='py_c_api'>PyFloat_FromDouble</span>(__pyx_v_test_size);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2303, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_test_size, __pyx_t_7) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2303, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2303,0,<span class='error_goto'>__PYX_ERR(0, 2303, __pyx_L1_error)</span>)
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_empty_tuple, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2303, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_split = __pyx_t_7;
  __pyx_t_7 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2304</span>:                                    random_state=random_state)</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(2304,0,<span class='error_goto'>__PYX_ERR(0, 2304, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_random_state, __pyx_v_random_state) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2303, __pyx_L1_error)</span>
</pre><pre class="cython line score-107" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2305</span>:     for train_index, test_index in split.split(data, data[cat_name] if isinstance(</pre>
<pre class='cython code score-107 '>  <span class='trace'>__Pyx_TraceLine</span>(2305,0,<span class='error_goto'>__PYX_ERR(0, 2305, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_split, __pyx_n_s_split);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2305, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2305,0,<span class='error_goto'>__PYX_ERR(0, 2305, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data, __pyx_t_9);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(0, 2305, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
  if (__pyx_t_4) {
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_Dict_GetItem</span>(__pyx_v_data, __pyx_v_cat_name);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2305, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_3 = __pyx_t_9;
    __pyx_t_9 = 0;
  } else {
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2305,0,<span class='error_goto'>__PYX_ERR(0, 2305, __pyx_L1_error)</span>)
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_7)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_7)) {
    __pyx_t_2 = __pyx_t_7; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
    __pyx_t_5 = 0;
    __pyx_t_11 = NULL;
  } else {
    __pyx_t_5 = -1; __pyx_t_2 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2305, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2305, __pyx_L1_error)</span>
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  for (;;) {
    if (likely(!__pyx_t_11)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_2))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_2);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2305, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_5 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_7 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_2, __pyx_t_5); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7); __pyx_t_5++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2305, __pyx_L1_error)</span>
        #else
        __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_2, __pyx_t_5); __pyx_t_5++;<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2305, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_2);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2305, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_5 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_7 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_2, __pyx_t_5); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7); __pyx_t_5++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2305, __pyx_L1_error)</span>
        #else
        __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_2, __pyx_t_5); __pyx_t_5++;<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2305, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        #endif
      }
    } else {
      __pyx_t_7 = __pyx_t_11(__pyx_t_2);
      if (unlikely(!__pyx_t_7)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 2305, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    }
    if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_7))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_7))) {
      PyObject* sequence = __pyx_t_7;
      Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
      if (unlikely(size != 2)) {
        if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
        else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
        <span class='error_goto'>__PYX_ERR(0, 2305, __pyx_L1_error)</span>
      }
      #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
      if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
        __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
        __pyx_t_8 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
      } else {
        __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
        __pyx_t_8 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
      }
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
      #else
      __pyx_t_3 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2305, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_8 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2305, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      #endif
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    } else {
      Py_ssize_t index = -1;
      __pyx_t_9 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2305, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_9);
      index = 0; __pyx_t_3 = __pyx_t_12(__pyx_t_9); if (unlikely(!__pyx_t_3)) goto __pyx_L10_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      index = 1; __pyx_t_8 = __pyx_t_12(__pyx_t_9); if (unlikely(!__pyx_t_8)) goto __pyx_L10_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_12(__pyx_t_9), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2305, __pyx_L1_error)</span>
      __pyx_t_12 = NULL;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      goto __pyx_L11_unpacking_done;
      __pyx_L10_unpacking_failed:;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_12 = NULL;
      if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
      <span class='error_goto'>__PYX_ERR(0, 2305, __pyx_L1_error)</span>
      __pyx_L11_unpacking_done:;
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_train_index, __pyx_t_3);
    __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_test_index, __pyx_t_8);
    __pyx_t_8 = 0;
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(2305,0,<span class='error_goto'>__PYX_ERR(0, 2305, __pyx_L1_error)</span>)
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-34" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2306</span>:             data, pd.DataFrame) else data[:, cat_name]):</pre>
<pre class='cython code score-34 '>  <span class='trace'>__Pyx_TraceLine</span>(2306,0,<span class='error_goto'>__PYX_ERR(0, 2306, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_8, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2306, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_8, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2306, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(2306,0,<span class='error_goto'>__PYX_ERR(0, 2306, __pyx_L1_error)</span>)
    __pyx_t_9 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2306, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_slice__25);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_slice__25);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_9, 0, __pyx_slice__25)) <span class='error_goto'>__PYX_ERR(0, 2306, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_cat_name);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_cat_name);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_9, 1, __pyx_v_cat_name)) <span class='error_goto'>__PYX_ERR(0, 2306, __pyx_L1_error)</span>;
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2306, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    __pyx_t_3 = __pyx_t_8;
    __pyx_t_8 = 0;
  }
  __pyx_t_8 = NULL;
  __pyx_t_10 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_8)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_10 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_8, __pyx_v_data, __pyx_t_3};
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_10, 2+__pyx_t_10);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 2305, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2307</span>:         if isinstance(data, pd.DataFrame):</pre>
<pre class='cython code score-11 '>    <span class='trace'>__Pyx_TraceLine</span>(2307,0,<span class='error_goto'>__PYX_ERR(0, 2307, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_7, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2307, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_7, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2307, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_4 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_data, __pyx_t_8);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(0, 2307, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    if (__pyx_t_4) {
/*  */
      goto __pyx_L12;
    }
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2308</span>:             strat_train_set = data.iloc[train_index]</pre>
<pre class='cython code score-6 '>      <span class='trace'>__Pyx_TraceLine</span>(2308,0,<span class='error_goto'>__PYX_ERR(0, 2308, __pyx_L1_error)</span>)
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_iloc);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2308, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_t_8, __pyx_v_train_index);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2308, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_strat_train_set, __pyx_t_7);
      __pyx_t_7 = 0;
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2309</span>:             strat_test_set = data.iloc[test_index]</pre>
<pre class='cython code score-6 '>      <span class='trace'>__Pyx_TraceLine</span>(2309,0,<span class='error_goto'>__PYX_ERR(0, 2309, __pyx_L1_error)</span>)
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_data, __pyx_n_s_iloc);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2309, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_t_7, __pyx_v_test_index);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2309, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_strat_test_set, __pyx_t_8);
      __pyx_t_8 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2310</span>:         else:  # Handle numpy arrays</pre>
<pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2311</span>:             strat_train_set = data[train_index]</pre>
<pre class='cython code score-3 '>    <span class='trace'>__Pyx_TraceLine</span>(2311,0,<span class='error_goto'>__PYX_ERR(0, 2311, __pyx_L1_error)</span>)
    /*else*/ {
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_v_train_index);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2311, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_strat_train_set, __pyx_t_8);
      __pyx_t_8 = 0;
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2312</span>:             strat_test_set = data[test_index]</pre>
<pre class='cython code score-3 '>      <span class='trace'>__Pyx_TraceLine</span>(2312,0,<span class='error_goto'>__PYX_ERR(0, 2312, __pyx_L1_error)</span>)
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_v_test_index);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2312, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_strat_test_set, __pyx_t_8);
      __pyx_t_8 = 0;
    }
    __pyx_L12:;
</pre><pre class="cython line score-0">&#xA0;<span class="">2313</span>: </pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2314</span>:     return strat_train_set, strat_test_set</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(2314,0,<span class='error_goto'>__PYX_ERR(0, 2314, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  if (unlikely(!__pyx_v_strat_train_set)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("strat_train_set"); <span class='error_goto'>__PYX_ERR(0, 2314, __pyx_L1_error)</span> }
  if (unlikely(!__pyx_v_strat_test_set)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("strat_test_set"); <span class='error_goto'>__PYX_ERR(0, 2314, __pyx_L1_error)</span> }
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2314, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_strat_train_set);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_strat_train_set);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_strat_train_set)) <span class='error_goto'>__PYX_ERR(0, 2314, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_strat_test_set);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_strat_test_set);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_v_strat_test_set)) <span class='error_goto'>__PYX_ERR(0, 2314, __pyx_L1_error)</span>;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2315</span>: </pre>
<pre class="cython line score-113" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2316</span>: def fetch_model(</pre>
<pre class='cython code score-113 '>static PyObject *__pyx_pf_6gofast_5tools_7mlutils_117__defaults__(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceCall</span>("__defaults__", __pyx_f[0], 2316, 0, <span class='error_goto'>__PYX_ERR(0, 2316, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2320,0,<span class='error_goto'>__PYX_ERR(0, 2320, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2316, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, Py_None)) <span class='error_goto'>__PYX_ERR(0, 2316, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(((PyObject *)Py_False));
  <span class='refnanny'>__Pyx_GIVEREF</span>(((PyObject *)Py_False));
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, ((PyObject *)Py_False))) <span class='error_goto'>__PYX_ERR(0, 2316, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 2, Py_None)) <span class='error_goto'>__PYX_ERR(0, 2316, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(<span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults3, __pyx_self)-&gt;__pyx_arg_verbose);
  <span class='refnanny'>__Pyx_GIVEREF</span>(<span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults3, __pyx_self)-&gt;__pyx_arg_verbose);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 3, <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults3, __pyx_self)-&gt;__pyx_arg_verbose)) <span class='error_goto'>__PYX_ERR(0, 2316, __pyx_L1_error)</span>;
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2316,0,<span class='error_goto'>__PYX_ERR(0, 2316, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2316, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2316, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, Py_None)) <span class='error_goto'>__PYX_ERR(0, 2316, __pyx_L1_error)</span>;
  __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.__defaults__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_53fetch_model(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_52fetch_model, "\n    Fetches a model saved using the Python pickle module or joblib module.\n\n    Parameters\n    ----------\n    file : str\n        The filename of the dumped model, saved using `joblib` or Python\n        `pickle` module.\n    path : Optional[str], optional\n        The directory path containing the model file. If None, `file` is assumed\n        to be the full path to the file.\n    default : bool, optional\n        If True, returns a list of tuples (model, best parameters, best scores)\n        for each model in the file. If False, returns the entire contents of the\n        file.\n    name : Optional[str], optional\n        The name of the specific model to retrieve from the file. If specified,\n        only the named model and its parameters are returned.\n    verbose : int, optional\n        Verbosity level. More messages are displayed for values greater than 0.\n\n    Returns\n    -------\n    Union[Dict[str, Any], List[Tuple[Any, Dict[str, Any], Any]]]\n        Depending on the `default` flag:\n        - If `default` is True, returns a list of tuples containing the model,\n          best parameters, and best scores for each model in the file.\n        - If `default` is False, returns the entire contents of the file, which\n          could include multiple models and their respective information.\n\n    Raises\n    ------\n    FileNotFoundError\n        If the specified model file is not found.\n    KeyError\n        If `name` is specified but not found in the loaded model file.\n\n    Examples\n    --------\n    &gt;&gt;&gt; model_info = fetch_model('model.pkl', path='/models',\n                                 name='RandomForest', default=True)\n    &gt;&gt;&gt; model, best_params, best_scores = model_info[0]\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_53fetch_model = {"fetch_model", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_53fetch_model, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_52fetch_model};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_53fetch_model(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_file = 0;
  PyObject *__pyx_v_path = 0;
  PyObject *__pyx_v_default = 0;
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_v_verbose = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("fetch_model (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_file,&amp;__pyx_n_s_path,&amp;__pyx_n_s_default,&amp;__pyx_n_s_name,&amp;__pyx_n_s_verbose,0};
  PyObject* values[5] = {0,0,0,0,0};
    __pyx_defaults3 *__pyx_dynamic_args = <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults3, __pyx_self);
/*  */
  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_52fetch_model(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_file, PyObject *__pyx_v_path, PyObject *__pyx_v_default, PyObject *__pyx_v_name, PyObject *__pyx_v_verbose) {
  PyObject *__pyx_v_full_path = NULL;
  PyObject *__pyx_v_is_joblib = NULL;
  PyObject *__pyx_v_load_func = NULL;
  PyObject *__pyx_v_f = NULL;
  PyObject *__pyx_v_model_data = NULL;
  PyObject *__pyx_v_lib_used = NULL;
  PyObject *__pyx_v_specific_model_data = NULL;
  PyObject *__pyx_v_available_models = NULL;
  PyObject *__pyx_8genexpr8__pyx_v_model = NULL;
  PyObject *__pyx_8genexpr8__pyx_v_info = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__76)
  <span class='trace'>__Pyx_TraceCall</span>("fetch_model", __pyx_f[0], 2316, 0, <span class='error_goto'>__PYX_ERR(0, 2316, __pyx_L1_error)</span>);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_15);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_16);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_19);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.fetch_model", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_full_path);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_is_joblib);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_load_func);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_f);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_model_data);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_lib_used);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_specific_model_data);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_available_models);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr8__pyx_v_model);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr8__pyx_v_info);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__170 = <span class='py_c_api'>PyTuple_Pack</span>(15, __pyx_n_s_file, __pyx_n_s_path, __pyx_n_s_default, __pyx_n_s_name, __pyx_n_s_verbose, __pyx_n_s_full_path, __pyx_n_s_is_joblib, __pyx_n_s_load_func, __pyx_n_s_f, __pyx_n_s_model_data, __pyx_n_s_lib_used, __pyx_n_s_specific_model_data, __pyx_n_s_available_models, __pyx_n_s_model, __pyx_n_s_info);<span class='error_goto'> if (unlikely(!__pyx_tuple__170)) __PYX_ERR(0, 2316, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__170);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__170);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2316,0,<span class='error_goto'>__PYX_ERR(0, 2316, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(6);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2316, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_file, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2316, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_path, __pyx_kp_s_Optional_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2316, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_default, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2316, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_name, __pyx_kp_s_Optional_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2316, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_verbose, __pyx_n_s_int) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2316, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return, __pyx_kp_s_Union_Dict_str_Any_List_Tuple_An) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2316, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_53fetch_model, 0, __pyx_n_s_fetch_model, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__76));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2316, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (!<span class='pyx_c_api'>__Pyx_CyFunction_InitDefaults</span>(__pyx_t_4, sizeof(__pyx_defaults3), 1)) <span class='error_goto'>__PYX_ERR(0, 2316, __pyx_L1_error)</span>
  __pyx_codeobj__76 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(5, 0, 0, 15, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__170, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_fetch_model, 2316, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__76)) __PYX_ERR(0, 2316, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2317</span>:     file: str,</pre>
<pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2318</span>:     path: Optional[str] = None,</pre>
<pre class='cython code score-4 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
</pre><pre class="cython line score-0">&#xA0;<span class="">2319</span>:     default: bool = False,</pre>
<pre class="cython line score-83" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2320</span>:     name: Optional[str] = None,</pre>
<pre class='cython code score-83 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(__pyx_dynamic_args-&gt;__pyx_arg_verbose);
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_file)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2316, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_path);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2316, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_default);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2316, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_name);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2316, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_verbose);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2316, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "fetch_model") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2316, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_file = ((PyObject*)values[0]);
    __pyx_v_path = values[1];
    __pyx_v_default = values[2];
    __pyx_v_name = values[3];
    __pyx_v_verbose = ((PyObject*)values[4]);
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("fetch_model", 0, 1, 5, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2316, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.fetch_model", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_file), (&amp;PyUnicode_Type), 0, "file", 1))) <span class='error_goto'>__PYX_ERR(0, 2317, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_verbose), (&amp;PyInt_Type), 0, "verbose", 1))) <span class='error_goto'>__PYX_ERR(0, 2321, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_52fetch_model(__pyx_self, __pyx_v_file, __pyx_v_path, __pyx_v_default, __pyx_v_name, __pyx_v_verbose);
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2321</span>:     verbose: int = 0</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(2321,0,<span class='error_goto'>__PYX_ERR(0, 2321, __pyx_L1_error)</span>)
  if (!(likely(__Pyx_Py3Int_CheckExact(__pyx_int_0)) || <span class='pyx_c_api'>__Pyx_RaiseUnexpectedTypeError</span>("int", __pyx_int_0))) <span class='error_goto'>__PYX_ERR(0, 2321, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_int_0);
  <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults3, __pyx_t_4)-&gt;__pyx_arg_verbose = ((PyObject*)__pyx_int_0);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_int_0);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsGetter</span>(__pyx_t_4, __pyx_pf_6gofast_5tools_7mlutils_117__defaults__);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_4, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_fetch_model, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2316, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2322</span>:     ) -&gt; Union[Dict[str, Any], List[Tuple[Any, Dict[str, Any], Any]]]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">2323</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2324</span>:     Fetches a model saved using the Python pickle module or joblib module.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2325</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2326</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">2327</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2328</span>:     file : str</pre>
<pre class="cython line score-0">&#xA0;<span class="">2329</span>:         The filename of the dumped model, saved using `joblib` or Python</pre>
<pre class="cython line score-0">&#xA0;<span class="">2330</span>:         `pickle` module.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2331</span>:     path : Optional[str], optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2332</span>:         The directory path containing the model file. If None, `file` is assumed</pre>
<pre class="cython line score-0">&#xA0;<span class="">2333</span>:         to be the full path to the file.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2334</span>:     default : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2335</span>:         If True, returns a list of tuples (model, best parameters, best scores)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2336</span>:         for each model in the file. If False, returns the entire contents of the</pre>
<pre class="cython line score-0">&#xA0;<span class="">2337</span>:         file.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2338</span>:     name : Optional[str], optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2339</span>:         The name of the specific model to retrieve from the file. If specified,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2340</span>:         only the named model and its parameters are returned.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2341</span>:     verbose : int, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2342</span>:         Verbosity level. More messages are displayed for values greater than 0.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2343</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2344</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">2345</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2346</span>:     Union[Dict[str, Any], List[Tuple[Any, Dict[str, Any], Any]]]</pre>
<pre class="cython line score-0">&#xA0;<span class="">2347</span>:         Depending on the `default` flag:</pre>
<pre class="cython line score-0">&#xA0;<span class="">2348</span>:         - If `default` is True, returns a list of tuples containing the model,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2349</span>:           best parameters, and best scores for each model in the file.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2350</span>:         - If `default` is False, returns the entire contents of the file, which</pre>
<pre class="cython line score-0">&#xA0;<span class="">2351</span>:           could include multiple models and their respective information.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2352</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2353</span>:     Raises</pre>
<pre class="cython line score-0">&#xA0;<span class="">2354</span>:     ------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2355</span>:     FileNotFoundError</pre>
<pre class="cython line score-0">&#xA0;<span class="">2356</span>:         If the specified model file is not found.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2357</span>:     KeyError</pre>
<pre class="cython line score-0">&#xA0;<span class="">2358</span>:         If `name` is specified but not found in the loaded model file.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2359</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2360</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">2361</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2362</span>:     &gt;&gt;&gt; model_info = fetch_model('model.pkl', path='/models',</pre>
<pre class="cython line score-0">&#xA0;<span class="">2363</span>:                                  name='RandomForest', default=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2364</span>:     &gt;&gt;&gt; model, best_params, best_scores = model_info[0]</pre>
<pre class="cython line score-0">&#xA0;<span class="">2365</span>:     """</pre>
<pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2366</span>:     full_path = os.path.join(path, file) if path else file</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(2366,0,<span class='error_goto'>__PYX_ERR(0, 2366, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_path); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2366, __pyx_L1_error)</span>
  if (__pyx_t_2) {
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2366, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2366, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_join);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2366, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_5, __pyx_v_path, __pyx_v_file};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_6, 2+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 2366, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    }
    __pyx_t_1 = __pyx_t_3;
    __pyx_t_3 = 0;
  } else {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_file);
    __pyx_t_1 = __pyx_v_file;
  }
  __pyx_v_full_path = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2367</span>: </pre>
<pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2368</span>:     if not os.path.isfile(full_path):</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(2368,0,<span class='error_goto'>__PYX_ERR(0, 2368, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2368, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2368, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_isfile);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2368, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_4)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_v_full_path};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2368, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_1); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2368, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_7 = (!__pyx_t_2);
  if (unlikely(__pyx_t_7)) {
/*  */
  }
</pre><pre class="cython line score-35" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2369</span>:         raise FileNotFoundError(f"File {full_path!r} not found.")</pre>
<pre class='cython code score-35 '>    <span class='trace'>__Pyx_TraceLine</span>(2369,0,<span class='error_goto'>__PYX_ERR(0, 2369, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_FileNotFoundError);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2369, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2369, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_8 = 0;
    __pyx_t_9 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_File);
    __pyx_t_8 += 5;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_File);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_kp_u_File);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_v_full_path), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2369, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_9 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_4) &gt; __pyx_t_9) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_4) : __pyx_t_9;
    __pyx_t_8 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_4);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_t_4);
    __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_not_found);
    __pyx_t_8 += 11;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_not_found);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 2, __pyx_kp_u_not_found);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_3, 3, __pyx_t_8, __pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2369, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_t_1, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2369, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_3, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='error_goto'>__PYX_ERR(0, 2369, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2370</span>: </pre>
<pre class="cython line score-39" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2371</span>:     is_joblib = full_path.endswith('.pkl') or full_path.endswith('.joblib')</pre>
<pre class='cython code score-39 '>  <span class='trace'>__Pyx_TraceLine</span>(2371,0,<span class='error_goto'>__PYX_ERR(0, 2371, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_full_path, __pyx_n_s_endswith);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2371, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_5 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_5)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_kp_u_pkl};
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 2371, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_4); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2371, __pyx_L1_error)</span>
  if (!__pyx_t_7) {
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  } else {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
    __pyx_t_3 = __pyx_t_4;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_full_path, __pyx_n_s_endswith);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2371, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_5 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_5)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_kp_u_joblib};
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 2371, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
  __pyx_t_3 = __pyx_t_4;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_L4_bool_binop_done:;
  __pyx_v_is_joblib = __pyx_t_3;
  __pyx_t_3 = 0;
</pre><pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2372</span>:     load_func = joblib.load if is_joblib else pickle.load</pre>
<pre class='cython code score-12 '>  <span class='trace'>__Pyx_TraceLine</span>(2372,0,<span class='error_goto'>__PYX_ERR(0, 2372, __pyx_L1_error)</span>)
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_is_joblib); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2372, __pyx_L1_error)</span>
  if (__pyx_t_7) {
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_joblib_2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2372, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_load);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2372, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_3 = __pyx_t_1;
    __pyx_t_1 = 0;
  } else {
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pickle);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2372, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_load);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2372, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_3 = __pyx_t_4;
    __pyx_t_4 = 0;
  }
  __pyx_v_load_func = __pyx_t_3;
  __pyx_t_3 = 0;
</pre><pre class="cython line score-70" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2373</span>:     with open(full_path, 'rb') as f:</pre>
<pre class='cython code score-70 '>  <span class='trace'>__Pyx_TraceLine</span>(2373,0,<span class='error_goto'>__PYX_ERR(0, 2373, __pyx_L1_error)</span>)
  /*with:*/ {
    __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2373, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_full_path);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_full_path);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_full_path)) <span class='error_goto'>__PYX_ERR(0, 2373, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_rb);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_rb);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_n_u_rb)) <span class='error_goto'>__PYX_ERR(0, 2373, __pyx_L1_error)</span>;
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_open, __pyx_t_3, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2373, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_4, __pyx_n_s_exit);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2373, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_4, __pyx_n_s_enter);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2373, __pyx_L6_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_5 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_5, NULL};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 2373, __pyx_L6_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_t_1 = __pyx_t_3;
    __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    /*try:*/ {
      {
        /*try:*/ {
          __pyx_v_f = __pyx_t_1;
          __pyx_t_1 = 0;
/*  */
        }
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
        goto __pyx_L15_try_end;
        __pyx_L10_error:;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        /*except:*/ {
          <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.fetch_model", __pyx_clineno, __pyx_lineno, __pyx_filename);
          if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_1, &amp;__pyx_t_4, &amp;__pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2373, __pyx_L12_except_error)</span>
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_4);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
          __pyx_t_5 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_t_1, __pyx_t_4, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2373, __pyx_L12_except_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
          __pyx_t_14 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_10, __pyx_t_5, NULL);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
          if (unlikely(!__pyx_t_14)) <span class='error_goto'>__PYX_ERR(0, 2373, __pyx_L12_except_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_14);
          __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_14);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
          if (__pyx_t_7 &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2373, __pyx_L12_except_error)</span>
          __pyx_t_2 = (!__pyx_t_7);
          if (unlikely(__pyx_t_2)) {
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_3);
            <span class='pyx_c_api'>__Pyx_ErrRestoreWithState</span>(__pyx_t_1, __pyx_t_4, __pyx_t_3);
            __pyx_t_1 = 0; __pyx_t_4 = 0; __pyx_t_3 = 0; 
            <span class='error_goto'>__PYX_ERR(0, 2373, __pyx_L12_except_error)</span>
          }
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          goto __pyx_L11_exception_handled;
        }
        __pyx_L12_except_error:;
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
        <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_11, __pyx_t_12, __pyx_t_13);
        goto __pyx_L1_error;
        __pyx_L11_exception_handled:;
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
        <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_11, __pyx_t_12, __pyx_t_13);
        __pyx_L15_try_end:;
      }
    }
    /*finally:*/ {
      /*normal exit:*/{
        if (__pyx_t_10) {
          __pyx_t_13 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_10, __pyx_tuple__48, NULL);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
          if (unlikely(!__pyx_t_13)) <span class='error_goto'>__PYX_ERR(0, 2373, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_13);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
        }
        goto __pyx_L9;
      }
      __pyx_L9:;
    }
    goto __pyx_L19;
    __pyx_L6_error:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    goto __pyx_L1_error;
    __pyx_L19:;
  }
</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2374</span>:         model_data = load_func(f)</pre>
<pre class='cython code score-15 '>          <span class='trace'>__Pyx_TraceLine</span>(2374,0,<span class='error_goto'>__PYX_ERR(0, 2374, __pyx_L10_error)</span>)
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_load_func);
          __pyx_t_4 = __pyx_v_load_func; __pyx_t_3 = NULL;
          __pyx_t_6 = 0;
          #if CYTHON_UNPACK_METHODS
          if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
            __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
            if (likely(__pyx_t_3)) {
              PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
              <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
              __pyx_t_6 = 1;
            }
          }
          #endif
          {
            PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_f};
            __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
            if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2374, __pyx_L10_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
          }
          __pyx_v_model_data = __pyx_t_1;
          __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2375</span>: </pre>
<pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2376</span>:     if verbose &gt; 0:</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(2376,0,<span class='error_goto'>__PYX_ERR(0, 2376, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_v_verbose, __pyx_int_0, Py_GT); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2376, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_3); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2376, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (__pyx_t_2) {
/*  */
  }
</pre><pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2377</span>:         lib_used = "joblib" if is_joblib else "pickle"</pre>
<pre class='cython code score-4 '>    <span class='trace'>__Pyx_TraceLine</span>(2377,0,<span class='error_goto'>__PYX_ERR(0, 2377, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_is_joblib); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2377, __pyx_L1_error)</span>
    if (__pyx_t_2) {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_joblib_2);
      __pyx_t_3 = __pyx_n_u_joblib_2;
    } else {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_pickle);
      __pyx_t_3 = __pyx_n_u_pickle;
    }
    __pyx_v_lib_used = ((PyObject*)__pyx_t_3);
    __pyx_t_3 = 0;
</pre><pre class="cython line score-41" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2378</span>:         print(f"Model loaded from {full_path!r} using {lib_used}.")</pre>
<pre class='cython code score-41 '>    <span class='trace'>__Pyx_TraceLine</span>(2378,0,<span class='error_goto'>__PYX_ERR(0, 2378, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2378, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_8 = 0;
    __pyx_t_9 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Model_loaded_from);
    __pyx_t_8 += 18;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Model_loaded_from);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_kp_u_Model_loaded_from);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_v_full_path), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2378, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_9 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_4) &gt; __pyx_t_9) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_4) : __pyx_t_9;
    __pyx_t_8 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_4);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_t_4);
    __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_using);
    __pyx_t_8 += 7;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_using);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 2, __pyx_kp_u_using);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyUnicode_Unicode</span>(__pyx_v_lib_used);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2378, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_9 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_4) &gt; __pyx_t_9) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_4) : __pyx_t_9;
    __pyx_t_8 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_4);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 3, __pyx_t_4);
    __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__3);
    __pyx_t_8 += 1;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__3);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 4, __pyx_kp_u__3);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_3, 5, __pyx_t_8, __pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2378, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_print, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2378, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2379</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2380</span>:     if name:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(2380,0,<span class='error_goto'>__PYX_ERR(0, 2380, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_name); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2380, __pyx_L1_error)</span>
  if (__pyx_t_2) {
/*  */
  }
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2381</span>:         try:</pre>
<pre class='cython code score-9 '>    <span class='trace'>__Pyx_TraceLine</span>(2381,0,<span class='error_goto'>__PYX_ERR(0, 2381, __pyx_L1_error)</span>)
    {
      /*try:*/ {
/*  */
      }
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
      goto __pyx_L27_try_end;
      __pyx_L22_error:;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
/*  */
      __pyx_L24_except_error:;
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_10);
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
      <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_10, __pyx_t_13, __pyx_t_12);
      goto __pyx_L1_error;
      __pyx_L27_try_end:;
    }
</pre><pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2382</span>:             specific_model_data = model_data[name]</pre>
<pre class='cython code score-4 '>        <span class='trace'>__Pyx_TraceLine</span>(2382,0,<span class='error_goto'>__PYX_ERR(0, 2382, __pyx_L22_error)</span>)
        if (unlikely(!__pyx_v_model_data)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("model_data"); <span class='error_goto'>__PYX_ERR(0, 2382, __pyx_L22_error)</span> }
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_model_data, __pyx_v_name);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2382, __pyx_L22_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        __pyx_v_specific_model_data = __pyx_t_3;
        __pyx_t_3 = 0;
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2383</span>:         except KeyError:</pre>
<pre class='cython code score-6 '>      <span class='trace'>__Pyx_TraceLine</span>(2383,0,<span class='error_goto'>__PYX_ERR(0, 2383, __pyx_L24_except_error)</span>)
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyErr_ExceptionMatches</span>(__pyx_builtin_KeyError);
      if (__pyx_t_6) {
        <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.fetch_model", __pyx_clineno, __pyx_lineno, __pyx_filename);
        if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_3, &amp;__pyx_t_4, &amp;__pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2383, __pyx_L24_except_error)</span>
        <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
        <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_4);
        <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
</pre><pre class="cython line score-21" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2384</span>:             available_models = list(model_data.keys())</pre>
<pre class='cython code score-21 '>        <span class='trace'>__Pyx_TraceLine</span>(2384,0,<span class='error_goto'>__PYX_ERR(0, 2384, __pyx_L24_except_error)</span>)
        if (unlikely(!__pyx_v_model_data)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("model_data"); <span class='error_goto'>__PYX_ERR(0, 2384, __pyx_L24_except_error)</span> }
        __pyx_t_15 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_model_data, __pyx_n_s_keys);<span class='error_goto'> if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 2384, __pyx_L24_except_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_15);
        __pyx_t_16 = NULL;
        __pyx_t_6 = 0;
        #if CYTHON_UNPACK_METHODS
        if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_15))) {
          __pyx_t_16 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_15);
          if (likely(__pyx_t_16)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_15);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_16);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_15, function);
            __pyx_t_6 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_16, NULL};
          __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_15, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_16); __pyx_t_16 = 0;
          if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 2384, __pyx_L24_except_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
        }
        __pyx_t_15 = <span class='pyx_c_api'>__Pyx_PySequence_ListKeepNew</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 2384, __pyx_L24_except_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_15);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        __pyx_v_available_models = ((PyObject*)__pyx_t_15);
        __pyx_t_15 = 0;
</pre><pre class="cython line score-36" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2385</span>:             raise KeyError(f"Model name '{name}' not found. Available models: {available_models}")</pre>
<pre class='cython code score-36 '>        <span class='trace'>__Pyx_TraceLine</span>(2385,0,<span class='error_goto'>__PYX_ERR(0, 2385, __pyx_L24_except_error)</span>)
        __pyx_t_15 = <span class='py_c_api'>PyTuple_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 2385, __pyx_L24_except_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_15);
        __pyx_t_8 = 0;
        __pyx_t_9 = 127;
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Model_name);
        __pyx_t_8 += 12;
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Model_name);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_15, 0, __pyx_kp_u_Model_name);
        __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_name, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2385, __pyx_L24_except_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        __pyx_t_9 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_5) &gt; __pyx_t_9) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_5) : __pyx_t_9;
        __pyx_t_8 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_5);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_5);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_15, 1, __pyx_t_5);
        __pyx_t_5 = 0;
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_not_found_Available_models);
        __pyx_t_8 += 31;
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_not_found_Available_models);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_15, 2, __pyx_kp_u_not_found_Available_models);
        __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_available_models, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2385, __pyx_L24_except_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        __pyx_t_9 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_5) &gt; __pyx_t_9) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_5) : __pyx_t_9;
        __pyx_t_8 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_5);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_5);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_15, 3, __pyx_t_5);
        __pyx_t_5 = 0;
        __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_15, 4, __pyx_t_8, __pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2385, __pyx_L24_except_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
        __pyx_t_15 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_KeyError, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 2385, __pyx_L24_except_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_15);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_15, 0, 0, 0);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
        <span class='error_goto'>__PYX_ERR(0, 2385, __pyx_L24_except_error)</span>
      }
      goto __pyx_L24_except_error;
</pre><pre class="cython line score-0">&#xA0;<span class="">2386</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2387</span>:         if default:</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(2387,0,<span class='error_goto'>__PYX_ERR(0, 2387, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_default); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2387, __pyx_L1_error)</span>
    if (__pyx_t_2) {
/*  */
    }
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2388</span>:             if not isinstance(specific_model_data, dict):</pre>
<pre class='cython code score-5 '>      <span class='trace'>__Pyx_TraceLine</span>(2388,0,<span class='error_goto'>__PYX_ERR(0, 2388, __pyx_L1_error)</span>)
      __pyx_t_2 = <span class='py_c_api'>PyDict_Check</span>(__pyx_v_specific_model_data); 
      __pyx_t_7 = (!__pyx_t_2);
      if (__pyx_t_7) {
/*  */
      }
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2389</span>:                 warnings.warn(</pre>
<pre class='cython code score-20 '>        <span class='trace'>__Pyx_TraceLine</span>(2389,0,<span class='error_goto'>__PYX_ERR(0, 2389, __pyx_L1_error)</span>)
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_warnings);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2389, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_warn);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2389, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        __pyx_t_4 = NULL;
        __pyx_t_6 = 0;
        #if CYTHON_UNPACK_METHODS
        if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
          __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
          if (likely(__pyx_t_4)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
            __pyx_t_6 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_kp_u_The_retrieved_model_data_does_no};
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
          if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2389, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        }
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2390</span>:                     "The retrieved model data does not follow the expected structure. "</pre>
<pre class="cython line score-0">&#xA0;<span class="">2391</span>:                     "Each model should be represented as a dictionary, with the model's "</pre>
<pre class="cython line score-0">&#xA0;<span class="">2392</span>:                     "name as the key and its details (including 'best_params_' and "</pre>
<pre class="cython line score-0">&#xA0;<span class="">2393</span>:                     "'best_scores_') as nested dictionaries. For instance: "</pre>
<pre class="cython line score-0">&#xA0;<span class="">2394</span>:                     "`model_data = {'ModelName': {'best_params_': &lt;parameters&gt;, "</pre>
<pre class="cython line score-0">&#xA0;<span class="">2395</span>:                     "'best_scores_': &lt;scores&gt;}}`. As the structure is unexpected, "</pre>
<pre class="cython line score-0">&#xA0;<span class="">2396</span>:                     "returning the raw model data instead of the processed tuple."</pre>
<pre class="cython line score-0">&#xA0;<span class="">2397</span>:                 )</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2398</span>:                 return specific_model_data</pre>
<pre class='cython code score-2 '>        <span class='trace'>__Pyx_TraceLine</span>(2398,0,<span class='error_goto'>__PYX_ERR(0, 2398, __pyx_L1_error)</span>)
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_specific_model_data);
        __pyx_r = __pyx_v_specific_model_data;
        goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2399</span>:             # Assuming model data structure for specific named model when default is True</pre>
<pre class="cython line score-39" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2400</span>:             return [(specific_model_data, specific_model_data.get('best_params_', {}),</pre>
<pre class='cython code score-39 '>      <span class='trace'>__Pyx_TraceLine</span>(2400,0,<span class='error_goto'>__PYX_ERR(0, 2400, __pyx_L1_error)</span>)
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_specific_model_data, __pyx_n_s_get);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2400, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2400, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_15 = NULL;
      __pyx_t_6 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
        __pyx_t_15 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
        if (likely(__pyx_t_15)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_15);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
          __pyx_t_6 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[3] = {__pyx_t_15, __pyx_n_u_best_params, __pyx_t_4};
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_6, 2+__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2400, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      }
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(2400,0,<span class='error_goto'>__PYX_ERR(0, 2400, __pyx_L1_error)</span>)
      __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2400, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_specific_model_data);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_specific_model_data);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_v_specific_model_data)) <span class='error_goto'>__PYX_ERR(0, 2400, __pyx_L1_error)</span>;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2400, __pyx_L1_error)</span>;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 2, __pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 2400, __pyx_L1_error)</span>;
      __pyx_t_1 = 0;
      __pyx_t_3 = 0;
      __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2400, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 2400, __pyx_L1_error)</span>;
      __pyx_t_4 = 0;
      __pyx_r = __pyx_t_3;
      __pyx_t_3 = 0;
      goto __pyx_L0;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2401</span>:                      specific_model_data.get('best_scores_', {}))]</pre>
<pre class='cython code score-19 '>      <span class='trace'>__Pyx_TraceLine</span>(2401,0,<span class='error_goto'>__PYX_ERR(0, 2401, __pyx_L1_error)</span>)
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_specific_model_data, __pyx_n_s_get);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2401, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_15 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 2401, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_15);
      __pyx_t_5 = NULL;
      __pyx_t_6 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
        __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
        if (likely(__pyx_t_5)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
          __pyx_t_6 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[3] = {__pyx_t_5, __pyx_n_u_best_scores, __pyx_t_15};
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_6, 2+__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
        if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 2401, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2402</span>:         return specific_model_data</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(2402,0,<span class='error_goto'>__PYX_ERR(0, 2402, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_specific_model_data);
    __pyx_r = __pyx_v_specific_model_data;
    goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2403</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2404</span>:     if default:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(2404,0,<span class='error_goto'>__PYX_ERR(0, 2404, __pyx_L1_error)</span>)
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_default); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2404, __pyx_L1_error)</span>
  if (__pyx_t_7) {
/*  */
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">2405</span>:         # Assuming model data structure contains 'best_model', 'best_params_', and 'best_scores'</pre>
<pre class="cython line score-64" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2406</span>:         return [(model, info.get('best_params_', {}), info.get('best_scores_', {}))</pre>
<pre class='cython code score-64 '>    <span class='trace'>__Pyx_TraceLine</span>(2406,0,<span class='error_goto'>__PYX_ERR(0, 2406, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    { /* enter inner scope */
      __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2406, __pyx_L35_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
/*  */
        <span class='trace'>__Pyx_TraceLine</span>(2406,0,<span class='error_goto'>__PYX_ERR(0, 2406, __pyx_L35_error)</span>)
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_8genexpr8__pyx_v_info, __pyx_n_s_get);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2406, __pyx_L35_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2406, __pyx_L35_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        __pyx_t_16 = NULL;
        __pyx_t_18 = 0;
        #if CYTHON_UNPACK_METHODS
        if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
          __pyx_t_16 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
          if (likely(__pyx_t_16)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_16);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
            __pyx_t_18 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[3] = {__pyx_t_16, __pyx_n_u_best_params, __pyx_t_5};
          __pyx_t_15 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_18, 2+__pyx_t_18);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_16); __pyx_t_16 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
          if (unlikely(!__pyx_t_15)) <span class='error_goto'>__PYX_ERR(0, 2406, __pyx_L35_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_15);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        }
        __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_8genexpr8__pyx_v_info, __pyx_n_s_get);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2406, __pyx_L35_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        __pyx_t_16 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 2406, __pyx_L35_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_16);
        __pyx_t_19 = NULL;
        __pyx_t_18 = 0;
        #if CYTHON_UNPACK_METHODS
        if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
          __pyx_t_19 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
          if (likely(__pyx_t_19)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_19);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
            __pyx_t_18 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[3] = {__pyx_t_19, __pyx_n_u_best_scores, __pyx_t_16};
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_18, 2+__pyx_t_18);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_19); __pyx_t_19 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_16); __pyx_t_16 = 0;
          if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2406, __pyx_L35_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        }
        __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2406, __pyx_L35_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_8genexpr8__pyx_v_model);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_8genexpr8__pyx_v_model);
        if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_8genexpr8__pyx_v_model)) <span class='error_goto'>__PYX_ERR(0, 2406, __pyx_L35_error)</span>;
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_15);
        if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 1, __pyx_t_15)) <span class='error_goto'>__PYX_ERR(0, 2406, __pyx_L35_error)</span>;
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
        if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 2, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2406, __pyx_L35_error)</span>;
        __pyx_t_15 = 0;
        __pyx_t_1 = 0;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_3, (PyObject*)__pyx_t_5))) <span class='error_goto'>__PYX_ERR(0, 2406, __pyx_L35_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr8__pyx_v_info); __pyx_8genexpr8__pyx_v_info = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr8__pyx_v_model); __pyx_8genexpr8__pyx_v_model = 0;
      goto __pyx_L38_exit_scope;
      __pyx_L35_error:;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr8__pyx_v_info); __pyx_8genexpr8__pyx_v_info = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr8__pyx_v_model); __pyx_8genexpr8__pyx_v_model = 0;
      goto __pyx_L1_error;
      __pyx_L38_exit_scope:;
    } /* exit inner scope */
    __pyx_r = __pyx_t_3;
    __pyx_t_3 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2407</span>:                 for model, info in model_data.items()]</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(2407,0,<span class='error_goto'>__PYX_ERR(0, 2407, __pyx_L35_error)</span>)
      __pyx_t_8 = 0;
      if (unlikely(!__pyx_v_model_data)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("model_data"); <span class='error_goto'>__PYX_ERR(0, 2407, __pyx_L35_error)</span> }
      if (unlikely(__pyx_v_model_data == Py_None)) {
        <span class='py_c_api'>PyErr_Format</span>(PyExc_AttributeError, "'NoneType' object has no attribute '%.30s'", "items");
        <span class='error_goto'>__PYX_ERR(0, 2407, __pyx_L35_error)</span>
      }
      __pyx_t_1 = __Pyx_dict_iterator(__pyx_v_model_data, 0, __pyx_n_s_items, (&amp;__pyx_t_17), (&amp;__pyx_t_6));<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2407, __pyx_L35_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
      __pyx_t_4 = __pyx_t_1;
      __pyx_t_1 = 0;
      while (1) {
        __pyx_t_18 = __Pyx_dict_iter_next(__pyx_t_4, __pyx_t_17, &amp;__pyx_t_8, &amp;__pyx_t_1, &amp;__pyx_t_15, NULL, __pyx_t_6);
        if (unlikely(__pyx_t_18 == 0)) break;
        if (unlikely(__pyx_t_18 == -1)) <span class='error_goto'>__PYX_ERR(0, 2407, __pyx_L35_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_15);
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_8genexpr8__pyx_v_model, __pyx_t_1);
        __pyx_t_1 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_8genexpr8__pyx_v_info, __pyx_t_15);
        __pyx_t_15 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2408</span>: </pre>
<pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2409</span>:     return model_data</pre>
<pre class='cython code score-4 '>  <span class='trace'>__Pyx_TraceLine</span>(2409,0,<span class='error_goto'>__PYX_ERR(0, 2409, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  if (unlikely(!__pyx_v_model_data)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("model_data"); <span class='error_goto'>__PYX_ERR(0, 2409, __pyx_L1_error)</span> }
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_model_data);
  __pyx_r = __pyx_v_model_data;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2410</span>: </pre>
<pre class="cython line score-109" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2411</span>: def serialize_data(</pre>
<pre class='cython code score-109 '>static PyObject *__pyx_pf_6gofast_5tools_7mlutils_119__defaults__(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceCall</span>("__defaults__", __pyx_f[0], 2411, 0, <span class='error_goto'>__PYX_ERR(0, 2411, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2415,0,<span class='error_goto'>__PYX_ERR(0, 2415, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2411, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, Py_None)) <span class='error_goto'>__PYX_ERR(0, 2411, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, Py_None)) <span class='error_goto'>__PYX_ERR(0, 2411, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 2, Py_None)) <span class='error_goto'>__PYX_ERR(0, 2411, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(<span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults4, __pyx_self)-&gt;__pyx_arg_verbose);
  <span class='refnanny'>__Pyx_GIVEREF</span>(<span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults4, __pyx_self)-&gt;__pyx_arg_verbose);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 3, <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults4, __pyx_self)-&gt;__pyx_arg_verbose)) <span class='error_goto'>__PYX_ERR(0, 2411, __pyx_L1_error)</span>;
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2411,0,<span class='error_goto'>__PYX_ERR(0, 2411, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2411, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2411, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, Py_None)) <span class='error_goto'>__PYX_ERR(0, 2411, __pyx_L1_error)</span>;
  __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.__defaults__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_55serialize_data(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_54serialize_data, "\n    Serialize and save data to a binary file using either joblib or pickle.\n\n    Parameters\n    ----------\n    data : Any\n        The object to be serialized and saved.\n    filename : str, optional\n        The name of the file to save. If None, a name is generated automatically.\n    savepath : str, optional\n        The directory where the file should be saved. If it does not exist, \n        it is created. If None, the current working directory is used.\n    to : str, optional\n        Specify the serialization method: 'joblib' or 'pickle'. \n        If None, defaults to 'joblib'.\n    verbose : int, optional\n        Verbosity level. More messages are displayed for values greater than 0.\n\n    Returns\n    -------\n    str\n        The path to the saved file.\n\n    Raises\n    ------\n    ValueError\n        If 'to' is not 'joblib', 'pickle', or None.\n    TypeError\n        If 'to' is not a string.\n\n    Examples\n    --------\n    &gt;&gt;&gt; import numpy as np\n    &gt;&gt;&gt; data = (np.array([0, 1, 3]), np.array([0.2, 4]))\n    &gt;&gt;&gt; filename = serialize_data(data, filename='__XTyT.pkl', to='pickle', \n                                  savepath='gofast/datasets')\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_55serialize_data = {"serialize_data", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_55serialize_data, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_54serialize_data};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_55serialize_data(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_data = 0;
  PyObject *__pyx_v_filename = 0;
  PyObject *__pyx_v_savepath = 0;
  PyObject *__pyx_v_to = 0;
  PyObject *__pyx_v_verbose = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("serialize_data (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_data,&amp;__pyx_n_s_filename,&amp;__pyx_n_s_savepath,&amp;__pyx_n_s_to,&amp;__pyx_n_s_verbose,0};
  PyObject* values[5] = {0,0,0,0,0};
    __pyx_defaults4 *__pyx_dynamic_args = <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults4, __pyx_self);
/*  */
  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_54serialize_data(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_data, PyObject *__pyx_v_filename, PyObject *__pyx_v_savepath, PyObject *__pyx_v_to, PyObject *__pyx_v_verbose) {
  PyObject *__pyx_v_timestamp = NULL;
  PyObject *__pyx_v_full_path = NULL;
  PyObject *__pyx_v_file = NULL;
  PyObject *__pyx_v_e = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__77)
  <span class='trace'>__Pyx_TraceCall</span>("serialize_data", __pyx_f[0], 2411, 0, <span class='error_goto'>__PYX_ERR(0, 2411, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_filename);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_to);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_18);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.serialize_data", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_timestamp);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_full_path);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_file);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_e);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_filename);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_to);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__171 = <span class='py_c_api'>PyTuple_Pack</span>(9, __pyx_n_s_data, __pyx_n_s_filename, __pyx_n_s_savepath, __pyx_n_s_to, __pyx_n_s_verbose, __pyx_n_s_timestamp, __pyx_n_s_full_path, __pyx_n_s_file, __pyx_n_s_e);<span class='error_goto'> if (unlikely(!__pyx_tuple__171)) __PYX_ERR(0, 2411, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__171);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__171);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2411,0,<span class='error_goto'>__PYX_ERR(0, 2411, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(6);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2411, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_data, __pyx_n_s_Any) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2411, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_filename, __pyx_kp_s_Optional_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2411, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_savepath, __pyx_kp_s_Optional_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2411, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_to, __pyx_kp_s_Optional_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2411, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_verbose, __pyx_n_s_int) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2411, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_return, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2411, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_55serialize_data, 0, __pyx_n_s_serialize_data, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__77));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2411, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (!<span class='pyx_c_api'>__Pyx_CyFunction_InitDefaults</span>(__pyx_t_3, sizeof(__pyx_defaults4), 1)) <span class='error_goto'>__PYX_ERR(0, 2411, __pyx_L1_error)</span>
  __pyx_codeobj__77 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(5, 0, 0, 9, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__171, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_serialize_data, 2411, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__77)) __PYX_ERR(0, 2411, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2412</span>:     data: Any,</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2413</span>:     filename: Optional[str] = None,</pre>
<pre class='cython code score-2 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2414</span>:     savepath: Optional[str] = None,</pre>
<pre class='cython code score-2 '>    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-81" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2415</span>:     to: Optional[str] = None,</pre>
<pre class='cython code score-81 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(__pyx_dynamic_args-&gt;__pyx_arg_verbose);
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_data)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2411, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_filename);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2411, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_savepath);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2411, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_to);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2411, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_verbose);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2411, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "serialize_data") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2411, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_data = values[0];
    __pyx_v_filename = values[1];
    __pyx_v_savepath = values[2];
    __pyx_v_to = values[3];
    __pyx_v_verbose = ((PyObject*)values[4]);
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("serialize_data", 0, 1, 5, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2411, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.serialize_data", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_verbose), (&amp;PyInt_Type), 0, "verbose", 1))) <span class='error_goto'>__PYX_ERR(0, 2416, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_54serialize_data(__pyx_self, __pyx_v_data, __pyx_v_filename, __pyx_v_savepath, __pyx_v_to, __pyx_v_verbose);
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2416</span>:     verbose: int = 0</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(2416,0,<span class='error_goto'>__PYX_ERR(0, 2416, __pyx_L1_error)</span>)
  if (!(likely(__Pyx_Py3Int_CheckExact(__pyx_int_0)) || <span class='pyx_c_api'>__Pyx_RaiseUnexpectedTypeError</span>("int", __pyx_int_0))) <span class='error_goto'>__PYX_ERR(0, 2416, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_int_0);
  <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults4, __pyx_t_3)-&gt;__pyx_arg_verbose = ((PyObject*)__pyx_int_0);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_int_0);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsGetter</span>(__pyx_t_3, __pyx_pf_6gofast_5tools_7mlutils_119__defaults__);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_3, __pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_serialize_data, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2411, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2417</span>: ) -&gt; str:</pre>
<pre class="cython line score-0">&#xA0;<span class="">2418</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2419</span>:     Serialize and save data to a binary file using either joblib or pickle.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2420</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2421</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">2422</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2423</span>:     data : Any</pre>
<pre class="cython line score-0">&#xA0;<span class="">2424</span>:         The object to be serialized and saved.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2425</span>:     filename : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2426</span>:         The name of the file to save. If None, a name is generated automatically.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2427</span>:     savepath : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2428</span>:         The directory where the file should be saved. If it does not exist,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2429</span>:         it is created. If None, the current working directory is used.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2430</span>:     to : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2431</span>:         Specify the serialization method: 'joblib' or 'pickle'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2432</span>:         If None, defaults to 'joblib'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2433</span>:     verbose : int, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2434</span>:         Verbosity level. More messages are displayed for values greater than 0.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2435</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2436</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">2437</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2438</span>:     str</pre>
<pre class="cython line score-0">&#xA0;<span class="">2439</span>:         The path to the saved file.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2440</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2441</span>:     Raises</pre>
<pre class="cython line score-0">&#xA0;<span class="">2442</span>:     ------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2443</span>:     ValueError</pre>
<pre class="cython line score-0">&#xA0;<span class="">2444</span>:         If 'to' is not 'joblib', 'pickle', or None.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2445</span>:     TypeError</pre>
<pre class="cython line score-0">&#xA0;<span class="">2446</span>:         If 'to' is not a string.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2447</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2448</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">2449</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2450</span>:     &gt;&gt;&gt; import numpy as np</pre>
<pre class="cython line score-0">&#xA0;<span class="">2451</span>:     &gt;&gt;&gt; data = (np.array([0, 1, 3]), np.array([0.2, 4]))</pre>
<pre class="cython line score-0">&#xA0;<span class="">2452</span>:     &gt;&gt;&gt; filename = serialize_data(data, filename='__XTyT.pkl', to='pickle',</pre>
<pre class="cython line score-0">&#xA0;<span class="">2453</span>:                                   savepath='gofast/datasets')</pre>
<pre class="cython line score-0">&#xA0;<span class="">2454</span>:     """</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2455</span>:     if filename is None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(2455,0,<span class='error_goto'>__PYX_ERR(0, 2455, __pyx_L1_error)</span>)
  __pyx_t_1 = (__pyx_v_filename == Py_None);
  if (__pyx_t_1) {
/*  */
  }
</pre><pre class="cython line score-39" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2456</span>:         timestamp = datetime.datetime.now().strftime('%Y-%m-%d_%H-%M-%S')</pre>
<pre class='cython code score-39 '>    <span class='trace'>__Pyx_TraceLine</span>(2456,0,<span class='error_goto'>__PYX_ERR(0, 2456, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_datetime);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2456, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_datetime);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2456, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_now);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2456, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_5, NULL};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 2456, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    }
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_strftime);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2456, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_kp_u_Y_m_d__H_M_S};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2456, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    }
    __pyx_v_timestamp = __pyx_t_2;
    __pyx_t_2 = 0;
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2457</span>:         filename = f"__mydumpedfile_{timestamp}.pkl"</pre>
<pre class='cython code score-22 '>    <span class='trace'>__Pyx_TraceLine</span>(2457,0,<span class='error_goto'>__PYX_ERR(0, 2457, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2457, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_7 = 0;
    __pyx_t_8 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_mydumpedfile);
    __pyx_t_7 += 15;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_mydumpedfile);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_u_mydumpedfile);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_timestamp, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2457, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_4) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_4) : __pyx_t_8;
    __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_4);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_4);
    __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_pkl);
    __pyx_t_7 += 4;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_pkl);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 2, __pyx_kp_u_pkl);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_2, 3, __pyx_t_7, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2457, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_filename, __pyx_t_4);
    __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2458</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2459</span>:     if to:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(2459,0,<span class='error_goto'>__PYX_ERR(0, 2459, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_to); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2459, __pyx_L1_error)</span>
  if (__pyx_t_1) {
/*  */
  }
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2460</span>:         if not isinstance(to, str):</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(2460,0,<span class='error_goto'>__PYX_ERR(0, 2460, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_to); 
    __pyx_t_9 = (!__pyx_t_1);
    if (unlikely(__pyx_t_9)) {
/*  */
    }
</pre><pre class="cython line score-27" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2461</span>:             raise TypeError(f"Serialization method 'to' must be a string, not {type(to)}.")</pre>
<pre class='cython code score-27 '>      <span class='trace'>__Pyx_TraceLine</span>(2461,0,<span class='error_goto'>__PYX_ERR(0, 2461, __pyx_L1_error)</span>)
      __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2461, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_7 = 0;
      __pyx_t_8 = 127;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Serialization_method_to_must_be);
      __pyx_t_7 += 48;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Serialization_method_to_must_be);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_kp_u_Serialization_method_to_must_be);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(((PyObject *)Py_TYPE(__pyx_v_to)), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2461, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) : __pyx_t_8;
      __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_2);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_t_2);
      __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__3);
      __pyx_t_7 += 1;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__3);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 2, __pyx_kp_u__3);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_4, 3, __pyx_t_7, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2461, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_TypeError, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2461, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_4, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='error_goto'>__PYX_ERR(0, 2461, __pyx_L1_error)</span>
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2462</span>:         to = to.lower()</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(2462,0,<span class='error_goto'>__PYX_ERR(0, 2462, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_to, __pyx_n_s_lower);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2462, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 2462, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_to, __pyx_t_4);
    __pyx_t_4 = 0;
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2463</span>:         if to not in ('joblib', 'pickle'):</pre>
<pre class='cython code score-6 '>    <span class='trace'>__Pyx_TraceLine</span>(2463,0,<span class='error_goto'>__PYX_ERR(0, 2463, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_to);
    __pyx_t_4 = __pyx_v_to;
    __pyx_t_1 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_4, __pyx_n_u_joblib_2, Py_NE)); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2463, __pyx_L1_error)</span>
    if (__pyx_t_1) {
    } else {
      __pyx_t_9 = __pyx_t_1;
      goto __pyx_L7_bool_binop_done;
    }
    __pyx_t_1 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_4, __pyx_n_u_pickle, Py_NE)); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2463, __pyx_L1_error)</span>
    __pyx_t_9 = __pyx_t_1;
    __pyx_L7_bool_binop_done:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_1 = __pyx_t_9;
    if (unlikely(__pyx_t_1)) {
/*  */
    }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2464</span>:             raise ValueError("Unknown serialization method 'to'. Must be"</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(2464,0,<span class='error_goto'>__PYX_ERR(0, 2464, __pyx_L1_error)</span>)
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__78, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2464, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_4, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='error_goto'>__PYX_ERR(0, 2464, __pyx_L1_error)</span>
/*  */
  __pyx_tuple__78 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Unknown_serialization_method_to);<span class='error_goto'> if (unlikely(!__pyx_tuple__78)) __PYX_ERR(0, 2464, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__78);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__78);
</pre><pre class="cython line score-0">&#xA0;<span class="">2465</span>:                              " 'joblib' or 'pickle'.")</pre>
<pre class="cython line score-0">&#xA0;<span class="">2466</span>: </pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2467</span>:     if not filename.endswith('.pkl'):</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(2467,0,<span class='error_goto'>__PYX_ERR(0, 2467, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_filename, __pyx_n_s_endswith);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2467, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_kp_u_pkl};
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 2467, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_4); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2467, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_9 = (!__pyx_t_1);
  if (__pyx_t_9) {
/*  */
  }
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2468</span>:         filename += '.pkl'</pre>
<pre class='cython code score-6 '>    <span class='trace'>__Pyx_TraceLine</span>(2468,0,<span class='error_goto'>__PYX_ERR(0, 2468, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='py_c_api'>PyNumber_InPlaceAdd</span>(__pyx_v_filename, __pyx_kp_u_pkl);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2468, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_filename, __pyx_t_4);
    __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2469</span>: </pre>
<pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2470</span>:     full_path = os.path.join(savepath, filename) if savepath else filename</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(2470,0,<span class='error_goto'>__PYX_ERR(0, 2470, __pyx_L1_error)</span>)
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_savepath); if (unlikely((__pyx_t_9 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2470, __pyx_L1_error)</span>
  if (__pyx_t_9) {
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2470, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2470, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_join);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2470, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_5, __pyx_v_savepath, __pyx_v_filename};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_6, 2+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2470, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    __pyx_t_4 = __pyx_t_2;
    __pyx_t_2 = 0;
  } else {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_filename);
    __pyx_t_4 = __pyx_v_filename;
  }
  __pyx_v_full_path = __pyx_t_4;
  __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2471</span>: </pre>
<pre class="cython line score-27" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2472</span>:     if savepath and not os.path.exists(savepath):</pre>
<pre class='cython code score-27 '>  <span class='trace'>__Pyx_TraceLine</span>(2472,0,<span class='error_goto'>__PYX_ERR(0, 2472, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_savepath); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2472, __pyx_L1_error)</span>
  if (__pyx_t_1) {
  } else {
    __pyx_t_9 = __pyx_t_1;
    goto __pyx_L11_bool_binop_done;
  }
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2472, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2472, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_exists);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2472, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_savepath};
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 2472, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_4); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2472, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_10 = (!__pyx_t_1);
  __pyx_t_9 = __pyx_t_10;
  __pyx_L11_bool_binop_done:;
  if (__pyx_t_9) {
/*  */
  }
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2473</span>:         os.makedirs(savepath)</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(2473,0,<span class='error_goto'>__PYX_ERR(0, 2473, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2473, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_makedirs);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2473, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_savepath};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 2473, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2474</span>: </pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2475</span>:     try:</pre>
<pre class='cython code score-10 '>  <span class='trace'>__Pyx_TraceLine</span>(2475,0,<span class='error_goto'>__PYX_ERR(0, 2475, __pyx_L1_error)</span>)
  {
    /*try:*/ {
/*  */
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
    goto __pyx_L18_try_end;
    __pyx_L13_error:;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_18); __pyx_t_18 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
/*  */
    __pyx_L15_except_error:;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
    <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_11, __pyx_t_12, __pyx_t_13);
    goto __pyx_L1_error;
    __pyx_L18_try_end:;
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2476</span>:         if to == 'pickle' or to is None:</pre>
<pre class='cython code score-2 '>      <span class='trace'>__Pyx_TraceLine</span>(2476,0,<span class='error_goto'>__PYX_ERR(0, 2476, __pyx_L13_error)</span>)
      __pyx_t_10 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_to, __pyx_n_u_pickle, Py_EQ)); if (unlikely((__pyx_t_10 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2476, __pyx_L13_error)</span>
      if (!__pyx_t_10) {
      } else {
        __pyx_t_9 = __pyx_t_10;
        goto __pyx_L20_bool_binop_done;
      }
      __pyx_t_10 = (__pyx_v_to == Py_None);
      __pyx_t_9 = __pyx_t_10;
      __pyx_L20_bool_binop_done:;
      if (__pyx_t_9) {
/*  */
        goto __pyx_L19;
      }
</pre><pre class="cython line score-71" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2477</span>:             with open(full_path, 'wb') as file:</pre>
<pre class='cython code score-71 '>        <span class='trace'>__Pyx_TraceLine</span>(2477,0,<span class='error_goto'>__PYX_ERR(0, 2477, __pyx_L13_error)</span>)
        /*with:*/ {
          __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2477, __pyx_L13_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_full_path);
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_full_path);
          if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_v_full_path)) <span class='error_goto'>__PYX_ERR(0, 2477, __pyx_L13_error)</span>;
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_wb);
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_wb);
          if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_n_u_wb)) <span class='error_goto'>__PYX_ERR(0, 2477, __pyx_L13_error)</span>;
          __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_open, __pyx_t_4, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2477, __pyx_L13_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
          __pyx_t_14 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_3, __pyx_n_s_exit);<span class='error_goto'> if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 2477, __pyx_L13_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_14);
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_3, __pyx_n_s_enter);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2477, __pyx_L22_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          __pyx_t_5 = NULL;
          __pyx_t_6 = 0;
          #if CYTHON_UNPACK_METHODS
          if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
            __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
            if (likely(__pyx_t_5)) {
              PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
              <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
              __pyx_t_6 = 1;
            }
          }
          #endif
          {
            PyObject *__pyx_callargs[2] = {__pyx_t_5, NULL};
            __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
            if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 2477, __pyx_L22_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          }
          __pyx_t_2 = __pyx_t_4;
          __pyx_t_4 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          /*try:*/ {
            {
              /*try:*/ {
                __pyx_v_file = __pyx_t_2;
                __pyx_t_2 = 0;
/*  */
              }
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_16); __pyx_t_16 = 0;
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_17); __pyx_t_17 = 0;
              goto __pyx_L31_try_end;
              __pyx_L26_error:;
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_18); __pyx_t_18 = 0;
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
              <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
              /*except:*/ {
                <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.serialize_data", __pyx_clineno, __pyx_lineno, __pyx_filename);
                if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_18, &amp;__pyx_t_4, &amp;__pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2477, __pyx_L28_except_error)</span>
                <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_18);
                <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_4);
                <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_2);
                __pyx_t_3 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_t_18, __pyx_t_4, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2477, __pyx_L28_except_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
                __pyx_t_19 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_14, __pyx_t_3, NULL);
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
                if (unlikely(!__pyx_t_19)) <span class='error_goto'>__PYX_ERR(0, 2477, __pyx_L28_except_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_19);
                __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_19);
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_19); __pyx_t_19 = 0;
                if (__pyx_t_9 &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2477, __pyx_L28_except_error)</span>
                __pyx_t_10 = (!__pyx_t_9);
                if (unlikely(__pyx_t_10)) {
                  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_18);
                  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
                  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_2);
                  <span class='pyx_c_api'>__Pyx_ErrRestoreWithState</span>(__pyx_t_18, __pyx_t_4, __pyx_t_2);
                  __pyx_t_18 = 0; __pyx_t_4 = 0; __pyx_t_2 = 0; 
                  <span class='error_goto'>__PYX_ERR(0, 2477, __pyx_L28_except_error)</span>
                }
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_18); __pyx_t_18 = 0;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
                goto __pyx_L27_exception_handled;
              }
              __pyx_L28_except_error:;
              <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_15);
              <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_16);
              <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_17);
              <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_15, __pyx_t_16, __pyx_t_17);
              goto __pyx_L13_error;
              __pyx_L27_exception_handled:;
              <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_15);
              <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_16);
              <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_17);
              <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_15, __pyx_t_16, __pyx_t_17);
              __pyx_L31_try_end:;
            }
          }
          /*finally:*/ {
            /*normal exit:*/{
              if (__pyx_t_14) {
                __pyx_t_17 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_14, __pyx_tuple__48, NULL);
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
                if (unlikely(!__pyx_t_17)) <span class='error_goto'>__PYX_ERR(0, 2477, __pyx_L13_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_17);
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_17); __pyx_t_17 = 0;
              }
              goto __pyx_L25;
            }
            __pyx_L25:;
          }
          goto __pyx_L35;
          __pyx_L22_error:;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
          goto __pyx_L13_error;
          __pyx_L35:;
        }
</pre><pre class="cython line score-35" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2478</span>:                 pickle.dump(data, file, protocol=pickle.HIGHEST_PROTOCOL)</pre>
<pre class='cython code score-35 '>                <span class='trace'>__Pyx_TraceLine</span>(2478,0,<span class='error_goto'>__PYX_ERR(0, 2478, __pyx_L26_error)</span>)
                <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_pickle);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2478, __pyx_L26_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
                __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_dump);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2478, __pyx_L26_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
                __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2478, __pyx_L26_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
                <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
                <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_data);
                if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_data)) <span class='error_goto'>__PYX_ERR(0, 2478, __pyx_L26_error)</span>;
                <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_file);
                <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_file);
                if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_v_file)) <span class='error_goto'>__PYX_ERR(0, 2478, __pyx_L26_error)</span>;
                __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2478, __pyx_L26_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
                <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_pickle);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2478, __pyx_L26_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
                __pyx_t_18 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_HIGHEST_PROTOCOL);<span class='error_goto'> if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 2478, __pyx_L26_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_18);
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
                if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_protocol, __pyx_t_18) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2478, __pyx_L26_error)</span>
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_18); __pyx_t_18 = 0;
                __pyx_t_18 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_2, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 2478, __pyx_L26_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_18);
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_18); __pyx_t_18 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2479</span>:             if verbose:</pre>
<pre class='cython code score-2 '>        <span class='trace'>__Pyx_TraceLine</span>(2479,0,<span class='error_goto'>__PYX_ERR(0, 2479, __pyx_L13_error)</span>)
        __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_verbose); if (unlikely((__pyx_t_10 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2479, __pyx_L13_error)</span>
        if (__pyx_t_10) {
/*  */
        }
</pre><pre class="cython line score-30" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2480</span>:                 print(f"Data serialized using pickle and saved to {full_path!r}.")</pre>
<pre class='cython code score-30 '>          <span class='trace'>__Pyx_TraceLine</span>(2480,0,<span class='error_goto'>__PYX_ERR(0, 2480, __pyx_L13_error)</span>)
          __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2480, __pyx_L13_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          __pyx_t_7 = 0;
          __pyx_t_8 = 127;
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Data_serialized_using_pickle_and);
          __pyx_t_7 += 42;
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Data_serialized_using_pickle_and);
          <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_kp_u_Data_serialized_using_pickle_and);
          __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_v_full_path), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2480, __pyx_L13_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
          __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_4) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_4) : __pyx_t_8;
          __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_4);
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
          <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_4);
          __pyx_t_4 = 0;
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__3);
          __pyx_t_7 += 1;
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__3);
          <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 2, __pyx_kp_u__3);
          __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_2, 3, __pyx_t_7, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2480, __pyx_L13_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_print, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2480, __pyx_L13_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2481</span>:         elif to == 'joblib':</pre>
<pre class='cython code score-2 '>      <span class='trace'>__Pyx_TraceLine</span>(2481,0,<span class='error_goto'>__PYX_ERR(0, 2481, __pyx_L13_error)</span>)
      __pyx_t_10 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_to, __pyx_n_u_joblib_2, Py_EQ)); if (unlikely((__pyx_t_10 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2481, __pyx_L13_error)</span>
      if (__pyx_t_10) {
/*  */
      }
      __pyx_L19:;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2482</span>:             joblib.dump(data, full_path)</pre>
<pre class='cython code score-20 '>        <span class='trace'>__Pyx_TraceLine</span>(2482,0,<span class='error_goto'>__PYX_ERR(0, 2482, __pyx_L13_error)</span>)
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_joblib_2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2482, __pyx_L13_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        __pyx_t_18 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_dump);<span class='error_goto'> if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 2482, __pyx_L13_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_18);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        __pyx_t_4 = NULL;
        __pyx_t_6 = 0;
        #if CYTHON_UNPACK_METHODS
        if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_18))) {
          __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_18);
          if (likely(__pyx_t_4)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_18);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_18, function);
            __pyx_t_6 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[3] = {__pyx_t_4, __pyx_v_data, __pyx_v_full_path};
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_18, __pyx_callargs+1-__pyx_t_6, 2+__pyx_t_6);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
          if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2482, __pyx_L13_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_18); __pyx_t_18 = 0;
        }
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2483</span>:             if verbose:</pre>
<pre class='cython code score-2 '>        <span class='trace'>__Pyx_TraceLine</span>(2483,0,<span class='error_goto'>__PYX_ERR(0, 2483, __pyx_L13_error)</span>)
        __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_verbose); if (unlikely((__pyx_t_10 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2483, __pyx_L13_error)</span>
        if (__pyx_t_10) {
/*  */
        }
</pre><pre class="cython line score-30" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2484</span>:                 print(f"Data serialized using joblib and saved to {full_path!r}.")</pre>
<pre class='cython code score-30 '>          <span class='trace'>__Pyx_TraceLine</span>(2484,0,<span class='error_goto'>__PYX_ERR(0, 2484, __pyx_L13_error)</span>)
          __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2484, __pyx_L13_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          __pyx_t_7 = 0;
          __pyx_t_8 = 127;
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Data_serialized_using_joblib_and);
          __pyx_t_7 += 42;
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Data_serialized_using_joblib_and);
          <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_kp_u_Data_serialized_using_joblib_and);
          __pyx_t_18 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_v_full_path), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 2484, __pyx_L13_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_18);
          __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_18) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_18) : __pyx_t_8;
          __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_18);
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_18);
          <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_18);
          __pyx_t_18 = 0;
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__3);
          __pyx_t_7 += 1;
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__3);
          <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 2, __pyx_kp_u__3);
          __pyx_t_18 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_2, 3, __pyx_t_7, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 2484, __pyx_L13_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_18);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_print, __pyx_t_18);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2484, __pyx_L13_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_18); __pyx_t_18 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2485</span>:     except Exception as e:</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(2485,0,<span class='error_goto'>__PYX_ERR(0, 2485, __pyx_L15_except_error)</span>)
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyErr_ExceptionMatches</span>(((PyObject *)(&amp;((PyTypeObject*)PyExc_Exception)[0])));
    if (__pyx_t_6) {
      <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.serialize_data", __pyx_clineno, __pyx_lineno, __pyx_filename);
      if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_2, &amp;__pyx_t_18, &amp;__pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2485, __pyx_L15_except_error)</span>
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_2);
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_18);
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_18);
      __pyx_v_e = __pyx_t_18;
      /*try:*/ {
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(2485,0,<span class='error_goto'>__PYX_ERR(0, 2485, __pyx_L43_error)</span>)
      /*finally:*/ {
        __pyx_L43_error:;
        /*exception exit:*/{
          __Pyx_PyThreadState_declare
          __Pyx_PyThreadState_assign
          __pyx_t_14 = 0; __pyx_t_17 = 0; __pyx_t_16 = 0; __pyx_t_15 = 0; __pyx_t_19 = 0; __pyx_t_22 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
          if (PY_MAJOR_VERSION &gt;= 3) <span class='pyx_c_api'>__Pyx_ExceptionSwap</span>(&amp;__pyx_t_15, &amp;__pyx_t_19, &amp;__pyx_t_22);
          if ((PY_MAJOR_VERSION &lt; 3) || unlikely(<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_14, &amp;__pyx_t_17, &amp;__pyx_t_16) &lt; 0)) <span class='pyx_c_api'>__Pyx_ErrFetch</span>(&amp;__pyx_t_14, &amp;__pyx_t_17, &amp;__pyx_t_16);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_14);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_17);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_16);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_15);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_19);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_22);
          __pyx_t_6 = __pyx_lineno; __pyx_t_20 = __pyx_clineno; __pyx_t_21 = __pyx_filename;
          {
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_e); __pyx_v_e = 0;
          }
          if (PY_MAJOR_VERSION &gt;= 3) {
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_15);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_19);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_22);
            <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_15, __pyx_t_19, __pyx_t_22);
          }
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_14);
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_17);
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_16);
          <span class='pyx_c_api'>__Pyx_ErrRestore</span>(__pyx_t_14, __pyx_t_17, __pyx_t_16);
          __pyx_t_14 = 0; __pyx_t_17 = 0; __pyx_t_16 = 0; __pyx_t_15 = 0; __pyx_t_19 = 0; __pyx_t_22 = 0;
          __pyx_lineno = __pyx_t_6; __pyx_clineno = __pyx_t_20; __pyx_filename = __pyx_t_21;
          goto __pyx_L15_except_error;
        }
      }
    }
    goto __pyx_L15_except_error;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2486</span>:         raise IOError(f"An error occurred during data serialization: {e}")</pre>
<pre class='cython code score-11 '>        <span class='trace'>__Pyx_TraceLine</span>(2486,0,<span class='error_goto'>__PYX_ERR(0, 2486, __pyx_L43_error)</span>)
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_e, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2486, __pyx_L43_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_kp_u_An_error_occurred_during_data_se, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2486, __pyx_L43_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_IOError, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2486, __pyx_L43_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_3, 0, 0, 0);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        <span class='error_goto'>__PYX_ERR(0, 2486, __pyx_L43_error)</span>
      }
</pre><pre class="cython line score-0">&#xA0;<span class="">2487</span>: </pre>
<pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2488</span>:     return full_path</pre>
<pre class='cython code score-9 '>  <span class='trace'>__Pyx_TraceLine</span>(2488,0,<span class='error_goto'>__PYX_ERR(0, 2488, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  if (!(likely(<span class='py_c_api'>PyUnicode_CheckExact</span>(__pyx_v_full_path))||((__pyx_v_full_path) == Py_None) || <span class='pyx_c_api'>__Pyx_RaiseUnexpectedTypeError</span>("unicode", __pyx_v_full_path))) <span class='error_goto'>__PYX_ERR(0, 2488, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_full_path);
  __pyx_r = ((PyObject*)__pyx_v_full_path);
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2489</span>: </pre>
<pre class="cython line score-142" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2490</span>: def deserialize_data(filename: str, verbose: int = 0) -&gt; Any:</pre>
<pre class='cython code score-142 '>static PyObject *__pyx_pf_6gofast_5tools_7mlutils_121__defaults__(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceCall</span>("__defaults__", __pyx_f[0], 2490, 0, <span class='error_goto'>__PYX_ERR(0, 2490, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2490, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(<span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults5, __pyx_self)-&gt;__pyx_arg_verbose);
  <span class='refnanny'>__Pyx_GIVEREF</span>(<span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults5, __pyx_self)-&gt;__pyx_arg_verbose);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults5, __pyx_self)-&gt;__pyx_arg_verbose)) <span class='error_goto'>__PYX_ERR(0, 2490, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2490, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2490, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, Py_None)) <span class='error_goto'>__PYX_ERR(0, 2490, __pyx_L1_error)</span>;
  __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.__defaults__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_57deserialize_data(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_56deserialize_data, "\n    Deserialize and load data from a serialized file using joblib or pickle.\n\n    Parameters\n    ----------\n    filename : str\n        The name or path of the file containing the serialized data.\n\n    verbose : int, optional\n        Verbosity level. More messages are displayed for values greater \n        than 0.\n\n    Returns\n    -------\n    Any\n        The data loaded from the serialized file.\n\n    Raises\n    ------\n    TypeError\n        If 'filename' is not a string.\n\n    FileNotFoundError\n        If the specified file does not exist.\n\n    Examples\n    --------\n    &gt;&gt;&gt; data = deserialize_data('path/to/serialized_data.pkl')\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_57deserialize_data = {"deserialize_data", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_57deserialize_data, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_56deserialize_data};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_57deserialize_data(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_filename = 0;
  PyObject *__pyx_v_verbose = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("deserialize_data (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_filename,&amp;__pyx_n_s_verbose,0};
  PyObject* values[2] = {0,0};
    __pyx_defaults5 *__pyx_dynamic_args = <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults5, __pyx_self);
    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(__pyx_dynamic_args-&gt;__pyx_arg_verbose);
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_filename)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2490, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_verbose);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2490, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "deserialize_data") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2490, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_filename = ((PyObject*)values[0]);
    __pyx_v_verbose = ((PyObject*)values[1]);
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("deserialize_data", 0, 1, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2490, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.deserialize_data", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_filename), (&amp;PyUnicode_Type), 0, "filename", 1))) <span class='error_goto'>__PYX_ERR(0, 2490, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_verbose), (&amp;PyInt_Type), 0, "verbose", 1))) <span class='error_goto'>__PYX_ERR(0, 2490, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_56deserialize_data(__pyx_self, __pyx_v_filename, __pyx_v_verbose);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_56deserialize_data(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_filename, PyObject *__pyx_v_verbose) {
  PyObject *__pyx_v_data = NULL;
  PyObject *__pyx_v_joblib_error = NULL;
  PyObject *__pyx_v_file = NULL;
  PyObject *__pyx_v_pickle_error = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__79)
  <span class='trace'>__Pyx_TraceCall</span>("deserialize_data", __pyx_f[0], 2490, 0, <span class='error_goto'>__PYX_ERR(0, 2490, __pyx_L1_error)</span>);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_15);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_16);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_18);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_19);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_24);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.deserialize_data", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_data);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_joblib_error);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_file);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_pickle_error);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__172 = <span class='py_c_api'>PyTuple_Pack</span>(6, __pyx_n_s_filename, __pyx_n_s_verbose, __pyx_n_s_data, __pyx_n_s_joblib_error, __pyx_n_s_file, __pyx_n_s_pickle_error);<span class='error_goto'> if (unlikely(!__pyx_tuple__172)) __PYX_ERR(0, 2490, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__172);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__172);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2490,0,<span class='error_goto'>__PYX_ERR(0, 2490, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2490, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_filename, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2490, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_verbose, __pyx_n_s_int) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2490, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return, __pyx_n_s_Any) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2490, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_57deserialize_data, 0, __pyx_n_s_deserialize_data, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__79));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2490, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (!<span class='pyx_c_api'>__Pyx_CyFunction_InitDefaults</span>(__pyx_t_4, sizeof(__pyx_defaults5), 1)) <span class='error_goto'>__PYX_ERR(0, 2490, __pyx_L1_error)</span>
  if (!(likely(__Pyx_Py3Int_CheckExact(__pyx_int_0)) || <span class='pyx_c_api'>__Pyx_RaiseUnexpectedTypeError</span>("int", __pyx_int_0))) <span class='error_goto'>__PYX_ERR(0, 2490, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_int_0);
  <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults5, __pyx_t_4)-&gt;__pyx_arg_verbose = ((PyObject*)__pyx_int_0);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_int_0);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsGetter</span>(__pyx_t_4, __pyx_pf_6gofast_5tools_7mlutils_121__defaults__);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_4, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_deserialize_data, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2490, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_codeobj__79 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(2, 0, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__172, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_deserialize_data, 2490, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__79)) __PYX_ERR(0, 2490, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2491</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2492</span>:     Deserialize and load data from a serialized file using joblib or pickle.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2493</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2494</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">2495</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2496</span>:     filename : str</pre>
<pre class="cython line score-0">&#xA0;<span class="">2497</span>:         The name or path of the file containing the serialized data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2498</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2499</span>:     verbose : int, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2500</span>:         Verbosity level. More messages are displayed for values greater</pre>
<pre class="cython line score-0">&#xA0;<span class="">2501</span>:         than 0.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2502</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2503</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">2504</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2505</span>:     Any</pre>
<pre class="cython line score-0">&#xA0;<span class="">2506</span>:         The data loaded from the serialized file.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2507</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2508</span>:     Raises</pre>
<pre class="cython line score-0">&#xA0;<span class="">2509</span>:     ------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2510</span>:     TypeError</pre>
<pre class="cython line score-0">&#xA0;<span class="">2511</span>:         If 'filename' is not a string.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2512</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2513</span>:     FileNotFoundError</pre>
<pre class="cython line score-0">&#xA0;<span class="">2514</span>:         If the specified file does not exist.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2515</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2516</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">2517</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2518</span>:     &gt;&gt;&gt; data = deserialize_data('path/to/serialized_data.pkl')</pre>
<pre class="cython line score-0">&#xA0;<span class="">2519</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2520</span>: </pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2521</span>:     if not isinstance(filename, str):</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(2521,0,<span class='error_goto'>__PYX_ERR(0, 2521, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_filename); 
  __pyx_t_2 = (!__pyx_t_1);
  if (unlikely(__pyx_t_2)) {
/*  */
  }
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2522</span>:         raise TypeError("Expected 'filename' to be a string,"</pre>
<pre class='cython code score-16 '>    <span class='trace'>__Pyx_TraceLine</span>(2522,0,<span class='error_goto'>__PYX_ERR(0, 2522, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2522, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_4 = 0;
    __pyx_t_5 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Expected_filename_to_be_a_string);
    __pyx_t_4 += 40;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Expected_filename_to_be_a_string);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_kp_u_Expected_filename_to_be_a_string);
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(2522,0,<span class='error_goto'>__PYX_ERR(0, 2522, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_3, 3, __pyx_t_4, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2522, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_TypeError, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2522, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_3, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='error_goto'>__PYX_ERR(0, 2522, __pyx_L1_error)</span>
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2523</span>:                         f" got {type(filename)} instead.")</pre>
<pre class='cython code score-11 '>    <span class='trace'>__Pyx_TraceLine</span>(2523,0,<span class='error_goto'>__PYX_ERR(0, 2523, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(((PyObject *)Py_TYPE(__pyx_v_filename)), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2523, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_6) &gt; __pyx_t_5) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_6) : __pyx_t_5;
    __pyx_t_4 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_6);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_6);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_t_6);
    __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_instead);
    __pyx_t_4 += 9;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_instead);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 2, __pyx_kp_u_instead);
</pre><pre class="cython line score-0">&#xA0;<span class="">2524</span>: </pre>
<pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2525</span>:     if not os.path.isfile(filename):</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(2525,0,<span class='error_goto'>__PYX_ERR(0, 2525, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2525, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2525, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_7, __pyx_n_s_isfile);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2525, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  __pyx_t_7 = NULL;
  __pyx_t_8 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
    __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
    if (likely(__pyx_t_7)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
      __pyx_t_8 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_7, __pyx_v_filename};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 2525, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  }
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_3); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2525, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_1 = (!__pyx_t_2);
  if (unlikely(__pyx_t_1)) {
/*  */
  }
</pre><pre class="cython line score-35" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2526</span>:         raise FileNotFoundError(f"File {filename!r} does not exist.")</pre>
<pre class='cython code score-35 '>    <span class='trace'>__Pyx_TraceLine</span>(2526,0,<span class='error_goto'>__PYX_ERR(0, 2526, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_FileNotFoundError);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2526, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2526, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_4 = 0;
    __pyx_t_5 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_File);
    __pyx_t_4 += 5;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_File);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_kp_u_File);
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_v_filename), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2526, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_7) &gt; __pyx_t_5) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_7) : __pyx_t_5;
    __pyx_t_4 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_7);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_7);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_6, 1, __pyx_t_7);
    __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_does_not_exist_2);
    __pyx_t_4 += 16;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_does_not_exist_2);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_6, 2, __pyx_kp_u_does_not_exist_2);
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_6, 3, __pyx_t_4, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2526, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_t_3, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2526, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_6, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='error_goto'>__PYX_ERR(0, 2526, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2527</span>: </pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2528</span>:     try:</pre>
<pre class='cython code score-10 '>  <span class='trace'>__Pyx_TraceLine</span>(2528,0,<span class='error_goto'>__PYX_ERR(0, 2528, __pyx_L1_error)</span>)
  {
    /*try:*/ {
/*  */
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
    goto __pyx_L10_try_end;
    __pyx_L5_error:;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
/*  */
    __pyx_L7_except_error:;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_9);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_10);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
    <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_9, __pyx_t_10, __pyx_t_11);
    goto __pyx_L1_error;
    __pyx_L6_exception_handled:;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_9);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_10);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
    <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_9, __pyx_t_10, __pyx_t_11);
    __pyx_L10_try_end:;
  }
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2529</span>:         data = joblib.load(filename)</pre>
<pre class='cython code score-19 '>      <span class='trace'>__Pyx_TraceLine</span>(2529,0,<span class='error_goto'>__PYX_ERR(0, 2529, __pyx_L5_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_7, __pyx_n_s_joblib_2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2529, __pyx_L5_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_7, __pyx_n_s_load);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2529, __pyx_L5_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      __pyx_t_7 = NULL;
      __pyx_t_8 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
        __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
        if (likely(__pyx_t_7)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
          __pyx_t_8 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_7, __pyx_v_filename};
        __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 2529, __pyx_L5_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      }
      __pyx_v_data = __pyx_t_6;
      __pyx_t_6 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2530</span>:         if verbose:</pre>
<pre class='cython code score-2 '>      <span class='trace'>__Pyx_TraceLine</span>(2530,0,<span class='error_goto'>__PYX_ERR(0, 2530, __pyx_L5_error)</span>)
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_verbose); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2530, __pyx_L5_error)</span>
      if (__pyx_t_1) {
/*  */
      }
</pre><pre class="cython line score-30" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2531</span>:             print(f"Data loaded successfully from {filename!r} using joblib.")</pre>
<pre class='cython code score-30 '>        <span class='trace'>__Pyx_TraceLine</span>(2531,0,<span class='error_goto'>__PYX_ERR(0, 2531, __pyx_L5_error)</span>)
        __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2531, __pyx_L5_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
        __pyx_t_4 = 0;
        __pyx_t_5 = 127;
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Data_loaded_successfully_from);
        __pyx_t_4 += 30;
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Data_loaded_successfully_from);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_kp_u_Data_loaded_successfully_from);
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_v_filename), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2531, __pyx_L5_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_3) &gt; __pyx_t_5) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_3) : __pyx_t_5;
        __pyx_t_4 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_3);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_6, 1, __pyx_t_3);
        __pyx_t_3 = 0;
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_using_joblib);
        __pyx_t_4 += 14;
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_using_joblib);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_6, 2, __pyx_kp_u_using_joblib);
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_6, 3, __pyx_t_4, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2531, __pyx_L5_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
        __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_print, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2531, __pyx_L5_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
</pre><pre class="cython line score-27" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2532</span>:     except Exception as joblib_error:</pre>
<pre class='cython code score-27 '>    <span class='trace'>__Pyx_TraceLine</span>(2532,0,<span class='error_goto'>__PYX_ERR(0, 2532, __pyx_L7_except_error)</span>)
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyErr_ExceptionMatches</span>(((PyObject *)(&amp;((PyTypeObject*)PyExc_Exception)[0])));
    if (__pyx_t_8) {
      <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.deserialize_data", __pyx_clineno, __pyx_lineno, __pyx_filename);
      if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_6, &amp;__pyx_t_3, &amp;__pyx_t_7) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2532, __pyx_L7_except_error)</span>
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_6);
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      __pyx_v_joblib_error = __pyx_t_3;
      /*try:*/ {
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(2532,0,<span class='error_goto'>__PYX_ERR(0, 2532, __pyx_L17_error)</span>)
      /*finally:*/ {
        /*normal exit:*/{
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_joblib_error); __pyx_v_joblib_error = 0;
          goto __pyx_L18;
        }
        __pyx_L17_error:;
        /*exception exit:*/{
          __Pyx_PyThreadState_declare
          __Pyx_PyThreadState_assign
          __pyx_t_14 = 0; __pyx_t_13 = 0; __pyx_t_12 = 0; __pyx_t_27 = 0; __pyx_t_23 = 0; __pyx_t_20 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_16); __pyx_t_16 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_18); __pyx_t_18 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_19); __pyx_t_19 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_24); __pyx_t_24 = 0;
          if (PY_MAJOR_VERSION &gt;= 3) <span class='pyx_c_api'>__Pyx_ExceptionSwap</span>(&amp;__pyx_t_27, &amp;__pyx_t_23, &amp;__pyx_t_20);
          if ((PY_MAJOR_VERSION &lt; 3) || unlikely(<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_14, &amp;__pyx_t_13, &amp;__pyx_t_12) &lt; 0)) <span class='pyx_c_api'>__Pyx_ErrFetch</span>(&amp;__pyx_t_14, &amp;__pyx_t_13, &amp;__pyx_t_12);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_14);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_13);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_12);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_27);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_23);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_20);
          __pyx_t_25 = __pyx_lineno; __pyx_t_8 = __pyx_clineno; __pyx_t_28 = __pyx_filename;
          {
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_joblib_error); __pyx_v_joblib_error = 0;
          }
          if (PY_MAJOR_VERSION &gt;= 3) {
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_27);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_23);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_20);
            <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_27, __pyx_t_23, __pyx_t_20);
          }
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_14);
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
          <span class='pyx_c_api'>__Pyx_ErrRestore</span>(__pyx_t_14, __pyx_t_13, __pyx_t_12);
          __pyx_t_14 = 0; __pyx_t_13 = 0; __pyx_t_12 = 0; __pyx_t_27 = 0; __pyx_t_23 = 0; __pyx_t_20 = 0;
          __pyx_lineno = __pyx_t_25; __pyx_clineno = __pyx_t_8; __pyx_filename = __pyx_t_28;
          goto __pyx_L7_except_error;
        }
        __pyx_L18:;
      }
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      goto __pyx_L6_exception_handled;
    }
    goto __pyx_L7_except_error;
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2533</span>:         try:</pre>
<pre class='cython code score-9 '>        <span class='trace'>__Pyx_TraceLine</span>(2533,0,<span class='error_goto'>__PYX_ERR(0, 2533, __pyx_L17_error)</span>)
        {
          /*try:*/ {
/*  */
          }
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
          goto __pyx_L26_try_end;
          __pyx_L19_error:;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_16); __pyx_t_16 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_18); __pyx_t_18 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_19); __pyx_t_19 = 0;
/*  */
          __pyx_L21_except_error:;
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
          <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_14);
          <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_12, __pyx_t_13, __pyx_t_14);
          goto __pyx_L17_error;
          __pyx_L26_try_end:;
        }
      }
</pre><pre class="cython line score-70" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2534</span>:             with open(filename, 'rb') as file:</pre>
<pre class='cython code score-70 '>            <span class='trace'>__Pyx_TraceLine</span>(2534,0,<span class='error_goto'>__PYX_ERR(0, 2534, __pyx_L19_error)</span>)
            /*with:*/ {
              __pyx_t_15 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 2534, __pyx_L19_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_15);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_filename);
              <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_filename);
              if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_15, 0, __pyx_v_filename)) <span class='error_goto'>__PYX_ERR(0, 2534, __pyx_L19_error)</span>;
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_rb);
              <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_rb);
              if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_15, 1, __pyx_n_u_rb)) <span class='error_goto'>__PYX_ERR(0, 2534, __pyx_L19_error)</span>;
              __pyx_t_16 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_open, __pyx_t_15, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 2534, __pyx_L19_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_16);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
              __pyx_t_17 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_16, __pyx_n_s_exit);<span class='error_goto'> if (unlikely(!__pyx_t_17)) __PYX_ERR(0, 2534, __pyx_L19_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_17);
              __pyx_t_18 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_16, __pyx_n_s_enter);<span class='error_goto'> if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 2534, __pyx_L27_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_18);
              __pyx_t_19 = NULL;
              __pyx_t_8 = 0;
              #if CYTHON_UNPACK_METHODS
              if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_18))) {
                __pyx_t_19 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_18);
                if (likely(__pyx_t_19)) {
                  PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_18);
                  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_19);
                  <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
                  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_18, function);
                  __pyx_t_8 = 1;
                }
              }
              #endif
              {
                PyObject *__pyx_callargs[2] = {__pyx_t_19, NULL};
                __pyx_t_15 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_18, __pyx_callargs+1-__pyx_t_8, 0+__pyx_t_8);
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_19); __pyx_t_19 = 0;
                if (unlikely(!__pyx_t_15)) <span class='error_goto'>__PYX_ERR(0, 2534, __pyx_L27_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_15);
                <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_18); __pyx_t_18 = 0;
              }
              __pyx_t_18 = __pyx_t_15;
              __pyx_t_15 = 0;
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_16); __pyx_t_16 = 0;
              /*try:*/ {
                {
                  /*try:*/ {
                    __pyx_v_file = __pyx_t_18;
                    __pyx_t_18 = 0;
/*  */
                  }
                  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_20); __pyx_t_20 = 0;
                  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_21); __pyx_t_21 = 0;
                  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_22); __pyx_t_22 = 0;
                  goto __pyx_L40_try_end;
                  __pyx_L33_error:;
                  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
                  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_16); __pyx_t_16 = 0;
                  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_18); __pyx_t_18 = 0;
                  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_19); __pyx_t_19 = 0;
                  /*except:*/ {
                    <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.deserialize_data", __pyx_clineno, __pyx_lineno, __pyx_filename);
                    if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_18, &amp;__pyx_t_15, &amp;__pyx_t_16) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2534, __pyx_L35_except_error)</span>
                    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_18);
                    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_15);
                    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_16);
                    __pyx_t_19 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_t_18, __pyx_t_15, __pyx_t_16);<span class='error_goto'> if (unlikely(!__pyx_t_19)) __PYX_ERR(0, 2534, __pyx_L35_except_error)</span>
                    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_19);
                    __pyx_t_23 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_17, __pyx_t_19, NULL);
                    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_17); __pyx_t_17 = 0;
                    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_19); __pyx_t_19 = 0;
                    if (unlikely(!__pyx_t_23)) <span class='error_goto'>__PYX_ERR(0, 2534, __pyx_L35_except_error)</span>
                    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_23);
                    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_23);
                    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_23); __pyx_t_23 = 0;
                    if (__pyx_t_1 &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2534, __pyx_L35_except_error)</span>
                    __pyx_t_2 = (!__pyx_t_1);
                    if (unlikely(__pyx_t_2)) {
                      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_18);
                      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_15);
                      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_16);
                      <span class='pyx_c_api'>__Pyx_ErrRestoreWithState</span>(__pyx_t_18, __pyx_t_15, __pyx_t_16);
                      __pyx_t_18 = 0; __pyx_t_15 = 0; __pyx_t_16 = 0; 
                      <span class='error_goto'>__PYX_ERR(0, 2534, __pyx_L35_except_error)</span>
                    }
                    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_18); __pyx_t_18 = 0;
                    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
                    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_16); __pyx_t_16 = 0;
                    goto __pyx_L34_exception_handled;
                  }
                  __pyx_L35_except_error:;
                  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_20);
                  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_21);
                  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_22);
                  <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_20, __pyx_t_21, __pyx_t_22);
                  goto __pyx_L19_error;
                  __pyx_L34_exception_handled:;
                  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_20);
                  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_21);
                  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_22);
                  <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_20, __pyx_t_21, __pyx_t_22);
                  __pyx_L40_try_end:;
                }
              }
              /*finally:*/ {
                /*normal exit:*/{
                  if (__pyx_t_17) {
                    __pyx_t_22 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_17, __pyx_tuple__48, NULL);
                    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_17); __pyx_t_17 = 0;
                    if (unlikely(!__pyx_t_22)) <span class='error_goto'>__PYX_ERR(0, 2534, __pyx_L19_error)</span>
                    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_22);
                    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_22); __pyx_t_22 = 0;
                  }
                  goto __pyx_L32;
                }
                __pyx_L32:;
              }
              goto __pyx_L44;
              __pyx_L27_error:;
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_17); __pyx_t_17 = 0;
              goto __pyx_L19_error;
              __pyx_L44:;
            }
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2535</span>:                 data = pickle.load(file)</pre>
<pre class='cython code score-20 '>                    <span class='trace'>__Pyx_TraceLine</span>(2535,0,<span class='error_goto'>__PYX_ERR(0, 2535, __pyx_L33_error)</span>)
                    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_16, __pyx_n_s_pickle);<span class='error_goto'> if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 2535, __pyx_L33_error)</span>
                    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_16);
                    __pyx_t_15 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_16, __pyx_n_s_load);<span class='error_goto'> if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 2535, __pyx_L33_error)</span>
                    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_15);
                    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_16); __pyx_t_16 = 0;
                    __pyx_t_16 = NULL;
                    __pyx_t_8 = 0;
                    #if CYTHON_UNPACK_METHODS
                    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_15))) {
                      __pyx_t_16 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_15);
                      if (likely(__pyx_t_16)) {
                        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_15);
                        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_16);
                        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
                        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_15, function);
                        __pyx_t_8 = 1;
                      }
                    }
                    #endif
                    {
                      PyObject *__pyx_callargs[2] = {__pyx_t_16, __pyx_v_file};
                      __pyx_t_18 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_15, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
                      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_16); __pyx_t_16 = 0;
                      if (unlikely(!__pyx_t_18)) <span class='error_goto'>__PYX_ERR(0, 2535, __pyx_L33_error)</span>
                      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_18);
                      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
                    }
                    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_data, __pyx_t_18);
                    __pyx_t_18 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2536</span>:             if verbose:</pre>
<pre class='cython code score-2 '>            <span class='trace'>__Pyx_TraceLine</span>(2536,0,<span class='error_goto'>__PYX_ERR(0, 2536, __pyx_L19_error)</span>)
            __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_verbose); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2536, __pyx_L19_error)</span>
            if (__pyx_t_2) {
/*  */
            }
</pre><pre class="cython line score-30" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2537</span>:                 print(f"Data loaded successfully from {filename!r} using pickle.")</pre>
<pre class='cython code score-30 '>              <span class='trace'>__Pyx_TraceLine</span>(2537,0,<span class='error_goto'>__PYX_ERR(0, 2537, __pyx_L19_error)</span>)
              __pyx_t_16 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 2537, __pyx_L19_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_16);
              __pyx_t_4 = 0;
              __pyx_t_5 = 127;
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Data_loaded_successfully_from);
              __pyx_t_4 += 30;
              <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Data_loaded_successfully_from);
              <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_16, 0, __pyx_kp_u_Data_loaded_successfully_from);
              __pyx_t_15 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_v_filename), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 2537, __pyx_L19_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_15);
              __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_15) &gt; __pyx_t_5) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_15) : __pyx_t_5;
              __pyx_t_4 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_15);
              <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_15);
              <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_16, 1, __pyx_t_15);
              __pyx_t_15 = 0;
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_using_pickle);
              __pyx_t_4 += 14;
              <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_using_pickle);
              <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_16, 2, __pyx_kp_u_using_pickle);
              __pyx_t_15 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_16, 3, __pyx_t_4, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 2537, __pyx_L19_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_15);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_16); __pyx_t_16 = 0;
              __pyx_t_16 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_print, __pyx_t_15);<span class='error_goto'> if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 2537, __pyx_L19_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_16);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_16); __pyx_t_16 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2538</span>:         except Exception as pickle_error:</pre>
<pre class='cython code score-20 '>          <span class='trace'>__Pyx_TraceLine</span>(2538,0,<span class='error_goto'>__PYX_ERR(0, 2538, __pyx_L21_except_error)</span>)
          __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyErr_ExceptionMatches</span>(((PyObject *)(&amp;((PyTypeObject*)PyExc_Exception)[0])));
          if (__pyx_t_8) {
            <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.deserialize_data", __pyx_clineno, __pyx_lineno, __pyx_filename);
            if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_16, &amp;__pyx_t_15, &amp;__pyx_t_18) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2538, __pyx_L21_except_error)</span>
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_16);
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_15);
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_18);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_15);
            __pyx_v_pickle_error = __pyx_t_15;
            /*try:*/ {
/*  */
            <span class='trace'>__Pyx_TraceLine</span>(2538,0,<span class='error_goto'>__PYX_ERR(0, 2538, __pyx_L51_error)</span>)
            /*finally:*/ {
              __pyx_L51_error:;
              /*exception exit:*/{
                __Pyx_PyThreadState_declare
                __Pyx_PyThreadState_assign
                __pyx_t_17 = 0; __pyx_t_22 = 0; __pyx_t_21 = 0; __pyx_t_20 = 0; __pyx_t_23 = 0; __pyx_t_27 = 0;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_19); __pyx_t_19 = 0;
                <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_24); __pyx_t_24 = 0;
                if (PY_MAJOR_VERSION &gt;= 3) <span class='pyx_c_api'>__Pyx_ExceptionSwap</span>(&amp;__pyx_t_20, &amp;__pyx_t_23, &amp;__pyx_t_27);
                if ((PY_MAJOR_VERSION &lt; 3) || unlikely(<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_17, &amp;__pyx_t_22, &amp;__pyx_t_21) &lt; 0)) <span class='pyx_c_api'>__Pyx_ErrFetch</span>(&amp;__pyx_t_17, &amp;__pyx_t_22, &amp;__pyx_t_21);
                <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_17);
                <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_22);
                <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_21);
                <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_20);
                <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_23);
                <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_27);
                __pyx_t_8 = __pyx_lineno; __pyx_t_25 = __pyx_clineno; __pyx_t_26 = __pyx_filename;
                {
                  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_pickle_error); __pyx_v_pickle_error = 0;
                }
                if (PY_MAJOR_VERSION &gt;= 3) {
                  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_20);
                  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_23);
                  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_27);
                  <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_20, __pyx_t_23, __pyx_t_27);
                }
                <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_17);
                <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_22);
                <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_21);
                <span class='pyx_c_api'>__Pyx_ErrRestore</span>(__pyx_t_17, __pyx_t_22, __pyx_t_21);
                __pyx_t_17 = 0; __pyx_t_22 = 0; __pyx_t_21 = 0; __pyx_t_20 = 0; __pyx_t_23 = 0; __pyx_t_27 = 0;
                __pyx_lineno = __pyx_t_8; __pyx_clineno = __pyx_t_25; __pyx_filename = __pyx_t_26;
                goto __pyx_L21_except_error;
              }
            }
          }
          goto __pyx_L21_except_error;
</pre><pre class="cython line score-32" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2539</span>:             raise IOError(f"Failed to load data from {filename!r}. "</pre>
<pre class='cython code score-32 '>              <span class='trace'>__Pyx_TraceLine</span>(2539,0,<span class='error_goto'>__PYX_ERR(0, 2539, __pyx_L51_error)</span>)
              __pyx_t_19 = <span class='py_c_api'>PyTuple_New</span>(6);<span class='error_goto'> if (unlikely(!__pyx_t_19)) __PYX_ERR(0, 2539, __pyx_L51_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_19);
              __pyx_t_4 = 0;
              __pyx_t_5 = 127;
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Failed_to_load_data_from);
              __pyx_t_4 += 25;
              <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Failed_to_load_data_from);
              <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_19, 0, __pyx_kp_u_Failed_to_load_data_from);
              __pyx_t_24 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_v_filename), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_24)) __PYX_ERR(0, 2539, __pyx_L51_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_24);
              __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_24) &gt; __pyx_t_5) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_24) : __pyx_t_5;
              __pyx_t_4 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_24);
              <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_24);
              <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_19, 1, __pyx_t_24);
              __pyx_t_24 = 0;
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Joblib_error);
              __pyx_t_4 += 16;
              <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Joblib_error);
              <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_19, 2, __pyx_kp_u_Joblib_error);
/*  */
              <span class='trace'>__Pyx_TraceLine</span>(2539,0,<span class='error_goto'>__PYX_ERR(0, 2539, __pyx_L51_error)</span>)
              __pyx_t_24 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_19, 6, __pyx_t_4, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_24)) __PYX_ERR(0, 2539, __pyx_L51_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_24);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_19); __pyx_t_19 = 0;
              __pyx_t_19 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_IOError, __pyx_t_24);<span class='error_goto'> if (unlikely(!__pyx_t_19)) __PYX_ERR(0, 2539, __pyx_L51_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_19);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_24); __pyx_t_24 = 0;
              <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_19, 0, 0, 0);
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_19); __pyx_t_19 = 0;
              <span class='error_goto'>__PYX_ERR(0, 2539, __pyx_L51_error)</span>
            }
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2540</span>:                           f"Joblib error: {joblib_error}, Pickle error: {pickle_error}")</pre>
<pre class='cython code score-20 '>              <span class='trace'>__Pyx_TraceLine</span>(2540,0,<span class='error_goto'>__PYX_ERR(0, 2540, __pyx_L51_error)</span>)
              __pyx_t_24 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_joblib_error, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_24)) __PYX_ERR(0, 2540, __pyx_L51_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_24);
              __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_24) &gt; __pyx_t_5) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_24) : __pyx_t_5;
              __pyx_t_4 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_24);
              <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_24);
              <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_19, 3, __pyx_t_24);
              __pyx_t_24 = 0;
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Pickle_error);
              __pyx_t_4 += 16;
              <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Pickle_error);
              <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_19, 4, __pyx_kp_u_Pickle_error);
              __pyx_t_24 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_pickle_error, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_24)) __PYX_ERR(0, 2540, __pyx_L51_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_24);
              __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_24) &gt; __pyx_t_5) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_24) : __pyx_t_5;
              __pyx_t_4 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_24);
              <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_24);
              <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_19, 5, __pyx_t_24);
              __pyx_t_24 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2541</span>:     if data is None:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(2541,0,<span class='error_goto'>__PYX_ERR(0, 2541, __pyx_L1_error)</span>)
  if (unlikely(!__pyx_v_data)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("data"); <span class='error_goto'>__PYX_ERR(0, 2541, __pyx_L1_error)</span> }
  __pyx_t_2 = (__pyx_v_data == Py_None);
  if (unlikely(__pyx_t_2)) {
/*  */
  }
</pre><pre class="cython line score-32" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2542</span>:         raise ValueError(f"Data in {filename!r} could not be deserialized."</pre>
<pre class='cython code score-32 '>    <span class='trace'>__Pyx_TraceLine</span>(2542,0,<span class='error_goto'>__PYX_ERR(0, 2542, __pyx_L1_error)</span>)
    __pyx_t_7 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2542, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_4 = 0;
    __pyx_t_5 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Data_in);
    __pyx_t_4 += 8;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Data_in);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_7, 0, __pyx_kp_u_Data_in);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_v_filename), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2542, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_3) &gt; __pyx_t_5) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_3) : __pyx_t_5;
    __pyx_t_4 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_3);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_7, 1, __pyx_t_3);
    __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_could_not_be_deserialized_The_f);
    __pyx_t_4 += 54;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_could_not_be_deserialized_The_f);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_7, 2, __pyx_kp_u_could_not_be_deserialized_The_f);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_7, 3, __pyx_t_4, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2542, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2542, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_7, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    <span class='error_goto'>__PYX_ERR(0, 2542, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2543</span>:                          " The file may be corrupted.")</pre>
<pre class="cython line score-0">&#xA0;<span class="">2544</span>: </pre>
<pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2545</span>:     return data</pre>
<pre class='cython code score-4 '>  <span class='trace'>__Pyx_TraceLine</span>(2545,0,<span class='error_goto'>__PYX_ERR(0, 2545, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  if (unlikely(!__pyx_v_data)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("data"); <span class='error_goto'>__PYX_ERR(0, 2545, __pyx_L1_error)</span> }
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_data);
  __pyx_r = __pyx_v_data;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2546</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2547</span>: </pre>
<pre class="cython line score-87" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2548</span>: def subprocess_module_installation (module, upgrade =True ):</pre>
<pre class='cython code score-87 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_59subprocess_module_installation(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_58subprocess_module_installation, " Install  module using subprocess.\n    :param module: str, module name \n    :param upgrade:bool, install the lastest version.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_59subprocess_module_installation = {"subprocess_module_installation", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_59subprocess_module_installation, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_58subprocess_module_installation};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_59subprocess_module_installation(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_module = 0;
  PyObject *__pyx_v_upgrade = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("subprocess_module_installation (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_module,&amp;__pyx_n_s_upgrade,0};
  PyObject* values[2] = {0,0};
    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_True)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_module)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2548, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_upgrade);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2548, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "subprocess_module_installation") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2548, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_module = values[0];
    __pyx_v_upgrade = values[1];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("subprocess_module_installation", 0, 1, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2548, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.subprocess_module_installation", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_58subprocess_module_installation(__pyx_self, __pyx_v_module, __pyx_v_upgrade);

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_58subprocess_module_installation(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_module, PyObject *__pyx_v_upgrade) {
  PyObject *__pyx_v_sys = NULL;
  PyObject *__pyx_v_subprocess = NULL;
  int __pyx_v_MOD_IMP;
  PyObject *__pyx_v_cmd = NULL;
  PyObject *__pyx_v_reqs = NULL;
  PyObject *__pyx_8genexpr9__pyx_v_r = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__80)
  <span class='trace'>__Pyx_TraceCall</span>("subprocess_module_installation", __pyx_f[0], 2548, 0, <span class='error_goto'>__PYX_ERR(0, 2548, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_upgrade);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_15);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.subprocess_module_installation", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_sys);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_subprocess);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_cmd);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_reqs);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr9__pyx_v_r);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_upgrade);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__173 = <span class='py_c_api'>PyTuple_Pack</span>(8, __pyx_n_s_module, __pyx_n_s_upgrade, __pyx_n_s_sys, __pyx_n_s_subprocess, __pyx_n_s_MOD_IMP, __pyx_n_s_cmd, __pyx_n_s_reqs, __pyx_n_s_r);<span class='error_goto'> if (unlikely(!__pyx_tuple__173)) __PYX_ERR(0, 2548, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__173);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__173);
  __pyx_codeobj__80 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(2, 0, 0, 8, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__173, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_subprocess_module_installation, 2548, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__80)) __PYX_ERR(0, 2548, __pyx_L1_error)</span>
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2548,0,<span class='error_goto'>__PYX_ERR(0, 2548, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_59subprocess_module_installation, 0, __pyx_n_s_subprocess_module_installation, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__80));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2548, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_4, __pyx_tuple__174);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_subprocess_module_installation, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2548, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_tuple__174 = <span class='py_c_api'>PyTuple_Pack</span>(1, ((PyObject *)Py_True));<span class='error_goto'> if (unlikely(!__pyx_tuple__174)) __PYX_ERR(0, 2548, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__174);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__174);
</pre><pre class="cython line score-0">&#xA0;<span class="">2549</span>:     """ Install  module using subprocess.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2550</span>:     :param module: str, module name</pre>
<pre class="cython line score-0">&#xA0;<span class="">2551</span>:     :param upgrade:bool, install the lastest version.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2552</span>:     """</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2553</span>:     import sys</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(2553,0,<span class='error_goto'>__PYX_ERR(0, 2553, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_sys, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2553, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_sys = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2554</span>:     import subprocess</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(2554,0,<span class='error_goto'>__PYX_ERR(0, 2554, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_subprocess, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2554, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_subprocess = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2555</span>:     #implement pip as subprocess</pre>
<pre class="cython line score-0">&#xA0;<span class="">2556</span>:     # refer to https://pythongeeks.org/subprocess-in-python/</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2557</span>:     MOD_IMP=False</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(2557,0,<span class='error_goto'>__PYX_ERR(0, 2557, __pyx_L1_error)</span>)
  __pyx_v_MOD_IMP = 0;
</pre><pre class="cython line score-30" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2558</span>:     print(f'---&gt; Module {module!r} installation will take a while,'</pre>
<pre class='cython code score-30 '>  <span class='trace'>__Pyx_TraceLine</span>(2558,0,<span class='error_goto'>__PYX_ERR(0, 2558, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2558, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = 0;
  __pyx_t_3 = 127;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Module);
  __pyx_t_2 += 12;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Module);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_kp_u_Module);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_v_module), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2558, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_4) &gt; __pyx_t_3) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_4) : __pyx_t_3;
  __pyx_t_2 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_4);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_t_4);
  __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_installation_will_take_a_while);
  __pyx_t_2 += 53;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_installation_will_take_a_while);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 2, __pyx_kp_u_installation_will_take_a_while);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_1, 3, __pyx_t_2, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2558, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_print, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2558, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2559</span>:           ' please be patient...')</pre>
<pre class="cython line score-32" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2560</span>:     cmd = f'&lt;pip install {module}&gt; | &lt;python -m pip install {module}&gt;'</pre>
<pre class='cython code score-32 '>  <span class='trace'>__Pyx_TraceLine</span>(2560,0,<span class='error_goto'>__PYX_ERR(0, 2560, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2560, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = 0;
  __pyx_t_3 = 127;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_pip_install);
  __pyx_t_2 += 13;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_pip_install);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_kp_u_pip_install);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_module, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2560, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_4) &gt; __pyx_t_3) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_4) : __pyx_t_3;
  __pyx_t_2 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_4);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_t_4);
  __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_python_m_pip_install);
  __pyx_t_2 += 27;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_python_m_pip_install);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 2, __pyx_kp_u_python_m_pip_install);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_module, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2560, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_4) &gt; __pyx_t_3) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_4) : __pyx_t_3;
  __pyx_t_2 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_4);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 3, __pyx_t_4);
  __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__82);
  __pyx_t_2 += 1;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__82);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 4, __pyx_kp_u__82);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_1, 5, __pyx_t_2, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2560, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_cmd = ((PyObject*)__pyx_t_4);
  __pyx_t_4 = 0;
</pre><pre class="cython line score-13" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2561</span>:     try:</pre>
<pre class='cython code score-13 '>  <span class='trace'>__Pyx_TraceLine</span>(2561,0,<span class='error_goto'>__PYX_ERR(0, 2561, __pyx_L1_error)</span>)
  {
    /*try:*/ {
/*  */
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    goto __pyx_L8_try_end;
    __pyx_L3_error:;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
/*  */
    __pyx_L5_except_error:;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_5);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_6);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_7);
    <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_5, __pyx_t_6, __pyx_t_7);
    goto __pyx_L1_error;
    __pyx_L4_exception_handled:;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_5);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_6);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_7);
    <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_5, __pyx_t_6, __pyx_t_7);
    __pyx_L8_try_end:;
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">2562</span>: </pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2563</span>:         upgrade ='--upgrade' if upgrade else ''</pre>
<pre class='cython code score-5 '>      <span class='trace'>__Pyx_TraceLine</span>(2563,0,<span class='error_goto'>__PYX_ERR(0, 2563, __pyx_L3_error)</span>)
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_upgrade); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2563, __pyx_L3_error)</span>
      if (__pyx_t_8) {
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_upgrade_2);
        __pyx_t_4 = __pyx_kp_u_upgrade_2;
      } else {
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__12);
        __pyx_t_4 = __pyx_kp_u__12;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_upgrade, __pyx_t_4);
      __pyx_t_4 = 0;
</pre><pre class="cython line score-40" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2564</span>:         subprocess.check_call([sys.executable, '-m', 'pip', 'install',</pre>
<pre class='cython code score-40 '>      <span class='trace'>__Pyx_TraceLine</span>(2564,0,<span class='error_goto'>__PYX_ERR(0, 2564, __pyx_L3_error)</span>)
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_subprocess, __pyx_n_s_check_call);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2564, __pyx_L3_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_sys, __pyx_n_s_executable);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2564, __pyx_L3_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(2564,0,<span class='error_goto'>__PYX_ERR(0, 2564, __pyx_L3_error)</span>)
      __pyx_t_12 = <span class='py_c_api'>PyList_New</span>(6);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 2564, __pyx_L3_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_9);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_12, 0, __pyx_t_9)) <span class='error_goto'>__PYX_ERR(0, 2564, __pyx_L3_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_m);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_m);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_12, 1, __pyx_kp_u_m)) <span class='error_goto'>__PYX_ERR(0, 2564, __pyx_L3_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_pip);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_pip);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_12, 2, __pyx_n_u_pip)) <span class='error_goto'>__PYX_ERR(0, 2564, __pyx_L3_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_install);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_install);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_12, 3, __pyx_n_u_install)) <span class='error_goto'>__PYX_ERR(0, 2564, __pyx_L3_error)</span>;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_10);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_12, 4, __pyx_t_10)) <span class='error_goto'>__PYX_ERR(0, 2564, __pyx_L3_error)</span>;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_11);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_12, 5, __pyx_t_11)) <span class='error_goto'>__PYX_ERR(0, 2564, __pyx_L3_error)</span>;
      __pyx_t_9 = 0;
      __pyx_t_10 = 0;
      __pyx_t_11 = 0;
      __pyx_t_11 = NULL;
      __pyx_t_13 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
        __pyx_t_11 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
        if (likely(__pyx_t_11)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_11);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
          __pyx_t_13 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_11, __pyx_t_12};
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_13, 1+__pyx_t_13);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
        if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 2564, __pyx_L3_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2565</span>:         f'{module}', f'{upgrade}'])</pre>
<pre class='cython code score-4 '>      <span class='trace'>__Pyx_TraceLine</span>(2565,0,<span class='error_goto'>__PYX_ERR(0, 2565, __pyx_L3_error)</span>)
      __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_module, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2565, __pyx_L3_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
      __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_upgrade, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2565, __pyx_L3_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
</pre><pre class="cython line score-35" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2566</span>:         reqs = subprocess.check_output([sys.executable,'-m', 'pip',</pre>
<pre class='cython code score-35 '>      <span class='trace'>__Pyx_TraceLine</span>(2566,0,<span class='error_goto'>__PYX_ERR(0, 2566, __pyx_L3_error)</span>)
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_subprocess, __pyx_n_s_check_output);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2566, __pyx_L3_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_sys, __pyx_n_s_executable);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 2566, __pyx_L3_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
      __pyx_t_11 = <span class='py_c_api'>PyList_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2566, __pyx_L3_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_12);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_11, 0, __pyx_t_12)) <span class='error_goto'>__PYX_ERR(0, 2566, __pyx_L3_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_m);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_m);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_11, 1, __pyx_kp_u_m)) <span class='error_goto'>__PYX_ERR(0, 2566, __pyx_L3_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_pip);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_pip);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_11, 2, __pyx_n_u_pip)) <span class='error_goto'>__PYX_ERR(0, 2566, __pyx_L3_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_freeze);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_freeze);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_11, 3, __pyx_n_u_freeze)) <span class='error_goto'>__PYX_ERR(0, 2566, __pyx_L3_error)</span>;
      __pyx_t_12 = 0;
      __pyx_t_12 = NULL;
      __pyx_t_13 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
        __pyx_t_12 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
        if (likely(__pyx_t_12)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_12);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
          __pyx_t_13 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_12, __pyx_t_11};
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_13, 1+__pyx_t_13);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
        if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 2566, __pyx_L3_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      }
      __pyx_v_reqs = __pyx_t_4;
      __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2567</span>:                                         'freeze'])</pre>
<pre class="cython line score-113" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2568</span>:         [r.decode().split('==')[0] for r in reqs.split()]</pre>
<pre class='cython code score-113 '>      <span class='trace'>__Pyx_TraceLine</span>(2568,0,<span class='error_goto'>__PYX_ERR(0, 2568, __pyx_L3_error)</span>)
      { /* enter inner scope */
        __pyx_t_4 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2568, __pyx_L11_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_reqs, __pyx_n_s_split);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2568, __pyx_L11_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
        __pyx_t_12 = NULL;
        __pyx_t_13 = 0;
        #if CYTHON_UNPACK_METHODS
        if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_11))) {
          __pyx_t_12 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_11);
          if (likely(__pyx_t_12)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_11);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_12);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_11, function);
            __pyx_t_13 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_12, NULL};
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_11, __pyx_callargs+1-__pyx_t_13, 0+__pyx_t_13);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
          if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2568, __pyx_L11_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
        }
        if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_1)) {
          __pyx_t_11 = __pyx_t_1; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_11);
          __pyx_t_2 = 0;
          __pyx_t_14 = NULL;
        } else {
          __pyx_t_2 = -1; __pyx_t_11 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2568, __pyx_L11_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
          __pyx_t_14 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_11);<span class='error_goto'> if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 2568, __pyx_L11_error)</span>
        }
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        for (;;) {
          if (likely(!__pyx_t_14)) {
            if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_11))) {
              {
                Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_11);
                #if !CYTHON_ASSUME_SAFE_MACROS
                if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2568, __pyx_L11_error)</span>
                #endif
                if (__pyx_t_2 &gt;= __pyx_temp) break;
              }
              #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
              __pyx_t_1 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_11, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2568, __pyx_L11_error)</span>
              #else
              __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_11, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2568, __pyx_L11_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
              #endif
            } else {
              {
                Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_11);
                #if !CYTHON_ASSUME_SAFE_MACROS
                if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2568, __pyx_L11_error)</span>
                #endif
                if (__pyx_t_2 &gt;= __pyx_temp) break;
              }
              #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
              __pyx_t_1 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_11, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2568, __pyx_L11_error)</span>
              #else
              __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_11, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2568, __pyx_L11_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
              #endif
            }
          } else {
            __pyx_t_1 = __pyx_t_14(__pyx_t_11);
            if (unlikely(!__pyx_t_1)) {
              PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
              if (exc_type) {
                if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
                else <span class='error_goto'>__PYX_ERR(0, 2568, __pyx_L11_error)</span>
              }
              break;
            }
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          }
          <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_8genexpr9__pyx_v_r, __pyx_t_1);
          __pyx_t_1 = 0;
          __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_8genexpr9__pyx_v_r, __pyx_n_s_decode);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2568, __pyx_L11_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
          __pyx_t_9 = NULL;
          __pyx_t_13 = 0;
          #if CYTHON_UNPACK_METHODS
          if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_10))) {
            __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_10);
            if (likely(__pyx_t_9)) {
              PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_10);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
              <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_10, function);
              __pyx_t_13 = 1;
            }
          }
          #endif
          {
            PyObject *__pyx_callargs[2] = {__pyx_t_9, NULL};
            __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_10, __pyx_callargs+1-__pyx_t_13, 0+__pyx_t_13);
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
            if (unlikely(!__pyx_t_12)) <span class='error_goto'>__PYX_ERR(0, 2568, __pyx_L11_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
          }
          __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_12, __pyx_n_s_split);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2568, __pyx_L11_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
          __pyx_t_12 = NULL;
          __pyx_t_13 = 0;
          #if CYTHON_UNPACK_METHODS
          if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_10))) {
            __pyx_t_12 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_10);
            if (likely(__pyx_t_12)) {
              PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_10);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_12);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
              <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_10, function);
              __pyx_t_13 = 1;
            }
          }
          #endif
          {
            PyObject *__pyx_callargs[2] = {__pyx_t_12, __pyx_kp_u__83};
            __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_10, __pyx_callargs+1-__pyx_t_13, 1+__pyx_t_13);
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
            if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2568, __pyx_L11_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
          }
          __pyx_t_10 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_1, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2568, __pyx_L11_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_4, (PyObject*)__pyx_t_10))) <span class='error_goto'>__PYX_ERR(0, 2568, __pyx_L11_error)</span>
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
        }
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr9__pyx_v_r); __pyx_8genexpr9__pyx_v_r = 0;
        goto __pyx_L15_exit_scope;
        __pyx_L11_error:;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_8genexpr9__pyx_v_r); __pyx_8genexpr9__pyx_v_r = 0;
        goto __pyx_L3_error;
        __pyx_L15_exit_scope:;
      } /* exit inner scope */
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-42" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2569</span>:         _logger.info(f"Intallation of `{module}` and dependancies"</pre>
<pre class='cython code score-42 '>      <span class='trace'>__Pyx_TraceLine</span>(2569,0,<span class='error_goto'>__PYX_ERR(0, 2569, __pyx_L3_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_11, __pyx_n_s_logger);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2569, __pyx_L3_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
      __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_11, __pyx_n_s_info);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2569, __pyx_L3_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
      __pyx_t_11 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2569, __pyx_L3_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
      __pyx_t_2 = 0;
      __pyx_t_3 = 127;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Intallation_of);
      __pyx_t_2 += 16;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Intallation_of);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_11, 0, __pyx_kp_u_Intallation_of);
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_module, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2569, __pyx_L3_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_1) &gt; __pyx_t_3) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_1) : __pyx_t_3;
      __pyx_t_2 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_1);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_11, 1, __pyx_t_1);
      __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_and_dependancieswas_successfull);
      __pyx_t_2 += 40;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_and_dependancieswas_successfull);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_11, 2, __pyx_kp_u_and_dependancieswas_successfull);
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_11, 3, __pyx_t_2, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2569, __pyx_L3_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
      __pyx_t_11 = NULL;
      __pyx_t_13 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_10))) {
        __pyx_t_11 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_10);
        if (likely(__pyx_t_11)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_10);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_11);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_10, function);
          __pyx_t_13 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_11, __pyx_t_1};
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_10, __pyx_callargs+1-__pyx_t_13, 1+__pyx_t_13);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 2569, __pyx_L3_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2570</span>:                      "was successfully done!")</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2571</span>:         MOD_IMP=True</pre>
<pre class='cython code score-0 '>      <span class='trace'>__Pyx_TraceLine</span>(2571,0,<span class='error_goto'>__PYX_ERR(0, 2571, __pyx_L3_error)</span>)
      __pyx_v_MOD_IMP = 1;
</pre><pre class="cython line score-0">&#xA0;<span class="">2572</span>: </pre>
<pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2573</span>:     except:</pre>
<pre class='cython code score-4 '>    <span class='trace'>__Pyx_TraceLine</span>(2573,0,<span class='error_goto'>__PYX_ERR(0, 2573, __pyx_L5_except_error)</span>)
    /*except:*/ {
      <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.subprocess_module_installation", __pyx_clineno, __pyx_lineno, __pyx_filename);
      if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_4, &amp;__pyx_t_10, &amp;__pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2573, __pyx_L5_except_error)</span>
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_4);
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_10);
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
</pre><pre class="cython line score-42" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2574</span>:         _logger.error(f"Fail to install the module =`{module}`.")</pre>
<pre class='cython code score-42 '>      <span class='trace'>__Pyx_TraceLine</span>(2574,0,<span class='error_goto'>__PYX_ERR(0, 2574, __pyx_L5_except_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_12, __pyx_n_s_logger);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 2574, __pyx_L5_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_12, __pyx_n_s_error);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2574, __pyx_L5_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
      __pyx_t_12 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 2574, __pyx_L5_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
      __pyx_t_2 = 0;
      __pyx_t_3 = 127;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Fail_to_install_the_module);
      __pyx_t_2 += 29;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Fail_to_install_the_module);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_12, 0, __pyx_kp_u_Fail_to_install_the_module);
      __pyx_t_15 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_module, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 2574, __pyx_L5_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_15);
      __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_15) &gt; __pyx_t_3) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_15) : __pyx_t_3;
      __pyx_t_2 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_15);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_15);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_12, 1, __pyx_t_15);
      __pyx_t_15 = 0;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__84);
      __pyx_t_2 += 2;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__84);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_12, 2, __pyx_kp_u__84);
      __pyx_t_15 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_12, 3, __pyx_t_2, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 2574, __pyx_L5_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_15);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
      __pyx_t_12 = NULL;
      __pyx_t_13 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
        __pyx_t_12 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
        if (likely(__pyx_t_12)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_12);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
          __pyx_t_13 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_12, __pyx_t_15};
        __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_13, 1+__pyx_t_13);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
        if (unlikely(!__pyx_t_11)) <span class='error_goto'>__PYX_ERR(0, 2574, __pyx_L5_except_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
</pre><pre class="cython line score-33" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2575</span>:         print(f'---&gt; Module {module!r} installation failed, Please use'</pre>
<pre class='cython code score-33 '>      <span class='trace'>__Pyx_TraceLine</span>(2575,0,<span class='error_goto'>__PYX_ERR(0, 2575, __pyx_L5_except_error)</span>)
      __pyx_t_11 = <span class='py_c_api'>PyTuple_New</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2575, __pyx_L5_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
      __pyx_t_2 = 0;
      __pyx_t_3 = 127;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Module);
      __pyx_t_2 += 12;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Module);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_11, 0, __pyx_kp_u_Module);
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_v_module), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2575, __pyx_L5_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_9) &gt; __pyx_t_3) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_9) : __pyx_t_3;
      __pyx_t_2 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_9);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_9);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_11, 1, __pyx_t_9);
      __pyx_t_9 = 0;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_installation_failed_Please_use);
      __pyx_t_2 += 56;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_installation_failed_Please_use);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_11, 2, __pyx_kp_u_installation_failed_Please_use);
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(2575,0,<span class='error_goto'>__PYX_ERR(0, 2575, __pyx_L5_except_error)</span>)
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_11, 5, __pyx_t_2, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2575, __pyx_L5_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
      __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_print, __pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2575, __pyx_L5_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      goto __pyx_L4_exception_handled;
    }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2576</span>:            f'  the following command {cmd} to manually install it.')</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(2576,0,<span class='error_goto'>__PYX_ERR(0, 2576, __pyx_L5_except_error)</span>)
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_cmd);
      __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_cmd) &gt; __pyx_t_3) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_cmd) : __pyx_t_3;
      __pyx_t_2 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_v_cmd);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_cmd);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_11, 3, __pyx_v_cmd);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_to_manually_install_it);
      __pyx_t_2 += 24;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_to_manually_install_it);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_11, 4, __pyx_kp_u_to_manually_install_it);
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2577</span>:     return MOD_IMP</pre>
<pre class='cython code score-3 '>  <span class='trace'>__Pyx_TraceLine</span>(2577,0,<span class='error_goto'>__PYX_ERR(0, 2577, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyBool_FromLong</span>(__pyx_v_MOD_IMP);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2577, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2578</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2579</span>: </pre>
<pre class="cython line score-95" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2580</span>: def _assert_sl_target (target,  df=None, obj=None):</pre>
<pre class='cython code score-95 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_61_assert_sl_target(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_60_assert_sl_target, " Check whether the target name into the dataframe for supervised \n    learning.\n    \n    :param df: dataframe pandas\n    :param target: str or index of the supervised learning target name. \n    \n    :Example: \n        \n        &gt;&gt;&gt; from gofast.tools.mlutils import _assert_sl_target\n        &gt;&gt;&gt; from gofast.datasets import fetch_data\n        &gt;&gt;&gt; data = fetch_data('Bagoue original').get('data=df')  \n        &gt;&gt;&gt; _assert_sl_target (target =12, obj=prepareObj, df=data)\n        ... 'flow'\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_61_assert_sl_target = {"_assert_sl_target", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_61_assert_sl_target, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_60_assert_sl_target};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_61_assert_sl_target(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_target = 0;
  PyObject *__pyx_v_df = 0;
  PyObject *__pyx_v_obj = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_assert_sl_target (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_target,&amp;__pyx_n_s_df,&amp;__pyx_n_s_obj,0};
  PyObject* values[3] = {0,0,0};
    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_target)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2580, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_df);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2580, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_obj);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2580, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_assert_sl_target") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2580, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_target = values[0];
    __pyx_v_df = values[1];
    __pyx_v_obj = values[2];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_assert_sl_target", 0, 1, 3, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2580, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._assert_sl_target", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_60_assert_sl_target(__pyx_self, __pyx_v_target, __pyx_v_df, __pyx_v_obj);

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_60_assert_sl_target(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_target, PyObject *__pyx_v_df, PyObject *__pyx_v_obj) {
  int __pyx_v_is_dataframe;
  int __pyx_v_is_ndarray;
  PyObject *__pyx_v_targets = NULL;
  PyObject *__pyx_v_nameObj = NULL;
  PyObject *__pyx_v_msg = NULL;
  PyObject *__pyx_v__len = NULL;
  PyObject *__pyx_v_m_ = NULL;
  PyObject *__pyx_v_wmsg = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__85)
  <span class='trace'>__Pyx_TraceCall</span>("_assert_sl_target", __pyx_f[0], 2580, 0, <span class='error_goto'>__PYX_ERR(0, 2580, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._assert_sl_target", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_targets);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_nameObj);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_msg);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v__len);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_m_);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_wmsg);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_target);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__175 = <span class='py_c_api'>PyTuple_Pack</span>(11, __pyx_n_s_target, __pyx_n_s_df, __pyx_n_s_obj, __pyx_n_s_is_dataframe, __pyx_n_s_is_ndarray, __pyx_n_s_targets, __pyx_n_s_nameObj, __pyx_n_s_msg, __pyx_n_s_len, __pyx_n_s_m_2, __pyx_n_s_wmsg);<span class='error_goto'> if (unlikely(!__pyx_tuple__175)) __PYX_ERR(0, 2580, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__175);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__175);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2580,0,<span class='error_goto'>__PYX_ERR(0, 2580, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_61_assert_sl_target, 0, __pyx_n_s_assert_sl_target, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__85));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2580, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_4, __pyx_tuple__153);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_assert_sl_target, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2580, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_codeobj__85 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(3, 0, 0, 11, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__175, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_assert_sl_target, 2580, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__85)) __PYX_ERR(0, 2580, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2581</span>:     """ Check whether the target name into the dataframe for supervised</pre>
<pre class="cython line score-0">&#xA0;<span class="">2582</span>:     learning.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2583</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2584</span>:     :param df: dataframe pandas</pre>
<pre class="cython line score-0">&#xA0;<span class="">2585</span>:     :param target: str or index of the supervised learning target name.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2586</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2587</span>:     :Example:</pre>
<pre class="cython line score-0">&#xA0;<span class="">2588</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2589</span>:         &gt;&gt;&gt; from gofast.tools.mlutils import _assert_sl_target</pre>
<pre class="cython line score-0">&#xA0;<span class="">2590</span>:         &gt;&gt;&gt; from gofast.datasets import fetch_data</pre>
<pre class="cython line score-0">&#xA0;<span class="">2591</span>:         &gt;&gt;&gt; data = fetch_data('Bagoue original').get('data=df')</pre>
<pre class="cython line score-0">&#xA0;<span class="">2592</span>:         &gt;&gt;&gt; _assert_sl_target (target =12, obj=prepareObj, df=data)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2593</span>:         ... 'flow'</pre>
<pre class="cython line score-0">&#xA0;<span class="">2594</span>:     """</pre>
<pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2595</span>:     is_dataframe = isinstance(df, pd.DataFrame)</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(2595,0,<span class='error_goto'>__PYX_ERR(0, 2595, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2595, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2595, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_df, __pyx_t_2);<span class='error_goto'> if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(0, 2595, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_is_dataframe = __pyx_t_3;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2596</span>:     is_ndarray = isinstance(df, np.ndarray)</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(2596,0,<span class='error_goto'>__PYX_ERR(0, 2596, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2596, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_ndarray);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2596, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_3 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_df, __pyx_t_1);<span class='error_goto'> if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(0, 2596, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_is_ndarray = __pyx_t_3;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2597</span>:     if is_dataframe :</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(2597,0,<span class='error_goto'>__PYX_ERR(0, 2597, __pyx_L1_error)</span>)
  if (__pyx_v_is_dataframe) {
/*  */
    goto __pyx_L3;
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2598</span>:         targets = smart_format(</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(2598,0,<span class='error_goto'>__PYX_ERR(0, 2598, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_smart_format);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2598, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
</pre><pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2599</span>:             df.columns if df.columns is not None else [''])</pre>
<pre class='cython code score-28 '>    <span class='trace'>__Pyx_TraceLine</span>(2599,0,<span class='error_goto'>__PYX_ERR(0, 2599, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_df, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2599, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_3 = (__pyx_t_5 != Py_None);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (__pyx_t_3) {
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_df, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2599, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      __pyx_t_4 = __pyx_t_5;
      __pyx_t_5 = 0;
    } else {
      __pyx_t_5 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2599, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__12);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__12);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_5, 0, __pyx_kp_u__12)) <span class='error_goto'>__PYX_ERR(0, 2599, __pyx_L1_error)</span>;
      __pyx_t_4 = __pyx_t_5;
      __pyx_t_5 = 0;
    }
    __pyx_t_5 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_t_4};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2598, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    __pyx_v_targets = __pyx_t_1;
    __pyx_t_1 = 0;
</pre><pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2600</span>:     else:targets =''</pre>
<pre class='cython code score-1 '>  <span class='trace'>__Pyx_TraceLine</span>(2600,0,<span class='error_goto'>__PYX_ERR(0, 2600, __pyx_L1_error)</span>)
  /*else*/ {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__12);
    __pyx_v_targets = __pyx_kp_u__12;
  }
  __pyx_L3:;
</pre><pre class="cython line score-0">&#xA0;<span class="">2601</span>: </pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2602</span>:     if target is None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(2602,0,<span class='error_goto'>__PYX_ERR(0, 2602, __pyx_L1_error)</span>)
  __pyx_t_3 = (__pyx_v_target == Py_None);
  if (__pyx_t_3) {
/*  */
  }
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2603</span>:         nameObj=f'{obj.__class__.__name__}'if obj is not None else 'Base class'</pre>
<pre class='cython code score-9 '>    <span class='trace'>__Pyx_TraceLine</span>(2603,0,<span class='error_goto'>__PYX_ERR(0, 2603, __pyx_L1_error)</span>)
    __pyx_t_3 = (__pyx_v_obj != Py_None);
    if (__pyx_t_3) {
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_obj, __pyx_n_s_class_2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2603, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_name_2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2603, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_t_4, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2603, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_1 = __pyx_t_2;
      __pyx_t_2 = 0;
    } else {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Base_class);
      __pyx_t_1 = __pyx_kp_u_Base_class;
    }
    __pyx_v_nameObj = ((PyObject*)__pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-21" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2604</span>:         msg =''.join([</pre>
<pre class='cython code score-21 '>    <span class='trace'>__Pyx_TraceLine</span>(2604,0,<span class='error_goto'>__PYX_ERR(0, 2604, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2604, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 2604, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_input_target_is_needed_Please_s);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_input_target_is_needed_Please_s);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 1, __pyx_kp_u_input_target_is_needed_Please_s)) <span class='error_goto'>__PYX_ERR(0, 2604, __pyx_L1_error)</span>;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 2, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2604, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_to_take_advantage_of_the_full_f);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_to_take_advantage_of_the_full_f);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 3, __pyx_kp_u_to_take_advantage_of_the_full_f)) <span class='error_goto'>__PYX_ERR(0, 2604, __pyx_L1_error)</span>;
    __pyx_t_4 = 0;
    __pyx_t_1 = 0;
    __pyx_t_1 = <span class='py_c_api'>PyUnicode_Join</span>(__pyx_kp_u__12, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2604, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_v_msg = ((PyObject*)__pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-38" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2605</span>:             f"{nameObj!r} {'basically' if obj is not None else ''}"</pre>
<pre class='cython code score-38 '>    <span class='trace'>__Pyx_TraceLine</span>(2605,0,<span class='error_goto'>__PYX_ERR(0, 2605, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2605, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_7 = 0;
    __pyx_t_8 = 127;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_v_nameObj), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2605, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) : __pyx_t_8;
    __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_2);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_t_2);
    __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__35);
    __pyx_t_7 += 1;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__35);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_kp_u__35);
    __pyx_t_3 = (__pyx_v_obj != Py_None);
    if (__pyx_t_3) {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_basically);
      __pyx_t_2 = __pyx_n_u_basically;
    } else {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__12);
      __pyx_t_2 = __pyx_kp_u__12;
    }
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyUnicode_Unicode</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2605, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_4) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_4) : __pyx_t_8;
    __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_4);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 2, __pyx_t_4);
    __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_works_with_surpervised_learning);
    __pyx_t_7 += 50;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_works_with_surpervised_learning);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 3, __pyx_kp_u_works_with_surpervised_learning);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_1, 4, __pyx_t_7, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2605, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2606</span>:             " works with surpervised learning algorithms so the",</pre>
<pre class="cython line score-0">&#xA0;<span class="">2607</span>:             " input target is needed. Please specify the target",</pre>
<pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2608</span>:             f" {'name' if is_dataframe else 'index' if is_ndarray else ''}",</pre>
<pre class='cython code score-9 '>    <span class='trace'>__Pyx_TraceLine</span>(2608,0,<span class='error_goto'>__PYX_ERR(0, 2608, __pyx_L1_error)</span>)
    if (__pyx_v_is_dataframe) {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_name);
      __pyx_t_1 = __pyx_n_u_name;
    } else {
      if (__pyx_v_is_ndarray) {
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_index);
        __pyx_t_2 = __pyx_n_u_index;
      } else {
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__12);
        __pyx_t_2 = __pyx_kp_u__12;
      }
      __pyx_t_1 = __pyx_t_2;
      __pyx_t_2 = 0;
    }
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyUnicode_Unicode</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2608, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_kp_u__35, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2608, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2609</span>:             " to take advantage of the full functionalities."</pre>
<pre class="cython line score-0">&#xA0;<span class="">2610</span>:             ])</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2611</span>:         if is_dataframe:</pre>
<pre class='cython code score-0 '>    <span class='trace'>__Pyx_TraceLine</span>(2611,0,<span class='error_goto'>__PYX_ERR(0, 2611, __pyx_L1_error)</span>)
    if (__pyx_v_is_dataframe) {
/*  */
      goto __pyx_L5;
    }
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2612</span>:             msg += f" Select the target among {targets}."</pre>
<pre class='cython code score-25 '>      <span class='trace'>__Pyx_TraceLine</span>(2612,0,<span class='error_goto'>__PYX_ERR(0, 2612, __pyx_L1_error)</span>)
      __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2612, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_7 = 0;
      __pyx_t_8 = 127;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Select_the_target_among);
      __pyx_t_7 += 25;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Select_the_target_among);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_kp_u_Select_the_target_among);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_targets, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2612, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) : __pyx_t_8;
      __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_2);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_t_2);
      __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__3);
      __pyx_t_7 += 1;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__3);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 2, __pyx_kp_u__3);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_1, 3, __pyx_t_7, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2612, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyUnicode_ConcatInPlaceSafe</span>(__pyx_v_msg, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2612, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_msg, ((PyObject*)__pyx_t_1));
      __pyx_t_1 = 0;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2613</span>:         elif is_ndarray :</pre>
<pre class='cython code score-0 '>    <span class='trace'>__Pyx_TraceLine</span>(2613,0,<span class='error_goto'>__PYX_ERR(0, 2613, __pyx_L1_error)</span>)
    if (__pyx_v_is_ndarray) {
/*  */
    }
    __pyx_L5:;
</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2614</span>:             msg += f" Max columns size is {df.shape[1]}"</pre>
<pre class='cython code score-15 '>      <span class='trace'>__Pyx_TraceLine</span>(2614,0,<span class='error_goto'>__PYX_ERR(0, 2614, __pyx_L1_error)</span>)
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_df, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2614, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_1, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2614, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_t_2, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2614, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_kp_u_Max_columns_size_is, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2614, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyUnicode_ConcatInPlaceSafe</span>(__pyx_v_msg, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2614, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_msg, ((PyObject*)__pyx_t_1));
      __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2615</span>: </pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2616</span>:         warnings.warn(msg, UserWarning)</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(2616,0,<span class='error_goto'>__PYX_ERR(0, 2616, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_warnings);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2616, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_warn);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2616, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_2, __pyx_v_msg, __pyx_builtin_UserWarning};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_6, 2+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2616, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2617</span>:         _logger.warning(msg)</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(2617,0,<span class='error_goto'>__PYX_ERR(0, 2617, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_logger);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2617, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_warning);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2617, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_4)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_v_msg};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2617, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2618</span>: </pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2619</span>:     if target is not None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(2619,0,<span class='error_goto'>__PYX_ERR(0, 2619, __pyx_L1_error)</span>)
  __pyx_t_3 = (__pyx_v_target != Py_None);
  if (__pyx_t_3) {
/*  */
  }
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2620</span>:         if is_dataframe:</pre>
<pre class='cython code score-0 '>    <span class='trace'>__Pyx_TraceLine</span>(2620,0,<span class='error_goto'>__PYX_ERR(0, 2620, __pyx_L1_error)</span>)
    if (__pyx_v_is_dataframe) {
/*  */
    }
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2621</span>:             if isinstance(target, str):</pre>
<pre class='cython code score-5 '>      <span class='trace'>__Pyx_TraceLine</span>(2621,0,<span class='error_goto'>__PYX_ERR(0, 2621, __pyx_L1_error)</span>)
      __pyx_t_3 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_target); 
      if (__pyx_t_3) {
/*  */
        goto __pyx_L8;
      }
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2622</span>:                 if not target in df.columns:</pre>
<pre class='cython code score-5 '>        <span class='trace'>__Pyx_TraceLine</span>(2622,0,<span class='error_goto'>__PYX_ERR(0, 2622, __pyx_L1_error)</span>)
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_df, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2622, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_v_target, __pyx_t_1, Py_NE)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2622, __pyx_L1_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        if (__pyx_t_3) {
/*  */
        }
</pre><pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2623</span>:                     msg =''.join([</pre>
<pre class='cython code score-14 '>          <span class='trace'>__Pyx_TraceLine</span>(2623,0,<span class='error_goto'>__PYX_ERR(0, 2623, __pyx_L1_error)</span>)
          __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2623, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
          if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2623, __pyx_L1_error)</span>;
          __pyx_t_2 = 0;
          __pyx_t_2 = <span class='py_c_api'>PyUnicode_Join</span>(__pyx_kp_u__12, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2623, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_msg, ((PyObject*)__pyx_t_2));
          __pyx_t_2 = 0;
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2624</span>:                         f"Wrong target value {target!r}. Please select "</pre>
<pre class='cython code score-26 '>          <span class='trace'>__Pyx_TraceLine</span>(2624,0,<span class='error_goto'>__PYX_ERR(0, 2624, __pyx_L1_error)</span>)
          __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2624, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          __pyx_t_7 = 0;
          __pyx_t_8 = 127;
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Wrong_target_value);
          __pyx_t_7 += 19;
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Wrong_target_value);
          <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_kp_u_Wrong_target_value);
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_v_target), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2624, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) : __pyx_t_8;
          __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_2);
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
          <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_t_2);
          __pyx_t_2 = 0;
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Please_select_the_right_column);
          __pyx_t_7 += 39;
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Please_select_the_right_column);
          <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 2, __pyx_kp_u_Please_select_the_right_column);
/*  */
          <span class='trace'>__Pyx_TraceLine</span>(2624,0,<span class='error_goto'>__PYX_ERR(0, 2624, __pyx_L1_error)</span>)
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_1, 4, __pyx_t_7, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2624, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2625</span>:                         f"the right column name: {targets}"])</pre>
<pre class='cython code score-9 '>          <span class='trace'>__Pyx_TraceLine</span>(2625,0,<span class='error_goto'>__PYX_ERR(0, 2625, __pyx_L1_error)</span>)
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_targets, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2625, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) : __pyx_t_8;
          __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_2);
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
          <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 3, __pyx_t_2);
          __pyx_t_2 = 0;
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2626</span>:                     warnings.warn(msg, category= UserWarning)</pre>
<pre class='cython code score-26 '>          <span class='trace'>__Pyx_TraceLine</span>(2626,0,<span class='error_goto'>__PYX_ERR(0, 2626, __pyx_L1_error)</span>)
          <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_warnings);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2626, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_warn);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2626, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2626, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_msg);
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_msg);
          if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_msg)) <span class='error_goto'>__PYX_ERR(0, 2626, __pyx_L1_error)</span>;
          __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2626, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
          if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_category, __pyx_builtin_UserWarning) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2626, __pyx_L1_error)</span>
          __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_2, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2626, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2627</span>:                     _logger.warning(msg)</pre>
<pre class='cython code score-20 '>          <span class='trace'>__Pyx_TraceLine</span>(2627,0,<span class='error_goto'>__PYX_ERR(0, 2627, __pyx_L1_error)</span>)
          <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_logger);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2627, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_warning);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2627, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
          __pyx_t_4 = NULL;
          __pyx_t_6 = 0;
          #if CYTHON_UNPACK_METHODS
          if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
            __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
            if (likely(__pyx_t_4)) {
              PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
              <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
              __pyx_t_6 = 1;
            }
          }
          #endif
          {
            PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_v_msg};
            __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
            if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 2627, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          }
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2628</span>:                     target =None</pre>
<pre class='cython code score-2 '>          <span class='trace'>__Pyx_TraceLine</span>(2628,0,<span class='error_goto'>__PYX_ERR(0, 2628, __pyx_L1_error)</span>)
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_target, Py_None);
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2629</span>:             elif isinstance(target, (float, int)):</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(2629,0,<span class='error_goto'>__PYX_ERR(0, 2629, __pyx_L1_error)</span>)
      __pyx_t_9 = <span class='py_c_api'>PyFloat_Check</span>(__pyx_v_target); 
      if (!__pyx_t_9) {
      } else {
        __pyx_t_3 = __pyx_t_9;
        goto __pyx_L10_bool_binop_done;
      }
      __pyx_t_9 = <span class='py_c_api'>PyInt_Check</span>(__pyx_v_target); 
      __pyx_t_3 = __pyx_t_9;
      __pyx_L10_bool_binop_done:;
      if (__pyx_t_3) {
/*  */
      }
      __pyx_L8:;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2630</span>:                 is_ndarray =True</pre>
<pre class='cython code score-0 '>        <span class='trace'>__Pyx_TraceLine</span>(2630,0,<span class='error_goto'>__PYX_ERR(0, 2630, __pyx_L1_error)</span>)
        __pyx_v_is_ndarray = 1;
</pre><pre class="cython line score-0">&#xA0;<span class="">2631</span>: </pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2632</span>:         if is_ndarray :</pre>
<pre class='cython code score-0 '>    <span class='trace'>__Pyx_TraceLine</span>(2632,0,<span class='error_goto'>__PYX_ERR(0, 2632, __pyx_L1_error)</span>)
    if (__pyx_v_is_ndarray) {
/*  */
    }
</pre><pre class="cython line score-18" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2633</span>:             _len = len(df.columns) if is_dataframe else df.shape[1]</pre>
<pre class='cython code score-18 '>      <span class='trace'>__Pyx_TraceLine</span>(2633,0,<span class='error_goto'>__PYX_ERR(0, 2633, __pyx_L1_error)</span>)
      if (__pyx_v_is_dataframe) {
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_df, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2633, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        __pyx_t_7 = <span class='py_c_api'>PyObject_Length</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(__pyx_t_7 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2633, __pyx_L1_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        __pyx_t_2 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2633, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        __pyx_t_5 = __pyx_t_2;
        __pyx_t_2 = 0;
      } else {
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_df, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2633, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_2, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2633, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        __pyx_t_5 = __pyx_t_4;
        __pyx_t_4 = 0;
      }
      __pyx_v__len = __pyx_t_5;
      __pyx_t_5 = 0;
</pre><pre class="cython line score-13" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2634</span>:             m_=f"{'less than' if target &gt;= _len  else 'greater than'}"</pre>
<pre class='cython code score-13 '>      <span class='trace'>__Pyx_TraceLine</span>(2634,0,<span class='error_goto'>__PYX_ERR(0, 2634, __pyx_L1_error)</span>)
      __pyx_t_4 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_v_target, __pyx_v__len, Py_GE); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2634, __pyx_L1_error)</span>
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_4); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2634, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (__pyx_t_3) {
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_less_than);
        __pyx_t_5 = __pyx_kp_u_less_than;
      } else {
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_greater_than);
        __pyx_t_5 = __pyx_kp_u_greater_than;
      }
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyUnicode_Unicode</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2634, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_v_m_ = ((PyObject*)__pyx_t_4);
      __pyx_t_4 = 0;
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2635</span>:             if not isinstance(target, (float,int)):</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(2635,0,<span class='error_goto'>__PYX_ERR(0, 2635, __pyx_L1_error)</span>)
      __pyx_t_9 = <span class='py_c_api'>PyFloat_Check</span>(__pyx_v_target); 
      if (!__pyx_t_9) {
      } else {
        __pyx_t_3 = __pyx_t_9;
        goto __pyx_L14_bool_binop_done;
      }
      __pyx_t_9 = <span class='py_c_api'>PyInt_Check</span>(__pyx_v_target); 
      __pyx_t_3 = __pyx_t_9;
      __pyx_L14_bool_binop_done:;
      __pyx_t_9 = (!__pyx_t_3);
      if (__pyx_t_9) {
/*  */
        goto __pyx_L13;
      }
</pre><pre class="cython line score-38" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2636</span>:                 msg =''.join([f"Wrong target value `{target}`!"</pre>
<pre class='cython code score-38 '>        <span class='trace'>__Pyx_TraceLine</span>(2636,0,<span class='error_goto'>__PYX_ERR(0, 2636, __pyx_L1_error)</span>)
        __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2636, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        __pyx_t_7 = 0;
        __pyx_t_8 = 127;
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Wrong_target_value_2);
        __pyx_t_7 += 20;
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Wrong_target_value_2);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_kp_u_Wrong_target_value_2);
        __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_target, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2636, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_5) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_5) : __pyx_t_8;
        __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_5);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_5);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_t_5);
        __pyx_t_5 = 0;
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Object_type_is);
        __pyx_t_7 += 18;
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Object_type_is);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 2, __pyx_kp_u_Object_type_is);
/*  */
        <span class='trace'>__Pyx_TraceLine</span>(2636,0,<span class='error_goto'>__PYX_ERR(0, 2636, __pyx_L1_error)</span>)
        __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_4, 5, __pyx_t_7, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2636, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        __pyx_t_4 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2636, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_5);
        if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 0, __pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 2636, __pyx_L1_error)</span>;
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_index_should_be_given_instead);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_index_should_be_given_instead);
        if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 1, __pyx_kp_u_index_should_be_given_instead)) <span class='error_goto'>__PYX_ERR(0, 2636, __pyx_L1_error)</span>;
        __pyx_t_5 = 0;
        __pyx_t_5 = <span class='py_c_api'>PyUnicode_Join</span>(__pyx_kp_u__12, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2636, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_msg, ((PyObject*)__pyx_t_5));
        __pyx_t_5 = 0;
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2637</span>:                               f" Object type is {type(df)!r}. Target columns",</pre>
<pre class='cython code score-16 '>        <span class='trace'>__Pyx_TraceLine</span>(2637,0,<span class='error_goto'>__PYX_ERR(0, 2637, __pyx_L1_error)</span>)
        __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(((PyObject *)Py_TYPE(__pyx_v_df))), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2637, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_5) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_5) : __pyx_t_8;
        __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_5);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_5);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 3, __pyx_t_5);
        __pyx_t_5 = 0;
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Target_columns_2);
        __pyx_t_7 += 16;
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Target_columns_2);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 4, __pyx_kp_u_Target_columns_2);
</pre><pre class="cython line score-0">&#xA0;<span class="">2638</span>:                               " index should be given instead."])</pre>
<pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2639</span>:                 warnings.warn(msg, category= UserWarning)</pre>
<pre class='cython code score-26 '>        <span class='trace'>__Pyx_TraceLine</span>(2639,0,<span class='error_goto'>__PYX_ERR(0, 2639, __pyx_L1_error)</span>)
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_warnings);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2639, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_warn);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2639, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2639, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_msg);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_msg);
        if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_v_msg)) <span class='error_goto'>__PYX_ERR(0, 2639, __pyx_L1_error)</span>;
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2639, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_category, __pyx_builtin_UserWarning) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2639, __pyx_L1_error)</span>
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_4, __pyx_t_5, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2639, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2640</span>:                 _logger.warning(msg)</pre>
<pre class='cython code score-20 '>        <span class='trace'>__Pyx_TraceLine</span>(2640,0,<span class='error_goto'>__PYX_ERR(0, 2640, __pyx_L1_error)</span>)
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_logger);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2640, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_warning);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2640, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        __pyx_t_2 = NULL;
        __pyx_t_6 = 0;
        #if CYTHON_UNPACK_METHODS
        if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
          __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
          if (likely(__pyx_t_2)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
            __pyx_t_6 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_msg};
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2640, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        }
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2641</span>:                 target=None</pre>
<pre class='cython code score-2 '>        <span class='trace'>__Pyx_TraceLine</span>(2641,0,<span class='error_goto'>__PYX_ERR(0, 2641, __pyx_L1_error)</span>)
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_target, Py_None);
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2642</span>:             elif isinstance(target, (float,int)):</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(2642,0,<span class='error_goto'>__PYX_ERR(0, 2642, __pyx_L1_error)</span>)
      __pyx_t_3 = <span class='py_c_api'>PyFloat_Check</span>(__pyx_v_target); 
      if (!__pyx_t_3) {
      } else {
        __pyx_t_9 = __pyx_t_3;
        goto __pyx_L16_bool_binop_done;
      }
      __pyx_t_3 = <span class='py_c_api'>PyInt_Check</span>(__pyx_v_target); 
      __pyx_t_9 = __pyx_t_3;
      __pyx_L16_bool_binop_done:;
      if (__pyx_t_9) {
/*  */
      }
      __pyx_L13:;
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2643</span>:                 target = int(target)</pre>
<pre class='cython code score-3 '>        <span class='trace'>__Pyx_TraceLine</span>(2643,0,<span class='error_goto'>__PYX_ERR(0, 2643, __pyx_L1_error)</span>)
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyNumber_Int</span>(__pyx_v_target);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2643, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_target, __pyx_t_1);
        __pyx_t_1 = 0;
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2644</span>:                 if not 0 &lt;= target &lt; _len:</pre>
<pre class='cython code score-16 '>        <span class='trace'>__Pyx_TraceLine</span>(2644,0,<span class='error_goto'>__PYX_ERR(0, 2644, __pyx_L1_error)</span>)
        __pyx_t_1 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_int_0, __pyx_v_target, Py_LE); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2644, __pyx_L1_error)</span>
        if (<span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_1)) {
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1);
          __pyx_t_1 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_v_target, __pyx_v__len, Py_LT); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2644, __pyx_L1_error)</span>
        }
        __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_1); if (unlikely((__pyx_t_9 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2644, __pyx_L1_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        __pyx_t_3 = (!__pyx_t_9);
        if (__pyx_t_3) {
/*  */
        }
</pre><pre class="cython line score-43" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2645</span>:                     msg =f" Wrong target index. Should be {m_} {str(_len-1)!r}."</pre>
<pre class='cython code score-43 '>          <span class='trace'>__Pyx_TraceLine</span>(2645,0,<span class='error_goto'>__PYX_ERR(0, 2645, __pyx_L1_error)</span>)
          __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2645, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          __pyx_t_7 = 0;
          __pyx_t_8 = 127;
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Wrong_target_index_Should_be);
          __pyx_t_7 += 31;
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Wrong_target_index_Should_be);
          <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_kp_u_Wrong_target_index_Should_be);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_m_);
          __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_m_) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_m_) : __pyx_t_8;
          __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_v_m_);
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_m_);
          <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_v_m_);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__35);
          __pyx_t_7 += 1;
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__35);
          <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 2, __pyx_kp_u__35);
          __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyInt_SubtractObjC</span>(__pyx_v__len, __pyx_int_1, 1, 0, 0);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2645, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Str</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2645, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
          __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_t_2), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2645, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_5) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_5) : __pyx_t_8;
          __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_5);
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_5);
          <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 3, __pyx_t_5);
          __pyx_t_5 = 0;
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__3);
          __pyx_t_7 += 1;
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__3);
          <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 4, __pyx_kp_u__3);
          __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_1, 5, __pyx_t_7, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2645, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_msg, ((PyObject*)__pyx_t_5));
          __pyx_t_5 = 0;
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2646</span>:                     warnings.warn(msg, category= UserWarning)</pre>
<pre class='cython code score-26 '>          <span class='trace'>__Pyx_TraceLine</span>(2646,0,<span class='error_goto'>__PYX_ERR(0, 2646, __pyx_L1_error)</span>)
          <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_warnings);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2646, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_warn);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2646, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
          __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2646, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_msg);
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_msg);
          if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_v_msg)) <span class='error_goto'>__PYX_ERR(0, 2646, __pyx_L1_error)</span>;
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2646, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_category, __pyx_builtin_UserWarning) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2646, __pyx_L1_error)</span>
          __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_5, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2646, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2647</span>:                     _logger.warning(msg)</pre>
<pre class='cython code score-20 '>          <span class='trace'>__Pyx_TraceLine</span>(2647,0,<span class='error_goto'>__PYX_ERR(0, 2647, __pyx_L1_error)</span>)
          <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_logger);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2647, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_warning);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2647, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          __pyx_t_2 = NULL;
          __pyx_t_6 = 0;
          #if CYTHON_UNPACK_METHODS
          if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
            __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
            if (likely(__pyx_t_2)) {
              PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
              <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
              __pyx_t_6 = 1;
            }
          }
          #endif
          {
            PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_msg};
            __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
            if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 2647, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
          }
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2648</span>:                     target =None</pre>
<pre class='cython code score-2 '>          <span class='trace'>__Pyx_TraceLine</span>(2648,0,<span class='error_goto'>__PYX_ERR(0, 2648, __pyx_L1_error)</span>)
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_target, Py_None);
</pre><pre class="cython line score-0">&#xA0;<span class="">2649</span>: </pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2650</span>:             if df is None:</pre>
<pre class='cython code score-0 '>      <span class='trace'>__Pyx_TraceLine</span>(2650,0,<span class='error_goto'>__PYX_ERR(0, 2650, __pyx_L1_error)</span>)
      __pyx_t_3 = (__pyx_v_df == Py_None);
      if (__pyx_t_3) {
/*  */
      }
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2651</span>:                 wmsg = ''.join([</pre>
<pre class='cython code score-19 '>        <span class='trace'>__Pyx_TraceLine</span>(2651,0,<span class='error_goto'>__PYX_ERR(0, 2651, __pyx_L1_error)</span>)
        __pyx_t_4 = <span class='py_c_api'>PyList_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2651, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_5);
        if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 0, __pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 2651, __pyx_L1_error)</span>;
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Could_not_fetch_the_target_name);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Could_not_fetch_the_target_name);
        if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 1, __pyx_kp_u_Could_not_fetch_the_target_name)) <span class='error_goto'>__PYX_ERR(0, 2651, __pyx_L1_error)</span>;
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Need_at_least_the_data_numpy_nd);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Need_at_least_the_data_numpy_nd);
        if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_4, 2, __pyx_kp_u_Need_at_least_the_data_numpy_nd)) <span class='error_goto'>__PYX_ERR(0, 2651, __pyx_L1_error)</span>;
        __pyx_t_5 = 0;
        __pyx_t_5 = <span class='py_c_api'>PyUnicode_Join</span>(__pyx_kp_u__12, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2651, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        __pyx_v_wmsg = ((PyObject*)__pyx_t_5);
        __pyx_t_5 = 0;
</pre><pre class="cython line score-21" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2652</span>:                     f"No data found! `{target}` does not fit any data set.",</pre>
<pre class='cython code score-21 '>        <span class='trace'>__Pyx_TraceLine</span>(2652,0,<span class='error_goto'>__PYX_ERR(0, 2652, __pyx_L1_error)</span>)
        __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2652, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        __pyx_t_7 = 0;
        __pyx_t_8 = 127;
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_No_data_found);
        __pyx_t_7 += 16;
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_No_data_found);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_kp_u_No_data_found);
        __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_target, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2652, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_5) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_5) : __pyx_t_8;
        __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_5);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_5);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_t_5);
        __pyx_t_5 = 0;
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_does_not_fit_any_data_set);
        __pyx_t_7 += 28;
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_does_not_fit_any_data_set);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 2, __pyx_kp_u_does_not_fit_any_data_set);
        __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_4, 3, __pyx_t_7, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2652, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2653</span>:                       "Could not fetch the target name.`df` argument is None.",</pre>
<pre class="cython line score-0">&#xA0;<span class="">2654</span>:                       " Need at least the data `numpy.ndarray|pandas.dataFrame`",</pre>
<pre class="cython line score-0">&#xA0;<span class="">2655</span>:                       ])</pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2656</span>:                 warnings.warn(wmsg, UserWarning)</pre>
<pre class='cython code score-20 '>        <span class='trace'>__Pyx_TraceLine</span>(2656,0,<span class='error_goto'>__PYX_ERR(0, 2656, __pyx_L1_error)</span>)
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_warnings);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2656, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_warn);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2656, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        __pyx_t_4 = NULL;
        __pyx_t_6 = 0;
        #if CYTHON_UNPACK_METHODS
        if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
          __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
          if (likely(__pyx_t_4)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
            __pyx_t_6 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[3] = {__pyx_t_4, __pyx_v_wmsg, __pyx_builtin_UserWarning};
          __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_6, 2+__pyx_t_6);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
          if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 2656, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        }
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2657</span>:                 _logger.warning(wmsg)</pre>
<pre class='cython code score-20 '>        <span class='trace'>__Pyx_TraceLine</span>(2657,0,<span class='error_goto'>__PYX_ERR(0, 2657, __pyx_L1_error)</span>)
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_logger);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2657, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_warning);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2657, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        __pyx_t_2 = NULL;
        __pyx_t_6 = 0;
        #if CYTHON_UNPACK_METHODS
        if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
          __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
          if (likely(__pyx_t_2)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
            __pyx_t_6 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_wmsg};
          __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 2657, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        }
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2658</span>:                 target =None</pre>
<pre class='cython code score-2 '>        <span class='trace'>__Pyx_TraceLine</span>(2658,0,<span class='error_goto'>__PYX_ERR(0, 2658, __pyx_L1_error)</span>)
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_target, Py_None);
</pre><pre class="cython line score-0">&#xA0;<span class="">2659</span>: </pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2660</span>:             target = list(df.columns)[target] if is_dataframe else target</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(2660,0,<span class='error_goto'>__PYX_ERR(0, 2660, __pyx_L1_error)</span>)
      if (__pyx_v_is_dataframe) {
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_df, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2660, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ListKeepNew</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2660, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_t_2, __pyx_v_target);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2660, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        __pyx_t_5 = __pyx_t_4;
        __pyx_t_4 = 0;
      } else {
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target);
        __pyx_t_5 = __pyx_v_target;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_target, __pyx_t_5);
      __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2661</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2662</span>:     return target</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(2662,0,<span class='error_goto'>__PYX_ERR(0, 2662, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target);
  __pyx_r = __pyx_v_target;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2663</span>: </pre>
<pre class="cython line score-87" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2664</span>: def _extract_target(</pre>
<pre class='cython code score-87 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_63_extract_target(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_62_extract_target, "\n    Extracts and validates the target variable(s) from the dataset.\n\n    Parameters\n    ----------\n    X : pd.DataFrame or np.ndarray\n        The dataset from which to extract the target variable(s).\n    target : ArrayLike, int, str, or list of int/str\n        The target variable(s) to be used. If an array-like or DataFrame, \n        it's directly used as `y`. If an int or str (or list of them), it \n        indicates the column(s) in `X` to be used as `y`.\n\n    Returns\n    -------\n    X : pd.DataFrame or np.ndarray\n        The dataset without the target column(s).\n    y : pd.Series, np.ndarray, pd.DataFrame\n        The target variable(s).\n    target_names : list of str\n        The names of the target variable(s) for labeling purposes.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_63_extract_target = {"_extract_target", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_63_extract_target, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_62_extract_target};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_63_extract_target(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_X = 0;
  PyObject *__pyx_v_target = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_extract_target (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_X,&amp;__pyx_n_s_target,0};
  PyObject* values[2] = {0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_X)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2664, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_target)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2664, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_extract_target", 1, 2, 2, 1); <span class='error_goto'>__PYX_ERR(0, 2664, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_extract_target") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2664, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 2)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
    }
    __pyx_v_X = values[0];
    __pyx_v_target = values[1];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_extract_target", 1, 2, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2664, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._extract_target", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_62_extract_target(__pyx_self, __pyx_v_X, __pyx_v_target);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
static PyObject *__pyx_gb_6gofast_5tools_7mlutils_15_extract_target_2generator2(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
/*  */
static PyObject *__pyx_pf_6gofast_5tools_7mlutils_62_extract_target(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_X, PyObject *__pyx_v_target) {
  PyObject *__pyx_v_target_names = NULL;
  PyObject *__pyx_v_y = NULL;
  PyObject *__pyx_gb_6gofast_5tools_7mlutils_15_extract_target_2generator2 = 0;
  PyObject *__pyx_gb_6gofast_5tools_7mlutils_15_extract_target_5generator3 = 0;
  PyObject *__pyx_9genexpr12__pyx_v_i = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__86)
  <span class='trace'>__Pyx_TraceCall</span>("_extract_target", __pyx_f[0], 2664, 0, <span class='error_goto'>__PYX_ERR(0, 2664, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._extract_target", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_target_names);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_y);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_gb_6gofast_5tools_7mlutils_15_extract_target_2generator2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_gb_6gofast_5tools_7mlutils_15_extract_target_5generator3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr12__pyx_v_i);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_X);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__176 = <span class='py_c_api'>PyTuple_Pack</span>(8, __pyx_n_s_X, __pyx_n_s_target, __pyx_n_s_target_names, __pyx_n_s_y, __pyx_n_s_genexpr, __pyx_n_s_genexpr, __pyx_n_s_genexpr, __pyx_n_s_i);<span class='error_goto'> if (unlikely(!__pyx_tuple__176)) __PYX_ERR(0, 2664, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__176);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__176);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2664,0,<span class='error_goto'>__PYX_ERR(0, 2664, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2664, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_target, __pyx_kp_s_Union_ArrayLike_int_str_List_Uni) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2664, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_63_extract_target, 0, __pyx_n_s_extract_target, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__86));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2664, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_3, __pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_extract_target, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2664, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_codeobj__86 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(2, 0, 0, 8, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__176, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_extract_target, 2664, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__86)) __PYX_ERR(0, 2664, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2665</span>:         X, target: Union[ArrayLike, int, str, List[Union[int, str]]]):</pre>
<pre class="cython line score-0">&#xA0;<span class="">2666</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2667</span>:     Extracts and validates the target variable(s) from the dataset.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2668</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2669</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">2670</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2671</span>:     X : pd.DataFrame or np.ndarray</pre>
<pre class="cython line score-0">&#xA0;<span class="">2672</span>:         The dataset from which to extract the target variable(s).</pre>
<pre class="cython line score-0">&#xA0;<span class="">2673</span>:     target : ArrayLike, int, str, or list of int/str</pre>
<pre class="cython line score-0">&#xA0;<span class="">2674</span>:         The target variable(s) to be used. If an array-like or DataFrame,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2675</span>:         it's directly used as `y`. If an int or str (or list of them), it</pre>
<pre class="cython line score-0">&#xA0;<span class="">2676</span>:         indicates the column(s) in `X` to be used as `y`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2677</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2678</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">2679</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2680</span>:     X : pd.DataFrame or np.ndarray</pre>
<pre class="cython line score-0">&#xA0;<span class="">2681</span>:         The dataset without the target column(s).</pre>
<pre class="cython line score-0">&#xA0;<span class="">2682</span>:     y : pd.Series, np.ndarray, pd.DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">2683</span>:         The target variable(s).</pre>
<pre class="cython line score-0">&#xA0;<span class="">2684</span>:     target_names : list of str</pre>
<pre class="cython line score-0">&#xA0;<span class="">2685</span>:         The names of the target variable(s) for labeling purposes.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2686</span>:     """</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2687</span>:     target_names = []</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(2687,0,<span class='error_goto'>__PYX_ERR(0, 2687, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2687, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_target_names = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2688</span>: </pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2689</span>:     if isinstance(target, (list, pd.DataFrame)) or (</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(2689,0,<span class='error_goto'>__PYX_ERR(0, 2689, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2689, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2689, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_5 = <span class='py_c_api'>PyList_Check</span>(__pyx_v_target); 
  if (!__pyx_t_5) {
  } else {
    __pyx_t_4 = __pyx_t_5;
    goto __pyx_L6_bool_binop_done;
  }
  __pyx_t_5 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_target, __pyx_t_3); 
  __pyx_t_4 = __pyx_t_5;
  __pyx_L6_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (!__pyx_t_4) {
  } else {
    __pyx_t_2 = __pyx_t_4;
    goto __pyx_L4_bool_binop_done;
  }
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2689,0,<span class='error_goto'>__PYX_ERR(0, 2689, __pyx_L1_error)</span>)
  if (__pyx_t_2) {
/*  */
    goto __pyx_L3;
  }
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2690</span>:             isinstance(target, pd.Series) and not isinstance(X, np.ndarray)):</pre>
<pre class='cython code score-22 '>  <span class='trace'>__Pyx_TraceLine</span>(2690,0,<span class='error_goto'>__PYX_ERR(0, 2690, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2690, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2690, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_4 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_target, __pyx_t_1);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(0, 2690, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_4) {
  } else {
    __pyx_t_2 = __pyx_t_4;
    goto __pyx_L4_bool_binop_done;
  }
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2690, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_ndarray);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2690, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_4 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_X, __pyx_t_3);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(0, 2690, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_5 = (!__pyx_t_4);
  __pyx_t_2 = __pyx_t_5;
  __pyx_L4_bool_binop_done:;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2691</span>:         if isinstance(target, list):  # List of column names or indexes</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(2691,0,<span class='error_goto'>__PYX_ERR(0, 2691, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyList_Check</span>(__pyx_v_target); 
    if (__pyx_t_2) {
/*  */
      goto __pyx_L9;
    }
</pre><pre class="cython line score-85" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2692</span>:             if all(isinstance(t, str) for t in target):</pre>
<pre class='cython code score-85 '>static PyObject *__pyx_pf_6gofast_5tools_7mlutils_15_extract_target_genexpr(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_genexpr_arg_0) {
  struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_8_genexpr *__pyx_cur_scope;
  PyObject *__pyx_r = NULL;
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_8_genexpr *)__pyx_tp_new_6gofast_5tools_7mlutils___pyx_scope_struct_8_genexpr(__pyx_ptype_6gofast_5tools_7mlutils___pyx_scope_struct_8_genexpr, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_8_genexpr *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 2692, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  __pyx_cur_scope-&gt;__pyx_genexpr_arg_0 = __pyx_genexpr_arg_0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  {
    __pyx_CoroutineObject *gen = <span class='pyx_c_api'>__Pyx_Generator_New</span>((__pyx_coroutine_body_t) __pyx_gb_6gofast_5tools_7mlutils_15_extract_target_2generator2, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_extract_target_locals_genexpr, __pyx_n_s_gofast_tools_mlutils);<span class='error_goto'> if (unlikely(!gen)) __PYX_ERR(0, 2692, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_cur_scope);
    <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
    return (PyObject *) gen;
  }

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._extract_target.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_gb_6gofast_5tools_7mlutils_15_extract_target_2generator2(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
{
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("genexpr", 0);
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_L3_first_run:;
  if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 2692, __pyx_L1_error)</span>
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>(".0"); <span class='error_goto'>__PYX_ERR(0, 2692, __pyx_L1_error)</span> }
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) {
    __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_genexpr_arg_0; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    __pyx_t_2 = 0;
    __pyx_t_3 = NULL;
  } else {
    __pyx_t_2 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2692, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2692, __pyx_L1_error)</span>
  }
  for (;;) {
    if (likely(!__pyx_t_3)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2692, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2692, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2692, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2692, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2692, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2692, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      }
    } else {
      __pyx_t_4 = __pyx_t_3(__pyx_t_1);
      if (unlikely(!__pyx_t_4)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 2692, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    }
    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_cur_scope-&gt;__pyx_v_t);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_cur_scope-&gt;__pyx_v_t, __pyx_t_4);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
    __pyx_t_4 = 0;
    __pyx_t_5 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_cur_scope-&gt;__pyx_v_t); 
    __pyx_t_6 = (!__pyx_t_5);
    if (__pyx_t_6) {
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_False);
      __pyx_r = Py_False;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      goto __pyx_L0;
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  /*else*/ {
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_True);
    __pyx_r = Py_True;
    goto __pyx_L0;
  }
  CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);

  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_Generator_Replace_StopIteration</span>(0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  #if !CYTHON_USE_EXC_INFO_STACK
  <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
  #endif
  __pyx_generator-&gt;resume_label = -1;
  <span class='pyx_c_api'>__Pyx_Coroutine_clear</span>((PyObject*)__pyx_generator);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
static PyObject *__pyx_gb_6gofast_5tools_7mlutils_15_extract_target_5generator3(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(2692,0,<span class='error_goto'>__PYX_ERR(0, 2692, __pyx_L1_error)</span>)
      __pyx_t_3 = __pyx_pf_6gofast_5tools_7mlutils_15_extract_target_genexpr(NULL, __pyx_v_target);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2692, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_Generator_Next</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2692, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_1); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2692, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (__pyx_t_2) {
/*  */
        goto __pyx_L10;
      }
/*  */
struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_8_genexpr {
  PyObject_HEAD
  PyObject *__pyx_genexpr_arg_0;
  PyObject *__pyx_v_t;
};

</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2693</span>:                 y = X[target]</pre>
<pre class='cython code score-2 '>        <span class='trace'>__Pyx_TraceLine</span>(2693,0,<span class='error_goto'>__PYX_ERR(0, 2693, __pyx_L1_error)</span>)
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_X, __pyx_v_target);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2693, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        __pyx_v_y = __pyx_t_1;
        __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2694</span>:                 target_names = target</pre>
<pre class='cython code score-2 '>        <span class='trace'>__Pyx_TraceLine</span>(2694,0,<span class='error_goto'>__PYX_ERR(0, 2694, __pyx_L1_error)</span>)
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_target_names, __pyx_v_target);
</pre><pre class="cython line score-85" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2695</span>:             elif all(isinstance(t, int) for t in target):</pre>
<pre class='cython code score-85 '>static PyObject *__pyx_pf_6gofast_5tools_7mlutils_15_extract_target_3genexpr(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_genexpr_arg_0) {
  struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_9_genexpr *__pyx_cur_scope;
  PyObject *__pyx_r = NULL;
  __pyx_cur_scope = (struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_9_genexpr *)__pyx_tp_new_6gofast_5tools_7mlutils___pyx_scope_struct_9_genexpr(__pyx_ptype_6gofast_5tools_7mlutils___pyx_scope_struct_9_genexpr, __pyx_empty_tuple, NULL);
  if (unlikely(!__pyx_cur_scope)) {
    __pyx_cur_scope = ((struct __pyx_obj_6gofast_5tools_7mlutils___pyx_scope_struct_9_genexpr *)Py_None);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='error_goto'>__PYX_ERR(0, 2695, __pyx_L1_error)</span>
  } else {
    <span class='refnanny'>__Pyx_GOTREF</span>((PyObject *)__pyx_cur_scope);
  }
  __pyx_cur_scope-&gt;__pyx_genexpr_arg_0 = __pyx_genexpr_arg_0;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);
  {
    __pyx_CoroutineObject *gen = <span class='pyx_c_api'>__Pyx_Generator_New</span>((__pyx_coroutine_body_t) __pyx_gb_6gofast_5tools_7mlutils_15_extract_target_5generator3, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_extract_target_locals_genexpr, __pyx_n_s_gofast_tools_mlutils);<span class='error_goto'> if (unlikely(!gen)) __PYX_ERR(0, 2695, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_cur_scope);
    <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
    return (PyObject *) gen;
  }

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._extract_target.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>((PyObject *)__pyx_cur_scope);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_gb_6gofast_5tools_7mlutils_15_extract_target_5generator3(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
{
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("genexpr", 0);
  <span class='trace'>__Pyx_TraceDeclarations</span>
  __pyx_L3_first_run:;
  if (unlikely(!__pyx_sent_value)) <span class='error_goto'>__PYX_ERR(0, 2695, __pyx_L1_error)</span>
  if (unlikely(!__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>(".0"); <span class='error_goto'>__PYX_ERR(0, 2695, __pyx_L1_error)</span> }
  if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0)) {
    __pyx_t_1 = __pyx_cur_scope-&gt;__pyx_genexpr_arg_0; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    __pyx_t_2 = 0;
    __pyx_t_3 = NULL;
  } else {
    __pyx_t_2 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_cur_scope-&gt;__pyx_genexpr_arg_0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2695, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2695, __pyx_L1_error)</span>
  }
  for (;;) {
    if (likely(!__pyx_t_3)) {
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2695, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2695, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2695, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      } else {
        {
          Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
          #if !CYTHON_ASSUME_SAFE_MACROS
          if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2695, __pyx_L1_error)</span>
          #endif
          if (__pyx_t_2 &gt;= __pyx_temp) break;
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_2); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4); __pyx_t_2++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2695, __pyx_L1_error)</span>
        #else
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_2); __pyx_t_2++;<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2695, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        #endif
      }
    } else {
      __pyx_t_4 = __pyx_t_3(__pyx_t_1);
      if (unlikely(!__pyx_t_4)) {
        PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
        if (exc_type) {
          if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
          else <span class='error_goto'>__PYX_ERR(0, 2695, __pyx_L1_error)</span>
        }
        break;
      }
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    }
    <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_cur_scope-&gt;__pyx_v_t);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_cur_scope-&gt;__pyx_v_t, __pyx_t_4);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
    __pyx_t_4 = 0;
    __pyx_t_5 = <span class='py_c_api'>PyInt_Check</span>(__pyx_cur_scope-&gt;__pyx_v_t); 
    __pyx_t_6 = (!__pyx_t_5);
    if (__pyx_t_6) {
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_False);
      __pyx_r = Py_False;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      goto __pyx_L0;
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  /*else*/ {
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_True);
    __pyx_r = Py_True;
    goto __pyx_L0;
  }
  CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);

  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_c_api'>__Pyx_Generator_Replace_StopIteration</span>(0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  #if !CYTHON_USE_EXC_INFO_STACK
  <span class='pyx_c_api'>__Pyx_Coroutine_ResetAndClearException</span>(__pyx_generator);
  #endif
  __pyx_generator-&gt;resume_label = -1;
  <span class='pyx_c_api'>__Pyx_Coroutine_clear</span>((PyObject*)__pyx_generator);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(2695,0,<span class='error_goto'>__PYX_ERR(0, 2695, __pyx_L1_error)</span>)
      __pyx_t_1 = __pyx_pf_6gofast_5tools_7mlutils_15_extract_target_3genexpr(NULL, __pyx_v_target);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2695, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_Generator_Next</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2695, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_3); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2695, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (__pyx_t_2) {
/*  */
      }
      __pyx_L10:;
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2696</span>:                 y = X.iloc[:, target]</pre>
<pre class='cython code score-17 '>        <span class='trace'>__Pyx_TraceLine</span>(2696,0,<span class='error_goto'>__PYX_ERR(0, 2696, __pyx_L1_error)</span>)
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_iloc);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2696, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2696, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_slice__25);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_slice__25);
        if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_slice__25)) <span class='error_goto'>__PYX_ERR(0, 2696, __pyx_L1_error)</span>;
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target);
        if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_v_target)) <span class='error_goto'>__PYX_ERR(0, 2696, __pyx_L1_error)</span>;
        __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_t_3, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2696, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        __pyx_v_y = __pyx_t_6;
        __pyx_t_6 = 0;
</pre><pre class="cython line score-65" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2697</span>:                 target_names = [X.columns[i] for i in target]</pre>
<pre class='cython code score-65 '>        <span class='trace'>__Pyx_TraceLine</span>(2697,0,<span class='error_goto'>__PYX_ERR(0, 2697, __pyx_L1_error)</span>)
        { /* enter inner scope */
          __pyx_t_6 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2697, __pyx_L13_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
          if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_target)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_target)) {
            __pyx_t_1 = __pyx_v_target; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
            __pyx_t_7 = 0;
            __pyx_t_8 = NULL;
          } else {
            __pyx_t_7 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_target);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2697, __pyx_L13_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
            __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2697, __pyx_L13_error)</span>
          }
          for (;;) {
            if (likely(!__pyx_t_8)) {
              if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
                {
                  Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
                  #if !CYTHON_ASSUME_SAFE_MACROS
                  if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2697, __pyx_L13_error)</span>
                  #endif
                  if (__pyx_t_7 &gt;= __pyx_temp) break;
                }
                #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
                __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_7); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3); __pyx_t_7++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2697, __pyx_L13_error)</span>
                #else
                __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_7); __pyx_t_7++;<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2697, __pyx_L13_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
                #endif
              } else {
                {
                  Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
                  #if !CYTHON_ASSUME_SAFE_MACROS
                  if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2697, __pyx_L13_error)</span>
                  #endif
                  if (__pyx_t_7 &gt;= __pyx_temp) break;
                }
                #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
                __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_7); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3); __pyx_t_7++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2697, __pyx_L13_error)</span>
                #else
                __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_7); __pyx_t_7++;<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2697, __pyx_L13_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
                #endif
              }
            } else {
              __pyx_t_3 = __pyx_t_8(__pyx_t_1);
              if (unlikely(!__pyx_t_3)) {
                PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
                if (exc_type) {
                  if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
                  else <span class='error_goto'>__PYX_ERR(0, 2697, __pyx_L13_error)</span>
                }
                break;
              }
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
            }
            <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr12__pyx_v_i, __pyx_t_3);
            __pyx_t_3 = 0;
            __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2697, __pyx_L13_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
            __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_t_3, __pyx_9genexpr12__pyx_v_i);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2697, __pyx_L13_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
            if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_6, (PyObject*)__pyx_t_9))) <span class='error_goto'>__PYX_ERR(0, 2697, __pyx_L13_error)</span>
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
          }
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr12__pyx_v_i); __pyx_9genexpr12__pyx_v_i = 0;
          goto __pyx_L17_exit_scope;
          __pyx_L13_error:;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr12__pyx_v_i); __pyx_9genexpr12__pyx_v_i = 0;
          goto __pyx_L1_error;
          __pyx_L17_exit_scope:;
        } /* exit inner scope */
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_target_names, __pyx_t_6);
        __pyx_t_6 = 0;
</pre><pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2698</span>:             X = X.drop(columns=target_names)</pre>
<pre class='cython code score-14 '>      <span class='trace'>__Pyx_TraceLine</span>(2698,0,<span class='error_goto'>__PYX_ERR(0, 2698, __pyx_L1_error)</span>)
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_drop);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2698, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2698, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_columns, __pyx_v_target_names) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2698, __pyx_L1_error)</span>
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_6, __pyx_empty_tuple, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2698, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_X, __pyx_t_9);
      __pyx_t_9 = 0;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2699</span>:         elif isinstance(target, pd.DataFrame):</pre>
<pre class='cython code score-11 '>    <span class='trace'>__Pyx_TraceLine</span>(2699,0,<span class='error_goto'>__PYX_ERR(0, 2699, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_9, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2699, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_9, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2699, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    __pyx_t_2 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_target, __pyx_t_1);<span class='error_goto'> if (unlikely(__pyx_t_2 == ((int)-1))) __PYX_ERR(0, 2699, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (__pyx_t_2) {
/*  */
      goto __pyx_L9;
    }
</pre><pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2700</span>:             y = target</pre>
<pre class='cython code score-1 '>      <span class='trace'>__Pyx_TraceLine</span>(2700,0,<span class='error_goto'>__PYX_ERR(0, 2700, __pyx_L1_error)</span>)
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target);
      __pyx_v_y = __pyx_v_target;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2701</span>:             target_names = target.columns.tolist()</pre>
<pre class='cython code score-20 '>      <span class='trace'>__Pyx_TraceLine</span>(2701,0,<span class='error_goto'>__PYX_ERR(0, 2701, __pyx_L1_error)</span>)
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_target, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2701, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_9, __pyx_n_s_tolist);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2701, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_9 = NULL;
      __pyx_t_10 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
        __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
        if (likely(__pyx_t_9)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
          __pyx_t_10 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_9, NULL};
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_10, 0+__pyx_t_10);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2701, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_target_names, __pyx_t_1);
      __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2702</span>:             # Assuming target DataFrame is not part of X</pre>
<pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2703</span>:         elif isinstance(target, pd.Series):</pre>
<pre class='cython code score-11 '>    <span class='trace'>__Pyx_TraceLine</span>(2703,0,<span class='error_goto'>__PYX_ERR(0, 2703, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2703, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2703, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_2 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_target, __pyx_t_6);<span class='error_goto'> if (unlikely(__pyx_t_2 == ((int)-1))) __PYX_ERR(0, 2703, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    if (__pyx_t_2) {
/*  */
    }
    __pyx_L9:;
</pre><pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2704</span>:             y = target</pre>
<pre class='cython code score-1 '>      <span class='trace'>__Pyx_TraceLine</span>(2704,0,<span class='error_goto'>__PYX_ERR(0, 2704, __pyx_L1_error)</span>)
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target);
      __pyx_v_y = __pyx_v_target;
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2705</span>:             target_names = [target.name] if target.name else ["target"]</pre>
<pre class='cython code score-23 '>      <span class='trace'>__Pyx_TraceLine</span>(2705,0,<span class='error_goto'>__PYX_ERR(0, 2705, __pyx_L1_error)</span>)
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_target, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2705, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_1); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2705, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (__pyx_t_2) {
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_target, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2705, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        __pyx_t_9 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2705, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
        if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_9, 0, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2705, __pyx_L1_error)</span>;
        __pyx_t_1 = 0;
        __pyx_t_6 = __pyx_t_9;
        __pyx_t_9 = 0;
      } else {
        __pyx_t_9 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2705, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_target);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_target);
        if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_9, 0, __pyx_n_u_target)) <span class='error_goto'>__PYX_ERR(0, 2705, __pyx_L1_error)</span>;
        __pyx_t_6 = __pyx_t_9;
        __pyx_t_9 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_target_names, __pyx_t_6);
      __pyx_t_6 = 0;
</pre><pre class="cython line score-13" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2706</span>:             if target.name and target.name in X.columns:</pre>
<pre class='cython code score-13 '>      <span class='trace'>__Pyx_TraceLine</span>(2706,0,<span class='error_goto'>__PYX_ERR(0, 2706, __pyx_L1_error)</span>)
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_target, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2706, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_6); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2706, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (__pyx_t_5) {
      } else {
        __pyx_t_2 = __pyx_t_5;
        goto __pyx_L19_bool_binop_done;
      }
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_target, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2706, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2706, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_t_6, __pyx_t_9, Py_EQ)); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2706, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_2 = __pyx_t_5;
      __pyx_L19_bool_binop_done:;
      if (__pyx_t_2) {
/*  */
      }
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2707</span>:                 X = X.drop(columns=target.name)</pre>
<pre class='cython code score-17 '>        <span class='trace'>__Pyx_TraceLine</span>(2707,0,<span class='error_goto'>__PYX_ERR(0, 2707, __pyx_L1_error)</span>)
        __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_drop);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2707, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
        __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2707, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_target, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2707, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_columns, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2707, __pyx_L1_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_9, __pyx_empty_tuple, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2707, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_X, __pyx_t_1);
        __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2708</span>: </pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2709</span>:     elif isinstance(target, (int, str)):</pre>
<pre class='cython code score-10 '>  <span class='trace'>__Pyx_TraceLine</span>(2709,0,<span class='error_goto'>__PYX_ERR(0, 2709, __pyx_L1_error)</span>)
  __pyx_t_5 = <span class='py_c_api'>PyInt_Check</span>(__pyx_v_target); 
  if (!__pyx_t_5) {
  } else {
    __pyx_t_2 = __pyx_t_5;
    goto __pyx_L21_bool_binop_done;
  }
  __pyx_t_5 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_target); 
  __pyx_t_2 = __pyx_t_5;
  __pyx_L21_bool_binop_done:;
  if (__pyx_t_2) {
/*  */
    goto __pyx_L3;
  }
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2710</span>:         if isinstance(target, str):</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(2710,0,<span class='error_goto'>__PYX_ERR(0, 2710, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_target); 
    if (__pyx_t_2) {
/*  */
      goto __pyx_L23;
    }
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2711</span>:             y = X.pop(target)</pre>
<pre class='cython code score-16 '>      <span class='trace'>__Pyx_TraceLine</span>(2711,0,<span class='error_goto'>__PYX_ERR(0, 2711, __pyx_L1_error)</span>)
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_pop);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2711, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_9 = NULL;
      __pyx_t_10 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
        __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
        if (likely(__pyx_t_9)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
          __pyx_t_10 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_9, __pyx_v_target};
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_10, 1+__pyx_t_10);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2711, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      }
      __pyx_v_y = __pyx_t_1;
      __pyx_t_1 = 0;
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2712</span>:             target_names = [target]</pre>
<pre class='cython code score-9 '>      <span class='trace'>__Pyx_TraceLine</span>(2712,0,<span class='error_goto'>__PYX_ERR(0, 2712, __pyx_L1_error)</span>)
      __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2712, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_target)) <span class='error_goto'>__PYX_ERR(0, 2712, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_target_names, __pyx_t_1);
      __pyx_t_1 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2713</span>:         elif isinstance(target, int):</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(2713,0,<span class='error_goto'>__PYX_ERR(0, 2713, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyInt_Check</span>(__pyx_v_target); 
    if (__pyx_t_2) {
/*  */
    }
    __pyx_L23:;
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2714</span>:             y = X.iloc[:, target]</pre>
<pre class='cython code score-17 '>      <span class='trace'>__Pyx_TraceLine</span>(2714,0,<span class='error_goto'>__PYX_ERR(0, 2714, __pyx_L1_error)</span>)
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_iloc);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2714, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2714, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_slice__25);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_slice__25);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_slice__25)) <span class='error_goto'>__PYX_ERR(0, 2714, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 1, __pyx_v_target)) <span class='error_goto'>__PYX_ERR(0, 2714, __pyx_L1_error)</span>;
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_t_1, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2714, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_v_y = __pyx_t_9;
      __pyx_t_9 = 0;
</pre><pre class="cython line score-13" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2715</span>:             target_names = [X.columns[target]]</pre>
<pre class='cython code score-13 '>      <span class='trace'>__Pyx_TraceLine</span>(2715,0,<span class='error_goto'>__PYX_ERR(0, 2715, __pyx_L1_error)</span>)
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2715, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_t_9, __pyx_v_target);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2715, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_9 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2715, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_6);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_9, 0, __pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 2715, __pyx_L1_error)</span>;
      __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_target_names, __pyx_t_9);
      __pyx_t_9 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2716</span>:             X = X.drop(columns=X.columns[target])</pre>
<pre class='cython code score-20 '>      <span class='trace'>__Pyx_TraceLine</span>(2716,0,<span class='error_goto'>__PYX_ERR(0, 2716, __pyx_L1_error)</span>)
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_drop);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2716, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2716, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2716, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_t_1, __pyx_v_target);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2716, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_columns, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2716, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_9, __pyx_empty_tuple, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2716, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_X, __pyx_t_3);
      __pyx_t_3 = 0;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2717</span>:     elif isinstance(target, np.ndarray) or (</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(2717,0,<span class='error_goto'>__PYX_ERR(0, 2717, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2717, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_ndarray);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2717, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_5 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_target, __pyx_t_6);<span class='error_goto'> if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 2717, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  if (!__pyx_t_5) {
  } else {
    __pyx_t_2 = __pyx_t_5;
    goto __pyx_L24_bool_binop_done;
  }
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2717,0,<span class='error_goto'>__PYX_ERR(0, 2717, __pyx_L1_error)</span>)
  if (likely(__pyx_t_2)) {
/*  */
    goto __pyx_L3;
  }
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2718</span>:             isinstance(target, pd.Series) and isinstance(X, np.ndarray)):</pre>
<pre class='cython code score-22 '>  <span class='trace'>__Pyx_TraceLine</span>(2718,0,<span class='error_goto'>__PYX_ERR(0, 2718, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2718, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2718, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_5 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_target, __pyx_t_3);<span class='error_goto'> if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 2718, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (__pyx_t_5) {
  } else {
    __pyx_t_2 = __pyx_t_5;
    goto __pyx_L24_bool_binop_done;
  }
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2718, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_ndarray);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2718, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_5 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_X, __pyx_t_6);<span class='error_goto'> if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 2718, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_2 = __pyx_t_5;
  __pyx_L24_bool_binop_done:;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2719</span>:         y = np.array(target)</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(2719,0,<span class='error_goto'>__PYX_ERR(0, 2719, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2719, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_array_2);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2719, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = NULL;
    __pyx_t_10 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
        __pyx_t_10 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_target};
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_10, 1+__pyx_t_10);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 2719, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    }
    __pyx_v_y = __pyx_t_6;
    __pyx_t_6 = 0;
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2720</span>:         target_names = ["target"]</pre>
<pre class='cython code score-9 '>    <span class='trace'>__Pyx_TraceLine</span>(2720,0,<span class='error_goto'>__PYX_ERR(0, 2720, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2720, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_target);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_target);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_6, 0, __pyx_n_u_target)) <span class='error_goto'>__PYX_ERR(0, 2720, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_target_names, __pyx_t_6);
    __pyx_t_6 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2721</span>:     else:</pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2722</span>:         raise ValueError("Unsupported target type or target does not match X dimensions.")</pre>
<pre class='cython code score-10 '>  <span class='trace'>__Pyx_TraceLine</span>(2722,0,<span class='error_goto'>__PYX_ERR(0, 2722, __pyx_L1_error)</span>)
  /*else*/ {
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__87, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2722, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_6, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='error_goto'>__PYX_ERR(0, 2722, __pyx_L1_error)</span>
  }
  __pyx_L3:;
/*  */
  __pyx_tuple__87 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Unsupported_target_type_or_targe);<span class='error_goto'> if (unlikely(!__pyx_tuple__87)) __PYX_ERR(0, 2722, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__87);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__87);
</pre><pre class="cython line score-0">&#xA0;<span class="">2723</span>: </pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2724</span>:     check_consistent_length(X, y)</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(2724,0,<span class='error_goto'>__PYX_ERR(0, 2724, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_9, __pyx_n_s_check_consistent_length);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2724, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  if (unlikely(!__pyx_v_y)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("y"); <span class='error_goto'>__PYX_ERR(0, 2724, __pyx_L1_error)</span> }
  __pyx_t_3 = NULL;
  __pyx_t_10 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
      __pyx_t_10 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_3, __pyx_v_X, __pyx_v_y};
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_10, 2+__pyx_t_10);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 2724, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2725</span>: </pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2726</span>:     return X, y, target_names</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(2726,0,<span class='error_goto'>__PYX_ERR(0, 2726, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  if (unlikely(!__pyx_v_y)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("y"); <span class='error_goto'>__PYX_ERR(0, 2726, __pyx_L1_error)</span> }
  __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2726, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_v_X)) <span class='error_goto'>__PYX_ERR(0, 2726, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_y);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 1, __pyx_v_y)) <span class='error_goto'>__PYX_ERR(0, 2726, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_names);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target_names);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 2, __pyx_v_target_names)) <span class='error_goto'>__PYX_ERR(0, 2726, __pyx_L1_error)</span>;
  __pyx_r = __pyx_t_6;
  __pyx_t_6 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2727</span>: </pre>
<pre class="cython line score-127" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2728</span>: def smart_split(</pre>
<pre class='cython code score-127 '>static PyObject *__pyx_pf_6gofast_5tools_7mlutils_123__defaults__(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceCall</span>("__defaults__", __pyx_f[0], 2728, 0, <span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2728,0,<span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(6);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2728, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, Py_None)) <span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(<span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults6, __pyx_self)-&gt;__pyx_arg_random_state);
  <span class='refnanny'>__Pyx_GIVEREF</span>(<span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults6, __pyx_self)-&gt;__pyx_arg_random_state);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 2, <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults6, __pyx_self)-&gt;__pyx_arg_random_state)) <span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(((PyObject *)Py_False));
  <span class='refnanny'>__Pyx_GIVEREF</span>(((PyObject *)Py_False));
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 3, ((PyObject *)Py_False))) <span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(((PyObject *)Py_True));
  <span class='refnanny'>__Pyx_GIVEREF</span>(((PyObject *)Py_True));
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 4, ((PyObject *)Py_True))) <span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(((PyObject *)Py_False));
  <span class='refnanny'>__Pyx_GIVEREF</span>(((PyObject *)Py_False));
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 5, ((PyObject *)Py_False))) <span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L1_error)</span>;
  __pyx_t_1 = 0;
  __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2728, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, Py_None)) <span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L1_error)</span>;
  __pyx_t_2 = 0;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.__defaults__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_65smart_split(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_64smart_split, "\n    Splits data into training and test sets, with the option to extract and \n    handle multiple target variables. \n    \n    Function supports both single and multi-label targets and maintains \n    compatibility with pandas DataFrame and numpy ndarray.\n\n    Parameters\n    ----------\n    X : np.ndarray or pd.DataFrame\n        The input data to be split. This can be either feature data alone or \n        include the target column(s) if the `target` parameter is used to specify \n        target column(s) for extraction.\n    target : int, str, list of int/str, pd.Series, pd.DataFrame, optional\n        Specifies the target variable(s) for supervised learning problems. \n        It can be:\n        - An integer or string specifying the column index or name in `X` to \n          be used as the target variable.\n        - A list of integers or strings for multi-label targets.\n        - A pandas Series or DataFrame directly specifying the target variable(s).\n        If `target` is provided as an array-like object or DataFrame, its \n        length must match the number of samples in `X`.\n    test_size : float, optional\n        Represents the proportion of the dataset to include in the test split. \n        Must be between 0.0 and 1.0.\n    random_state : int, optional\n        Sets the seed for random operations, ensuring reproducible splits.\n    stratify : bool, optional\n        Ensures that the train and test sets have approximately the same \n        percentage of samples of each target class if set to True.\n    shuffle : bool, optional\n        Determines whether to shuffle the dataset before splitting. \n    return_df : bool, optional\n        If True and `X` is a DataFrame, returns the splits as pandas DataFrames/Series. \n        Otherwise, returns numpy ndarrays.\n    skws : dict\n        Additional keyword arguments for `train_test_split`, allowing customization \n        of the split beyond the parameters explicitly mentioned here.\n\n    Return""s\n    -------\n    Depending on the inputs and `return_df`:\n    - If `target` is not specified: X_train, X_test\n    - If `target` is specified: X_train, X_test, y_train, y_test\n    `X_train` and `X_test` are the splits of the input data, while `y_train` and \n    `y_test` are the splits of the target variable(s) if provided.\n\n    Examples\n    --------\n    &gt;&gt;&gt; import pandas as pd\n    &gt;&gt;&gt; from gofast.tools.mlutils import smart_split\n    &gt;&gt;&gt; data = pd.DataFrame({\n    ...     'Feature1': [1, 2, 3, 4],\n    ...     'Feature2': [4, 3, 2, 1],\n    ...     'Target': [0, 1, 0, 1]\n    ... })\n    &gt;&gt;&gt; # Single target specified as a column name\n    &gt;&gt;&gt; X_train, X_test, y_train, y_test = smart_split(\n    ... data, target='Target', return_df=True)\n    &gt;&gt;&gt; print(X_train.shape, X_test.shape, y_train.shape, y_test.shape)\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_65smart_split = {"smart_split", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_65smart_split, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_64smart_split};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_65smart_split(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_X = 0;
  PyObject *__pyx_v_target = 0;
  double __pyx_v_test_size;
  PyObject *__pyx_v_random_state = 0;
  PyObject *__pyx_v_stratify = 0;
  PyObject *__pyx_v_shuffle = 0;
  PyObject *__pyx_v_return_df = 0;
  PyObject *__pyx_v_skws = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("smart_split (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  __pyx_v_skws = <span class='py_c_api'>PyDict_New</span>(); if (unlikely(!__pyx_v_skws)) return NULL;
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_v_skws);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_X,&amp;__pyx_n_s_target,&amp;__pyx_n_s_test_size,&amp;__pyx_n_s_random_state,&amp;__pyx_n_s_stratify,&amp;__pyx_n_s_shuffle,&amp;__pyx_n_s_return_df,0};
  PyObject* values[7] = {0,0,0,0,0,0,0};
    __pyx_defaults6 *__pyx_dynamic_args = <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults6, __pyx_self);
/*  */
  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_skws);
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_64smart_split(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_X, PyObject *__pyx_v_target, double __pyx_v_test_size, PyObject *__pyx_v_random_state, PyObject *__pyx_v_stratify, PyObject *__pyx_v_shuffle, PyObject *__pyx_v_return_df, PyObject *__pyx_v_skws) {
  PyObject *__pyx_v_y = NULL;
  PyObject *__pyx_v_target_names = NULL;
  PyObject *__pyx_v_stratify_param = NULL;
  PyObject *__pyx_v_X_train = NULL;
  PyObject *__pyx_v_X_test = NULL;
  PyObject *__pyx_v_y_train = NULL;
  PyObject *__pyx_v_y_test = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__88)
  <span class='trace'>__Pyx_TraceCall</span>("smart_split", __pyx_f[0], 2728, 0, <span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.smart_split", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_y);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_target_names);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_stratify_param);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_X_train);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_X_test);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_y_train);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_y_test);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_X);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__177 = <span class='py_c_api'>PyTuple_Pack</span>(15, __pyx_n_s_X, __pyx_n_s_target, __pyx_n_s_test_size, __pyx_n_s_random_state, __pyx_n_s_stratify, __pyx_n_s_shuffle, __pyx_n_s_return_df, __pyx_n_s_skws, __pyx_n_s_y, __pyx_n_s_target_names, __pyx_n_s_stratify_param, __pyx_n_s_X_train, __pyx_n_s_X_test, __pyx_n_s_y_train, __pyx_n_s_y_test);<span class='error_goto'> if (unlikely(!__pyx_tuple__177)) __PYX_ERR(0, 2728, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__177);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__177);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2728,0,<span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(7);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2728, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_target, __pyx_kp_s_Optional_Union_ArrayLike_int_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_test_size, __pyx_n_s_float) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_random_state, __pyx_n_s_int) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_stratify, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_shuffle, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return_df, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return, __pyx_kp_s_Union_Tuple_DataFrame_DataFrame) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_65smart_split, 0, __pyx_n_s_smart_split, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__88));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2728, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (!<span class='pyx_c_api'>__Pyx_CyFunction_InitDefaults</span>(__pyx_t_4, sizeof(__pyx_defaults6), 1)) <span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L1_error)</span>
  __pyx_codeobj__88 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(7, 0, 0, 15, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__177, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_smart_split, 2728, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__88)) __PYX_ERR(0, 2728, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2729</span>:     X,</pre>
<pre class="cython line score-124" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2730</span>:     target: Optional[Union[ArrayLike, int, str, List[Union[int, str]]]] = None,</pre>
<pre class='cython code score-124 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(__pyx_dynamic_args-&gt;__pyx_arg_random_state);
    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_True)));
    values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  7: values[6] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 6);
        CYTHON_FALLTHROUGH;
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_X)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_target);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_test_size);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_random_state);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_stratify);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  5:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_shuffle);
          if (value) { values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  6:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_return_df);
          if (value) { values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, __pyx_v_skws, values + 0, kwd_pos_args, "smart_split") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  7: values[6] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 6);
        CYTHON_FALLTHROUGH;
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_X = values[0];
    __pyx_v_target = values[1];
    if (values[2]) {
      __pyx_v_test_size = __pyx_<span class='py_c_api'>PyFloat_AsDouble</span>(values[2]); if (unlikely((__pyx_v_test_size == (double)-1) &amp;&amp; <span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2731, __pyx_L3_error)</span>
    } else {
      __pyx_v_test_size = ((double)((double)0.2));
    }
    __pyx_v_random_state = ((PyObject*)values[3]);
    __pyx_v_stratify = values[4];
    __pyx_v_shuffle = values[5];
    __pyx_v_return_df = values[6];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("smart_split", 0, 1, 7, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_skws); __pyx_v_skws = 0;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.smart_split", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_random_state), (&amp;PyInt_Type), 0, "random_state", 1))) <span class='error_goto'>__PYX_ERR(0, 2732, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_64smart_split(__pyx_self, __pyx_v_X, __pyx_v_target, __pyx_v_test_size, __pyx_v_random_state, __pyx_v_stratify, __pyx_v_shuffle, __pyx_v_return_df, __pyx_v_skws);
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2731</span>:     test_size: float = 0.2,</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(2731,0,<span class='error_goto'>__PYX_ERR(0, 2731, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyFloat_FromDouble</span>(((double)0.2));<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2731, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2732</span>:     random_state: int = 42,</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(2732,0,<span class='error_goto'>__PYX_ERR(0, 2732, __pyx_L1_error)</span>)
  if (!(likely(__Pyx_Py3Int_CheckExact(__pyx_int_42)) || <span class='pyx_c_api'>__Pyx_RaiseUnexpectedTypeError</span>("int", __pyx_int_42))) <span class='error_goto'>__PYX_ERR(0, 2732, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_int_42);
  <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults6, __pyx_t_4)-&gt;__pyx_arg_random_state = ((PyObject*)__pyx_int_42);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_int_42);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsGetter</span>(__pyx_t_4, __pyx_pf_6gofast_5tools_7mlutils_123__defaults__);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_4, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_smart_split, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2728, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2733</span>:     stratify: bool = False,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2734</span>:     shuffle: bool = True,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2735</span>:     return_df: bool = False,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2736</span>:     **skws</pre>
<pre class="cython line score-0">&#xA0;<span class="">2737</span>: ) -&gt; Union[</pre>
<pre class="cython line score-0">&#xA0;<span class="">2738</span>:     Tuple[DataFrame, DataFrame],</pre>
<pre class="cython line score-0">&#xA0;<span class="">2739</span>:     Tuple[ArrayLike, ArrayLike],</pre>
<pre class="cython line score-0">&#xA0;<span class="">2740</span>:     Tuple[DataFrame, DataFrame, Series, Series],</pre>
<pre class="cython line score-0">&#xA0;<span class="">2741</span>:     Tuple[DataFrame, DataFrame, DataFrame, DataFrame],</pre>
<pre class="cython line score-0">&#xA0;<span class="">2742</span>:     Tuple[ArrayLike, ArrayLike, ArrayLike, ArrayLike]</pre>
<pre class="cython line score-0">&#xA0;<span class="">2743</span>:     ]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">2744</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2745</span>:     Splits data into training and test sets, with the option to extract and</pre>
<pre class="cython line score-0">&#xA0;<span class="">2746</span>:     handle multiple target variables.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2747</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2748</span>:     Function supports both single and multi-label targets and maintains</pre>
<pre class="cython line score-0">&#xA0;<span class="">2749</span>:     compatibility with pandas DataFrame and numpy ndarray.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2750</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2751</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">2752</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2753</span>:     X : np.ndarray or pd.DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">2754</span>:         The input data to be split. This can be either feature data alone or</pre>
<pre class="cython line score-0">&#xA0;<span class="">2755</span>:         include the target column(s) if the `target` parameter is used to specify</pre>
<pre class="cython line score-0">&#xA0;<span class="">2756</span>:         target column(s) for extraction.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2757</span>:     target : int, str, list of int/str, pd.Series, pd.DataFrame, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2758</span>:         Specifies the target variable(s) for supervised learning problems.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2759</span>:         It can be:</pre>
<pre class="cython line score-0">&#xA0;<span class="">2760</span>:         - An integer or string specifying the column index or name in `X` to</pre>
<pre class="cython line score-0">&#xA0;<span class="">2761</span>:           be used as the target variable.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2762</span>:         - A list of integers or strings for multi-label targets.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2763</span>:         - A pandas Series or DataFrame directly specifying the target variable(s).</pre>
<pre class="cython line score-0">&#xA0;<span class="">2764</span>:         If `target` is provided as an array-like object or DataFrame, its</pre>
<pre class="cython line score-0">&#xA0;<span class="">2765</span>:         length must match the number of samples in `X`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2766</span>:     test_size : float, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2767</span>:         Represents the proportion of the dataset to include in the test split.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2768</span>:         Must be between 0.0 and 1.0.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2769</span>:     random_state : int, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2770</span>:         Sets the seed for random operations, ensuring reproducible splits.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2771</span>:     stratify : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2772</span>:         Ensures that the train and test sets have approximately the same</pre>
<pre class="cython line score-0">&#xA0;<span class="">2773</span>:         percentage of samples of each target class if set to True.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2774</span>:     shuffle : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2775</span>:         Determines whether to shuffle the dataset before splitting.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2776</span>:     return_df : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2777</span>:         If True and `X` is a DataFrame, returns the splits as pandas DataFrames/Series.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2778</span>:         Otherwise, returns numpy ndarrays.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2779</span>:     skws : dict</pre>
<pre class="cython line score-0">&#xA0;<span class="">2780</span>:         Additional keyword arguments for `train_test_split`, allowing customization</pre>
<pre class="cython line score-0">&#xA0;<span class="">2781</span>:         of the split beyond the parameters explicitly mentioned here.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2782</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2783</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">2784</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2785</span>:     Depending on the inputs and `return_df`:</pre>
<pre class="cython line score-0">&#xA0;<span class="">2786</span>:     - If `target` is not specified: X_train, X_test</pre>
<pre class="cython line score-0">&#xA0;<span class="">2787</span>:     - If `target` is specified: X_train, X_test, y_train, y_test</pre>
<pre class="cython line score-0">&#xA0;<span class="">2788</span>:     `X_train` and `X_test` are the splits of the input data, while `y_train` and</pre>
<pre class="cython line score-0">&#xA0;<span class="">2789</span>:     `y_test` are the splits of the target variable(s) if provided.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2790</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2791</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">2792</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2793</span>:     &gt;&gt;&gt; import pandas as pd</pre>
<pre class="cython line score-0">&#xA0;<span class="">2794</span>:     &gt;&gt;&gt; from gofast.tools.mlutils import smart_split</pre>
<pre class="cython line score-0">&#xA0;<span class="">2795</span>:     &gt;&gt;&gt; data = pd.DataFrame({</pre>
<pre class="cython line score-0">&#xA0;<span class="">2796</span>:     ...     'Feature1': [1, 2, 3, 4],</pre>
<pre class="cython line score-0">&#xA0;<span class="">2797</span>:     ...     'Feature2': [4, 3, 2, 1],</pre>
<pre class="cython line score-0">&#xA0;<span class="">2798</span>:     ...     'Target': [0, 1, 0, 1]</pre>
<pre class="cython line score-0">&#xA0;<span class="">2799</span>:     ... })</pre>
<pre class="cython line score-0">&#xA0;<span class="">2800</span>:     &gt;&gt;&gt; # Single target specified as a column name</pre>
<pre class="cython line score-0">&#xA0;<span class="">2801</span>:     &gt;&gt;&gt; X_train, X_test, y_train, y_test = smart_split(</pre>
<pre class="cython line score-0">&#xA0;<span class="">2802</span>:     ... data, target='Target', return_df=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2803</span>:     &gt;&gt;&gt; print(X_train.shape, X_test.shape, y_train.shape, y_test.shape)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2804</span>:     """</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2805</span>:     if target is not None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(2805,0,<span class='error_goto'>__PYX_ERR(0, 2805, __pyx_L1_error)</span>)
  __pyx_t_1 = (__pyx_v_target != Py_None);
  if (__pyx_t_1) {
/*  */
    goto __pyx_L3;
  }
</pre><pre class="cython line score-67" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2806</span>:         X, y, target_names = _extract_target(X, target)</pre>
<pre class='cython code score-67 '>    <span class='trace'>__Pyx_TraceLine</span>(2806,0,<span class='error_goto'>__PYX_ERR(0, 2806, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_extract_target);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2806, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_4 = NULL;
    __pyx_t_5 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_4)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_5 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_4, __pyx_v_X, __pyx_v_target};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_5, 2+__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2806, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_2))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_2))) {
      PyObject* sequence = __pyx_t_2;
      Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
      if (unlikely(size != 3)) {
        if (size &gt; 3) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(3);
        else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
        <span class='error_goto'>__PYX_ERR(0, 2806, __pyx_L1_error)</span>
      }
      #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
      if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
        __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
        __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
        __pyx_t_6 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 2); 
      } else {
        __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
        __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
        __pyx_t_6 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 2); 
      }
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
      #else
      __pyx_t_3 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2806, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_4 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2806, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_6 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2806, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      #endif
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    } else {
      Py_ssize_t index = -1;
      __pyx_t_7 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2806, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_7);
      index = 0; __pyx_t_3 = __pyx_t_8(__pyx_t_7); if (unlikely(!__pyx_t_3)) goto __pyx_L4_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      index = 1; __pyx_t_4 = __pyx_t_8(__pyx_t_7); if (unlikely(!__pyx_t_4)) goto __pyx_L4_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      index = 2; __pyx_t_6 = __pyx_t_8(__pyx_t_7); if (unlikely(!__pyx_t_6)) goto __pyx_L4_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_8(__pyx_t_7), 3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2806, __pyx_L1_error)</span>
      __pyx_t_8 = NULL;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      goto __pyx_L5_unpacking_done;
      __pyx_L4_unpacking_failed:;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      __pyx_t_8 = NULL;
      if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
      <span class='error_goto'>__PYX_ERR(0, 2806, __pyx_L1_error)</span>
      __pyx_L5_unpacking_done:;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_X, __pyx_t_3);
    __pyx_t_3 = 0;
    __pyx_v_y = __pyx_t_4;
    __pyx_t_4 = 0;
    __pyx_v_target_names = __pyx_t_6;
    __pyx_t_6 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2807</span>:     else:</pre>
<pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2808</span>:         y, target_names = None, []</pre>
<pre class='cython code score-6 '>  <span class='trace'>__Pyx_TraceLine</span>(2808,0,<span class='error_goto'>__PYX_ERR(0, 2808, __pyx_L1_error)</span>)
  /*else*/ {
    __pyx_t_2 = Py_None;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
    __pyx_t_6 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2808, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_v_y = __pyx_t_2;
    __pyx_t_2 = 0;
    __pyx_v_target_names = __pyx_t_6;
    __pyx_t_6 = 0;
  }
  __pyx_L3:;
</pre><pre class="cython line score-0">&#xA0;<span class="">2809</span>: </pre>
<pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2810</span>:     stratify_param = y if stratify and y is not None else None</pre>
<pre class='cython code score-4 '>  <span class='trace'>__Pyx_TraceLine</span>(2810,0,<span class='error_goto'>__PYX_ERR(0, 2810, __pyx_L1_error)</span>)
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_stratify); if (unlikely((__pyx_t_9 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2810, __pyx_L1_error)</span>
  if (__pyx_t_9) {
  } else {
    __pyx_t_1 = __pyx_t_9;
    goto __pyx_L6_bool_binop_done;
  }
  __pyx_t_9 = (__pyx_v_y != Py_None);
  __pyx_t_1 = __pyx_t_9;
  __pyx_L6_bool_binop_done:;
  if (__pyx_t_1) {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y);
    __pyx_t_6 = __pyx_v_y;
  } else {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    __pyx_t_6 = Py_None;
  }
  __pyx_v_stratify_param = __pyx_t_6;
  __pyx_t_6 = 0;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2811</span>:     if y is not None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(2811,0,<span class='error_goto'>__PYX_ERR(0, 2811, __pyx_L1_error)</span>)
  __pyx_t_1 = (__pyx_v_y != Py_None);
  if (__pyx_t_1) {
/*  */
    goto __pyx_L8;
  }
</pre><pre class="cython line score-69" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2812</span>:         X_train, X_test, y_train, y_test = train_test_split(</pre>
<pre class='cython code score-69 '>    <span class='trace'>__Pyx_TraceLine</span>(2812,0,<span class='error_goto'>__PYX_ERR(0, 2812, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_train_test_split);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2812, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(2813,0,<span class='error_goto'>__PYX_ERR(0, 2813, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2812, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_X)) <span class='error_goto'>__PYX_ERR(0, 2812, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_y);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_v_y)) <span class='error_goto'>__PYX_ERR(0, 2812, __pyx_L1_error)</span>;
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(2812,0,<span class='error_goto'>__PYX_ERR(0, 2812, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_6, __pyx_t_2, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2812, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_3))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_3))) {
      PyObject* sequence = __pyx_t_3;
      Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
      if (unlikely(size != 4)) {
        if (size &gt; 4) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(4);
        else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
        <span class='error_goto'>__PYX_ERR(0, 2812, __pyx_L1_error)</span>
      }
      #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
      if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
        __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
        __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
        __pyx_t_6 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 2); 
        __pyx_t_7 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 3); 
      } else {
        __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
        __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
        __pyx_t_6 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 2); 
        __pyx_t_7 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 3); 
      }
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
      #else
      {
        Py_ssize_t i;
        PyObject** temps[4] = {&amp;__pyx_t_4,&amp;__pyx_t_2,&amp;__pyx_t_6,&amp;__pyx_t_7};
        for (i=0; i &lt; 4; i++) {
          PyObject* item = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, i);<span class='error_goto'> if (unlikely(!item)) __PYX_ERR(0, 2812, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(item);
          *(temps[i]) = item;
        }
      }
      #endif
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    } else {
      Py_ssize_t index = -1;
      PyObject** temps[4] = {&amp;__pyx_t_4,&amp;__pyx_t_2,&amp;__pyx_t_6,&amp;__pyx_t_7};
      __pyx_t_10 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2812, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_10);
      for (index=0; index &lt; 4; index++) {
        PyObject* item = __pyx_t_8(__pyx_t_10); if (unlikely(!item)) goto __pyx_L9_unpacking_failed;
        <span class='refnanny'>__Pyx_GOTREF</span>(item);
        *(temps[index]) = item;
      }
      if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_8(__pyx_t_10), 4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2812, __pyx_L1_error)</span>
      __pyx_t_8 = NULL;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      goto __pyx_L10_unpacking_done;
      __pyx_L9_unpacking_failed:;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      __pyx_t_8 = NULL;
      if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
      <span class='error_goto'>__PYX_ERR(0, 2812, __pyx_L1_error)</span>
      __pyx_L10_unpacking_done:;
    }
    __pyx_v_X_train = __pyx_t_4;
    __pyx_t_4 = 0;
    __pyx_v_X_test = __pyx_t_2;
    __pyx_t_2 = 0;
    __pyx_v_y_train = __pyx_t_6;
    __pyx_t_6 = 0;
    __pyx_v_y_test = __pyx_t_7;
    __pyx_t_7 = 0;
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2813</span>:             X, y, test_size=test_size, random_state=random_state, shuffle=shuffle,</pre>
<pre class='cython code score-23 '>    <span class='trace'>__Pyx_TraceLine</span>(2812,0,<span class='error_goto'>__PYX_ERR(0, 2812, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2813, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(2813,0,<span class='error_goto'>__PYX_ERR(0, 2813, __pyx_L1_error)</span>)
    __pyx_t_7 = <span class='py_c_api'>PyFloat_FromDouble</span>(__pyx_v_test_size);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2813, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_test_size, __pyx_t_7) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2813, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_random_state, __pyx_v_random_state) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2813, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_shuffle, __pyx_v_shuffle) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2813, __pyx_L1_error)</span>
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2814</span>:             stratify=stratify_param, **skws)</pre>
<pre class='cython code score-7 '>    <span class='trace'>__Pyx_TraceLine</span>(2814,0,<span class='error_goto'>__PYX_ERR(0, 2814, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_stratify, __pyx_v_stratify_param) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2813, __pyx_L1_error)</span>
    __pyx_t_4 = __pyx_t_3;
    __pyx_t_3 = 0;
    if (<span class='pyx_c_api'>__Pyx_MergeKeywords</span>(__pyx_t_4, __pyx_v_skws) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2814, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2815</span>:     else:</pre>
<pre class="cython line score-61" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2816</span>:         X_train, X_test= train_test_split(</pre>
<pre class='cython code score-61 '>  <span class='trace'>__Pyx_TraceLine</span>(2816,0,<span class='error_goto'>__PYX_ERR(0, 2816, __pyx_L1_error)</span>)
  /*else*/ {
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_train_test_split);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2816, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(2817,0,<span class='error_goto'>__PYX_ERR(0, 2817, __pyx_L1_error)</span>)
    __pyx_t_7 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2816, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 0, __pyx_v_X)) <span class='error_goto'>__PYX_ERR(0, 2816, __pyx_L1_error)</span>;
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(2816,0,<span class='error_goto'>__PYX_ERR(0, 2816, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_7, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2816, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_2))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_2))) {
      PyObject* sequence = __pyx_t_2;
      Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
      if (unlikely(size != 2)) {
        if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
        else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
        <span class='error_goto'>__PYX_ERR(0, 2816, __pyx_L1_error)</span>
      }
      #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
      if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
        __pyx_t_6 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
        __pyx_t_7 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
      } else {
        __pyx_t_6 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
        __pyx_t_7 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
      }
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
      #else
      __pyx_t_6 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2816, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_7 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2816, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      #endif
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    } else {
      Py_ssize_t index = -1;
      __pyx_t_3 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2816, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_3);
      index = 0; __pyx_t_6 = __pyx_t_8(__pyx_t_3); if (unlikely(!__pyx_t_6)) goto __pyx_L11_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      index = 1; __pyx_t_7 = __pyx_t_8(__pyx_t_3); if (unlikely(!__pyx_t_7)) goto __pyx_L11_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_8(__pyx_t_3), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2816, __pyx_L1_error)</span>
      __pyx_t_8 = NULL;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      goto __pyx_L12_unpacking_done;
      __pyx_L11_unpacking_failed:;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_8 = NULL;
      if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
      <span class='error_goto'>__PYX_ERR(0, 2816, __pyx_L1_error)</span>
      __pyx_L12_unpacking_done:;
    }
    __pyx_v_X_train = __pyx_t_6;
    __pyx_t_6 = 0;
    __pyx_v_X_test = __pyx_t_7;
    __pyx_t_7 = 0;
  }
  __pyx_L8:;
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2817</span>:             X, test_size=test_size, random_state=random_state, shuffle=shuffle,</pre>
<pre class='cython code score-23 '>    <span class='trace'>__Pyx_TraceLine</span>(2816,0,<span class='error_goto'>__PYX_ERR(0, 2816, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2817, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(2817,0,<span class='error_goto'>__PYX_ERR(0, 2817, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='py_c_api'>PyFloat_FromDouble</span>(__pyx_v_test_size);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2817, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_test_size, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2817, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_random_state, __pyx_v_random_state) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2817, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_shuffle, __pyx_v_shuffle) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2817, __pyx_L1_error)</span>
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2818</span>:             stratify=stratify_param, **skws)</pre>
<pre class='cython code score-7 '>    <span class='trace'>__Pyx_TraceLine</span>(2818,0,<span class='error_goto'>__PYX_ERR(0, 2818, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_stratify, __pyx_v_stratify_param) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2817, __pyx_L1_error)</span>
    __pyx_t_6 = __pyx_t_2;
    __pyx_t_2 = 0;
    if (<span class='pyx_c_api'>__Pyx_MergeKeywords</span>(__pyx_t_6, __pyx_v_skws) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2818, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2819</span>: </pre>
<pre class="cython line score-13" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2820</span>:     if return_df and isinstance(X, pd.DataFrame):</pre>
<pre class='cython code score-13 '>  <span class='trace'>__Pyx_TraceLine</span>(2820,0,<span class='error_goto'>__PYX_ERR(0, 2820, __pyx_L1_error)</span>)
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_return_df); if (unlikely((__pyx_t_9 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2820, __pyx_L1_error)</span>
  if (__pyx_t_9) {
  } else {
    __pyx_t_1 = __pyx_t_9;
    goto __pyx_L14_bool_binop_done;
  }
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2820, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2820, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_9 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_X, __pyx_t_7);<span class='error_goto'> if (unlikely(__pyx_t_9 == ((int)-1))) __PYX_ERR(0, 2820, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  __pyx_t_1 = __pyx_t_9;
  __pyx_L14_bool_binop_done:;
  if (__pyx_t_1) {
/*  */
  }
</pre><pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2821</span>:         X_train, X_test = pd.DataFrame(X_train, columns=X.columns</pre>
<pre class='cython code score-28 '>    <span class='trace'>__Pyx_TraceLine</span>(2821,0,<span class='error_goto'>__PYX_ERR(0, 2821, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_7, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2821, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_7, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2821, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_7 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2821, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X_train);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X_train);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 0, __pyx_v_X_train)) <span class='error_goto'>__PYX_ERR(0, 2821, __pyx_L1_error)</span>;
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2821, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2821, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_columns, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2821, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_7, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2821, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
</pre><pre class="cython line score-30" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2822</span>:                                        ), pd.DataFrame(X_test, columns=X.columns)</pre>
<pre class='cython code score-30 '>    <span class='trace'>__Pyx_TraceLine</span>(2822,0,<span class='error_goto'>__PYX_ERR(0, 2822, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2822, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2822, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2822, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X_test);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X_test);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_v_X_test)) <span class='error_goto'>__PYX_ERR(0, 2822, __pyx_L1_error)</span>;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2822, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2822, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_columns, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2822, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_7, __pyx_t_6, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2822, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_X_train, __pyx_t_3);
    __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_X_test, __pyx_t_4);
    __pyx_t_4 = 0;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2823</span>:         if y is not None:</pre>
<pre class='cython code score-0 '>    <span class='trace'>__Pyx_TraceLine</span>(2823,0,<span class='error_goto'>__PYX_ERR(0, 2823, __pyx_L1_error)</span>)
    __pyx_t_1 = (__pyx_v_y != Py_None);
    if (__pyx_t_1) {
/*  */
    }
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2824</span>:             if isinstance(y, pd.DataFrame):</pre>
<pre class='cython code score-11 '>      <span class='trace'>__Pyx_TraceLine</span>(2824,0,<span class='error_goto'>__PYX_ERR(0, 2824, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2824, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2824, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_1 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_y, __pyx_t_3);<span class='error_goto'> if (unlikely(__pyx_t_1 == ((int)-1))) __PYX_ERR(0, 2824, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (__pyx_t_1) {
/*  */
        goto __pyx_L17;
      }
</pre><pre class="cython line score-18" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2825</span>:                 y_train, y_test = pd.DataFrame(</pre>
<pre class='cython code score-18 '>        <span class='trace'>__Pyx_TraceLine</span>(2825,0,<span class='error_goto'>__PYX_ERR(0, 2825, __pyx_L1_error)</span>)
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2825, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2825, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
/*  */
        <span class='trace'>__Pyx_TraceLine</span>(2825,0,<span class='error_goto'>__PYX_ERR(0, 2825, __pyx_L1_error)</span>)
        __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2825, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y_train);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_y_train);
        if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_y_train)) <span class='error_goto'>__PYX_ERR(0, 2825, __pyx_L1_error)</span>;
/*  */
        <span class='trace'>__Pyx_TraceLine</span>(2825,0,<span class='error_goto'>__PYX_ERR(0, 2825, __pyx_L1_error)</span>)
        __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_4, __pyx_t_3, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2825, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-29" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2826</span>:                     y_train, columns=target_names), pd.DataFrame(</pre>
<pre class='cython code score-29 '>        <span class='trace'>__Pyx_TraceLine</span>(2826,0,<span class='error_goto'>__PYX_ERR(0, 2826, __pyx_L1_error)</span>)
        if (unlikely(!__pyx_v_y_train)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("y_train"); <span class='error_goto'>__PYX_ERR(0, 2826, __pyx_L1_error)</span> }
/*  */
        <span class='trace'>__Pyx_TraceLine</span>(2826,0,<span class='error_goto'>__PYX_ERR(0, 2826, __pyx_L1_error)</span>)
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2826, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_columns, __pyx_v_target_names) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2826, __pyx_L1_error)</span>
/*  */
        <span class='trace'>__Pyx_TraceLine</span>(2826,0,<span class='error_goto'>__PYX_ERR(0, 2826, __pyx_L1_error)</span>)
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2826, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2826, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
/*  */
        <span class='trace'>__Pyx_TraceLine</span>(2826,0,<span class='error_goto'>__PYX_ERR(0, 2826, __pyx_L1_error)</span>)
        __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2826, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y_test);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_y_test);
        if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_y_test)) <span class='error_goto'>__PYX_ERR(0, 2826, __pyx_L1_error)</span>;
/*  */
        <span class='trace'>__Pyx_TraceLine</span>(2826,0,<span class='error_goto'>__PYX_ERR(0, 2826, __pyx_L1_error)</span>)
        __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_2, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2826, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_y_train, __pyx_t_6);
        __pyx_t_6 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_y_test, __pyx_t_7);
        __pyx_t_7 = 0;
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2827</span>:                         y_test, columns=target_names)</pre>
<pre class='cython code score-9 '>        <span class='trace'>__Pyx_TraceLine</span>(2827,0,<span class='error_goto'>__PYX_ERR(0, 2827, __pyx_L1_error)</span>)
        if (unlikely(!__pyx_v_y_test)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("y_test"); <span class='error_goto'>__PYX_ERR(0, 2827, __pyx_L1_error)</span> }
/*  */
        <span class='trace'>__Pyx_TraceLine</span>(2827,0,<span class='error_goto'>__PYX_ERR(0, 2827, __pyx_L1_error)</span>)
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2827, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_columns, __pyx_v_target_names) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2827, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2828</span>:             else:</pre>
<pre class="cython line score-18" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2829</span>:                 y_train, y_test = pd.Series(</pre>
<pre class='cython code score-18 '>      <span class='trace'>__Pyx_TraceLine</span>(2829,0,<span class='error_goto'>__PYX_ERR(0, 2829, __pyx_L1_error)</span>)
      /*else*/ {
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_7, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2829, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_7, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2829, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
/*  */
        <span class='trace'>__Pyx_TraceLine</span>(2829,0,<span class='error_goto'>__PYX_ERR(0, 2829, __pyx_L1_error)</span>)
        __pyx_t_7 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2829, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y_train);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_y_train);
        if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 0, __pyx_v_y_train)) <span class='error_goto'>__PYX_ERR(0, 2829, __pyx_L1_error)</span>;
/*  */
        <span class='trace'>__Pyx_TraceLine</span>(2829,0,<span class='error_goto'>__PYX_ERR(0, 2829, __pyx_L1_error)</span>)
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_6, __pyx_t_7, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2829, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-32" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2830</span>:                     y_train, name=target_names[0]), pd.Series(</pre>
<pre class='cython code score-32 '>        <span class='trace'>__Pyx_TraceLine</span>(2830,0,<span class='error_goto'>__PYX_ERR(0, 2830, __pyx_L1_error)</span>)
        if (unlikely(!__pyx_v_y_train)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("y_train"); <span class='error_goto'>__PYX_ERR(0, 2830, __pyx_L1_error)</span> }
/*  */
        <span class='trace'>__Pyx_TraceLine</span>(2830,0,<span class='error_goto'>__PYX_ERR(0, 2830, __pyx_L1_error)</span>)
        __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2830, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_target_names, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2830, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_name, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2830, __pyx_L1_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
/*  */
        <span class='trace'>__Pyx_TraceLine</span>(2830,0,<span class='error_goto'>__PYX_ERR(0, 2830, __pyx_L1_error)</span>)
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2830, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2830, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
/*  */
        <span class='trace'>__Pyx_TraceLine</span>(2830,0,<span class='error_goto'>__PYX_ERR(0, 2830, __pyx_L1_error)</span>)
        __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2830, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y_test);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_y_test);
        if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_v_y_test)) <span class='error_goto'>__PYX_ERR(0, 2830, __pyx_L1_error)</span>;
/*  */
        <span class='trace'>__Pyx_TraceLine</span>(2830,0,<span class='error_goto'>__PYX_ERR(0, 2830, __pyx_L1_error)</span>)
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_7, __pyx_t_4, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2830, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_y_train, __pyx_t_2);
        __pyx_t_2 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_y_test, __pyx_t_3);
        __pyx_t_3 = 0;
      }
      __pyx_L17:;
</pre><pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2831</span>:                         y_test, name=target_names[0])</pre>
<pre class='cython code score-12 '>        <span class='trace'>__Pyx_TraceLine</span>(2831,0,<span class='error_goto'>__PYX_ERR(0, 2831, __pyx_L1_error)</span>)
        if (unlikely(!__pyx_v_y_test)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("y_test"); <span class='error_goto'>__PYX_ERR(0, 2831, __pyx_L1_error)</span> }
/*  */
        <span class='trace'>__Pyx_TraceLine</span>(2831,0,<span class='error_goto'>__PYX_ERR(0, 2831, __pyx_L1_error)</span>)
        __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2831, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_target_names, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2831, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_name, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2831, __pyx_L1_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2832</span>: </pre>
<pre class="cython line score-33" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2833</span>:     return (X_train, X_test, y_train, y_test) if y is not None else (X_train, X_test)</pre>
<pre class='cython code score-33 '>  <span class='trace'>__Pyx_TraceLine</span>(2833,0,<span class='error_goto'>__PYX_ERR(0, 2833, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_1 = (__pyx_v_y != Py_None);
  if (__pyx_t_1) {
    if (unlikely(!__pyx_v_y_train)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("y_train"); <span class='error_goto'>__PYX_ERR(0, 2833, __pyx_L1_error)</span> }
    if (unlikely(!__pyx_v_y_test)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("y_test"); <span class='error_goto'>__PYX_ERR(0, 2833, __pyx_L1_error)</span> }
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2833, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X_train);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X_train);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_X_train)) <span class='error_goto'>__PYX_ERR(0, 2833, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X_test);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X_test);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_v_X_test)) <span class='error_goto'>__PYX_ERR(0, 2833, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y_train);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_y_train);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 2, __pyx_v_y_train)) <span class='error_goto'>__PYX_ERR(0, 2833, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y_test);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_y_test);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 3, __pyx_v_y_test)) <span class='error_goto'>__PYX_ERR(0, 2833, __pyx_L1_error)</span>;
    __pyx_t_3 = __pyx_t_2;
    __pyx_t_2 = 0;
  } else {
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2833, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X_train);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X_train);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_X_train)) <span class='error_goto'>__PYX_ERR(0, 2833, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X_test);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X_test);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_v_X_test)) <span class='error_goto'>__PYX_ERR(0, 2833, __pyx_L1_error)</span>;
    __pyx_t_3 = __pyx_t_2;
    __pyx_t_2 = 0;
  }
  __pyx_r = __pyx_t_3;
  __pyx_t_3 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2834</span>: </pre>
<pre class="cython line score-61" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2835</span>: def handle_imbalance(</pre>
<pre class='cython code score-61 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_67handle_imbalance(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_66handle_imbalance, "\n    Handles imbalanced datasets by either oversampling the minority class or \n    undersampling the majority class.\n    \n    It supports inputs as pandas DataFrame/Series, numpy arrays, and allows \n    specifying the target variable either as a separate argument or as part \n    of the DataFrame.\n\n    Parameters\n    ----------\n    X : pd.DataFrame, np.ndarray\n        The features of the dataset. If `y` is None, `X` is expected to include \n        the target variable.\n    y : pd.Series, np.ndarray, optional\n        The target variable of the dataset. If None, `target_col` must be \n        specified, and `X` must be a DataFrame containing the target.\n    strategy : str, optional\n        The strategy to apply for handling imbalance: 'oversample' or \n        'undersample'. Default is 'oversample'.\n    random_state : int, optional\n        The random state for reproducible results. Default is 42.\n    target_col : str, optional\n        The name of the target column in `X` if `X` is a DataFrame and \n        `y` is None. Default is 'target'.\n    \n    Returns\n    -------\n    X_resampled, y_resampled : Resampled features and target variable.\n        The types of `X_resampled` and `y_resampled` match the input types.\n\n    Examples\n    --------\n    Using with numpy arrays:\n    \n    &gt;&gt;&gt; import numpy as np \n    &gt;&gt;&gt; import pandas as pd \n    &gt;&gt;&gt; from gofast.tools.mlutils import handle_imbalance\n    &gt;&gt;&gt; X = np.array([[1, 2], [2, 3], [3, 4]])\n    &gt;&gt;&gt; y = np.array([0, 1, 0])\n    &gt;&gt;&gt; X_resampled, y_resampled = handle_imbalance(X, y)\n    &gt;&gt;&gt; print(X_resampled.shape, y_resampled.shape)\n    (3, 2) (3,)\n    Using with pandas DataFrame (including target column):\n    \n    &gt;&gt;&gt; df = pd.DataFrame({'feature1': [1, 2, 3], 'feature2': [2, 3, 4], 'target': [0, 1, 0]})\n    &gt;&gt;&gt; X_resampled, y_resampled = handle_imbalance(df, target_col='target')\n    &gt;&gt;&gt; print(X_resampled.shape, y_resampled.value_counts())\n\n    Using with pandas DataFrame and Series:\n   "" \n    &gt;&gt;&gt; X = pd.DataFrame({'feature1': [1, 2, 3], 'feature2': [2, 3, 4]})\n    &gt;&gt;&gt; y = pd.Series([0, 1, 0], name='target')\n    &gt;&gt;&gt; X_resampled, y_resampled = handle_imbalance(X, y)\n    &gt;&gt;&gt; print(X_resampled.shape, y_resampled.value_counts())\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_67handle_imbalance = {"handle_imbalance", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_67handle_imbalance, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_66handle_imbalance};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_67handle_imbalance(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_X = 0;
  PyObject *__pyx_v_y = 0;
  PyObject *__pyx_v_strategy = 0;
  PyObject *__pyx_v_random_state = 0;
  PyObject *__pyx_v_target_col = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("handle_imbalance (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_X,&amp;__pyx_n_s_y,&amp;__pyx_n_s_strategy,&amp;__pyx_n_s_random_state,&amp;__pyx_n_s_target_col,0};
  PyObject* values[5] = {0,0,0,0,0};
/*  */
  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_66handle_imbalance(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_X, PyObject *__pyx_v_y, PyObject *__pyx_v_strategy, PyObject *__pyx_v_random_state, PyObject *__pyx_v_target_col) {
  PyObject *__pyx_v_data = NULL;
  PyObject *__pyx_v_majority_class = NULL;
  PyObject *__pyx_v_minority_class = NULL;
  PyObject *__pyx_v_num_majority = NULL;
  PyObject *__pyx_v_num_minority = NULL;
  PyObject *__pyx_v_minority_upsampled = NULL;
  PyObject *__pyx_v_resampled = NULL;
  PyObject *__pyx_v_majority_downsampled = NULL;
  PyObject *__pyx_v_X_resampled = NULL;
  PyObject *__pyx_v_y_resampled = NULL;
  PyObject *__pyx_9genexpr13__pyx_v_i = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__89)
  <span class='trace'>__Pyx_TraceCall</span>("handle_imbalance", __pyx_f[0], 2835, 0, <span class='error_goto'>__PYX_ERR(0, 2835, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_col);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_14);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.handle_imbalance", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_data);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_majority_class);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_minority_class);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_num_majority);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_num_minority);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_minority_upsampled);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_resampled);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_majority_downsampled);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_X_resampled);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_y_resampled);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr13__pyx_v_i);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_X);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_y);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_target_col);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__178 = <span class='py_c_api'>PyTuple_Pack</span>(16, __pyx_n_s_X, __pyx_n_s_y, __pyx_n_s_strategy, __pyx_n_s_random_state, __pyx_n_s_target_col, __pyx_n_s_data, __pyx_n_s_majority_class, __pyx_n_s_minority_class, __pyx_n_s_num_majority, __pyx_n_s_num_minority, __pyx_n_s_minority_upsampled, __pyx_n_s_resampled, __pyx_n_s_majority_downsampled, __pyx_n_s_X_resampled, __pyx_n_s_y_resampled, __pyx_n_s_i);<span class='error_goto'> if (unlikely(!__pyx_tuple__178)) __PYX_ERR(0, 2835, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__178);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__178);
  __pyx_codeobj__89 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(5, 0, 0, 16, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__178, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_handle_imbalance, 2835, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__89)) __PYX_ERR(0, 2835, __pyx_L1_error)</span>
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2835,0,<span class='error_goto'>__PYX_ERR(0, 2835, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_67handle_imbalance, 0, __pyx_n_s_handle_imbalance, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__89));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2835, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_4, __pyx_tuple__179);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_handle_imbalance, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2835, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_tuple__179 = <span class='py_c_api'>PyTuple_Pack</span>(4, Py_None, ((PyObject*)__pyx_n_u_oversample), ((PyObject *)__pyx_int_42), ((PyObject*)__pyx_n_u_target));<span class='error_goto'> if (unlikely(!__pyx_tuple__179)) __PYX_ERR(0, 2835, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__179);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__179);
</pre><pre class="cython line score-83" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2836</span>:     X, y=None, strategy='oversample',</pre>
<pre class='cython code score-83 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_n_u_oversample)));
    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)__pyx_int_42)));
    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_n_u_target)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_X)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2835, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_y);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2835, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_strategy);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2835, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_random_state);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2835, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_target_col);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2835, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "handle_imbalance") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2835, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_X = values[0];
    __pyx_v_y = values[1];
    __pyx_v_strategy = values[2];
    __pyx_v_random_state = values[3];
    __pyx_v_target_col = values[4];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("handle_imbalance", 0, 1, 5, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2835, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.handle_imbalance", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_66handle_imbalance(__pyx_self, __pyx_v_X, __pyx_v_y, __pyx_v_strategy, __pyx_v_random_state, __pyx_v_target_col);
</pre><pre class="cython line score-0">&#xA0;<span class="">2837</span>:     random_state=42,</pre>
<pre class="cython line score-0">&#xA0;<span class="">2838</span>:     target_col='target'</pre>
<pre class="cython line score-0">&#xA0;<span class="">2839</span>:     ):</pre>
<pre class="cython line score-0">&#xA0;<span class="">2840</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2841</span>:     Handles imbalanced datasets by either oversampling the minority class or</pre>
<pre class="cython line score-0">&#xA0;<span class="">2842</span>:     undersampling the majority class.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2843</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2844</span>:     It supports inputs as pandas DataFrame/Series, numpy arrays, and allows</pre>
<pre class="cython line score-0">&#xA0;<span class="">2845</span>:     specifying the target variable either as a separate argument or as part</pre>
<pre class="cython line score-0">&#xA0;<span class="">2846</span>:     of the DataFrame.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2847</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2848</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">2849</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2850</span>:     X : pd.DataFrame, np.ndarray</pre>
<pre class="cython line score-0">&#xA0;<span class="">2851</span>:         The features of the dataset. If `y` is None, `X` is expected to include</pre>
<pre class="cython line score-0">&#xA0;<span class="">2852</span>:         the target variable.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2853</span>:     y : pd.Series, np.ndarray, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2854</span>:         The target variable of the dataset. If None, `target_col` must be</pre>
<pre class="cython line score-0">&#xA0;<span class="">2855</span>:         specified, and `X` must be a DataFrame containing the target.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2856</span>:     strategy : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2857</span>:         The strategy to apply for handling imbalance: 'oversample' or</pre>
<pre class="cython line score-0">&#xA0;<span class="">2858</span>:         'undersample'. Default is 'oversample'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2859</span>:     random_state : int, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2860</span>:         The random state for reproducible results. Default is 42.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2861</span>:     target_col : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2862</span>:         The name of the target column in `X` if `X` is a DataFrame and</pre>
<pre class="cython line score-0">&#xA0;<span class="">2863</span>:         `y` is None. Default is 'target'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2864</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2865</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">2866</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2867</span>:     X_resampled, y_resampled : Resampled features and target variable.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2868</span>:         The types of `X_resampled` and `y_resampled` match the input types.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2869</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2870</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">2871</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2872</span>:     Using with numpy arrays:</pre>
<pre class="cython line score-0">&#xA0;<span class="">2873</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2874</span>:     &gt;&gt;&gt; import numpy as np</pre>
<pre class="cython line score-0">&#xA0;<span class="">2875</span>:     &gt;&gt;&gt; import pandas as pd</pre>
<pre class="cython line score-0">&#xA0;<span class="">2876</span>:     &gt;&gt;&gt; from gofast.tools.mlutils import handle_imbalance</pre>
<pre class="cython line score-0">&#xA0;<span class="">2877</span>:     &gt;&gt;&gt; X = np.array([[1, 2], [2, 3], [3, 4]])</pre>
<pre class="cython line score-0">&#xA0;<span class="">2878</span>:     &gt;&gt;&gt; y = np.array([0, 1, 0])</pre>
<pre class="cython line score-0">&#xA0;<span class="">2879</span>:     &gt;&gt;&gt; X_resampled, y_resampled = handle_imbalance(X, y)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2880</span>:     &gt;&gt;&gt; print(X_resampled.shape, y_resampled.shape)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2881</span>:     (3, 2) (3,)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2882</span>:     Using with pandas DataFrame (including target column):</pre>
<pre class="cython line score-0">&#xA0;<span class="">2883</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2884</span>:     &gt;&gt;&gt; df = pd.DataFrame({'feature1': [1, 2, 3], 'feature2': [2, 3, 4], 'target': [0, 1, 0]})</pre>
<pre class="cython line score-0">&#xA0;<span class="">2885</span>:     &gt;&gt;&gt; X_resampled, y_resampled = handle_imbalance(df, target_col='target')</pre>
<pre class="cython line score-0">&#xA0;<span class="">2886</span>:     &gt;&gt;&gt; print(X_resampled.shape, y_resampled.value_counts())</pre>
<pre class="cython line score-0">&#xA0;<span class="">2887</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2888</span>:     Using with pandas DataFrame and Series:</pre>
<pre class="cython line score-0">&#xA0;<span class="">2889</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2890</span>:     &gt;&gt;&gt; X = pd.DataFrame({'feature1': [1, 2, 3], 'feature2': [2, 3, 4]})</pre>
<pre class="cython line score-0">&#xA0;<span class="">2891</span>:     &gt;&gt;&gt; y = pd.Series([0, 1, 0], name='target')</pre>
<pre class="cython line score-0">&#xA0;<span class="">2892</span>:     &gt;&gt;&gt; X_resampled, y_resampled = handle_imbalance(X, y)</pre>
<pre class="cython line score-0">&#xA0;<span class="">2893</span>:     &gt;&gt;&gt; print(X_resampled.shape, y_resampled.value_counts())</pre>
<pre class="cython line score-0">&#xA0;<span class="">2894</span>:     """</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2895</span>:     if y is None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(2895,0,<span class='error_goto'>__PYX_ERR(0, 2895, __pyx_L1_error)</span>)
  __pyx_t_1 = (__pyx_v_y == Py_None);
  if (__pyx_t_1) {
/*  */
  }
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2896</span>:         if not isinstance(X, pd.DataFrame):</pre>
<pre class='cython code score-11 '>    <span class='trace'>__Pyx_TraceLine</span>(2896,0,<span class='error_goto'>__PYX_ERR(0, 2896, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2896, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2896, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_1 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_X, __pyx_t_3);<span class='error_goto'> if (unlikely(__pyx_t_1 == ((int)-1))) __PYX_ERR(0, 2896, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_4 = (!__pyx_t_1);
    if (unlikely(__pyx_t_4)) {
/*  */
    }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2897</span>:             raise ValueError("`X` must be a DataFrame when `y` is None.")</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(2897,0,<span class='error_goto'>__PYX_ERR(0, 2897, __pyx_L1_error)</span>)
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__90, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2897, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_3, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='error_goto'>__PYX_ERR(0, 2897, __pyx_L1_error)</span>
/*  */
  __pyx_tuple__90 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_X_must_be_a_DataFrame_when_y_is);<span class='error_goto'> if (unlikely(!__pyx_tuple__90)) __PYX_ERR(0, 2897, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__90);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__90);
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2898</span>:         exist_features(X, target_col, name =target_col)</pre>
<pre class='cython code score-26 '>    <span class='trace'>__Pyx_TraceLine</span>(2898,0,<span class='error_goto'>__PYX_ERR(0, 2898, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_exist_features);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2898, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2898, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_X)) <span class='error_goto'>__PYX_ERR(0, 2898, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_col);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target_col);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_v_target_col)) <span class='error_goto'>__PYX_ERR(0, 2898, __pyx_L1_error)</span>;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2898, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_name, __pyx_v_target_col) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2898, __pyx_L1_error)</span>
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_2, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2898, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2899</span>:         y = X[target_col]</pre>
<pre class='cython code score-3 '>    <span class='trace'>__Pyx_TraceLine</span>(2899,0,<span class='error_goto'>__PYX_ERR(0, 2899, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_X, __pyx_v_target_col);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2899, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_y, __pyx_t_6);
    __pyx_t_6 = 0;
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2900</span>:         X = X.drop(target_col, axis=1)</pre>
<pre class='cython code score-23 '>    <span class='trace'>__Pyx_TraceLine</span>(2900,0,<span class='error_goto'>__PYX_ERR(0, 2900, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_drop);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2900, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2900, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_col);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target_col);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_v_target_col)) <span class='error_goto'>__PYX_ERR(0, 2900, __pyx_L1_error)</span>;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2900, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_axis, __pyx_int_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2900, __pyx_L1_error)</span>
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_6, __pyx_t_5, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2900, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_X, __pyx_t_3);
    __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2901</span>: </pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2902</span>:     if not _is_arraylike_1d(y):</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(2902,0,<span class='error_goto'>__PYX_ERR(0, 2902, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_is_arraylike_1d);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2902, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_5 = NULL;
  __pyx_t_7 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_5)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_7 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_v_y};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 2902, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_3); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2902, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_1 = (!__pyx_t_4);
  if (unlikely(__pyx_t_1)) {
/*  */
  }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2903</span>:         raise TypeError ("Check `y`. Expect one-dimensional array.")</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(2903,0,<span class='error_goto'>__PYX_ERR(0, 2903, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_TypeError, __pyx_tuple__91, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2903, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_3, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='error_goto'>__PYX_ERR(0, 2903, __pyx_L1_error)</span>
/*  */
  __pyx_tuple__91 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Check_y_Expect_one_dimensional_a);<span class='error_goto'> if (unlikely(!__pyx_tuple__91)) __PYX_ERR(0, 2903, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__91);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__91);
</pre><pre class="cython line score-0">&#xA0;<span class="">2904</span>: </pre>
<pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2905</span>:     if not isinstance (y, pd.Series) :</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(2905,0,<span class='error_goto'>__PYX_ERR(0, 2905, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2905, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2905, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_1 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_y, __pyx_t_2);<span class='error_goto'> if (unlikely(__pyx_t_1 == ((int)-1))) __PYX_ERR(0, 2905, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_4 = (!__pyx_t_1);
  if (__pyx_t_4) {
/*  */
    goto __pyx_L6;
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">2906</span>:         # squeeze y to keep 1d array for skipping value error</pre>
<pre class="cython line score-0">&#xA0;<span class="">2907</span>:         # when constructing pd.Series and</pre>
<pre class="cython line score-0">&#xA0;<span class="">2908</span>:         # ensure `y` is a Series with the correct name for</pre>
<pre class="cython line score-0">&#xA0;<span class="">2909</span>:         # easy concatenation and manipulation</pre>
<pre class="cython line score-44" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2910</span>:         y =pd.Series (np.squeeze (y), name =target_col )</pre>
<pre class='cython code score-44 '>    <span class='trace'>__Pyx_TraceLine</span>(2910,0,<span class='error_goto'>__PYX_ERR(0, 2910, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2910, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2910, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2910, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_squeeze);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2910, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_v_y};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2910, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2910, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2910, __pyx_L1_error)</span>;
    __pyx_t_2 = 0;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2910, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_name, __pyx_v_target_col) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2910, __pyx_L1_error)</span>
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_6, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2910, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_y, __pyx_t_5);
    __pyx_t_5 = 0;
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2911</span>:     else : target_col = y.name # reset the default target_col</pre>
<pre class='cython code score-3 '>  <span class='trace'>__Pyx_TraceLine</span>(2911,0,<span class='error_goto'>__PYX_ERR(0, 2911, __pyx_L1_error)</span>)
  /*else*/ {
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_y, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2911, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_target_col, __pyx_t_5);
    __pyx_t_5 = 0;
  }
  __pyx_L6:;
</pre><pre class="cython line score-0">&#xA0;<span class="">2912</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2913</span>:     # Check consistent length</pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2914</span>:     check_consistent_length(X, y )</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(2914,0,<span class='error_goto'>__PYX_ERR(0, 2914, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_check_consistent_length);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2914, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_6 = NULL;
  __pyx_t_7 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_6)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_7 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_6, __pyx_v_X, __pyx_v_y};
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_7, 2+__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 2914, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2915</span>: </pre>
<pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2916</span>:     if isinstance(X, pd.DataFrame):</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(2916,0,<span class='error_goto'>__PYX_ERR(0, 2916, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2916, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2916, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_4 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_X, __pyx_t_2);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(0, 2916, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_4) {
/*  */
    goto __pyx_L7;
  }
</pre><pre class="cython line score-35" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2917</span>:         data = pd.concat([X, y], axis=1)</pre>
<pre class='cython code score-35 '>    <span class='trace'>__Pyx_TraceLine</span>(2917,0,<span class='error_goto'>__PYX_ERR(0, 2917, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2917, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_concat);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2917, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2917, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_X)) <span class='error_goto'>__PYX_ERR(0, 2917, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_y);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 1, __pyx_v_y)) <span class='error_goto'>__PYX_ERR(0, 2917, __pyx_L1_error)</span>;
    __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2917, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2917, __pyx_L1_error)</span>;
    __pyx_t_2 = 0;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2917, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_axis, __pyx_int_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2917, __pyx_L1_error)</span>
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_t_6, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2917, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_v_data = __pyx_t_3;
    __pyx_t_3 = 0;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2918</span>:     elif isinstance (X, np.ndarray ):</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(2918,0,<span class='error_goto'>__PYX_ERR(0, 2918, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2918, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_ndarray);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2918, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_4 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_X, __pyx_t_2);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(0, 2918, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_4) {
/*  */
    goto __pyx_L7;
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">2919</span>:         # Ensure `data` from `X` is a DataFrame with correct</pre>
<pre class="cython line score-0">&#xA0;<span class="">2920</span>:         # column names for subsequent operations</pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2921</span>:         data = pd.DataFrame(</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(2921,0,<span class='error_goto'>__PYX_ERR(0, 2921, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2921, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2921, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(2921,0,<span class='error_goto'>__PYX_ERR(0, 2921, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2921, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2921, __pyx_L1_error)</span>;
    __pyx_t_2 = 0;
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(2921,0,<span class='error_goto'>__PYX_ERR(0, 2921, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_5, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2921, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_v_data = __pyx_t_6;
    __pyx_t_6 = 0;
</pre><pre class="cython line score-43" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2922</span>:             np.column_stack([X, y]), columns=[*X.columns, y.name]</pre>
<pre class='cython code score-43 '>    <span class='trace'>__Pyx_TraceLine</span>(2922,0,<span class='error_goto'>__PYX_ERR(0, 2922, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2922, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_column_stack);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2922, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2922, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_6, 0, __pyx_v_X)) <span class='error_goto'>__PYX_ERR(0, 2922, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_y);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_6, 1, __pyx_v_y)) <span class='error_goto'>__PYX_ERR(0, 2922, __pyx_L1_error)</span>;
    __pyx_t_8 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_8)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_8, __pyx_t_6};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2922, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(2922,0,<span class='error_goto'>__PYX_ERR(0, 2922, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2922, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(2922,0,<span class='error_goto'>__PYX_ERR(0, 2922, __pyx_L1_error)</span>)
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2922, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PySequence_ListKeepNew</span>(__pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2922, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_y, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2922, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      if (<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_9, __pyx_t_8) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2922, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      __pyx_t_6 = __pyx_t_9;
      __pyx_t_9 = 0;
    } else {
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2923</span>:             if isinstance(X, pd.DataFrame) else [</pre>
<pre class='cython code score-11 '>    <span class='trace'>__Pyx_TraceLine</span>(2923,0,<span class='error_goto'>__PYX_ERR(0, 2923, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_8, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2923, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_8, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2923, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    __pyx_t_4 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_X, __pyx_t_9);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(0, 2923, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    if (__pyx_t_4) {
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(2923,0,<span class='error_goto'>__PYX_ERR(0, 2923, __pyx_L1_error)</span>)
      { /* enter inner scope */
</pre><pre class="cython line score-87" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2924</span>:                     *[f"feature_{i}" for i in range(X.shape[1])], y.name])</pre>
<pre class='cython code score-87 '>        <span class='trace'>__Pyx_TraceLine</span>(2924,0,<span class='error_goto'>__PYX_ERR(0, 2924, __pyx_L10_error)</span>)
        __pyx_t_8 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2924, __pyx_L10_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
        __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2924, __pyx_L10_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
        __pyx_t_11 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_10, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2924, __pyx_L10_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
        __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_range, __pyx_t_11);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2924, __pyx_L10_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
        if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_10)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_10)) {
          __pyx_t_11 = __pyx_t_10; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_11);
          __pyx_t_12 = 0;
          __pyx_t_13 = NULL;
        } else {
          __pyx_t_12 = -1; __pyx_t_11 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_10);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2924, __pyx_L10_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
          __pyx_t_13 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_11);<span class='error_goto'> if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 2924, __pyx_L10_error)</span>
        }
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
        for (;;) {
          if (likely(!__pyx_t_13)) {
            if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_11))) {
              {
                Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_11);
                #if !CYTHON_ASSUME_SAFE_MACROS
                if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2924, __pyx_L10_error)</span>
                #endif
                if (__pyx_t_12 &gt;= __pyx_temp) break;
              }
              #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
              __pyx_t_10 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_11, __pyx_t_12); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_10); __pyx_t_12++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2924, __pyx_L10_error)</span>
              #else
              __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_11, __pyx_t_12); __pyx_t_12++;<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2924, __pyx_L10_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
              #endif
            } else {
              {
                Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_11);
                #if !CYTHON_ASSUME_SAFE_MACROS
                if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2924, __pyx_L10_error)</span>
                #endif
                if (__pyx_t_12 &gt;= __pyx_temp) break;
              }
              #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
              __pyx_t_10 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_11, __pyx_t_12); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_10); __pyx_t_12++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2924, __pyx_L10_error)</span>
              #else
              __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_11, __pyx_t_12); __pyx_t_12++;<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2924, __pyx_L10_error)</span>
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
              #endif
            }
          } else {
            __pyx_t_10 = __pyx_t_13(__pyx_t_11);
            if (unlikely(!__pyx_t_10)) {
              PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
              if (exc_type) {
                if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
                else <span class='error_goto'>__PYX_ERR(0, 2924, __pyx_L10_error)</span>
              }
              break;
            }
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
          }
          <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr13__pyx_v_i, __pyx_t_10);
          __pyx_t_10 = 0;
          __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_9genexpr13__pyx_v_i, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2924, __pyx_L10_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
          __pyx_t_14 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_n_u_feature, __pyx_t_10);<span class='error_goto'> if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 2924, __pyx_L10_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_14);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
          if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_8, (PyObject*)__pyx_t_14))) <span class='error_goto'>__PYX_ERR(0, 2924, __pyx_L10_error)</span>
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
        }
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr13__pyx_v_i); __pyx_9genexpr13__pyx_v_i = 0;
        goto __pyx_L14_exit_scope;
        __pyx_L10_error:;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr13__pyx_v_i); __pyx_9genexpr13__pyx_v_i = 0;
        goto __pyx_L1_error;
        __pyx_L14_exit_scope:;
      } /* exit inner scope */
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PySequence_ListKeepNew</span>(__pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2923, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_y, __pyx_n_s_name);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2924, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      if (<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_9, __pyx_t_8) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2924, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      __pyx_t_6 = __pyx_t_9;
      __pyx_t_9 = 0;
    }
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_columns, __pyx_t_6) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2922, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2925</span>:     else:</pre>
<pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2926</span>:         TypeError("Unsupported type for X. Must be np.ndarray or pd.DataFrame.")</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(2926,0,<span class='error_goto'>__PYX_ERR(0, 2926, __pyx_L1_error)</span>)
  /*else*/ {
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_TypeError, __pyx_tuple__92, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2926, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  }
  __pyx_L7:;
/*  */
  __pyx_tuple__92 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Unsupported_type_for_X_Must_be_n);<span class='error_goto'> if (unlikely(!__pyx_tuple__92)) __PYX_ERR(0, 2926, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__92);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__92);
</pre><pre class="cython line score-0">&#xA0;<span class="">2927</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2928</span>:     # Identify majority and minority classes</pre>
<pre class="cython line score-33" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2929</span>:     majority_class = y.value_counts().idxmax()</pre>
<pre class='cython code score-33 '>  <span class='trace'>__Pyx_TraceLine</span>(2929,0,<span class='error_goto'>__PYX_ERR(0, 2929, __pyx_L1_error)</span>)
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_y, __pyx_n_s_value_counts);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2929, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_3 = NULL;
  __pyx_t_7 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
      __pyx_t_7 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_7, 0+__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2929, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  }
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_idxmax);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2929, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  __pyx_t_7 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
      __pyx_t_7 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_2, NULL};
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_7, 0+__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 2929, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  }
  __pyx_v_majority_class = __pyx_t_6;
  __pyx_t_6 = 0;
</pre><pre class="cython line score-33" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2930</span>:     minority_class = y.value_counts().idxmin()</pre>
<pre class='cython code score-33 '>  <span class='trace'>__Pyx_TraceLine</span>(2930,0,<span class='error_goto'>__PYX_ERR(0, 2930, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_y, __pyx_n_s_value_counts);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2930, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_7 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_7 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_7, 0+__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 2930, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_idxmin);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2930, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_5 = NULL;
  __pyx_t_7 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_5)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_7 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_5, NULL};
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_7, 0+__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 2930, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_v_minority_class = __pyx_t_6;
  __pyx_t_6 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2931</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2932</span>:     # Correctly determine the number of samples for resampling</pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2933</span>:     num_majority = y.value_counts()[majority_class]</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(2933,0,<span class='error_goto'>__PYX_ERR(0, 2933, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_y, __pyx_n_s_value_counts);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2933, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_5 = NULL;
  __pyx_t_7 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_5)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_7 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_5, NULL};
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_7, 0+__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 2933, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_t_6, __pyx_v_majority_class);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2933, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_v_num_majority = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2934</span>:     num_minority = y.value_counts()[minority_class]</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(2934,0,<span class='error_goto'>__PYX_ERR(0, 2934, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_y, __pyx_n_s_value_counts);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2934, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  __pyx_t_5 = NULL;
  __pyx_t_7 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
    __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
    if (likely(__pyx_t_5)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
      __pyx_t_7 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_5, NULL};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_7, 0+__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2934, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  }
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_t_2, __pyx_v_minority_class);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2934, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_num_minority = __pyx_t_6;
  __pyx_t_6 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2935</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2936</span>:     # Apply resampling strategy</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2937</span>:     if strategy == 'oversample':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(2937,0,<span class='error_goto'>__PYX_ERR(0, 2937, __pyx_L1_error)</span>)
  __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_strategy, __pyx_n_u_oversample, Py_EQ)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2937, __pyx_L1_error)</span>
  if (__pyx_t_4) {
/*  */
    goto __pyx_L15;
  }
</pre><pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2938</span>:         minority_upsampled = resample(</pre>
<pre class='cython code score-14 '>    <span class='trace'>__Pyx_TraceLine</span>(2938,0,<span class='error_goto'>__PYX_ERR(0, 2938, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_resample);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2938, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(2938,0,<span class='error_goto'>__PYX_ERR(0, 2938, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2938, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2938, __pyx_L1_error)</span>;
    __pyx_t_2 = 0;
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(2938,0,<span class='error_goto'>__PYX_ERR(0, 2938, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_6, __pyx_t_5, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2938, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_v_minority_upsampled = __pyx_t_3;
    __pyx_t_3 = 0;
</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2939</span>:             data[data[target_col] == minority_class],</pre>
<pre class='cython code score-15 '>    <span class='trace'>__Pyx_TraceLine</span>(2939,0,<span class='error_goto'>__PYX_ERR(0, 2939, __pyx_L1_error)</span>)
    if (unlikely(!__pyx_v_data)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("data"); <span class='error_goto'>__PYX_ERR(0, 2939, __pyx_L1_error)</span> }
    if (unlikely(!__pyx_v_data)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("data"); <span class='error_goto'>__PYX_ERR(0, 2939, __pyx_L1_error)</span> }
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_v_target_col);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2939, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_5 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_2, __pyx_v_minority_class, Py_EQ); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2939, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2939, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2940</span>:             replace=True,</pre>
<pre class='cython code score-7 '>    <span class='trace'>__Pyx_TraceLine</span>(2940,0,<span class='error_goto'>__PYX_ERR(0, 2940, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2940, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_replace, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2940, __pyx_L1_error)</span>
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2941</span>:             n_samples=num_majority,</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(2941,0,<span class='error_goto'>__PYX_ERR(0, 2941, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_n_samples, __pyx_v_num_majority) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2940, __pyx_L1_error)</span>
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2942</span>:             random_state=random_state</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(2942,0,<span class='error_goto'>__PYX_ERR(0, 2942, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_random_state, __pyx_v_random_state) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2940, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2943</span>:             )</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2944</span>:         resampled = pd.concat(</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(2944,0,<span class='error_goto'>__PYX_ERR(0, 2944, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2944, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_concat);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2944, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-40" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2945</span>:             [data[data[target_col] == majority_class], minority_upsampled])</pre>
<pre class='cython code score-40 '>    <span class='trace'>__Pyx_TraceLine</span>(2945,0,<span class='error_goto'>__PYX_ERR(0, 2945, __pyx_L1_error)</span>)
    if (unlikely(!__pyx_v_data)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("data"); <span class='error_goto'>__PYX_ERR(0, 2945, __pyx_L1_error)</span> }
    if (unlikely(!__pyx_v_data)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("data"); <span class='error_goto'>__PYX_ERR(0, 2945, __pyx_L1_error)</span> }
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_v_target_col);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2945, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_6 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_2, __pyx_v_majority_class, Py_EQ); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2945, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2945, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2945, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_6, 0, __pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2945, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_minority_upsampled);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_minority_upsampled);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_6, 1, __pyx_v_minority_upsampled)) <span class='error_goto'>__PYX_ERR(0, 2945, __pyx_L1_error)</span>;
    __pyx_t_2 = 0;
    __pyx_t_2 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_t_6};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 2944, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    __pyx_v_resampled = __pyx_t_3;
    __pyx_t_3 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2946</span>:     elif strategy == 'undersample':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(2946,0,<span class='error_goto'>__PYX_ERR(0, 2946, __pyx_L1_error)</span>)
  __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_strategy, __pyx_n_u_undersample, Py_EQ)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 2946, __pyx_L1_error)</span>
  if (__pyx_t_4) {
/*  */
  }
  __pyx_L15:;
</pre><pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2947</span>:         majority_downsampled = resample(</pre>
<pre class='cython code score-14 '>    <span class='trace'>__Pyx_TraceLine</span>(2947,0,<span class='error_goto'>__PYX_ERR(0, 2947, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_resample);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2947, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(2947,0,<span class='error_goto'>__PYX_ERR(0, 2947, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2947, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_5);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 2947, __pyx_L1_error)</span>;
    __pyx_t_5 = 0;
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(2947,0,<span class='error_goto'>__PYX_ERR(0, 2947, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_6, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2947, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_v_majority_downsampled = __pyx_t_2;
    __pyx_t_2 = 0;
</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2948</span>:             data[data[target_col] == majority_class],</pre>
<pre class='cython code score-15 '>    <span class='trace'>__Pyx_TraceLine</span>(2948,0,<span class='error_goto'>__PYX_ERR(0, 2948, __pyx_L1_error)</span>)
    if (unlikely(!__pyx_v_data)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("data"); <span class='error_goto'>__PYX_ERR(0, 2948, __pyx_L1_error)</span> }
    if (unlikely(!__pyx_v_data)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("data"); <span class='error_goto'>__PYX_ERR(0, 2948, __pyx_L1_error)</span> }
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_v_target_col);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2948, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_6 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_5, __pyx_v_majority_class, Py_EQ); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2948, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2948, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2949</span>:             replace=False,</pre>
<pre class='cython code score-7 '>    <span class='trace'>__Pyx_TraceLine</span>(2949,0,<span class='error_goto'>__PYX_ERR(0, 2949, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2949, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_replace, Py_False) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2949, __pyx_L1_error)</span>
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2950</span>:             n_samples=num_minority,</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(2950,0,<span class='error_goto'>__PYX_ERR(0, 2950, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_n_samples, __pyx_v_num_minority) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2949, __pyx_L1_error)</span>
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2951</span>:             random_state=random_state</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(2951,0,<span class='error_goto'>__PYX_ERR(0, 2951, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_random_state, __pyx_v_random_state) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2949, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2952</span>:             )</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2953</span>:         resampled = pd.concat(</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(2953,0,<span class='error_goto'>__PYX_ERR(0, 2953, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2953, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_concat);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2953, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-40" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2954</span>:             [data[data[target_col] == minority_class], majority_downsampled])</pre>
<pre class='cython code score-40 '>    <span class='trace'>__Pyx_TraceLine</span>(2954,0,<span class='error_goto'>__PYX_ERR(0, 2954, __pyx_L1_error)</span>)
    if (unlikely(!__pyx_v_data)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("data"); <span class='error_goto'>__PYX_ERR(0, 2954, __pyx_L1_error)</span> }
    if (unlikely(!__pyx_v_data)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("data"); <span class='error_goto'>__PYX_ERR(0, 2954, __pyx_L1_error)</span> }
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_v_target_col);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2954, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_3 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_5, __pyx_v_minority_class, Py_EQ); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2954, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_data, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2954, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2954, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_5);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 2954, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_majority_downsampled);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_majority_downsampled);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 1, __pyx_v_majority_downsampled)) <span class='error_goto'>__PYX_ERR(0, 2954, __pyx_L1_error)</span>;
    __pyx_t_5 = 0;
    __pyx_t_5 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_t_3};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_7, 1+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 2953, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    __pyx_v_resampled = __pyx_t_2;
    __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2955</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2956</span>:     # Prepare the output</pre>
<pre class="cython line score-24" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2957</span>:     X_resampled = resampled.drop(target_col, axis=1)</pre>
<pre class='cython code score-24 '>  <span class='trace'>__Pyx_TraceLine</span>(2957,0,<span class='error_goto'>__PYX_ERR(0, 2957, __pyx_L1_error)</span>)
  if (unlikely(!__pyx_v_resampled)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("resampled"); <span class='error_goto'>__PYX_ERR(0, 2957, __pyx_L1_error)</span> }
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_resampled, __pyx_n_s_drop);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2957, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2957, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_col);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target_col);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_v_target_col)) <span class='error_goto'>__PYX_ERR(0, 2957, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2957, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_axis, __pyx_int_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2957, __pyx_L1_error)</span>
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_6, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2957, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_v_X_resampled = __pyx_t_5;
  __pyx_t_5 = 0;
</pre><pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2958</span>:     y_resampled = resampled[target_col]</pre>
<pre class='cython code score-4 '>  <span class='trace'>__Pyx_TraceLine</span>(2958,0,<span class='error_goto'>__PYX_ERR(0, 2958, __pyx_L1_error)</span>)
  if (unlikely(!__pyx_v_resampled)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("resampled"); <span class='error_goto'>__PYX_ERR(0, 2958, __pyx_L1_error)</span> }
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_resampled, __pyx_v_target_col);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2958, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_v_y_resampled = __pyx_t_5;
  __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2959</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2960</span>:     # Convert back to the original input type if necessary</pre>
<pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2961</span>:     if isinstance(X, np.ndarray):</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(2961,0,<span class='error_goto'>__PYX_ERR(0, 2961, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2961, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_ndarray);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2961, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_4 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_X, __pyx_t_3);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(0, 2961, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (__pyx_t_4) {
/*  */
  }
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2962</span>:         X_resampled = X_resampled.to_numpy()</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(2962,0,<span class='error_goto'>__PYX_ERR(0, 2962, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X_resampled, __pyx_n_s_to_numpy);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2962, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_6 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_6, NULL};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_7, 0+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 2962, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_X_resampled, __pyx_t_3);
    __pyx_t_3 = 0;
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2963</span>:         y_resampled = y_resampled.to_numpy()</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(2963,0,<span class='error_goto'>__PYX_ERR(0, 2963, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_y_resampled, __pyx_n_s_to_numpy);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2963, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_6 = NULL;
    __pyx_t_7 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_7 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_6, NULL};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_7, 0+__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 2963, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_y_resampled, __pyx_t_3);
    __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2964</span>: </pre>
<pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2965</span>:     return X_resampled, y_resampled</pre>
<pre class='cython code score-12 '>  <span class='trace'>__Pyx_TraceLine</span>(2965,0,<span class='error_goto'>__PYX_ERR(0, 2965, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2965, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X_resampled);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X_resampled);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_X_resampled)) <span class='error_goto'>__PYX_ERR(0, 2965, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y_resampled);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_y_resampled);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_v_y_resampled)) <span class='error_goto'>__PYX_ERR(0, 2965, __pyx_L1_error)</span>;
  __pyx_r = __pyx_t_3;
  __pyx_t_3 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">2966</span>: </pre>
<pre class="cython line score-54" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2967</span>: def soft_data_split(</pre>
<pre class='cython code score-54 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_69soft_data_split(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_68soft_data_split, "\n    Splits data into training and test sets, optionally extracting a \n    target column.\n\n    Parameters\n    ----------\n    X : array-like or DataFrame\n        Input data to split. If `extract_target` is True, a target column can be\n        extracted from `X`.\n    y : array-like, optional\n        Target variable array. If None and `extract_target` is False, `X` is\n        split without a target variable.\n    test_size : float, optional\n        Proportion of the dataset to include in the test split. Should be\n        between 0.0 and 1.0. Default is 0.2.\n    target_column : int or str, optional\n        Index or column name of the target variable in `X`. Used only if\n        `extract_target` is True.\n    random_state : int, optional\n        Controls the shuffling for reproducible output. Default is 42.\n    extract_target : bool, optional\n        If True, extracts the target variable from `X`. Default is False.\n    split_kwargs : dict, optional\n        Additional keyword arguments to pass to `train_test_split`.\n\n    Returns\n    -------\n    X_train, X_test, y_train, y_test : arrays\n        Split data arrays.\n\n    Raises\n    ------\n    ValueError\n        If `target_column` is not found in `X` when `extract_target` is True.\n\n    Example\n    -------\n    &gt;&gt;&gt; from gofast.datasets import fetch_data\n    &gt;&gt;&gt; data = fetch_data('Bagoue original')['data']\n    &gt;&gt;&gt; X, XT, y, yT = split_data(data, extract_target=True, target_column='flow')\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_69soft_data_split = {"soft_data_split", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_69soft_data_split, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_68soft_data_split};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_69soft_data_split(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_X = 0;
  PyObject *__pyx_v_y = 0;
  PyObject *__pyx_v_test_size = 0;
  PyObject *__pyx_v_target_column = 0;
  PyObject *__pyx_v_random_state = 0;
  PyObject *__pyx_v_extract_target = 0;
  PyObject *__pyx_v_split_kwargs = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("soft_data_split (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  __pyx_v_split_kwargs = <span class='py_c_api'>PyDict_New</span>(); if (unlikely(!__pyx_v_split_kwargs)) return NULL;
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_v_split_kwargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_X,&amp;__pyx_n_s_y,&amp;__pyx_n_s_test_size,&amp;__pyx_n_s_target_column,&amp;__pyx_n_s_random_state,&amp;__pyx_n_s_extract_target_2,0};
  PyObject* values[6] = {0,0,0,0,0,0};
/*  */
  /* function exit code */
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_split_kwargs);
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_68soft_data_split(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_X, PyObject *__pyx_v_y, PyObject *__pyx_v_test_size, PyObject *__pyx_v_target_column, PyObject *__pyx_v_random_state, PyObject *__pyx_v_extract_target, PyObject *__pyx_v_split_kwargs) {
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__93)
  <span class='trace'>__Pyx_TraceCall</span>("soft_data_split", __pyx_f[0], 2967, 0, <span class='error_goto'>__PYX_ERR(0, 2967, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.soft_data_split", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_X);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_y);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__180 = <span class='py_c_api'>PyTuple_Pack</span>(7, __pyx_n_s_X, __pyx_n_s_y, __pyx_n_s_test_size, __pyx_n_s_target_column, __pyx_n_s_random_state, __pyx_n_s_extract_target_2, __pyx_n_s_split_kwargs);<span class='error_goto'> if (unlikely(!__pyx_tuple__180)) __PYX_ERR(0, 2967, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__180);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__180);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2967,0,<span class='error_goto'>__PYX_ERR(0, 2967, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2967, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_test_size, ((PyObject*)__pyx_float_0_2)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2967, __pyx_L1_error)</span>
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2967,0,<span class='error_goto'>__PYX_ERR(0, 2967, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_69soft_data_split, 0, __pyx_n_s_soft_data_split, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__93));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2967, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_3, __pyx_tuple__98);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsKwDict</span>(__pyx_t_3, __pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_soft_data_split, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2967, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_codeobj__93 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(2, 0, 4, 7, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__180, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_soft_data_split, 2967, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__93)) __PYX_ERR(0, 2967, __pyx_L1_error)</span>
</pre><pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2968</span>:     X, y=None, *,</pre>
<pre class='cython code score-4 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_float_0_2)));
</pre><pre class="cython line score-0">&#xA0;<span class="">2969</span>:     test_size=0.2,</pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2970</span>:     target_column=None,</pre>
<pre class='cython code score-19 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)__pyx_int_42)));
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(2970,0,<span class='error_goto'>__PYX_ERR(0, 2970, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_target_column, Py_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2967, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_random_state, ((PyObject *)__pyx_int_42)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2967, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_extract_target_2, ((PyObject *)Py_False)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 2967, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">2971</span>:     random_state=42,</pre>
<pre class="cython line score-48" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">2972</span>:     extract_target=False,</pre>
<pre class='cython code score-48 '>    values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_X)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2967, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_y);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2967, __pyx_L3_error)</span>
        }
      }
      if (kw_args &gt; 0 &amp;&amp; (kw_args &lt;= 4)) {
        Py_ssize_t index;
        for (index = 2; index &lt; 6 &amp;&amp; kw_args &gt; 0; index++) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, *__pyx_pyargnames[index]);
          if (value) { values[index] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 2967, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, __pyx_v_split_kwargs, values + 0, kwd_pos_args, "soft_data_split") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 2967, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_X = values[0];
    __pyx_v_y = values[1];
    __pyx_v_test_size = values[2];
    __pyx_v_target_column = values[3];
    __pyx_v_random_state = values[4];
    __pyx_v_extract_target = values[5];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("soft_data_split", 0, 1, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 2967, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_split_kwargs); __pyx_v_split_kwargs = 0;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.soft_data_split", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_68soft_data_split(__pyx_self, __pyx_v_X, __pyx_v_y, __pyx_v_test_size, __pyx_v_target_column, __pyx_v_random_state, __pyx_v_extract_target, __pyx_v_split_kwargs);
</pre><pre class="cython line score-0">&#xA0;<span class="">2973</span>:     **split_kwargs</pre>
<pre class="cython line score-0">&#xA0;<span class="">2974</span>: ):</pre>
<pre class="cython line score-0">&#xA0;<span class="">2975</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">2976</span>:     Splits data into training and test sets, optionally extracting a</pre>
<pre class="cython line score-0">&#xA0;<span class="">2977</span>:     target column.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2978</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">2979</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">2980</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">2981</span>:     X : array-like or DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">2982</span>:         Input data to split. If `extract_target` is True, a target column can be</pre>
<pre class="cython line score-0">&#xA0;<span class="">2983</span>:         extracted from `X`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2984</span>:     y : array-like, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2985</span>:         Target variable array. If None and `extract_target` is False, `X` is</pre>
<pre class="cython line score-0">&#xA0;<span class="">2986</span>:         split without a target variable.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2987</span>:     test_size : float, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2988</span>:         Proportion of the dataset to include in the test split. Should be</pre>
<pre class="cython line score-0">&#xA0;<span class="">2989</span>:         between 0.0 and 1.0. Default is 0.2.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2990</span>:     target_column : int or str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2991</span>:         Index or column name of the target variable in `X`. Used only if</pre>
<pre class="cython line score-0">&#xA0;<span class="">2992</span>:         `extract_target` is True.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2993</span>:     random_state : int, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2994</span>:         Controls the shuffling for reproducible output. Default is 42.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2995</span>:     extract_target : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2996</span>:         If True, extracts the target variable from `X`. Default is False.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2997</span>:     split_kwargs : dict, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">2998</span>:         Additional keyword arguments to pass to `train_test_split`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">2999</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3000</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">3001</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3002</span>:     X_train, X_test, y_train, y_test : arrays</pre>
<pre class="cython line score-0">&#xA0;<span class="">3003</span>:         Split data arrays.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3004</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3005</span>:     Raises</pre>
<pre class="cython line score-0">&#xA0;<span class="">3006</span>:     ------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3007</span>:     ValueError</pre>
<pre class="cython line score-0">&#xA0;<span class="">3008</span>:         If `target_column` is not found in `X` when `extract_target` is True.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3009</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3010</span>:     Example</pre>
<pre class="cython line score-0">&#xA0;<span class="">3011</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3012</span>:     &gt;&gt;&gt; from gofast.datasets import fetch_data</pre>
<pre class="cython line score-0">&#xA0;<span class="">3013</span>:     &gt;&gt;&gt; data = fetch_data('Bagoue original')['data']</pre>
<pre class="cython line score-0">&#xA0;<span class="">3014</span>:     &gt;&gt;&gt; X, XT, y, yT = split_data(data, extract_target=True, target_column='flow')</pre>
<pre class="cython line score-0">&#xA0;<span class="">3015</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">3016</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3017</span>:     if extract_target:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3017,0,<span class='error_goto'>__PYX_ERR(0, 3017, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_extract_target); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3017, __pyx_L1_error)</span>
  if (__pyx_t_1) {
/*  */
  }
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3018</span>:         if isinstance(X, pd.DataFrame) and target_column in X.columns:</pre>
<pre class='cython code score-16 '>    <span class='trace'>__Pyx_TraceLine</span>(3018,0,<span class='error_goto'>__PYX_ERR(0, 3018, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3018, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3018, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_4 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_X, __pyx_t_3);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(0, 3018, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (__pyx_t_4) {
    } else {
      __pyx_t_1 = __pyx_t_4;
      goto __pyx_L5_bool_binop_done;
    }
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3018, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_v_target_column, __pyx_t_3, Py_EQ)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3018, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_1 = __pyx_t_4;
    __pyx_L5_bool_binop_done:;
    if (__pyx_t_1) {
/*  */
      goto __pyx_L4;
    }
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3019</span>:             y = X[target_column]</pre>
<pre class='cython code score-3 '>      <span class='trace'>__Pyx_TraceLine</span>(3019,0,<span class='error_goto'>__PYX_ERR(0, 3019, __pyx_L1_error)</span>)
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_X, __pyx_v_target_column);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3019, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_y, __pyx_t_3);
      __pyx_t_3 = 0;
</pre><pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3020</span>:             X = X.drop(columns=target_column)</pre>
<pre class='cython code score-14 '>      <span class='trace'>__Pyx_TraceLine</span>(3020,0,<span class='error_goto'>__PYX_ERR(0, 3020, __pyx_L1_error)</span>)
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_drop);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3020, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3020, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_columns, __pyx_v_target_column) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3020, __pyx_L1_error)</span>
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_empty_tuple, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3020, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_X, __pyx_t_5);
      __pyx_t_5 = 0;
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3021</span>:         elif hasattr(X, '__array__') and isinstance(target_column, int):</pre>
<pre class='cython code score-7 '>    <span class='trace'>__Pyx_TraceLine</span>(3021,0,<span class='error_goto'>__PYX_ERR(0, 3021, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_HasAttr</span>(__pyx_v_X, __pyx_n_u_array);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(0, 3021, __pyx_L1_error)</span>
    if (__pyx_t_4) {
    } else {
      __pyx_t_1 = __pyx_t_4;
      goto __pyx_L7_bool_binop_done;
    }
    __pyx_t_4 = <span class='py_c_api'>PyInt_Check</span>(__pyx_v_target_column); 
    __pyx_t_1 = __pyx_t_4;
    __pyx_L7_bool_binop_done:;
    if (likely(__pyx_t_1)) {
/*  */
      goto __pyx_L4;
    }
</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3022</span>:             y = X[:, target_column]</pre>
<pre class='cython code score-15 '>      <span class='trace'>__Pyx_TraceLine</span>(3022,0,<span class='error_goto'>__PYX_ERR(0, 3022, __pyx_L1_error)</span>)
      __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3022, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_slice__25);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_slice__25);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_slice__25)) <span class='error_goto'>__PYX_ERR(0, 3022, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_column);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target_column);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 1, __pyx_v_target_column)) <span class='error_goto'>__PYX_ERR(0, 3022, __pyx_L1_error)</span>;
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_X, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3022, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_y, __pyx_t_2);
      __pyx_t_2 = 0;
</pre><pre class="cython line score-29" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3023</span>:             X = np.delete(X, target_column, axis=1)</pre>
<pre class='cython code score-29 '>      <span class='trace'>__Pyx_TraceLine</span>(3023,0,<span class='error_goto'>__PYX_ERR(0, 3023, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3023, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_delete);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3023, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3023, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_X)) <span class='error_goto'>__PYX_ERR(0, 3023, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_target_column);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_target_column);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_v_target_column)) <span class='error_goto'>__PYX_ERR(0, 3023, __pyx_L1_error)</span>;
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3023, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_axis, __pyx_int_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3023, __pyx_L1_error)</span>
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_t_2, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3023, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_X, __pyx_t_6);
      __pyx_t_6 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3024</span>:         else:</pre>
<pre class="cython line score-32" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3025</span>:             raise ValueError(f"Target column {target_column!r} not found in X.")</pre>
<pre class='cython code score-32 '>    <span class='trace'>__Pyx_TraceLine</span>(3025,0,<span class='error_goto'>__PYX_ERR(0, 3025, __pyx_L1_error)</span>)
    /*else*/ {
      __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3025, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_7 = 0;
      __pyx_t_8 = 127;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Target_column);
      __pyx_t_7 += 14;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Target_column);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_kp_u_Target_column);
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_v_target_column), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3025, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_3) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_3) : __pyx_t_8;
      __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_3);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_6, 1, __pyx_t_3);
      __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_not_found_in_X);
      __pyx_t_7 += 16;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_not_found_in_X);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_6, 2, __pyx_kp_u_not_found_in_X);
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_6, 3, __pyx_t_7, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3025, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3025, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_6, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='error_goto'>__PYX_ERR(0, 3025, __pyx_L1_error)</span>
    }
    __pyx_L4:;
</pre><pre class="cython line score-0">&#xA0;<span class="">3026</span>: </pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3027</span>:     if y is not None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(3027,0,<span class='error_goto'>__PYX_ERR(0, 3027, __pyx_L1_error)</span>)
  __pyx_t_1 = (__pyx_v_y != Py_None);
  if (__pyx_t_1) {
/*  */
  }
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3028</span>:         return train_test_split(X, y, test_size=test_size,</pre>
<pre class='cython code score-26 '>    <span class='trace'>__Pyx_TraceLine</span>(3028,0,<span class='error_goto'>__PYX_ERR(0, 3028, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_train_test_split);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3028, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3028, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_X)) <span class='error_goto'>__PYX_ERR(0, 3028, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_y);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_v_y)) <span class='error_goto'>__PYX_ERR(0, 3028, __pyx_L1_error)</span>;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3028, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_test_size, __pyx_v_test_size) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3028, __pyx_L1_error)</span>
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(3028,0,<span class='error_goto'>__PYX_ERR(0, 3028, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_6, __pyx_t_3, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3028, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_r = __pyx_t_5;
    __pyx_t_5 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3029</span>:                                 random_state=random_state, **split_kwargs)</pre>
<pre class='cython code score-7 '>    <span class='trace'>__Pyx_TraceLine</span>(3029,0,<span class='error_goto'>__PYX_ERR(0, 3029, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_random_state, __pyx_v_random_state) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3028, __pyx_L1_error)</span>
    __pyx_t_2 = __pyx_t_5;
    __pyx_t_5 = 0;
    if (<span class='pyx_c_api'>__Pyx_MergeKeywords</span>(__pyx_t_2, __pyx_v_split_kwargs) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3029, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3030</span>:     else:</pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3031</span>:         return  train_test_split(</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(3031,0,<span class='error_goto'>__PYX_ERR(0, 3031, __pyx_L1_error)</span>)
  /*else*/ {
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_train_test_split);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3031, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(3032,0,<span class='error_goto'>__PYX_ERR(0, 3032, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3031, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_X)) <span class='error_goto'>__PYX_ERR(0, 3031, __pyx_L1_error)</span>;
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(3031,0,<span class='error_goto'>__PYX_ERR(0, 3031, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_t_2, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3031, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_r = __pyx_t_6;
    __pyx_t_6 = 0;
    goto __pyx_L0;
  }
</pre><pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3032</span>:             X, test_size=test_size,random_state=random_state, **split_kwargs)</pre>
<pre class='cython code score-14 '>    <span class='trace'>__Pyx_TraceLine</span>(3031,0,<span class='error_goto'>__PYX_ERR(0, 3031, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3032, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(3032,0,<span class='error_goto'>__PYX_ERR(0, 3032, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_test_size, __pyx_v_test_size) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3032, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_random_state, __pyx_v_random_state) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3032, __pyx_L1_error)</span>
    __pyx_t_3 = __pyx_t_6;
    __pyx_t_6 = 0;
    if (<span class='pyx_c_api'>__Pyx_MergeKeywords</span>(__pyx_t_3, __pyx_v_split_kwargs) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3032, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3033</span>: </pre>
<pre class="cython line score-85" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3034</span>: def load_model(</pre>
<pre class='cython code score-85 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_71load_model(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_70load_model, "\n    Loads a saved model or data using Python's pickle or joblib module.\n\n    Parameters\n    ----------\n    file_path : str\n        The path to the saved model file. Supported formats are `.pkl` and `.joblib`.\n    retrieve_default : bool, optional, default=True\n        If True, returns the model along with its best parameters. If False,\n        returns the entire contents of the saved file.\n    model_name : Optional[str], optional\n        The name of the specific model to retrieve from the saved file. If None,\n        the entire file content is returned.\n    storage_format : Optional[str], optional\n        The format used for saving the file. If None, the format is inferred\n        from the file extension. Supported formats are 'joblib' and 'pickle'.\n\n    Returns\n    -------\n    Union[Any, Tuple[Any, Dict[str, Any]]]\n        The loaded model or a tuple of the model and its parameters, depending\n        on the `retrieve_default` value.\n\n    Raises\n    ------\n    FileNotFoundError\n        If the specified file does not exist.\n    KeyError\n        If the specified model name is not found in the file.\n    ValueError\n        If the storage format is not supported or if the loaded data is not\n        a dictionary when a model name is specified.\n\n    Example\n    -------\n    &gt;&gt;&gt; model, params = load_model('path_to_file.pkl', model_name='SVC')\n    &gt;&gt;&gt; print(model)\n    &gt;&gt;&gt; print(params)\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_71load_model = {"load_model", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_71load_model, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_70load_model};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_71load_model(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_file_path = 0;
  PyObject *__pyx_v_retrieve_default = 0;
  PyObject *__pyx_v_model_name = 0;
  PyObject *__pyx_v_storage_format = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("load_model (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_file_path,&amp;__pyx_n_s_retrieve_default,&amp;__pyx_n_s_model_name,&amp;__pyx_n_s_storage_format,0};
  PyObject* values[4] = {0,0,0,0};
/*  */
  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_70load_model(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_file_path, PyObject *__pyx_v_retrieve_default, PyObject *__pyx_v_model_name, PyObject *__pyx_v_storage_format) {
  PyObject *__pyx_v_load_func = NULL;
  PyObject *__pyx_v_file = NULL;
  PyObject *__pyx_v_loaded_data = NULL;
  PyObject *__pyx_v_model_info = NULL;
  PyObject *__pyx_v_available = NULL;
  PyObject *__pyx_v_main_keys = NULL;
  PyObject *__pyx_v_best_model = NULL;
  PyObject *__pyx_v_best_params = NULL;
  PyObject *__pyx_9genexpr14__pyx_v_key = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__94)
  <span class='trace'>__Pyx_TraceCall</span>("load_model", __pyx_f[0], 3034, 0, <span class='error_goto'>__PYX_ERR(0, 3034, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_storage_format);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.load_model", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_load_func);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_file);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_loaded_data);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_model_info);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_available);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_main_keys);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_best_model);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_best_params);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr14__pyx_v_key);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_storage_format);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__181 = <span class='py_c_api'>PyTuple_Pack</span>(13, __pyx_n_s_file_path, __pyx_n_s_retrieve_default, __pyx_n_s_model_name, __pyx_n_s_storage_format, __pyx_n_s_load_func, __pyx_n_s_file, __pyx_n_s_loaded_data, __pyx_n_s_model_info, __pyx_n_s_available, __pyx_n_s_main_keys, __pyx_n_s_best_model_2, __pyx_n_s_best_params_2, __pyx_n_s_key);<span class='error_goto'> if (unlikely(!__pyx_tuple__181)) __PYX_ERR(0, 3034, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__181);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__181);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3034,0,<span class='error_goto'>__PYX_ERR(0, 3034, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3034, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_retrieve_default, ((PyObject *)Py_True)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3034, __pyx_L1_error)</span>
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3034,0,<span class='error_goto'>__PYX_ERR(0, 3034, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3034, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_file_path, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3034, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_retrieve_default, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3034, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_model_name, __pyx_kp_s_Optional_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3034, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_storage_format, __pyx_kp_s_Optional_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3034, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_return, __pyx_kp_s_Union_Any_Tuple_Any_Dict_str_Any) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3034, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_71load_model, 0, __pyx_n_s_load_model, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__94));<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3034, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsKwDict</span>(__pyx_t_2, __pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_2, __pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_load_model, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3034, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_codeobj__94 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(1, 0, 3, 13, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__181, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_load_model, 3034, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__94)) __PYX_ERR(0, 3034, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3035</span>:     file_path: str,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3036</span>:     *,</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3037</span>:     retrieve_default: bool = True,</pre>
<pre class='cython code score-2 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_True)));
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3038</span>:     model_name: Optional[str] = None,</pre>
<pre class='cython code score-7 '>    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3038,0,<span class='error_goto'>__PYX_ERR(0, 3038, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_model_name, Py_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3034, __pyx_L1_error)</span>
</pre><pre class="cython line score-41" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3039</span>:     storage_format: Optional[str] = None</pre>
<pre class='cython code score-41 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_file_path)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3034, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
      }
      if (kw_args &gt; 0 &amp;&amp; likely(kw_args &lt;= 3)) {
        Py_ssize_t index;
        for (index = 1; index &lt; 4 &amp;&amp; kw_args &gt; 0; index++) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, *__pyx_pyargnames[index]);
          if (value) { values[index] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3034, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "load_model") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 3034, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 1)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
    }
    __pyx_v_file_path = ((PyObject*)values[0]);
    __pyx_v_retrieve_default = values[1];
    __pyx_v_model_name = values[2];
    __pyx_v_storage_format = values[3];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("load_model", 1, 1, 1, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 3034, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.load_model", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_file_path), (&amp;PyUnicode_Type), 0, "file_path", 1))) <span class='error_goto'>__PYX_ERR(0, 3035, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_70load_model(__pyx_self, __pyx_v_file_path, __pyx_v_retrieve_default, __pyx_v_model_name, __pyx_v_storage_format);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3039,0,<span class='error_goto'>__PYX_ERR(0, 3039, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_storage_format, Py_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3034, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3040</span>:     ) -&gt; Union[Any, Tuple[Any, Dict[str, Any]]]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">3041</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">3042</span>:     Loads a saved model or data using Python's pickle or joblib module.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3043</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3044</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">3045</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3046</span>:     file_path : str</pre>
<pre class="cython line score-0">&#xA0;<span class="">3047</span>:         The path to the saved model file. Supported formats are `.pkl` and `.joblib`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3048</span>:     retrieve_default : bool, optional, default=True</pre>
<pre class="cython line score-0">&#xA0;<span class="">3049</span>:         If True, returns the model along with its best parameters. If False,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3050</span>:         returns the entire contents of the saved file.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3051</span>:     model_name : Optional[str], optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3052</span>:         The name of the specific model to retrieve from the saved file. If None,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3053</span>:         the entire file content is returned.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3054</span>:     storage_format : Optional[str], optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3055</span>:         The format used for saving the file. If None, the format is inferred</pre>
<pre class="cython line score-0">&#xA0;<span class="">3056</span>:         from the file extension. Supported formats are 'joblib' and 'pickle'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3057</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3058</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">3059</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3060</span>:     Union[Any, Tuple[Any, Dict[str, Any]]]</pre>
<pre class="cython line score-0">&#xA0;<span class="">3061</span>:         The loaded model or a tuple of the model and its parameters, depending</pre>
<pre class="cython line score-0">&#xA0;<span class="">3062</span>:         on the `retrieve_default` value.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3063</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3064</span>:     Raises</pre>
<pre class="cython line score-0">&#xA0;<span class="">3065</span>:     ------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3066</span>:     FileNotFoundError</pre>
<pre class="cython line score-0">&#xA0;<span class="">3067</span>:         If the specified file does not exist.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3068</span>:     KeyError</pre>
<pre class="cython line score-0">&#xA0;<span class="">3069</span>:         If the specified model name is not found in the file.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3070</span>:     ValueError</pre>
<pre class="cython line score-0">&#xA0;<span class="">3071</span>:         If the storage format is not supported or if the loaded data is not</pre>
<pre class="cython line score-0">&#xA0;<span class="">3072</span>:         a dictionary when a model name is specified.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3073</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3074</span>:     Example</pre>
<pre class="cython line score-0">&#xA0;<span class="">3075</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3076</span>:     &gt;&gt;&gt; model, params = load_model('path_to_file.pkl', model_name='SVC')</pre>
<pre class="cython line score-0">&#xA0;<span class="">3077</span>:     &gt;&gt;&gt; print(model)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3078</span>:     &gt;&gt;&gt; print(params)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3079</span>:     """</pre>
<pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3080</span>:     if not os.path.isfile(file_path):</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(3080,0,<span class='error_goto'>__PYX_ERR(0, 3080, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3080, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3080, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_isfile);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3080, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_file_path};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3080, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_1); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3080, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_6 = (!__pyx_t_5);
  if (unlikely(__pyx_t_6)) {
/*  */
  }
</pre><pre class="cython line score-29" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3081</span>:         raise FileNotFoundError(f"File '{file_path}' not found.")</pre>
<pre class='cython code score-29 '>    <span class='trace'>__Pyx_TraceLine</span>(3081,0,<span class='error_goto'>__PYX_ERR(0, 3081, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_FileNotFoundError);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3081, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3081, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_7 = 0;
    __pyx_t_8 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_File_2);
    __pyx_t_7 += 6;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_File_2);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_kp_u_File_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_file_path);
    __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_file_path) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_file_path) : __pyx_t_8;
    __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_v_file_path);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_file_path);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_v_file_path);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_not_found_2);
    __pyx_t_7 += 12;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_not_found_2);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 2, __pyx_kp_u_not_found_2);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_2, 3, __pyx_t_7, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3081, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_t_1, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3081, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='error_goto'>__PYX_ERR(0, 3081, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3082</span>: </pre>
<pre class="cython line score-65" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3083</span>:     storage_format = storage_format or os.path.splitext(file_path)[-1].lower().lstrip('.')</pre>
<pre class='cython code score-65 '>  <span class='trace'>__Pyx_TraceLine</span>(3083,0,<span class='error_goto'>__PYX_ERR(0, 3083, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_storage_format); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3083, __pyx_L1_error)</span>
  if (!__pyx_t_6) {
  } else {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_storage_format);
    __pyx_t_2 = __pyx_v_storage_format;
    goto __pyx_L4_bool_binop_done;
  }
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_10, __pyx_n_s_os);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3083, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
  __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_10, __pyx_n_s_path);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3083, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
  __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_11, __pyx_n_s_splitext);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3083, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
  __pyx_t_11 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_10))) {
    __pyx_t_11 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_10);
    if (likely(__pyx_t_11)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_10);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_10, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_11, __pyx_v_file_path};
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_10, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
    if (unlikely(!__pyx_t_9)) <span class='error_goto'>__PYX_ERR(0, 3083, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
  }
  __pyx_t_10 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_9, -1L, long, 1, __Pyx_PyInt_From_long, 0, 1, 1);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3083, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_10, __pyx_n_s_lower);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3083, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
  __pyx_t_10 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
    __pyx_t_10 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
    if (likely(__pyx_t_10)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_10);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_10, NULL};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3083, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
  }
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_lstrip);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3083, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
    __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
    if (likely(__pyx_t_1)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_kp_u__3};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 3083, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
  __pyx_t_2 = __pyx_t_3;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_L4_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_storage_format, __pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3084</span>:     if storage_format not in {"joblib", "pickle"}:</pre>
<pre class='cython code score-6 '>  <span class='trace'>__Pyx_TraceLine</span>(3084,0,<span class='error_goto'>__PYX_ERR(0, 3084, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_storage_format);
  __pyx_t_2 = __pyx_v_storage_format;
  __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_2, __pyx_n_u_joblib_2, Py_NE)); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3084, __pyx_L1_error)</span>
  if (__pyx_t_5) {
  } else {
    __pyx_t_6 = __pyx_t_5;
    goto __pyx_L7_bool_binop_done;
  }
  __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_2, __pyx_n_u_pickle, Py_NE)); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3084, __pyx_L1_error)</span>
  __pyx_t_6 = __pyx_t_5;
  __pyx_L7_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_5 = __pyx_t_6;
  if (unlikely(__pyx_t_5)) {
/*  */
  }
</pre><pre class="cython line score-27" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3085</span>:         raise ValueError(f"Unsupported storage format '{storage_format}'. "</pre>
<pre class='cython code score-27 '>    <span class='trace'>__Pyx_TraceLine</span>(3085,0,<span class='error_goto'>__PYX_ERR(0, 3085, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3085, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_7 = 0;
    __pyx_t_8 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Unsupported_storage_format);
    __pyx_t_7 += 28;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Unsupported_storage_format);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_kp_u_Unsupported_storage_format);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_storage_format, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3085, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_3) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_3) : __pyx_t_8;
    __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_3);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_3);
    __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Use_joblib_or_pickle);
    __pyx_t_7 += 28;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Use_joblib_or_pickle);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 2, __pyx_kp_u_Use_joblib_or_pickle);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_2, 3, __pyx_t_7, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3085, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3085, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='error_goto'>__PYX_ERR(0, 3085, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3086</span>:                          "Use 'joblib' or 'pickle'.")</pre>
<pre class="cython line score-0">&#xA0;<span class="">3087</span>: </pre>
<pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3088</span>:     load_func = joblib.load if storage_format == 'joblib' else pickle.load</pre>
<pre class='cython code score-12 '>  <span class='trace'>__Pyx_TraceLine</span>(3088,0,<span class='error_goto'>__PYX_ERR(0, 3088, __pyx_L1_error)</span>)
  __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_storage_format, __pyx_n_u_joblib_2, Py_EQ)); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3088, __pyx_L1_error)</span>
  if (__pyx_t_5) {
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_joblib_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3088, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_load);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3088, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_2 = __pyx_t_9;
    __pyx_t_9 = 0;
  } else {
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_9, __pyx_n_s_pickle);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3088, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_9, __pyx_n_s_load);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3088, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    __pyx_t_2 = __pyx_t_3;
    __pyx_t_3 = 0;
  }
  __pyx_v_load_func = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-72" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3089</span>:     with open(file_path, 'rb') as file:</pre>
<pre class='cython code score-72 '>  <span class='trace'>__Pyx_TraceLine</span>(3089,0,<span class='error_goto'>__PYX_ERR(0, 3089, __pyx_L1_error)</span>)
  /*with:*/ {
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3089, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_file_path);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_file_path);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_file_path)) <span class='error_goto'>__PYX_ERR(0, 3089, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_rb);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_rb);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_n_u_rb)) <span class='error_goto'>__PYX_ERR(0, 3089, __pyx_L1_error)</span>;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_open, __pyx_t_2, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3089, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_3, __pyx_n_s_exit);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 3089, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_LookupSpecial</span>(__pyx_t_3, __pyx_n_s_enter);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3089, __pyx_L9_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_1 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, NULL};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3089, __pyx_L9_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    }
    __pyx_t_9 = __pyx_t_2;
    __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    /*try:*/ {
      {
        /*try:*/ {
          __pyx_v_file = __pyx_t_9;
          __pyx_t_9 = 0;
/*  */
        }
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
        goto __pyx_L18_try_end;
        __pyx_L13_error:;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        /*except:*/ {
          <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.load_model", __pyx_clineno, __pyx_lineno, __pyx_filename);
          if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_9, &amp;__pyx_t_3, &amp;__pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3089, __pyx_L15_except_error)</span>
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_9);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
          <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_2);
          __pyx_t_1 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_t_9, __pyx_t_3, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3089, __pyx_L15_except_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          __pyx_t_16 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_12, __pyx_t_1, NULL);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          if (unlikely(!__pyx_t_16)) <span class='error_goto'>__PYX_ERR(0, 3089, __pyx_L15_except_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_16);
          __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_16);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_16); __pyx_t_16 = 0;
          if (__pyx_t_5 &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3089, __pyx_L15_except_error)</span>
          __pyx_t_6 = (!__pyx_t_5);
          if (unlikely(__pyx_t_6)) {
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_9);
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_2);
            <span class='pyx_c_api'>__Pyx_ErrRestoreWithState</span>(__pyx_t_9, __pyx_t_3, __pyx_t_2);
            __pyx_t_9 = 0; __pyx_t_3 = 0; __pyx_t_2 = 0; 
            <span class='error_goto'>__PYX_ERR(0, 3089, __pyx_L15_except_error)</span>
          }
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          goto __pyx_L14_exception_handled;
        }
        __pyx_L15_except_error:;
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_14);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_15);
        <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_13, __pyx_t_14, __pyx_t_15);
        goto __pyx_L1_error;
        __pyx_L14_exception_handled:;
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_14);
        <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_15);
        <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_13, __pyx_t_14, __pyx_t_15);
        __pyx_L18_try_end:;
      }
    }
    /*finally:*/ {
      /*normal exit:*/{
        if (__pyx_t_12) {
          __pyx_t_15 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_12, __pyx_tuple__48, NULL);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
          if (unlikely(!__pyx_t_15)) <span class='error_goto'>__PYX_ERR(0, 3089, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_15);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
        }
        goto __pyx_L12;
      }
      __pyx_L12:;
    }
    goto __pyx_L22;
    __pyx_L9_error:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
    goto __pyx_L1_error;
    __pyx_L22:;
  }
</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3090</span>:         loaded_data = load_func(file)</pre>
<pre class='cython code score-15 '>          <span class='trace'>__Pyx_TraceLine</span>(3090,0,<span class='error_goto'>__PYX_ERR(0, 3090, __pyx_L13_error)</span>)
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_load_func);
          __pyx_t_3 = __pyx_v_load_func; __pyx_t_2 = NULL;
          __pyx_t_4 = 0;
          #if CYTHON_UNPACK_METHODS
          if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
            __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
            if (likely(__pyx_t_2)) {
              PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
              <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
              __pyx_t_4 = 1;
            }
          }
          #endif
          {
            PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_file};
            __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
            if (unlikely(!__pyx_t_9)) <span class='error_goto'>__PYX_ERR(0, 3090, __pyx_L13_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          }
          __pyx_v_loaded_data = __pyx_t_9;
          __pyx_t_9 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3091</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3092</span>:     if model_name:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3092,0,<span class='error_goto'>__PYX_ERR(0, 3092, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_model_name); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3092, __pyx_L1_error)</span>
  if (__pyx_t_6) {
/*  */
  }
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3093</span>:         if not isinstance(loaded_data, dict):</pre>
<pre class='cython code score-7 '>    <span class='trace'>__Pyx_TraceLine</span>(3093,0,<span class='error_goto'>__PYX_ERR(0, 3093, __pyx_L1_error)</span>)
    if (unlikely(!__pyx_v_loaded_data)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("loaded_data"); <span class='error_goto'>__PYX_ERR(0, 3093, __pyx_L1_error)</span> }
    __pyx_t_6 = <span class='py_c_api'>PyDict_Check</span>(__pyx_v_loaded_data); 
    __pyx_t_5 = (!__pyx_t_6);
    if (__pyx_t_5) {
/*  */
    }
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3094</span>:             warnings.warn(</pre>
<pre class='cython code score-5 '>      <span class='trace'>__Pyx_TraceLine</span>(3094,0,<span class='error_goto'>__PYX_ERR(0, 3094, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_warnings);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3094, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_warn);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3094, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3095</span>:                 f"Expected loaded data to be a dictionary for model name retrieval. "</pre>
<pre class='cython code score-26 '>      <span class='trace'>__Pyx_TraceLine</span>(3095,0,<span class='error_goto'>__PYX_ERR(0, 3095, __pyx_L1_error)</span>)
      __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3095, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_7 = 0;
      __pyx_t_8 = 127;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Expected_loaded_data_to_be_a_dic);
      __pyx_t_7 += 81;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Expected_loaded_data_to_be_a_dic);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_kp_u_Expected_loaded_data_to_be_a_dic);
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(3095,0,<span class='error_goto'>__PYX_ERR(0, 3095, __pyx_L1_error)</span>)
      __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_3, 3, __pyx_t_7, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3095, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = NULL;
      __pyx_t_4 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
        __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
        if (likely(__pyx_t_3)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
          __pyx_t_4 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_t_10};
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
        if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3094, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3096</span>:                f"Received type '{type(loaded_data).__name__}'. Returning loaded data.")</pre>
<pre class='cython code score-16 '>      <span class='trace'>__Pyx_TraceLine</span>(3096,0,<span class='error_goto'>__PYX_ERR(0, 3096, __pyx_L1_error)</span>)
      if (unlikely(!__pyx_v_loaded_data)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("loaded_data"); <span class='error_goto'>__PYX_ERR(0, 3096, __pyx_L1_error)</span> }
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(((PyObject *)Py_TYPE(__pyx_v_loaded_data)), __pyx_n_s_name_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3096, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_t_1, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3096, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_10) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_10) : __pyx_t_8;
      __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_10);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_10);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_t_10);
      __pyx_t_10 = 0;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Returning_loaded_data);
      __pyx_t_7 += 25;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Returning_loaded_data);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 2, __pyx_kp_u_Returning_loaded_data);
</pre><pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3097</span>:             return loaded_data</pre>
<pre class='cython code score-4 '>      <span class='trace'>__Pyx_TraceLine</span>(3097,0,<span class='error_goto'>__PYX_ERR(0, 3097, __pyx_L1_error)</span>)
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
      if (unlikely(!__pyx_v_loaded_data)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("loaded_data"); <span class='error_goto'>__PYX_ERR(0, 3097, __pyx_L1_error)</span> }
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_loaded_data);
      __pyx_r = __pyx_v_loaded_data;
      goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3098</span>: </pre>
<pre class="cython line score-18" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3099</span>:         model_info = loaded_data.get(model_name)</pre>
<pre class='cython code score-18 '>    <span class='trace'>__Pyx_TraceLine</span>(3099,0,<span class='error_goto'>__PYX_ERR(0, 3099, __pyx_L1_error)</span>)
    if (unlikely(!__pyx_v_loaded_data)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("loaded_data"); <span class='error_goto'>__PYX_ERR(0, 3099, __pyx_L1_error)</span> }
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_loaded_data, __pyx_n_s_get);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3099, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_10 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
      __pyx_t_10 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
      if (likely(__pyx_t_10)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_10);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_10, __pyx_v_model_name};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3099, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    }
    __pyx_v_model_info = __pyx_t_2;
    __pyx_t_2 = 0;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3100</span>:         if model_info is None:</pre>
<pre class='cython code score-0 '>    <span class='trace'>__Pyx_TraceLine</span>(3100,0,<span class='error_goto'>__PYX_ERR(0, 3100, __pyx_L1_error)</span>)
    __pyx_t_5 = (__pyx_v_model_info == Py_None);
    if (unlikely(__pyx_t_5)) {
/*  */
    }
</pre><pre class="cython line score-24" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3101</span>:             available = ', '.join(loaded_data.keys())</pre>
<pre class='cython code score-24 '>      <span class='trace'>__Pyx_TraceLine</span>(3101,0,<span class='error_goto'>__PYX_ERR(0, 3101, __pyx_L1_error)</span>)
      if (unlikely(!__pyx_v_loaded_data)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("loaded_data"); <span class='error_goto'>__PYX_ERR(0, 3101, __pyx_L1_error)</span> }
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_loaded_data, __pyx_n_s_keys);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3101, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_t_10 = NULL;
      __pyx_t_4 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
        __pyx_t_10 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
        if (likely(__pyx_t_10)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_10);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
          __pyx_t_4 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_10, NULL};
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
        if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3101, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      }
      __pyx_t_9 = <span class='py_c_api'>PyUnicode_Join</span>(__pyx_kp_u__95, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3101, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_v_available = ((PyObject*)__pyx_t_9);
      __pyx_t_9 = 0;
</pre><pre class="cython line score-36" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3102</span>:             raise KeyError(f"Model '{model_name}' not found. Available models: {available}")</pre>
<pre class='cython code score-36 '>      <span class='trace'>__Pyx_TraceLine</span>(3102,0,<span class='error_goto'>__PYX_ERR(0, 3102, __pyx_L1_error)</span>)
      __pyx_t_9 = <span class='py_c_api'>PyTuple_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3102, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_t_7 = 0;
      __pyx_t_8 = 127;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Model);
      __pyx_t_7 += 7;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Model);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_9, 0, __pyx_kp_u_Model);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_model_name, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3102, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) : __pyx_t_8;
      __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_2);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_9, 1, __pyx_t_2);
      __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_not_found_Available_models);
      __pyx_t_7 += 31;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_not_found_Available_models);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_9, 2, __pyx_kp_u_not_found_Available_models);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyUnicode_Unicode</span>(__pyx_v_available);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3102, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) : __pyx_t_8;
      __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_2);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_9, 3, __pyx_t_2);
      __pyx_t_2 = 0;
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_9, 4, __pyx_t_7, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3102, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_KeyError, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3102, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_9, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      <span class='error_goto'>__PYX_ERR(0, 3102, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3103</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3104</span>:         if retrieve_default:</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(3104,0,<span class='error_goto'>__PYX_ERR(0, 3104, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_retrieve_default); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3104, __pyx_L1_error)</span>
    if (__pyx_t_5) {
/*  */
    }
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3105</span>:             if not isinstance(model_info, dict):</pre>
<pre class='cython code score-5 '>      <span class='trace'>__Pyx_TraceLine</span>(3105,0,<span class='error_goto'>__PYX_ERR(0, 3105, __pyx_L1_error)</span>)
      __pyx_t_5 = <span class='py_c_api'>PyDict_Check</span>(__pyx_v_model_info); 
      __pyx_t_6 = (!__pyx_t_5);
      if (__pyx_t_6) {
/*  */
        goto __pyx_L27;
      }
</pre><pre class="cython line score-0">&#xA0;<span class="">3106</span>:                 # Check if 'best_model_' and 'best_params_' are among the keys</pre>
<pre class="cython line score-66" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3107</span>:                 main_keys = [key for key in loaded_data if key in (</pre>
<pre class='cython code score-66 '>        <span class='trace'>__Pyx_TraceLine</span>(3107,0,<span class='error_goto'>__PYX_ERR(0, 3107, __pyx_L1_error)</span>)
        { /* enter inner scope */
          __pyx_t_9 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3107, __pyx_L30_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
          if (unlikely(!__pyx_v_loaded_data)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("loaded_data"); <span class='error_goto'>__PYX_ERR(0, 3107, __pyx_L30_error)</span> }
          if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_loaded_data)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_loaded_data)) {
            __pyx_t_2 = __pyx_v_loaded_data; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
            __pyx_t_7 = 0;
            __pyx_t_17 = NULL;
          } else {
            __pyx_t_7 = -1; __pyx_t_2 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_loaded_data);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3107, __pyx_L30_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
            __pyx_t_17 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_17)) __PYX_ERR(0, 3107, __pyx_L30_error)</span>
          }
          for (;;) {
            if (likely(!__pyx_t_17)) {
              if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_2))) {
                {
                  Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_2);
                  #if !CYTHON_ASSUME_SAFE_MACROS
                  if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3107, __pyx_L30_error)</span>
                  #endif
                  if (__pyx_t_7 &gt;= __pyx_temp) break;
                }
                #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
                __pyx_t_10 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_2, __pyx_t_7); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_10); __pyx_t_7++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3107, __pyx_L30_error)</span>
                #else
                __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_2, __pyx_t_7); __pyx_t_7++;<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3107, __pyx_L30_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
                #endif
              } else {
                {
                  Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_2);
                  #if !CYTHON_ASSUME_SAFE_MACROS
                  if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3107, __pyx_L30_error)</span>
                  #endif
                  if (__pyx_t_7 &gt;= __pyx_temp) break;
                }
                #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
                __pyx_t_10 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_2, __pyx_t_7); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_10); __pyx_t_7++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3107, __pyx_L30_error)</span>
                #else
                __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_2, __pyx_t_7); __pyx_t_7++;<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3107, __pyx_L30_error)</span>
                <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
                #endif
              }
            } else {
              __pyx_t_10 = __pyx_t_17(__pyx_t_2);
              if (unlikely(!__pyx_t_10)) {
                PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
                if (exc_type) {
                  if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
                  else <span class='error_goto'>__PYX_ERR(0, 3107, __pyx_L30_error)</span>
                }
                break;
              }
              <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
            }
            <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr14__pyx_v_key, __pyx_t_10);
            __pyx_t_10 = 0;
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_9genexpr14__pyx_v_key);
            __pyx_t_10 = __pyx_9genexpr14__pyx_v_key;
            __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_10, __pyx_n_u_best_model, Py_EQ)); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3107, __pyx_L30_error)</span>
            if (!__pyx_t_5) {
            } else {
              __pyx_t_6 = __pyx_t_5;
              goto __pyx_L34_bool_binop_done;
            }
            __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_10, __pyx_n_u_best_params, Py_EQ)); if (unlikely((__pyx_t_5 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3107, __pyx_L30_error)</span>
            __pyx_t_6 = __pyx_t_5;
            __pyx_L34_bool_binop_done:;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
            __pyx_t_5 = __pyx_t_6;
            if (__pyx_t_5) {
              if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_9, (PyObject*)__pyx_9genexpr14__pyx_v_key))) <span class='error_goto'>__PYX_ERR(0, 3107, __pyx_L30_error)</span>
            }
          }
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr14__pyx_v_key); __pyx_9genexpr14__pyx_v_key = 0;
          goto __pyx_L37_exit_scope;
          __pyx_L30_error:;
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr14__pyx_v_key); __pyx_9genexpr14__pyx_v_key = 0;
          goto __pyx_L1_error;
          __pyx_L37_exit_scope:;
        } /* exit inner scope */
        __pyx_v_main_keys = ((PyObject*)__pyx_t_9);
        __pyx_t_9 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3108</span>:                     'best_model_', 'best_params_')]</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3109</span>:                 if len(main_keys) == 0:</pre>
<pre class='cython code score-2 '>        <span class='trace'>__Pyx_TraceLine</span>(3109,0,<span class='error_goto'>__PYX_ERR(0, 3109, __pyx_L1_error)</span>)
        __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_v_main_keys);<span class='error_goto'> if (unlikely(__pyx_t_7 == ((Py_ssize_t)-1))) __PYX_ERR(0, 3109, __pyx_L1_error)</span>
        __pyx_t_5 = (__pyx_t_7 == 0);
        if (__pyx_t_5) {
/*  */
        }
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3110</span>:                     warnings.warn(</pre>
<pre class='cython code score-20 '>          <span class='trace'>__Pyx_TraceLine</span>(3110,0,<span class='error_goto'>__PYX_ERR(0, 3110, __pyx_L1_error)</span>)
          <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_warnings);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3110, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_warn);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3110, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          __pyx_t_2 = NULL;
          __pyx_t_4 = 0;
          #if CYTHON_UNPACK_METHODS
          if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_10))) {
            __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_10);
            if (likely(__pyx_t_2)) {
              PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_10);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
              <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_10, function);
              __pyx_t_4 = 1;
            }
          }
          #endif
          {
            PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_kp_u_The_structure_of_the_default_mod};
            __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_10, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
            if (unlikely(!__pyx_t_9)) <span class='error_goto'>__PYX_ERR(0, 3110, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
          }
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3111</span>:                     "The structure of the default model data is not correctly "</pre>
<pre class="cython line score-0">&#xA0;<span class="">3112</span>:                     "formatted. Expected 'best_model_' and 'best_params_' to be "</pre>
<pre class="cython line score-0">&#xA0;<span class="">3113</span>:                     "present within a dictionary keyed by the model's name. Each key "</pre>
<pre class="cython line score-0">&#xA0;<span class="">3114</span>:                     "should map to a dictionary containing the model itself and its "</pre>
<pre class="cython line score-0">&#xA0;<span class="">3115</span>:                     "parameters, for example: `{'ModelName': {'best_model_': &lt;Model&gt;, "</pre>
<pre class="cython line score-0">&#xA0;<span class="">3116</span>:                     "'best_params_': &lt;Parameters&gt;}}`. Since the expected keys were "</pre>
<pre class="cython line score-0">&#xA0;<span class="">3117</span>:                     "not found, returning the unprocessed model data."</pre>
<pre class="cython line score-0">&#xA0;<span class="">3118</span>:                     )</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3119</span>:                     return model_info</pre>
<pre class='cython code score-2 '>          <span class='trace'>__Pyx_TraceLine</span>(3119,0,<span class='error_goto'>__PYX_ERR(0, 3119, __pyx_L1_error)</span>)
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_model_info);
          __pyx_r = __pyx_v_model_info;
          goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3120</span>:                 else:</pre>
<pre class="cython line score-0">&#xA0;<span class="">3121</span>:                     # Extract 'best_model_' and 'best_params_' from loaded_data</pre>
<pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3122</span>:                     best_model = loaded_data.get('best_model_', None)</pre>
<pre class='cython code score-12 '>        <span class='trace'>__Pyx_TraceLine</span>(3122,0,<span class='error_goto'>__PYX_ERR(0, 3122, __pyx_L1_error)</span>)
        /*else*/ {
          if (unlikely(!__pyx_v_loaded_data)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("loaded_data"); <span class='error_goto'>__PYX_ERR(0, 3122, __pyx_L1_error)</span> }
          __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_loaded_data, __pyx_n_s_get);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3122, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
          __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_9, __pyx_tuple__96, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3122, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
          __pyx_v_best_model = __pyx_t_10;
          __pyx_t_10 = 0;
/*  */
  __pyx_tuple__96 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_n_u_best_model, Py_None);<span class='error_goto'> if (unlikely(!__pyx_tuple__96)) __PYX_ERR(0, 3122, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__96);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__96);
</pre><pre class="cython line score-21" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3123</span>:                     best_params = loaded_data.get('best_params_', {})</pre>
<pre class='cython code score-21 '>          <span class='trace'>__Pyx_TraceLine</span>(3123,0,<span class='error_goto'>__PYX_ERR(0, 3123, __pyx_L1_error)</span>)
          if (unlikely(!__pyx_v_loaded_data)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("loaded_data"); <span class='error_goto'>__PYX_ERR(0, 3123, __pyx_L1_error)</span> }
          __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_loaded_data, __pyx_n_s_get);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3123, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
          __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3123, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
          __pyx_t_3 = NULL;
          __pyx_t_4 = 0;
          #if CYTHON_UNPACK_METHODS
          if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
            __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
            if (likely(__pyx_t_3)) {
              PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
              <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
              __pyx_t_4 = 1;
            }
          }
          #endif
          {
            PyObject *__pyx_callargs[3] = {__pyx_t_3, __pyx_n_u_best_params, __pyx_t_2};
            __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
            if (unlikely(!__pyx_t_10)) <span class='error_goto'>__PYX_ERR(0, 3123, __pyx_L1_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
          }
          __pyx_v_best_params = __pyx_t_10;
          __pyx_t_10 = 0;
        }
</pre><pre class="cython line score-0">&#xA0;<span class="">3124</span>:             else:</pre>
<pre class="cython line score-0">&#xA0;<span class="">3125</span>:                 # Direct extraction from model_info if it's properly structured</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3126</span>:                 best_model = model_info.get('best_model_', None)</pre>
<pre class='cython code score-5 '>      <span class='trace'>__Pyx_TraceLine</span>(3126,0,<span class='error_goto'>__PYX_ERR(0, 3126, __pyx_L1_error)</span>)
      /*else*/ {
        __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_model_info, __pyx_n_s_get);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3126, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
        __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_10, __pyx_tuple__96, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3126, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
        __pyx_v_best_model = __pyx_t_9;
        __pyx_t_9 = 0;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3127</span>:                 best_params = model_info.get('best_params_', {})</pre>
<pre class='cython code score-19 '>        <span class='trace'>__Pyx_TraceLine</span>(3127,0,<span class='error_goto'>__PYX_ERR(0, 3127, __pyx_L1_error)</span>)
        __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_model_info, __pyx_n_s_get);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3127, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3127, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        __pyx_t_3 = NULL;
        __pyx_t_4 = 0;
        #if CYTHON_UNPACK_METHODS
        if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_10))) {
          __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_10);
          if (likely(__pyx_t_3)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_10);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_10, function);
            __pyx_t_4 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[3] = {__pyx_t_3, __pyx_n_u_best_params, __pyx_t_2};
          __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_10, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
          if (unlikely(!__pyx_t_9)) <span class='error_goto'>__PYX_ERR(0, 3127, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
        }
        __pyx_v_best_params = __pyx_t_9;
        __pyx_t_9 = 0;
      }
      __pyx_L27:;
</pre><pre class="cython line score-0">&#xA0;<span class="">3128</span>: </pre>
<pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3129</span>:             return best_model, best_params</pre>
<pre class='cython code score-12 '>      <span class='trace'>__Pyx_TraceLine</span>(3129,0,<span class='error_goto'>__PYX_ERR(0, 3129, __pyx_L1_error)</span>)
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
      __pyx_t_9 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3129, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_best_model);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_best_model);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_9, 0, __pyx_v_best_model)) <span class='error_goto'>__PYX_ERR(0, 3129, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_best_params);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_best_params);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_9, 1, __pyx_v_best_params)) <span class='error_goto'>__PYX_ERR(0, 3129, __pyx_L1_error)</span>;
      __pyx_r = __pyx_t_9;
      __pyx_t_9 = 0;
      goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3130</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3131</span>:         return model_info</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(3131,0,<span class='error_goto'>__PYX_ERR(0, 3131, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_model_info);
    __pyx_r = __pyx_v_model_info;
    goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3132</span>: </pre>
<pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3133</span>:     return loaded_data</pre>
<pre class='cython code score-4 '>  <span class='trace'>__Pyx_TraceLine</span>(3133,0,<span class='error_goto'>__PYX_ERR(0, 3133, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  if (unlikely(!__pyx_v_loaded_data)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("loaded_data"); <span class='error_goto'>__PYX_ERR(0, 3133, __pyx_L1_error)</span> }
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_loaded_data);
  __pyx_r = __pyx_v_loaded_data;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3134</span>: </pre>
<pre class="cython line score-61" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3135</span>: def bi_selector (d,  features =None, return_frames = False,</pre>
<pre class='cython code score-61 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_73bi_selector(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_72bi_selector, " Auto-differentiates the numerical from categorical attributes.\n    \n    This is usefull to select the categorial features from the numerical \n    features and vice-versa when we are a lot of features. Enter features \n    individually become tiedous and a mistake could probably happenned. \n    \n    Parameters \n    ------------\n    d: pandas dataframe \n        Dataframe pandas \n    features : list of str\n        List of features in the dataframe columns. Raise error is feature(s) \n        does/do not exist in the frame. \n        Note that if `features` is ``None``, it returns the categorical and \n        numerical features instead. \n        \n    return_frames: bool, default =False \n        return the difference columns (features) from the given features  \n        as a list. If set to ``True`` returns bi-frames composed of the \n        given features and the remaining features. \n        \n    Returns \n    ----------\n    - Tuple ( list, list)\n        list of features and remaining features \n    - Tuple ( pd.DataFrame, pd.DataFrame )\n        List of features and remaing features frames.  \n            \n    Example \n    --------\n    &gt;&gt;&gt; from gofast.tools.mlutils import bi_selector \n    &gt;&gt;&gt; from gofast.datasets import load_hlogs \n    &gt;&gt;&gt; data = load_hlogs().frame # get the frame \n    &gt;&gt;&gt; data.columns \n    &gt;&gt;&gt; Index(['hole_id', 'depth_top', 'depth_bottom', 'strata_name', 'rock_name',\n           'layer_thickness', 'resistivity', 'gamma_gamma', 'natural_gamma', 'sp',\n           'short_distance_gamma', 'well_diameter', 'aquifer_group',\n           'pumping_level', 'aquifer_thickness', 'hole_depth_before_pumping',\n           'hole_depth_after_pumping', 'hole_depth_loss', 'depth_starting_pumping',\n           'pumping_depth_at_the_end', 'pumping_depth', 'section_aperture', 'k',\n           'kp', 'r', 'rp', 'remark'],\n          dtype='object')\n    &gt;&gt;&gt; num_features, cat_features = bi_selector (data)\n    &gt;&gt;&gt; num_features\n    ...['gamma_gamma'"",\n         'depth_top',\n         'aquifer_thickness',\n         'pumping_depth_at_the_end',\n         'section_aperture',\n         'remark',\n         'depth_starting_pumping',\n         'hole_depth_before_pumping',\n         'rp',\n         'hole_depth_after_pumping',\n         'hole_depth_loss',\n         'depth_bottom',\n         'sp',\n         'pumping_depth',\n         'kp',\n         'resistivity',\n         'short_distance_gamma',\n         'r',\n         'natural_gamma',\n         'layer_thickness',\n         'k',\n         'well_diameter']\n    &gt;&gt;&gt; cat_features \n    ... ['hole_id', 'strata_name', 'rock_name', 'aquifer_group', \n         'pumping_level']\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_73bi_selector = {"bi_selector", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_73bi_selector, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_72bi_selector};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_73bi_selector(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_d = 0;
  PyObject *__pyx_v_features = 0;
  PyObject *__pyx_v_return_frames = 0;
  PyObject *__pyx_v_parse_features = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("bi_selector (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_d,&amp;__pyx_n_s_features,&amp;__pyx_n_s_return_frames,&amp;__pyx_n_s_parse_features,0};
  PyObject* values[4] = {0,0,0,0};
    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
/*  */
  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_72bi_selector(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_d, PyObject *__pyx_v_features, PyObject *__pyx_v_return_frames, PyObject *__pyx_v_parse_features) {
  PyObject *__pyx_v_diff_features = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__97)
  <span class='trace'>__Pyx_TraceCall</span>("bi_selector", __pyx_f[0], 3135, 0, <span class='error_goto'>__PYX_ERR(0, 3135, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_d);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_features);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_parse_features);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.bi_selector", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_diff_features);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_d);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_features);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_parse_features);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__182 = <span class='py_c_api'>PyTuple_Pack</span>(5, __pyx_n_s_d, __pyx_n_s_features, __pyx_n_s_return_frames, __pyx_n_s_parse_features, __pyx_n_s_diff_features);<span class='error_goto'> if (unlikely(!__pyx_tuple__182)) __PYX_ERR(0, 3135, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__182);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__182);
  __pyx_codeobj__97 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(4, 0, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__182, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_bi_selector, 3135, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__97)) __PYX_ERR(0, 3135, __pyx_L1_error)</span>
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3135,0,<span class='error_goto'>__PYX_ERR(0, 3135, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3135, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_parse_features, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3135, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_73bi_selector, 0, __pyx_n_s_bi_selector, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__97));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3135, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_4, __pyx_tuple__183);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_4, __pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_bi_selector, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3135, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_tuple__183 = <span class='py_c_api'>PyTuple_Pack</span>(3, Py_None, ((PyObject *)Py_False), ((PyObject *)Py_Ellipsis));<span class='error_goto'> if (unlikely(!__pyx_tuple__183)) __PYX_ERR(0, 3135, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__183);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__183);
</pre><pre class="cython line score-64" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3136</span>:                  parse_features:bool=... ):</pre>
<pre class='cython code score-64 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_Ellipsis)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_d)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3135, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_features);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3135, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_return_frames);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3135, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_parse_features);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3135, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "bi_selector") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 3135, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_d = values[0];
    __pyx_v_features = values[1];
    __pyx_v_return_frames = values[2];
    __pyx_v_parse_features = values[3];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("bi_selector", 0, 1, 4, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 3135, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.bi_selector", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_72bi_selector(__pyx_self, __pyx_v_d, __pyx_v_features, __pyx_v_return_frames, __pyx_v_parse_features);
</pre><pre class="cython line score-0">&#xA0;<span class="">3137</span>:     """ Auto-differentiates the numerical from categorical attributes.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3138</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3139</span>:     This is usefull to select the categorial features from the numerical</pre>
<pre class="cython line score-0">&#xA0;<span class="">3140</span>:     features and vice-versa when we are a lot of features. Enter features</pre>
<pre class="cython line score-0">&#xA0;<span class="">3141</span>:     individually become tiedous and a mistake could probably happenned.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3142</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3143</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">3144</span>:     ------------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3145</span>:     d: pandas dataframe</pre>
<pre class="cython line score-0">&#xA0;<span class="">3146</span>:         Dataframe pandas</pre>
<pre class="cython line score-0">&#xA0;<span class="">3147</span>:     features : list of str</pre>
<pre class="cython line score-0">&#xA0;<span class="">3148</span>:         List of features in the dataframe columns. Raise error is feature(s)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3149</span>:         does/do not exist in the frame.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3150</span>:         Note that if `features` is ``None``, it returns the categorical and</pre>
<pre class="cython line score-0">&#xA0;<span class="">3151</span>:         numerical features instead.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3152</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3153</span>:     return_frames: bool, default =False</pre>
<pre class="cython line score-0">&#xA0;<span class="">3154</span>:         return the difference columns (features) from the given features</pre>
<pre class="cython line score-0">&#xA0;<span class="">3155</span>:         as a list. If set to ``True`` returns bi-frames composed of the</pre>
<pre class="cython line score-0">&#xA0;<span class="">3156</span>:         given features and the remaining features.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3157</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3158</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">3159</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3160</span>:     - Tuple ( list, list)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3161</span>:         list of features and remaining features</pre>
<pre class="cython line score-0">&#xA0;<span class="">3162</span>:     - Tuple ( pd.DataFrame, pd.DataFrame )</pre>
<pre class="cython line score-0">&#xA0;<span class="">3163</span>:         List of features and remaing features frames.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3164</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3165</span>:     Example</pre>
<pre class="cython line score-0">&#xA0;<span class="">3166</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3167</span>:     &gt;&gt;&gt; from gofast.tools.mlutils import bi_selector</pre>
<pre class="cython line score-0">&#xA0;<span class="">3168</span>:     &gt;&gt;&gt; from gofast.datasets import load_hlogs</pre>
<pre class="cython line score-0">&#xA0;<span class="">3169</span>:     &gt;&gt;&gt; data = load_hlogs().frame # get the frame</pre>
<pre class="cython line score-0">&#xA0;<span class="">3170</span>:     &gt;&gt;&gt; data.columns</pre>
<pre class="cython line score-0">&#xA0;<span class="">3171</span>:     &gt;&gt;&gt; Index(['hole_id', 'depth_top', 'depth_bottom', 'strata_name', 'rock_name',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3172</span>:            'layer_thickness', 'resistivity', 'gamma_gamma', 'natural_gamma', 'sp',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3173</span>:            'short_distance_gamma', 'well_diameter', 'aquifer_group',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3174</span>:            'pumping_level', 'aquifer_thickness', 'hole_depth_before_pumping',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3175</span>:            'hole_depth_after_pumping', 'hole_depth_loss', 'depth_starting_pumping',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3176</span>:            'pumping_depth_at_the_end', 'pumping_depth', 'section_aperture', 'k',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3177</span>:            'kp', 'r', 'rp', 'remark'],</pre>
<pre class="cython line score-0">&#xA0;<span class="">3178</span>:           dtype='object')</pre>
<pre class="cython line score-0">&#xA0;<span class="">3179</span>:     &gt;&gt;&gt; num_features, cat_features = bi_selector (data)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3180</span>:     &gt;&gt;&gt; num_features</pre>
<pre class="cython line score-0">&#xA0;<span class="">3181</span>:     ...['gamma_gamma',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3182</span>:          'depth_top',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3183</span>:          'aquifer_thickness',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3184</span>:          'pumping_depth_at_the_end',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3185</span>:          'section_aperture',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3186</span>:          'remark',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3187</span>:          'depth_starting_pumping',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3188</span>:          'hole_depth_before_pumping',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3189</span>:          'rp',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3190</span>:          'hole_depth_after_pumping',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3191</span>:          'hole_depth_loss',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3192</span>:          'depth_bottom',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3193</span>:          'sp',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3194</span>:          'pumping_depth',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3195</span>:          'kp',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3196</span>:          'resistivity',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3197</span>:          'short_distance_gamma',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3198</span>:          'r',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3199</span>:          'natural_gamma',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3200</span>:          'layer_thickness',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3201</span>:          'k',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3202</span>:          'well_diameter']</pre>
<pre class="cython line score-0">&#xA0;<span class="">3203</span>:     &gt;&gt;&gt; cat_features</pre>
<pre class="cython line score-0">&#xA0;<span class="">3204</span>:     ... ['hole_id', 'strata_name', 'rock_name', 'aquifer_group',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3205</span>:          'pumping_level']</pre>
<pre class="cython line score-0">&#xA0;<span class="">3206</span>:     """</pre>
<pre class="cython line score-59" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3207</span>:     parse_features, = ellipsis2false(parse_features )</pre>
<pre class='cython code score-59 '>  <span class='trace'>__Pyx_TraceLine</span>(3207,0,<span class='error_goto'>__PYX_ERR(0, 3207, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_ellipsis2false);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3207, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_parse_features};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3207, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_1))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
    PyObject* sequence = __pyx_t_1;
    Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
    if (unlikely(size != 1)) {
      if (size &gt; 1) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(1);
      else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
      <span class='error_goto'>__PYX_ERR(0, 3207, __pyx_L1_error)</span>
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
      __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
    } else {
      __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
    }
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
    #else
    __pyx_t_2 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3207, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    #endif
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  } else {
    Py_ssize_t index = -1;
    __pyx_t_3 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3207, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_3);
    index = 0; __pyx_t_2 = __pyx_t_5(__pyx_t_3); if (unlikely(!__pyx_t_2)) goto __pyx_L3_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_5(__pyx_t_3), 1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3207, __pyx_L1_error)</span>
    __pyx_t_5 = NULL;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    goto __pyx_L4_unpacking_done;
    __pyx_L3_unpacking_failed:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_5 = NULL;
    if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
    <span class='error_goto'>__PYX_ERR(0, 3207, __pyx_L1_error)</span>
    __pyx_L4_unpacking_done:;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_parse_features, __pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class="cython line score-30" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3208</span>:     _assert_all_types( d, pd.DataFrame, objname=" unfunc'bi-selector'")</pre>
<pre class='cython code score-30 '>  <span class='trace'>__Pyx_TraceLine</span>(3208,0,<span class='error_goto'>__PYX_ERR(0, 3208, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_assert_all_types);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3208, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3208, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3208, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3208, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_d);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_d);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_d)) <span class='error_goto'>__PYX_ERR(0, 3208, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 3208, __pyx_L1_error)</span>;
  __pyx_t_3 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3208, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_objname, __pyx_kp_u_unfunc_bi_selector) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3208, __pyx_L1_error)</span>
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_2, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3208, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3209</span>:     if features is None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(3209,0,<span class='error_goto'>__PYX_ERR(0, 3209, __pyx_L1_error)</span>)
  __pyx_t_7 = (__pyx_v_features == Py_None);
  if (__pyx_t_7) {
/*  */
  }
</pre><pre class="cython line score-67" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3210</span>:         d, diff_features, features = to_numeric_dtypes(</pre>
<pre class='cython code score-67 '>    <span class='trace'>__Pyx_TraceLine</span>(3210,0,<span class='error_goto'>__PYX_ERR(0, 3210, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_to_numeric_dtypes);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3210, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(3211,0,<span class='error_goto'>__PYX_ERR(0, 3211, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3210, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_d);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_d);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_d)) <span class='error_goto'>__PYX_ERR(0, 3210, __pyx_L1_error)</span>;
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(3210,0,<span class='error_goto'>__PYX_ERR(0, 3210, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_6, __pyx_t_3, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3210, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_1))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
      PyObject* sequence = __pyx_t_1;
      Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
      if (unlikely(size != 3)) {
        if (size &gt; 3) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(3);
        else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
        <span class='error_goto'>__PYX_ERR(0, 3210, __pyx_L1_error)</span>
      }
      #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
      if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
        __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
        __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
        __pyx_t_6 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 2); 
      } else {
        __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
        __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
        __pyx_t_6 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 2); 
      }
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
      #else
      __pyx_t_2 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3210, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_3 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3210, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_6 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3210, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      #endif
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    } else {
      Py_ssize_t index = -1;
      __pyx_t_8 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3210, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_8);
      index = 0; __pyx_t_2 = __pyx_t_5(__pyx_t_8); if (unlikely(!__pyx_t_2)) goto __pyx_L6_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      index = 1; __pyx_t_3 = __pyx_t_5(__pyx_t_8); if (unlikely(!__pyx_t_3)) goto __pyx_L6_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      index = 2; __pyx_t_6 = __pyx_t_5(__pyx_t_8); if (unlikely(!__pyx_t_6)) goto __pyx_L6_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_5(__pyx_t_8), 3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3210, __pyx_L1_error)</span>
      __pyx_t_5 = NULL;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      goto __pyx_L7_unpacking_done;
      __pyx_L6_unpacking_failed:;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      __pyx_t_5 = NULL;
      if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
      <span class='error_goto'>__PYX_ERR(0, 3210, __pyx_L1_error)</span>
      __pyx_L7_unpacking_done:;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_d, __pyx_t_2);
    __pyx_t_2 = 0;
    __pyx_v_diff_features = __pyx_t_3;
    __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_features, __pyx_t_6);
    __pyx_t_6 = 0;
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3211</span>:             d,  return_feature_types= True )</pre>
<pre class='cython code score-7 '>    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3211, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_return_feature_types, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3211, __pyx_L1_error)</span>
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3212</span>:     if features is not None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(3212,0,<span class='error_goto'>__PYX_ERR(0, 3212, __pyx_L1_error)</span>)
  __pyx_t_7 = (__pyx_v_features != Py_None);
  if (__pyx_t_7) {
/*  */
  }
</pre><pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3213</span>:         features = is_iterable(features, exclude_string= True, transform =True,</pre>
<pre class='cython code score-28 '>    <span class='trace'>__Pyx_TraceLine</span>(3213,0,<span class='error_goto'>__PYX_ERR(0, 3213, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_is_iterable);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3213, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3213, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_features);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_features);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_v_features)) <span class='error_goto'>__PYX_ERR(0, 3213, __pyx_L1_error)</span>;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3213, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_exclude_string, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3213, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_transform, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3213, __pyx_L1_error)</span>
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(3213,0,<span class='error_goto'>__PYX_ERR(0, 3213, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_6, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3213, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_features, __pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3214</span>:                                parse_string=parse_features )</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(3214,0,<span class='error_goto'>__PYX_ERR(0, 3214, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_parse_string, __pyx_v_parse_features) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3213, __pyx_L1_error)</span>
</pre><pre class="cython line score-29" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3215</span>:         diff_features = is_in_if( d.columns, items =features, return_diff= True )</pre>
<pre class='cython code score-29 '>    <span class='trace'>__Pyx_TraceLine</span>(3215,0,<span class='error_goto'>__PYX_ERR(0, 3215, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_is_in_if);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3215, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_d, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3215, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3215, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 3215, __pyx_L1_error)</span>;
    __pyx_t_3 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3215, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_items, __pyx_v_features) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3215, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return_diff, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3215, __pyx_L1_error)</span>
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_6, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3215, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_diff_features, __pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3216</span>:         if diff_features is None: diff_features =[]</pre>
<pre class='cython code score-6 '>    <span class='trace'>__Pyx_TraceLine</span>(3216,0,<span class='error_goto'>__PYX_ERR(0, 3216, __pyx_L1_error)</span>)
    __pyx_t_7 = (__pyx_v_diff_features == Py_None);
    if (__pyx_t_7) {
      __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3216, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_diff_features, __pyx_t_1);
      __pyx_t_1 = 0;
    }
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3217</span>:     return  ( diff_features, features ) if not return_frames else  (</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(3217,0,<span class='error_goto'>__PYX_ERR(0, 3217, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_return_frames); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3217, __pyx_L1_error)</span>
  __pyx_t_9 = (!__pyx_t_7);
  if (__pyx_t_9) {
    if (unlikely(!__pyx_v_diff_features)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("diff_features"); <span class='error_goto'>__PYX_ERR(0, 3217, __pyx_L1_error)</span> }
    __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3217, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_diff_features);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_diff_features);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_diff_features)) <span class='error_goto'>__PYX_ERR(0, 3217, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_features);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_features);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_v_features)) <span class='error_goto'>__PYX_ERR(0, 3217, __pyx_L1_error)</span>;
    __pyx_t_1 = __pyx_t_3;
    __pyx_t_3 = 0;
  } else {
</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3218</span>:         d [diff_features] , d [features ] )</pre>
<pre class='cython code score-15 '>    <span class='trace'>__Pyx_TraceLine</span>(3218,0,<span class='error_goto'>__PYX_ERR(0, 3218, __pyx_L1_error)</span>)
    if (unlikely(!__pyx_v_diff_features)) { <span class='pyx_c_api'>__Pyx_RaiseUnboundLocalError</span>("diff_features"); <span class='error_goto'>__PYX_ERR(0, 3218, __pyx_L1_error)</span> }
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_d, __pyx_v_diff_features);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3218, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_d, __pyx_v_features);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3218, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3218, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 3218, __pyx_L1_error)</span>;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_6);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 3218, __pyx_L1_error)</span>;
    __pyx_t_3 = 0;
    __pyx_t_6 = 0;
    __pyx_t_1 = __pyx_t_2;
    __pyx_t_2 = 0;
  }
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3219</span>: </pre>
<pre class="cython line score-93" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3220</span>: def make_pipe(</pre>
<pre class='cython code score-93 '>static PyObject *__pyx_pf_6gofast_5tools_7mlutils_125__defaults__(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceCall</span>("__defaults__", __pyx_f[0], 3220, 0, <span class='error_goto'>__PYX_ERR(0, 3220, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3222,0,<span class='error_goto'>__PYX_ERR(0, 3222, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(9);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3220, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3220,0,<span class='error_goto'>__PYX_ERR(0, 3220, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_missing_values, <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults7, __pyx_self)-&gt;__pyx_arg_missing_values) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3220, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_impute_strategy, ((PyObject*)__pyx_n_u_median)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3220, __pyx_L1_error)</span>
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3220,0,<span class='error_goto'>__PYX_ERR(0, 3220, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3220, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_tuple__98);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__98);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_tuple__98)) <span class='error_goto'>__PYX_ERR(0, 3220, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3220, __pyx_L1_error)</span>;
  __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.__defaults__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_75make_pipe(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_74make_pipe, " make a pipeline to transform data at once. \n    \n    make a quick pipeline is usefull to fast preprocess the data at once \n    for quick prediction. \n    \n    Work with a pandas dataframe. If `None` features is set, the numerical \n    and categorial features are automatically retrieved. \n    \n    Parameters\n    ---------\n    X : pandas dataframe of shape (n_samples, n_features)\n        The input samples. Use ``dtype=np.float32`` for maximum\n        efficiency. Sparse matrices are also supported, use sparse\n        ``csc_matrix`` for maximum efficiency.\n    y : array-like of shape (n_samples,) or (n_samples, n_outputs)\n        Target relative to X for classification or regression;\n        None for unsupervised learning.\n    num_features: list or str, optional \n        Numerical features put on the list. If `num_features` are given  \n        whereas `cat_features` are ``None``, `cat_features` are figured out \n        automatically.\n    cat_features: list of str, optional \n        Categorial features put on the list. If `num_features` are given \n        whereas `num_features` are ``None``, `num_features` are figured out \n        automatically.\n    label_encoding: callable or str, default='sklearn.preprocessing.LabelEncoder'\n        kind of encoding used to encode label. This assumes 'y' is supplied. \n    scaler: callable or str , default='sklearn.preprocessing.StandardScaler'\n        kind of scaling used to scaled the numerical data. Note that for \n        the categorical data encoding, 'sklearn.preprocessing.OneHotEncoder' \n        is implemented  under the hood instead. \n    missing_values : int, float, str, np.nan, None or pandas.NA, default=np.nan\n        The placeholder for the missing values. All occurrences of\n        `missing_values` will be imputed. For pandas' dataframes with\n        nullable integer dtypes with missing values, `missing_values`\n        can be set to either `np.nan` or `pd.NA`.\n    \n    impute_strategy : s""tr, default='mean'\n        The imputation strategy.\n    \n        - If \"mean\", then replace missing values using the mean along\n          each column. Can only be used with numeric data.\n        - If \"median\", then replace missing values using the median along\n          each column. Can only be used with numeric data.\n        - If \"most_frequent\", then replace missing using the most frequent\n          value along each column. Can be used with strings or numeric data.\n          If there is more than one such value, only the smallest is returned.\n        - If \"constant\", then replace missing values with fill_value. Can be\n          used with strings or numeric data.\n    \n           strategy=\"constant\" for fixed value imputation.\n           \n    sparse_output : bool, default=False\n        Is used when label `y` is given. Binarize labels in a one-vs-all \n        fashion. If ``True``, returns array from transform is desired to \n        be in sparse CSR format.\n        \n    for_pca:bool, default=False, \n        Transform data for principal component ( PCA) analysis. If set to \n        ``True``, :class:`sklearn.preprocessing.OrdinalEncoder`` is used insted \n        of :class:sklearn.preprocessing.OneHotEncoder``. \n        \n    transform: bool, default=False, \n        Tranform data inplace rather than returning the naive pipeline. \n        \n    Returns\n    ---------\n    full_pipeline: :class:`gofast.exlib.sklearn.FeatureUnion`\n        - Full pipeline composed of numerical and categorical pipes \n    (X_transformed &amp;| y_transformed):  {array-like, sparse matrix} of         shape (n_samples, n_features)\n        - Transformed data. \n        \n        \n    Examples \n    ---------\n    &gt;&gt;&gt; from gofast.tools.mlutils import make_naive_pipe \n    &gt;&gt;&gt; from gofast.datasets import load_hlogs \n    \n    (1) Make a naive simple pipeline  with RobustScaler, StandardScaler \n    &gt;&gt;&gt; from gofast.exlib.sklearn import RobustScaler \n    &gt;&gt;&gt; X_, y_"" = load_hlogs (as_frame=True )# get all the data  \n    &gt;&gt;&gt; pipe = make_naive_pipe(X_, scaler =RobustScaler ) \n    \n    (2) Transform X in place with numerical and categorical features with \n    StandardScaler (default). Returned CSR matrix \n    \n    &gt;&gt;&gt; make_naive_pipe(X_, transform =True )\n    ... &lt;181x40 sparse matrix of type '&lt;class 'numpy.float64'&gt;'\n    \twith 2172 stored elements in Compressed Sparse Row format&gt;\n\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_75make_pipe = {"make_pipe", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_75make_pipe, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_74make_pipe};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_75make_pipe(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_X = 0;
  PyObject *__pyx_v_y = 0;
  PyObject *__pyx_v_num_features = 0;
  PyObject *__pyx_v_cat_features = 0;
  PyObject *__pyx_v_label_encoding = 0;
  PyObject *__pyx_v_scaler = 0;
  PyObject *__pyx_v_missing_values = 0;
  PyObject *__pyx_v_impute_strategy = 0;
  PyObject *__pyx_v_sparse_output = 0;
  PyObject *__pyx_v_for_pca = 0;
  PyObject *__pyx_v_transform = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("make_pipe (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_X,&amp;__pyx_n_s_y,&amp;__pyx_n_s_num_features,&amp;__pyx_n_s_cat_features,&amp;__pyx_n_s_label_encoding,&amp;__pyx_n_s_scaler,&amp;__pyx_n_s_missing_values,&amp;__pyx_n_s_impute_strategy,&amp;__pyx_n_s_sparse_output,&amp;__pyx_n_s_for_pca,&amp;__pyx_n_s_transform,0};
  PyObject* values[11] = {0,0,0,0,0,0,0,0,0,0,0};
    __pyx_defaults7 *__pyx_dynamic_args = <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults7, __pyx_self);
/*  */
  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_74make_pipe(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_X, PyObject *__pyx_v_y, PyObject *__pyx_v_num_features, PyObject *__pyx_v_cat_features, PyObject *__pyx_v_label_encoding, PyObject *__pyx_v_scaler, PyObject *__pyx_v_missing_values, PyObject *__pyx_v_impute_strategy, PyObject *__pyx_v_sparse_output, PyObject *__pyx_v_for_pca, PyObject *__pyx_v_transform) {
  PyObject *__pyx_v_DataFrameSelector = NULL;
  PyObject *__pyx_v_sc = NULL;
  PyObject *__pyx_v_enc = NULL;
  PyObject *__pyx_v_k = NULL;
  PyObject *__pyx_v_v = NULL;
  PyObject *__pyx_v_msg = NULL;
  PyObject *__pyx_v_name = NULL;
  PyObject *__pyx_v_npipe = NULL;
  PyObject *__pyx_v_num_pipe = NULL;
  PyObject *__pyx_v_encoding = NULL;
  PyObject *__pyx_v_cpipe = NULL;
  PyObject *__pyx_v_cat_pipe = NULL;
  PyObject *__pyx_v_transformer_list = NULL;
  PyObject *__pyx_v_full_pipeline = NULL;
  PyObject *__pyx_9genexpr15__pyx_v_i = NULL;
  PyObject *__pyx_9genexpr16__pyx_v_v = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__99)
  <span class='trace'>__Pyx_TraceCall</span>("make_pipe", __pyx_f[0], 3220, 0, <span class='error_goto'>__PYX_ERR(0, 3220, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_num_features);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_cat_features);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_scaler);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.make_pipe", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_DataFrameSelector);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_sc);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_enc);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_k);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_v);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_msg);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_name);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_npipe);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_num_pipe);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_encoding);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_cpipe);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_cat_pipe);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_transformer_list);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_full_pipeline);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr15__pyx_v_i);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr16__pyx_v_v);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_X);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_y);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_num_features);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_cat_features);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_scaler);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__98 = <span class='py_c_api'>PyTuple_Pack</span>(1, Py_None);<span class='error_goto'> if (unlikely(!__pyx_tuple__98)) __PYX_ERR(0, 3220, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__98);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__98);
/*  */
  __pyx_tuple__184 = <span class='py_c_api'>PyTuple_Pack</span>(27, __pyx_n_s_X, __pyx_n_s_y, __pyx_n_s_num_features, __pyx_n_s_cat_features, __pyx_n_s_label_encoding, __pyx_n_s_scaler, __pyx_n_s_missing_values, __pyx_n_s_impute_strategy, __pyx_n_s_sparse_output, __pyx_n_s_for_pca, __pyx_n_s_transform, __pyx_n_s_DataFrameSelector, __pyx_n_s_sc, __pyx_n_s_enc, __pyx_n_s_k, __pyx_n_s_v, __pyx_n_s_msg, __pyx_n_s_name, __pyx_n_s_npipe, __pyx_n_s_num_pipe, __pyx_n_s_encoding, __pyx_n_s_cpipe, __pyx_n_s_cat_pipe, __pyx_n_s_transformer_list, __pyx_n_s_full_pipeline, __pyx_n_s_i, __pyx_n_s_v);<span class='error_goto'> if (unlikely(!__pyx_tuple__184)) __PYX_ERR(0, 3220, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__184);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__184);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3220,0,<span class='error_goto'>__PYX_ERR(0, 3220, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_75make_pipe, 0, __pyx_n_s_make_pipe, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__99));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3220, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (!<span class='pyx_c_api'>__Pyx_CyFunction_InitDefaults</span>(__pyx_t_4, sizeof(__pyx_defaults7), 1)) <span class='error_goto'>__PYX_ERR(0, 3220, __pyx_L1_error)</span>
  __pyx_codeobj__99 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(2, 0, 9, 27, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__184, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_make_pipe, 3220, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__99)) __PYX_ERR(0, 3220, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3221</span>:     X,</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3222</span>:     y =None, *,</pre>
<pre class='cython code score-2 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3223</span>:     num_features = None,</pre>
<pre class='cython code score-7 '>  <span class='trace'>__Pyx_TraceLine</span>(3223,0,<span class='error_goto'>__PYX_ERR(0, 3223, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_num_features, Py_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3220, __pyx_L1_error)</span>
/*  */
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-76" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3224</span>:     cat_features=None,</pre>
<pre class='cython code score-76 '>  <span class='trace'>__Pyx_TraceLine</span>(3224,0,<span class='error_goto'>__PYX_ERR(0, 3224, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_cat_features, Py_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3220, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_label_encoding, ((PyObject*)__pyx_n_u_LabelEncoder)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3220, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_scaler, ((PyObject*)__pyx_n_u_StandardScaler)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3220, __pyx_L1_error)</span>
/*  */
    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_n_u_LabelEncoder)));
    values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_n_u_StandardScaler)));
    values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(__pyx_dynamic_args-&gt;__pyx_arg_missing_values);
    values[7] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_n_u_median)));
    values[8] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_True)));
    values[9] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    values[10] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_X)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3220, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_y);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3220, __pyx_L3_error)</span>
        }
      }
      if (kw_args &gt; 0 &amp;&amp; likely(kw_args &lt;= 9)) {
        Py_ssize_t index;
        for (index = 2; index &lt; 11 &amp;&amp; kw_args &gt; 0; index++) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, *__pyx_pyargnames[index]);
          if (value) { values[index] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3220, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "make_pipe") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 3220, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_X = values[0];
    __pyx_v_y = values[1];
    __pyx_v_num_features = values[2];
    __pyx_v_cat_features = values[3];
    __pyx_v_label_encoding = values[4];
    __pyx_v_scaler = values[5];
    __pyx_v_missing_values = values[6];
    __pyx_v_impute_strategy = values[7];
    __pyx_v_sparse_output = values[8];
    __pyx_v_for_pca = values[9];
    __pyx_v_transform = values[10];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("make_pipe", 0, 1, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 3220, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.make_pipe", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_74make_pipe(__pyx_self, __pyx_v_X, __pyx_v_y, __pyx_v_num_features, __pyx_v_cat_features, __pyx_v_label_encoding, __pyx_v_scaler, __pyx_v_missing_values, __pyx_v_impute_strategy, __pyx_v_sparse_output, __pyx_v_for_pca, __pyx_v_transform);
</pre><pre class="cython line score-0">&#xA0;<span class="">3225</span>:     label_encoding='LabelEncoder',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3226</span>:     scaler = 'StandardScaler' ,</pre>
<pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3227</span>:     missing_values =np.nan,</pre>
<pre class='cython code score-15 '>  <span class='trace'>__Pyx_TraceLine</span>(3227,0,<span class='error_goto'>__PYX_ERR(0, 3227, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3227, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_nan);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3227, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults7, __pyx_t_4)-&gt;__pyx_arg_missing_values = __pyx_t_3;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
  __pyx_t_3 = 0;
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsGetter</span>(__pyx_t_4, __pyx_pf_6gofast_5tools_7mlutils_125__defaults__);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_make_pipe, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3220, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3228</span>:     impute_strategy = 'median',</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3229</span>:     sparse_output=True,</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(3229,0,<span class='error_goto'>__PYX_ERR(0, 3229, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_sparse_output, ((PyObject *)Py_True)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3220, __pyx_L1_error)</span>
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3230</span>:     for_pca =False,</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(3230,0,<span class='error_goto'>__PYX_ERR(0, 3230, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_for_pca, ((PyObject *)Py_False)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3220, __pyx_L1_error)</span>
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3231</span>:     transform =False,</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(3231,0,<span class='error_goto'>__PYX_ERR(0, 3231, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_transform, ((PyObject *)Py_False)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3220, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3232</span>:     ):</pre>
<pre class="cython line score-0">&#xA0;<span class="">3233</span>:     """ make a pipeline to transform data at once.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3234</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3235</span>:     make a quick pipeline is usefull to fast preprocess the data at once</pre>
<pre class="cython line score-0">&#xA0;<span class="">3236</span>:     for quick prediction.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3237</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3238</span>:     Work with a pandas dataframe. If `None` features is set, the numerical</pre>
<pre class="cython line score-0">&#xA0;<span class="">3239</span>:     and categorial features are automatically retrieved.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3240</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3241</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">3242</span>:     ---------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3243</span>:     X : pandas dataframe of shape (n_samples, n_features)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3244</span>:         The input samples. Use ``dtype=np.float32`` for maximum</pre>
<pre class="cython line score-0">&#xA0;<span class="">3245</span>:         efficiency. Sparse matrices are also supported, use sparse</pre>
<pre class="cython line score-0">&#xA0;<span class="">3246</span>:         ``csc_matrix`` for maximum efficiency.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3247</span>:     y : array-like of shape (n_samples,) or (n_samples, n_outputs)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3248</span>:         Target relative to X for classification or regression;</pre>
<pre class="cython line score-0">&#xA0;<span class="">3249</span>:         None for unsupervised learning.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3250</span>:     num_features: list or str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3251</span>:         Numerical features put on the list. If `num_features` are given</pre>
<pre class="cython line score-0">&#xA0;<span class="">3252</span>:         whereas `cat_features` are ``None``, `cat_features` are figured out</pre>
<pre class="cython line score-0">&#xA0;<span class="">3253</span>:         automatically.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3254</span>:     cat_features: list of str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3255</span>:         Categorial features put on the list. If `num_features` are given</pre>
<pre class="cython line score-0">&#xA0;<span class="">3256</span>:         whereas `num_features` are ``None``, `num_features` are figured out</pre>
<pre class="cython line score-0">&#xA0;<span class="">3257</span>:         automatically.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3258</span>:     label_encoding: callable or str, default='sklearn.preprocessing.LabelEncoder'</pre>
<pre class="cython line score-0">&#xA0;<span class="">3259</span>:         kind of encoding used to encode label. This assumes 'y' is supplied.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3260</span>:     scaler: callable or str , default='sklearn.preprocessing.StandardScaler'</pre>
<pre class="cython line score-0">&#xA0;<span class="">3261</span>:         kind of scaling used to scaled the numerical data. Note that for</pre>
<pre class="cython line score-0">&#xA0;<span class="">3262</span>:         the categorical data encoding, 'sklearn.preprocessing.OneHotEncoder'</pre>
<pre class="cython line score-0">&#xA0;<span class="">3263</span>:         is implemented  under the hood instead.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3264</span>:     missing_values : int, float, str, np.nan, None or pandas.NA, default=np.nan</pre>
<pre class="cython line score-0">&#xA0;<span class="">3265</span>:         The placeholder for the missing values. All occurrences of</pre>
<pre class="cython line score-0">&#xA0;<span class="">3266</span>:         `missing_values` will be imputed. For pandas' dataframes with</pre>
<pre class="cython line score-0">&#xA0;<span class="">3267</span>:         nullable integer dtypes with missing values, `missing_values`</pre>
<pre class="cython line score-0">&#xA0;<span class="">3268</span>:         can be set to either `np.nan` or `pd.NA`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3269</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3270</span>:     impute_strategy : str, default='mean'</pre>
<pre class="cython line score-0">&#xA0;<span class="">3271</span>:         The imputation strategy.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3272</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3273</span>:         - If "mean", then replace missing values using the mean along</pre>
<pre class="cython line score-0">&#xA0;<span class="">3274</span>:           each column. Can only be used with numeric data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3275</span>:         - If "median", then replace missing values using the median along</pre>
<pre class="cython line score-0">&#xA0;<span class="">3276</span>:           each column. Can only be used with numeric data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3277</span>:         - If "most_frequent", then replace missing using the most frequent</pre>
<pre class="cython line score-0">&#xA0;<span class="">3278</span>:           value along each column. Can be used with strings or numeric data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3279</span>:           If there is more than one such value, only the smallest is returned.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3280</span>:         - If "constant", then replace missing values with fill_value. Can be</pre>
<pre class="cython line score-0">&#xA0;<span class="">3281</span>:           used with strings or numeric data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3282</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3283</span>:            strategy="constant" for fixed value imputation.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3284</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3285</span>:     sparse_output : bool, default=False</pre>
<pre class="cython line score-0">&#xA0;<span class="">3286</span>:         Is used when label `y` is given. Binarize labels in a one-vs-all</pre>
<pre class="cython line score-0">&#xA0;<span class="">3287</span>:         fashion. If ``True``, returns array from transform is desired to</pre>
<pre class="cython line score-0">&#xA0;<span class="">3288</span>:         be in sparse CSR format.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3289</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3290</span>:     for_pca:bool, default=False,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3291</span>:         Transform data for principal component ( PCA) analysis. If set to</pre>
<pre class="cython line score-0">&#xA0;<span class="">3292</span>:         ``True``, :class:`sklearn.preprocessing.OrdinalEncoder`` is used insted</pre>
<pre class="cython line score-0">&#xA0;<span class="">3293</span>:         of :class:sklearn.preprocessing.OneHotEncoder``.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3294</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3295</span>:     transform: bool, default=False,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3296</span>:         Tranform data inplace rather than returning the naive pipeline.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3297</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3298</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">3299</span>:     ---------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3300</span>:     full_pipeline: :class:`gofast.exlib.sklearn.FeatureUnion`</pre>
<pre class="cython line score-0">&#xA0;<span class="">3301</span>:         - Full pipeline composed of numerical and categorical pipes</pre>
<pre class="cython line score-0">&#xA0;<span class="">3302</span>:     (X_transformed &amp;| y_transformed):  {array-like, sparse matrix} of \</pre>
<pre class="cython line score-0">&#xA0;<span class="">3303</span>:         shape (n_samples, n_features)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3304</span>:         - Transformed data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3305</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3306</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3307</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">3308</span>:     ---------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3309</span>:     &gt;&gt;&gt; from gofast.tools.mlutils import make_naive_pipe</pre>
<pre class="cython line score-0">&#xA0;<span class="">3310</span>:     &gt;&gt;&gt; from gofast.datasets import load_hlogs</pre>
<pre class="cython line score-0">&#xA0;<span class="">3311</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3312</span>:     (1) Make a naive simple pipeline  with RobustScaler, StandardScaler</pre>
<pre class="cython line score-0">&#xA0;<span class="">3313</span>:     &gt;&gt;&gt; from gofast.exlib.sklearn import RobustScaler</pre>
<pre class="cython line score-0">&#xA0;<span class="">3314</span>:     &gt;&gt;&gt; X_, y_ = load_hlogs (as_frame=True )# get all the data</pre>
<pre class="cython line score-0">&#xA0;<span class="">3315</span>:     &gt;&gt;&gt; pipe = make_naive_pipe(X_, scaler =RobustScaler )</pre>
<pre class="cython line score-0">&#xA0;<span class="">3316</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3317</span>:     (2) Transform X in place with numerical and categorical features with</pre>
<pre class="cython line score-0">&#xA0;<span class="">3318</span>:     StandardScaler (default). Returned CSR matrix</pre>
<pre class="cython line score-0">&#xA0;<span class="">3319</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3320</span>:     &gt;&gt;&gt; make_naive_pipe(X_, transform =True )</pre>
<pre class="cython line score-0">&#xA0;<span class="">3321</span>:     ... &lt;181x40 sparse matrix of type '&lt;class 'numpy.float64'&gt;'</pre>
<pre class="cython line score-0">&#xA0;<span class="">3322</span>:     	with 2172 stored elements in Compressed Sparse Row format&gt;</pre>
<pre class="cython line score-0">&#xA0;<span class="">3323</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3324</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">3325</span>: </pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3326</span>:     from ..transformers import DataFrameSelector</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(3326,0,<span class='error_goto'>__PYX_ERR(0, 3326, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3326, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_DataFrameSelector);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_DataFrameSelector);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_n_s_DataFrameSelector)) <span class='error_goto'>__PYX_ERR(0, 3326, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_transformers, __pyx_t_1, 2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3326, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_DataFrameSelector);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3326, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
  __pyx_v_DataFrameSelector = __pyx_t_1;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3327</span>: </pre>
<pre class="cython line score-18" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3328</span>:     sc= {"StandardScaler": StandardScaler ,"MinMaxScaler": MinMaxScaler ,</pre>
<pre class='cython code score-18 '>  <span class='trace'>__Pyx_TraceLine</span>(3328,0,<span class='error_goto'>__PYX_ERR(0, 3328, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3328, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_StandardScaler);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3328, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_u_StandardScaler, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3328, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_MinMaxScaler);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3328, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_u_MinMaxScaler, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3328, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3329</span>:          "Normalizer":Normalizer , "RobustScaler":RobustScaler}</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(3329,0,<span class='error_goto'>__PYX_ERR(0, 3329, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_Normalizer);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3329, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_u_Normalizer, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3328, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_RobustScaler);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3329, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_u_RobustScaler, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3328, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_sc = ((PyObject*)__pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3330</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3331</span>:     if not hasattr (X, '__array__'):</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3331,0,<span class='error_goto'>__PYX_ERR(0, 3331, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_HasAttr</span>(__pyx_v_X, __pyx_n_u_array);<span class='error_goto'> if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(0, 3331, __pyx_L1_error)</span>
  __pyx_t_4 = (!__pyx_t_3);
  if (unlikely(__pyx_t_4)) {
/*  */
  }
</pre><pre class="cython line score-35" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3332</span>:         raise TypeError(f"'make_naive_pipe' not supported {type(X).__name__!r}."</pre>
<pre class='cython code score-35 '>    <span class='trace'>__Pyx_TraceLine</span>(3332,0,<span class='error_goto'>__PYX_ERR(0, 3332, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3332, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_5 = 0;
    __pyx_t_6 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_make_naive_pipe_not_supported);
    __pyx_t_5 += 32;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_make_naive_pipe_not_supported);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_kp_u_make_naive_pipe_not_supported);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(((PyObject *)Py_TYPE(__pyx_v_X)), __pyx_n_s_name_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3332, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimpleAndDecref</span>(<span class='py_c_api'>PyObject_Repr</span>(__pyx_t_1), __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3332, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_7) &gt; __pyx_t_6) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_7) : __pyx_t_6;
    __pyx_t_5 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_7);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_7);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_7);
    __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Expects_X_as_pandas_core_frame);
    __pyx_t_5 += 52;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Expects_X_as_pandas_core_frame);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 2, __pyx_kp_u_Expects_X_as_pandas_core_frame);
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_2, 3, __pyx_t_5, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3332, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_TypeError, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3332, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='error_goto'>__PYX_ERR(0, 3332, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3333</span>:                         " Expects X as 'pandas.core.frame.DataFrame' object.")</pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3334</span>:     X = check_array (</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(3334,0,<span class='error_goto'>__PYX_ERR(0, 3334, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_check_array);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3334, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3335,0,<span class='error_goto'>__PYX_ERR(0, 3335, __pyx_L1_error)</span>)
  __pyx_t_7 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3334, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 0, __pyx_v_X)) <span class='error_goto'>__PYX_ERR(0, 3334, __pyx_L1_error)</span>;
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3334,0,<span class='error_goto'>__PYX_ERR(0, 3334, __pyx_L1_error)</span>)
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_7, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3334, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_X, __pyx_t_8);
  __pyx_t_8 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3335</span>:         X,</pre>
<pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3336</span>:         dtype=object,</pre>
<pre class='cython code score-12 '>  <span class='trace'>__Pyx_TraceLine</span>(3336,0,<span class='error_goto'>__PYX_ERR(0, 3336, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3336, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_dtype, __pyx_builtin_object) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3336, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_force_all_finite, __pyx_kp_u_allow_nan) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3336, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3337</span>:         force_all_finite="allow-nan",</pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3338</span>:         to_frame=True,</pre>
<pre class='cython code score-10 '>  <span class='trace'>__Pyx_TraceLine</span>(3338,0,<span class='error_goto'>__PYX_ERR(0, 3338, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_to_frame, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3336, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_input_name, __pyx_kp_u_Array_for_transforming_X_or_maki) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3336, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3339</span>:         input_name="Array for transforming X or making naive pipeline"</pre>
<pre class="cython line score-0">&#xA0;<span class="">3340</span>:         )</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3341</span>:     if not hasattr (X, "columns"):</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3341,0,<span class='error_goto'>__PYX_ERR(0, 3341, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_HasAttr</span>(__pyx_v_X, __pyx_n_u_columns);<span class='error_goto'> if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(0, 3341, __pyx_L1_error)</span>
  __pyx_t_3 = (!__pyx_t_4);
  if (__pyx_t_3) {
/*  */
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">3342</span>:         # create naive column for</pre>
<pre class="cython line score-0">&#xA0;<span class="">3343</span>:         # Dataframe selector</pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3344</span>:         X = pd.DataFrame (</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(3344,0,<span class='error_goto'>__PYX_ERR(0, 3344, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_8, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3344, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_8, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3344, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(3345,0,<span class='error_goto'>__PYX_ERR(0, 3345, __pyx_L1_error)</span>)
    __pyx_t_8 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3344, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_8, 0, __pyx_v_X)) <span class='error_goto'>__PYX_ERR(0, 3344, __pyx_L1_error)</span>;
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(3344,0,<span class='error_goto'>__PYX_ERR(0, 3344, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_8, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3344, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_X, __pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-81" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3345</span>:             X, columns = [f"naive_{i}" for i in range (X.shape[1])]</pre>
<pre class='cython code score-81 '>    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3345, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    { /* enter inner scope */
      __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3345, __pyx_L7_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3345, __pyx_L7_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_t_10 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_9, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3345, __pyx_L7_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_range, __pyx_t_10);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3345, __pyx_L7_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_9)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_9)) {
        __pyx_t_10 = __pyx_t_9; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_10);
        __pyx_t_5 = 0;
        __pyx_t_11 = NULL;
      } else {
        __pyx_t_5 = -1; __pyx_t_10 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3345, __pyx_L7_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
        __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_10);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3345, __pyx_L7_error)</span>
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      for (;;) {
        if (likely(!__pyx_t_11)) {
          if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_10))) {
            {
              Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_10);
              #if !CYTHON_ASSUME_SAFE_MACROS
              if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3345, __pyx_L7_error)</span>
              #endif
              if (__pyx_t_5 &gt;= __pyx_temp) break;
            }
            #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
            __pyx_t_9 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_10, __pyx_t_5); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9); __pyx_t_5++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3345, __pyx_L7_error)</span>
            #else
            __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_10, __pyx_t_5); __pyx_t_5++;<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3345, __pyx_L7_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
            #endif
          } else {
            {
              Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_10);
              #if !CYTHON_ASSUME_SAFE_MACROS
              if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3345, __pyx_L7_error)</span>
              #endif
              if (__pyx_t_5 &gt;= __pyx_temp) break;
            }
            #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
            __pyx_t_9 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_10, __pyx_t_5); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9); __pyx_t_5++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3345, __pyx_L7_error)</span>
            #else
            __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_10, __pyx_t_5); __pyx_t_5++;<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3345, __pyx_L7_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
            #endif
          }
        } else {
          __pyx_t_9 = __pyx_t_11(__pyx_t_10);
          if (unlikely(!__pyx_t_9)) {
            PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
            if (exc_type) {
              if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
              else <span class='error_goto'>__PYX_ERR(0, 3345, __pyx_L7_error)</span>
            }
            break;
          }
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
        }
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr15__pyx_v_i, __pyx_t_9);
        __pyx_t_9 = 0;
        __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_9genexpr15__pyx_v_i, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3345, __pyx_L7_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
        __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_n_u_naive, __pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 3345, __pyx_L7_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_2, (PyObject*)__pyx_t_12))) <span class='error_goto'>__PYX_ERR(0, 3345, __pyx_L7_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr15__pyx_v_i); __pyx_9genexpr15__pyx_v_i = 0;
      goto __pyx_L11_exit_scope;
      __pyx_L7_error:;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr15__pyx_v_i); __pyx_9genexpr15__pyx_v_i = 0;
      goto __pyx_L1_error;
      __pyx_L11_exit_scope:;
    } /* exit inner scope */
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_7, __pyx_n_s_columns, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3345, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3346</span>:             )</pre>
<pre class="cython line score-0">&#xA0;<span class="">3347</span>:     #-&gt; Encode y if given</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3348</span>:     if y is not None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(3348,0,<span class='error_goto'>__PYX_ERR(0, 3348, __pyx_L1_error)</span>)
  __pyx_t_3 = (__pyx_v_y != Py_None);
  if (__pyx_t_3) {
/*  */
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">3349</span>:         # if (label_encoding =='labelEncoder'</pre>
<pre class="cython line score-0">&#xA0;<span class="">3350</span>:         #     or get_estimator_name(label_encoding) =='LabelEncoder'</pre>
<pre class="cython line score-0">&#xA0;<span class="">3351</span>:         #     ):</pre>
<pre class="cython line score-0">&#xA0;<span class="">3352</span>:         #     enc =LabelEncoder()</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3353</span>:         if  ( label_encoding =='LabelBinarizer'</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(3353,0,<span class='error_goto'>__PYX_ERR(0, 3353, __pyx_L1_error)</span>)
    __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_label_encoding, __pyx_n_u_LabelBinarizer, Py_EQ)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3353, __pyx_L1_error)</span>
    if (!__pyx_t_4) {
    } else {
      __pyx_t_3 = __pyx_t_4;
      goto __pyx_L14_bool_binop_done;
    }
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(3353,0,<span class='error_goto'>__PYX_ERR(0, 3353, __pyx_L1_error)</span>)
    if (__pyx_t_3) {
/*  */
      goto __pyx_L13;
    }
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3354</span>:                 or get_estimator_name(label_encoding)=='LabelBinarizer'</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(3354,0,<span class='error_goto'>__PYX_ERR(0, 3354, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_7, __pyx_n_s_get_estimator_name);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3354, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_8 = NULL;
    __pyx_t_13 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
      __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
      if (likely(__pyx_t_8)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
        __pyx_t_13 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_8, __pyx_v_label_encoding};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_13, 1+__pyx_t_13);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3354, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    }
    __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_2, __pyx_n_u_LabelBinarizer, Py_EQ)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3354, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_3 = __pyx_t_4;
    __pyx_L14_bool_binop_done:;
</pre><pre class="cython line score-0">&#xA0;<span class="">3355</span>:                ):</pre>
<pre class="cython line score-13" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3356</span>:             enc =LabelBinarizer(sparse_output=sparse_output)</pre>
<pre class='cython code score-13 '>      <span class='trace'>__Pyx_TraceLine</span>(3356,0,<span class='error_goto'>__PYX_ERR(0, 3356, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_LabelBinarizer);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3356, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3356, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_7, __pyx_n_s_sparse_output, __pyx_v_sparse_output) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3356, __pyx_L1_error)</span>
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_empty_tuple, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3356, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      __pyx_v_enc = __pyx_t_8;
      __pyx_t_8 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3357</span>:         else:</pre>
<pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3358</span>:             label_encoding =='labelEncoder'</pre>
<pre class='cython code score-6 '>    <span class='trace'>__Pyx_TraceLine</span>(3358,0,<span class='error_goto'>__PYX_ERR(0, 3358, __pyx_L1_error)</span>)
    /*else*/ {
      __pyx_t_8 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_v_label_encoding, __pyx_n_u_labelEncoder, Py_EQ); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3358, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3359</span>:             enc =LabelEncoder()</pre>
<pre class='cython code score-16 '>      <span class='trace'>__Pyx_TraceLine</span>(3359,0,<span class='error_goto'>__PYX_ERR(0, 3359, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_7, __pyx_n_s_LabelEncoder);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3359, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      __pyx_t_2 = NULL;
      __pyx_t_13 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
        __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
        if (likely(__pyx_t_2)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
          __pyx_t_13 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_2, NULL};
        __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_13, 0+__pyx_t_13);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        if (unlikely(!__pyx_t_8)) <span class='error_goto'>__PYX_ERR(0, 3359, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      }
      __pyx_v_enc = __pyx_t_8;
      __pyx_t_8 = 0;
    }
    __pyx_L13:;
</pre><pre class="cython line score-0">&#xA0;<span class="">3360</span>: </pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3361</span>:         y= enc.fit_transform(y)</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(3361,0,<span class='error_goto'>__PYX_ERR(0, 3361, __pyx_L1_error)</span>)
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_enc, __pyx_n_s_fit_transform);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3361, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_2 = NULL;
    __pyx_t_13 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
        __pyx_t_13 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_y};
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_13, 1+__pyx_t_13);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_8)) <span class='error_goto'>__PYX_ERR(0, 3361, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_y, __pyx_t_8);
    __pyx_t_8 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3362</span>:     #set features</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3363</span>:     if num_features is not None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(3363,0,<span class='error_goto'>__PYX_ERR(0, 3363, __pyx_L1_error)</span>)
  __pyx_t_3 = (__pyx_v_num_features != Py_None);
  if (__pyx_t_3) {
/*  */
    goto __pyx_L16;
  }
</pre><pre class="cython line score-63" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3364</span>:         cat_features, num_features  = bi_selector(</pre>
<pre class='cython code score-63 '>    <span class='trace'>__Pyx_TraceLine</span>(3364,0,<span class='error_goto'>__PYX_ERR(0, 3364, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_8, __pyx_n_s_bi_selector);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3364, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(3365,0,<span class='error_goto'>__PYX_ERR(0, 3365, __pyx_L1_error)</span>)
    __pyx_t_7 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3364, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 0, __pyx_v_X)) <span class='error_goto'>__PYX_ERR(0, 3364, __pyx_L1_error)</span>;
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(3364,0,<span class='error_goto'>__PYX_ERR(0, 3364, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_8, __pyx_t_7, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3364, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_1))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
      PyObject* sequence = __pyx_t_1;
      Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
      if (unlikely(size != 2)) {
        if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
        else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
        <span class='error_goto'>__PYX_ERR(0, 3364, __pyx_L1_error)</span>
      }
      #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
      if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
        __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
        __pyx_t_7 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
      } else {
        __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
        __pyx_t_7 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
      }
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
      #else
      __pyx_t_2 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3364, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_7 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3364, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      #endif
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    } else {
      Py_ssize_t index = -1;
      __pyx_t_8 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3364, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_14 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_8);
      index = 0; __pyx_t_2 = __pyx_t_14(__pyx_t_8); if (unlikely(!__pyx_t_2)) goto __pyx_L17_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      index = 1; __pyx_t_7 = __pyx_t_14(__pyx_t_8); if (unlikely(!__pyx_t_7)) goto __pyx_L17_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_14(__pyx_t_8), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3364, __pyx_L1_error)</span>
      __pyx_t_14 = NULL;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      goto __pyx_L18_unpacking_done;
      __pyx_L17_unpacking_failed:;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      __pyx_t_14 = NULL;
      if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
      <span class='error_goto'>__PYX_ERR(0, 3364, __pyx_L1_error)</span>
      __pyx_L18_unpacking_done:;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_cat_features, __pyx_t_2);
    __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_num_features, __pyx_t_7);
    __pyx_t_7 = 0;
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3365</span>:             X, features= num_features</pre>
<pre class='cython code score-7 '>    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3365, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_features, __pyx_v_num_features) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3365, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3366</span>:             )</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3367</span>:     elif cat_features is not None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(3367,0,<span class='error_goto'>__PYX_ERR(0, 3367, __pyx_L1_error)</span>)
  __pyx_t_3 = (__pyx_v_cat_features != Py_None);
  if (__pyx_t_3) {
/*  */
  }
  __pyx_L16:;
</pre><pre class="cython line score-63" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3368</span>:         num_features, cat_features  = bi_selector(</pre>
<pre class='cython code score-63 '>    <span class='trace'>__Pyx_TraceLine</span>(3368,0,<span class='error_goto'>__PYX_ERR(0, 3368, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_bi_selector);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3368, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(3369,0,<span class='error_goto'>__PYX_ERR(0, 3369, __pyx_L1_error)</span>)
    __pyx_t_7 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3368, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 0, __pyx_v_X)) <span class='error_goto'>__PYX_ERR(0, 3368, __pyx_L1_error)</span>;
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(3368,0,<span class='error_goto'>__PYX_ERR(0, 3368, __pyx_L1_error)</span>)
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_7, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3368, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_8))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_8))) {
      PyObject* sequence = __pyx_t_8;
      Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
      if (unlikely(size != 2)) {
        if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
        else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
        <span class='error_goto'>__PYX_ERR(0, 3368, __pyx_L1_error)</span>
      }
      #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
      if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
        __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
        __pyx_t_7 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
      } else {
        __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
        __pyx_t_7 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
      }
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
      #else
      __pyx_t_2 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3368, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_7 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3368, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      #endif
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    } else {
      Py_ssize_t index = -1;
      __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3368, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      __pyx_t_14 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);
      index = 0; __pyx_t_2 = __pyx_t_14(__pyx_t_1); if (unlikely(!__pyx_t_2)) goto __pyx_L19_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      index = 1; __pyx_t_7 = __pyx_t_14(__pyx_t_1); if (unlikely(!__pyx_t_7)) goto __pyx_L19_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_14(__pyx_t_1), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3368, __pyx_L1_error)</span>
      __pyx_t_14 = NULL;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      goto __pyx_L20_unpacking_done;
      __pyx_L19_unpacking_failed:;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_14 = NULL;
      if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
      <span class='error_goto'>__PYX_ERR(0, 3368, __pyx_L1_error)</span>
      __pyx_L20_unpacking_done:;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_num_features, __pyx_t_2);
    __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_cat_features, __pyx_t_7);
    __pyx_t_7 = 0;
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3369</span>:             X, features= cat_features</pre>
<pre class='cython code score-7 '>    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3369, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_features, __pyx_v_cat_features) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3369, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3370</span>:             )</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3371</span>:     if ( cat_features is None</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(3371,0,<span class='error_goto'>__PYX_ERR(0, 3371, __pyx_L1_error)</span>)
  __pyx_t_4 = (__pyx_v_cat_features == Py_None);
  if (__pyx_t_4) {
  } else {
    __pyx_t_3 = __pyx_t_4;
    goto __pyx_L22_bool_binop_done;
  }
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3371,0,<span class='error_goto'>__PYX_ERR(0, 3371, __pyx_L1_error)</span>)
  if (__pyx_t_3) {
/*  */
  }
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3372</span>:         and num_features is None</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(3372,0,<span class='error_goto'>__PYX_ERR(0, 3372, __pyx_L1_error)</span>)
  __pyx_t_4 = (__pyx_v_num_features == Py_None);
  __pyx_t_3 = __pyx_t_4;
  __pyx_L22_bool_binop_done:;
</pre><pre class="cython line score-0">&#xA0;<span class="">3373</span>:         ):</pre>
<pre class="cython line score-64" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3374</span>:         num_features , cat_features = bi_selector(X )</pre>
<pre class='cython code score-64 '>    <span class='trace'>__Pyx_TraceLine</span>(3374,0,<span class='error_goto'>__PYX_ERR(0, 3374, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_7, __pyx_n_s_bi_selector);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3374, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_2 = NULL;
    __pyx_t_13 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
        __pyx_t_13 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_X};
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_13, 1+__pyx_t_13);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_8)) <span class='error_goto'>__PYX_ERR(0, 3374, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    }
    if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_8))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_8))) {
      PyObject* sequence = __pyx_t_8;
      Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
      if (unlikely(size != 2)) {
        if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
        else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
        <span class='error_goto'>__PYX_ERR(0, 3374, __pyx_L1_error)</span>
      }
      #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
      if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
        __pyx_t_7 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
        __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
      } else {
        __pyx_t_7 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
        __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
      }
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      #else
      __pyx_t_7 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3374, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      __pyx_t_2 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3374, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      #endif
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    } else {
      Py_ssize_t index = -1;
      __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3374, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      __pyx_t_14 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);
      index = 0; __pyx_t_7 = __pyx_t_14(__pyx_t_1); if (unlikely(!__pyx_t_7)) goto __pyx_L24_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      index = 1; __pyx_t_2 = __pyx_t_14(__pyx_t_1); if (unlikely(!__pyx_t_2)) goto __pyx_L24_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_14(__pyx_t_1), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3374, __pyx_L1_error)</span>
      __pyx_t_14 = NULL;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      goto __pyx_L25_unpacking_done;
      __pyx_L24_unpacking_failed:;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_14 = NULL;
      if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
      <span class='error_goto'>__PYX_ERR(0, 3374, __pyx_L1_error)</span>
      __pyx_L25_unpacking_done:;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_num_features, __pyx_t_7);
    __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_cat_features, __pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3375</span>:     # assert scaler value</pre>
<pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3376</span>:     if get_estimator_name (scaler)  in sc.keys():</pre>
<pre class='cython code score-22 '>  <span class='trace'>__Pyx_TraceLine</span>(3376,0,<span class='error_goto'>__PYX_ERR(0, 3376, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_get_estimator_name);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3376, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_7 = NULL;
  __pyx_t_13 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_7)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_13 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_7, __pyx_v_scaler};
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_13, 1+__pyx_t_13);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    if (unlikely(!__pyx_t_8)) <span class='error_goto'>__PYX_ERR(0, 3376, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_Keys</span>(__pyx_v_sc);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3376, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_t_8, __pyx_t_2, Py_EQ)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3376, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_3) {
/*  */
    goto __pyx_L26;
  }
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3377</span>:         scaler = sc.get (get_estimator_name(scaler ))</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(3377,0,<span class='error_goto'>__PYX_ERR(0, 3377, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_8, __pyx_n_s_get_estimator_name);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3377, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    __pyx_t_7 = NULL;
    __pyx_t_13 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_8))) {
      __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_8);
      if (likely(__pyx_t_7)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_8, function);
        __pyx_t_13 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_7, __pyx_v_scaler};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_8, __pyx_callargs+1-__pyx_t_13, 1+__pyx_t_13);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3377, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    }
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyDict_GetItemDefault</span>(__pyx_v_sc, __pyx_t_2, Py_None);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3377, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_scaler, __pyx_t_8);
    __pyx_t_8 = 0;
</pre><pre class="cython line score-76" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3378</span>:     elif ( any ( [v.lower().find (str(scaler).lower()) &gt;=0</pre>
<pre class='cython code score-76 '>  <span class='trace'>__Pyx_TraceLine</span>(3378,0,<span class='error_goto'>__PYX_ERR(0, 3378, __pyx_L1_error)</span>)
  { /* enter inner scope */
    __pyx_t_8 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3378, __pyx_L29_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(3378,0,<span class='error_goto'>__PYX_ERR(0, 3378, __pyx_L29_error)</span>)
      __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_9genexpr16__pyx_v_v, __pyx_n_s_lower);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3378, __pyx_L29_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
      __pyx_t_12 = NULL;
      __pyx_t_16 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_10))) {
        __pyx_t_12 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_10);
        if (likely(__pyx_t_12)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_10);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_12);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_10, function);
          __pyx_t_16 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_12, NULL};
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_10, __pyx_callargs+1-__pyx_t_16, 0+__pyx_t_16);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
        if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3378, __pyx_L29_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      }
      __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_find);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3378, __pyx_L29_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_Str</span>(__pyx_v_scaler);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 3378, __pyx_L29_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_12, __pyx_n_s_lower);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3378, __pyx_L29_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
      __pyx_t_12 = NULL;
      __pyx_t_16 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
        __pyx_t_12 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
        if (likely(__pyx_t_12)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_12);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
          __pyx_t_16 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_12, NULL};
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_16, 0+__pyx_t_16);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
        if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3378, __pyx_L29_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      }
      __pyx_t_9 = NULL;
      __pyx_t_16 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_10))) {
        __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_10);
        if (likely(__pyx_t_9)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_10);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_10, function);
          __pyx_t_16 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_9, __pyx_t_1};
        __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_10, __pyx_callargs+1-__pyx_t_16, 1+__pyx_t_16);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        if (unlikely(!__pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 3378, __pyx_L29_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      }
      __pyx_t_10 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_7, __pyx_int_0, Py_GE); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_10);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3378, __pyx_L29_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_8, (PyObject*)__pyx_t_10))) <span class='error_goto'>__PYX_ERR(0, 3378, __pyx_L29_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr16__pyx_v_v); __pyx_9genexpr16__pyx_v_v = 0;
    goto __pyx_L32_exit_scope;
    __pyx_L29_error:;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr16__pyx_v_v); __pyx_9genexpr16__pyx_v_v = 0;
    goto __pyx_L1_error;
    __pyx_L32_exit_scope:;
  } /* exit inner scope */
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_any, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3378, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_2); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3378, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_3) {
/*  */
    goto __pyx_L26;
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3379</span>:                   for v in sc.keys()])</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(3379,0,<span class='error_goto'>__PYX_ERR(0, 3379, __pyx_L29_error)</span>)
    __pyx_t_5 = 0;
    __pyx_t_7 = __Pyx_dict_iterator(__pyx_v_sc, 1, __pyx_n_s_keys, (&amp;__pyx_t_15), (&amp;__pyx_t_13));<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3379, __pyx_L29_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
    __pyx_t_2 = __pyx_t_7;
    __pyx_t_7 = 0;
    while (1) {
      __pyx_t_16 = __Pyx_dict_iter_next(__pyx_t_2, __pyx_t_15, &amp;__pyx_t_5, &amp;__pyx_t_7, NULL, NULL, __pyx_t_13);
      if (unlikely(__pyx_t_16 == 0)) break;
      if (unlikely(__pyx_t_16 == -1)) <span class='error_goto'>__PYX_ERR(0, 3379, __pyx_L29_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr16__pyx_v_v, __pyx_t_7);
      __pyx_t_7 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3380</span>:           ):</pre>
<pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3381</span>:         for k, v in sc.items () :</pre>
<pre class='cython code score-3 '>    <span class='trace'>__Pyx_TraceLine</span>(3381,0,<span class='error_goto'>__PYX_ERR(0, 3381, __pyx_L1_error)</span>)
    __pyx_t_15 = 0;
    __pyx_t_8 = __Pyx_dict_iterator(__pyx_v_sc, 1, __pyx_n_s_items, (&amp;__pyx_t_5), (&amp;__pyx_t_13));<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3381, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
    __pyx_t_2 = __pyx_t_8;
    __pyx_t_8 = 0;
    while (1) {
      __pyx_t_16 = __Pyx_dict_iter_next(__pyx_t_2, __pyx_t_5, &amp;__pyx_t_15, &amp;__pyx_t_8, &amp;__pyx_t_10, NULL, __pyx_t_13);
      if (unlikely(__pyx_t_16 == 0)) break;
      if (unlikely(__pyx_t_16 == -1)) <span class='error_goto'>__PYX_ERR(0, 3381, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_k, __pyx_t_8);
      __pyx_t_8 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_v, __pyx_t_10);
      __pyx_t_10 = 0;
</pre><pre class="cython line score-63" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3382</span>:             if k.lower().find ( str(scaler).lower() ) &gt;=0:</pre>
<pre class='cython code score-63 '>      <span class='trace'>__Pyx_TraceLine</span>(3382,0,<span class='error_goto'>__PYX_ERR(0, 3382, __pyx_L1_error)</span>)
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_k, __pyx_n_s_lower);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3382, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      __pyx_t_1 = NULL;
      __pyx_t_16 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
        __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
        if (likely(__pyx_t_1)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
          __pyx_t_16 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_1, NULL};
        __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_16, 0+__pyx_t_16);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        if (unlikely(!__pyx_t_8)) <span class='error_goto'>__PYX_ERR(0, 3382, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      }
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_8, __pyx_n_s_find);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3382, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Str</span>(__pyx_v_scaler);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3382, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_lower);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3382, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = NULL;
      __pyx_t_16 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
        __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
        if (likely(__pyx_t_1)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
          __pyx_t_16 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_1, NULL};
        __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_16, 0+__pyx_t_16);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        if (unlikely(!__pyx_t_8)) <span class='error_goto'>__PYX_ERR(0, 3382, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      }
      __pyx_t_9 = NULL;
      __pyx_t_16 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
        __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
        if (likely(__pyx_t_9)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
          __pyx_t_16 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_9, __pyx_t_8};
        __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_16, 1+__pyx_t_16);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
        if (unlikely(!__pyx_t_10)) <span class='error_goto'>__PYX_ERR(0, 3382, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      }
      __pyx_t_7 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_10, __pyx_int_0, Py_GE); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3382, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_7); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3382, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      if (__pyx_t_3) {
/*  */
      }
    }
    __pyx_L34_break:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3383</span>:                 scaler = v ; break</pre>
<pre class='cython code score-2 '>        <span class='trace'>__Pyx_TraceLine</span>(3383,0,<span class='error_goto'>__PYX_ERR(0, 3383, __pyx_L1_error)</span>)
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_v);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_scaler, __pyx_v_v);
        goto __pyx_L34_break;
</pre><pre class="cython line score-0">&#xA0;<span class="">3384</span>:     else :</pre>
<pre class="cython line score-41" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3385</span>:         msg = ( f"Supports {smart_format( sc.keys(), 'or')} or "</pre>
<pre class='cython code score-41 '>  <span class='trace'>__Pyx_TraceLine</span>(3385,0,<span class='error_goto'>__PYX_ERR(0, 3385, __pyx_L1_error)</span>)
  /*else*/ {
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3385, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_5 = 0;
    __pyx_t_6 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Supports);
    __pyx_t_5 += 9;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Supports);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_kp_u_Supports);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_10, __pyx_n_s_smart_format);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3385, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyDict_Keys</span>(__pyx_v_sc);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3385, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    __pyx_t_9 = NULL;
    __pyx_t_13 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_10))) {
      __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_10);
      if (likely(__pyx_t_9)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_10);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_10, function);
        __pyx_t_13 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_9, __pyx_t_8, __pyx_n_u_or};
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_10, __pyx_callargs+1-__pyx_t_13, 2+__pyx_t_13);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      if (unlikely(!__pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 3385, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    }
    __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_t_7, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3385, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_10) &gt; __pyx_t_6) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_10) : __pyx_t_6;
    __pyx_t_5 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_10);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_10);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_10);
    __pyx_t_10 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_or_other_scikit_learn_scaling_o);
    __pyx_t_5 += 48;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_or_other_scikit_learn_scaling_o);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 2, __pyx_kp_u_or_other_scikit_learn_scaling_o);
    __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_2, 3, __pyx_t_5, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3385, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_v_msg = ((PyObject*)__pyx_t_10);
    __pyx_t_10 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3386</span>:                 "other scikit-learn scaling objects, got {!r}"</pre>
<pre class="cython line score-0">&#xA0;<span class="">3387</span>:                 )</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3388</span>:         if hasattr (scaler, '__module__'):</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(3388,0,<span class='error_goto'>__PYX_ERR(0, 3388, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_HasAttr</span>(__pyx_v_scaler, __pyx_n_u_module_2);<span class='error_goto'> if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(0, 3388, __pyx_L1_error)</span>
    if (likely(__pyx_t_3)) {
/*  */
      goto __pyx_L36;
    }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3389</span>:             name = getattr (scaler, '__module__')</pre>
<pre class='cython code score-2 '>      <span class='trace'>__Pyx_TraceLine</span>(3389,0,<span class='error_goto'>__PYX_ERR(0, 3389, __pyx_L1_error)</span>)
      __pyx_t_10 = <span class='pyx_c_api'>__Pyx_GetAttr</span>(__pyx_v_scaler, __pyx_n_u_module_2);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3389, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
      __pyx_v_name = __pyx_t_10;
      __pyx_t_10 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3390</span>:             if getattr (scaler, '__module__') !='sklearn.preprocessing._data':</pre>
<pre class='cython code score-5 '>      <span class='trace'>__Pyx_TraceLine</span>(3390,0,<span class='error_goto'>__PYX_ERR(0, 3390, __pyx_L1_error)</span>)
      __pyx_t_10 = <span class='pyx_c_api'>__Pyx_GetAttr</span>(__pyx_v_scaler, __pyx_n_u_module_2);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3390, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
      __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_10, __pyx_kp_u_sklearn_preprocessing__data, Py_NE)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3390, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      if (unlikely(__pyx_t_3)) {
/*  */
      }
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3391</span>:                 raise ValueError (msg.format(name ))</pre>
<pre class='cython code score-6 '>        <span class='trace'>__Pyx_TraceLine</span>(3391,0,<span class='error_goto'>__PYX_ERR(0, 3391, __pyx_L1_error)</span>)
        __pyx_t_10 = __Pyx_CallUnboundCMethod1(&amp;__pyx_umethod_PyUnicode_Type_format, __pyx_v_msg, __pyx_v_name);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3391, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_10);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3391, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
        <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0, 0);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        <span class='error_goto'>__PYX_ERR(0, 3391, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3392</span>:         else:</pre>
<pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3393</span>:             name = scaler.__name__ if callable (scaler) else (</pre>
<pre class='cython code score-4 '>    <span class='trace'>__Pyx_TraceLine</span>(3393,0,<span class='error_goto'>__PYX_ERR(0, 3393, __pyx_L1_error)</span>)
    /*else*/ {
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyCallable_Check</span>(__pyx_v_scaler);<span class='error_goto'> if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(0, 3393, __pyx_L1_error)</span>
      if (__pyx_t_3) {
        __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_scaler, __pyx_n_s_name_2);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3393, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
        __pyx_t_2 = __pyx_t_10;
        __pyx_t_10 = 0;
      } else {
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3394</span>:                 scaler.__class__.__name__ )</pre>
<pre class='cython code score-5 '>        <span class='trace'>__Pyx_TraceLine</span>(3394,0,<span class='error_goto'>__PYX_ERR(0, 3394, __pyx_L1_error)</span>)
        __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_scaler, __pyx_n_s_class_2);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3394, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
        __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_10, __pyx_n_s_name_2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3394, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
        __pyx_t_2 = __pyx_t_7;
        __pyx_t_7 = 0;
      }
      __pyx_v_name = __pyx_t_2;
      __pyx_t_2 = 0;
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3395</span>:             raise ValueError (msg.format(name ))</pre>
<pre class='cython code score-6 '>      <span class='trace'>__Pyx_TraceLine</span>(3395,0,<span class='error_goto'>__PYX_ERR(0, 3395, __pyx_L1_error)</span>)
      __pyx_t_2 = __Pyx_CallUnboundCMethod1(&amp;__pyx_umethod_PyUnicode_Type_format, __pyx_v_msg, __pyx_v_name);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3395, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3395, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_7, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      <span class='error_goto'>__PYX_ERR(0, 3395, __pyx_L1_error)</span>
    }
    __pyx_L36:;
  }
  __pyx_L26:;
</pre><pre class="cython line score-0">&#xA0;<span class="">3396</span>:     # make pipe</pre>
<pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3397</span>:     npipe = [</pre>
<pre class='cython code score-9 '>  <span class='trace'>__Pyx_TraceLine</span>(3397,0,<span class='error_goto'>__PYX_ERR(0, 3397, __pyx_L1_error)</span>)
  __pyx_t_10 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3397, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_10, 0, __pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3397, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_7);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_10, 1, __pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 3397, __pyx_L1_error)</span>;
  __pyx_t_2 = 0;
  __pyx_t_7 = 0;
  __pyx_v_npipe = ((PyObject*)__pyx_t_10);
  __pyx_t_10 = 0;
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3398</span>:             ('imputerObj',SimpleImputer(missing_values=missing_values ,</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(3398,0,<span class='error_goto'>__PYX_ERR(0, 3398, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_7, __pyx_n_s_SimpleImputer);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3398, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3398, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_missing_values, __pyx_v_missing_values) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3398, __pyx_L1_error)</span>
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3398,0,<span class='error_goto'>__PYX_ERR(0, 3398, __pyx_L1_error)</span>)
  __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_7, __pyx_empty_tuple, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3398, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3398, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_imputerObj);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_imputerObj);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_u_imputerObj)) <span class='error_goto'>__PYX_ERR(0, 3398, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_10);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_10)) <span class='error_goto'>__PYX_ERR(0, 3398, __pyx_L1_error)</span>;
  __pyx_t_10 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3399</span>:                                     strategy=impute_strategy)),</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(3399,0,<span class='error_goto'>__PYX_ERR(0, 3399, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_strategy, __pyx_v_impute_strategy) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3398, __pyx_L1_error)</span>
</pre><pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3400</span>:             ('scalerObj', scaler() if callable (scaler) else scaler ),</pre>
<pre class='cython code score-28 '>  <span class='trace'>__Pyx_TraceLine</span>(3400,0,<span class='error_goto'>__PYX_ERR(0, 3400, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyCallable_Check</span>(__pyx_v_scaler);<span class='error_goto'> if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(0, 3400, __pyx_L1_error)</span>
  if (__pyx_t_3) {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_scaler);
    __pyx_t_8 = __pyx_v_scaler; __pyx_t_9 = NULL;
    __pyx_t_13 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_8))) {
      __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_8);
      if (likely(__pyx_t_9)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_8, function);
        __pyx_t_13 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_9, NULL};
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_8, __pyx_callargs+1-__pyx_t_13, 0+__pyx_t_13);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      if (unlikely(!__pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 3400, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    }
    __pyx_t_10 = __pyx_t_7;
    __pyx_t_7 = 0;
  } else {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_scaler);
    __pyx_t_10 = __pyx_v_scaler;
  }
  __pyx_t_7 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3400, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_scalerObj);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_scalerObj);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 0, __pyx_n_u_scalerObj)) <span class='error_goto'>__PYX_ERR(0, 3400, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_10);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 1, __pyx_t_10)) <span class='error_goto'>__PYX_ERR(0, 3400, __pyx_L1_error)</span>;
  __pyx_t_10 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3401</span>:             ]</pre>
<pre class="cython line score-0">&#xA0;<span class="">3402</span>: </pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3403</span>:     if len(num_features)!=0 :</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(3403,0,<span class='error_goto'>__PYX_ERR(0, 3403, __pyx_L1_error)</span>)
  __pyx_t_5 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_num_features);<span class='error_goto'> if (unlikely(__pyx_t_5 == ((Py_ssize_t)-1))) __PYX_ERR(0, 3403, __pyx_L1_error)</span>
  __pyx_t_3 = (__pyx_t_5 != 0);
  if (__pyx_t_3) {
/*  */
  }
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3404</span>:        npipe.insert (</pre>
<pre class='cython code score-6 '>    <span class='trace'>__Pyx_TraceLine</span>(3404,0,<span class='error_goto'>__PYX_ERR(0, 3404, __pyx_L1_error)</span>)
    __pyx_t_17 = <span class='py_c_api'>PyList_Insert</span>(__pyx_v_npipe, 0, __pyx_t_10);<span class='error_goto'> if (unlikely(__pyx_t_17 == ((int)-1))) __PYX_ERR(0, 3404, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3405</span>:             0,  ('selectorObj', DataFrameSelector(columns= num_features))</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(3405,0,<span class='error_goto'>__PYX_ERR(0, 3405, __pyx_L1_error)</span>)
    __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3405, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_10, __pyx_n_s_columns, __pyx_v_num_features) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3405, __pyx_L1_error)</span>
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_v_DataFrameSelector, __pyx_empty_tuple, __pyx_t_10);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3405, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    __pyx_t_10 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3405, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_selectorObj);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_selectorObj);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_10, 0, __pyx_n_u_selectorObj)) <span class='error_goto'>__PYX_ERR(0, 3405, __pyx_L1_error)</span>;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_7);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_10, 1, __pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 3405, __pyx_L1_error)</span>;
    __pyx_t_7 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3406</span>:             )</pre>
<pre class="cython line score-0">&#xA0;<span class="">3407</span>: </pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3408</span>:     num_pipe=Pipeline(npipe)</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(3408,0,<span class='error_goto'>__PYX_ERR(0, 3408, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_7, __pyx_n_s_Pipeline);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3408, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  __pyx_t_2 = NULL;
  __pyx_t_13 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
      __pyx_t_13 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_npipe};
    __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_13, 1+__pyx_t_13);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_10)) <span class='error_goto'>__PYX_ERR(0, 3408, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  }
  __pyx_v_num_pipe = __pyx_t_10;
  __pyx_t_10 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3409</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3410</span>:     if for_pca :</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3410,0,<span class='error_goto'>__PYX_ERR(0, 3410, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_for_pca); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3410, __pyx_L1_error)</span>
  if (__pyx_t_3) {
/*  */
    goto __pyx_L39;
  }
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3411</span>:         encoding=  ('OrdinalEncoder', OrdinalEncoder())</pre>
<pre class='cython code score-26 '>    <span class='trace'>__Pyx_TraceLine</span>(3411,0,<span class='error_goto'>__PYX_ERR(0, 3411, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_7, __pyx_n_s_OrdinalEncoder);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3411, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_2 = NULL;
    __pyx_t_13 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
        __pyx_t_13 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_2, NULL};
      __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_13, 0+__pyx_t_13);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_10)) <span class='error_goto'>__PYX_ERR(0, 3411, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    }
    __pyx_t_7 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3411, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_OrdinalEncoder);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_OrdinalEncoder);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 0, __pyx_n_u_OrdinalEncoder)) <span class='error_goto'>__PYX_ERR(0, 3411, __pyx_L1_error)</span>;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_10);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 1, __pyx_t_10)) <span class='error_goto'>__PYX_ERR(0, 3411, __pyx_L1_error)</span>;
    __pyx_t_10 = 0;
    __pyx_v_encoding = ((PyObject*)__pyx_t_7);
    __pyx_t_7 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3412</span>:     else:  encoding =  (</pre>
<pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3413</span>:         'OneHotEncoder', OneHotEncoder())</pre>
<pre class='cython code score-26 '>  <span class='trace'>__Pyx_TraceLine</span>(3413,0,<span class='error_goto'>__PYX_ERR(0, 3413, __pyx_L1_error)</span>)
  /*else*/ {
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_10, __pyx_n_s_OneHotEncoder);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3413, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
    __pyx_t_2 = NULL;
    __pyx_t_13 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_10))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_10);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_10);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_10, function);
        __pyx_t_13 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_2, NULL};
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_10, __pyx_callargs+1-__pyx_t_13, 0+__pyx_t_13);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 3413, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    }
    __pyx_t_10 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3413, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_OneHotEncoder);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_OneHotEncoder);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_10, 0, __pyx_n_u_OneHotEncoder)) <span class='error_goto'>__PYX_ERR(0, 3413, __pyx_L1_error)</span>;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_7);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_10, 1, __pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 3413, __pyx_L1_error)</span>;
    __pyx_t_7 = 0;
    __pyx_v_encoding = ((PyObject*)__pyx_t_10);
    __pyx_t_10 = 0;
  }
  __pyx_L39:;
</pre><pre class="cython line score-0">&#xA0;<span class="">3414</span>: </pre>
<pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3415</span>:     cpipe = [</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(3415,0,<span class='error_goto'>__PYX_ERR(0, 3415, __pyx_L1_error)</span>)
  __pyx_t_10 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3415, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_encoding);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_encoding);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_10, 0, __pyx_v_encoding)) <span class='error_goto'>__PYX_ERR(0, 3415, __pyx_L1_error)</span>;
  __pyx_v_cpipe = ((PyObject*)__pyx_t_10);
  __pyx_t_10 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3416</span>:         encoding</pre>
<pre class="cython line score-0">&#xA0;<span class="">3417</span>:         ]</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3418</span>:     if len(cat_features)!=0:</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(3418,0,<span class='error_goto'>__PYX_ERR(0, 3418, __pyx_L1_error)</span>)
  __pyx_t_5 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_cat_features);<span class='error_goto'> if (unlikely(__pyx_t_5 == ((Py_ssize_t)-1))) __PYX_ERR(0, 3418, __pyx_L1_error)</span>
  __pyx_t_3 = (__pyx_t_5 != 0);
  if (__pyx_t_3) {
/*  */
  }
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3419</span>:         cpipe.insert (</pre>
<pre class='cython code score-6 '>    <span class='trace'>__Pyx_TraceLine</span>(3419,0,<span class='error_goto'>__PYX_ERR(0, 3419, __pyx_L1_error)</span>)
    __pyx_t_17 = <span class='py_c_api'>PyList_Insert</span>(__pyx_v_cpipe, 0, __pyx_t_10);<span class='error_goto'> if (unlikely(__pyx_t_17 == ((int)-1))) __PYX_ERR(0, 3419, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3420</span>:             0, ('selectorObj', DataFrameSelector(columns= cat_features))</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(3420,0,<span class='error_goto'>__PYX_ERR(0, 3420, __pyx_L1_error)</span>)
    __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3420, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_10, __pyx_n_s_columns, __pyx_v_cat_features) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3420, __pyx_L1_error)</span>
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_v_DataFrameSelector, __pyx_empty_tuple, __pyx_t_10);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3420, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    __pyx_t_10 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3420, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_selectorObj);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_selectorObj);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_10, 0, __pyx_n_u_selectorObj)) <span class='error_goto'>__PYX_ERR(0, 3420, __pyx_L1_error)</span>;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_7);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_10, 1, __pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 3420, __pyx_L1_error)</span>;
    __pyx_t_7 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3421</span>:             )</pre>
<pre class="cython line score-0">&#xA0;<span class="">3422</span>: </pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3423</span>:     cat_pipe = Pipeline(cpipe)</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(3423,0,<span class='error_goto'>__PYX_ERR(0, 3423, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_7, __pyx_n_s_Pipeline);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3423, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  __pyx_t_2 = NULL;
  __pyx_t_13 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
      __pyx_t_13 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_cpipe};
    __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_13, 1+__pyx_t_13);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_10)) <span class='error_goto'>__PYX_ERR(0, 3423, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  }
  __pyx_v_cat_pipe = __pyx_t_10;
  __pyx_t_10 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3424</span>:     # make transformer_list</pre>
<pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3425</span>:     transformer_list = [</pre>
<pre class='cython code score-9 '>  <span class='trace'>__Pyx_TraceLine</span>(3425,0,<span class='error_goto'>__PYX_ERR(0, 3425, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3425, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_10);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_t_10)) <span class='error_goto'>__PYX_ERR(0, 3425, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_7);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 3425, __pyx_L1_error)</span>;
  __pyx_t_10 = 0;
  __pyx_t_7 = 0;
  __pyx_v_transformer_list = ((PyObject*)__pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3426</span>:         ('num_pipeline', num_pipe),</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(3426,0,<span class='error_goto'>__PYX_ERR(0, 3426, __pyx_L1_error)</span>)
  __pyx_t_10 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3426, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_num_pipeline);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_num_pipeline);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_10, 0, __pyx_n_u_num_pipeline)) <span class='error_goto'>__PYX_ERR(0, 3426, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_num_pipe);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_num_pipe);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_10, 1, __pyx_v_num_pipe)) <span class='error_goto'>__PYX_ERR(0, 3426, __pyx_L1_error)</span>;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3427</span>:         ('cat_pipeline', cat_pipe),</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(3427,0,<span class='error_goto'>__PYX_ERR(0, 3427, __pyx_L1_error)</span>)
  __pyx_t_7 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3427, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_cat_pipeline);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_cat_pipeline);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 0, __pyx_n_u_cat_pipeline)) <span class='error_goto'>__PYX_ERR(0, 3427, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_cat_pipe);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_cat_pipe);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 1, __pyx_v_cat_pipe)) <span class='error_goto'>__PYX_ERR(0, 3427, __pyx_L1_error)</span>;
</pre><pre class="cython line score-0">&#xA0;<span class="">3428</span>:         ]</pre>
<pre class="cython line score-0">&#xA0;<span class="">3429</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3430</span>:     #remove num of cat pipe if one of them is</pre>
<pre class="cython line score-0">&#xA0;<span class="">3431</span>:     # missing in the data</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3432</span>:     if len(cat_features)==0:</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(3432,0,<span class='error_goto'>__PYX_ERR(0, 3432, __pyx_L1_error)</span>)
  __pyx_t_5 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_cat_features);<span class='error_goto'> if (unlikely(__pyx_t_5 == ((Py_ssize_t)-1))) __PYX_ERR(0, 3432, __pyx_L1_error)</span>
  __pyx_t_3 = (__pyx_t_5 == 0);
  if (__pyx_t_3) {
/*  */
  }
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3433</span>:         transformer_list.pop(1)</pre>
<pre class='cython code score-3 '>    <span class='trace'>__Pyx_TraceLine</span>(3433,0,<span class='error_goto'>__PYX_ERR(0, 3433, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyList_PopIndex</span>(__pyx_v_transformer_list, __pyx_int_1, 1, 1, Py_ssize_t, PyInt_FromSsize_t);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3433, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3434</span>:     if len(num_features )==0:</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(3434,0,<span class='error_goto'>__PYX_ERR(0, 3434, __pyx_L1_error)</span>)
  __pyx_t_5 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_num_features);<span class='error_goto'> if (unlikely(__pyx_t_5 == ((Py_ssize_t)-1))) __PYX_ERR(0, 3434, __pyx_L1_error)</span>
  __pyx_t_3 = (__pyx_t_5 == 0);
  if (__pyx_t_3) {
/*  */
  }
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3435</span>:         transformer_list.pop(0)</pre>
<pre class='cython code score-3 '>    <span class='trace'>__Pyx_TraceLine</span>(3435,0,<span class='error_goto'>__PYX_ERR(0, 3435, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyList_PopIndex</span>(__pyx_v_transformer_list, __pyx_int_0, 0, 1, Py_ssize_t, PyInt_FromSsize_t);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3435, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3436</span>: </pre>
<pre class="cython line score-13" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3437</span>:     full_pipeline =FeatureUnion(transformer_list=transformer_list)</pre>
<pre class='cython code score-13 '>  <span class='trace'>__Pyx_TraceLine</span>(3437,0,<span class='error_goto'>__PYX_ERR(0, 3437, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_FeatureUnion);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3437, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3437, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_7, __pyx_n_s_transformer_list, __pyx_v_transformer_list) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3437, __pyx_L1_error)</span>
  __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_empty_tuple, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3437, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  __pyx_v_full_pipeline = __pyx_t_10;
  __pyx_t_10 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3438</span>: </pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3439</span>:     return  ( full_pipeline.fit_transform (X) if y is None else (</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(3439,0,<span class='error_goto'>__PYX_ERR(0, 3439, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(3439,0,<span class='error_goto'>__PYX_ERR(0, 3439, __pyx_L1_error)</span>)
    __pyx_t_4 = (__pyx_v_y == Py_None);
    if (__pyx_t_4) {
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_full_pipeline, __pyx_n_s_fit_transform);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3439, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      __pyx_t_9 = NULL;
      __pyx_t_13 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_8))) {
        __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_8);
        if (likely(__pyx_t_9)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_8);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_8, function);
          __pyx_t_13 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_9, __pyx_v_X};
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_8, __pyx_callargs+1-__pyx_t_13, 1+__pyx_t_13);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3439, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      }
      __pyx_t_7 = __pyx_t_2;
      __pyx_t_2 = 0;
    } else {
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3440</span>:         full_pipeline.fit_transform (X), y )</pre>
<pre class='cython code score-26 '>      <span class='trace'>__Pyx_TraceLine</span>(3440,0,<span class='error_goto'>__PYX_ERR(0, 3440, __pyx_L1_error)</span>)
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_full_pipeline, __pyx_n_s_fit_transform);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3440, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      __pyx_t_9 = NULL;
      __pyx_t_13 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_8))) {
        __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_8);
        if (likely(__pyx_t_9)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_8);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_8, function);
          __pyx_t_13 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_9, __pyx_v_X};
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_8, __pyx_callargs+1-__pyx_t_13, 1+__pyx_t_13);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3440, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      }
      __pyx_t_8 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3440, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_8, 0, __pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3440, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_y);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_8, 1, __pyx_v_y)) <span class='error_goto'>__PYX_ERR(0, 3440, __pyx_L1_error)</span>;
      __pyx_t_2 = 0;
      __pyx_t_7 = __pyx_t_8;
      __pyx_t_8 = 0;
    }
    __pyx_t_10 = __pyx_t_7;
    __pyx_t_7 = 0;
  } else {
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3441</span>:              ) if transform else full_pipeline</pre>
<pre class='cython code score-3 '>  <span class='trace'>__Pyx_TraceLine</span>(3441,0,<span class='error_goto'>__PYX_ERR(0, 3441, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_transform); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3441, __pyx_L1_error)</span>
  if (__pyx_t_3) {
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(3441,0,<span class='error_goto'>__PYX_ERR(0, 3441, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_full_pipeline);
    __pyx_t_10 = __pyx_v_full_pipeline;
  }
  __pyx_r = __pyx_t_10;
  __pyx_t_10 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3442</span>: </pre>
<pre class="cython line score-202" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3443</span>: @ensure_pkg (</pre>
<pre class='cython code score-202 '>static PyObject *__pyx_pf_6gofast_5tools_7mlutils_127__defaults__(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceCall</span>("__defaults__", __pyx_f[0], 3443, 0, <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3454,0,<span class='error_goto'>__PYX_ERR(0, 3454, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(15);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3443, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3443,0,<span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_missing_values, <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults8, __pyx_self)-&gt;__pyx_arg_missing_values) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_impute_strategy, ((PyObject*)__pyx_n_u_median)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3443,0,<span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3443, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_tuple__98);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__98);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_tuple__98)) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>;
  __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.__defaults__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_77build_data_preprocessor(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_76build_data_preprocessor, "\n    Create a preprocessing pipeline for data transformation and feature engineering.\n\n    Function constructs a pipeline to preprocess data for machine learning tasks, \n    accommodating a variety of transformations including scaling, encoding, \n    and dimensionality reduction. It supports both numerical and categorical data, \n    and can incorporate custom transformations.\n\n    Parameters\n    ----------\n    X : np.ndarray or DataFrame\n        Input features dataframe or arraylike. Must be two dimensional array.\n    y : array-like, optional\n        Target variable. Required for supervised learning tasks.\n    num_features : list of str, optional\n        List of numerical feature names. If None, determined automatically.\n    cat_features : list of str, optional\n        List of categorical feature names. If None, determined automatically.\n    custom_transformers : list of tuples, optional\n        Custom transformers to be included in the pipeline. Each tuple should \n        contain ('name', transformer_instance).\n    label_encoding : str or transformer, default 'LabelEncoder'\n        Encoder for the target variable. Accepts standard scikit-learn encoders \n        or custom encoder objects.\n    scaler : str or transformer, default 'StandardScaler'\n        Scaler for numerical features. Accepts standard scikit-learn scalers \n        or custom scaler objects.\n    missing_values : int, float, str, np.nan, None, default np.nan\n        Placeholder for missing values for imputation.\n    impute_strategy : str, default 'median'\n        Imputation strategy. Options: 'mean', 'median', 'most_frequent', 'constant'.\n    feature_interaction : bool, default False\n        If True, generate polynomial and interaction features.\n    dimension_reduction : str or transformer, optional\n        Dimensionality reduction technique. Accepts 'PCA', 't-SNE', or custom object.\n    feature_selection : str or transformer, optional\n        Feature selection method"". Accepts 'SelectKBest', 'SelectFromModel', or custom object.\n    balance_classes : bool, default False\n        If True, balance classes in classification tasks.\n    advanced_imputation : transformer, optional\n        Advanced imputation technique like KNNImputer or IterativeImputer.\n    verbose : bool, default False\n        Enable verbose output.\n    output_format : str, default 'array'\n        Desired output format: 'array' or 'dataframe'.\n    transform : bool, default False\n        If True, apply the pipeline to the data immediately and return transformed data.\n\n    Returns\n    -------\n    full_pipeline : Pipeline or (X_transformed, y_transformed)\n        The constructed preprocessing pipeline, or transformed data if `transform` is True.\n\n    Examples\n    --------\n    &gt;&gt;&gt; from gofast.tools.mlutils import build_data_preprocessor\n    &gt;&gt;&gt; from gofast.datasets import load_hlogs\n    &gt;&gt;&gt; X, y = load_hlogs(as_frame=True, return_X_y=True)\n    &gt;&gt;&gt; pipeline = build_data_preprocessor(X, y, scaler='RobustScaler')\n    &gt;&gt;&gt; X_transformed = pipeline.fit_transform(X)\n    \n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_77build_data_preprocessor = {"build_data_preprocessor", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_77build_data_preprocessor, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_76build_data_preprocessor};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_77build_data_preprocessor(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_X = 0;
  PyObject *__pyx_v_y = 0;
  PyObject *__pyx_v_num_features = 0;
  PyObject *__pyx_v_cat_features = 0;
  PyObject *__pyx_v_custom_transformers = 0;
  PyObject *__pyx_v_label_encoding = 0;
  PyObject *__pyx_v_scaler = 0;
  PyObject *__pyx_v_missing_values = 0;
  PyObject *__pyx_v_impute_strategy = 0;
  PyObject *__pyx_v_feature_interaction = 0;
  PyObject *__pyx_v_dimension_reduction = 0;
  PyObject *__pyx_v_feature_selection = 0;
  PyObject *__pyx_v_balance_classes = 0;
  PyObject *__pyx_v_advanced_imputation = 0;
  CYTHON_UNUSED PyObject *__pyx_v_verbose = 0;
  PyObject *__pyx_v_output_format = 0;
  PyObject *__pyx_v_transform = 0;
  CYTHON_UNUSED PyObject *__pyx_v_kwargs = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("build_data_preprocessor (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  __pyx_v_kwargs = <span class='py_c_api'>PyDict_New</span>(); if (unlikely(!__pyx_v_kwargs)) return NULL;
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_v_kwargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_X,&amp;__pyx_n_s_y,&amp;__pyx_n_s_num_features,&amp;__pyx_n_s_cat_features,&amp;__pyx_n_s_custom_transformers,&amp;__pyx_n_s_label_encoding,&amp;__pyx_n_s_scaler,&amp;__pyx_n_s_missing_values,&amp;__pyx_n_s_impute_strategy,&amp;__pyx_n_s_feature_interaction,&amp;__pyx_n_s_dimension_reduction,&amp;__pyx_n_s_feature_selection,&amp;__pyx_n_s_balance_classes,&amp;__pyx_n_s_advanced_imputation,&amp;__pyx_n_s_verbose,&amp;__pyx_n_s_output_format,&amp;__pyx_n_s_transform,0};
  PyObject* values[17] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};
    __pyx_defaults8 *__pyx_dynamic_args = <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults8, __pyx_self);
/*  */
  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_kwargs);
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_76build_data_preprocessor(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_X, PyObject *__pyx_v_y, PyObject *__pyx_v_num_features, PyObject *__pyx_v_cat_features, PyObject *__pyx_v_custom_transformers, PyObject *__pyx_v_label_encoding, PyObject *__pyx_v_scaler, PyObject *__pyx_v_missing_values, PyObject *__pyx_v_impute_strategy, PyObject *__pyx_v_feature_interaction, PyObject *__pyx_v_dimension_reduction, PyObject *__pyx_v_feature_selection, PyObject *__pyx_v_balance_classes, PyObject *__pyx_v_advanced_imputation, CYTHON_UNUSED PyObject *__pyx_v_verbose, PyObject *__pyx_v_output_format, PyObject *__pyx_v_transform, CYTHON_UNUSED PyObject *__pyx_v_kwargs) {
  PyObject *__pyx_v_sc = NULL;
  PyObject *__pyx_v_numerical_pipeline = NULL;
  PyObject *__pyx_v_categorical_pipeline = NULL;
  PyObject *__pyx_v_preprocessor = NULL;
  PyObject *__pyx_v_name = NULL;
  PyObject *__pyx_v_transformer = NULL;
  PyObject *__pyx_v_steps = NULL;
  PyObject *__pyx_v_pipeline = NULL;
  CYTHON_UNUSED PyObject *__pyx_v_enable_iterative_imputer = NULL;
  PyObject *__pyx_v_IterativeImputer = NULL;
  PyObject *__pyx_v_SMOTE = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__100)
  <span class='trace'>__Pyx_TraceCall</span>("build_data_preprocessor", __pyx_f[0], 3443, 0, <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_num_features);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_cat_features);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_scaler);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_output_format);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.build_data_preprocessor", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_sc);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_numerical_pipeline);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_categorical_pipeline);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_preprocessor);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_name);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_transformer);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_steps);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_pipeline);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_enable_iterative_imputer);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_IterativeImputer);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_SMOTE);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_X);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_num_features);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_cat_features);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_scaler);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_output_format);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3443,0,<span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_ensure_pkg);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3443, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3443,0,<span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_4, __pyx_tuple__134, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3443, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
/*  */
  __pyx_tuple__185 = <span class='py_c_api'>PyTuple_Pack</span>(29, __pyx_n_s_X, __pyx_n_s_y, __pyx_n_s_num_features, __pyx_n_s_cat_features, __pyx_n_s_custom_transformers, __pyx_n_s_label_encoding, __pyx_n_s_scaler, __pyx_n_s_missing_values, __pyx_n_s_impute_strategy, __pyx_n_s_feature_interaction, __pyx_n_s_dimension_reduction, __pyx_n_s_feature_selection, __pyx_n_s_balance_classes, __pyx_n_s_advanced_imputation, __pyx_n_s_verbose, __pyx_n_s_output_format, __pyx_n_s_transform, __pyx_n_s_kwargs, __pyx_n_s_sc, __pyx_n_s_numerical_pipeline, __pyx_n_s_categorical_pipeline, __pyx_n_s_preprocessor, __pyx_n_s_name, __pyx_n_s_transformer, __pyx_n_s_steps, __pyx_n_s_pipeline, __pyx_n_s_enable_iterative_imputer, __pyx_n_s_IterativeImputer, __pyx_n_s_SMOTE);<span class='error_goto'> if (unlikely(!__pyx_tuple__185)) __PYX_ERR(0, 3443, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__185);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__185);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(19);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3443, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_X, __pyx_kp_s_Union_NDArray_DataFrame) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_y, __pyx_kp_s_Optional_ArrayLike) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_num_features, __pyx_kp_s_Optional_List_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_cat_features, __pyx_kp_s_Optional_List_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_custom_transformers, __pyx_kp_s_Optional_List_Tuple_str_Transfor) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_label_encoding, __pyx_kp_s_Union_str_TransformerMixin) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_scaler, __pyx_kp_s_Union_str_TransformerMixin) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_missing_values, __pyx_kp_s_Union_int_float_str_np_nan_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_impute_strategy, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_feature_interaction, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_dimension_reduction, __pyx_kp_s_Optional_Union_str_TransformerMi) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_feature_selection, __pyx_kp_s_Optional_Union_str_TransformerMi) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_balance_classes, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_advanced_imputation, __pyx_kp_s_Optional_TransformerMixin) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_verbose, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_output_format, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_transform, __pyx_n_s_bool) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_kwargs, __pyx_n_s_Any) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return, __pyx_n_s_Any) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_77build_data_preprocessor, 0, __pyx_n_s_build_data_preprocessor, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__100));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3443, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (!<span class='pyx_c_api'>__Pyx_CyFunction_InitDefaults</span>(__pyx_t_4, sizeof(__pyx_defaults8), 1)) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3443,0,<span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_t_2, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3443, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_build_data_preprocessor, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_codeobj__100 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(2, 0, 15, 29, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__185, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_build_data_preprocessor, 3443, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__100)) __PYX_ERR(0, 3443, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3444</span>:     "imblearn",</pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3445</span>:     partial_check=True,</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(3445,0,<span class='error_goto'>__PYX_ERR(0, 3445, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3445, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_partial_check, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3445, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_condition, __pyx_n_u_balance_classes) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3445, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_extra, __pyx_kp_u_Synthetic_Minority_Over_sampling) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3445, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3446</span>:     condition="balance_classes",</pre>
<pre class="cython line score-0">&#xA0;<span class="">3447</span>:     extra= (</pre>
<pre class="cython line score-0">&#xA0;<span class="">3448</span>:         "Synthetic Minority Over-sampling Technique (SMOTE) cannot be used."</pre>
<pre class="cython line score-0">&#xA0;<span class="">3449</span>:         " Note,`imblearn` is actually a shorthand for ``imbalanced-learn``."</pre>
<pre class="cython line score-0">&#xA0;<span class="">3450</span>:         ),</pre>
<pre class="cython line score-0">&#xA0;<span class="">3451</span>:    )</pre>
<pre class="cython line score-0">&#xA0;<span class="">3452</span>: def build_data_preprocessor(</pre>
<pre class="cython line score-0">&#xA0;<span class="">3453</span>:     X: Union [NDArray, DataFrame],</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3454</span>:     y: Optional[ArrayLike] = None, *,</pre>
<pre class='cython code score-2 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3455</span>:     num_features: Optional[List[str]] = None,</pre>
<pre class='cython code score-7 '>  <span class='trace'>__Pyx_TraceLine</span>(3455,0,<span class='error_goto'>__PYX_ERR(0, 3455, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_num_features, Py_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
/*  */
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3456</span>:     cat_features: Optional[List[str]] = None,</pre>
<pre class='cython code score-7 '>  <span class='trace'>__Pyx_TraceLine</span>(3456,0,<span class='error_goto'>__PYX_ERR(0, 3456, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_cat_features, Py_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
/*  */
    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-27" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3457</span>:     custom_transformers: Optional[List[Tuple[str, TransformerMixin]]] = None,</pre>
<pre class='cython code score-27 '>  <span class='trace'>__Pyx_TraceLine</span>(3457,0,<span class='error_goto'>__PYX_ERR(0, 3457, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_custom_transformers, Py_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_label_encoding, ((PyObject*)__pyx_n_u_LabelEncoder)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_scaler, ((PyObject*)__pyx_n_u_StandardScaler)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
/*  */
    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_n_u_LabelEncoder)));
    values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_n_u_StandardScaler)));
    values[7] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(__pyx_dynamic_args-&gt;__pyx_arg_missing_values);
    values[8] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject*)((PyObject*)__pyx_n_u_median)));
    values[9] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
</pre><pre class="cython line score-0">&#xA0;<span class="">3458</span>:     label_encoding: Union[str, TransformerMixin] = 'LabelEncoder',</pre>
<pre class="cython line score-0">&#xA0;<span class="">3459</span>:     scaler: Union[str, TransformerMixin] = 'StandardScaler',</pre>
<pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3460</span>:     missing_values: Union[int, float, str, np.nan, None] = np.nan,</pre>
<pre class='cython code score-12 '>  <span class='trace'>__Pyx_TraceLine</span>(3460,0,<span class='error_goto'>__PYX_ERR(0, 3460, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3460, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_nan);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3460, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults8, __pyx_t_4)-&gt;__pyx_arg_missing_values = __pyx_t_6;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_6);
  __pyx_t_6 = 0;
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsGetter</span>(__pyx_t_4, __pyx_pf_6gofast_5tools_7mlutils_127__defaults__);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_4, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3461</span>:     impute_strategy: str = 'median',</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3462</span>:     feature_interaction: bool = False,</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(3462,0,<span class='error_goto'>__PYX_ERR(0, 3462, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_feature_interaction, ((PyObject *)Py_False)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3463</span>:     dimension_reduction: Optional[Union[str, TransformerMixin]] = None,</pre>
<pre class='cython code score-7 '>  <span class='trace'>__Pyx_TraceLine</span>(3463,0,<span class='error_goto'>__PYX_ERR(0, 3463, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_dimension_reduction, Py_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
/*  */
    values[10] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3464</span>:     feature_selection: Optional[Union[str, TransformerMixin]] = None,</pre>
<pre class='cython code score-9 '>  <span class='trace'>__Pyx_TraceLine</span>(3464,0,<span class='error_goto'>__PYX_ERR(0, 3464, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_feature_selection, Py_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
/*  */
    values[11] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[12] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3465</span>:     balance_classes: bool = False,</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(3465,0,<span class='error_goto'>__PYX_ERR(0, 3465, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_balance_classes, ((PyObject *)Py_False)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
</pre><pre class="cython line score-63" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3466</span>:     advanced_imputation: Optional[TransformerMixin] = None,</pre>
<pre class='cython code score-63 '>  <span class='trace'>__Pyx_TraceLine</span>(3466,0,<span class='error_goto'>__PYX_ERR(0, 3466, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_advanced_imputation, Py_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
/*  */
    values[13] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[14] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    values[15] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject*)((PyObject*)__pyx_n_u_array_2)));
    values[16] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_X)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_y);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L3_error)</span>
        }
      }
      if (kw_args &gt; 0 &amp;&amp; (kw_args &lt;= 15)) {
        Py_ssize_t index;
        for (index = 2; index &lt; 17 &amp;&amp; kw_args &gt; 0; index++) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, *__pyx_pyargnames[index]);
          if (value) { values[index] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, __pyx_v_kwargs, values + 0, kwd_pos_args, "build_data_preprocessor") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_X = values[0];
    __pyx_v_y = values[1];
    __pyx_v_num_features = values[2];
    __pyx_v_cat_features = values[3];
    __pyx_v_custom_transformers = values[4];
    __pyx_v_label_encoding = values[5];
    __pyx_v_scaler = values[6];
    __pyx_v_missing_values = values[7];
    __pyx_v_impute_strategy = ((PyObject*)values[8]);
    __pyx_v_feature_interaction = values[9];
    __pyx_v_dimension_reduction = values[10];
    __pyx_v_feature_selection = values[11];
    __pyx_v_balance_classes = values[12];
    __pyx_v_advanced_imputation = values[13];
    __pyx_v_verbose = values[14];
    __pyx_v_output_format = ((PyObject*)values[15]);
    __pyx_v_transform = values[16];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("build_data_preprocessor", 0, 1, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_kwargs); __pyx_v_kwargs = 0;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.build_data_preprocessor", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_impute_strategy), (&amp;PyUnicode_Type), 0, "impute_strategy", 1))) <span class='error_goto'>__PYX_ERR(0, 3461, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_output_format), (&amp;PyUnicode_Type), 0, "output_format", 1))) <span class='error_goto'>__PYX_ERR(0, 3468, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_76build_data_preprocessor(__pyx_self, __pyx_v_X, __pyx_v_y, __pyx_v_num_features, __pyx_v_cat_features, __pyx_v_custom_transformers, __pyx_v_label_encoding, __pyx_v_scaler, __pyx_v_missing_values, __pyx_v_impute_strategy, __pyx_v_feature_interaction, __pyx_v_dimension_reduction, __pyx_v_feature_selection, __pyx_v_balance_classes, __pyx_v_advanced_imputation, __pyx_v_verbose, __pyx_v_output_format, __pyx_v_transform, __pyx_v_kwargs);
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3467</span>:     verbose: bool = False,</pre>
<pre class='cython code score-10 '>  <span class='trace'>__Pyx_TraceLine</span>(3467,0,<span class='error_goto'>__PYX_ERR(0, 3467, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_verbose, ((PyObject *)Py_False)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_output_format, ((PyObject*)__pyx_n_u_array_2)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3468</span>:     output_format: str = 'array',</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3469</span>:     transform: bool = False,</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(3469,0,<span class='error_goto'>__PYX_ERR(0, 3469, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_transform, ((PyObject *)Py_False)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3443, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3470</span>:     **kwargs: Any</pre>
<pre class="cython line score-0">&#xA0;<span class="">3471</span>: ) -&gt; Any:</pre>
<pre class="cython line score-0">&#xA0;<span class="">3472</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">3473</span>:     Create a preprocessing pipeline for data transformation and feature engineering.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3474</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3475</span>:     Function constructs a pipeline to preprocess data for machine learning tasks,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3476</span>:     accommodating a variety of transformations including scaling, encoding,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3477</span>:     and dimensionality reduction. It supports both numerical and categorical data,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3478</span>:     and can incorporate custom transformations.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3479</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3480</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">3481</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3482</span>:     X : np.ndarray or DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">3483</span>:         Input features dataframe or arraylike. Must be two dimensional array.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3484</span>:     y : array-like, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3485</span>:         Target variable. Required for supervised learning tasks.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3486</span>:     num_features : list of str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3487</span>:         List of numerical feature names. If None, determined automatically.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3488</span>:     cat_features : list of str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3489</span>:         List of categorical feature names. If None, determined automatically.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3490</span>:     custom_transformers : list of tuples, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3491</span>:         Custom transformers to be included in the pipeline. Each tuple should</pre>
<pre class="cython line score-0">&#xA0;<span class="">3492</span>:         contain ('name', transformer_instance).</pre>
<pre class="cython line score-0">&#xA0;<span class="">3493</span>:     label_encoding : str or transformer, default 'LabelEncoder'</pre>
<pre class="cython line score-0">&#xA0;<span class="">3494</span>:         Encoder for the target variable. Accepts standard scikit-learn encoders</pre>
<pre class="cython line score-0">&#xA0;<span class="">3495</span>:         or custom encoder objects.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3496</span>:     scaler : str or transformer, default 'StandardScaler'</pre>
<pre class="cython line score-0">&#xA0;<span class="">3497</span>:         Scaler for numerical features. Accepts standard scikit-learn scalers</pre>
<pre class="cython line score-0">&#xA0;<span class="">3498</span>:         or custom scaler objects.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3499</span>:     missing_values : int, float, str, np.nan, None, default np.nan</pre>
<pre class="cython line score-0">&#xA0;<span class="">3500</span>:         Placeholder for missing values for imputation.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3501</span>:     impute_strategy : str, default 'median'</pre>
<pre class="cython line score-0">&#xA0;<span class="">3502</span>:         Imputation strategy. Options: 'mean', 'median', 'most_frequent', 'constant'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3503</span>:     feature_interaction : bool, default False</pre>
<pre class="cython line score-0">&#xA0;<span class="">3504</span>:         If True, generate polynomial and interaction features.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3505</span>:     dimension_reduction : str or transformer, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3506</span>:         Dimensionality reduction technique. Accepts 'PCA', 't-SNE', or custom object.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3507</span>:     feature_selection : str or transformer, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3508</span>:         Feature selection method. Accepts 'SelectKBest', 'SelectFromModel', or custom object.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3509</span>:     balance_classes : bool, default False</pre>
<pre class="cython line score-0">&#xA0;<span class="">3510</span>:         If True, balance classes in classification tasks.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3511</span>:     advanced_imputation : transformer, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3512</span>:         Advanced imputation technique like KNNImputer or IterativeImputer.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3513</span>:     verbose : bool, default False</pre>
<pre class="cython line score-0">&#xA0;<span class="">3514</span>:         Enable verbose output.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3515</span>:     output_format : str, default 'array'</pre>
<pre class="cython line score-0">&#xA0;<span class="">3516</span>:         Desired output format: 'array' or 'dataframe'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3517</span>:     transform : bool, default False</pre>
<pre class="cython line score-0">&#xA0;<span class="">3518</span>:         If True, apply the pipeline to the data immediately and return transformed data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3519</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3520</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">3521</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3522</span>:     full_pipeline : Pipeline or (X_transformed, y_transformed)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3523</span>:         The constructed preprocessing pipeline, or transformed data if `transform` is True.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3524</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3525</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">3526</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3527</span>:     &gt;&gt;&gt; from gofast.tools.mlutils import build_data_preprocessor</pre>
<pre class="cython line score-0">&#xA0;<span class="">3528</span>:     &gt;&gt;&gt; from gofast.datasets import load_hlogs</pre>
<pre class="cython line score-0">&#xA0;<span class="">3529</span>:     &gt;&gt;&gt; X, y = load_hlogs(as_frame=True, return_X_y=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3530</span>:     &gt;&gt;&gt; pipeline = build_data_preprocessor(X, y, scaler='RobustScaler')</pre>
<pre class="cython line score-0">&#xA0;<span class="">3531</span>:     &gt;&gt;&gt; X_transformed = pipeline.fit_transform(X)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3532</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3533</span>:     """</pre>
<pre class="cython line score-18" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3534</span>:     sc= {"StandardScaler": StandardScaler ,"MinMaxScaler": MinMaxScaler ,</pre>
<pre class='cython code score-18 '>  <span class='trace'>__Pyx_TraceLine</span>(3534,0,<span class='error_goto'>__PYX_ERR(0, 3534, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3534, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_StandardScaler);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3534, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_u_StandardScaler, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3534, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_MinMaxScaler);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3534, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_u_MinMaxScaler, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3534, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3535</span>:          "Normalizer":Normalizer , "RobustScaler":RobustScaler}</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(3535,0,<span class='error_goto'>__PYX_ERR(0, 3535, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_Normalizer);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3535, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_u_Normalizer, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3534, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_RobustScaler);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3535, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_u_RobustScaler, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3534, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_sc = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3536</span>: </pre>
<pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3537</span>:     if not isinstance (X, pd.DataFrame):</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(3537,0,<span class='error_goto'>__PYX_ERR(0, 3537, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3537, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3537, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_X, __pyx_t_2);<span class='error_goto'> if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(0, 3537, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_4 = (!__pyx_t_3);
  if (__pyx_t_4) {
/*  */
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">3538</span>:         # create fake dataframe for handling columns features</pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3539</span>:         X= pd.DataFrame(X)</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(3539,0,<span class='error_goto'>__PYX_ERR(0, 3539, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3539, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3539, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_v_X};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3539, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_X, __pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3540</span>:     # assert scaler value</pre>
<pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3541</span>:     if get_estimator_name (scaler) in sc.keys():</pre>
<pre class='cython code score-22 '>  <span class='trace'>__Pyx_TraceLine</span>(3541,0,<span class='error_goto'>__PYX_ERR(0, 3541, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_get_estimator_name);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3541, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_1 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
    __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
    if (likely(__pyx_t_1)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_v_scaler};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3541, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  }
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyDict_Keys</span>(__pyx_v_sc);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3541, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PySequence_ContainsTF</span>(__pyx_t_2, __pyx_t_5, Py_EQ)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3541, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  if (__pyx_t_4) {
/*  */
  }
</pre><pre class="cython line score-34" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3542</span>:         scaler = sc.get (get_estimator_name(scaler ))()</pre>
<pre class='cython code score-34 '>    <span class='trace'>__Pyx_TraceLine</span>(3542,0,<span class='error_goto'>__PYX_ERR(0, 3542, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_get_estimator_name);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3542, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_7 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_7)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_7, __pyx_v_scaler};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3542, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_GetItemDefault</span>(__pyx_v_sc, __pyx_t_2, Py_None);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3542, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_2, NULL};
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 3542, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_scaler, __pyx_t_5);
    __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3543</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3544</span>:     # Define numerical and categorical pipelines</pre>
<pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3545</span>:     numerical_pipeline = Pipeline([</pre>
<pre class='cython code score-26 '>  <span class='trace'>__Pyx_TraceLine</span>(3545,0,<span class='error_goto'>__PYX_ERR(0, 3545, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_Pipeline);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3545, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3545,0,<span class='error_goto'>__PYX_ERR(0, 3545, __pyx_L1_error)</span>)
  __pyx_t_8 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3545, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_7);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_8, 0, __pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 3545, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_8, 1, __pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3545, __pyx_L1_error)</span>;
  __pyx_t_7 = 0;
  __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_t_8};
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 3545, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  __pyx_v_numerical_pipeline = __pyx_t_5;
  __pyx_t_5 = 0;
</pre><pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3546</span>:         ('imputer', SimpleImputer(strategy=impute_strategy, missing_values=missing_values)),</pre>
<pre class='cython code score-28 '>  <span class='trace'>__Pyx_TraceLine</span>(3546,0,<span class='error_goto'>__PYX_ERR(0, 3546, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_SimpleImputer);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3546, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3546, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_7, __pyx_n_s_strategy, __pyx_v_impute_strategy) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3546, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_7, __pyx_n_s_missing_values, __pyx_v_missing_values) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3546, __pyx_L1_error)</span>
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_empty_tuple, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3546, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  __pyx_t_7 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3546, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_imputer);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_imputer);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 0, __pyx_n_u_imputer)) <span class='error_goto'>__PYX_ERR(0, 3546, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_8);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 1, __pyx_t_8)) <span class='error_goto'>__PYX_ERR(0, 3546, __pyx_L1_error)</span>;
  __pyx_t_8 = 0;
</pre><pre class="cython line score-29" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3547</span>:         ('scaler', StandardScaler() if scaler == 'StandardScaler' else scaler)</pre>
<pre class='cython code score-29 '>  <span class='trace'>__Pyx_TraceLine</span>(3547,0,<span class='error_goto'>__PYX_ERR(0, 3547, __pyx_L1_error)</span>)
  __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_scaler, __pyx_n_u_StandardScaler, Py_EQ)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3547, __pyx_L1_error)</span>
  if (__pyx_t_4) {
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_9, __pyx_n_s_StandardScaler);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3547, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_10 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
      __pyx_t_10 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
      if (likely(__pyx_t_10)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_10);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_10, NULL};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3547, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    }
    __pyx_t_8 = __pyx_t_2;
    __pyx_t_2 = 0;
  } else {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_scaler);
    __pyx_t_8 = __pyx_v_scaler;
  }
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3547, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_scaler);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_scaler);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_u_scaler)) <span class='error_goto'>__PYX_ERR(0, 3547, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_8);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_8)) <span class='error_goto'>__PYX_ERR(0, 3547, __pyx_L1_error)</span>;
  __pyx_t_8 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3548</span>:     ])</pre>
<pre class="cython line score-0">&#xA0;<span class="">3549</span>: </pre>
<pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3550</span>:     categorical_pipeline = Pipeline([</pre>
<pre class='cython code score-26 '>  <span class='trace'>__Pyx_TraceLine</span>(3550,0,<span class='error_goto'>__PYX_ERR(0, 3550, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_Pipeline);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3550, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3550,0,<span class='error_goto'>__PYX_ERR(0, 3550, __pyx_L1_error)</span>)
  __pyx_t_7 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3550, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_7, 0, __pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3550, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_8);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_7, 1, __pyx_t_8)) <span class='error_goto'>__PYX_ERR(0, 3550, __pyx_L1_error)</span>;
  __pyx_t_2 = 0;
  __pyx_t_8 = 0;
  __pyx_t_8 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_8)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_8, __pyx_t_7};
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 3550, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  __pyx_v_categorical_pipeline = __pyx_t_5;
  __pyx_t_5 = 0;
</pre><pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3551</span>:         ('imputer', SimpleImputer(strategy='most_frequent', missing_values=missing_values)),</pre>
<pre class='cython code score-28 '>  <span class='trace'>__Pyx_TraceLine</span>(3551,0,<span class='error_goto'>__PYX_ERR(0, 3551, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_8, __pyx_n_s_SimpleImputer);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3551, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3551, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_strategy, __pyx_n_u_most_frequent) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3551, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_missing_values, __pyx_v_missing_values) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3551, __pyx_L1_error)</span>
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_8, __pyx_empty_tuple, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3551, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3551, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_imputer);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_imputer);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_u_imputer)) <span class='error_goto'>__PYX_ERR(0, 3551, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_7);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 3551, __pyx_L1_error)</span>;
  __pyx_t_7 = 0;
</pre><pre class="cython line score-29" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3552</span>:         ('encoder', OneHotEncoder() if label_encoding == 'LabelEncoder' else label_encoding)</pre>
<pre class='cython code score-29 '>  <span class='trace'>__Pyx_TraceLine</span>(3552,0,<span class='error_goto'>__PYX_ERR(0, 3552, __pyx_L1_error)</span>)
  __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_label_encoding, __pyx_n_u_LabelEncoder, Py_EQ)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3552, __pyx_L1_error)</span>
  if (__pyx_t_4) {
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_9, __pyx_n_s_OneHotEncoder);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3552, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_10 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
      __pyx_t_10 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
      if (likely(__pyx_t_10)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_10);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_10, NULL};
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      if (unlikely(!__pyx_t_8)) <span class='error_goto'>__PYX_ERR(0, 3552, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    }
    __pyx_t_7 = __pyx_t_8;
    __pyx_t_8 = 0;
  } else {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_label_encoding);
    __pyx_t_7 = __pyx_v_label_encoding;
  }
  __pyx_t_8 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3552, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_encoder);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_encoder);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_8, 0, __pyx_n_u_encoder)) <span class='error_goto'>__PYX_ERR(0, 3552, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_7);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_8, 1, __pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 3552, __pyx_L1_error)</span>;
  __pyx_t_7 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3553</span>:     ])</pre>
<pre class="cython line score-0">&#xA0;<span class="">3554</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3555</span>:     # Determine automatic feature selection if not provided</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3556</span>:     if num_features is None and cat_features is None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(3556,0,<span class='error_goto'>__PYX_ERR(0, 3556, __pyx_L1_error)</span>)
  __pyx_t_3 = (__pyx_v_num_features == Py_None);
  if (__pyx_t_3) {
  } else {
    __pyx_t_4 = __pyx_t_3;
    goto __pyx_L6_bool_binop_done;
  }
  __pyx_t_3 = (__pyx_v_cat_features == Py_None);
  __pyx_t_4 = __pyx_t_3;
  __pyx_L6_bool_binop_done:;
  if (__pyx_t_4) {
/*  */
  }
</pre><pre class="cython line score-40" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3557</span>:         num_features = make_column_selector(dtype_include=['int', 'float'])(X)</pre>
<pre class='cython code score-40 '>    <span class='trace'>__Pyx_TraceLine</span>(3557,0,<span class='error_goto'>__PYX_ERR(0, 3557, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_make_column_selector);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3557, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3557, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    __pyx_t_8 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3557, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_int);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_int);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_8, 0, __pyx_n_u_int)) <span class='error_goto'>__PYX_ERR(0, 3557, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_float);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_float);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_8, 1, __pyx_n_u_float)) <span class='error_goto'>__PYX_ERR(0, 3557, __pyx_L1_error)</span>;
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_7, __pyx_n_s_dtype_include, __pyx_t_8) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3557, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_empty_tuple, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3557, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_7 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_8))) {
      __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_8);
      if (likely(__pyx_t_7)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_8, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_7, __pyx_v_X};
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_8, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 3557, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_num_features, __pyx_t_5);
    __pyx_t_5 = 0;
</pre><pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3558</span>:         cat_features = make_column_selector(dtype_include='object')(X)</pre>
<pre class='cython code score-28 '>    <span class='trace'>__Pyx_TraceLine</span>(3558,0,<span class='error_goto'>__PYX_ERR(0, 3558, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_8, __pyx_n_s_make_column_selector);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3558, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3558, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_7, __pyx_n_s_dtype_include, __pyx_n_u_object) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3558, __pyx_L1_error)</span>
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_8, __pyx_empty_tuple, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3558, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    __pyx_t_7 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_7)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_7, __pyx_v_X};
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 3558, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_cat_features, __pyx_t_5);
    __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3559</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3560</span>:     # Feature Union for numerical and categorical features</pre>
<pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3561</span>:     preprocessor = ColumnTransformer(</pre>
<pre class='cython code score-6 '>  <span class='trace'>__Pyx_TraceLine</span>(3561,0,<span class='error_goto'>__PYX_ERR(0, 3561, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_ColumnTransformer);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3561, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3561,0,<span class='error_goto'>__PYX_ERR(0, 3561, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_empty_tuple, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3561, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_preprocessor = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3562</span>:         transformers=[</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(3562,0,<span class='error_goto'>__PYX_ERR(0, 3562, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3562, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3562,0,<span class='error_goto'>__PYX_ERR(0, 3562, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3562, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_7);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 3562, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_8);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_8)) <span class='error_goto'>__PYX_ERR(0, 3562, __pyx_L1_error)</span>;
  __pyx_t_7 = 0;
  __pyx_t_8 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_transformers, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3562, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3563</span>:             ('num', numerical_pipeline, num_features),</pre>
<pre class='cython code score-14 '>  <span class='trace'>__Pyx_TraceLine</span>(3563,0,<span class='error_goto'>__PYX_ERR(0, 3563, __pyx_L1_error)</span>)
  __pyx_t_7 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3563, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_num);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_num);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 0, __pyx_n_u_num)) <span class='error_goto'>__PYX_ERR(0, 3563, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_numerical_pipeline);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_numerical_pipeline);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 1, __pyx_v_numerical_pipeline)) <span class='error_goto'>__PYX_ERR(0, 3563, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_num_features);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_num_features);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 2, __pyx_v_num_features)) <span class='error_goto'>__PYX_ERR(0, 3563, __pyx_L1_error)</span>;
</pre><pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3564</span>:             ('cat', categorical_pipeline, cat_features)</pre>
<pre class='cython code score-14 '>  <span class='trace'>__Pyx_TraceLine</span>(3564,0,<span class='error_goto'>__PYX_ERR(0, 3564, __pyx_L1_error)</span>)
  __pyx_t_8 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3564, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_cat);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_cat);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_8, 0, __pyx_n_u_cat)) <span class='error_goto'>__PYX_ERR(0, 3564, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_categorical_pipeline);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_categorical_pipeline);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_8, 1, __pyx_v_categorical_pipeline)) <span class='error_goto'>__PYX_ERR(0, 3564, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_cat_features);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_cat_features);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_8, 2, __pyx_v_cat_features)) <span class='error_goto'>__PYX_ERR(0, 3564, __pyx_L1_error)</span>;
</pre><pre class="cython line score-0">&#xA0;<span class="">3565</span>:         ])</pre>
<pre class="cython line score-0">&#xA0;<span class="">3566</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3567</span>:     # Add custom transformers if any</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3568</span>:     if custom_transformers:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3568,0,<span class='error_goto'>__PYX_ERR(0, 3568, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_custom_transformers); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3568, __pyx_L1_error)</span>
  if (__pyx_t_4) {
/*  */
  }
</pre><pre class="cython line score-96" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3569</span>:         for name, transformer in custom_transformers:</pre>
<pre class='cython code score-96 '>    <span class='trace'>__Pyx_TraceLine</span>(3569,0,<span class='error_goto'>__PYX_ERR(0, 3569, __pyx_L1_error)</span>)
    if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_v_custom_transformers)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_v_custom_transformers)) {
      __pyx_t_2 = __pyx_v_custom_transformers; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      __pyx_t_11 = 0;
      __pyx_t_12 = NULL;
    } else {
      __pyx_t_11 = -1; __pyx_t_2 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_v_custom_transformers);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3569, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 3569, __pyx_L1_error)</span>
    }
    for (;;) {
      if (likely(!__pyx_t_12)) {
        if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_2))) {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_2);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3569, __pyx_L1_error)</span>
            #endif
            if (__pyx_t_11 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_1 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_2, __pyx_t_11); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1); __pyx_t_11++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3569, __pyx_L1_error)</span>
          #else
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_2, __pyx_t_11); __pyx_t_11++;<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3569, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          #endif
        } else {
          {
            Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_2);
            #if !CYTHON_ASSUME_SAFE_MACROS
            if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3569, __pyx_L1_error)</span>
            #endif
            if (__pyx_t_11 &gt;= __pyx_temp) break;
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          __pyx_t_1 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_2, __pyx_t_11); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1); __pyx_t_11++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3569, __pyx_L1_error)</span>
          #else
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_2, __pyx_t_11); __pyx_t_11++;<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3569, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          #endif
        }
      } else {
        __pyx_t_1 = __pyx_t_12(__pyx_t_2);
        if (unlikely(!__pyx_t_1)) {
          PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
          if (exc_type) {
            if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
            else <span class='error_goto'>__PYX_ERR(0, 3569, __pyx_L1_error)</span>
          }
          break;
        }
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      }
      if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_1))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
        PyObject* sequence = __pyx_t_1;
        Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
        if (unlikely(size != 2)) {
          if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
          else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
          <span class='error_goto'>__PYX_ERR(0, 3569, __pyx_L1_error)</span>
        }
        #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
        if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
          __pyx_t_5 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
          __pyx_t_8 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
        } else {
          __pyx_t_5 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
          __pyx_t_8 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
        }
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
        #else
        __pyx_t_5 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3569, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        __pyx_t_8 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3569, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
        #endif
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      } else {
        Py_ssize_t index = -1;
        __pyx_t_7 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3569, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        __pyx_t_13 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_7);
        index = 0; __pyx_t_5 = __pyx_t_13(__pyx_t_7); if (unlikely(!__pyx_t_5)) goto __pyx_L11_unpacking_failed;
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
        index = 1; __pyx_t_8 = __pyx_t_13(__pyx_t_7); if (unlikely(!__pyx_t_8)) goto __pyx_L11_unpacking_failed;
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
        if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_13(__pyx_t_7), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3569, __pyx_L1_error)</span>
        __pyx_t_13 = NULL;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        goto __pyx_L12_unpacking_done;
        __pyx_L11_unpacking_failed:;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        __pyx_t_13 = NULL;
        if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
        <span class='error_goto'>__PYX_ERR(0, 3569, __pyx_L1_error)</span>
        __pyx_L12_unpacking_done:;
      }
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_name, __pyx_t_5);
      __pyx_t_5 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_transformer, __pyx_t_8);
      __pyx_t_8 = 0;
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(3569,0,<span class='error_goto'>__PYX_ERR(0, 3569, __pyx_L1_error)</span>)
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3570</span>:             preprocessor.named_transformers_[name] = transformer</pre>
<pre class='cython code score-8 '>      <span class='trace'>__Pyx_TraceLine</span>(3570,0,<span class='error_goto'>__PYX_ERR(0, 3570, __pyx_L1_error)</span>)
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_preprocessor, __pyx_n_s_named_transformers);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3570, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      if (unlikely((<span class='py_c_api'>PyObject_SetItem</span>(__pyx_t_1, __pyx_v_name, __pyx_v_transformer) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3570, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3571</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3572</span>:     # Feature interaction, selection, and dimension reduction</pre>
<pre class="cython line score-18" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3573</span>:     steps = [('preprocessor', preprocessor)]</pre>
<pre class='cython code score-18 '>  <span class='trace'>__Pyx_TraceLine</span>(3573,0,<span class='error_goto'>__PYX_ERR(0, 3573, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3573, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_preprocessor);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_preprocessor);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_u_preprocessor)) <span class='error_goto'>__PYX_ERR(0, 3573, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_preprocessor);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_preprocessor);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_v_preprocessor)) <span class='error_goto'>__PYX_ERR(0, 3573, __pyx_L1_error)</span>;
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3573, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3573, __pyx_L1_error)</span>;
  __pyx_t_2 = 0;
  __pyx_v_steps = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3574</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3575</span>:     if feature_interaction:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3575,0,<span class='error_goto'>__PYX_ERR(0, 3575, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_feature_interaction); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3575, __pyx_L1_error)</span>
  if (__pyx_t_4) {
/*  */
  }
</pre><pre class="cython line score-29" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3576</span>:         steps.append(('interaction', PolynomialFeatures()))</pre>
<pre class='cython code score-29 '>    <span class='trace'>__Pyx_TraceLine</span>(3576,0,<span class='error_goto'>__PYX_ERR(0, 3576, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_PolynomialFeatures);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3576, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_8 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_8)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_8, NULL};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3576, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3576, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_interaction);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_interaction);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_u_interaction)) <span class='error_goto'>__PYX_ERR(0, 3576, __pyx_L1_error)</span>;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3576, __pyx_L1_error)</span>;
    __pyx_t_1 = 0;
    __pyx_t_14 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_v_steps, __pyx_t_2);<span class='error_goto'> if (unlikely(__pyx_t_14 == ((int)-1))) __PYX_ERR(0, 3576, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3577</span>:     if feature_selection:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3577,0,<span class='error_goto'>__PYX_ERR(0, 3577, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_feature_selection); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3577, __pyx_L1_error)</span>
  if (__pyx_t_4) {
/*  */
  }
</pre><pre class="cython line score-29" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3578</span>:         steps.append(('feature_selection', SelectKBest()</pre>
<pre class='cython code score-29 '>      <span class='trace'>__Pyx_TraceLine</span>(3578,0,<span class='error_goto'>__PYX_ERR(0, 3578, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_8, __pyx_n_s_SelectKBest);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3578, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      __pyx_t_5 = NULL;
      __pyx_t_6 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_8))) {
        __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_8);
        if (likely(__pyx_t_5)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_8);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_8, function);
          __pyx_t_6 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_5, NULL};
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_8, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3578, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      }
      __pyx_t_2 = __pyx_t_1;
      __pyx_t_1 = 0;
    } else {
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(3578,0,<span class='error_goto'>__PYX_ERR(0, 3578, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3578, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_feature_selection);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_feature_selection);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_n_u_feature_selection)) <span class='error_goto'>__PYX_ERR(0, 3578, __pyx_L1_error)</span>;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3578, __pyx_L1_error)</span>;
    __pyx_t_2 = 0;
    __pyx_t_14 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_v_steps, __pyx_t_1);<span class='error_goto'> if (unlikely(__pyx_t_14 == ((int)-1))) __PYX_ERR(0, 3578, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3579</span>:                       if feature_selection == 'SelectKBest' else feature_selection))</pre>
<pre class='cython code score-3 '>    <span class='trace'>__Pyx_TraceLine</span>(3579,0,<span class='error_goto'>__PYX_ERR(0, 3579, __pyx_L1_error)</span>)
    __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_feature_selection, __pyx_n_u_SelectKBest, Py_EQ)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3579, __pyx_L1_error)</span>
    if (__pyx_t_4) {
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(3579,0,<span class='error_goto'>__PYX_ERR(0, 3579, __pyx_L1_error)</span>)
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_feature_selection);
      __pyx_t_2 = __pyx_v_feature_selection;
    }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3580</span>:     if dimension_reduction:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3580,0,<span class='error_goto'>__PYX_ERR(0, 3580, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_dimension_reduction); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3580, __pyx_L1_error)</span>
  if (__pyx_t_4) {
/*  */
  }
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3581</span>:         steps.append(('dim_reduction', PCA() if dimension_reduction == 'PCA'</pre>
<pre class='cython code score-31 '>    <span class='trace'>__Pyx_TraceLine</span>(3581,0,<span class='error_goto'>__PYX_ERR(0, 3581, __pyx_L1_error)</span>)
    __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_dimension_reduction, __pyx_n_u_PCA, Py_EQ)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3581, __pyx_L1_error)</span>
    if (__pyx_t_4) {
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_8, __pyx_n_s_PCA);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3581, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      __pyx_t_5 = NULL;
      __pyx_t_6 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_8))) {
        __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_8);
        if (likely(__pyx_t_5)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_8);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_8, function);
          __pyx_t_6 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_5, NULL};
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_8, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3581, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      }
      __pyx_t_1 = __pyx_t_2;
      __pyx_t_2 = 0;
    } else {
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(3581,0,<span class='error_goto'>__PYX_ERR(0, 3581, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3581, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_dim_reduction);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_dim_reduction);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_u_dim_reduction)) <span class='error_goto'>__PYX_ERR(0, 3581, __pyx_L1_error)</span>;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3581, __pyx_L1_error)</span>;
    __pyx_t_1 = 0;
    __pyx_t_14 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_v_steps, __pyx_t_2);<span class='error_goto'> if (unlikely(__pyx_t_14 == ((int)-1))) __PYX_ERR(0, 3581, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3582</span>:                       else dimension_reduction))</pre>
<pre class='cython code score-1 '>      <span class='trace'>__Pyx_TraceLine</span>(3582,0,<span class='error_goto'>__PYX_ERR(0, 3582, __pyx_L1_error)</span>)
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_dimension_reduction);
      __pyx_t_1 = __pyx_v_dimension_reduction;
    }
</pre><pre class="cython line score-0">&#xA0;<span class="">3583</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3584</span>:     # Final pipeline</pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3585</span>:     pipeline = Pipeline(steps)</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(3585,0,<span class='error_goto'>__PYX_ERR(0, 3585, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_Pipeline);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3585, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_8 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_8)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_8, __pyx_v_steps};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3585, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  __pyx_v_pipeline = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3586</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3587</span>:    # Advanced imputation logic if required</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3588</span>:     if advanced_imputation:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3588,0,<span class='error_goto'>__PYX_ERR(0, 3588, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_advanced_imputation); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3588, __pyx_L1_error)</span>
  if (__pyx_t_4) {
/*  */
  }
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3589</span>:         from sklearn.experimental import enable_iterative_imputer # noqa</pre>
<pre class='cython code score-16 '>    <span class='trace'>__Pyx_TraceLine</span>(3589,0,<span class='error_goto'>__PYX_ERR(0, 3589, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3589, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_enable_iterative_imputer);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_enable_iterative_imputer);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_enable_iterative_imputer)) <span class='error_goto'>__PYX_ERR(0, 3589, __pyx_L1_error)</span>;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_sklearn_experimental, __pyx_t_2, 0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3589, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_1, __pyx_n_s_enable_iterative_imputer);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3589, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
    __pyx_v_enable_iterative_imputer = __pyx_t_2;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3590</span>:         from sklearn.impute import IterativeImputer</pre>
<pre class='cython code score-16 '>    <span class='trace'>__Pyx_TraceLine</span>(3590,0,<span class='error_goto'>__PYX_ERR(0, 3590, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3590, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_IterativeImputer);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_IterativeImputer);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_n_s_IterativeImputer)) <span class='error_goto'>__PYX_ERR(0, 3590, __pyx_L1_error)</span>;
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_sklearn_impute, __pyx_t_1, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3590, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_IterativeImputer);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3590, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    __pyx_v_IterativeImputer = __pyx_t_1;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3591</span>:         if advanced_imputation == 'IterativeImputer':</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(3591,0,<span class='error_goto'>__PYX_ERR(0, 3591, __pyx_L1_error)</span>)
    __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_advanced_imputation, __pyx_n_u_IterativeImputer, Py_EQ)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3591, __pyx_L1_error)</span>
    if (__pyx_t_4) {
/*  */
      goto __pyx_L18;
    }
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3592</span>:             steps.insert(0, ('advanced_imputer', IterativeImputer(</pre>
<pre class='cython code score-19 '>      <span class='trace'>__Pyx_TraceLine</span>(3592,0,<span class='error_goto'>__PYX_ERR(0, 3592, __pyx_L1_error)</span>)
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_v_IterativeImputer, __pyx_empty_tuple, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3592, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3592, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_advanced_imputer);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_advanced_imputer);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_u_advanced_imputer)) <span class='error_goto'>__PYX_ERR(0, 3592, __pyx_L1_error)</span>;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3592, __pyx_L1_error)</span>;
      __pyx_t_1 = 0;
      __pyx_t_14 = <span class='py_c_api'>PyList_Insert</span>(__pyx_v_steps, 0, __pyx_t_2);<span class='error_goto'> if (unlikely(__pyx_t_14 == ((int)-1))) __PYX_ERR(0, 3592, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-29" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3593</span>:                 estimator=RandomForestClassifier(), random_state=42)))</pre>
<pre class='cython code score-29 '>      <span class='trace'>__Pyx_TraceLine</span>(3593,0,<span class='error_goto'>__PYX_ERR(0, 3593, __pyx_L1_error)</span>)
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3593, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_8, __pyx_n_s_RandomForestClassifier);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3593, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      __pyx_t_5 = NULL;
      __pyx_t_6 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_8))) {
        __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_8);
        if (likely(__pyx_t_5)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_8);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_8, function);
          __pyx_t_6 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_5, NULL};
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_8, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3593, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      }
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_estimator, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3593, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_random_state, __pyx_int_42) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3593, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3594</span>:         else:</pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3595</span>:             steps.insert(0, ('advanced_imputer', advanced_imputation))</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(3595,0,<span class='error_goto'>__PYX_ERR(0, 3595, __pyx_L1_error)</span>)
    /*else*/ {
      __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3595, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_advanced_imputer);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_advanced_imputer);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_u_advanced_imputer)) <span class='error_goto'>__PYX_ERR(0, 3595, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_advanced_imputation);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_advanced_imputation);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_v_advanced_imputation)) <span class='error_goto'>__PYX_ERR(0, 3595, __pyx_L1_error)</span>;
      __pyx_t_14 = <span class='py_c_api'>PyList_Insert</span>(__pyx_v_steps, 0, __pyx_t_2);<span class='error_goto'> if (unlikely(__pyx_t_14 == ((int)-1))) __PYX_ERR(0, 3595, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    __pyx_L18:;
</pre><pre class="cython line score-0">&#xA0;<span class="">3596</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3597</span>:     # Final pipeline before class balancing</pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3598</span>:     pipeline = Pipeline(steps)</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(3598,0,<span class='error_goto'>__PYX_ERR(0, 3598, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_Pipeline);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3598, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_8 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
    __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
    if (likely(__pyx_t_8)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_8, __pyx_v_steps};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3598, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_pipeline, __pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3599</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3600</span>:     # Class balancing logic if required</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3601</span>:     if balance_classes and y is not None:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3601,0,<span class='error_goto'>__PYX_ERR(0, 3601, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_balance_classes); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3601, __pyx_L1_error)</span>
  if (__pyx_t_3) {
  } else {
    __pyx_t_4 = __pyx_t_3;
    goto __pyx_L20_bool_binop_done;
  }
  __pyx_t_3 = (__pyx_v_y != Py_None);
  __pyx_t_4 = __pyx_t_3;
  __pyx_L20_bool_binop_done:;
  if (__pyx_t_4) {
/*  */
  }
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3602</span>:         if str(balance_classes).upper() == 'SMOTE':</pre>
<pre class='cython code score-22 '>    <span class='trace'>__Pyx_TraceLine</span>(3602,0,<span class='error_goto'>__PYX_ERR(0, 3602, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Str</span>(__pyx_v_balance_classes);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3602, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_upper);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3602, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = NULL;
    __pyx_t_6 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_8))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_8);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_8, function);
        __pyx_t_6 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, NULL};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_8, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3602, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    }
    __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_2, __pyx_n_u_SMOTE, Py_EQ)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3602, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (__pyx_t_4) {
/*  */
    }
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3603</span>:             from imblearn.over_sampling import SMOTE</pre>
<pre class='cython code score-16 '>      <span class='trace'>__Pyx_TraceLine</span>(3603,0,<span class='error_goto'>__PYX_ERR(0, 3603, __pyx_L1_error)</span>)
      __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3603, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_SMOTE);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_SMOTE);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_n_s_SMOTE)) <span class='error_goto'>__PYX_ERR(0, 3603, __pyx_L1_error)</span>;
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_imblearn_over_sampling, __pyx_t_2, 0);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3603, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_8, __pyx_n_s_SMOTE);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3603, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      __pyx_v_SMOTE = __pyx_t_2;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3604</span>:             # Note: SMOTE works on numerical data, so it's applied after initial pipeline</pre>
<pre class="cython line score-38" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3605</span>:             pipeline = Pipeline([('preprocessing', pipeline), (</pre>
<pre class='cython code score-38 '>      <span class='trace'>__Pyx_TraceLine</span>(3605,0,<span class='error_goto'>__PYX_ERR(0, 3605, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_Pipeline);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3605, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3605, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_preprocessing);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_preprocessing);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_n_u_preprocessing)) <span class='error_goto'>__PYX_ERR(0, 3605, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_pipeline);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_pipeline);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_v_pipeline)) <span class='error_goto'>__PYX_ERR(0, 3605, __pyx_L1_error)</span>;
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(3605,0,<span class='error_goto'>__PYX_ERR(0, 3605, __pyx_L1_error)</span>)
      __pyx_t_7 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3605, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_7, 0, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3605, __pyx_L1_error)</span>;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_5);
      if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_7, 1, __pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 3605, __pyx_L1_error)</span>;
      __pyx_t_1 = 0;
      __pyx_t_5 = 0;
      __pyx_t_5 = NULL;
      __pyx_t_6 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
        __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
        if (likely(__pyx_t_5)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
          __pyx_t_6 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_t_7};
        __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        if (unlikely(!__pyx_t_8)) <span class='error_goto'>__PYX_ERR(0, 3605, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_pipeline, __pyx_t_8);
      __pyx_t_8 = 0;
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3606</span>:                 'smote', SMOTE(random_state=42))])</pre>
<pre class='cython code score-20 '>      <span class='trace'>__Pyx_TraceLine</span>(3606,0,<span class='error_goto'>__PYX_ERR(0, 3606, __pyx_L1_error)</span>)
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3606, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_random_state, __pyx_int_42) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3606, __pyx_L1_error)</span>
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_v_SMOTE, __pyx_empty_tuple, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3606, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3606, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_smote);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_smote);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_n_u_smote)) <span class='error_goto'>__PYX_ERR(0, 3606, __pyx_L1_error)</span>;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_7);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 1, __pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 3606, __pyx_L1_error)</span>;
      __pyx_t_7 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3607</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3608</span>:     # Transform data if transform flag is set</pre>
<pre class="cython line score-0">&#xA0;<span class="">3609</span>:     # if transform:</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3610</span>:     output_format = output_format or 'array' # force none to hold array</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(3610,0,<span class='error_goto'>__PYX_ERR(0, 3610, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_output_format); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3610, __pyx_L1_error)</span>
  if (!__pyx_t_4) {
  } else {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_output_format);
    __pyx_t_8 = __pyx_v_output_format;
    goto __pyx_L23_bool_binop_done;
  }
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_array_2);
  __pyx_t_8 = __pyx_n_u_array_2;
  __pyx_L23_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_output_format, ((PyObject*)__pyx_t_8));
  __pyx_t_8 = 0;
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3611</span>:     if str(output_format) not in ('array', 'dataframe'):</pre>
<pre class='cython code score-7 '>  <span class='trace'>__Pyx_TraceLine</span>(3611,0,<span class='error_goto'>__PYX_ERR(0, 3611, __pyx_L1_error)</span>)
  __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_Str</span>(__pyx_v_output_format);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3611, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_8, __pyx_n_u_array_2, Py_NE)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3611, __pyx_L1_error)</span>
  if (__pyx_t_3) {
  } else {
    __pyx_t_4 = __pyx_t_3;
    goto __pyx_L26_bool_binop_done;
  }
  __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_8, __pyx_n_u_dataframe, Py_NE)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3611, __pyx_L1_error)</span>
  __pyx_t_4 = __pyx_t_3;
  __pyx_L26_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
  __pyx_t_3 = __pyx_t_4;
  if (unlikely(__pyx_t_3)) {
/*  */
  }
</pre><pre class="cython line score-27" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3612</span>:         raise ValueError(f"Invalid '{output_format}', expect 'array' or 'dataframe'.")</pre>
<pre class='cython code score-27 '>    <span class='trace'>__Pyx_TraceLine</span>(3612,0,<span class='error_goto'>__PYX_ERR(0, 3612, __pyx_L1_error)</span>)
    __pyx_t_8 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3612, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    __pyx_t_11 = 0;
    __pyx_t_15 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Invalid);
    __pyx_t_11 += 9;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Invalid);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_8, 0, __pyx_kp_u_Invalid);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyUnicode_Unicode</span>(__pyx_v_output_format);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3612, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_15 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) &gt; __pyx_t_15) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) : __pyx_t_15;
    __pyx_t_11 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_2);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_8, 1, __pyx_t_2);
    __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_expect_array_or_dataframe);
    __pyx_t_11 += 33;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_expect_array_or_dataframe);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_8, 2, __pyx_kp_u_expect_array_or_dataframe);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_8, 3, __pyx_t_11, __pyx_t_15);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3612, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3612, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_8, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    <span class='error_goto'>__PYX_ERR(0, 3612, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3613</span>: </pre>
<pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3614</span>:     return _execute_transformation(</pre>
<pre class='cython code score-3 '>  <span class='trace'>__Pyx_TraceLine</span>(3614,0,<span class='error_goto'>__PYX_ERR(0, 3614, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_execute_transformation);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3614, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
</pre><pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3615</span>:         pipeline, X, y, transform, output_format, label_encoding)</pre>
<pre class='cython code score-14 '>  <span class='trace'>__Pyx_TraceLine</span>(3615,0,<span class='error_goto'>__PYX_ERR(0, 3615, __pyx_L1_error)</span>)
  __pyx_t_7 = NULL;
  __pyx_t_6 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_7)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_6 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[7] = {__pyx_t_7, __pyx_v_pipeline, __pyx_v_X, __pyx_v_y, __pyx_v_transform, __pyx_v_output_format, __pyx_v_label_encoding};
    __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_6, 6+__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    if (unlikely(!__pyx_t_8)) <span class='error_goto'>__PYX_ERR(0, 3614, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_r = __pyx_t_8;
  __pyx_t_8 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3616</span>: </pre>
<pre class="cython line score-133" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3617</span>: def _execute_transformation(</pre>
<pre class='cython code score-133 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_79_execute_transformation(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_78_execute_transformation, " # Transform data if transform flag is set or return pipeline");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_79_execute_transformation = {"_execute_transformation", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_79_execute_transformation, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_78_execute_transformation};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_79_execute_transformation(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_pipeline = 0;
  PyObject *__pyx_v_X = 0;
  PyObject *__pyx_v_y = 0;
  PyObject *__pyx_v_transform = 0;
  PyObject *__pyx_v_output_format = 0;
  PyObject *__pyx_v_label_encoding = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_execute_transformation (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_pipeline,&amp;__pyx_n_s_X,&amp;__pyx_n_s_y,&amp;__pyx_n_s_transform,&amp;__pyx_n_s_output_format,&amp;__pyx_n_s_label_encoding,0};
  PyObject* values[6] = {0,0,0,0,0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_pipeline)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3617, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_X)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3617, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_execute_transformation", 1, 6, 6, 1); <span class='error_goto'>__PYX_ERR(0, 3617, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (likely((values[2] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_y)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[2]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3617, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_execute_transformation", 1, 6, 6, 2); <span class='error_goto'>__PYX_ERR(0, 3617, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (likely((values[3] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_transform)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[3]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3617, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_execute_transformation", 1, 6, 6, 3); <span class='error_goto'>__PYX_ERR(0, 3617, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (likely((values[4] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_output_format)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[4]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3617, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_execute_transformation", 1, 6, 6, 4); <span class='error_goto'>__PYX_ERR(0, 3617, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  5:
        if (likely((values[5] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_label_encoding)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[5]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3617, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_execute_transformation", 1, 6, 6, 5); <span class='error_goto'>__PYX_ERR(0, 3617, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_execute_transformation") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 3617, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 6)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
      values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
      values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
      values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
      values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
    }
    __pyx_v_pipeline = values[0];
    __pyx_v_X = values[1];
    __pyx_v_y = values[2];
    __pyx_v_transform = values[3];
    __pyx_v_output_format = values[4];
    __pyx_v_label_encoding = values[5];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_execute_transformation", 1, 6, 6, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 3617, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._execute_transformation", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_78_execute_transformation(__pyx_self, __pyx_v_pipeline, __pyx_v_X, __pyx_v_y, __pyx_v_transform, __pyx_v_output_format, __pyx_v_label_encoding);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_78_execute_transformation(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_pipeline, PyObject *__pyx_v_X, PyObject *__pyx_v_y, PyObject *__pyx_v_transform, PyObject *__pyx_v_output_format, PyObject *__pyx_v_label_encoding) {
  PyObject *__pyx_v_X_transformed = NULL;
  PyObject *__pyx_v_y_transformed = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__101)
  <span class='trace'>__Pyx_TraceCall</span>("_execute_transformation", __pyx_f[0], 3617, 0, <span class='error_goto'>__PYX_ERR(0, 3617, __pyx_L1_error)</span>);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._execute_transformation", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_X_transformed);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_y_transformed);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__186 = <span class='py_c_api'>PyTuple_Pack</span>(8, __pyx_n_s_pipeline, __pyx_n_s_X, __pyx_n_s_y, __pyx_n_s_transform, __pyx_n_s_output_format, __pyx_n_s_label_encoding, __pyx_n_s_X_transformed, __pyx_n_s_y_transformed);<span class='error_goto'> if (unlikely(!__pyx_tuple__186)) __PYX_ERR(0, 3617, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__186);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__186);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3617,0,<span class='error_goto'>__PYX_ERR(0, 3617, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_79_execute_transformation, 0, __pyx_n_s_execute_transformation, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__101));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3617, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_execute_transformation, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3617, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_codeobj__101 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(6, 0, 0, 8, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__186, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_execute_transformation, 3617, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__101)) __PYX_ERR(0, 3617, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3618</span>:         pipeline, X, y, transform, output_format, label_encoding):</pre>
<pre class="cython line score-0">&#xA0;<span class="">3619</span>:     """ # Transform data if transform flag is set or return pipeline"""</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3620</span>:     if transform:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3620,0,<span class='error_goto'>__PYX_ERR(0, 3620, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_transform); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3620, __pyx_L1_error)</span>
  if (__pyx_t_1) {
/*  */
  }
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3621</span>:         X_transformed = pipeline.fit_transform(X)</pre>
<pre class='cython code score-16 '>    <span class='trace'>__Pyx_TraceLine</span>(3621,0,<span class='error_goto'>__PYX_ERR(0, 3621, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_pipeline, __pyx_n_s_fit_transform);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3621, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_4 = NULL;
    __pyx_t_5 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_4)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_5 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_v_X};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3621, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    __pyx_v_X_transformed = __pyx_t_2;
    __pyx_t_2 = 0;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3622</span>:         if y is not None:</pre>
<pre class='cython code score-0 '>    <span class='trace'>__Pyx_TraceLine</span>(3622,0,<span class='error_goto'>__PYX_ERR(0, 3622, __pyx_L1_error)</span>)
    __pyx_t_1 = (__pyx_v_y != Py_None);
    if (__pyx_t_1) {
/*  */
    }
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3623</span>:             y_transformed = _transform_target(y, label_encoding) if label_encoding else y</pre>
<pre class='cython code score-19 '>      <span class='trace'>__Pyx_TraceLine</span>(3623,0,<span class='error_goto'>__PYX_ERR(0, 3623, __pyx_L1_error)</span>)
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_label_encoding); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3623, __pyx_L1_error)</span>
      if (__pyx_t_1) {
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_transform_target);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3623, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        __pyx_t_6 = NULL;
        __pyx_t_5 = 0;
        #if CYTHON_UNPACK_METHODS
        if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
          __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
          if (likely(__pyx_t_6)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
            __pyx_t_5 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[3] = {__pyx_t_6, __pyx_v_y, __pyx_v_label_encoding};
          __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_5, 2+__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
          if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 3623, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        }
        __pyx_t_2 = __pyx_t_3;
        __pyx_t_3 = 0;
      } else {
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y);
        __pyx_t_2 = __pyx_v_y;
      }
      __pyx_v_y_transformed = __pyx_t_2;
      __pyx_t_2 = 0;
</pre><pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3624</span>:             return (X_transformed, y_transformed) if output_format == 'array' else (</pre>
<pre class='cython code score-14 '>      <span class='trace'>__Pyx_TraceLine</span>(3624,0,<span class='error_goto'>__PYX_ERR(0, 3624, __pyx_L1_error)</span>)
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
      __pyx_t_1 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_output_format, __pyx_n_u_array_2, Py_EQ)); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3624, __pyx_L1_error)</span>
      if (__pyx_t_1) {
        __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3624, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X_transformed);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X_transformed);
        if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_X_transformed)) <span class='error_goto'>__PYX_ERR(0, 3624, __pyx_L1_error)</span>;
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_y_transformed);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_y_transformed);
        if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_v_y_transformed)) <span class='error_goto'>__PYX_ERR(0, 3624, __pyx_L1_error)</span>;
        __pyx_t_2 = __pyx_t_3;
        __pyx_t_3 = 0;
      } else {
</pre><pre class="cython line score-47" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3625</span>:                 pd.DataFrame(X_transformed), pd.Series(y_transformed))</pre>
<pre class='cython code score-47 '>        <span class='trace'>__Pyx_TraceLine</span>(3625,0,<span class='error_goto'>__PYX_ERR(0, 3625, __pyx_L1_error)</span>)
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3625, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3625, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        __pyx_t_4 = NULL;
        __pyx_t_5 = 0;
        #if CYTHON_UNPACK_METHODS
        if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
          __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
          if (likely(__pyx_t_4)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
            __pyx_t_5 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_v_X_transformed};
          __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
          if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 3625, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
        }
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3625, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
        __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_Series);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3625, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
        __pyx_t_4 = NULL;
        __pyx_t_5 = 0;
        #if CYTHON_UNPACK_METHODS
        if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_7))) {
          __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_7);
          if (likely(__pyx_t_4)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_7);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_7, function);
            __pyx_t_5 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_v_y_transformed};
          __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_7, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
          if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 3625, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        }
        __pyx_t_7 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3625, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
        if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 0, __pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 3625, __pyx_L1_error)</span>;
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_6);
        if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 1, __pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 3625, __pyx_L1_error)</span>;
        __pyx_t_3 = 0;
        __pyx_t_6 = 0;
        __pyx_t_2 = __pyx_t_7;
        __pyx_t_7 = 0;
      }
      __pyx_r = __pyx_t_2;
      __pyx_t_2 = 0;
      goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3626</span>: </pre>
<pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3627</span>:         return X_transformed if output_format == 'array' else pd.DataFrame(X_transformed)</pre>
<pre class='cython code score-23 '>    <span class='trace'>__Pyx_TraceLine</span>(3627,0,<span class='error_goto'>__PYX_ERR(0, 3627, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    __pyx_t_1 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_output_format, __pyx_n_u_array_2, Py_EQ)); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3627, __pyx_L1_error)</span>
    if (__pyx_t_1) {
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X_transformed);
      __pyx_t_2 = __pyx_v_X_transformed;
    } else {
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3627, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3627, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_t_6 = NULL;
      __pyx_t_5 = 0;
      #if CYTHON_UNPACK_METHODS
      if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
        __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
        if (likely(__pyx_t_6)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
          __pyx_t_5 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_v_X_transformed};
        __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
        if (unlikely(!__pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 3627, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      }
      __pyx_t_2 = __pyx_t_7;
      __pyx_t_7 = 0;
    }
    __pyx_r = __pyx_t_2;
    __pyx_t_2 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3628</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3629</span>:     return pipeline</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3629,0,<span class='error_goto'>__PYX_ERR(0, 3629, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_pipeline);
  __pyx_r = __pyx_v_pipeline;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3630</span>: </pre>
<pre class="cython line score-79" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3631</span>: def _transform_target(y, label_encoding:Union [BaseEstimator, TransformerMixin] ):</pre>
<pre class='cython code score-79 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_81_transform_target(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_81_transform_target = {"_transform_target", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_81_transform_target, __Pyx_METH_FASTCALL|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_81_transform_target(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_y = 0;
  PyObject *__pyx_v_label_encoding = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_transform_target (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_y,&amp;__pyx_n_s_label_encoding,0};
  PyObject* values[2] = {0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_y)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3631, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_label_encoding)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3631, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_transform_target", 1, 2, 2, 1); <span class='error_goto'>__PYX_ERR(0, 3631, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_transform_target") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 3631, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 2)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
    }
    __pyx_v_y = values[0];
    __pyx_v_label_encoding = values[1];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_transform_target", 1, 2, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 3631, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._transform_target", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_80_transform_target(__pyx_self, __pyx_v_y, __pyx_v_label_encoding);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_80_transform_target(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_y, PyObject *__pyx_v_label_encoding) {
  PyObject *__pyx_v_encoder = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__102)
  <span class='trace'>__Pyx_TraceCall</span>("_transform_target", __pyx_f[0], 3631, 0, <span class='error_goto'>__PYX_ERR(0, 3631, __pyx_L1_error)</span>);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._transform_target", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_encoder);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__187 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_n_s_y, __pyx_n_s_label_encoding, __pyx_n_s_encoder);<span class='error_goto'> if (unlikely(!__pyx_tuple__187)) __PYX_ERR(0, 3631, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__187);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__187);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3631,0,<span class='error_goto'>__PYX_ERR(0, 3631, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3631, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_label_encoding, __pyx_kp_s_Union_BaseEstimator_TransformerM) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3631, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_81_transform_target, 0, __pyx_n_s_transform_target, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__102));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3631, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_4, __pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_transform_target, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3631, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_codeobj__102 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(2, 0, 0, 3, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__187, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_transform_target, 3631, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__102)) __PYX_ERR(0, 3631, __pyx_L1_error)</span>
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3632</span>:     if label_encoding == 'LabelEncoder':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3632,0,<span class='error_goto'>__PYX_ERR(0, 3632, __pyx_L1_error)</span>)
  __pyx_t_1 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_label_encoding, __pyx_n_u_LabelEncoder, Py_EQ)); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3632, __pyx_L1_error)</span>
  if (__pyx_t_1) {
/*  */
  }
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3633</span>:         encoder = LabelEncoder()</pre>
<pre class='cython code score-16 '>    <span class='trace'>__Pyx_TraceLine</span>(3633,0,<span class='error_goto'>__PYX_ERR(0, 3633, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_LabelEncoder);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3633, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_4 = NULL;
    __pyx_t_5 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_4)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_5 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_4, NULL};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_5, 0+__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3633, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    __pyx_v_encoder = __pyx_t_2;
    __pyx_t_2 = 0;
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3634</span>:         return encoder.fit_transform(y)</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(3634,0,<span class='error_goto'>__PYX_ERR(0, 3634, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_encoder, __pyx_n_s_fit_transform);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3634, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_4 = NULL;
    __pyx_t_5 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_4)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_5 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_v_y};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3634, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    __pyx_r = __pyx_t_2;
    __pyx_t_2 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3635</span>:     elif isinstance(label_encoding, (BaseEstimator, TransformerMixin)):</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(3635,0,<span class='error_goto'>__PYX_ERR(0, 3635, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_BaseEstimator);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3635, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_TransformerMixin);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3635, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_6 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_label_encoding, __pyx_t_2); 
  if (!__pyx_t_6) {
  } else {
    __pyx_t_1 = __pyx_t_6;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_6 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_label_encoding, __pyx_t_3); 
  __pyx_t_1 = __pyx_t_6;
  __pyx_L4_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (likely(__pyx_t_1)) {
/*  */
  }
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3636</span>:         return label_encoding.fit_transform(y)</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(3636,0,<span class='error_goto'>__PYX_ERR(0, 3636, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_label_encoding, __pyx_n_s_fit_transform);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3636, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_4 = NULL;
    __pyx_t_5 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_4)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_5 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_v_y};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3636, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    __pyx_r = __pyx_t_2;
    __pyx_t_2 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3637</span>:     else:</pre>
<pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3638</span>:         raise ValueError("Unsupported label_encoding value: {}".format(label_encoding))</pre>
<pre class='cython code score-22 '>  <span class='trace'>__Pyx_TraceLine</span>(3638,0,<span class='error_goto'>__PYX_ERR(0, 3638, __pyx_L1_error)</span>)
  /*else*/ {
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_kp_u_Unsupported_label_encoding_value, __pyx_n_s_format);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3638, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_4 = NULL;
    __pyx_t_5 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_4)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_5 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_v_label_encoding};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3638, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3638, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_3, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='error_goto'>__PYX_ERR(0, 3638, __pyx_L1_error)</span>
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">3639</span>: </pre>
<pre class="cython line score-70" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3640</span>: def select_feature_importances(</pre>
<pre class='cython code score-70 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_83select_feature_importances(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_82select_feature_importances, "\n    Select features based on importance thresholds after model fitting.\n    \n    Parameters\n    ----------\n    clf : estimator object\n        The estimator from which the feature importances are derived. Must have\n        either `feature_importances_` or `coef_` attributes after fitting, unless\n        `importance_getter` is specified in `kwargs`.\n        \n    X : {array-like, sparse matrix} of shape (n_samples, n_features)\n        The training input samples.\n        \n    y : array-like of shape (n_samples,), default=None\n        The target values (class labels) as integers or strings.\n        \n    threshold : float, default=0.1\n        The threshold value to use for feature selection. Features with importance\n        greater than or equal to this value are retained.\n        \n    prefit : bool, default=True\n        Whether the estimator is expected to be prefit. If `True`, `clf` should\n        already be fitted; otherwise, it will be fitted on `X` and `y`.\n        \n    verbose : int, default=0\n        Controls the verbosity: the higher, the more messages.\n        \n    return_selector : bool, default=False\n        Whether to return the selector object instead of the transformed data.\n        \n    **kwargs : additional keyword arguments\n        Additional arguments passed to `SelectFromModel`.\n    \n    Returns\n    -------\n    X_selected or selector : array or SelectFromModel object\n        The selected features in `X` if `return_selector` is False, or the\n        selector object itself if `return_selector` is True.\n        \n    Examples\n    --------\n    &gt;&gt;&gt; from sklearn.datasets import make_classification\n    &gt;&gt;&gt; from sklearn.ensemble import RandomForestClassifier\n    &gt;&gt;&gt; from gofast.tools.mlutils import select_feature_importances\n    &gt;&gt;&gt; X, y = make_classification(n_samples=1000, n_features=10, n_informative=3)\n    &gt;&gt;&gt; clf = RandomForestClassifier()\n    &gt;&gt;&gt; X_selected = select_feature_importances(clf, X, y, threshold=""\"mean\", prefit=False)\n    &gt;&gt;&gt; X_selected.shape\n    (1000, n_selected_features)\n    \n    Using `return_selector=True` to get the selector object:\n    \n    &gt;&gt;&gt; selector = select_feature_importances(\n        clf, X, y, threshold=\"mean\", prefit=False, return_selector=True)\n    &gt;&gt;&gt; selector.get_support()\n    array([True, False, ..., True])\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_83select_feature_importances = {"select_feature_importances", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_83select_feature_importances, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_82select_feature_importances};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_83select_feature_importances(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_clf = 0;
  PyObject *__pyx_v_X = 0;
  PyObject *__pyx_v_y = 0;
  PyObject *__pyx_v_threshold = 0;
  PyObject *__pyx_v_prefit = 0;
  PyObject *__pyx_v_verbose = 0;
  PyObject *__pyx_v_return_selector = 0;
  PyObject *__pyx_v_kwargs = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("select_feature_importances (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  __pyx_v_kwargs = <span class='py_c_api'>PyDict_New</span>(); if (unlikely(!__pyx_v_kwargs)) return NULL;
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_v_kwargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_clf,&amp;__pyx_n_s_X,&amp;__pyx_n_s_y,&amp;__pyx_n_s_threshold,&amp;__pyx_n_s_prefit,&amp;__pyx_n_s_verbose,&amp;__pyx_n_s_return_selector,0};
  PyObject* values[7] = {0,0,0,0,0,0,0};
/*  */
  /* function exit code */
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_kwargs);
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_82select_feature_importances(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_clf, PyObject *__pyx_v_X, PyObject *__pyx_v_y, PyObject *__pyx_v_threshold, PyObject *__pyx_v_prefit, PyObject *__pyx_v_verbose, PyObject *__pyx_v_return_selector, PyObject *__pyx_v_kwargs) {
  PyObject *__pyx_v_selector = NULL;
  PyObject *__pyx_v_n_features = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__103)
  <span class='trace'>__Pyx_TraceCall</span>("select_feature_importances", __pyx_f[0], 3640, 0, <span class='error_goto'>__PYX_ERR(0, 3640, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_threshold);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.select_feature_importances", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_selector);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_n_features);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_threshold);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__188 = <span class='py_c_api'>PyTuple_Pack</span>(10, __pyx_n_s_clf, __pyx_n_s_X, __pyx_n_s_y, __pyx_n_s_threshold, __pyx_n_s_prefit, __pyx_n_s_verbose, __pyx_n_s_return_selector, __pyx_n_s_kwargs, __pyx_n_s_selector, __pyx_n_s_n_features);<span class='error_goto'> if (unlikely(!__pyx_tuple__188)) __PYX_ERR(0, 3640, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__188);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__188);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3640,0,<span class='error_goto'>__PYX_ERR(0, 3640, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3640, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_threshold, ((PyObject*)__pyx_float_0_1)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3640, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_prefit, ((PyObject *)Py_True)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3640, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_verbose, ((PyObject *)__pyx_int_0)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3640, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_return_selector, ((PyObject *)Py_False)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3640, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_83select_feature_importances, 0, __pyx_n_s_select_feature_importances, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__103));<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3640, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_3, __pyx_tuple__98);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsKwDict</span>(__pyx_t_3, __pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_select_feature_importances, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3640, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_codeobj__103 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(3, 0, 4, 10, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__188, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_select_feature_importances, 3640, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__103)) __PYX_ERR(0, 3640, __pyx_L1_error)</span>
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3641</span>:         clf, X, y=None, *, threshold=0.1, prefit=True,</pre>
<pre class='cython code score-8 '>    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_float_0_1)));
    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_True)));
    values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)__pyx_int_0)));
</pre><pre class="cython line score-63" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3642</span>:         verbose=0, return_selector=False, **kwargs</pre>
<pre class='cython code score-63 '>    values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_clf)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3640, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_X)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3640, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("select_feature_importances", 0, 2, 3, 1); <span class='error_goto'>__PYX_ERR(0, 3640, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_y);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3640, __pyx_L3_error)</span>
        }
      }
      if (kw_args &gt; 0 &amp;&amp; (kw_args &lt;= 4)) {
        Py_ssize_t index;
        for (index = 3; index &lt; 7 &amp;&amp; kw_args &gt; 0; index++) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, *__pyx_pyargnames[index]);
          if (value) { values[index] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3640, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, __pyx_v_kwargs, values + 0, kwd_pos_args, "select_feature_importances") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 3640, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_clf = values[0];
    __pyx_v_X = values[1];
    __pyx_v_y = values[2];
    __pyx_v_threshold = values[3];
    __pyx_v_prefit = values[4];
    __pyx_v_verbose = values[5];
    __pyx_v_return_selector = values[6];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("select_feature_importances", 0, 2, 3, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 3640, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_kwargs); __pyx_v_kwargs = 0;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.select_feature_importances", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_82select_feature_importances(__pyx_self, __pyx_v_clf, __pyx_v_X, __pyx_v_y, __pyx_v_threshold, __pyx_v_prefit, __pyx_v_verbose, __pyx_v_return_selector, __pyx_v_kwargs);
</pre><pre class="cython line score-0">&#xA0;<span class="">3643</span>:         ):</pre>
<pre class="cython line score-0">&#xA0;<span class="">3644</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">3645</span>:     Select features based on importance thresholds after model fitting.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3646</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3647</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">3648</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3649</span>:     clf : estimator object</pre>
<pre class="cython line score-0">&#xA0;<span class="">3650</span>:         The estimator from which the feature importances are derived. Must have</pre>
<pre class="cython line score-0">&#xA0;<span class="">3651</span>:         either `feature_importances_` or `coef_` attributes after fitting, unless</pre>
<pre class="cython line score-0">&#xA0;<span class="">3652</span>:         `importance_getter` is specified in `kwargs`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3653</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3654</span>:     X : {array-like, sparse matrix} of shape (n_samples, n_features)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3655</span>:         The training input samples.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3656</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3657</span>:     y : array-like of shape (n_samples,), default=None</pre>
<pre class="cython line score-0">&#xA0;<span class="">3658</span>:         The target values (class labels) as integers or strings.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3659</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3660</span>:     threshold : float, default=0.1</pre>
<pre class="cython line score-0">&#xA0;<span class="">3661</span>:         The threshold value to use for feature selection. Features with importance</pre>
<pre class="cython line score-0">&#xA0;<span class="">3662</span>:         greater than or equal to this value are retained.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3663</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3664</span>:     prefit : bool, default=True</pre>
<pre class="cython line score-0">&#xA0;<span class="">3665</span>:         Whether the estimator is expected to be prefit. If `True`, `clf` should</pre>
<pre class="cython line score-0">&#xA0;<span class="">3666</span>:         already be fitted; otherwise, it will be fitted on `X` and `y`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3667</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3668</span>:     verbose : int, default=0</pre>
<pre class="cython line score-0">&#xA0;<span class="">3669</span>:         Controls the verbosity: the higher, the more messages.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3670</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3671</span>:     return_selector : bool, default=False</pre>
<pre class="cython line score-0">&#xA0;<span class="">3672</span>:         Whether to return the selector object instead of the transformed data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3673</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3674</span>:     **kwargs : additional keyword arguments</pre>
<pre class="cython line score-0">&#xA0;<span class="">3675</span>:         Additional arguments passed to `SelectFromModel`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3676</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3677</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">3678</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3679</span>:     X_selected or selector : array or SelectFromModel object</pre>
<pre class="cython line score-0">&#xA0;<span class="">3680</span>:         The selected features in `X` if `return_selector` is False, or the</pre>
<pre class="cython line score-0">&#xA0;<span class="">3681</span>:         selector object itself if `return_selector` is True.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3682</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3683</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">3684</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3685</span>:     &gt;&gt;&gt; from sklearn.datasets import make_classification</pre>
<pre class="cython line score-0">&#xA0;<span class="">3686</span>:     &gt;&gt;&gt; from sklearn.ensemble import RandomForestClassifier</pre>
<pre class="cython line score-0">&#xA0;<span class="">3687</span>:     &gt;&gt;&gt; from gofast.tools.mlutils import select_feature_importances</pre>
<pre class="cython line score-0">&#xA0;<span class="">3688</span>:     &gt;&gt;&gt; X, y = make_classification(n_samples=1000, n_features=10, n_informative=3)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3689</span>:     &gt;&gt;&gt; clf = RandomForestClassifier()</pre>
<pre class="cython line score-0">&#xA0;<span class="">3690</span>:     &gt;&gt;&gt; X_selected = select_feature_importances(clf, X, y, threshold="mean", prefit=False)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3691</span>:     &gt;&gt;&gt; X_selected.shape</pre>
<pre class="cython line score-0">&#xA0;<span class="">3692</span>:     (1000, n_selected_features)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3693</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3694</span>:     Using `return_selector=True` to get the selector object:</pre>
<pre class="cython line score-0">&#xA0;<span class="">3695</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3696</span>:     &gt;&gt;&gt; selector = select_feature_importances(</pre>
<pre class="cython line score-0">&#xA0;<span class="">3697</span>:         clf, X, y, threshold="mean", prefit=False, return_selector=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3698</span>:     &gt;&gt;&gt; selector.get_support()</pre>
<pre class="cython line score-0">&#xA0;<span class="">3699</span>:     array([True, False, ..., True])</pre>
<pre class="cython line score-0">&#xA0;<span class="">3700</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">3701</span>:     # Check if the classifier is fitted based on the presence of attributes</pre>
<pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3702</span>:     if not prefit and (hasattr(clf, 'feature_importances_') or hasattr(clf, 'coef_')):</pre>
<pre class='cython code score-6 '>  <span class='trace'>__Pyx_TraceLine</span>(3702,0,<span class='error_goto'>__PYX_ERR(0, 3702, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_prefit); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3702, __pyx_L1_error)</span>
  __pyx_t_3 = (!__pyx_t_2);
  if (__pyx_t_3) {
  } else {
    __pyx_t_1 = __pyx_t_3;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_HasAttr</span>(__pyx_v_clf, __pyx_n_u_feature_importances);<span class='error_goto'> if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(0, 3702, __pyx_L1_error)</span>
  if (!__pyx_t_3) {
  } else {
    __pyx_t_1 = __pyx_t_3;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_HasAttr</span>(__pyx_v_clf, __pyx_n_u_coef);<span class='error_goto'> if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(0, 3702, __pyx_L1_error)</span>
  __pyx_t_1 = __pyx_t_3;
  __pyx_L4_bool_binop_done:;
  if (__pyx_t_1) {
/*  */
  }
</pre><pre class="cython line score-32" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3703</span>:         warnings.warn(f"The estimator {clf.__class__.__name__} appears to be fitted. "</pre>
<pre class='cython code score-32 '>    <span class='trace'>__Pyx_TraceLine</span>(3703,0,<span class='error_goto'>__PYX_ERR(0, 3703, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_warnings);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3703, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_warn);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3703, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3703, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_7 = 0;
    __pyx_t_8 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_The_estimator);
    __pyx_t_7 += 14;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_The_estimator);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_kp_u_The_estimator);
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_clf, __pyx_n_s_class_2);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3703, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_9, __pyx_n_s_name_2);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3703, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_t_10, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3703, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_9) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_9) : __pyx_t_8;
    __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_9);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_9);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 1, __pyx_t_9);
    __pyx_t_9 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_appears_to_be_fitted_Consider_s);
    __pyx_t_7 += 77;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_appears_to_be_fitted_Consider_s);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 2, __pyx_kp_u_appears_to_be_fitted_Consider_s);
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_5, 3, __pyx_t_7, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3703, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3704</span>:                       "Consider setting `prefit=True` or refit the estimator.",UserWarning)</pre>
<pre class='cython code score-16 '>    <span class='trace'>__Pyx_TraceLine</span>(3704,0,<span class='error_goto'>__PYX_ERR(0, 3704, __pyx_L1_error)</span>)
    __pyx_t_5 = NULL;
    __pyx_t_11 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
        __pyx_t_11 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_5, __pyx_t_9, __pyx_builtin_UserWarning};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_11, 2+__pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 3703, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3705</span>:     try:threshold = float(threshold )</pre>
<pre class='cython code score-15 '>  <span class='trace'>__Pyx_TraceLine</span>(3705,0,<span class='error_goto'>__PYX_ERR(0, 3705, __pyx_L1_error)</span>)
  {
    /*try:*/ {
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyNumber_Float</span>(__pyx_v_threshold);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3705, __pyx_L7_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_threshold, __pyx_t_4);
      __pyx_t_4 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_14); __pyx_t_14 = 0;
    goto __pyx_L12_try_end;
    __pyx_L7_error:;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
/*  */
    __pyx_L9_except_error:;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_14);
    <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_12, __pyx_t_13, __pyx_t_14);
    goto __pyx_L1_error;
    __pyx_L8_exception_handled:;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_14);
    <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_12, __pyx_t_13, __pyx_t_14);
    __pyx_L12_try_end:;
  }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3706</span>:     except: pass</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(3706,0,<span class='error_goto'>__PYX_ERR(0, 3706, __pyx_L9_except_error)</span>)
    /*except:*/ {
      <span class='pyx_c_api'>__Pyx_ErrRestore</span>(0,0,0);
      goto __pyx_L8_exception_handled;
    }
</pre><pre class="cython line score-0">&#xA0;<span class="">3707</span>: </pre>
<pre class="cython line score-29" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3708</span>:     selector = SelectFromModel(clf, threshold=threshold, prefit=prefit, **kwargs)</pre>
<pre class='cython code score-29 '>  <span class='trace'>__Pyx_TraceLine</span>(3708,0,<span class='error_goto'>__PYX_ERR(0, 3708, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_SelectFromModel);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3708, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3708, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_clf);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_clf);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_v_clf)) <span class='error_goto'>__PYX_ERR(0, 3708, __pyx_L1_error)</span>;
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3708, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_threshold, __pyx_v_threshold) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3708, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_prefit, __pyx_v_prefit) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3708, __pyx_L1_error)</span>
  __pyx_t_9 = __pyx_t_5;
  __pyx_t_5 = 0;
  if (<span class='pyx_c_api'>__Pyx_MergeKeywords</span>(__pyx_t_9, __pyx_v_kwargs) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3708, __pyx_L1_error)</span>
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_4, __pyx_t_6, __pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3708, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
  __pyx_v_selector = __pyx_t_5;
  __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3709</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3710</span>:     if not prefit:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3710,0,<span class='error_goto'>__PYX_ERR(0, 3710, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_prefit); if (unlikely((__pyx_t_1 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3710, __pyx_L1_error)</span>
  __pyx_t_3 = (!__pyx_t_1);
  if (__pyx_t_3) {
/*  */
  }
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3711</span>:         selector.fit(X, y)</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(3711,0,<span class='error_goto'>__PYX_ERR(0, 3711, __pyx_L1_error)</span>)
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_selector, __pyx_n_s_fit);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3711, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_6 = NULL;
    __pyx_t_11 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
        __pyx_t_11 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_6, __pyx_v_X, __pyx_v_y};
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_11, 2+__pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 3711, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3712</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3713</span>:     if verbose:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3713,0,<span class='error_goto'>__PYX_ERR(0, 3713, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_verbose); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3713, __pyx_L1_error)</span>
  if (__pyx_t_3) {
/*  */
  }
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3714</span>:         n_features = selector.transform(X).shape[1]</pre>
<pre class='cython code score-22 '>    <span class='trace'>__Pyx_TraceLine</span>(3714,0,<span class='error_goto'>__PYX_ERR(0, 3714, __pyx_L1_error)</span>)
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_selector, __pyx_n_s_transform);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3714, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_6 = NULL;
    __pyx_t_11 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
        __pyx_t_11 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_v_X};
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_11, 1+__pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 3714, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    }
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3714, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_9, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3714, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    __pyx_v_n_features = __pyx_t_5;
    __pyx_t_5 = 0;
</pre><pre class="cython line score-34" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3715</span>:         print(f"Number of features meeting the threshold={threshold}: {n_features}")</pre>
<pre class='cython code score-34 '>    <span class='trace'>__Pyx_TraceLine</span>(3715,0,<span class='error_goto'>__PYX_ERR(0, 3715, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3715, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_7 = 0;
    __pyx_t_8 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Number_of_features_meeting_the_t);
    __pyx_t_7 += 41;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Number_of_features_meeting_the_t);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_kp_u_Number_of_features_meeting_the_t);
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_threshold, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3715, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_9) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_9) : __pyx_t_8;
    __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_9);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_9);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 1, __pyx_t_9);
    __pyx_t_9 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__60);
    __pyx_t_7 += 2;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__60);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 2, __pyx_kp_u__60);
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_n_features, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3715, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_9) &gt; __pyx_t_8) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_9) : __pyx_t_8;
    __pyx_t_7 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_9);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_9);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 3, __pyx_t_9);
    __pyx_t_9 = 0;
    __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_5, 4, __pyx_t_7, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3715, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_print, __pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3715, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3716</span>: </pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3717</span>:     return selector if return_selector else selector.transform(X)</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(3717,0,<span class='error_goto'>__PYX_ERR(0, 3717, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_return_selector); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3717, __pyx_L1_error)</span>
  if (__pyx_t_3) {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_selector);
    __pyx_t_5 = __pyx_v_selector;
  } else {
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_selector, __pyx_n_s_transform);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3717, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_4 = NULL;
    __pyx_t_11 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
      __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
      if (likely(__pyx_t_4)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
        __pyx_t_11 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_v_X};
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_11, 1+__pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (unlikely(!__pyx_t_9)) <span class='error_goto'>__PYX_ERR(0, 3717, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    __pyx_t_5 = __pyx_t_9;
    __pyx_t_9 = 0;
  }
  __pyx_r = __pyx_t_5;
  __pyx_t_5 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3718</span>: </pre>
<pre class="cython line score-143" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3719</span>: @SmartProcessor(fail_silently=True, param_name ="skip_columns")</pre>
<pre class='cython code score-143 '>static PyObject *__pyx_pf_6gofast_5tools_7mlutils_129__defaults__(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceCall</span>("__defaults__", __pyx_f[0], 3719, 0, <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3731,0,<span class='error_goto'>__PYX_ERR(0, 3731, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(10);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3719, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(((PyObject*)__pyx_n_u_mean));
  <span class='refnanny'>__Pyx_GIVEREF</span>(((PyObject*)__pyx_n_u_mean));
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, ((PyObject*)__pyx_n_u_mean))) <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(<span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults9, __pyx_self)-&gt;__pyx_arg_missing_values);
  <span class='refnanny'>__Pyx_GIVEREF</span>(<span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults9, __pyx_self)-&gt;__pyx_arg_missing_values);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults9, __pyx_self)-&gt;__pyx_arg_missing_values)) <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 2, Py_None)) <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(((PyObject *)Py_False));
  <span class='refnanny'>__Pyx_GIVEREF</span>(((PyObject *)Py_False));
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 3, ((PyObject *)Py_False))) <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 4, Py_None)) <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(((PyObject *)Py_True));
  <span class='refnanny'>__Pyx_GIVEREF</span>(((PyObject *)Py_True));
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 5, ((PyObject *)Py_True))) <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(((PyObject *)__pyx_int_0));
  <span class='refnanny'>__Pyx_GIVEREF</span>(((PyObject *)__pyx_int_0));
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 6, ((PyObject *)__pyx_int_0))) <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(((PyObject *)Py_False));
  <span class='refnanny'>__Pyx_GIVEREF</span>(((PyObject *)Py_False));
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 7, ((PyObject *)Py_False))) <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(((PyObject *)Py_False));
  <span class='refnanny'>__Pyx_GIVEREF</span>(((PyObject *)Py_False));
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 8, ((PyObject *)Py_False))) <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 9, Py_None)) <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L1_error)</span>;
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3719,0,<span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3719, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, Py_None)) <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L1_error)</span>;
  __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.__defaults__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_85soft_imputer(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_84soft_imputer, "\n    Impute missing values in a dataset, optionally dropping features and handling \n    both numerical and categorical data.\n\n    This function extends the functionality of scikit-learn's SimpleImputer to \n    support dropping specified features and a ``bi-impute`` mode for handling \n    both numerical and categorical data. It ensures API consistency with \n    scikit-learn's transformers and allows for flexible imputation strategies.\n\n    Parameters\n    ----------\n    X : array-like or sparse matrix of shape (n_samples, n_features)\n        The input data to impute.\n        \n    strategy : str, default='mean'\n        The imputation strategy:\n        - 'mean': Impute using the mean of each column. Only for numeric data.\n        - 'median': Impute using the median of each column. Only for numeric data.\n        - 'most_frequent': Impute using the most frequent value of each column. \n          For numeric and categorical data.\n        - 'constant': Impute using the specified `fill_value`.\n        \n    missing_values : int, float, str, np.nan, None, or pd.NA, default=np.nan\n        The placeholder for the missing values. All occurrences of\n        `missing_values` will be imputed.\n        \n    fill_value : str or numerical value, default=None\n        When `strategy` == 'constant', `fill_value` is used to replace all\n        occurrences of `missing_values`. If left to the default, `fill_value` \n        will be 0 when imputing numerical data and 'missing_value' for strings \n        or object data types.\n        For 'constant' strategy, specifies the value used for replacement.\n        In 'bi-impute' mode, allows specifying separate fill values for\n        numerical and categorical data using a delimiter from the set\n        {\"__\", \"--\", \"&amp;\", \"@\", \"!\"}. For example, \"0.5__missing\" indicates\n        0.5 as fill value for numerical data and \"missing\" for categorical.\n        \n    drop_features : bool or list, default=False""\n        If True, drops all categorical features before imputation. If a list, \n        drops specified features.\n        \n    mode : str, optional\n        If set to 'bi-impute', imputes both numerical and categorical features \n        and returns a single imputed dataframe. Only 'bi-impute' is supported.\n        \n    copy : bool, default=True\n        If True, a copy of X will be created. If False, imputation will\n        be done in-place whenever possible.\n        \n    verbose : int, default=0\n        Controls the verbosity of the imputer.\n        \n    add_indicator : bool, default=False\n        If True, a `MissingIndicator` transform will be added to the output \n        of the imputer's transform.\n        \n    keep_empty_features : bool, default=False\n        If True, features that are all missing when `fit` is called are \n        included in the transform output.\n        \n    skip_columns : list of str or int, optional\n        Specifies the columns to exclude from processing when the decorator is\n        applied to a function. If the input data `X` is a pandas DataFrame, \n        `skip_columns` should contain the names of the columns to be skipped. \n        If `X` is a numpy array, `skip_columns`  should be a list of column \n        indices (integers) indicating the positions of the columns to be excluded.\n        This allows selective processing of data, avoiding alterations to the\n        specified columns.\n        \n    **kwargs : dict\n        Additional fitting parameters.\n\n    Returns\n    -------\n    Xi : array-like or sparse matrix of shape (n_samples, n_features)\n        The imputed dataset.\n\n    Examples\n    --------\n    &gt;&gt;&gt; import numpy as np \n    &gt;&gt;&gt; from gofast.tools.mlutils import soft_imputer\n    &gt;&gt;&gt; X = np.array([[1, np.nan, 3], [4, 5, np.nan], [np.nan, np.nan, 9]])\n    &gt;&gt;&gt; soft_imputer(X, strategy='mean')\n    array([[ 1. ,  5. ,  3. ],\n           [ 4. ,  5. ,  6. ],\n           [ 2.5,  5. ,  9. ]])\n   "" \n    &gt;&gt;&gt; df = pd.DataFrame({'A': [1, 2, np.nan], 'B': ['a', np.nan, 'b']})\n    &gt;&gt;&gt; soft_imputer(df, strategy='most_frequent', mode='bi-impute')\n               A  B\n        0    1.0  a\n        1    2.0  a\n        2    1.5  b\n\n    Notes\n    -----\n    The 'bi-impute' mode requires categorical features to be explicitly indicated\n    as such by using pandas Categorical dtype or by specifying features to drop.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_85soft_imputer = {"soft_imputer", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_85soft_imputer, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_84soft_imputer};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_85soft_imputer(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_X = 0;
  PyObject *__pyx_v_strategy = 0;
  PyObject *__pyx_v_missing_values = 0;
  PyObject *__pyx_v_fill_value = 0;
  PyObject *__pyx_v_drop_features = 0;
  PyObject *__pyx_v_mode = 0;
  PyObject *__pyx_v_copy = 0;
  CYTHON_UNUSED PyObject *__pyx_v_verbose = 0;
  PyObject *__pyx_v_add_indicator = 0;
  CYTHON_UNUSED PyObject *__pyx_v_keep_empty_features = 0;
  CYTHON_UNUSED PyObject *__pyx_v_skip_columns = 0;
  CYTHON_UNUSED PyObject *__pyx_v_kwargs = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("soft_imputer (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  __pyx_v_kwargs = <span class='py_c_api'>PyDict_New</span>(); if (unlikely(!__pyx_v_kwargs)) return NULL;
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_v_kwargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_X,&amp;__pyx_n_s_strategy,&amp;__pyx_n_s_missing_values,&amp;__pyx_n_s_fill_value,&amp;__pyx_n_s_drop_features,&amp;__pyx_n_s_mode,&amp;__pyx_n_s_copy,&amp;__pyx_n_s_verbose,&amp;__pyx_n_s_add_indicator,&amp;__pyx_n_s_keep_empty_features,&amp;__pyx_n_s_skip_columns,0};
  PyObject* values[11] = {0,0,0,0,0,0,0,0,0,0,0};
    __pyx_defaults9 *__pyx_dynamic_args = <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults9, __pyx_self);
    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_n_u_mean)));
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(__pyx_dynamic_args-&gt;__pyx_arg_missing_values);
/*  */
  /* function exit code */
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_kwargs);
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_84soft_imputer(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_X, PyObject *__pyx_v_strategy, PyObject *__pyx_v_missing_values, PyObject *__pyx_v_fill_value, PyObject *__pyx_v_drop_features, PyObject *__pyx_v_mode, PyObject *__pyx_v_copy, CYTHON_UNUSED PyObject *__pyx_v_verbose, PyObject *__pyx_v_add_indicator, CYTHON_UNUSED PyObject *__pyx_v_keep_empty_features, CYTHON_UNUSED PyObject *__pyx_v_skip_columns, CYTHON_UNUSED PyObject *__pyx_v_kwargs) {
  PyObject *__pyx_v_is_frame = NULL;
  PyObject *__pyx_v_fill_values = NULL;
  PyObject *__pyx_v_strategies = NULL;
  PyObject *__pyx_v_num_imputer = NULL;
  PyObject *__pyx_v_e = NULL;
  PyObject *__pyx_v_msg = NULL;
  PyObject *__pyx_v_cat_imputer = NULL;
  PyObject *__pyx_v_num_imputed = NULL;
  PyObject *__pyx_v_cat_imputed = NULL;
  PyObject *__pyx_v_num_columns = NULL;
  PyObject *__pyx_v_cat_columns = NULL;
  PyObject *__pyx_v_Xi = NULL;
  PyObject *__pyx_v_new_columns = NULL;
  PyObject *__pyx_v_imp = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__104)
  <span class='trace'>__Pyx_TraceCall</span>("soft_imputer", __pyx_f[0], 3719, 0, <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.soft_imputer", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_is_frame);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_fill_values);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_strategies);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_num_imputer);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_e);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_msg);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_cat_imputer);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_num_imputed);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_cat_imputed);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_num_columns);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_cat_columns);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_Xi);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_new_columns);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_imp);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_X);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3719,0,<span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_SmartProcessor);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3719, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3719, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_fail_silently, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_param_name, __pyx_n_u_skip_columns) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_empty_tuple, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3719, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
/*  */
  __pyx_tuple__189 = <span class='py_c_api'>PyTuple_Pack</span>(26, __pyx_n_s_X, __pyx_n_s_strategy, __pyx_n_s_missing_values, __pyx_n_s_fill_value, __pyx_n_s_drop_features, __pyx_n_s_mode, __pyx_n_s_copy, __pyx_n_s_verbose, __pyx_n_s_add_indicator, __pyx_n_s_keep_empty_features, __pyx_n_s_skip_columns, __pyx_n_s_kwargs, __pyx_n_s_is_frame, __pyx_n_s_fill_values, __pyx_n_s_strategies, __pyx_n_s_num_imputer, __pyx_n_s_e, __pyx_n_s_msg, __pyx_n_s_cat_imputer, __pyx_n_s_num_imputed, __pyx_n_s_cat_imputed, __pyx_n_s_num_columns, __pyx_n_s_cat_columns, __pyx_n_s_Xi, __pyx_n_s_new_columns, __pyx_n_s_imp);<span class='error_goto'> if (unlikely(!__pyx_tuple__189)) __PYX_ERR(0, 3719, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__189);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__189);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_85soft_imputer, 0, __pyx_n_s_soft_imputer, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__104));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3719, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (!<span class='pyx_c_api'>__Pyx_CyFunction_InitDefaults</span>(__pyx_t_4, sizeof(__pyx_defaults9), 1)) <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L1_error)</span>
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3719,0,<span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_t_2, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3719, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_soft_imputer, __pyx_t_6) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_codeobj__104 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(11, 0, 0, 26, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__189, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_soft_imputer, 3719, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__104)) __PYX_ERR(0, 3719, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3720</span>: def soft_imputer(</pre>
<pre class="cython line score-0">&#xA0;<span class="">3721</span>:     X,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3722</span>:     strategy='mean',</pre>
<pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3723</span>:     missing_values=np.nan,</pre>
<pre class='cython code score-9 '>  <span class='trace'>__Pyx_TraceLine</span>(3723,0,<span class='error_goto'>__PYX_ERR(0, 3723, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3723, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_nan);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3723, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults9, __pyx_t_4)-&gt;__pyx_arg_missing_values = __pyx_t_6;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_6);
  __pyx_t_6 = 0;
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsGetter</span>(__pyx_t_4, __pyx_pf_6gofast_5tools_7mlutils_129__defaults__);
</pre><pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3724</span>:     fill_value=None,</pre>
<pre class='cython code score-4 '>    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
</pre><pre class="cython line score-0">&#xA0;<span class="">3725</span>:     drop_features=False,</pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3726</span>:     mode=None,</pre>
<pre class='cython code score-10 '>    values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_True)));
    values[7] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)__pyx_int_0)));
    values[8] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    values[9] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
</pre><pre class="cython line score-0">&#xA0;<span class="">3727</span>:     copy=True,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3728</span>:     verbose=0,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3729</span>:     add_indicator=False,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3730</span>:     keep_empty_features=False,</pre>
<pre class="cython line score-156" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3731</span>:     skip_columns=None,</pre>
<pre class='cython code score-156 '>    values[10] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case 11: values[10] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 10);
        CYTHON_FALLTHROUGH;
        case 10: values[9] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 9);
        CYTHON_FALLTHROUGH;
        case  9: values[8] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 8);
        CYTHON_FALLTHROUGH;
        case  8: values[7] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 7);
        CYTHON_FALLTHROUGH;
        case  7: values[6] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 6);
        CYTHON_FALLTHROUGH;
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_X)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_strategy);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_missing_values);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_fill_value);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_drop_features);
          if (value) { values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  5:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_mode);
          if (value) { values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  6:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_copy);
          if (value) { values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  7:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_verbose);
          if (value) { values[7] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  8:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_add_indicator);
          if (value) { values[8] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  9:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_keep_empty_features);
          if (value) { values[9] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case 10:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_skip_columns);
          if (value) { values[10] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, __pyx_v_kwargs, values + 0, kwd_pos_args, "soft_imputer") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case 11: values[10] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 10);
        CYTHON_FALLTHROUGH;
        case 10: values[9] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 9);
        CYTHON_FALLTHROUGH;
        case  9: values[8] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 8);
        CYTHON_FALLTHROUGH;
        case  8: values[7] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 7);
        CYTHON_FALLTHROUGH;
        case  7: values[6] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 6);
        CYTHON_FALLTHROUGH;
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_X = values[0];
    __pyx_v_strategy = values[1];
    __pyx_v_missing_values = values[2];
    __pyx_v_fill_value = values[3];
    __pyx_v_drop_features = values[4];
    __pyx_v_mode = values[5];
    __pyx_v_copy = values[6];
    __pyx_v_verbose = values[7];
    __pyx_v_add_indicator = values[8];
    __pyx_v_keep_empty_features = values[9];
    __pyx_v_skip_columns = values[10];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("soft_imputer", 0, 1, 11, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 3719, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_kwargs); __pyx_v_kwargs = 0;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.soft_imputer", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_84soft_imputer(__pyx_self, __pyx_v_X, __pyx_v_strategy, __pyx_v_missing_values, __pyx_v_fill_value, __pyx_v_drop_features, __pyx_v_mode, __pyx_v_copy, __pyx_v_verbose, __pyx_v_add_indicator, __pyx_v_keep_empty_features, __pyx_v_skip_columns, __pyx_v_kwargs);
</pre><pre class="cython line score-0">&#xA0;<span class="">3732</span>:     **kwargs</pre>
<pre class="cython line score-0">&#xA0;<span class="">3733</span>:     ):</pre>
<pre class="cython line score-0">&#xA0;<span class="">3734</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">3735</span>:     Impute missing values in a dataset, optionally dropping features and handling</pre>
<pre class="cython line score-0">&#xA0;<span class="">3736</span>:     both numerical and categorical data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3737</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3738</span>:     This function extends the functionality of scikit-learn's SimpleImputer to</pre>
<pre class="cython line score-0">&#xA0;<span class="">3739</span>:     support dropping specified features and a ``bi-impute`` mode for handling</pre>
<pre class="cython line score-0">&#xA0;<span class="">3740</span>:     both numerical and categorical data. It ensures API consistency with</pre>
<pre class="cython line score-0">&#xA0;<span class="">3741</span>:     scikit-learn's transformers and allows for flexible imputation strategies.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3742</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3743</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">3744</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3745</span>:     X : array-like or sparse matrix of shape (n_samples, n_features)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3746</span>:         The input data to impute.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3747</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3748</span>:     strategy : str, default='mean'</pre>
<pre class="cython line score-0">&#xA0;<span class="">3749</span>:         The imputation strategy:</pre>
<pre class="cython line score-0">&#xA0;<span class="">3750</span>:         - 'mean': Impute using the mean of each column. Only for numeric data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3751</span>:         - 'median': Impute using the median of each column. Only for numeric data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3752</span>:         - 'most_frequent': Impute using the most frequent value of each column.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3753</span>:           For numeric and categorical data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3754</span>:         - 'constant': Impute using the specified `fill_value`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3755</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3756</span>:     missing_values : int, float, str, np.nan, None, or pd.NA, default=np.nan</pre>
<pre class="cython line score-0">&#xA0;<span class="">3757</span>:         The placeholder for the missing values. All occurrences of</pre>
<pre class="cython line score-0">&#xA0;<span class="">3758</span>:         `missing_values` will be imputed.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3759</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3760</span>:     fill_value : str or numerical value, default=None</pre>
<pre class="cython line score-0">&#xA0;<span class="">3761</span>:         When `strategy` == 'constant', `fill_value` is used to replace all</pre>
<pre class="cython line score-0">&#xA0;<span class="">3762</span>:         occurrences of `missing_values`. If left to the default, `fill_value`</pre>
<pre class="cython line score-0">&#xA0;<span class="">3763</span>:         will be 0 when imputing numerical data and 'missing_value' for strings</pre>
<pre class="cython line score-0">&#xA0;<span class="">3764</span>:         or object data types.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3765</span>:         For 'constant' strategy, specifies the value used for replacement.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3766</span>:         In 'bi-impute' mode, allows specifying separate fill values for</pre>
<pre class="cython line score-0">&#xA0;<span class="">3767</span>:         numerical and categorical data using a delimiter from the set</pre>
<pre class="cython line score-0">&#xA0;<span class="">3768</span>:         {"__", "--", "&amp;", "@", "!"}. For example, "0.5__missing" indicates</pre>
<pre class="cython line score-0">&#xA0;<span class="">3769</span>:         0.5 as fill value for numerical data and "missing" for categorical.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3770</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3771</span>:     drop_features : bool or list, default=False</pre>
<pre class="cython line score-0">&#xA0;<span class="">3772</span>:         If True, drops all categorical features before imputation. If a list,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3773</span>:         drops specified features.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3774</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3775</span>:     mode : str, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3776</span>:         If set to 'bi-impute', imputes both numerical and categorical features</pre>
<pre class="cython line score-0">&#xA0;<span class="">3777</span>:         and returns a single imputed dataframe. Only 'bi-impute' is supported.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3778</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3779</span>:     copy : bool, default=True</pre>
<pre class="cython line score-0">&#xA0;<span class="">3780</span>:         If True, a copy of X will be created. If False, imputation will</pre>
<pre class="cython line score-0">&#xA0;<span class="">3781</span>:         be done in-place whenever possible.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3782</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3783</span>:     verbose : int, default=0</pre>
<pre class="cython line score-0">&#xA0;<span class="">3784</span>:         Controls the verbosity of the imputer.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3785</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3786</span>:     add_indicator : bool, default=False</pre>
<pre class="cython line score-0">&#xA0;<span class="">3787</span>:         If True, a `MissingIndicator` transform will be added to the output</pre>
<pre class="cython line score-0">&#xA0;<span class="">3788</span>:         of the imputer's transform.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3789</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3790</span>:     keep_empty_features : bool, default=False</pre>
<pre class="cython line score-0">&#xA0;<span class="">3791</span>:         If True, features that are all missing when `fit` is called are</pre>
<pre class="cython line score-0">&#xA0;<span class="">3792</span>:         included in the transform output.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3793</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3794</span>:     skip_columns : list of str or int, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">3795</span>:         Specifies the columns to exclude from processing when the decorator is</pre>
<pre class="cython line score-0">&#xA0;<span class="">3796</span>:         applied to a function. If the input data `X` is a pandas DataFrame,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3797</span>:         `skip_columns` should contain the names of the columns to be skipped.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3798</span>:         If `X` is a numpy array, `skip_columns`  should be a list of column</pre>
<pre class="cython line score-0">&#xA0;<span class="">3799</span>:         indices (integers) indicating the positions of the columns to be excluded.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3800</span>:         This allows selective processing of data, avoiding alterations to the</pre>
<pre class="cython line score-0">&#xA0;<span class="">3801</span>:         specified columns.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3802</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3803</span>:     **kwargs : dict</pre>
<pre class="cython line score-0">&#xA0;<span class="">3804</span>:         Additional fitting parameters.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3805</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3806</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">3807</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3808</span>:     Xi : array-like or sparse matrix of shape (n_samples, n_features)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3809</span>:         The imputed dataset.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3810</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3811</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">3812</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3813</span>:     &gt;&gt;&gt; import numpy as np</pre>
<pre class="cython line score-0">&#xA0;<span class="">3814</span>:     &gt;&gt;&gt; from gofast.tools.mlutils import soft_imputer</pre>
<pre class="cython line score-0">&#xA0;<span class="">3815</span>:     &gt;&gt;&gt; X = np.array([[1, np.nan, 3], [4, 5, np.nan], [np.nan, np.nan, 9]])</pre>
<pre class="cython line score-0">&#xA0;<span class="">3816</span>:     &gt;&gt;&gt; soft_imputer(X, strategy='mean')</pre>
<pre class="cython line score-0">&#xA0;<span class="">3817</span>:     array([[ 1. ,  5. ,  3. ],</pre>
<pre class="cython line score-0">&#xA0;<span class="">3818</span>:            [ 4. ,  5. ,  6. ],</pre>
<pre class="cython line score-0">&#xA0;<span class="">3819</span>:            [ 2.5,  5. ,  9. ]])</pre>
<pre class="cython line score-0">&#xA0;<span class="">3820</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3821</span>:     &gt;&gt;&gt; df = pd.DataFrame({'A': [1, 2, np.nan], 'B': ['a', np.nan, 'b']})</pre>
<pre class="cython line score-0">&#xA0;<span class="">3822</span>:     &gt;&gt;&gt; soft_imputer(df, strategy='most_frequent', mode='bi-impute')</pre>
<pre class="cython line score-0">&#xA0;<span class="">3823</span>:                A  B</pre>
<pre class="cython line score-0">&#xA0;<span class="">3824</span>:         0    1.0  a</pre>
<pre class="cython line score-0">&#xA0;<span class="">3825</span>:         1    2.0  a</pre>
<pre class="cython line score-0">&#xA0;<span class="">3826</span>:         2    1.5  b</pre>
<pre class="cython line score-0">&#xA0;<span class="">3827</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3828</span>:     Notes</pre>
<pre class="cython line score-0">&#xA0;<span class="">3829</span>:     -----</pre>
<pre class="cython line score-0">&#xA0;<span class="">3830</span>:     The 'bi-impute' mode requires categorical features to be explicitly indicated</pre>
<pre class="cython line score-0">&#xA0;<span class="">3831</span>:     as such by using pandas Categorical dtype or by specifying features to drop.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3832</span>:     """</pre>
<pre class="cython line score-63" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3833</span>:     X, is_frame  = _convert_to_dataframe(X)</pre>
<pre class='cython code score-63 '>  <span class='trace'>__Pyx_TraceLine</span>(3833,0,<span class='error_goto'>__PYX_ERR(0, 3833, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_convert_to_dataframe);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3833, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_X};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3833, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_1))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
    PyObject* sequence = __pyx_t_1;
    Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
    if (unlikely(size != 2)) {
      if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
      else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
      <span class='error_goto'>__PYX_ERR(0, 3833, __pyx_L1_error)</span>
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
      __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
      __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
    } else {
      __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
      __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
    }
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
    #else
    __pyx_t_2 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3833, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3833, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    #endif
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  } else {
    Py_ssize_t index = -1;
    __pyx_t_5 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3833, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_5);
    index = 0; __pyx_t_2 = __pyx_t_6(__pyx_t_5); if (unlikely(!__pyx_t_2)) goto __pyx_L3_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    index = 1; __pyx_t_3 = __pyx_t_6(__pyx_t_5); if (unlikely(!__pyx_t_3)) goto __pyx_L3_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_6(__pyx_t_5), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3833, __pyx_L1_error)</span>
    __pyx_t_6 = NULL;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    goto __pyx_L4_unpacking_done;
    __pyx_L3_unpacking_failed:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_6 = NULL;
    if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
    <span class='error_goto'>__PYX_ERR(0, 3833, __pyx_L1_error)</span>
    __pyx_L4_unpacking_done:;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_X, __pyx_t_2);
  __pyx_t_2 = 0;
  __pyx_v_is_frame = __pyx_t_3;
  __pyx_t_3 = 0;
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3834</span>:     X = _drop_features(X, drop_features)</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(3834,0,<span class='error_goto'>__PYX_ERR(0, 3834, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_drop_features_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3834, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_2 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_2, __pyx_v_X, __pyx_v_drop_features};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3834, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_X, __pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3835</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3836</span>:     if mode == 'bi-impute':</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3836,0,<span class='error_goto'>__PYX_ERR(0, 3836, __pyx_L1_error)</span>)
  __pyx_t_7 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_mode, __pyx_kp_u_bi_impute, Py_EQ)); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3836, __pyx_L1_error)</span>
  if (__pyx_t_7) {
/*  */
    goto __pyx_L5;
  }
</pre><pre class="cython line score-62" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3837</span>:         fill_values, strategies = _enabled_bi_impute_mode (strategy, fill_value)</pre>
<pre class='cython code score-62 '>    <span class='trace'>__Pyx_TraceLine</span>(3837,0,<span class='error_goto'>__PYX_ERR(0, 3837, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_enabled_bi_impute_mode);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3837, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_2, __pyx_v_strategy, __pyx_v_fill_value};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 2+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3837, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_1))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
      PyObject* sequence = __pyx_t_1;
      Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
      if (unlikely(size != 2)) {
        if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
        else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
        <span class='error_goto'>__PYX_ERR(0, 3837, __pyx_L1_error)</span>
      }
      #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
      if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
        __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
        __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
      } else {
        __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
        __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
      }
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      #else
      __pyx_t_3 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3837, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_2 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3837, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      #endif
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    } else {
      Py_ssize_t index = -1;
      __pyx_t_5 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3837, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_5);
      index = 0; __pyx_t_3 = __pyx_t_6(__pyx_t_5); if (unlikely(!__pyx_t_3)) goto __pyx_L6_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      index = 1; __pyx_t_2 = __pyx_t_6(__pyx_t_5); if (unlikely(!__pyx_t_2)) goto __pyx_L6_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_6(__pyx_t_5), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3837, __pyx_L1_error)</span>
      __pyx_t_6 = NULL;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      goto __pyx_L7_unpacking_done;
      __pyx_L6_unpacking_failed:;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_6 = NULL;
      if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
      <span class='error_goto'>__PYX_ERR(0, 3837, __pyx_L1_error)</span>
      __pyx_L7_unpacking_done:;
    }
    __pyx_v_fill_values = __pyx_t_3;
    __pyx_t_3 = 0;
    __pyx_v_strategies = __pyx_t_2;
    __pyx_t_2 = 0;
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3838</span>:         try:</pre>
<pre class='cython code score-9 '>    <span class='trace'>__Pyx_TraceLine</span>(3838,0,<span class='error_goto'>__PYX_ERR(0, 3838, __pyx_L1_error)</span>)
    {
      /*try:*/ {
/*  */
      }
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      goto __pyx_L13_try_end;
      __pyx_L8_error:;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
/*  */
      __pyx_L10_except_error:;
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_8);
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_9);
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_10);
      <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_8, __pyx_t_9, __pyx_t_10);
      goto __pyx_L1_error;
      __pyx_L13_try_end:;
    }
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3839</span>:             num_imputer = SimpleImputer(</pre>
<pre class='cython code score-6 '>        <span class='trace'>__Pyx_TraceLine</span>(3839,0,<span class='error_goto'>__PYX_ERR(0, 3839, __pyx_L8_error)</span>)
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_SimpleImputer);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3839, __pyx_L8_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
/*  */
        <span class='trace'>__Pyx_TraceLine</span>(3839,0,<span class='error_goto'>__PYX_ERR(0, 3839, __pyx_L8_error)</span>)
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_empty_tuple, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3839, __pyx_L8_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        __pyx_v_num_imputer = __pyx_t_3;
        __pyx_t_3 = 0;
</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3840</span>:                 strategy=strategies[0], missing_values=missing_values,</pre>
<pre class='cython code score-15 '>        <span class='trace'>__Pyx_TraceLine</span>(3840,0,<span class='error_goto'>__PYX_ERR(0, 3840, __pyx_L8_error)</span>)
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3840, __pyx_L8_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_strategies, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3840, __pyx_L8_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_strategy, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3840, __pyx_L8_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_missing_values, __pyx_v_missing_values) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3840, __pyx_L8_error)</span>
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3841</span>:                 fill_value=fill_values[0])</pre>
<pre class='cython code score-8 '>        <span class='trace'>__Pyx_TraceLine</span>(3841,0,<span class='error_goto'>__PYX_ERR(0, 3841, __pyx_L8_error)</span>)
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_fill_values, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3841, __pyx_L8_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_fill_value, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3840, __pyx_L8_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3842</span>:         except ValueError as e:</pre>
<pre class='cython code score-22 '>      <span class='trace'>__Pyx_TraceLine</span>(3842,0,<span class='error_goto'>__PYX_ERR(0, 3842, __pyx_L10_except_error)</span>)
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyErr_ExceptionMatches</span>(__pyx_builtin_ValueError);
      if (__pyx_t_4) {
        <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.soft_imputer", __pyx_clineno, __pyx_lineno, __pyx_filename);
        if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_3, &amp;__pyx_t_2, &amp;__pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3842, __pyx_L10_except_error)</span>
        <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
        <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_2);
        <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        __pyx_v_e = __pyx_t_2;
        /*try:*/ {
/*  */
        <span class='trace'>__Pyx_TraceLine</span>(3842,0,<span class='error_goto'>__PYX_ERR(0, 3842, __pyx_L19_error)</span>)
        /*finally:*/ {
          __pyx_L19_error:;
          /*exception exit:*/{
            __Pyx_PyThreadState_declare
            __Pyx_PyThreadState_assign
            __pyx_t_18 = 0; __pyx_t_19 = 0; __pyx_t_20 = 0; __pyx_t_21 = 0; __pyx_t_22 = 0; __pyx_t_23 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
            if (PY_MAJOR_VERSION &gt;= 3) <span class='pyx_c_api'>__Pyx_ExceptionSwap</span>(&amp;__pyx_t_21, &amp;__pyx_t_22, &amp;__pyx_t_23);
            if ((PY_MAJOR_VERSION &lt; 3) || unlikely(<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_18, &amp;__pyx_t_19, &amp;__pyx_t_20) &lt; 0)) <span class='pyx_c_api'>__Pyx_ErrFetch</span>(&amp;__pyx_t_18, &amp;__pyx_t_19, &amp;__pyx_t_20);
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_18);
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_19);
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_20);
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_21);
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_22);
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_23);
            __pyx_t_4 = __pyx_lineno; __pyx_t_16 = __pyx_clineno; __pyx_t_17 = __pyx_filename;
            {
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_e); __pyx_v_e = 0;
            }
            if (PY_MAJOR_VERSION &gt;= 3) {
              <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_21);
              <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_22);
              <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_23);
              <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_21, __pyx_t_22, __pyx_t_23);
            }
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_18);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_19);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_20);
            <span class='pyx_c_api'>__Pyx_ErrRestore</span>(__pyx_t_18, __pyx_t_19, __pyx_t_20);
            __pyx_t_18 = 0; __pyx_t_19 = 0; __pyx_t_20 = 0; __pyx_t_21 = 0; __pyx_t_22 = 0; __pyx_t_23 = 0;
            __pyx_lineno = __pyx_t_4; __pyx_clineno = __pyx_t_16; __pyx_filename = __pyx_t_17;
            goto __pyx_L10_except_error;
          }
        }
      }
      goto __pyx_L10_except_error;
</pre><pre class="cython line score-1" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3843</span>:             msg= (" Consider using the {'__', '--', '&amp;', '@', '!'} delimiter"</pre>
<pre class='cython code score-1 '>          <span class='trace'>__Pyx_TraceLine</span>(3843,0,<span class='error_goto'>__PYX_ERR(0, 3843, __pyx_L19_error)</span>)
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Consider_using_the____delimiter);
          __pyx_v_msg = __pyx_kp_u_Consider_using_the____delimiter;
</pre><pre class="cython line score-0">&#xA0;<span class="">3844</span>:                   " for mixed numeric and categorical fill values.")</pre>
<pre class="cython line score-0">&#xA0;<span class="">3845</span>:             # Improve the error message</pre>
<pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3846</span>:             raise ValueError(</pre>
<pre class='cython code score-6 '>          <span class='trace'>__Pyx_TraceLine</span>(3846,0,<span class='error_goto'>__PYX_ERR(0, 3846, __pyx_L19_error)</span>)
          __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3846, __pyx_L19_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
          <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_11, 0, 0, 0);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
          <span class='error_goto'>__PYX_ERR(0, 3846, __pyx_L19_error)</span>
        }
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3847</span>:                 f"Imputation failed due to: {e}." +</pre>
<pre class='cython code score-25 '>            <span class='trace'>__Pyx_TraceLine</span>(3847,0,<span class='error_goto'>__PYX_ERR(0, 3847, __pyx_L19_error)</span>)
            __pyx_t_11 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3847, __pyx_L19_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
            __pyx_t_14 = 0;
            __pyx_t_15 = 127;
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Imputation_failed_due_to);
            __pyx_t_14 += 26;
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Imputation_failed_due_to);
            <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_11, 0, __pyx_kp_u_Imputation_failed_due_to);
            __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_e, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 3847, __pyx_L19_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
            __pyx_t_15 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_12) &gt; __pyx_t_15) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_12) : __pyx_t_15;
            __pyx_t_14 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_12);
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_12);
            <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_11, 1, __pyx_t_12);
            __pyx_t_12 = 0;
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__3);
            __pyx_t_14 += 1;
            <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__3);
            <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_11, 2, __pyx_kp_u__3);
            __pyx_t_12 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_11, 3, __pyx_t_14, __pyx_t_15);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 3847, __pyx_L19_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
/*  */
            <span class='trace'>__Pyx_TraceLine</span>(3848,0,<span class='error_goto'>__PYX_ERR(0, 3848, __pyx_L19_error)</span>)
            __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyUnicode_ConcatInPlace</span>(__pyx_t_12, __pyx_v_msg);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3847, __pyx_L19_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
            __pyx_t_5 = __pyx_t_11;
            __pyx_t_11 = 0;
          } else {
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__12);
            __pyx_t_5 = __pyx_kp_u__12;
          }
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3848</span>:                 msg if check_mixed_data_types(X) else ''</pre>
<pre class='cython code score-19 '>          <span class='trace'>__Pyx_TraceLine</span>(3848,0,<span class='error_goto'>__PYX_ERR(0, 3848, __pyx_L19_error)</span>)
          <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_12, __pyx_n_s_check_mixed_data_types);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 3848, __pyx_L19_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
          __pyx_t_13 = NULL;
          __pyx_t_4 = 0;
          #if CYTHON_UNPACK_METHODS
          if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_12))) {
            __pyx_t_13 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_12);
            if (likely(__pyx_t_13)) {
              PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_12);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_13);
              <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
              <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_12, function);
              __pyx_t_4 = 1;
            }
          }
          #endif
          {
            PyObject *__pyx_callargs[2] = {__pyx_t_13, __pyx_v_X};
            __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_12, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
            if (unlikely(!__pyx_t_11)) <span class='error_goto'>__PYX_ERR(0, 3848, __pyx_L19_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
            <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
          }
          __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_11); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3848, __pyx_L19_error)</span>
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
          if (__pyx_t_7) {
</pre><pre class="cython line score-0">&#xA0;<span class="">3849</span>:                 )</pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3850</span>:         cat_imputer = SimpleImputer(strategy= strategies[1],</pre>
<pre class='cython code score-16 '>    <span class='trace'>__Pyx_TraceLine</span>(3850,0,<span class='error_goto'>__PYX_ERR(0, 3850, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_SimpleImputer);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3850, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3850, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_strategies, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3850, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_strategy, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3850, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(3850,0,<span class='error_goto'>__PYX_ERR(0, 3850, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_empty_tuple, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3850, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_v_cat_imputer = __pyx_t_3;
    __pyx_t_3 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3851</span>:                                     missing_values=missing_values,</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(3851,0,<span class='error_goto'>__PYX_ERR(0, 3851, __pyx_L1_error)</span>)
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_missing_values, __pyx_v_missing_values) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3850, __pyx_L1_error)</span>
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3852</span>:                                     fill_value = fill_values [1]</pre>
<pre class='cython code score-8 '>    <span class='trace'>__Pyx_TraceLine</span>(3852,0,<span class='error_goto'>__PYX_ERR(0, 3852, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_fill_values, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3852, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_fill_value, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3850, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3853</span>:                                     )</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3854</span>:         num_imputed, cat_imputed, num_columns, cat_columns = _separate_and_impute(</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(3854,0,<span class='error_goto'>__PYX_ERR(0, 3854, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_separate_and_impute);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3854, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(3854,0,<span class='error_goto'>__PYX_ERR(0, 3854, __pyx_L1_error)</span>)
    __pyx_v_num_imputed = __pyx_t_2;
    __pyx_t_2 = 0;
    __pyx_v_cat_imputed = __pyx_t_1;
    __pyx_t_1 = 0;
    __pyx_v_num_columns = __pyx_t_11;
    __pyx_t_11 = 0;
    __pyx_v_cat_columns = __pyx_t_5;
    __pyx_t_5 = 0;
</pre><pre class="cython line score-65" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3855</span>:             X, num_imputer, cat_imputer)</pre>
<pre class='cython code score-65 '>    <span class='trace'>__Pyx_TraceLine</span>(3855,0,<span class='error_goto'>__PYX_ERR(0, 3855, __pyx_L1_error)</span>)
    __pyx_t_1 = NULL;
    __pyx_t_16 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_16 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[4] = {__pyx_t_1, __pyx_v_X, __pyx_v_num_imputer, __pyx_v_cat_imputer};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_16, 3+__pyx_t_16);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 3854, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_3))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_3))) {
      PyObject* sequence = __pyx_t_3;
      Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
      if (unlikely(size != 4)) {
        if (size &gt; 4) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(4);
        else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
        <span class='error_goto'>__PYX_ERR(0, 3854, __pyx_L1_error)</span>
      }
      #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
      if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
        __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
        __pyx_t_1 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
        __pyx_t_11 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 2); 
        __pyx_t_5 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 3); 
      } else {
        __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
        __pyx_t_1 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
        __pyx_t_11 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 2); 
        __pyx_t_5 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 3); 
      }
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
      #else
      {
        Py_ssize_t i;
        PyObject** temps[4] = {&amp;__pyx_t_2,&amp;__pyx_t_1,&amp;__pyx_t_11,&amp;__pyx_t_5};
        for (i=0; i &lt; 4; i++) {
          PyObject* item = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, i);<span class='error_goto'> if (unlikely(!item)) __PYX_ERR(0, 3854, __pyx_L1_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(item);
          *(temps[i]) = item;
        }
      }
      #endif
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    } else {
      Py_ssize_t index = -1;
      PyObject** temps[4] = {&amp;__pyx_t_2,&amp;__pyx_t_1,&amp;__pyx_t_11,&amp;__pyx_t_5};
      __pyx_t_12 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 3854, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_12);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_12);
      for (index=0; index &lt; 4; index++) {
        PyObject* item = __pyx_t_6(__pyx_t_12); if (unlikely(!item)) goto __pyx_L25_unpacking_failed;
        <span class='refnanny'>__Pyx_GOTREF</span>(item);
        *(temps[index]) = item;
      }
      if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_6(__pyx_t_12), 4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3854, __pyx_L1_error)</span>
      __pyx_t_6 = NULL;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
      goto __pyx_L26_unpacking_done;
      __pyx_L25_unpacking_failed:;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
      __pyx_t_6 = NULL;
      if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
      <span class='error_goto'>__PYX_ERR(0, 3854, __pyx_L1_error)</span>
      __pyx_L26_unpacking_done:;
    }
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3856</span>:         Xi = np.hstack((num_imputed, cat_imputed))</pre>
<pre class='cython code score-31 '>    <span class='trace'>__Pyx_TraceLine</span>(3856,0,<span class='error_goto'>__PYX_ERR(0, 3856, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3856, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_hstack);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3856, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3856, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_num_imputed);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_num_imputed);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_v_num_imputed)) <span class='error_goto'>__PYX_ERR(0, 3856, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_cat_imputed);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_cat_imputed);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 1, __pyx_v_cat_imputed)) <span class='error_goto'>__PYX_ERR(0, 3856, __pyx_L1_error)</span>;
    __pyx_t_1 = NULL;
    __pyx_t_16 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_11))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_11);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_11, function);
        __pyx_t_16 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_t_5};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_11, __pyx_callargs+1-__pyx_t_16, 1+__pyx_t_16);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 3856, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
    }
    __pyx_v_Xi = __pyx_t_3;
    __pyx_t_3 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3857</span>:         new_columns = num_columns + cat_columns</pre>
<pre class='cython code score-5 '>    <span class='trace'>__Pyx_TraceLine</span>(3857,0,<span class='error_goto'>__PYX_ERR(0, 3857, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='py_c_api'>PyNumber_Add</span>(__pyx_v_num_columns, __pyx_v_cat_columns);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3857, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_v_new_columns = __pyx_t_3;
    __pyx_t_3 = 0;
</pre><pre class="cython line score-34" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3858</span>:         Xi = pd.DataFrame(Xi, index=X.index, columns=new_columns)</pre>
<pre class='cython code score-34 '>    <span class='trace'>__Pyx_TraceLine</span>(3858,0,<span class='error_goto'>__PYX_ERR(0, 3858, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3858, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3858, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3858, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_Xi);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_Xi);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_Xi)) <span class='error_goto'>__PYX_ERR(0, 3858, __pyx_L1_error)</span>;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3858, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_index);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3858, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_index, __pyx_t_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3858, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_5, __pyx_n_s_columns, __pyx_v_new_columns) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3858, __pyx_L1_error)</span>
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_11, __pyx_t_3, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3858, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_Xi, __pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3859</span>:     else:</pre>
<pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3860</span>:         try:</pre>
<pre class='cython code score-12 '>  <span class='trace'>__Pyx_TraceLine</span>(3860,0,<span class='error_goto'>__PYX_ERR(0, 3860, __pyx_L1_error)</span>)
  /*else*/ {
    {
      /*try:*/ {
/*  */
      }
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      goto __pyx_L32_try_end;
      __pyx_L27_error:;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
/*  */
      __pyx_L29_except_error:;
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_10);
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_9);
      <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_8);
      <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_10, __pyx_t_9, __pyx_t_8);
      goto __pyx_L1_error;
      __pyx_L32_try_end:;
    }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3861</span>:             Xi, imp = _impute_data(</pre>
<pre class='cython code score-2 '>        <span class='trace'>__Pyx_TraceLine</span>(3861,0,<span class='error_goto'>__PYX_ERR(0, 3861, __pyx_L27_error)</span>)
        <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_impute_data);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3861, __pyx_L27_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
/*  */
        <span class='trace'>__Pyx_TraceLine</span>(3861,0,<span class='error_goto'>__PYX_ERR(0, 3861, __pyx_L27_error)</span>)
        __pyx_v_Xi = __pyx_t_5;
        __pyx_t_5 = 0;
        __pyx_v_imp = __pyx_t_3;
        __pyx_t_3 = 0;
</pre><pre class="cython line score-60" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3862</span>:                 X, strategy, missing_values, fill_value, add_indicator, copy)</pre>
<pre class='cython code score-60 '>        <span class='trace'>__Pyx_TraceLine</span>(3862,0,<span class='error_goto'>__PYX_ERR(0, 3862, __pyx_L27_error)</span>)
        __pyx_t_3 = NULL;
        __pyx_t_16 = 0;
        #if CYTHON_UNPACK_METHODS
        if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_5))) {
          __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_5);
          if (likely(__pyx_t_3)) {
            PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_5);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
            <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
            <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_5, function);
            __pyx_t_16 = 1;
          }
        }
        #endif
        {
          PyObject *__pyx_callargs[7] = {__pyx_t_3, __pyx_v_X, __pyx_v_strategy, __pyx_v_missing_values, __pyx_v_fill_value, __pyx_v_add_indicator, __pyx_v_copy};
          __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_5, __pyx_callargs+1-__pyx_t_16, 6+__pyx_t_16);
          <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
          if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3861, __pyx_L27_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
        }
        if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_1))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
          PyObject* sequence = __pyx_t_1;
          Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
          if (unlikely(size != 2)) {
            if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
            else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
            <span class='error_goto'>__PYX_ERR(0, 3861, __pyx_L27_error)</span>
          }
          #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
          if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
            __pyx_t_5 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
            __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
          } else {
            __pyx_t_5 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
            __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
          }
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
          #else
          __pyx_t_5 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3861, __pyx_L27_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
          __pyx_t_3 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3861, __pyx_L27_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          #endif
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        } else {
          Py_ssize_t index = -1;
          __pyx_t_11 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3861, __pyx_L27_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
          __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_11);
          index = 0; __pyx_t_5 = __pyx_t_6(__pyx_t_11); if (unlikely(!__pyx_t_5)) goto __pyx_L33_unpacking_failed;
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
          index = 1; __pyx_t_3 = __pyx_t_6(__pyx_t_11); if (unlikely(!__pyx_t_3)) goto __pyx_L33_unpacking_failed;
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_6(__pyx_t_11), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3861, __pyx_L27_error)</span>
          __pyx_t_6 = NULL;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
          goto __pyx_L34_unpacking_done;
          __pyx_L33_unpacking_failed:;
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
          __pyx_t_6 = NULL;
          if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
          <span class='error_goto'>__PYX_ERR(0, 3861, __pyx_L27_error)</span>
          __pyx_L34_unpacking_done:;
        }
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3863</span>:         except Exception as e :</pre>
<pre class='cython code score-22 '>      <span class='trace'>__Pyx_TraceLine</span>(3863,0,<span class='error_goto'>__PYX_ERR(0, 3863, __pyx_L29_except_error)</span>)
      __pyx_t_16 = <span class='pyx_c_api'>__Pyx_PyErr_ExceptionMatches</span>(((PyObject *)(&amp;((PyTypeObject*)PyExc_Exception)[0])));
      if (__pyx_t_16) {
        <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.soft_imputer", __pyx_clineno, __pyx_lineno, __pyx_filename);
        if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_1, &amp;__pyx_t_3, &amp;__pyx_t_5) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3863, __pyx_L29_except_error)</span>
        <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
        <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
        <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        __pyx_v_e = __pyx_t_3;
        /*try:*/ {
/*  */
        <span class='trace'>__Pyx_TraceLine</span>(3863,0,<span class='error_goto'>__PYX_ERR(0, 3863, __pyx_L40_error)</span>)
        /*finally:*/ {
          __pyx_L40_error:;
          /*exception exit:*/{
            __Pyx_PyThreadState_declare
            __Pyx_PyThreadState_assign
            __pyx_t_23 = 0; __pyx_t_22 = 0; __pyx_t_21 = 0; __pyx_t_20 = 0; __pyx_t_19 = 0; __pyx_t_18 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
            <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
            if (PY_MAJOR_VERSION &gt;= 3) <span class='pyx_c_api'>__Pyx_ExceptionSwap</span>(&amp;__pyx_t_20, &amp;__pyx_t_19, &amp;__pyx_t_18);
            if ((PY_MAJOR_VERSION &lt; 3) || unlikely(<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_23, &amp;__pyx_t_22, &amp;__pyx_t_21) &lt; 0)) <span class='pyx_c_api'>__Pyx_ErrFetch</span>(&amp;__pyx_t_23, &amp;__pyx_t_22, &amp;__pyx_t_21);
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_23);
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_22);
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_21);
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_20);
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_19);
            <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_18);
            __pyx_t_16 = __pyx_lineno; __pyx_t_4 = __pyx_clineno; __pyx_t_24 = __pyx_filename;
            {
              <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_e); __pyx_v_e = 0;
            }
            if (PY_MAJOR_VERSION &gt;= 3) {
              <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_20);
              <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_19);
              <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_18);
              <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_20, __pyx_t_19, __pyx_t_18);
            }
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_23);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_22);
            <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_21);
            <span class='pyx_c_api'>__Pyx_ErrRestore</span>(__pyx_t_23, __pyx_t_22, __pyx_t_21);
            __pyx_t_23 = 0; __pyx_t_22 = 0; __pyx_t_21 = 0; __pyx_t_20 = 0; __pyx_t_19 = 0; __pyx_t_18 = 0;
            __pyx_lineno = __pyx_t_16; __pyx_clineno = __pyx_t_4; __pyx_filename = __pyx_t_24;
            goto __pyx_L29_except_error;
          }
        }
      }
      goto __pyx_L29_except_error;
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3864</span>:             raise ValueError("Imputation failed. Consider using the"</pre>
<pre class='cython code score-7 '>          <span class='trace'>__Pyx_TraceLine</span>(3864,0,<span class='error_goto'>__PYX_ERR(0, 3864, __pyx_L40_error)</span>)
          __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__105, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3864, __pyx_L40_error)</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
/*  */
  __pyx_tuple__105 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Imputation_failed_Consider_using);<span class='error_goto'> if (unlikely(!__pyx_tuple__105)) __PYX_ERR(0, 3864, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__105);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__105);
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3865</span>:                              " 'bi-impute' mode for mixed data types.") from e</pre>
<pre class='cython code score-3 '>          <span class='trace'>__Pyx_TraceLine</span>(3865,0,<span class='error_goto'>__PYX_ERR(0, 3865, __pyx_L40_error)</span>)
          <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_11, 0, 0, __pyx_v_e);
          <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
          <span class='error_goto'>__PYX_ERR(0, 3864, __pyx_L40_error)</span>
        }
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3866</span>:         if isinstance(X, pd.DataFrame):</pre>
<pre class='cython code score-11 '>    <span class='trace'>__Pyx_TraceLine</span>(3866,0,<span class='error_goto'>__PYX_ERR(0, 3866, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3866, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3866, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_7 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_X, __pyx_t_3);<span class='error_goto'> if (unlikely(__pyx_t_7 == ((int)-1))) __PYX_ERR(0, 3866, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (__pyx_t_7) {
/*  */
    }
  }
  __pyx_L5:;
</pre><pre class="cython line score-37" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3867</span>:             Xi = pd.DataFrame(Xi, index=X.index, columns=imp.feature_names_in_)</pre>
<pre class='cython code score-37 '>      <span class='trace'>__Pyx_TraceLine</span>(3867,0,<span class='error_goto'>__PYX_ERR(0, 3867, __pyx_L1_error)</span>)
      <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3867, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3867, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3867, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_Xi);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_Xi);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_Xi)) <span class='error_goto'>__PYX_ERR(0, 3867, __pyx_L1_error)</span>;
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3867, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_index);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3867, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_index, __pyx_t_11) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3867, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
      __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_imp, __pyx_n_s_feature_names_in);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3867, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_columns, __pyx_t_11) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3867, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
      __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_t_3, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3867, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_Xi, __pyx_t_11);
      __pyx_t_11 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3868</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3869</span>:     if not is_frame: # revert back to array</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3869,0,<span class='error_goto'>__PYX_ERR(0, 3869, __pyx_L1_error)</span>)
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_is_frame); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3869, __pyx_L1_error)</span>
  __pyx_t_25 = (!__pyx_t_7);
  if (__pyx_t_25) {
/*  */
  }
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3870</span>:         Xi = np.array ( Xi )</pre>
<pre class='cython code score-20 '>    <span class='trace'>__Pyx_TraceLine</span>(3870,0,<span class='error_goto'>__PYX_ERR(0, 3870, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3870, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_array_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3870, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_v_Xi};
      __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_11)) <span class='error_goto'>__PYX_ERR(0, 3870, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_Xi, __pyx_t_11);
    __pyx_t_11 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3871</span>:     return Xi</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3871,0,<span class='error_goto'>__PYX_ERR(0, 3871, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_Xi);
  __pyx_r = __pyx_v_Xi;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3872</span>: </pre>
<pre class="cython line score-61" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3873</span>: def _convert_to_dataframe(X):</pre>
<pre class='cython code score-61 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_87_convert_to_dataframe(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_86_convert_to_dataframe, "Ensure input is a pandas DataFrame.");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_87_convert_to_dataframe = {"_convert_to_dataframe", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_87_convert_to_dataframe, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_86_convert_to_dataframe};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_87_convert_to_dataframe(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_X = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_convert_to_dataframe (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_X,0};
  PyObject* values[1] = {0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_X)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3873, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_convert_to_dataframe") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 3873, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 1)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
    }
    __pyx_v_X = values[0];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_convert_to_dataframe", 1, 1, 1, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 3873, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._convert_to_dataframe", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_86_convert_to_dataframe(__pyx_self, __pyx_v_X);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_86_convert_to_dataframe(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_X) {
  int __pyx_v_is_frame;
  PyObject *__pyx_9genexpr17__pyx_v_i = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__106)
  <span class='trace'>__Pyx_TraceCall</span>("_convert_to_dataframe", __pyx_f[0], 3873, 0, <span class='error_goto'>__PYX_ERR(0, 3873, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._convert_to_dataframe", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr17__pyx_v_i);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_X);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__190 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_n_s_X, __pyx_n_s_is_frame, __pyx_n_s_i);<span class='error_goto'> if (unlikely(!__pyx_tuple__190)) __PYX_ERR(0, 3873, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__190);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__190);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3873,0,<span class='error_goto'>__PYX_ERR(0, 3873, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_87_convert_to_dataframe, 0, __pyx_n_s_convert_to_dataframe, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__106));<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3873, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_convert_to_dataframe, __pyx_t_6) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3873, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_codeobj__106 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(1, 0, 0, 3, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__190, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_convert_to_dataframe, 3873, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__106)) __PYX_ERR(0, 3873, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3874</span>:     """Ensure input is a pandas DataFrame."""</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3875</span>:     is_frame=True</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(3875,0,<span class='error_goto'>__PYX_ERR(0, 3875, __pyx_L1_error)</span>)
  __pyx_v_is_frame = 1;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3876</span>:     if not isinstance(X, pd.DataFrame):</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(3876,0,<span class='error_goto'>__PYX_ERR(0, 3876, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3876, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3876, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_X, __pyx_t_2);<span class='error_goto'> if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(0, 3876, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_4 = (!__pyx_t_3);
  if (__pyx_t_4) {
/*  */
  }
</pre><pre class="cython line score-45" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3877</span>:         X = pd.DataFrame(check_array(X, dtype=None, force_all_finite='allow-nan'),</pre>
<pre class='cython code score-45 '>    <span class='trace'>__Pyx_TraceLine</span>(3877,0,<span class='error_goto'>__PYX_ERR(0, 3877, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3877, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3877, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_check_array);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3877, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_5 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3877, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_v_X)) <span class='error_goto'>__PYX_ERR(0, 3877, __pyx_L1_error)</span>;
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3877, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_dtype, Py_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3877, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_force_all_finite, __pyx_kp_u_allow_nan) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3877, __pyx_L1_error)</span>
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_5, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3877, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3877, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_7);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_t_7)) <span class='error_goto'>__PYX_ERR(0, 3877, __pyx_L1_error)</span>;
    __pyx_t_7 = 0;
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(3877,0,<span class='error_goto'>__PYX_ERR(0, 3877, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_6, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3877, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_X, __pyx_t_5);
    __pyx_t_5 = 0;
</pre><pre class="cython line score-81" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3878</span>:                          columns=[f'feature_{i}' for i in range(X.shape[1])])</pre>
<pre class='cython code score-81 '>    <span class='trace'>__Pyx_TraceLine</span>(3878,0,<span class='error_goto'>__PYX_ERR(0, 3878, __pyx_L1_error)</span>)
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3878, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    { /* enter inner scope */
      __pyx_t_5 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3878, __pyx_L6_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3878, __pyx_L6_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_8 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_2, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3878, __pyx_L6_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_range, __pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3878, __pyx_L6_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_2)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_2)) {
        __pyx_t_8 = __pyx_t_2; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
        __pyx_t_9 = 0;
        __pyx_t_10 = NULL;
      } else {
        __pyx_t_9 = -1; __pyx_t_8 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3878, __pyx_L6_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
        __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_8);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 3878, __pyx_L6_error)</span>
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      for (;;) {
        if (likely(!__pyx_t_10)) {
          if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_8))) {
            {
              Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_8);
              #if !CYTHON_ASSUME_SAFE_MACROS
              if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3878, __pyx_L6_error)</span>
              #endif
              if (__pyx_t_9 &gt;= __pyx_temp) break;
            }
            #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
            __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_8, __pyx_t_9); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_9++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3878, __pyx_L6_error)</span>
            #else
            __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_8, __pyx_t_9); __pyx_t_9++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3878, __pyx_L6_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
            #endif
          } else {
            {
              Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_8);
              #if !CYTHON_ASSUME_SAFE_MACROS
              if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3878, __pyx_L6_error)</span>
              #endif
              if (__pyx_t_9 &gt;= __pyx_temp) break;
            }
            #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
            __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_8, __pyx_t_9); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2); __pyx_t_9++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3878, __pyx_L6_error)</span>
            #else
            __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_8, __pyx_t_9); __pyx_t_9++;<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3878, __pyx_L6_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
            #endif
          }
        } else {
          __pyx_t_2 = __pyx_t_10(__pyx_t_8);
          if (unlikely(!__pyx_t_2)) {
            PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
            if (exc_type) {
              if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
              else <span class='error_goto'>__PYX_ERR(0, 3878, __pyx_L6_error)</span>
            }
            break;
          }
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        }
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr17__pyx_v_i, __pyx_t_2);
        __pyx_t_2 = 0;
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_9genexpr17__pyx_v_i, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3878, __pyx_L6_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        __pyx_t_11 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_n_u_feature, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3878, __pyx_L6_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_11);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_5, (PyObject*)__pyx_t_11))) <span class='error_goto'>__PYX_ERR(0, 3878, __pyx_L6_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr17__pyx_v_i); __pyx_9genexpr17__pyx_v_i = 0;
      goto __pyx_L10_exit_scope;
      __pyx_L6_error:;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr17__pyx_v_i); __pyx_9genexpr17__pyx_v_i = 0;
      goto __pyx_L1_error;
      __pyx_L10_exit_scope:;
    } /* exit inner scope */
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_7, __pyx_n_s_columns, __pyx_t_5) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3878, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3879</span>:         is_frame=False</pre>
<pre class='cython code score-0 '>    <span class='trace'>__Pyx_TraceLine</span>(3879,0,<span class='error_goto'>__PYX_ERR(0, 3879, __pyx_L1_error)</span>)
    __pyx_v_is_frame = 0;
</pre><pre class="cython line score-13" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3880</span>:     return X, is_frame</pre>
<pre class='cython code score-13 '>  <span class='trace'>__Pyx_TraceLine</span>(3880,0,<span class='error_goto'>__PYX_ERR(0, 3880, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyBool_FromLong</span>(__pyx_v_is_frame);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3880, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  __pyx_t_7 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3880, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 0, __pyx_v_X)) <span class='error_goto'>__PYX_ERR(0, 3880, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_5);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_7, 1, __pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 3880, __pyx_L1_error)</span>;
  __pyx_t_5 = 0;
  __pyx_r = __pyx_t_7;
  __pyx_t_7 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3881</span>: </pre>
<pre class="cython line score-71" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3882</span>: def _drop_features(X, drop_features):</pre>
<pre class='cython code score-71 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_89_drop_features(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_88_drop_features, "Drop specified features from the DataFrame.");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_89_drop_features = {"_drop_features", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_89_drop_features, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_88_drop_features};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_89_drop_features(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_X = 0;
  PyObject *__pyx_v_drop_features = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_drop_features (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_X,&amp;__pyx_n_s_drop_features,0};
  PyObject* values[2] = {0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_X)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3882, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_drop_features)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3882, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_drop_features", 1, 2, 2, 1); <span class='error_goto'>__PYX_ERR(0, 3882, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_drop_features") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 3882, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 2)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
    }
    __pyx_v_X = values[0];
    __pyx_v_drop_features = values[1];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_drop_features", 1, 2, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 3882, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._drop_features", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_88_drop_features(__pyx_self, __pyx_v_X, __pyx_v_drop_features);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_88_drop_features(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_X, PyObject *__pyx_v_drop_features) {
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__107)
  <span class='trace'>__Pyx_TraceCall</span>("_drop_features", __pyx_f[0], 3882, 0, <span class='error_goto'>__PYX_ERR(0, 3882, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._drop_features", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_X);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__191 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_n_s_X, __pyx_n_s_drop_features);<span class='error_goto'> if (unlikely(!__pyx_tuple__191)) __PYX_ERR(0, 3882, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__191);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__191);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3882,0,<span class='error_goto'>__PYX_ERR(0, 3882, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_89_drop_features, 0, __pyx_n_s_drop_features_2, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__107));<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3882, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_drop_features_2, __pyx_t_6) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3882, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_codeobj__107 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(2, 0, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__191, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_drop_features_2, 3882, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__107)) __PYX_ERR(0, 3882, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3883</span>:     """Drop specified features from the DataFrame."""</pre>
<pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3884</span>:     if isinstance(drop_features, bool) and drop_features:</pre>
<pre class='cython code score-9 '>  <span class='trace'>__Pyx_TraceLine</span>(3884,0,<span class='error_goto'>__PYX_ERR(0, 3884, __pyx_L1_error)</span>)
  __pyx_t_2 = ((PyObject*)&amp;PyBool_Type);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_drop_features, __pyx_t_2);<span class='error_goto'> if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(0, 3884, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_3) {
  } else {
    __pyx_t_1 = __pyx_t_3;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_drop_features); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3884, __pyx_L1_error)</span>
  __pyx_t_1 = __pyx_t_3;
  __pyx_L4_bool_binop_done:;
  if (__pyx_t_1) {
/*  */
    goto __pyx_L3;
  }
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3885</span>:         X = X.select_dtypes(exclude=['object', 'category'])</pre>
<pre class='cython code score-26 '>    <span class='trace'>__Pyx_TraceLine</span>(3885,0,<span class='error_goto'>__PYX_ERR(0, 3885, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_select_dtypes);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3885, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3885, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_5 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3885, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_object);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_object);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_5, 0, __pyx_n_u_object)) <span class='error_goto'>__PYX_ERR(0, 3885, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_category);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_category);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_5, 1, __pyx_n_u_category)) <span class='error_goto'>__PYX_ERR(0, 3885, __pyx_L1_error)</span>;
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_exclude, __pyx_t_5) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3885, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_empty_tuple, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3885, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_X, __pyx_t_5);
    __pyx_t_5 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3886</span>:     elif isinstance(drop_features, list):</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(3886,0,<span class='error_goto'>__PYX_ERR(0, 3886, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_Check</span>(__pyx_v_drop_features); 
  if (__pyx_t_1) {
/*  */
  }
  __pyx_L3:;
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3887</span>:         X = X.drop(columns=drop_features, errors='ignore')</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(3887,0,<span class='error_goto'>__PYX_ERR(0, 3887, __pyx_L1_error)</span>)
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_drop);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3887, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3887, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_columns, __pyx_v_drop_features) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3887, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_errors, __pyx_n_u_ignore) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3887, __pyx_L1_error)</span>
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_5, __pyx_empty_tuple, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3887, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_X, __pyx_t_2);
    __pyx_t_2 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3888</span>:     return X</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3888,0,<span class='error_goto'>__PYX_ERR(0, 3888, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
  __pyx_r = __pyx_v_X;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3889</span>: </pre>
<pre class="cython line score-131" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3890</span>: def _impute_data(X, strategy, missing_values, fill_value, add_indicator, copy):</pre>
<pre class='cython code score-131 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_91_impute_data(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_90_impute_data, "Impute the dataset using SimpleImputer.");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_91_impute_data = {"_impute_data", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_91_impute_data, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_90_impute_data};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_91_impute_data(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_X = 0;
  PyObject *__pyx_v_strategy = 0;
  PyObject *__pyx_v_missing_values = 0;
  PyObject *__pyx_v_fill_value = 0;
  PyObject *__pyx_v_add_indicator = 0;
  PyObject *__pyx_v_copy = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_impute_data (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_X,&amp;__pyx_n_s_strategy,&amp;__pyx_n_s_missing_values,&amp;__pyx_n_s_fill_value,&amp;__pyx_n_s_add_indicator,&amp;__pyx_n_s_copy,0};
  PyObject* values[6] = {0,0,0,0,0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  6: values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
        CYTHON_FALLTHROUGH;
        case  5: values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
        CYTHON_FALLTHROUGH;
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_X)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3890, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_strategy)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3890, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_impute_data", 1, 6, 6, 1); <span class='error_goto'>__PYX_ERR(0, 3890, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (likely((values[2] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_missing_values)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[2]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3890, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_impute_data", 1, 6, 6, 2); <span class='error_goto'>__PYX_ERR(0, 3890, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (likely((values[3] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_fill_value)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[3]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3890, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_impute_data", 1, 6, 6, 3); <span class='error_goto'>__PYX_ERR(0, 3890, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  4:
        if (likely((values[4] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_add_indicator)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[4]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3890, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_impute_data", 1, 6, 6, 4); <span class='error_goto'>__PYX_ERR(0, 3890, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  5:
        if (likely((values[5] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_copy)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[5]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3890, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_impute_data", 1, 6, 6, 5); <span class='error_goto'>__PYX_ERR(0, 3890, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_impute_data") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 3890, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 6)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
      values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
      values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
      values[4] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 4);
      values[5] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 5);
    }
    __pyx_v_X = values[0];
    __pyx_v_strategy = values[1];
    __pyx_v_missing_values = values[2];
    __pyx_v_fill_value = values[3];
    __pyx_v_add_indicator = values[4];
    __pyx_v_copy = values[5];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_impute_data", 1, 6, 6, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 3890, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._impute_data", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_90_impute_data(__pyx_self, __pyx_v_X, __pyx_v_strategy, __pyx_v_missing_values, __pyx_v_fill_value, __pyx_v_add_indicator, __pyx_v_copy);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_90_impute_data(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_X, PyObject *__pyx_v_strategy, PyObject *__pyx_v_missing_values, PyObject *__pyx_v_fill_value, PyObject *__pyx_v_add_indicator, PyObject *__pyx_v_copy) {
  PyObject *__pyx_v_imp = NULL;
  PyObject *__pyx_v_Xi = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__108)
  <span class='trace'>__Pyx_TraceCall</span>("_impute_data", __pyx_f[0], 3890, 0, <span class='error_goto'>__PYX_ERR(0, 3890, __pyx_L1_error)</span>);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._impute_data", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_imp);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_Xi);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__192 = <span class='py_c_api'>PyTuple_Pack</span>(8, __pyx_n_s_X, __pyx_n_s_strategy, __pyx_n_s_missing_values, __pyx_n_s_fill_value, __pyx_n_s_add_indicator, __pyx_n_s_copy, __pyx_n_s_imp, __pyx_n_s_Xi);<span class='error_goto'> if (unlikely(!__pyx_tuple__192)) __PYX_ERR(0, 3890, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__192);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__192);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3890,0,<span class='error_goto'>__PYX_ERR(0, 3890, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_91_impute_data, 0, __pyx_n_s_impute_data, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__108));<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3890, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_impute_data, __pyx_t_6) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3890, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_codeobj__108 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(6, 0, 0, 8, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__192, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_impute_data, 3890, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__108)) __PYX_ERR(0, 3890, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3891</span>:     """Impute the dataset using SimpleImputer."""</pre>
<pre class="cython line score-18" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3892</span>:     imp = SimpleImputer(strategy=strategy, missing_values=missing_values,</pre>
<pre class='cython code score-18 '>  <span class='trace'>__Pyx_TraceLine</span>(3892,0,<span class='error_goto'>__PYX_ERR(0, 3892, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_SimpleImputer);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3892, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3892, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_strategy, __pyx_v_strategy) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3892, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_missing_values, __pyx_v_missing_values) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3892, __pyx_L1_error)</span>
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3892,0,<span class='error_goto'>__PYX_ERR(0, 3892, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_empty_tuple, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3892, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_imp = __pyx_t_3;
  __pyx_t_3 = 0;
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3893</span>:                         fill_value=fill_value, add_indicator=add_indicator,</pre>
<pre class='cython code score-10 '>  <span class='trace'>__Pyx_TraceLine</span>(3893,0,<span class='error_goto'>__PYX_ERR(0, 3893, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_fill_value, __pyx_v_fill_value) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3892, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_add_indicator, __pyx_v_add_indicator) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3892, __pyx_L1_error)</span>
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3894</span>:                         copy=copy)</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(3894,0,<span class='error_goto'>__PYX_ERR(0, 3894, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_2, __pyx_n_s_copy, __pyx_v_copy) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3892, __pyx_L1_error)</span>
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3895</span>:     Xi = imp.fit_transform(X)</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(3895,0,<span class='error_goto'>__PYX_ERR(0, 3895, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_imp, __pyx_n_s_fit_transform);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3895, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_1 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_1)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_v_X};
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 3895, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_v_Xi = __pyx_t_3;
  __pyx_t_3 = 0;
</pre><pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3896</span>:     return Xi, imp</pre>
<pre class='cython code score-12 '>  <span class='trace'>__Pyx_TraceLine</span>(3896,0,<span class='error_goto'>__PYX_ERR(0, 3896, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3896, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_Xi);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_Xi);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_Xi)) <span class='error_goto'>__PYX_ERR(0, 3896, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_imp);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_imp);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_v_imp)) <span class='error_goto'>__PYX_ERR(0, 3896, __pyx_L1_error)</span>;
  __pyx_r = __pyx_t_3;
  __pyx_t_3 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3897</span>: </pre>
<pre class="cython line score-92" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3898</span>: def _separate_and_impute(X, num_imputer, cat_imputer):</pre>
<pre class='cython code score-92 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_93_separate_and_impute(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_92_separate_and_impute, "Separate and impute numerical and categorical features.");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_93_separate_and_impute = {"_separate_and_impute", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_93_separate_and_impute, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_92_separate_and_impute};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_93_separate_and_impute(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_X = 0;
  PyObject *__pyx_v_num_imputer = 0;
  PyObject *__pyx_v_cat_imputer = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_separate_and_impute (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_X,&amp;__pyx_n_s_num_imputer,&amp;__pyx_n_s_cat_imputer,0};
  PyObject* values[3] = {0,0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_X)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3898, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_num_imputer)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3898, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_separate_and_impute", 1, 3, 3, 1); <span class='error_goto'>__PYX_ERR(0, 3898, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (likely((values[2] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_cat_imputer)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[2]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3898, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_separate_and_impute", 1, 3, 3, 2); <span class='error_goto'>__PYX_ERR(0, 3898, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_separate_and_impute") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 3898, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 3)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
      values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
    }
    __pyx_v_X = values[0];
    __pyx_v_num_imputer = values[1];
    __pyx_v_cat_imputer = values[2];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_separate_and_impute", 1, 3, 3, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 3898, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._separate_and_impute", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_92_separate_and_impute(__pyx_self, __pyx_v_X, __pyx_v_num_imputer, __pyx_v_cat_imputer);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_92_separate_and_impute(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_X, PyObject *__pyx_v_num_imputer, PyObject *__pyx_v_cat_imputer) {
  PyObject *__pyx_v_num_columns = NULL;
  PyObject *__pyx_v_cat_columns = NULL;
  PyObject *__pyx_v_num_imputed = NULL;
  PyObject *__pyx_v_cat_imputed = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__109)
  <span class='trace'>__Pyx_TraceCall</span>("_separate_and_impute", __pyx_f[0], 3898, 0, <span class='error_goto'>__PYX_ERR(0, 3898, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._separate_and_impute", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_num_columns);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_cat_columns);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_num_imputed);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_cat_imputed);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_X);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__193 = <span class='py_c_api'>PyTuple_Pack</span>(7, __pyx_n_s_X, __pyx_n_s_num_imputer, __pyx_n_s_cat_imputer, __pyx_n_s_num_columns, __pyx_n_s_cat_columns, __pyx_n_s_num_imputed, __pyx_n_s_cat_imputed);<span class='error_goto'> if (unlikely(!__pyx_tuple__193)) __PYX_ERR(0, 3898, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__193);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__193);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3898,0,<span class='error_goto'>__PYX_ERR(0, 3898, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_93_separate_and_impute, 0, __pyx_n_s_separate_and_impute, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__109));<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3898, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_separate_and_impute, __pyx_t_6) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3898, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_codeobj__109 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(3, 0, 0, 7, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__193, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_separate_and_impute, 3898, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__109)) __PYX_ERR(0, 3898, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3899</span>:     """Separate and impute numerical and categorical features."""</pre>
<pre class="cython line score-73" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3900</span>:     X, num_columns, cat_columns= to_numeric_dtypes(X, return_feature_types=True )</pre>
<pre class='cython code score-73 '>  <span class='trace'>__Pyx_TraceLine</span>(3900,0,<span class='error_goto'>__PYX_ERR(0, 3900, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_to_numeric_dtypes);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3900, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3900, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_X)) <span class='error_goto'>__PYX_ERR(0, 3900, __pyx_L1_error)</span>;
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3900, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_return_feature_types, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3900, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_2, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3900, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_4))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_4))) {
    PyObject* sequence = __pyx_t_4;
    Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
    if (unlikely(size != 3)) {
      if (size &gt; 3) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(3);
      else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
      <span class='error_goto'>__PYX_ERR(0, 3900, __pyx_L1_error)</span>
    }
    #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
    if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
      __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
      __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
      __pyx_t_1 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 2); 
    } else {
      __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
      __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
      __pyx_t_1 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 2); 
    }
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
    #else
    __pyx_t_3 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3900, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3900, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_1 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3900, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    #endif
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  } else {
    Py_ssize_t index = -1;
    __pyx_t_5 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3900, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_5);
    index = 0; __pyx_t_3 = __pyx_t_6(__pyx_t_5); if (unlikely(!__pyx_t_3)) goto __pyx_L3_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    index = 1; __pyx_t_2 = __pyx_t_6(__pyx_t_5); if (unlikely(!__pyx_t_2)) goto __pyx_L3_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    index = 2; __pyx_t_1 = __pyx_t_6(__pyx_t_5); if (unlikely(!__pyx_t_1)) goto __pyx_L3_unpacking_failed;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_6(__pyx_t_5), 3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3900, __pyx_L1_error)</span>
    __pyx_t_6 = NULL;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    goto __pyx_L4_unpacking_done;
    __pyx_L3_unpacking_failed:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_6 = NULL;
    if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
    <span class='error_goto'>__PYX_ERR(0, 3900, __pyx_L1_error)</span>
    __pyx_L4_unpacking_done:;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_X, __pyx_t_3);
  __pyx_t_3 = 0;
  __pyx_v_num_columns = __pyx_t_2;
  __pyx_t_2 = 0;
  __pyx_v_cat_columns = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3901</span>: </pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3902</span>:     if len(num_columns) &gt; 0:</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(3902,0,<span class='error_goto'>__PYX_ERR(0, 3902, __pyx_L1_error)</span>)
  __pyx_t_7 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_num_columns);<span class='error_goto'> if (unlikely(__pyx_t_7 == ((Py_ssize_t)-1))) __PYX_ERR(0, 3902, __pyx_L1_error)</span>
  __pyx_t_8 = (__pyx_t_7 &gt; 0);
  if (__pyx_t_8) {
/*  */
    goto __pyx_L5;
  }
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3903</span>:         num_imputed = num_imputer.fit_transform(X[num_columns])</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(3903,0,<span class='error_goto'>__PYX_ERR(0, 3903, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_num_imputer, __pyx_n_s_fit_transform);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3903, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_X, __pyx_v_num_columns);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3903, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = NULL;
    __pyx_t_9 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_9 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_t_2};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_9, 1+__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 3903, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_v_num_imputed = __pyx_t_4;
    __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3904</span>:     else:</pre>
<pre class="cython line score-48" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3905</span>:         num_imputed = np.array([]).reshape(X.shape[0], 0)</pre>
<pre class='cython code score-48 '>  <span class='trace'>__Pyx_TraceLine</span>(3905,0,<span class='error_goto'>__PYX_ERR(0, 3905, __pyx_L1_error)</span>)
  /*else*/ {
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3905, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_array_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3905, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3905, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_5 = NULL;
    __pyx_t_9 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_9 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_t_2};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_9, 1+__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3905, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_reshape);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3905, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3905, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_1, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3905, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = NULL;
    __pyx_t_9 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_9 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_1, __pyx_t_2, __pyx_int_0};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_9, 2+__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 3905, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    __pyx_v_num_imputed = __pyx_t_4;
    __pyx_t_4 = 0;
  }
  __pyx_L5:;
</pre><pre class="cython line score-0">&#xA0;<span class="">3906</span>: </pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3907</span>:     if len(cat_columns) &gt; 0:</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(3907,0,<span class='error_goto'>__PYX_ERR(0, 3907, __pyx_L1_error)</span>)
  __pyx_t_7 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_cat_columns);<span class='error_goto'> if (unlikely(__pyx_t_7 == ((Py_ssize_t)-1))) __PYX_ERR(0, 3907, __pyx_L1_error)</span>
  __pyx_t_8 = (__pyx_t_7 &gt; 0);
  if (__pyx_t_8) {
/*  */
    goto __pyx_L6;
  }
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3908</span>:         cat_imputed = cat_imputer.fit_transform(X[cat_columns])</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(3908,0,<span class='error_goto'>__PYX_ERR(0, 3908, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_cat_imputer, __pyx_n_s_fit_transform);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3908, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_X, __pyx_v_cat_columns);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3908, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_1 = NULL;
    __pyx_t_9 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_9 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_t_2};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_9, 1+__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 3908, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    __pyx_v_cat_imputed = __pyx_t_4;
    __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3909</span>:     else:</pre>
<pre class="cython line score-48" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3910</span>:         cat_imputed = np.array([]).reshape(X.shape[0], 0)</pre>
<pre class='cython code score-48 '>  <span class='trace'>__Pyx_TraceLine</span>(3910,0,<span class='error_goto'>__PYX_ERR(0, 3910, __pyx_L1_error)</span>)
  /*else*/ {
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3910, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_array_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3910, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3910, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_5 = NULL;
    __pyx_t_9 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_9 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_t_2};
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_9, 1+__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_3)) <span class='error_goto'>__PYX_ERR(0, 3910, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_reshape);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3910, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3910, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_3, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3910, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = NULL;
    __pyx_t_9 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_9 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_3, __pyx_t_2, __pyx_int_0};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_9, 2+__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 3910, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_v_cat_imputed = __pyx_t_4;
    __pyx_t_4 = 0;
  }
  __pyx_L6:;
</pre><pre class="cython line score-18" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3911</span>:     return num_imputed, cat_imputed, num_columns, cat_columns</pre>
<pre class='cython code score-18 '>  <span class='trace'>__Pyx_TraceLine</span>(3911,0,<span class='error_goto'>__PYX_ERR(0, 3911, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3911, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_num_imputed);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_num_imputed);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_v_num_imputed)) <span class='error_goto'>__PYX_ERR(0, 3911, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_cat_imputed);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_cat_imputed);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_v_cat_imputed)) <span class='error_goto'>__PYX_ERR(0, 3911, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_num_columns);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_num_columns);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 2, __pyx_v_num_columns)) <span class='error_goto'>__PYX_ERR(0, 3911, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_cat_columns);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_cat_columns);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 3, __pyx_v_cat_columns)) <span class='error_goto'>__PYX_ERR(0, 3911, __pyx_L1_error)</span>;
  __pyx_r = __pyx_t_4;
  __pyx_t_4 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3912</span>: </pre>
<pre class="cython line score-99" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3913</span>: def _enabled_bi_impute_mode(</pre>
<pre class='cython code score-99 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_95_enabled_bi_impute_mode(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_94_enabled_bi_impute_mode, "\n    Determines strategies and fill values for numerical and categorical data\n    in bi-impute mode based on the provided strategy and fill value.\n\n    Parameters\n    ----------\n    strategy : str\n        The imputation strategy to use.\n    fill_value : Union[str, float, None]\n        The fill value to use for imputation, which can be a float, string, \n        or None. When a string containing delimiters is provided, it indicates\n        separate fill values for numerical and categorical data.\n\n    Returns\n    -------\n    Tuple[List[Union[None, float, str]], List[str]]\n        A tuple containing two lists: the first with fill values for numerical\n        and categorical data, and the second with strategies for numerical and\n        categorical data.\n\n    Examples\n    --------\n    &gt;&gt;&gt; from gofast.tools.mlutils import _enabled_bi_impute_mode\n    &gt;&gt;&gt; enabled_bi_impute_mode('mean', None)\n    ([None, None], ['mean', 'most_frequent'])\n\n    &gt;&gt;&gt; _enabled_bi_impute_mode('constant', '0__missing')\n    ([0.0, 'missing'], ['constant', 'constant'])\n    \n    &gt;&gt;&gt; _enabled_bi_impute_mode (strategy='constant', fill_value=\"missing\")\n    ([0.0, 'missing'], ['constant', 'constant'])\n    \n    &gt;&gt;&gt; _enabled_bi_impute_mode('constant', 9.) \n    ([9.0, None], ['constant', 'most_frequent'])\n    \n    &gt;&gt;&gt; _enabled_bi_impute_mode(strategy='constant', fill_value=\"mean__missing\",)\n    ([None, 'missing'], ['mean', 'constant'])\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_95_enabled_bi_impute_mode = {"_enabled_bi_impute_mode", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_95_enabled_bi_impute_mode, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_94_enabled_bi_impute_mode};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_95_enabled_bi_impute_mode(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_strategy = 0;
  PyObject *__pyx_v_fill_value = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_enabled_bi_impute_mode (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_strategy,&amp;__pyx_n_s_fill_value,0};
  PyObject* values[2] = {0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_strategy)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3913, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_fill_value)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3913, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_enabled_bi_impute_mode", 1, 2, 2, 1); <span class='error_goto'>__PYX_ERR(0, 3913, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_enabled_bi_impute_mode") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 3913, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 2)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
    }
    __pyx_v_strategy = ((PyObject*)values[0]);
    __pyx_v_fill_value = values[1];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_enabled_bi_impute_mode", 1, 2, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 3913, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._enabled_bi_impute_mode", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_strategy), (&amp;PyUnicode_Type), 0, "strategy", 1))) <span class='error_goto'>__PYX_ERR(0, 3914, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_94_enabled_bi_impute_mode(__pyx_self, __pyx_v_strategy, __pyx_v_fill_value);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_94_enabled_bi_impute_mode(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_strategy, PyObject *__pyx_v_fill_value) {
  PyObject *__pyx_v_num_strategy = NULL;
  PyObject *__pyx_v_cat_strategy = NULL;
  PyObject *__pyx_v_fill_values = NULL;
  PyObject *__pyx_v_strategies = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__110)
  <span class='trace'>__Pyx_TraceCall</span>("_enabled_bi_impute_mode", __pyx_f[0], 3913, 0, <span class='error_goto'>__PYX_ERR(0, 3913, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_fill_value);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._enabled_bi_impute_mode", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_num_strategy);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_cat_strategy);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_fill_values);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_strategies);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_fill_value);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__194 = <span class='py_c_api'>PyTuple_Pack</span>(6, __pyx_n_s_strategy, __pyx_n_s_fill_value, __pyx_n_s_num_strategy, __pyx_n_s_cat_strategy, __pyx_n_s_fill_values, __pyx_n_s_strategies);<span class='error_goto'> if (unlikely(!__pyx_tuple__194)) __PYX_ERR(0, 3913, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__194);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__194);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3913,0,<span class='error_goto'>__PYX_ERR(0, 3913, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3913, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_strategy, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3913, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_fill_value, __pyx_kp_s_Union_str_float_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3913, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_return, __pyx_kp_s_Tuple_List_Union_None_float_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3913, __pyx_L1_error)</span>
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_95_enabled_bi_impute_mode, 0, __pyx_n_s_enabled_bi_impute_mode, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__110));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3913, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_4, __pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_enabled_bi_impute_mode, __pyx_t_4) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3913, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_codeobj__110 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(2, 0, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__194, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_enabled_bi_impute_mode, 3913, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__110)) __PYX_ERR(0, 3913, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3914</span>:     strategy: str, fill_value: Union[str, float, None]</pre>
<pre class="cython line score-0">&#xA0;<span class="">3915</span>:      ) -&gt; Tuple[List[Union[None, float, str]], List[str]]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">3916</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">3917</span>:     Determines strategies and fill values for numerical and categorical data</pre>
<pre class="cython line score-0">&#xA0;<span class="">3918</span>:     in bi-impute mode based on the provided strategy and fill value.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3919</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3920</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">3921</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3922</span>:     strategy : str</pre>
<pre class="cython line score-0">&#xA0;<span class="">3923</span>:         The imputation strategy to use.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3924</span>:     fill_value : Union[str, float, None]</pre>
<pre class="cython line score-0">&#xA0;<span class="">3925</span>:         The fill value to use for imputation, which can be a float, string,</pre>
<pre class="cython line score-0">&#xA0;<span class="">3926</span>:         or None. When a string containing delimiters is provided, it indicates</pre>
<pre class="cython line score-0">&#xA0;<span class="">3927</span>:         separate fill values for numerical and categorical data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3928</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3929</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">3930</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3931</span>:     Tuple[List[Union[None, float, str]], List[str]]</pre>
<pre class="cython line score-0">&#xA0;<span class="">3932</span>:         A tuple containing two lists: the first with fill values for numerical</pre>
<pre class="cython line score-0">&#xA0;<span class="">3933</span>:         and categorical data, and the second with strategies for numerical and</pre>
<pre class="cython line score-0">&#xA0;<span class="">3934</span>:         categorical data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3935</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3936</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">3937</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3938</span>:     &gt;&gt;&gt; from gofast.tools.mlutils import _enabled_bi_impute_mode</pre>
<pre class="cython line score-0">&#xA0;<span class="">3939</span>:     &gt;&gt;&gt; enabled_bi_impute_mode('mean', None)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3940</span>:     ([None, None], ['mean', 'most_frequent'])</pre>
<pre class="cython line score-0">&#xA0;<span class="">3941</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3942</span>:     &gt;&gt;&gt; _enabled_bi_impute_mode('constant', '0__missing')</pre>
<pre class="cython line score-0">&#xA0;<span class="">3943</span>:     ([0.0, 'missing'], ['constant', 'constant'])</pre>
<pre class="cython line score-0">&#xA0;<span class="">3944</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3945</span>:     &gt;&gt;&gt; _enabled_bi_impute_mode (strategy='constant', fill_value="missing")</pre>
<pre class="cython line score-0">&#xA0;<span class="">3946</span>:     ([0.0, 'missing'], ['constant', 'constant'])</pre>
<pre class="cython line score-0">&#xA0;<span class="">3947</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3948</span>:     &gt;&gt;&gt; _enabled_bi_impute_mode('constant', 9.)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3949</span>:     ([9.0, None], ['constant', 'most_frequent'])</pre>
<pre class="cython line score-0">&#xA0;<span class="">3950</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3951</span>:     &gt;&gt;&gt; _enabled_bi_impute_mode(strategy='constant', fill_value="mean__missing",)</pre>
<pre class="cython line score-0">&#xA0;<span class="">3952</span>:     ([None, 'missing'], ['mean', 'constant'])</pre>
<pre class="cython line score-0">&#xA0;<span class="">3953</span>:     """</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3954</span>:     num_strategy, cat_strategy = 'most_frequent', 'most_frequent'</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(3954,0,<span class='error_goto'>__PYX_ERR(0, 3954, __pyx_L1_error)</span>)
  __pyx_t_1 = __pyx_n_u_most_frequent;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
  __pyx_t_2 = __pyx_n_u_most_frequent;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
  __pyx_v_num_strategy = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
  __pyx_v_cat_strategy = ((PyObject*)__pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3955</span>:     fill_values = [None, None]</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(3955,0,<span class='error_goto'>__PYX_ERR(0, 3955, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3955, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, Py_None)) <span class='error_goto'>__PYX_ERR(0, 3955, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 1, Py_None)) <span class='error_goto'>__PYX_ERR(0, 3955, __pyx_L1_error)</span>;
  __pyx_v_fill_values = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3956</span>: </pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3957</span>:     if fill_value is None or isinstance(fill_value, (float, int)):</pre>
<pre class='cython code score-10 '>  <span class='trace'>__Pyx_TraceLine</span>(3957,0,<span class='error_goto'>__PYX_ERR(0, 3957, __pyx_L1_error)</span>)
  __pyx_t_4 = (__pyx_v_fill_value == Py_None);
  if (!__pyx_t_4) {
  } else {
    __pyx_t_3 = __pyx_t_4;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_5 = <span class='py_c_api'>PyFloat_Check</span>(__pyx_v_fill_value); 
  if (!__pyx_t_5) {
  } else {
    __pyx_t_4 = __pyx_t_5;
    goto __pyx_L6_bool_binop_done;
  }
  __pyx_t_5 = <span class='py_c_api'>PyInt_Check</span>(__pyx_v_fill_value); 
  __pyx_t_4 = __pyx_t_5;
  __pyx_L6_bool_binop_done:;
  __pyx_t_3 = __pyx_t_4;
  __pyx_L4_bool_binop_done:;
  if (__pyx_t_3) {
/*  */
  }
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3958</span>:         if strategy in ["mean", 'median', 'constant']:</pre>
<pre class='cython code score-8 '>    <span class='trace'>__Pyx_TraceLine</span>(3958,0,<span class='error_goto'>__PYX_ERR(0, 3958, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_strategy);
    __pyx_t_6 = __pyx_v_strategy;
    __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_6, __pyx_n_u_mean, Py_EQ)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3958, __pyx_L1_error)</span>
    if (!__pyx_t_4) {
    } else {
      __pyx_t_3 = __pyx_t_4;
      goto __pyx_L9_bool_binop_done;
    }
    __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_6, __pyx_n_u_median, Py_EQ)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3958, __pyx_L1_error)</span>
    if (!__pyx_t_4) {
    } else {
      __pyx_t_3 = __pyx_t_4;
      goto __pyx_L9_bool_binop_done;
    }
    __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_6, __pyx_n_u_constant, Py_EQ)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3958, __pyx_L1_error)</span>
    __pyx_t_3 = __pyx_t_4;
    __pyx_L9_bool_binop_done:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_4 = __pyx_t_3;
    if (__pyx_t_4) {
/*  */
    }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3959</span>:             num_strategy = strategy</pre>
<pre class='cython code score-2 '>      <span class='trace'>__Pyx_TraceLine</span>(3959,0,<span class='error_goto'>__PYX_ERR(0, 3959, __pyx_L1_error)</span>)
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_strategy);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_num_strategy, __pyx_v_strategy);
</pre><pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3960</span>:             fill_values[0] = (</pre>
<pre class='cython code score-3 '>      <span class='trace'>__Pyx_TraceLine</span>(3960,0,<span class='error_goto'>__PYX_ERR(0, 3960, __pyx_L1_error)</span>)
      if (unlikely((<span class='pyx_c_api'>__Pyx_SetItemInt</span>(__pyx_v_fill_values, 0, __pyx_t_2, long, 1, __Pyx_PyInt_From_long, 0, 0, 1) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3960, __pyx_L1_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3961</span>:                 0.0 if strategy == 'constant'</pre>
<pre class='cython code score-2 '>      <span class='trace'>__Pyx_TraceLine</span>(3961,0,<span class='error_goto'>__PYX_ERR(0, 3961, __pyx_L1_error)</span>)
      __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_strategy, __pyx_n_u_constant, Py_EQ)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3961, __pyx_L1_error)</span>
      if (__pyx_t_3) {
      } else {
        __pyx_t_4 = __pyx_t_3;
        goto __pyx_L12_bool_binop_done;
      }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3962</span>:                 and fill_value is None else fill_value</pre>
<pre class='cython code score-2 '>      <span class='trace'>__Pyx_TraceLine</span>(3962,0,<span class='error_goto'>__PYX_ERR(0, 3962, __pyx_L1_error)</span>)
      __pyx_t_3 = (__pyx_v_fill_value == Py_None);
      __pyx_t_4 = __pyx_t_3;
      __pyx_L12_bool_binop_done:;
      if (__pyx_t_4) {
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_float_0_0);
        __pyx_t_2 = __pyx_float_0_0;
      } else {
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_fill_value);
        __pyx_t_2 = __pyx_v_fill_value;
      }
</pre><pre class="cython line score-0">&#xA0;<span class="">3963</span>:                 )</pre>
<pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3964</span>:         return fill_values, [num_strategy, cat_strategy]</pre>
<pre class='cython code score-22 '>    <span class='trace'>__Pyx_TraceLine</span>(3964,0,<span class='error_goto'>__PYX_ERR(0, 3964, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    __pyx_t_2 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3964, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_num_strategy);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_num_strategy);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_num_strategy)) <span class='error_goto'>__PYX_ERR(0, 3964, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_cat_strategy);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_cat_strategy);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_2, 1, __pyx_v_cat_strategy)) <span class='error_goto'>__PYX_ERR(0, 3964, __pyx_L1_error)</span>;
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3964, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_fill_values);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_fill_values);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_fill_values)) <span class='error_goto'>__PYX_ERR(0, 3964, __pyx_L1_error)</span>;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 3964, __pyx_L1_error)</span>;
    __pyx_t_2 = 0;
    __pyx_r = __pyx_t_1;
    __pyx_t_1 = 0;
    goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3965</span>: </pre>
<pre class="cython line score-50" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3966</span>:     if contains_delimiter(fill_value,{"__", "--", "&amp;", "@", "!"} ):</pre>
<pre class='cython code score-50 '>  <span class='trace'>__Pyx_TraceLine</span>(3966,0,<span class='error_goto'>__PYX_ERR(0, 3966, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_contains_delimiter);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3966, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_7 = <span class='py_c_api'>PySet_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3966, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  if (<span class='py_c_api'>PySet_Add</span>(__pyx_t_7, __pyx_n_u__111) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3966, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PySet_Add</span>(__pyx_t_7, __pyx_kp_u__112) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3966, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PySet_Add</span>(__pyx_t_7, __pyx_kp_u__113) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3966, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PySet_Add</span>(__pyx_t_7, __pyx_kp_u__114) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3966, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PySet_Add</span>(__pyx_t_7, __pyx_kp_u__115) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3966, __pyx_L1_error)</span>
  __pyx_t_8 = NULL;
  __pyx_t_9 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_8)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_9 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[3] = {__pyx_t_8, __pyx_v_fill_value, __pyx_t_7};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_9, 2+__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3966, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_1); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3966, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_4) {
/*  */
    goto __pyx_L14;
  }
</pre><pre class="cython line score-63" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3967</span>:         fill_values, strategies = _manage_fill_value(fill_value, strategy)</pre>
<pre class='cython code score-63 '>    <span class='trace'>__Pyx_TraceLine</span>(3967,0,<span class='error_goto'>__PYX_ERR(0, 3967, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_manage_fill_value);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3967, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_7 = NULL;
    __pyx_t_9 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_7 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_7)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_9 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_7, __pyx_v_fill_value, __pyx_v_strategy};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_9, 2+__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3967, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_1))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
      PyObject* sequence = __pyx_t_1;
      Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
      if (unlikely(size != 2)) {
        if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
        else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
        <span class='error_goto'>__PYX_ERR(0, 3967, __pyx_L1_error)</span>
      }
      #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
      if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
        __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
        __pyx_t_7 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
      } else {
        __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
        __pyx_t_7 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
      }
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_7);
      #else
      __pyx_t_2 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3967, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_7 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3967, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      #endif
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    } else {
      Py_ssize_t index = -1;
      __pyx_t_8 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3967, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_8);
      index = 0; __pyx_t_2 = __pyx_t_10(__pyx_t_8); if (unlikely(!__pyx_t_2)) goto __pyx_L15_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      index = 1; __pyx_t_7 = __pyx_t_10(__pyx_t_8); if (unlikely(!__pyx_t_7)) goto __pyx_L15_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_10(__pyx_t_8), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3967, __pyx_L1_error)</span>
      __pyx_t_10 = NULL;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      goto __pyx_L16_unpacking_done;
      __pyx_L15_unpacking_failed:;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      __pyx_t_10 = NULL;
      if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
      <span class='error_goto'>__PYX_ERR(0, 3967, __pyx_L1_error)</span>
      __pyx_L16_unpacking_done:;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_fill_values, __pyx_t_2);
    __pyx_t_2 = 0;
    __pyx_v_strategies = __pyx_t_7;
    __pyx_t_7 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3968</span>:     else:</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3969</span>:         fill_value = (</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(3969,0,<span class='error_goto'>__PYX_ERR(0, 3969, __pyx_L1_error)</span>)
  /*else*/ {
</pre><pre class="cython line score-33" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3970</span>:             f"{strategy}__{fill_value}" if strategy in ['mean', 'median']</pre>
<pre class='cython code score-33 '>    <span class='trace'>__Pyx_TraceLine</span>(3970,0,<span class='error_goto'>__PYX_ERR(0, 3970, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_strategy);
    __pyx_t_6 = __pyx_v_strategy;
    __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_6, __pyx_n_u_mean, Py_EQ)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3970, __pyx_L1_error)</span>
    if (!__pyx_t_3) {
    } else {
      __pyx_t_4 = __pyx_t_3;
      goto __pyx_L17_bool_binop_done;
    }
    __pyx_t_3 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_6, __pyx_n_u_median, Py_EQ)); if (unlikely((__pyx_t_3 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3970, __pyx_L1_error)</span>
    __pyx_t_4 = __pyx_t_3;
    __pyx_L17_bool_binop_done:;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_3 = __pyx_t_4;
    if (__pyx_t_3) {
      __pyx_t_7 = <span class='py_c_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3970, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      __pyx_t_11 = 0;
      __pyx_t_12 = 127;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_strategy);
      __pyx_t_12 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_strategy) &gt; __pyx_t_12) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_strategy) : __pyx_t_12;
      __pyx_t_11 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_v_strategy);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_strategy);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_7, 0, __pyx_v_strategy);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u__111);
      __pyx_t_11 += 2;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u__111);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_7, 1, __pyx_n_u__111);
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_fill_value, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3970, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_12 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) &gt; __pyx_t_12) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) : __pyx_t_12;
      __pyx_t_11 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_2);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_7, 2, __pyx_t_2);
      __pyx_t_2 = 0;
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_7, 3, __pyx_t_11, __pyx_t_12);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3970, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      __pyx_t_1 = __pyx_t_2;
      __pyx_t_2 = 0;
    } else {
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3971</span>:             else ( f"0__{fill_value}" if strategy =="constant" else fill_value )</pre>
<pre class='cython code score-9 '>      <span class='trace'>__Pyx_TraceLine</span>(3971,0,<span class='error_goto'>__PYX_ERR(0, 3971, __pyx_L1_error)</span>)
      __pyx_t_4 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_strategy, __pyx_n_u_constant, Py_EQ)); if (unlikely((__pyx_t_4 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 3971, __pyx_L1_error)</span>
      if (__pyx_t_4) {
        __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_fill_value, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3971, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
        __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_kp_u_0_2, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3971, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
        __pyx_t_2 = __pyx_t_8;
        __pyx_t_8 = 0;
      } else {
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_fill_value);
        __pyx_t_2 = __pyx_v_fill_value;
      }
      __pyx_t_1 = __pyx_t_2;
      __pyx_t_2 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_fill_value, __pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3972</span>:         )</pre>
<pre class="cython line score-63" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3973</span>:         fill_values, strategies = _manage_fill_value(fill_value, strategy)</pre>
<pre class='cython code score-63 '>    <span class='trace'>__Pyx_TraceLine</span>(3973,0,<span class='error_goto'>__PYX_ERR(0, 3973, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_manage_fill_value);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3973, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_8 = NULL;
    __pyx_t_9 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_8)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_9 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_8, __pyx_v_fill_value, __pyx_v_strategy};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_9, 2+__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 3973, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    if ((likely(<span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_1))) || (<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
      PyObject* sequence = __pyx_t_1;
      Py_ssize_t size = <span class='pyx_c_api'>__Pyx_PySequence_SIZE</span>(sequence);
      if (unlikely(size != 2)) {
        if (size &gt; 2) <span class='pyx_c_api'>__Pyx_RaiseTooManyValuesError</span>(2);
        else if (size &gt;= 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(size);
        <span class='error_goto'>__PYX_ERR(0, 3973, __pyx_L1_error)</span>
      }
      #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
      if (likely(<span class='py_c_api'>PyTuple_CheckExact</span>(sequence))) {
        __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 0); 
        __pyx_t_8 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(sequence, 1); 
      } else {
        __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 0); 
        __pyx_t_8 = <span class='py_macro_api'>PyList_GET_ITEM</span>(sequence, 1); 
      }
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
      #else
      __pyx_t_2 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3973, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_8 = <span class='py_macro_api'>PySequence_ITEM</span>(sequence, 1);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3973, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      #endif
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    } else {
      Py_ssize_t index = -1;
      __pyx_t_7 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3973, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_7);
      index = 0; __pyx_t_2 = __pyx_t_10(__pyx_t_7); if (unlikely(!__pyx_t_2)) goto __pyx_L19_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      index = 1; __pyx_t_8 = __pyx_t_10(__pyx_t_7); if (unlikely(!__pyx_t_8)) goto __pyx_L19_unpacking_failed;
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_8);
      if (<span class='pyx_c_api'>__Pyx_IternextUnpackEndCheck</span>(__pyx_t_10(__pyx_t_7), 2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3973, __pyx_L1_error)</span>
      __pyx_t_10 = NULL;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      goto __pyx_L20_unpacking_done;
      __pyx_L19_unpacking_failed:;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      __pyx_t_10 = NULL;
      if (<span class='pyx_c_api'>__Pyx_IterFinish</span>() == 0) <span class='pyx_c_api'>__Pyx_RaiseNeedMoreValuesError</span>(index);
      <span class='error_goto'>__PYX_ERR(0, 3973, __pyx_L1_error)</span>
      __pyx_L20_unpacking_done:;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_fill_values, __pyx_t_2);
    __pyx_t_2 = 0;
    __pyx_v_strategies = __pyx_t_8;
    __pyx_t_8 = 0;
  }
  __pyx_L14:;
</pre><pre class="cython line score-0">&#xA0;<span class="">3974</span>: </pre>
<pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3975</span>:     return fill_values, strategies</pre>
<pre class='cython code score-12 '>  <span class='trace'>__Pyx_TraceLine</span>(3975,0,<span class='error_goto'>__PYX_ERR(0, 3975, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3975, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_fill_values);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_fill_values);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_fill_values)) <span class='error_goto'>__PYX_ERR(0, 3975, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_strategies);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_strategies);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_v_strategies)) <span class='error_goto'>__PYX_ERR(0, 3975, __pyx_L1_error)</span>;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">3976</span>: </pre>
<pre class="cython line score-102" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">3977</span>: def _manage_fill_value(</pre>
<pre class='cython code score-102 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_97_manage_fill_value(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_96_manage_fill_value, "\n    Parses and manages fill values for bi-impute mode, supporting mixed types.\n\n    Parameters\n    ----------\n    fill_value : str\n        The fill value string potentially containing mixed types for numerical\n        and categorical data.\n    strategy : str\n        The imputation strategy to determine how to handle numerical fill values.\n\n    Returns\n    -------\n    Tuple[List[Union[None, float, str]], List[str]]\n        A tuple containing two elements: the first is a list with numerical and\n        categorical fill values, and the second is a list of strategies for \n        numerical and categorical data.\n\n    Raises\n    ------\n    ValueError\n        If the fill value does not contain a proper separator or if the numerical\n        fill value is incompatible with the specified strategy.\n\n    Examples\n    --------\n    &gt;&gt;&gt; from gofast.tools.mlutils import _manage_fill_value\n    &gt;&gt;&gt; _manage_fill_value(\"0__missing\", \"constant\")\n    ([0.0, 'missing'], ['constant', 'constant'])\n\n    &gt;&gt;&gt; _manage_fill_value(\"mean__missing\", \"mean\")\n    ([None, 'missing'], ['mean', 'constant'])\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_97_manage_fill_value = {"_manage_fill_value", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_97_manage_fill_value, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_96_manage_fill_value};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_97_manage_fill_value(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_fill_value = 0;
  PyObject *__pyx_v_strategy = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_manage_fill_value (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_fill_value,&amp;__pyx_n_s_strategy,0};
  PyObject* values[2] = {0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_fill_value)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3977, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_strategy)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 3977, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_manage_fill_value", 1, 2, 2, 1); <span class='error_goto'>__PYX_ERR(0, 3977, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_manage_fill_value") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 3977, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 2)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
    }
    __pyx_v_fill_value = ((PyObject*)values[0]);
    __pyx_v_strategy = ((PyObject*)values[1]);
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_manage_fill_value", 1, 2, 2, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 3977, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._manage_fill_value", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_fill_value), (&amp;PyUnicode_Type), 0, "fill_value", 1))) <span class='error_goto'>__PYX_ERR(0, 3978, __pyx_L1_error)</span>
  if (unlikely(!<span class='pyx_c_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_strategy), (&amp;PyUnicode_Type), 0, "strategy", 1))) <span class='error_goto'>__PYX_ERR(0, 3978, __pyx_L1_error)</span>
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_96_manage_fill_value(__pyx_self, __pyx_v_fill_value, __pyx_v_strategy);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  goto __pyx_L0;
  __pyx_L1_error:;
  __pyx_r = NULL;
  __pyx_L0:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_96_manage_fill_value(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_fill_value, PyObject *__pyx_v_strategy) {
  PyObject *__pyx_v_regex = NULL;
  PyObject *__pyx_v_parts = NULL;
  PyObject *__pyx_v_num_fill = NULL;
  PyObject *__pyx_v_cat_fill = NULL;
  PyObject *__pyx_v_num_fill_value = NULL;
  PyObject *__pyx_v_strategies = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__116)
  <span class='trace'>__Pyx_TraceCall</span>("_manage_fill_value", __pyx_f[0], 3977, 0, <span class='error_goto'>__PYX_ERR(0, 3977, __pyx_L1_error)</span>);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_15);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._manage_fill_value", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_regex);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_parts);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_num_fill);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_cat_fill);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_num_fill_value);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_strategies);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__195 = <span class='py_c_api'>PyTuple_Pack</span>(8, __pyx_n_s_fill_value, __pyx_n_s_strategy, __pyx_n_s_regex, __pyx_n_s_parts, __pyx_n_s_num_fill, __pyx_n_s_cat_fill, __pyx_n_s_num_fill_value, __pyx_n_s_strategies);<span class='error_goto'> if (unlikely(!__pyx_tuple__195)) __PYX_ERR(0, 3977, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__195);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__195);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(3977,0,<span class='error_goto'>__PYX_ERR(0, 3977, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3977, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_fill_value, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3977, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_strategy, __pyx_n_s_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3977, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_return, __pyx_kp_s_Tuple_List_Union_None_float_str) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3977, __pyx_L1_error)</span>
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_97_manage_fill_value, 0, __pyx_n_s_manage_fill_value, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__116));<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3977, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetAnnotationsDict</span>(__pyx_t_6, __pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_manage_fill_value, __pyx_t_6) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 3977, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_codeobj__116 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(2, 0, 0, 8, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__195, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_manage_fill_value, 3977, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__116)) __PYX_ERR(0, 3977, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">3978</span>:     fill_value: str, strategy: str</pre>
<pre class="cython line score-0">&#xA0;<span class="">3979</span>:     ) -&gt; Tuple[List[Union[None, float, str]], List[str]]:</pre>
<pre class="cython line score-0">&#xA0;<span class="">3980</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">3981</span>:     Parses and manages fill values for bi-impute mode, supporting mixed types.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3982</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3983</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">3984</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3985</span>:     fill_value : str</pre>
<pre class="cython line score-0">&#xA0;<span class="">3986</span>:         The fill value string potentially containing mixed types for numerical</pre>
<pre class="cython line score-0">&#xA0;<span class="">3987</span>:         and categorical data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3988</span>:     strategy : str</pre>
<pre class="cython line score-0">&#xA0;<span class="">3989</span>:         The imputation strategy to determine how to handle numerical fill values.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3990</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3991</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">3992</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">3993</span>:     Tuple[List[Union[None, float, str]], List[str]]</pre>
<pre class="cython line score-0">&#xA0;<span class="">3994</span>:         A tuple containing two elements: the first is a list with numerical and</pre>
<pre class="cython line score-0">&#xA0;<span class="">3995</span>:         categorical fill values, and the second is a list of strategies for</pre>
<pre class="cython line score-0">&#xA0;<span class="">3996</span>:         numerical and categorical data.</pre>
<pre class="cython line score-0">&#xA0;<span class="">3997</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">3998</span>:     Raises</pre>
<pre class="cython line score-0">&#xA0;<span class="">3999</span>:     ------</pre>
<pre class="cython line score-0">&#xA0;<span class="">4000</span>:     ValueError</pre>
<pre class="cython line score-0">&#xA0;<span class="">4001</span>:         If the fill value does not contain a proper separator or if the numerical</pre>
<pre class="cython line score-0">&#xA0;<span class="">4002</span>:         fill value is incompatible with the specified strategy.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4003</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4004</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">4005</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">4006</span>:     &gt;&gt;&gt; from gofast.tools.mlutils import _manage_fill_value</pre>
<pre class="cython line score-0">&#xA0;<span class="">4007</span>:     &gt;&gt;&gt; _manage_fill_value("0__missing", "constant")</pre>
<pre class="cython line score-0">&#xA0;<span class="">4008</span>:     ([0.0, 'missing'], ['constant', 'constant'])</pre>
<pre class="cython line score-0">&#xA0;<span class="">4009</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4010</span>:     &gt;&gt;&gt; _manage_fill_value("mean__missing", "mean")</pre>
<pre class="cython line score-0">&#xA0;<span class="">4011</span>:     ([None, 'missing'], ['mean', 'constant'])</pre>
<pre class="cython line score-0">&#xA0;<span class="">4012</span>:     """</pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4013</span>:     regex = re.compile(r'(__|--|&amp;|@|!)')</pre>
<pre class='cython code score-19 '>  <span class='trace'>__Pyx_TraceLine</span>(4013,0,<span class='error_goto'>__PYX_ERR(0, 4013, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_re);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4013, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_compile);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4013, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_kp_u__117};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4013, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_v_regex = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4014</span>:     parts = regex.split(fill_value)</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(4014,0,<span class='error_goto'>__PYX_ERR(0, 4014, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_regex, __pyx_n_s_split);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4014, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_2 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_fill_value};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4014, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_v_parts = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4015</span>:     if len(parts) &lt; 3:</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(4015,0,<span class='error_goto'>__PYX_ERR(0, 4015, __pyx_L1_error)</span>)
  __pyx_t_5 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_parts);<span class='error_goto'> if (unlikely(__pyx_t_5 == ((Py_ssize_t)-1))) __PYX_ERR(0, 4015, __pyx_L1_error)</span>
  __pyx_t_6 = (__pyx_t_5 &lt; 3);
  if (unlikely(__pyx_t_6)) {
/*  */
  }
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4016</span>:         raise ValueError("Fill value must contain a separator (__|--|&amp;|@|!)"</pre>
<pre class='cython code score-10 '>    <span class='trace'>__Pyx_TraceLine</span>(4016,0,<span class='error_goto'>__PYX_ERR(0, 4016, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_ValueError, __pyx_tuple__118, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4016, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_1, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='error_goto'>__PYX_ERR(0, 4016, __pyx_L1_error)</span>
/*  */
  __pyx_tuple__118 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Fill_value_must_contain_a_separa);<span class='error_goto'> if (unlikely(!__pyx_tuple__118)) __PYX_ERR(0, 4016, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__118);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__118);
</pre><pre class="cython line score-0">&#xA0;<span class="">4017</span>:                          " between numerical and categorical fill values.")</pre>
<pre class="cython line score-0">&#xA0;<span class="">4018</span>: </pre>
<pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4019</span>:     num_fill, cat_fill = parts[0], parts[-1]</pre>
<pre class='cython code score-4 '>  <span class='trace'>__Pyx_TraceLine</span>(4019,0,<span class='error_goto'>__PYX_ERR(0, 4019, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_parts, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4019, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_parts, -1L, long, 1, __Pyx_PyInt_From_long, 0, 1, 1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4019, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_v_num_fill = __pyx_t_1;
  __pyx_t_1 = 0;
  __pyx_v_cat_fill = __pyx_t_3;
  __pyx_t_3 = 0;
</pre><pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4020</span>:     num_fill_value = None if strategy in ['mean', 'median'] and num_fill.lower(</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(4020,0,<span class='error_goto'>__PYX_ERR(0, 4020, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_strategy);
  __pyx_t_7 = __pyx_v_strategy;
  __pyx_t_9 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_7, __pyx_n_u_mean, Py_EQ)); if (unlikely((__pyx_t_9 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4020, __pyx_L1_error)</span>
  if (!__pyx_t_9) {
  } else {
    __pyx_t_8 = __pyx_t_9;
    goto __pyx_L6_bool_binop_done;
  }
  __pyx_t_9 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_7, __pyx_n_u_median, Py_EQ)); if (unlikely((__pyx_t_9 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4020, __pyx_L1_error)</span>
  __pyx_t_8 = __pyx_t_9;
  __pyx_L6_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  __pyx_t_9 = __pyx_t_8;
  if (__pyx_t_9) {
  } else {
    __pyx_t_6 = __pyx_t_9;
    goto __pyx_L4_bool_binop_done;
  }
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(4021,0,<span class='error_goto'>__PYX_ERR(0, 4021, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_num_fill, __pyx_n_s_lower);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4020, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_10 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_10 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_10)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_10);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_10, NULL};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4020, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(4020,0,<span class='error_goto'>__PYX_ERR(0, 4020, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    __pyx_t_3 = Py_None;
  } else {
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4021</span>:         ) in ['mean', 'median'] else num_fill</pre>
<pre class='cython code score-6 '>  __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_1, __pyx_n_u_mean, Py_EQ)); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4021, __pyx_L1_error)</span>
  if (!__pyx_t_8) {
  } else {
    __pyx_t_9 = __pyx_t_8;
    goto __pyx_L8_bool_binop_done;
  }
  __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_1, __pyx_n_u_median, Py_EQ)); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4021, __pyx_L1_error)</span>
  __pyx_t_9 = __pyx_t_8;
  __pyx_L8_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_8 = __pyx_t_9;
  __pyx_t_6 = __pyx_t_8;
  __pyx_L4_bool_binop_done:;
  if (__pyx_t_6) {
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(4021,0,<span class='error_goto'>__PYX_ERR(0, 4021, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_num_fill);
    __pyx_t_3 = __pyx_v_num_fill;
  }
  __pyx_v_num_fill_value = __pyx_t_3;
  __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4022</span>: </pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4023</span>:     try:</pre>
<pre class='cython code score-10 '>  <span class='trace'>__Pyx_TraceLine</span>(4023,0,<span class='error_goto'>__PYX_ERR(0, 4023, __pyx_L1_error)</span>)
  {
    /*try:*/ {
/*  */
    }
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_11); __pyx_t_11 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_12); __pyx_t_12 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_13); __pyx_t_13 = 0;
    goto __pyx_L15_try_end;
    __pyx_L10_error:;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
/*  */
    __pyx_L12_except_error:;
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_11);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_12);
    <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_t_13);
    <span class='pyx_c_api'>__Pyx_ExceptionReset</span>(__pyx_t_11, __pyx_t_12, __pyx_t_13);
    goto __pyx_L1_error;
    __pyx_L15_try_end:;
  }
</pre><pre class="cython line score-34" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4024</span>:         num_fill_value = float(num_fill) if num_fill.replace('.', '', 1).isdigit() else num_fill</pre>
<pre class='cython code score-34 '>      <span class='trace'>__Pyx_TraceLine</span>(4024,0,<span class='error_goto'>__PYX_ERR(0, 4024, __pyx_L10_error)</span>)
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_num_fill, __pyx_n_s_replace);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4024, __pyx_L10_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_tuple__119, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4024, __pyx_L10_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_10, __pyx_n_s_isdigit);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4024, __pyx_L10_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      __pyx_t_10 = NULL;
      __pyx_t_4 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
        __pyx_t_10 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
        if (likely(__pyx_t_10)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_10);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
          __pyx_t_4 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_10, NULL};
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
        if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4024, __pyx_L10_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      }
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_1); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4024, __pyx_L10_error)</span>
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (__pyx_t_6) {
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyNumber_Float</span>(__pyx_v_num_fill);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4024, __pyx_L10_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        __pyx_t_3 = __pyx_t_1;
        __pyx_t_1 = 0;
      } else {
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_num_fill);
        __pyx_t_3 = __pyx_v_num_fill;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_num_fill_value, __pyx_t_3);
      __pyx_t_3 = 0;
/*  */
  __pyx_tuple__119 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_kp_u__3, __pyx_kp_u__12, __pyx_int_1);<span class='error_goto'> if (unlikely(!__pyx_tuple__119)) __PYX_ERR(0, 4024, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__119);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__119);
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4025</span>:     except ValueError:</pre>
<pre class='cython code score-6 '>    <span class='trace'>__Pyx_TraceLine</span>(4025,0,<span class='error_goto'>__PYX_ERR(0, 4025, __pyx_L12_except_error)</span>)
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyErr_ExceptionMatches</span>(__pyx_builtin_ValueError);
    if (__pyx_t_4) {
      <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._manage_fill_value", __pyx_clineno, __pyx_lineno, __pyx_filename);
      if (<span class='pyx_c_api'>__Pyx_GetException</span>(&amp;__pyx_t_3, &amp;__pyx_t_1, &amp;__pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4025, __pyx_L12_except_error)</span>
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_3);
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_1);
      <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_2);
</pre><pre class="cython line score-27" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4026</span>:         raise ValueError(f"Numerical fill value '{num_fill}' must be a float"</pre>
<pre class='cython code score-27 '>      <span class='trace'>__Pyx_TraceLine</span>(4026,0,<span class='error_goto'>__PYX_ERR(0, 4026, __pyx_L12_except_error)</span>)
      __pyx_t_10 = <span class='py_c_api'>PyTuple_New</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4026, __pyx_L12_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
      __pyx_t_5 = 0;
      __pyx_t_14 = 127;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Numerical_fill_value);
      __pyx_t_5 += 22;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Numerical_fill_value);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_10, 0, __pyx_kp_u_Numerical_fill_value);
      __pyx_t_15 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_num_fill, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 4026, __pyx_L12_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_15);
      __pyx_t_14 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_15) &gt; __pyx_t_14) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_15) : __pyx_t_14;
      __pyx_t_5 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_15);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_15);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_10, 1, __pyx_t_15);
      __pyx_t_15 = 0;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_must_be_a_float_for_strategy);
      __pyx_t_5 += 32;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_must_be_a_float_for_strategy);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_10, 2, __pyx_kp_u_must_be_a_float_for_strategy);
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(4026,0,<span class='error_goto'>__PYX_ERR(0, 4026, __pyx_L12_except_error)</span>)
      __pyx_t_15 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_10, 5, __pyx_t_5, __pyx_t_14);<span class='error_goto'> if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 4026, __pyx_L12_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_15);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      __pyx_t_10 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_15);<span class='error_goto'> if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4026, __pyx_L12_except_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_10);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_15); __pyx_t_15 = 0;
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_10, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_10); __pyx_t_10 = 0;
      <span class='error_goto'>__PYX_ERR(0, 4026, __pyx_L12_except_error)</span>
    }
    goto __pyx_L12_except_error;
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4027</span>:                          f" for strategy '{strategy}'.")</pre>
<pre class='cython code score-10 '>      <span class='trace'>__Pyx_TraceLine</span>(4027,0,<span class='error_goto'>__PYX_ERR(0, 4027, __pyx_L12_except_error)</span>)
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_strategy);
      __pyx_t_14 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_strategy) &gt; __pyx_t_14) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_v_strategy) : __pyx_t_14;
      __pyx_t_5 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_v_strategy);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_strategy);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_10, 3, __pyx_v_strategy);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__66);
      __pyx_t_5 += 2;
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__66);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_10, 4, __pyx_kp_u__66);
</pre><pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4028</span>:     strategies =[ strategy if strategy in ['mean', 'median', 'constant']</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(4028,0,<span class='error_goto'>__PYX_ERR(0, 4028, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_strategy);
  __pyx_t_7 = __pyx_v_strategy;
  __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_7, __pyx_n_u_mean, Py_EQ)); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4028, __pyx_L1_error)</span>
  if (!__pyx_t_8) {
  } else {
    __pyx_t_6 = __pyx_t_8;
    goto __pyx_L18_bool_binop_done;
  }
  __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_7, __pyx_n_u_median, Py_EQ)); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4028, __pyx_L1_error)</span>
  if (!__pyx_t_8) {
  } else {
    __pyx_t_6 = __pyx_t_8;
    goto __pyx_L18_bool_binop_done;
  }
  __pyx_t_8 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_7, __pyx_n_u_constant, Py_EQ)); if (unlikely((__pyx_t_8 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4028, __pyx_L1_error)</span>
  __pyx_t_6 = __pyx_t_8;
  __pyx_L18_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  __pyx_t_8 = __pyx_t_6;
  if (__pyx_t_8) {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_strategy);
    __pyx_t_2 = __pyx_v_strategy;
  } else {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_most_frequent);
    __pyx_t_2 = __pyx_n_u_most_frequent;
  }
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4028, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 4028, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_constant);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_constant);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 1, __pyx_n_u_constant)) <span class='error_goto'>__PYX_ERR(0, 4028, __pyx_L1_error)</span>;
  __pyx_t_2 = 0;
  __pyx_v_strategies = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4029</span>:                  else 'most_frequent', 'constant']</pre>
<pre class="cython line score-23" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4030</span>:     if num_fill.lower() in ['mean', 'median'] and strategy=='constant':</pre>
<pre class='cython code score-23 '>  <span class='trace'>__Pyx_TraceLine</span>(4030,0,<span class='error_goto'>__PYX_ERR(0, 4030, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_num_fill, __pyx_n_s_lower);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4030, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4030, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_t_9 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_1, __pyx_n_u_mean, Py_EQ)); if (unlikely((__pyx_t_9 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4030, __pyx_L1_error)</span>
  if (!__pyx_t_9) {
  } else {
    __pyx_t_6 = __pyx_t_9;
    goto __pyx_L24_bool_binop_done;
  }
  __pyx_t_9 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_1, __pyx_n_u_median, Py_EQ)); if (unlikely((__pyx_t_9 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4030, __pyx_L1_error)</span>
  __pyx_t_6 = __pyx_t_9;
  __pyx_L24_bool_binop_done:;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_9 = __pyx_t_6;
  if (__pyx_t_9) {
  } else {
    __pyx_t_8 = __pyx_t_9;
    goto __pyx_L22_bool_binop_done;
  }
  __pyx_t_9 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_v_strategy, __pyx_n_u_constant, Py_EQ)); if (unlikely((__pyx_t_9 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4030, __pyx_L1_error)</span>
  __pyx_t_8 = __pyx_t_9;
  __pyx_L22_bool_binop_done:;
  if (__pyx_t_8) {
/*  */
  }
</pre><pre class="cython line score-0">&#xA0;<span class="">4031</span>:         # Permutate the strategy and fill value.</pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4032</span>:         strategies [0]= num_fill.lower()</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(4032,0,<span class='error_goto'>__PYX_ERR(0, 4032, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_num_fill, __pyx_n_s_lower);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4032, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_3 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 0+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4032, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    }
    if (unlikely((<span class='pyx_c_api'>__Pyx_SetItemInt</span>(__pyx_v_strategies, 0, __pyx_t_1, long, 1, __Pyx_PyInt_From_long, 1, 0, 1) &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4032, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4033</span>:         num_fill_value =None ;</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(4033,0,<span class='error_goto'>__PYX_ERR(0, 4033, __pyx_L1_error)</span>)
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_num_fill_value, Py_None);
</pre><pre class="cython line score-0">&#xA0;<span class="">4034</span>: </pre>
<pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4035</span>:     return [num_fill_value, cat_fill], strategies</pre>
<pre class='cython code score-22 '>  <span class='trace'>__Pyx_TraceLine</span>(4035,0,<span class='error_goto'>__PYX_ERR(0, 4035, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4035, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_num_fill_value);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_num_fill_value);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_num_fill_value)) <span class='error_goto'>__PYX_ERR(0, 4035, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_cat_fill);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_cat_fill);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 1, __pyx_v_cat_fill)) <span class='error_goto'>__PYX_ERR(0, 4035, __pyx_L1_error)</span>;
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4035, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4035, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_strategies);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_strategies);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_v_strategies)) <span class='error_goto'>__PYX_ERR(0, 4035, __pyx_L1_error)</span>;
  __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4036</span>: </pre>
<pre class="cython line score-111" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4037</span>: @SmartProcessor(fail_silently= True, param_name="skip_columns")</pre>
<pre class='cython code score-111 '>static PyObject *__pyx_pf_6gofast_5tools_7mlutils_131__defaults__(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceCall</span>("__defaults__", __pyx_f[0], 4037, 0, <span class='error_goto'>__PYX_ERR(0, 4037, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(9);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4037, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_kind, <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults10, __pyx_self)-&gt;__pyx_arg_kind) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4037, __pyx_L1_error)</span>
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(4037,0,<span class='error_goto'>__PYX_ERR(0, 4037, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4037, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='refnanny'>__Pyx_GIVEREF</span>(Py_None);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, Py_None)) <span class='error_goto'>__PYX_ERR(0, 4037, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4037, __pyx_L1_error)</span>;
  __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.__defaults__", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_99soft_scaler(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_98soft_scaler, "\n    Scale data using specified scaling strategy from scikit-learn. \n    \n    Function excludes categorical features from scaling and provides \n    feedback via verbose parameter.\n\n    Parameters\n    ----------\n    X : DataFrame or array-like of shape (n_samples, n_features)\n        The data to scale, can contain both numerical and categorical features.\n    kind : str, default='StandardScaler'\n        The kind of scaling to apply to numerical features. One of 'StandardScaler', \n        'MinMaxScaler', 'Normalizer', or 'RobustScaler'.\n    copy : bool, default=True\n        If False, avoid a copy and perform inplace scaling instead.\n    with_mean : bool, default=True\n        If True, center the data before scaling. Only applicable when kind is\n        'StandardScaler' or 'RobustScaler'.\n    with_std : bool, default=True\n        If True, scale the data to unit variance. Only applicable when kind is\n        'StandardScaler' or 'RobustScaler'.\n    feature_range : tuple (min, max), default=(0, 1)\n        Desired range of transformed data. Only applicable when kind \n        is 'MinMaxScaler'.\n    clip : bool, default=False\n        Set to True to clip transformed values to the provided feature range.\n        Only applicable when kind is 'MinMaxScaler'.\n    norm : {'l1', 'l2', 'max'}, default='l2'\n        The norm to use to normalize each non-zero sample or feature.\n        Only applicable when kind is 'Normalizer'.\n    skip_columns : list of str or int, optional\n        Specifies the columns to exclude from processing when the decorator is\n        applied to a function. If the input data `X` is a pandas DataFrame, \n        `skip_columns` should contain the names of the columns to be skipped. \n        If `X` is a numpy array, `skip_columns`  should be a list of column \n        indices (integers) indicating the positions of the columns to be excluded.\n        This allows selective processing of data, avoiding alterations to the\n        spec""ified columns.\n    verbose : int, default=0\n        If &gt; 0, print messages about the processing.\n        \n    **kwargs : additional keyword arguments\n        Additional fitting parameters to pass to the scaler.\n        \n    Returns\n    -------\n    X_scaled : {ndarray, sparse matrix, dataframe} of shape (n_samples, n_features)\n        The scaled data. The scaled data with numerical features scaled according\n        to the specified kind, and categorical features returned unchanged. \n        The return type matches the input type.\n\n    Examples\n    --------\n    &gt;&gt;&gt; import numpy as np \n    &gt;&gt;&gt; import pandas as pd \n    &gt;&gt;&gt; from gofast.tools.mlutils import soft_scaler\n    &gt;&gt;&gt; X = np.array([[1, -1, 2], [2, 0, 0], [0, 1, -1]])\n    &gt;&gt;&gt; X_scaled = soft_scaler(X, kind='StandardScaler')\n    &gt;&gt;&gt; print(X_scaled)\n    [[ 0.  -1.22474487  1.33630621]\n     [ 1.22474487  0.  -0.26726124]\n     [-1.22474487  1.22474487 -1.06904497]]\n\n    &gt;&gt;&gt; df = pd.DataFrame(X, columns=['a', 'b', 'c'])\n    &gt;&gt;&gt; df_scaled = soft_scaler(df, kind='RobustScaler', with_centering=True,\n                                with_scaling=True)\n    &gt;&gt;&gt; print(df_scaled)\n              a    b    c\n        0 -0.5 -1.0  1.0\n        1  0.5  0.0  0.0\n        2 -0.5  1.0 -1.0\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_99soft_scaler = {"soft_scaler", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_99soft_scaler, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_98soft_scaler};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_99soft_scaler(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_X = 0;
  PyObject *__pyx_v_kind = 0;
  PyObject *__pyx_v_copy = 0;
  PyObject *__pyx_v_with_mean = 0;
  PyObject *__pyx_v_with_std = 0;
  PyObject *__pyx_v_feature_range = 0;
  PyObject *__pyx_v_clip = 0;
  PyObject *__pyx_v_norm = 0;
  CYTHON_UNUSED PyObject *__pyx_v_skip_columns = 0;
  PyObject *__pyx_v_verbose = 0;
  PyObject *__pyx_v_kwargs = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("soft_scaler (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  __pyx_v_kwargs = <span class='py_c_api'>PyDict_New</span>(); if (unlikely(!__pyx_v_kwargs)) return NULL;
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_v_kwargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_X,&amp;__pyx_n_s_kind,&amp;__pyx_n_s_copy,&amp;__pyx_n_s_with_mean,&amp;__pyx_n_s_with_std,&amp;__pyx_n_s_feature_range,&amp;__pyx_n_s_clip,&amp;__pyx_n_s_norm,&amp;__pyx_n_s_skip_columns,&amp;__pyx_n_s_verbose,0};
  PyObject* values[10] = {0,0,0,0,0,0,0,0,0,0};
    __pyx_defaults10 *__pyx_dynamic_args = <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults10, __pyx_self);
    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(__pyx_dynamic_args-&gt;__pyx_arg_kind);
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_True)));
    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_True)));
    values[4] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_True)));
    values[5] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_tuple__120)));
    values[6] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    values[7] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject*)__pyx_n_u_l2)));
/*  */
  /* function exit code */
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_kwargs);
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_98soft_scaler(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_X, PyObject *__pyx_v_kind, PyObject *__pyx_v_copy, PyObject *__pyx_v_with_mean, PyObject *__pyx_v_with_std, PyObject *__pyx_v_feature_range, PyObject *__pyx_v_clip, PyObject *__pyx_v_norm, CYTHON_UNUSED PyObject *__pyx_v_skip_columns, PyObject *__pyx_v_verbose, PyObject *__pyx_v_kwargs) {
  int __pyx_v_input_is_dataframe;
  PyObject *__pyx_v_cat_features = NULL;
  PyObject *__pyx_v_scaler = NULL;
  PyObject *__pyx_v_num_features = NULL;
  PyObject *__pyx_v_X_scaled_numeric = NULL;
  PyObject *__pyx_v_X_scaled = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__121)
  <span class='trace'>__Pyx_TraceCall</span>("soft_scaler", __pyx_f[0], 4037, 0, <span class='error_goto'>__PYX_ERR(0, 4037, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_kind);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.soft_scaler", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_cat_features);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_scaler);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_num_features);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_X_scaled_numeric);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_X_scaled);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_X);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_kind);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(4037,0,<span class='error_goto'>__PYX_ERR(0, 4037, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_SmartProcessor);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4037, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4037, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_fail_silently, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4037, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_param_name, __pyx_n_u_skip_columns) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4037, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_6, __pyx_empty_tuple, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4037, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
/*  */
  __pyx_tuple__196 = <span class='py_c_api'>PyTuple_Pack</span>(17, __pyx_n_s_X, __pyx_n_s_kind, __pyx_n_s_copy, __pyx_n_s_with_mean, __pyx_n_s_with_std, __pyx_n_s_feature_range, __pyx_n_s_clip, __pyx_n_s_norm, __pyx_n_s_skip_columns, __pyx_n_s_verbose, __pyx_n_s_kwargs, __pyx_n_s_input_is_dataframe, __pyx_n_s_cat_features, __pyx_n_s_scaler, __pyx_n_s_num_features, __pyx_n_s_X_scaled_numeric, __pyx_n_s_X_scaled);<span class='error_goto'> if (unlikely(!__pyx_tuple__196)) __PYX_ERR(0, 4037, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__196);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__196);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_99soft_scaler, 0, __pyx_n_s_soft_scaler, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__121));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4037, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (!<span class='pyx_c_api'>__Pyx_CyFunction_InitDefaults</span>(__pyx_t_4, sizeof(__pyx_defaults10), 1)) <span class='error_goto'>__PYX_ERR(0, 4037, __pyx_L1_error)</span>
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(4037,0,<span class='error_goto'>__PYX_ERR(0, 4037, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_t_2, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4037, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_soft_scaler, __pyx_t_6) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4037, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_codeobj__121 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(1, 0, 9, 17, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__196, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_soft_scaler, 4037, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__121)) __PYX_ERR(0, 4037, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">4038</span>: def soft_scaler(</pre>
<pre class="cython line score-0">&#xA0;<span class="">4039</span>:     X, *,</pre>
<pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4040</span>:     kind=StandardScaler,</pre>
<pre class='cython code score-6 '>  <span class='trace'>__Pyx_TraceLine</span>(4040,0,<span class='error_goto'>__PYX_ERR(0, 4040, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_StandardScaler);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4040, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_c_api'>__Pyx_CyFunction_Defaults</span>(__pyx_defaults10, __pyx_t_4)-&gt;__pyx_arg_kind = __pyx_t_6;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_6);
  __pyx_t_6 = 0;
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsGetter</span>(__pyx_t_4, __pyx_pf_6gofast_5tools_7mlutils_131__defaults__);
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4041</span>:     copy=True,</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(4041,0,<span class='error_goto'>__PYX_ERR(0, 4041, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_copy, ((PyObject *)Py_True)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4037, __pyx_L1_error)</span>
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4042</span>:     with_mean=True,</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(4042,0,<span class='error_goto'>__PYX_ERR(0, 4042, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_with_mean, ((PyObject *)Py_True)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4037, __pyx_L1_error)</span>
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4043</span>:     with_std=True,</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(4043,0,<span class='error_goto'>__PYX_ERR(0, 4043, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_with_std, ((PyObject *)Py_True)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4037, __pyx_L1_error)</span>
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4044</span>:     feature_range=(0, 1),</pre>
<pre class='cython code score-10 '>  <span class='trace'>__Pyx_TraceLine</span>(4044,0,<span class='error_goto'>__PYX_ERR(0, 4044, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_feature_range, ((PyObject*)__pyx_tuple__120)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4037, __pyx_L1_error)</span>
/*  */
  __pyx_tuple__120 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_int_0, __pyx_int_1);<span class='error_goto'> if (unlikely(!__pyx_tuple__120)) __PYX_ERR(0, 4044, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__120);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__120);
</pre><pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4045</span>:     clip=False,</pre>
<pre class='cython code score-10 '>  <span class='trace'>__Pyx_TraceLine</span>(4045,0,<span class='error_goto'>__PYX_ERR(0, 4045, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_clip, ((PyObject *)Py_False)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4037, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_norm, ((PyObject*)__pyx_n_u_l2)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4037, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">4046</span>:     norm='l2',</pre>
<pre class="cython line score-47" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4047</span>:     skip_columns=None,</pre>
<pre class='cython code score-47 '>  <span class='trace'>__Pyx_TraceLine</span>(4047,0,<span class='error_goto'>__PYX_ERR(0, 4047, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_skip_columns, Py_None) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4037, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_verbose, ((PyObject *)__pyx_int_0)) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4037, __pyx_L1_error)</span>
/*  */
    values[8] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[9] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)__pyx_int_0)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_X)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4037, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
      }
      if (kw_args &gt; 0 &amp;&amp; (kw_args &lt;= 9)) {
        Py_ssize_t index;
        for (index = 1; index &lt; 10 &amp;&amp; kw_args &gt; 0; index++) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, *__pyx_pyargnames[index]);
          if (value) { values[index] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4037, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, __pyx_v_kwargs, values + 0, kwd_pos_args, "soft_scaler") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 4037, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 1)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
    }
    __pyx_v_X = values[0];
    __pyx_v_kind = values[1];
    __pyx_v_copy = values[2];
    __pyx_v_with_mean = values[3];
    __pyx_v_with_std = values[4];
    __pyx_v_feature_range = values[5];
    __pyx_v_clip = values[6];
    __pyx_v_norm = values[7];
    __pyx_v_skip_columns = values[8];
    __pyx_v_verbose = values[9];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("soft_scaler", 1, 1, 1, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 4037, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_kwargs); __pyx_v_kwargs = 0;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.soft_scaler", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_98soft_scaler(__pyx_self, __pyx_v_X, __pyx_v_kind, __pyx_v_copy, __pyx_v_with_mean, __pyx_v_with_std, __pyx_v_feature_range, __pyx_v_clip, __pyx_v_norm, __pyx_v_skip_columns, __pyx_v_verbose, __pyx_v_kwargs);
</pre><pre class="cython line score-0">&#xA0;<span class="">4048</span>:     verbose=0,</pre>
<pre class="cython line score-0">&#xA0;<span class="">4049</span>:     **kwargs</pre>
<pre class="cython line score-0">&#xA0;<span class="">4050</span>:     ):</pre>
<pre class="cython line score-0">&#xA0;<span class="">4051</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">4052</span>:     Scale data using specified scaling strategy from scikit-learn.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4053</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4054</span>:     Function excludes categorical features from scaling and provides</pre>
<pre class="cython line score-0">&#xA0;<span class="">4055</span>:     feedback via verbose parameter.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4056</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4057</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">4058</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">4059</span>:     X : DataFrame or array-like of shape (n_samples, n_features)</pre>
<pre class="cython line score-0">&#xA0;<span class="">4060</span>:         The data to scale, can contain both numerical and categorical features.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4061</span>:     kind : str, default='StandardScaler'</pre>
<pre class="cython line score-0">&#xA0;<span class="">4062</span>:         The kind of scaling to apply to numerical features. One of 'StandardScaler',</pre>
<pre class="cython line score-0">&#xA0;<span class="">4063</span>:         'MinMaxScaler', 'Normalizer', or 'RobustScaler'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4064</span>:     copy : bool, default=True</pre>
<pre class="cython line score-0">&#xA0;<span class="">4065</span>:         If False, avoid a copy and perform inplace scaling instead.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4066</span>:     with_mean : bool, default=True</pre>
<pre class="cython line score-0">&#xA0;<span class="">4067</span>:         If True, center the data before scaling. Only applicable when kind is</pre>
<pre class="cython line score-0">&#xA0;<span class="">4068</span>:         'StandardScaler' or 'RobustScaler'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4069</span>:     with_std : bool, default=True</pre>
<pre class="cython line score-0">&#xA0;<span class="">4070</span>:         If True, scale the data to unit variance. Only applicable when kind is</pre>
<pre class="cython line score-0">&#xA0;<span class="">4071</span>:         'StandardScaler' or 'RobustScaler'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4072</span>:     feature_range : tuple (min, max), default=(0, 1)</pre>
<pre class="cython line score-0">&#xA0;<span class="">4073</span>:         Desired range of transformed data. Only applicable when kind</pre>
<pre class="cython line score-0">&#xA0;<span class="">4074</span>:         is 'MinMaxScaler'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4075</span>:     clip : bool, default=False</pre>
<pre class="cython line score-0">&#xA0;<span class="">4076</span>:         Set to True to clip transformed values to the provided feature range.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4077</span>:         Only applicable when kind is 'MinMaxScaler'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4078</span>:     norm : {'l1', 'l2', 'max'}, default='l2'</pre>
<pre class="cython line score-0">&#xA0;<span class="">4079</span>:         The norm to use to normalize each non-zero sample or feature.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4080</span>:         Only applicable when kind is 'Normalizer'.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4081</span>:     skip_columns : list of str or int, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">4082</span>:         Specifies the columns to exclude from processing when the decorator is</pre>
<pre class="cython line score-0">&#xA0;<span class="">4083</span>:         applied to a function. If the input data `X` is a pandas DataFrame,</pre>
<pre class="cython line score-0">&#xA0;<span class="">4084</span>:         `skip_columns` should contain the names of the columns to be skipped.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4085</span>:         If `X` is a numpy array, `skip_columns`  should be a list of column</pre>
<pre class="cython line score-0">&#xA0;<span class="">4086</span>:         indices (integers) indicating the positions of the columns to be excluded.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4087</span>:         This allows selective processing of data, avoiding alterations to the</pre>
<pre class="cython line score-0">&#xA0;<span class="">4088</span>:         specified columns.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4089</span>:     verbose : int, default=0</pre>
<pre class="cython line score-0">&#xA0;<span class="">4090</span>:         If &gt; 0, print messages about the processing.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4091</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4092</span>:     **kwargs : additional keyword arguments</pre>
<pre class="cython line score-0">&#xA0;<span class="">4093</span>:         Additional fitting parameters to pass to the scaler.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4094</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4095</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">4096</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">4097</span>:     X_scaled : {ndarray, sparse matrix, dataframe} of shape (n_samples, n_features)</pre>
<pre class="cython line score-0">&#xA0;<span class="">4098</span>:         The scaled data. The scaled data with numerical features scaled according</pre>
<pre class="cython line score-0">&#xA0;<span class="">4099</span>:         to the specified kind, and categorical features returned unchanged.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4100</span>:         The return type matches the input type.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4101</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4102</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">4103</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">4104</span>:     &gt;&gt;&gt; import numpy as np</pre>
<pre class="cython line score-0">&#xA0;<span class="">4105</span>:     &gt;&gt;&gt; import pandas as pd</pre>
<pre class="cython line score-0">&#xA0;<span class="">4106</span>:     &gt;&gt;&gt; from gofast.tools.mlutils import soft_scaler</pre>
<pre class="cython line score-0">&#xA0;<span class="">4107</span>:     &gt;&gt;&gt; X = np.array([[1, -1, 2], [2, 0, 0], [0, 1, -1]])</pre>
<pre class="cython line score-0">&#xA0;<span class="">4108</span>:     &gt;&gt;&gt; X_scaled = soft_scaler(X, kind='StandardScaler')</pre>
<pre class="cython line score-0">&#xA0;<span class="">4109</span>:     &gt;&gt;&gt; print(X_scaled)</pre>
<pre class="cython line score-0">&#xA0;<span class="">4110</span>:     [[ 0.  -1.22474487  1.33630621]</pre>
<pre class="cython line score-0">&#xA0;<span class="">4111</span>:      [ 1.22474487  0.  -0.26726124]</pre>
<pre class="cython line score-0">&#xA0;<span class="">4112</span>:      [-1.22474487  1.22474487 -1.06904497]]</pre>
<pre class="cython line score-0">&#xA0;<span class="">4113</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4114</span>:     &gt;&gt;&gt; df = pd.DataFrame(X, columns=['a', 'b', 'c'])</pre>
<pre class="cython line score-0">&#xA0;<span class="">4115</span>:     &gt;&gt;&gt; df_scaled = soft_scaler(df, kind='RobustScaler', with_centering=True,</pre>
<pre class="cython line score-0">&#xA0;<span class="">4116</span>:                                 with_scaling=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">4117</span>:     &gt;&gt;&gt; print(df_scaled)</pre>
<pre class="cython line score-0">&#xA0;<span class="">4118</span>:               a    b    c</pre>
<pre class="cython line score-0">&#xA0;<span class="">4119</span>:         0 -0.5 -1.0  1.0</pre>
<pre class="cython line score-0">&#xA0;<span class="">4120</span>:         1  0.5  0.0  0.0</pre>
<pre class="cython line score-0">&#xA0;<span class="">4121</span>:         2 -0.5  1.0 -1.0</pre>
<pre class="cython line score-0">&#xA0;<span class="">4122</span>:     """</pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4123</span>:     X= to_numeric_dtypes(X)</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(4123,0,<span class='error_goto'>__PYX_ERR(0, 4123, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_to_numeric_dtypes);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4123, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = NULL;
  __pyx_t_4 = 0;
  #if CYTHON_UNPACK_METHODS
  if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_4 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_X};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4123, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_X, __pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-11" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4124</span>:     input_is_dataframe = isinstance(X, pd.DataFrame)</pre>
<pre class='cython code score-11 '>  <span class='trace'>__Pyx_TraceLine</span>(4124,0,<span class='error_goto'>__PYX_ERR(0, 4124, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4124, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4124, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_5 = <span class='py_c_api'>PyObject_IsInstance</span>(__pyx_v_X, __pyx_t_2);<span class='error_goto'> if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 4124, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_input_is_dataframe = __pyx_t_5;
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4125</span>:     cat_features = X.select_dtypes(</pre>
<pre class='cython code score-6 '>    <span class='trace'>__Pyx_TraceLine</span>(4125,0,<span class='error_goto'>__PYX_ERR(0, 4125, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_select_dtypes);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4125, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(4125,0,<span class='error_goto'>__PYX_ERR(0, 4125, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_empty_tuple, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4125, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-24" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4126</span>:         exclude=['number']).columns if input_is_dataframe else []</pre>
<pre class='cython code score-24 '>  <span class='trace'>__Pyx_TraceLine</span>(4126,0,<span class='error_goto'>__PYX_ERR(0, 4126, __pyx_L1_error)</span>)
  if (__pyx_v_input_is_dataframe) {
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(4126,0,<span class='error_goto'>__PYX_ERR(0, 4126, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4126, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_6 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4126, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_number);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_number);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_6, 0, __pyx_n_u_number)) <span class='error_goto'>__PYX_ERR(0, 4126, __pyx_L1_error)</span>;
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_exclude, __pyx_t_6) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4126, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(4126,0,<span class='error_goto'>__PYX_ERR(0, 4126, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_6, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4126, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_2 = __pyx_t_3;
    __pyx_t_3 = 0;
  } else {
    __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4126, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = __pyx_t_3;
    __pyx_t_3 = 0;
  }
  __pyx_v_cat_features = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4127</span>: </pre>
<pre class="cython line score-13" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4128</span>:     if verbose &gt; 0 and len(cat_features) &gt; 0:</pre>
<pre class='cython code score-13 '>  <span class='trace'>__Pyx_TraceLine</span>(4128,0,<span class='error_goto'>__PYX_ERR(0, 4128, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_v_verbose, __pyx_int_0, Py_GT); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4128, __pyx_L1_error)</span>
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_t_2); if (unlikely((__pyx_t_7 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4128, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_7) {
  } else {
    __pyx_t_5 = __pyx_t_7;
    goto __pyx_L4_bool_binop_done;
  }
  __pyx_t_8 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_cat_features);<span class='error_goto'> if (unlikely(__pyx_t_8 == ((Py_ssize_t)-1))) __PYX_ERR(0, 4128, __pyx_L1_error)</span>
  __pyx_t_7 = (__pyx_t_8 &gt; 0);
  __pyx_t_5 = __pyx_t_7;
  __pyx_L4_bool_binop_done:;
  if (__pyx_t_5) {
/*  */
  }
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4129</span>:         print("Note: Categorical data detected and excluded from scaling.")</pre>
<pre class='cython code score-8 '>    <span class='trace'>__Pyx_TraceLine</span>(4129,0,<span class='error_goto'>__PYX_ERR(0, 4129, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_print, __pyx_tuple__122, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4129, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
/*  */
  __pyx_tuple__122 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_kp_u_Note_Categorical_data_detected_a);<span class='error_goto'> if (unlikely(!__pyx_tuple__122)) __PYX_ERR(0, 4129, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__122);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__122);
</pre><pre class="cython line score-0">&#xA0;<span class="">4130</span>: </pre>
<pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4131</span>:     kind= kind if isinstance(kind, str) else kind.__name__</pre>
<pre class='cython code score-9 '>  <span class='trace'>__Pyx_TraceLine</span>(4131,0,<span class='error_goto'>__PYX_ERR(0, 4131, __pyx_L1_error)</span>)
  __pyx_t_5 = <span class='py_c_api'>PyUnicode_Check</span>(__pyx_v_kind); 
  if (__pyx_t_5) {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_kind);
    __pyx_t_2 = __pyx_v_kind;
  } else {
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_kind, __pyx_n_s_name_2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4131, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_2 = __pyx_t_3;
    __pyx_t_3 = 0;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_kind, __pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class="cython line score-15" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4132</span>:     scaler = _determine_scaler(</pre>
<pre class='cython code score-15 '>  <span class='trace'>__Pyx_TraceLine</span>(4132,0,<span class='error_goto'>__PYX_ERR(0, 4132, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_determine_scaler);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4132, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(4133,0,<span class='error_goto'>__PYX_ERR(0, 4133, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4132, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_kind);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_kind);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_kind)) <span class='error_goto'>__PYX_ERR(0, 4132, __pyx_L1_error)</span>;
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(4132,0,<span class='error_goto'>__PYX_ERR(0, 4132, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_3, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4132, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_v_scaler = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-22" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4133</span>:         kind, copy=copy, with_mean=with_mean, with_std=with_std, norm=norm,</pre>
<pre class='cython code score-22 '>  <span class='trace'>__Pyx_TraceLine</span>(4132,0,<span class='error_goto'>__PYX_ERR(0, 4132, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(6);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4133, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(4133,0,<span class='error_goto'>__PYX_ERR(0, 4133, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_copy, __pyx_v_copy) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4133, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_with_mean, __pyx_v_with_mean) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4133, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_with_std, __pyx_v_with_std) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4133, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_norm, __pyx_v_norm) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4133, __pyx_L1_error)</span>
</pre><pre class="cython line score-12" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4134</span>:         feature_range=feature_range, clip=clip, **kwargs)</pre>
<pre class='cython code score-12 '>  <span class='trace'>__Pyx_TraceLine</span>(4134,0,<span class='error_goto'>__PYX_ERR(0, 4134, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_feature_range, __pyx_v_feature_range) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4133, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_clip, __pyx_v_clip) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4133, __pyx_L1_error)</span>
  __pyx_t_6 = __pyx_t_1;
  __pyx_t_1 = 0;
  if (<span class='pyx_c_api'>__Pyx_MergeKeywords</span>(__pyx_t_6, __pyx_v_kwargs) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4134, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">4135</span>: </pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4136</span>:     if input_is_dataframe:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(4136,0,<span class='error_goto'>__PYX_ERR(0, 4136, __pyx_L1_error)</span>)
  if (__pyx_v_input_is_dataframe) {
/*  */
    goto __pyx_L6;
  }
</pre><pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4137</span>:         num_features = X.select_dtypes(['number']).columns</pre>
<pre class='cython code score-28 '>    <span class='trace'>__Pyx_TraceLine</span>(4137,0,<span class='error_goto'>__PYX_ERR(0, 4137, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_select_dtypes);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4137, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    __pyx_t_3 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4137, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_number);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_number);
    if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_3, 0, __pyx_n_u_number)) <span class='error_goto'>__PYX_ERR(0, 4137, __pyx_L1_error)</span>;
    __pyx_t_2 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
      __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
      if (likely(__pyx_t_2)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_t_3};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4137, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4137, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_v_num_features = __pyx_t_6;
    __pyx_t_6 = 0;
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4138</span>:         X_scaled_numeric = _scale_numeric_features(X, scaler, num_features)</pre>
<pre class='cython code score-16 '>    <span class='trace'>__Pyx_TraceLine</span>(4138,0,<span class='error_goto'>__PYX_ERR(0, 4138, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_scale_numeric_features);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4138, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[4] = {__pyx_t_3, __pyx_v_X, __pyx_v_scaler, __pyx_v_num_features};
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 3+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 4138, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_v_X_scaled_numeric = __pyx_t_6;
    __pyx_t_6 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4139</span>:         X_scaled = _concat_scaled_numeric_with_categorical(</pre>
<pre class='cython code score-2 '>    <span class='trace'>__Pyx_TraceLine</span>(4139,0,<span class='error_goto'>__PYX_ERR(0, 4139, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_concat_scaled_numeric_with_cate);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4139, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
</pre><pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4140</span>:             X_scaled_numeric, X, cat_features)</pre>
<pre class='cython code score-14 '>    <span class='trace'>__Pyx_TraceLine</span>(4140,0,<span class='error_goto'>__PYX_ERR(0, 4140, __pyx_L1_error)</span>)
    __pyx_t_3 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[4] = {__pyx_t_3, __pyx_v_X_scaled_numeric, __pyx_v_X, __pyx_v_cat_features};
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 3+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 4139, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_v_X_scaled = __pyx_t_6;
    __pyx_t_6 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4141</span>:     else:</pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4142</span>:         X_scaled = scaler.fit_transform(X)</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(4142,0,<span class='error_goto'>__PYX_ERR(0, 4142, __pyx_L1_error)</span>)
  /*else*/ {
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_scaler, __pyx_n_s_fit_transform);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4142, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = NULL;
    __pyx_t_4 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_4 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_X};
      __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_4, 1+__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 4142, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_v_X_scaled = __pyx_t_6;
    __pyx_t_6 = 0;
  }
  __pyx_L6:;
</pre><pre class="cython line score-0">&#xA0;<span class="">4143</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4144</span>:     return X_scaled</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(4144,0,<span class='error_goto'>__PYX_ERR(0, 4144, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X_scaled);
  __pyx_r = __pyx_v_X_scaled;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4145</span>: </pre>
<pre class="cython line score-66" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4146</span>: def _determine_scaler(kind, **kwargs):</pre>
<pre class='cython code score-66 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_101_determine_scaler(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_100_determine_scaler, "\n    Determines the scaler based on the kind parameter.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_101_determine_scaler = {"_determine_scaler", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_101_determine_scaler, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_100_determine_scaler};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_101_determine_scaler(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_kind = 0;
  PyObject *__pyx_v_kwargs = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_determine_scaler (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  __pyx_v_kwargs = <span class='py_c_api'>PyDict_New</span>(); if (unlikely(!__pyx_v_kwargs)) return NULL;
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_v_kwargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_kind,0};
  PyObject* values[1] = {0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_kind)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4146, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, __pyx_v_kwargs, values + 0, kwd_pos_args, "_determine_scaler") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 4146, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 1)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
    }
    __pyx_v_kind = values[0];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_determine_scaler", 1, 1, 1, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 4146, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_kwargs); __pyx_v_kwargs = 0;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._determine_scaler", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_100_determine_scaler(__pyx_self, __pyx_v_kind, __pyx_v_kwargs);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_kwargs);
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_100_determine_scaler(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_kind, PyObject *__pyx_v_kwargs) {
  PyObject *__pyx_v_scaler_classes = NULL;
  PyObject *__pyx_v_scaler_class = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__123)
  <span class='trace'>__Pyx_TraceCall</span>("_determine_scaler", __pyx_f[0], 4146, 0, <span class='error_goto'>__PYX_ERR(0, 4146, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_kwargs);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._determine_scaler", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_kwargs);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_scaler_classes);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_scaler_class);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__197 = <span class='py_c_api'>PyTuple_Pack</span>(4, __pyx_n_s_kind, __pyx_n_s_kwargs, __pyx_n_s_scaler_classes, __pyx_n_s_scaler_class);<span class='error_goto'> if (unlikely(!__pyx_tuple__197)) __PYX_ERR(0, 4146, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__197);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__197);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(4146,0,<span class='error_goto'>__PYX_ERR(0, 4146, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_101_determine_scaler, 0, __pyx_n_s_determine_scaler, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__123));<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4146, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_determine_scaler, __pyx_t_6) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4146, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_codeobj__123 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(1, 0, 0, 4, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__197, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_determine_scaler, 4146, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__123)) __PYX_ERR(0, 4146, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">4147</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">4148</span>:     Determines the scaler based on the kind parameter.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4149</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">4150</span>:     scaler_classes = {</pre>
<pre class="cython line score-10" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4151</span>:         'StandardScaler': StandardScaler,</pre>
<pre class='cython code score-10 '>  <span class='trace'>__Pyx_TraceLine</span>(4151,0,<span class='error_goto'>__PYX_ERR(0, 4151, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4151, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_StandardScaler);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4151, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_u_StandardScaler, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4151, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4152</span>:         'MinMaxScaler': MinMaxScaler,</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(4152,0,<span class='error_goto'>__PYX_ERR(0, 4152, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_MinMaxScaler);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4152, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_u_MinMaxScaler, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4151, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4153</span>:         'Normalizer': Normalizer,</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(4153,0,<span class='error_goto'>__PYX_ERR(0, 4153, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_Normalizer);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4153, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_u_Normalizer, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4151, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-8" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4154</span>:         'RobustScaler': RobustScaler</pre>
<pre class='cython code score-8 '>  <span class='trace'>__Pyx_TraceLine</span>(4154,0,<span class='error_goto'>__PYX_ERR(0, 4154, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_2, __pyx_n_s_RobustScaler);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4154, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_u_RobustScaler, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4151, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_scaler_classes = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4155</span>:     }</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4156</span>:     scaler_class = scaler_classes.get(kind, None)</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(4156,0,<span class='error_goto'>__PYX_ERR(0, 4156, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_GetItemDefault</span>(__pyx_v_scaler_classes, __pyx_v_kind, Py_None);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4156, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_scaler_class = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4157</span>:     if scaler_class is None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(4157,0,<span class='error_goto'>__PYX_ERR(0, 4157, __pyx_L1_error)</span>)
  __pyx_t_3 = (__pyx_v_scaler_class == Py_None);
  if (unlikely(__pyx_t_3)) {
/*  */
  }
</pre><pre class="cython line score-27" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4158</span>:         raise ValueError(f"Unsupported scaler kind: {kind}. Supported scalers"</pre>
<pre class='cython code score-27 '>    <span class='trace'>__Pyx_TraceLine</span>(4158,0,<span class='error_goto'>__PYX_ERR(0, 4158, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4158, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_4 = 0;
    __pyx_t_5 = 127;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Unsupported_scaler_kind);
    __pyx_t_4 += 25;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Unsupported_scaler_kind);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_kp_u_Unsupported_scaler_kind);
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_v_kind, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4158, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) &gt; __pyx_t_5) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_2) : __pyx_t_5;
    __pyx_t_4 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_2);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_2);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_t_2);
    __pyx_t_2 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u_Supported_scalers_are);
    __pyx_t_4 += 25;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u_Supported_scalers_are);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 2, __pyx_kp_u_Supported_scalers_are);
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(4158,0,<span class='error_goto'>__PYX_ERR(0, 4158, __pyx_L1_error)</span>)
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyUnicode_Join</span>(__pyx_t_1, 5, __pyx_t_4, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4158, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_ValueError, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4158, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_1, 0, 0, 0);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='error_goto'>__PYX_ERR(0, 4158, __pyx_L1_error)</span>
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4159</span>:                          f" are: {', '.join(scaler_classes.keys())}.")</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(4159,0,<span class='error_goto'>__PYX_ERR(0, 4159, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyDict_Keys</span>(__pyx_v_scaler_classes);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4159, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    __pyx_t_6 = <span class='py_c_api'>PyUnicode_Join</span>(__pyx_kp_u__95, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4159, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_6) &gt; __pyx_t_5) ? <span class='pyx_c_api'>__Pyx_PyUnicode_MAX_CHAR_VALUE</span>(__pyx_t_6) : __pyx_t_5;
    __pyx_t_4 += <span class='pyx_c_api'>__Pyx_PyUnicode_GET_LENGTH</span>(__pyx_t_6);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_6);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 3, __pyx_t_6);
    __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_u__3);
    __pyx_t_4 += 1;
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_u__3);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 4, __pyx_kp_u__3);
</pre><pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4160</span>:     kwargs= get_valid_kwargs(scaler_class, **kwargs)</pre>
<pre class='cython code score-28 '>  <span class='trace'>__Pyx_TraceLine</span>(4160,0,<span class='error_goto'>__PYX_ERR(0, 4160, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_get_valid_kwargs);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4160, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4160, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_scaler_class);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_scaler_class);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_v_scaler_class)) <span class='error_goto'>__PYX_ERR(0, 4160, __pyx_L1_error)</span>;
  if (likely(<span class='py_c_api'>PyDict_CheckExact</span>(__pyx_v_kwargs))) {
    __pyx_t_2 = <span class='py_c_api'>PyDict_Copy</span>(__pyx_v_kwargs);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4160, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  } else {
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>((PyObject*)&amp;PyDict_Type, __pyx_v_kwargs);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4160, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  }
  __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_6, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 4160, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_kwargs, __pyx_t_7);
  __pyx_t_7 = 0;
</pre><pre class="cython line score-21" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4161</span>:     return scaler_class(**kwargs)</pre>
<pre class='cython code score-21 '>  <span class='trace'>__Pyx_TraceLine</span>(4161,0,<span class='error_goto'>__PYX_ERR(0, 4161, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  if (unlikely(__pyx_v_kwargs == Py_None)) {
    <span class='py_c_api'>PyErr_SetString</span>(PyExc_TypeError, "argument after ** must be a mapping, not NoneType");
    <span class='error_goto'>__PYX_ERR(0, 4161, __pyx_L1_error)</span>
  }
  if (likely(<span class='py_c_api'>PyDict_CheckExact</span>(__pyx_v_kwargs))) {
    __pyx_t_7 = <span class='py_c_api'>PyDict_Copy</span>(__pyx_v_kwargs);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 4161, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  } else {
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>((PyObject*)&amp;PyDict_Type, __pyx_v_kwargs);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 4161, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  }
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_v_scaler_class, __pyx_empty_tuple, __pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4161, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4162</span>: </pre>
<pre class="cython line score-85" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4163</span>: def _scale_numeric_features(X, scaler, num_features):</pre>
<pre class='cython code score-85 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_103_scale_numeric_features(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_102_scale_numeric_features, "\n    Scales numerical features of the DataFrame X using the provided scaler.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_103_scale_numeric_features = {"_scale_numeric_features", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_103_scale_numeric_features, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_102_scale_numeric_features};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_103_scale_numeric_features(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_X = 0;
  PyObject *__pyx_v_scaler = 0;
  PyObject *__pyx_v_num_features = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_scale_numeric_features (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_X,&amp;__pyx_n_s_scaler,&amp;__pyx_n_s_num_features,0};
  PyObject* values[3] = {0,0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_X)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4163, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_scaler)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4163, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_scale_numeric_features", 1, 3, 3, 1); <span class='error_goto'>__PYX_ERR(0, 4163, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (likely((values[2] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_num_features)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[2]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4163, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_scale_numeric_features", 1, 3, 3, 2); <span class='error_goto'>__PYX_ERR(0, 4163, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_scale_numeric_features") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 4163, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 3)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
      values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
    }
    __pyx_v_X = values[0];
    __pyx_v_scaler = values[1];
    __pyx_v_num_features = values[2];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_scale_numeric_features", 1, 3, 3, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 4163, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._scale_numeric_features", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_102_scale_numeric_features(__pyx_self, __pyx_v_X, __pyx_v_scaler, __pyx_v_num_features);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_102_scale_numeric_features(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_X, PyObject *__pyx_v_scaler, PyObject *__pyx_v_num_features) {
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__124)
  <span class='trace'>__Pyx_TraceCall</span>("_scale_numeric_features", __pyx_f[0], 4163, 0, <span class='error_goto'>__PYX_ERR(0, 4163, __pyx_L1_error)</span>);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._scale_numeric_features", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__198 = <span class='py_c_api'>PyTuple_Pack</span>(3, __pyx_n_s_X, __pyx_n_s_scaler, __pyx_n_s_num_features);<span class='error_goto'> if (unlikely(!__pyx_tuple__198)) __PYX_ERR(0, 4163, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__198);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__198);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(4163,0,<span class='error_goto'>__PYX_ERR(0, 4163, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_103_scale_numeric_features, 0, __pyx_n_s_scale_numeric_features, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__124));<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4163, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_scale_numeric_features, __pyx_t_6) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4163, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_codeobj__124 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(3, 0, 0, 3, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__198, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_scale_numeric_features, 4163, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__124)) __PYX_ERR(0, 4163, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">4164</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">4165</span>:     Scales numerical features of the DataFrame X using the provided scaler.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4166</span>:     """</pre>
<pre class="cython line score-20" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4167</span>:     return scaler.fit_transform(X[num_features])</pre>
<pre class='cython code score-20 '>  <span class='trace'>__Pyx_TraceLine</span>(4167,0,<span class='error_goto'>__PYX_ERR(0, 4167, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_scaler, __pyx_n_s_fit_transform);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4167, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_X, __pyx_v_num_features);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4167, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_4 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_2))) {
    __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_2);
    if (likely(__pyx_t_4)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_2, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_4, __pyx_t_3};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_2, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4167, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4168</span>: </pre>
<pre class="cython line score-90" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4169</span>: def _concat_scaled_numeric_with_categorical(X_scaled_numeric, X, cat_features):</pre>
<pre class='cython code score-90 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_105_concat_scaled_numeric_with_categorical(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_104_concat_scaled_numeric_with_categorical, "\n    Concatenates scaled numerical features with original categorical features.\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_105_concat_scaled_numeric_with_categorical = {"_concat_scaled_numeric_with_categorical", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_105_concat_scaled_numeric_with_categorical, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_104_concat_scaled_numeric_with_categorical};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_105_concat_scaled_numeric_with_categorical(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_X_scaled_numeric = 0;
  PyObject *__pyx_v_X = 0;
  PyObject *__pyx_v_cat_features = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("_concat_scaled_numeric_with_categorical (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_X_scaled_numeric,&amp;__pyx_n_s_X,&amp;__pyx_n_s_cat_features,0};
  PyObject* values[3] = {0,0,0};
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_X_scaled_numeric)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4169, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (likely((values[1] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_X)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[1]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4169, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_concat_scaled_numeric_with_categorical", 1, 3, 3, 1); <span class='error_goto'>__PYX_ERR(0, 4169, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (likely((values[2] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_cat_features)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[2]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4169, __pyx_L3_error)</span>
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_concat_scaled_numeric_with_categorical", 1, 3, 3, 2); <span class='error_goto'>__PYX_ERR(0, 4169, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "_concat_scaled_numeric_with_categorical") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 4169, __pyx_L3_error)</span>
      }
    } else if (unlikely(__pyx_nargs != 3)) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
      values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
      values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
    }
    __pyx_v_X_scaled_numeric = values[0];
    __pyx_v_X = values[1];
    __pyx_v_cat_features = values[2];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("_concat_scaled_numeric_with_categorical", 1, 3, 3, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 4169, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._concat_scaled_numeric_with_categorical", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_104_concat_scaled_numeric_with_categorical(__pyx_self, __pyx_v_X_scaled_numeric, __pyx_v_X, __pyx_v_cat_features);
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;

  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_104_concat_scaled_numeric_with_categorical(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_X_scaled_numeric, PyObject *__pyx_v_X, PyObject *__pyx_v_cat_features) {
  PyObject *__pyx_v_X_scaled = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__125)
  <span class='trace'>__Pyx_TraceCall</span>("_concat_scaled_numeric_with_categorical", __pyx_f[0], 4169, 0, <span class='error_goto'>__PYX_ERR(0, 4169, __pyx_L1_error)</span>);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils._concat_scaled_numeric_with_categorical", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_X_scaled);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  __pyx_tuple__199 = <span class='py_c_api'>PyTuple_Pack</span>(4, __pyx_n_s_X_scaled_numeric, __pyx_n_s_X, __pyx_n_s_cat_features, __pyx_n_s_X_scaled);<span class='error_goto'> if (unlikely(!__pyx_tuple__199)) __PYX_ERR(0, 4169, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__199);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__199);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(4169,0,<span class='error_goto'>__PYX_ERR(0, 4169, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_105_concat_scaled_numeric_with_categorical, 0, __pyx_n_s_concat_scaled_numeric_with_cate, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__125));<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4169, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_concat_scaled_numeric_with_cate, __pyx_t_6) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4169, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_codeobj__125 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(3, 0, 0, 4, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__199, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_concat_scaled_numeric_with_cate, 4169, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__125)) __PYX_ERR(0, 4169, __pyx_L1_error)</span>
</pre><pre class="cython line score-0">&#xA0;<span class="">4170</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">4171</span>:     Concatenates scaled numerical features with original categorical features.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4172</span>:     """</pre>
<pre class="cython line score-54" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4173</span>:     X_scaled = pd.concat([pd.DataFrame(X_scaled_numeric, index=X.index,</pre>
<pre class='cython code score-54 '>  <span class='trace'>__Pyx_TraceLine</span>(4173,0,<span class='error_goto'>__PYX_ERR(0, 4173, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4173, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_concat);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4173, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_pd);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4173, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_DataFrame);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4173, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4173, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X_scaled_numeric);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X_scaled_numeric);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_X_scaled_numeric)) <span class='error_goto'>__PYX_ERR(0, 4173, __pyx_L1_error)</span>;
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4173, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_index);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4173, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_index, __pyx_t_5) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4173, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(4173,0,<span class='error_goto'>__PYX_ERR(0, 4173, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_1, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4173, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(4173,0,<span class='error_goto'>__PYX_ERR(0, 4173, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4173, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_6);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_t_6)) <span class='error_goto'>__PYX_ERR(0, 4173, __pyx_L1_error)</span>;
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_1, 1, __pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 4173, __pyx_L1_error)</span>;
  __pyx_t_6 = 0;
  __pyx_t_4 = 0;
  __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4173, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_1);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4173, __pyx_L1_error)</span>;
  __pyx_t_1 = 0;
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(4173,0,<span class='error_goto'>__PYX_ERR(0, 4173, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_4, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4173, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_X_scaled = __pyx_t_6;
  __pyx_t_6 = 0;
</pre><pre class="cython line score-34" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4174</span>:                         columns=X.select_dtypes(['number']).columns),</pre>
<pre class='cython code score-34 '>  <span class='trace'>__Pyx_TraceLine</span>(4174,0,<span class='error_goto'>__PYX_ERR(0, 4174, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_select_dtypes);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4174, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  __pyx_t_7 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 4174, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_number);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_u_number);
  if (<span class='pyx_c_api'>__Pyx_PyList_SET_ITEM</span>(__pyx_t_7, 0, __pyx_n_u_number)) <span class='error_goto'>__PYX_ERR(0, 4174, __pyx_L1_error)</span>;
  __pyx_t_8 = NULL;
  __pyx_t_9 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
    __pyx_t_8 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
    if (likely(__pyx_t_8)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
      __pyx_t_9 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_8, __pyx_t_7};
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_9, 1+__pyx_t_9);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_8); __pyx_t_8 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
    if (unlikely(!__pyx_t_5)) <span class='error_goto'>__PYX_ERR(0, 4174, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  }
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4174, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_columns, __pyx_t_6) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4173, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
</pre><pre class="cython line score-9" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4175</span>:                           X[cat_features]], axis=1)</pre>
<pre class='cython code score-9 '>  <span class='trace'>__Pyx_TraceLine</span>(4175,0,<span class='error_goto'>__PYX_ERR(0, 4175, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_X, __pyx_v_cat_features);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4175, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(4175,0,<span class='error_goto'>__PYX_ERR(0, 4175, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4175, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_axis, __pyx_int_1) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4175, __pyx_L1_error)</span>
</pre><pre class="cython line score-6" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4176</span>:     return X_scaled[X.columns]  # Maintain original column order</pre>
<pre class='cython code score-6 '>  <span class='trace'>__Pyx_TraceLine</span>(4176,0,<span class='error_goto'>__PYX_ERR(0, 4176, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_columns);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4176, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetItem</span>(__pyx_v_X_scaled, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4176, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4177</span>: </pre>
<pre class="cython line score-69" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4178</span>: @ensure_pkg(</pre>
<pre class='cython code score-69 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_107display_feature_contributions(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_106display_feature_contributions, "\n    Trains a RandomForest model to determine the importance of features in\n    the dataset and optionally displaysthese importances visually using SHAP.\n\n    Parameters\n    ----------\n    X : ndarray or DataFrame\n        The feature matrix from which to determine feature importances. This \n        should not include the target variable.\n    y : ndarray, optional\n        The target variable array. If provided, it will be used for supervised \n        learning. If None, an unsupervised approach will be used \n        (feature importances based on feature permutation).\n    view : bool, optional\n        If True, display feature importances using SHAP's summary plot.\n        Defaults to False.\n\n    Returns\n    -------\n    dict\n        A dictionary where keys are feature names and values are their \n        corresponding importances as determined by the RandomForest model.\n\n    Examples\n    --------\n    &gt;&gt;&gt; from sklearn.datasets import load_iris \n    &gt;&gt;&gt; from gofast.tools.mlutils import display_feature_contributions\n    &gt;&gt;&gt; data = load_iris()\n    &gt;&gt;&gt; X = data['data']\n    &gt;&gt;&gt; feature_names = data['feature_names']\n    &gt;&gt;&gt; display_feature_contributions(X, view=True)\n    {'sepal length (cm)': 0.112, 'sepal width (cm)': 0.032, \n     'petal length (cm)': 0.423, 'petal width (cm)': 0.433}\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_107display_feature_contributions = {"display_feature_contributions", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_107display_feature_contributions, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_106display_feature_contributions};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_107display_feature_contributions(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_X = 0;
  PyObject *__pyx_v_y = 0;
  PyObject *__pyx_v_view = 0;
  PyObject *__pyx_v_pkg = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("display_feature_contributions (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_X,&amp;__pyx_n_s_y,&amp;__pyx_n_s_view,&amp;__pyx_n_s_pkg,0};
  PyObject* values[4] = {0,0,0,0};
/*  */
  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_106display_feature_contributions(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_X, PyObject *__pyx_v_y, PyObject *__pyx_v_view, PyObject *__pyx_v_pkg) {
  PyObject *__pyx_v_model = NULL;
  PyObject *__pyx_v_importances = NULL;
  PyObject *__pyx_v_feature_names = NULL;
  PyObject *__pyx_v_shap = NULL;
  PyObject *__pyx_v_explainer = NULL;
  PyObject *__pyx_v_shap_values = NULL;
  PyObject *__pyx_v_plt = NULL;
  PyObject *__pyx_v_indices = NULL;
  PyObject *__pyx_v_feature_importance_dict = NULL;
  PyObject *__pyx_v_summary = NULL;
  PyObject *__pyx_9genexpr18__pyx_v_i = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__126)
  <span class='trace'>__Pyx_TraceCall</span>("display_feature_contributions", __pyx_f[0], 4178, 0, <span class='error_goto'>__PYX_ERR(0, 4178, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_pkg);
/*  */
  /* function exit code */
  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.display_feature_contributions", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_model);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_importances);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_feature_names);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_shap);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_explainer);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_shap_values);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_plt);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_indices);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_feature_importance_dict);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_summary);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr18__pyx_v_i);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_pkg);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(4178,0,<span class='error_goto'>__PYX_ERR(0, 4178, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_ensure_pkg);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4178, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(4178,0,<span class='error_goto'>__PYX_ERR(0, 4178, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_6, __pyx_tuple__200, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4178, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
/*  */
  __pyx_tuple__200 = <span class='py_c_api'>PyTuple_Pack</span>(1, __pyx_n_u_shap);<span class='error_goto'> if (unlikely(!__pyx_tuple__200)) __PYX_ERR(0, 4178, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__200);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__200);
  __pyx_tuple__201 = <span class='py_c_api'>PyTuple_Pack</span>(15, __pyx_n_s_X, __pyx_n_s_y, __pyx_n_s_view, __pyx_n_s_pkg, __pyx_n_s_model, __pyx_n_s_importances, __pyx_n_s_feature_names, __pyx_n_s_shap, __pyx_n_s_explainer, __pyx_n_s_shap_values, __pyx_n_s_plt, __pyx_n_s_indices, __pyx_n_s_feature_importance_dict, __pyx_n_s_summary, __pyx_n_s_i);<span class='error_goto'> if (unlikely(!__pyx_tuple__201)) __PYX_ERR(0, 4178, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__201);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__201);
  __pyx_codeobj__126 = (PyObject*)<span class='pyx_c_api'>__Pyx_PyCode_New</span>(4, 0, 0, 15, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__201, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_gofast_tools_mlutils_pyx, __pyx_n_s_display_feature_contributions, 4178, __pyx_empty_bytes);<span class='error_goto'> if (unlikely(!__pyx_codeobj__126)) __PYX_ERR(0, 4178, __pyx_L1_error)</span>
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(4184,0,<span class='error_goto'>__PYX_ERR(0, 4184, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_107display_feature_contributions, 0, __pyx_n_s_display_feature_contributions, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__126));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4178, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_4, __pyx_tuple__202);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(4178,0,<span class='error_goto'>__PYX_ERR(0, 4178, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_t_2, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4178, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_display_feature_contributions, __pyx_t_6) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4178, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_tuple__202 = <span class='py_c_api'>PyTuple_Pack</span>(3, Py_None, ((PyObject *)Py_False), Py_None);<span class='error_goto'> if (unlikely(!__pyx_tuple__202)) __PYX_ERR(0, 4178, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__202);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__202);
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4179</span>:     "shap", extra="SHapley Additive exPlanations (SHAP) is needed.",</pre>
<pre class='cython code score-7 '>  <span class='trace'>__Pyx_TraceLine</span>(4179,0,<span class='error_goto'>__PYX_ERR(0, 4179, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4179, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_extra, __pyx_kp_u_SHapley_Additive_exPlanations_SH) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4179, __pyx_L1_error)</span>
</pre><pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4180</span>:     partial_check= True,</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(4180,0,<span class='error_goto'>__PYX_ERR(0, 4180, __pyx_L1_error)</span>)
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_partial_check, Py_True) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4179, __pyx_L1_error)</span>
</pre><pre class="cython line score-41" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4181</span>:     condition= lambda *args, **kwargs: kwargs.get("pkg")=="shap"</pre>
<pre class='cython code score-41 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_110lambda8(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_110lambda8 = {"lambda8", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_110lambda8, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_110lambda8(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  CYTHON_UNUSED PyObject *__pyx_v_args = 0;
  PyObject *__pyx_v_kwargs = 0;
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("lambda8 (wrapper)", 0);
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_VARARGS</span>(__pyx_args, __pyx_nargs);
  if (unlikely(__pyx_kwds) &amp;&amp; unlikely(!<span class='pyx_c_api'>__Pyx_CheckKeywordStrings</span>(__pyx_kwds, "lambda8", 1))) return NULL;
  if (unlikely(__pyx_kwds)) {
    __pyx_v_kwargs = <span class='pyx_c_api'>__Pyx_KwargsAsDict_VARARGS</span>(__pyx_kwds, __pyx_kwvalues);
    if (unlikely(!__pyx_v_kwargs)) return NULL;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_v_kwargs);
  } else {
    __pyx_v_kwargs = <span class='py_c_api'>PyDict_New</span>();
    if (unlikely(!__pyx_v_kwargs)) return NULL;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_v_kwargs);
  }
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_args);
  __pyx_v_args = __pyx_args;
  __pyx_r = __pyx_lambda_funcdef_6gofast_5tools_7mlutils_lambda8(__pyx_self, __pyx_v_args, __pyx_v_kwargs);

  /* function exit code */
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_args);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_v_kwargs);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_lambda_funcdef_6gofast_5tools_7mlutils_lambda8(CYTHON_UNUSED PyObject *__pyx_self, CYTHON_UNUSED PyObject *__pyx_v_args, PyObject *__pyx_v_kwargs) {
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceCall</span>("lambda8", __pyx_f[0], 4181, 0, <span class='error_goto'>__PYX_ERR(0, 4181, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_GetItemDefault</span>(__pyx_v_kwargs, __pyx_n_u_pkg, Py_None);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4181, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='py_c_api'>PyObject_RichCompare</span>(__pyx_t_1, __pyx_n_u_shap, Py_EQ); <span class='refnanny'>__Pyx_XGOTREF</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4181, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.lambda8", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(4181,0,<span class='error_goto'>__PYX_ERR(0, 4181, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_110lambda8, 0, __pyx_n_s_lambda, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4181, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_condition, __pyx_t_2) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4179, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4182</span>:     )</pre>
<pre class="cython line score-0">&#xA0;<span class="">4183</span>: def display_feature_contributions(</pre>
<pre class="cython line score-68" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4184</span>:         X, y=None, view=False, pkg=None):</pre>
<pre class='cython code score-68 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_X)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4178, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_y);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4178, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_view);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4178, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  3:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_pkg);
          if (value) { values[3] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4178, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "display_feature_contributions") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 4178, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  4: values[3] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 3);
        CYTHON_FALLTHROUGH;
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_X = values[0];
    __pyx_v_y = values[1];
    __pyx_v_view = values[2];
    __pyx_v_pkg = values[3];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("display_feature_contributions", 0, 1, 4, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 4178, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.display_feature_contributions", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_106display_feature_contributions(__pyx_self, __pyx_v_X, __pyx_v_y, __pyx_v_view, __pyx_v_pkg);
</pre><pre class="cython line score-0">&#xA0;<span class="">4185</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">4186</span>:     Trains a RandomForest model to determine the importance of features in</pre>
<pre class="cython line score-0">&#xA0;<span class="">4187</span>:     the dataset and optionally displaysthese importances visually using SHAP.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4188</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4189</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">4190</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">4191</span>:     X : ndarray or DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">4192</span>:         The feature matrix from which to determine feature importances. This</pre>
<pre class="cython line score-0">&#xA0;<span class="">4193</span>:         should not include the target variable.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4194</span>:     y : ndarray, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">4195</span>:         The target variable array. If provided, it will be used for supervised</pre>
<pre class="cython line score-0">&#xA0;<span class="">4196</span>:         learning. If None, an unsupervised approach will be used</pre>
<pre class="cython line score-0">&#xA0;<span class="">4197</span>:         (feature importances based on feature permutation).</pre>
<pre class="cython line score-0">&#xA0;<span class="">4198</span>:     view : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">4199</span>:         If True, display feature importances using SHAP's summary plot.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4200</span>:         Defaults to False.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4201</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4202</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">4203</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">4204</span>:     dict</pre>
<pre class="cython line score-0">&#xA0;<span class="">4205</span>:         A dictionary where keys are feature names and values are their</pre>
<pre class="cython line score-0">&#xA0;<span class="">4206</span>:         corresponding importances as determined by the RandomForest model.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4207</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4208</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">4209</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">4210</span>:     &gt;&gt;&gt; from sklearn.datasets import load_iris</pre>
<pre class="cython line score-0">&#xA0;<span class="">4211</span>:     &gt;&gt;&gt; from gofast.tools.mlutils import display_feature_contributions</pre>
<pre class="cython line score-0">&#xA0;<span class="">4212</span>:     &gt;&gt;&gt; data = load_iris()</pre>
<pre class="cython line score-0">&#xA0;<span class="">4213</span>:     &gt;&gt;&gt; X = data['data']</pre>
<pre class="cython line score-0">&#xA0;<span class="">4214</span>:     &gt;&gt;&gt; feature_names = data['feature_names']</pre>
<pre class="cython line score-0">&#xA0;<span class="">4215</span>:     &gt;&gt;&gt; display_feature_contributions(X, view=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">4216</span>:     {'sepal length (cm)': 0.112, 'sepal width (cm)': 0.032,</pre>
<pre class="cython line score-0">&#xA0;<span class="">4217</span>:      'petal length (cm)': 0.423, 'petal width (cm)': 0.433}</pre>
<pre class="cython line score-0">&#xA0;<span class="">4218</span>:     """</pre>
<pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4219</span>:     pkg ='shap' if str(pkg).lower() =='shap' else 'matplotlib'</pre>
<pre class='cython code score-25 '>  <span class='trace'>__Pyx_TraceLine</span>(4219,0,<span class='error_goto'>__PYX_ERR(0, 4219, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Str</span>(__pyx_v_pkg);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4219, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_3, __pyx_n_s_lower);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4219, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
    __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
    if (likely(__pyx_t_3)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_3, NULL};
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_5, 0+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 4219, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  }
  __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_2, __pyx_n_u_shap, Py_EQ)); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4219, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_6) {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_shap);
    __pyx_t_1 = __pyx_n_u_shap;
  } else {
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_u_matplotlib);
    __pyx_t_1 = __pyx_n_u_matplotlib;
  }
  <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_pkg, __pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4220</span>: </pre>
<pre class="cython line score-28" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4221</span>:     validate_data_types(X, nan_policy="raise", error ="raise")</pre>
<pre class='cython code score-28 '>  <span class='trace'>__Pyx_TraceLine</span>(4221,0,<span class='error_goto'>__PYX_ERR(0, 4221, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_validate_data_types);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4221, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4221, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_X)) <span class='error_goto'>__PYX_ERR(0, 4221, __pyx_L1_error)</span>;
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4221, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_nan_policy, __pyx_n_u_raise) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4221, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_error, __pyx_n_u_raise) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4221, __pyx_L1_error)</span>
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_2, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4221, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4222</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4223</span>:     # Initialize the RandomForest model</pre>
<pre class="cython line score-18" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4224</span>:     model = RandomForestClassifier(n_estimators=100, random_state=42)</pre>
<pre class='cython code score-18 '>  <span class='trace'>__Pyx_TraceLine</span>(4224,0,<span class='error_goto'>__PYX_ERR(0, 4224, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_3, __pyx_n_s_RandomForestClassifier);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4224, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4224, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_n_estimators, __pyx_int_100) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4224, __pyx_L1_error)</span>
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_random_state, __pyx_int_42) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4224, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_empty_tuple, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4224, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_v_model = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4225</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4226</span>:     # Fit the model on the provided features, with or without a target variable</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4227</span>:     if y is not None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(4227,0,<span class='error_goto'>__PYX_ERR(0, 4227, __pyx_L1_error)</span>)
  __pyx_t_6 = (__pyx_v_y != Py_None);
  if (__pyx_t_6) {
/*  */
    goto __pyx_L3;
  }
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4228</span>:         model.fit(X, y)</pre>
<pre class='cython code score-17 '>    <span class='trace'>__Pyx_TraceLine</span>(4228,0,<span class='error_goto'>__PYX_ERR(0, 4228, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_model, __pyx_n_s_fit);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4228, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_3 = NULL;
    __pyx_t_5 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
      __pyx_t_3 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
      if (likely(__pyx_t_3)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
        __pyx_t_5 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_3, __pyx_v_X, __pyx_v_y};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_5, 2+__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 4228, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4229</span>:     else:</pre>
<pre class="cython line score-0">&#xA0;<span class="">4230</span>:         # Fit a dummy target if y is None, assuming unsupervised setup</pre>
<pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4231</span>:         model.fit(X, range(X.shape[0]))</pre>
<pre class='cython code score-26 '>  <span class='trace'>__Pyx_TraceLine</span>(4231,0,<span class='error_goto'>__PYX_ERR(0, 4231, __pyx_L1_error)</span>)
  /*else*/ {
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_model, __pyx_n_s_fit);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4231, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4231, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_3, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4231, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_range, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4231, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = NULL;
    __pyx_t_5 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
        __pyx_t_5 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_1, __pyx_v_X, __pyx_t_3};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_5, 2+__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 4231, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_L3:;
</pre><pre class="cython line score-0">&#xA0;<span class="">4232</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4233</span>:     # Extract feature importances</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4234</span>:     importances = model.feature_importances_</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(4234,0,<span class='error_goto'>__PYX_ERR(0, 4234, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_model, __pyx_n_s_feature_importances);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4234, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  __pyx_v_importances = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4235</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4236</span>:     # Optionally, display the feature importances using the chosen visualization package</pre>
<pre class="cython line score-4" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4237</span>:     feature_names = model.feature_names_in_ if hasattr(</pre>
<pre class='cython code score-4 '>  <span class='trace'>__Pyx_TraceLine</span>(4237,0,<span class='error_goto'>__PYX_ERR(0, 4237, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_HasAttr</span>(__pyx_v_model, __pyx_n_u_feature_names_in);<span class='error_goto'> if (unlikely(__pyx_t_6 == ((int)-1))) __PYX_ERR(0, 4237, __pyx_L1_error)</span>
  if (__pyx_t_6) {
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_model, __pyx_n_s_feature_names_in);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4237, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_2 = __pyx_t_4;
    __pyx_t_4 = 0;
  } else {
    { /* enter inner scope */
</pre><pre class="cython line score-73" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4238</span>:             model, 'feature_names_in_') else [f'feature_{i}' for i in range(X.shape[1])]</pre>
<pre class='cython code score-73 '>      <span class='trace'>__Pyx_TraceLine</span>(4238,0,<span class='error_goto'>__PYX_ERR(0, 4238, __pyx_L6_error)</span>)
      __pyx_t_4 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4238, __pyx_L6_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4238, __pyx_L6_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_3, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4238, __pyx_L6_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_range, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4238, __pyx_L6_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_3)) || <span class='py_c_api'>PyTuple_CheckExact</span>(__pyx_t_3)) {
        __pyx_t_1 = __pyx_t_3; <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        __pyx_t_7 = 0;
        __pyx_t_8 = NULL;
      } else {
        __pyx_t_7 = -1; __pyx_t_1 = <span class='py_c_api'>PyObject_GetIter</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4238, __pyx_L6_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        __pyx_t_8 = <span class='pyx_c_api'>__Pyx_PyObject_GetIterNextFunc</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 4238, __pyx_L6_error)</span>
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      for (;;) {
        if (likely(!__pyx_t_8)) {
          if (likely(<span class='py_c_api'>PyList_CheckExact</span>(__pyx_t_1))) {
            {
              Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyList_GET_SIZE</span>(__pyx_t_1);
              #if !CYTHON_ASSUME_SAFE_MACROS
              if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4238, __pyx_L6_error)</span>
              #endif
              if (__pyx_t_7 &gt;= __pyx_temp) break;
            }
            #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
            __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_7); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3); __pyx_t_7++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4238, __pyx_L6_error)</span>
            #else
            __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_7); __pyx_t_7++;<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4238, __pyx_L6_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
            #endif
          } else {
            {
              Py_ssize_t __pyx_temp = <span class='pyx_c_api'>__Pyx_PyTuple_GET_SIZE</span>(__pyx_t_1);
              #if !CYTHON_ASSUME_SAFE_MACROS
              if (unlikely((__pyx_temp &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4238, __pyx_L6_error)</span>
              #endif
              if (__pyx_t_7 &gt;= __pyx_temp) break;
            }
            #if CYTHON_ASSUME_SAFE_MACROS &amp;&amp; !CYTHON_AVOID_BORROWED_REFS
            __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_7); <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_3); __pyx_t_7++; if (unlikely((0 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4238, __pyx_L6_error)</span>
            #else
            __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PySequence_ITEM</span>(__pyx_t_1, __pyx_t_7); __pyx_t_7++;<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4238, __pyx_L6_error)</span>
            <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
            #endif
          }
        } else {
          __pyx_t_3 = __pyx_t_8(__pyx_t_1);
          if (unlikely(!__pyx_t_3)) {
            PyObject* exc_type = <span class='py_c_api'>PyErr_Occurred</span>();
            if (exc_type) {
              if (likely(<span class='pyx_c_api'>__Pyx_PyErr_GivenExceptionMatches</span>(exc_type, PyExc_StopIteration))) <span class='py_c_api'>PyErr_Clear</span>();
              else <span class='error_goto'>__PYX_ERR(0, 4238, __pyx_L6_error)</span>
            }
            break;
          }
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        }
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_9genexpr18__pyx_v_i, __pyx_t_3);
        __pyx_t_3 = 0;
        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_FormatSimple</span>(__pyx_9genexpr18__pyx_v_i, __pyx_empty_unicode);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4238, __pyx_L6_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyUnicode_Concat</span>(__pyx_n_u_feature, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4238, __pyx_L6_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ListComp_Append</span>(__pyx_t_4, (PyObject*)__pyx_t_9))) <span class='error_goto'>__PYX_ERR(0, 4238, __pyx_L6_error)</span>
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr18__pyx_v_i); __pyx_9genexpr18__pyx_v_i = 0;
      goto __pyx_L10_exit_scope;
      __pyx_L6_error:;
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_9genexpr18__pyx_v_i); __pyx_9genexpr18__pyx_v_i = 0;
      goto __pyx_L1_error;
      __pyx_L10_exit_scope:;
    } /* exit inner scope */
    __pyx_t_2 = __pyx_t_4;
    __pyx_t_4 = 0;
  }
  __pyx_v_feature_names = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4239</span>:     if view:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(4239,0,<span class='error_goto'>__PYX_ERR(0, 4239, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_view); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4239, __pyx_L1_error)</span>
  if (__pyx_t_6) {
/*  */
  }
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4240</span>:         if pkg.lower() == "shap":</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(4240,0,<span class='error_goto'>__PYX_ERR(0, 4240, __pyx_L1_error)</span>)
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_pkg, __pyx_n_s_lower);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4240, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_1 = NULL;
    __pyx_t_5 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
        __pyx_t_5 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, NULL};
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_5, 0+__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 4240, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    }
    __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_2, __pyx_n_u_shap, Py_EQ)); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4240, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (__pyx_t_6) {
/*  */
      goto __pyx_L12;
    }
</pre><pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4241</span>:             import shap</pre>
<pre class='cython code score-2 '>      <span class='trace'>__Pyx_TraceLine</span>(4241,0,<span class='error_goto'>__PYX_ERR(0, 4241, __pyx_L1_error)</span>)
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_shap, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4241, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_v_shap = __pyx_t_2;
      __pyx_t_2 = 0;
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4242</span>:             explainer = shap.TreeExplainer(model)</pre>
<pre class='cython code score-16 '>      <span class='trace'>__Pyx_TraceLine</span>(4242,0,<span class='error_goto'>__PYX_ERR(0, 4242, __pyx_L1_error)</span>)
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_shap, __pyx_n_s_TreeExplainer);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4242, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_1 = NULL;
      __pyx_t_5 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
        __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
        if (likely(__pyx_t_1)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
          __pyx_t_5 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_v_model};
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 4242, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      }
      __pyx_v_explainer = __pyx_t_2;
      __pyx_t_2 = 0;
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4243</span>:             shap_values = explainer.shap_values(X)</pre>
<pre class='cython code score-16 '>      <span class='trace'>__Pyx_TraceLine</span>(4243,0,<span class='error_goto'>__PYX_ERR(0, 4243, __pyx_L1_error)</span>)
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_explainer, __pyx_n_s_shap_values);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4243, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_1 = NULL;
      __pyx_t_5 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
        __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
        if (likely(__pyx_t_1)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
          __pyx_t_5 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_v_X};
        __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
        if (unlikely(!__pyx_t_2)) <span class='error_goto'>__PYX_ERR(0, 4243, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      }
      __pyx_v_shap_values = __pyx_t_2;
      __pyx_t_2 = 0;
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4244</span>:             shap.summary_plot(shap_values, X, feature_names=feature_names)</pre>
<pre class='cython code score-26 '>      <span class='trace'>__Pyx_TraceLine</span>(4244,0,<span class='error_goto'>__PYX_ERR(0, 4244, __pyx_L1_error)</span>)
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_shap, __pyx_n_s_summary_plot);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4244, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4244, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_shap_values);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_shap_values);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_v_shap_values)) <span class='error_goto'>__PYX_ERR(0, 4244, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_v_X)) <span class='error_goto'>__PYX_ERR(0, 4244, __pyx_L1_error)</span>;
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4244, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_feature_names, __pyx_v_feature_names) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4244, __pyx_L1_error)</span>
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_4, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4244, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4245</span>: </pre>
<pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4246</span>:         elif pkg.lower() == "matplotlib":</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(4246,0,<span class='error_goto'>__PYX_ERR(0, 4246, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_pkg, __pyx_n_s_lower);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4246, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_4 = NULL;
    __pyx_t_5 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_1))) {
      __pyx_t_4 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_1);
      if (likely(__pyx_t_4)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_4);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_1, function);
        __pyx_t_5 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_4, NULL};
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_1, __pyx_callargs+1-__pyx_t_5, 0+__pyx_t_5);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      if (unlikely(!__pyx_t_9)) <span class='error_goto'>__PYX_ERR(0, 4246, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PyUnicode_Equals</span>(__pyx_t_9, __pyx_n_u_matplotlib, Py_EQ)); if (unlikely((__pyx_t_6 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4246, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
    if (__pyx_t_6) {
/*  */
    }
    __pyx_L12:;
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4247</span>:             import matplotlib.pyplot as plt</pre>
<pre class='cython code score-7 '>      <span class='trace'>__Pyx_TraceLine</span>(4247,0,<span class='error_goto'>__PYX_ERR(0, 4247, __pyx_L1_error)</span>)
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_matplotlib_pyplot, __pyx_tuple__127);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4247, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_v_plt = __pyx_t_9;
      __pyx_t_9 = 0;
/*  */
  __pyx_tuple__127 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_n_s_matplotlib, __pyx_n_s_pyplot);<span class='error_goto'> if (unlikely(!__pyx_tuple__127)) __PYX_ERR(0, 4247, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__127);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__127);
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4248</span>:             plt.figure(figsize=(10, 5))</pre>
<pre class='cython code score-19 '>      <span class='trace'>__Pyx_TraceLine</span>(4248,0,<span class='error_goto'>__PYX_ERR(0, 4248, __pyx_L1_error)</span>)
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_plt, __pyx_n_s_figure);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4248, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4248, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_1, __pyx_n_s_figsize, __pyx_tuple__128) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4248, __pyx_L1_error)</span>
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_9, __pyx_empty_tuple, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4248, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
/*  */
  __pyx_tuple__128 = <span class='py_c_api'>PyTuple_Pack</span>(2, __pyx_int_10, __pyx_int_5);<span class='error_goto'> if (unlikely(!__pyx_tuple__128)) __PYX_ERR(0, 4248, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__128);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__128);
</pre><pre class="cython line score-13" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4249</span>:             indices = range(len(importances))</pre>
<pre class='cython code score-13 '>      <span class='trace'>__Pyx_TraceLine</span>(4249,0,<span class='error_goto'>__PYX_ERR(0, 4249, __pyx_L1_error)</span>)
      __pyx_t_7 = <span class='py_c_api'>PyObject_Length</span>(__pyx_v_importances);<span class='error_goto'> if (unlikely(__pyx_t_7 == ((Py_ssize_t)-1))) __PYX_ERR(0, 4249, __pyx_L1_error)</span>
      __pyx_t_4 = <span class='py_c_api'>PyInt_FromSsize_t</span>(__pyx_t_7);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4249, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_range, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4249, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_v_indices = __pyx_t_1;
      __pyx_t_1 = 0;
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4250</span>:             plt.title('Feature Importances')</pre>
<pre class='cython code score-17 '>      <span class='trace'>__Pyx_TraceLine</span>(4250,0,<span class='error_goto'>__PYX_ERR(0, 4250, __pyx_L1_error)</span>)
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_plt, __pyx_n_s_title);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4250, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_9 = NULL;
      __pyx_t_5 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
        __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
        if (likely(__pyx_t_9)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
          __pyx_t_5 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_9, __pyx_kp_u_Feature_Importances};
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4250, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-31" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4251</span>:             plt.bar(indices, importances, color='skyblue', align='center')</pre>
<pre class='cython code score-31 '>      <span class='trace'>__Pyx_TraceLine</span>(4251,0,<span class='error_goto'>__PYX_ERR(0, 4251, __pyx_L1_error)</span>)
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_plt, __pyx_n_s_bar);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4251, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4251, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_indices);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_indices);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_v_indices)) <span class='error_goto'>__PYX_ERR(0, 4251, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_importances);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_importances);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_v_importances)) <span class='error_goto'>__PYX_ERR(0, 4251, __pyx_L1_error)</span>;
      __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4251, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_9, __pyx_n_s_color, __pyx_n_u_skyblue) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4251, __pyx_L1_error)</span>
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_9, __pyx_n_s_align, __pyx_n_u_center) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4251, __pyx_L1_error)</span>
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_4, __pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4251, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-26" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4252</span>:             plt.xticks(indices, feature_names, rotation=45)</pre>
<pre class='cython code score-26 '>      <span class='trace'>__Pyx_TraceLine</span>(4252,0,<span class='error_goto'>__PYX_ERR(0, 4252, __pyx_L1_error)</span>)
      __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_plt, __pyx_n_s_xticks);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4252, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      __pyx_t_9 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4252, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_indices);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_indices);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_9, 0, __pyx_v_indices)) <span class='error_goto'>__PYX_ERR(0, 4252, __pyx_L1_error)</span>;
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_feature_names);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_feature_names);
      if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_9, 1, __pyx_v_feature_names)) <span class='error_goto'>__PYX_ERR(0, 4252, __pyx_L1_error)</span>;
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4252, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_rotation, __pyx_int_45) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4252, __pyx_L1_error)</span>
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_2, __pyx_t_9, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4252, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4253</span>:             plt.xlabel('Feature')</pre>
<pre class='cython code score-17 '>      <span class='trace'>__Pyx_TraceLine</span>(4253,0,<span class='error_goto'>__PYX_ERR(0, 4253, __pyx_L1_error)</span>)
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_plt, __pyx_n_s_xlabel);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4253, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_9 = NULL;
      __pyx_t_5 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
        __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
        if (likely(__pyx_t_9)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
          __pyx_t_5 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_9, __pyx_n_u_Feature};
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4253, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4254</span>:             plt.ylabel('Importance')</pre>
<pre class='cython code score-17 '>      <span class='trace'>__Pyx_TraceLine</span>(4254,0,<span class='error_goto'>__PYX_ERR(0, 4254, __pyx_L1_error)</span>)
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_plt, __pyx_n_s_ylabel);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4254, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_9 = NULL;
      __pyx_t_5 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
        __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
        if (likely(__pyx_t_9)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
          __pyx_t_5 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_9, __pyx_n_u_Importance};
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4254, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4255</span>:             plt.show()</pre>
<pre class='cython code score-17 '>      <span class='trace'>__Pyx_TraceLine</span>(4255,0,<span class='error_goto'>__PYX_ERR(0, 4255, __pyx_L1_error)</span>)
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_plt, __pyx_n_s_show);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4255, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      __pyx_t_9 = NULL;
      __pyx_t_5 = 0;
      #if CYTHON_UNPACK_METHODS
      if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_4))) {
        __pyx_t_9 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_4);
        if (likely(__pyx_t_9)) {
          PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_4);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_9);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_4, function);
          __pyx_t_5 = 1;
        }
      }
      #endif
      {
        PyObject *__pyx_callargs[2] = {__pyx_t_9, NULL};
        __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_4, __pyx_callargs+1-__pyx_t_5, 0+__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
        if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4255, __pyx_L1_error)</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
      }
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4256</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4257</span>:     # Map feature names to their importances</pre>
<pre class="cython line score-17" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4258</span>:     feature_importance_dict = dict(zip(feature_names, importances))</pre>
<pre class='cython code score-17 '>  <span class='trace'>__Pyx_TraceLine</span>(4258,0,<span class='error_goto'>__PYX_ERR(0, 4258, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4258, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_feature_names);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_feature_names);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_feature_names)) <span class='error_goto'>__PYX_ERR(0, 4258, __pyx_L1_error)</span>;
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_importances);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_importances);
  if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_v_importances)) <span class='error_goto'>__PYX_ERR(0, 4258, __pyx_L1_error)</span>;
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_zip, __pyx_t_1, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4258, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(((PyObject *)(&amp;PyDict_Type)), __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4258, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_v_feature_importance_dict = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4259</span>:     summary = ReportFactory(title="Feature Contributions Table",).add_mixed_types(</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(4259,0,<span class='error_goto'>__PYX_ERR(0, 4259, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_ReportFactory);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4259, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4259, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_9, __pyx_n_s_title, __pyx_kp_u_Feature_Contributions_Table) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4259, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_4, __pyx_empty_tuple, __pyx_t_9);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4259, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
  __pyx_t_9 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_2, __pyx_n_s_add_mixed_types);<span class='error_goto'> if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4259, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_9);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class="cython line score-14" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4260</span>:         feature_importance_dict)</pre>
<pre class='cython code score-14 '>  <span class='trace'>__Pyx_TraceLine</span>(4260,0,<span class='error_goto'>__PYX_ERR(0, 4260, __pyx_L1_error)</span>)
  __pyx_t_2 = NULL;
  __pyx_t_5 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_9))) {
    __pyx_t_2 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_9);
    if (likely(__pyx_t_2)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_9);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_9, function);
      __pyx_t_5 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_feature_importance_dict};
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_9, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4259, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_9); __pyx_t_9 = 0;
  }
  __pyx_v_summary = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4261</span>: </pre>
<pre class="cython line score-3" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4262</span>:     print(summary)</pre>
<pre class='cython code score-3 '>  <span class='trace'>__Pyx_TraceLine</span>(4262,0,<span class='error_goto'>__PYX_ERR(0, 4262, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_builtin_print, __pyx_v_summary);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4262, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4263</span>: </pre>
<pre class="cython line score-56" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4264</span>: @ensure_pkg ("shap", extra = (</pre>
<pre class='cython code score-56 '>/* Python wrapper */
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_109get_feature_contributions(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
); /*proto*/
<span class='py_macro_api'>PyDoc_STRVAR</span>(__pyx_doc_6gofast_5tools_7mlutils_108get_feature_contributions, "\n    Calculate the SHAP (SHapley Additive exPlanations) values to determine \n    the contribution of each feature to the model's predictions for each \n    instance in the dataset and optionally display a visual summary.\n\n    Parameters\n    ----------\n    X : ndarray or DataFrame\n        The feature matrix for which to calculate feature contributions.\n    model : sklearn.base.BaseEstimator, optional\n        A pre-trained tree-based machine learning model from scikit-learn (e.g.,\n        RandomForest). If None, a new RandomForestClassifier will be trained on `X`.\n    view : bool, optional\n        If True, displays a visual summary of feature contributions using SHAP's\n        visualization tools. Default is False.\n\n    Returns\n    -------\n    ndarray\n        A matrix of SHAP values where each row corresponds to an instance and\n        each column corresponds to a feature's contribution to that instance's \n        prediction.\n\n    Notes\n    -----\n    The function defaults to creating and using a RandomForestClassifier if no \n    model is provided. It is more efficient to pass a pre-trained model if \n    available.\n\n    Examples\n    --------\n    &gt;&gt;&gt; from sklearn.datasets import load_iris\n    &gt;&gt;&gt; from gofast.tools.mlutils import get_feature_contributions\n    &gt;&gt;&gt; data = load_iris()\n    &gt;&gt;&gt; X = data['data']\n    &gt;&gt;&gt; model = RandomForestClassifier(random_state=42)\n    &gt;&gt;&gt; model.fit(X, data['target'])\n    &gt;&gt;&gt; contributions = get_feature_contributions(X, model, view=True)\n    ");
static PyMethodDef __pyx_mdef_6gofast_5tools_7mlutils_109get_feature_contributions = {"get_feature_contributions", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_6gofast_5tools_7mlutils_109get_feature_contributions, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_6gofast_5tools_7mlutils_108get_feature_contributions};
static PyObject *__pyx_pw_6gofast_5tools_7mlutils_109get_feature_contributions(PyObject *__pyx_self, 
#if CYTHON_METH_FASTCALL
PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
#else
PyObject *__pyx_args, PyObject *__pyx_kwds
#endif
) {
  PyObject *__pyx_v_X = 0;
  PyObject *__pyx_v_model = 0;
  PyObject *__pyx_v_view = 0;
  #if !CYTHON_METH_FASTCALL
  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
  #endif
  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("get_feature_contributions (wrapper)", 0);
  #if !CYTHON_METH_FASTCALL
  #if CYTHON_ASSUME_SAFE_MACROS
  __pyx_nargs = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
  #else
  __pyx_nargs = <span class='py_c_api'>PyTuple_Size</span>(__pyx_args); if (unlikely(__pyx_nargs &lt; 0)) return NULL;
  #endif
  #endif
  __pyx_kwvalues = <span class='pyx_c_api'>__Pyx_KwValues_FASTCALL</span>(__pyx_args, __pyx_nargs);
  {
    PyObject **__pyx_pyargnames[] = {&amp;__pyx_n_s_X,&amp;__pyx_n_s_model,&amp;__pyx_n_s_view,0};
  PyObject* values[3] = {0,0,0};
/*  */
  /* function exit code */
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}

static PyObject *__pyx_pf_6gofast_5tools_7mlutils_108get_feature_contributions(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_X, PyObject *__pyx_v_model, PyObject *__pyx_v_view) {
  PyObject *__pyx_v_shap = NULL;
  PyObject *__pyx_v_explainer = NULL;
  PyObject *__pyx_v_shap_values = NULL;
  PyObject *__pyx_r = NULL;
  <span class='trace'>__Pyx_TraceDeclarations</span>
  <span class='trace'>__Pyx_TraceFrameInit</span>(__pyx_codeobj__129)
  <span class='trace'>__Pyx_TraceCall</span>("get_feature_contributions", __pyx_f[0], 4264, 0, <span class='error_goto'>__PYX_ERR(0, 4264, __pyx_L1_error)</span>);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_model);
/*  */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_4);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_7);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.get_feature_contributions", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_shap);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_explainer);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_shap_values);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_model);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='trace'>__Pyx_TraceReturn</span>(__pyx_r, 0);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(4264,0,<span class='error_goto'>__PYX_ERR(0, 4264, __pyx_L1_error)</span>)
  <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_6, __pyx_n_s_ensure_pkg);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4264, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4264, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_extra, __pyx_kp_u_get_feature_contributions_needs) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4264, __pyx_L1_error)</span>
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_6, __pyx_tuple__200, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4264, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
/*  */
  __pyx_tuple__203 = <span class='py_c_api'>PyTuple_Pack</span>(6, __pyx_n_s_X, __pyx_n_s_model, __pyx_n_s_view, __pyx_n_s_shap, __pyx_n_s_explainer, __pyx_n_s_shap_values);<span class='error_goto'> if (unlikely(!__pyx_tuple__203)) __PYX_ERR(0, 4264, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_tuple__203);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_tuple__203);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(4271,0,<span class='error_goto'>__PYX_ERR(0, 4271, __pyx_L1_error)</span>)
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_CyFunction_New</span>(&amp;__pyx_mdef_6gofast_5tools_7mlutils_109get_feature_contributions, 0, __pyx_n_s_get_feature_contributions, NULL, __pyx_n_s_gofast_tools_mlutils, __pyx_d, ((PyObject *)__pyx_codeobj__129));<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4264, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
  <span class='pyx_c_api'>__Pyx_CyFunction_SetDefaultsTuple</span>(__pyx_t_4, __pyx_tuple__157);
/*  */
  <span class='trace'>__Pyx_TraceLine</span>(4264,0,<span class='error_goto'>__PYX_ERR(0, 4264, __pyx_L1_error)</span>)
  __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_CallOneArg</span>(__pyx_t_2, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4264, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_get_feature_contributions, __pyx_t_6) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4264, __pyx_L1_error)</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4265</span>:     "`get_feature_contributions` needs SHapley Additive exPlanations (SHAP)"</pre>
<pre class="cython line score-0">&#xA0;<span class="">4266</span>:     " package to be installed. Instead, you can use"</pre>
<pre class="cython line score-0">&#xA0;<span class="">4267</span>:     " `gofast.tools.display_feature_contributions` for contribution scores"</pre>
<pre class="cython line score-0">&#xA0;<span class="">4268</span>:     " and `gofast.analysis.get_feature_importances` for PCA quick evaluation."</pre>
<pre class="cython line score-0">&#xA0;<span class="">4269</span>:     )</pre>
<pre class="cython line score-0">&#xA0;<span class="">4270</span>:  )</pre>
<pre class="cython line score-53" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4271</span>: def get_feature_contributions(X, model=None, view=False):</pre>
<pre class='cython code score-53 '>    values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)Py_None));
    values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(((PyObject *)((PyObject *)Py_False)));
    if (__pyx_kwds) {
      Py_ssize_t kw_args;
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        CYTHON_FALLTHROUGH;
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='pyx_c_api'>__Pyx_NumKwargs_FASTCALL</span>(__pyx_kwds);
      switch (__pyx_nargs) {
        case  0:
        if (likely((values[0] = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_X)) != 0)) {
          (void)<span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(values[0]);
          kw_args--;
        }
        else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4264, __pyx_L3_error)</span>
        else goto __pyx_L5_argtuple_error;
        CYTHON_FALLTHROUGH;
        case  1:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_model);
          if (value) { values[1] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4264, __pyx_L3_error)</span>
        }
        CYTHON_FALLTHROUGH;
        case  2:
        if (kw_args &gt; 0) {
          PyObject* value = <span class='pyx_c_api'>__Pyx_GetKwValue_FASTCALL</span>(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_view);
          if (value) { values[2] = <span class='pyx_c_api'>__Pyx_Arg_NewRef_FASTCALL</span>(value); kw_args--; }
          else if (unlikely(<span class='py_c_api'>PyErr_Occurred</span>())) <span class='error_goto'>__PYX_ERR(0, 4264, __pyx_L3_error)</span>
        }
      }
      if (unlikely(kw_args &gt; 0)) {
        const Py_ssize_t kwd_pos_args = __pyx_nargs;
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "get_feature_contributions") &lt; 0)) <span class='error_goto'>__PYX_ERR(0, 4264, __pyx_L3_error)</span>
      }
    } else {
      switch (__pyx_nargs) {
        case  3: values[2] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 2);
        CYTHON_FALLTHROUGH;
        case  2: values[1] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 1);
        CYTHON_FALLTHROUGH;
        case  1: values[0] = <span class='pyx_c_api'>__Pyx_Arg_FASTCALL</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_X = values[0];
    __pyx_v_model = values[1];
    __pyx_v_view = values[2];
  }
  goto __pyx_L6_skip;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("get_feature_contributions", 0, 1, 3, __pyx_nargs); <span class='error_goto'>__PYX_ERR(0, 4264, __pyx_L3_error)</span>
  __pyx_L6_skip:;
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  {
    Py_ssize_t __pyx_temp;
    for (__pyx_temp=0; __pyx_temp &lt; (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
      <span class='pyx_c_api'>__Pyx_Arg_XDECREF_FASTCALL</span>(values[__pyx_temp]);
    }
  }
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("gofast.tools.mlutils.get_feature_contributions", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_6gofast_5tools_7mlutils_108get_feature_contributions(__pyx_self, __pyx_v_X, __pyx_v_model, __pyx_v_view);
</pre><pre class="cython line score-0">&#xA0;<span class="">4272</span>:     """</pre>
<pre class="cython line score-0">&#xA0;<span class="">4273</span>:     Calculate the SHAP (SHapley Additive exPlanations) values to determine</pre>
<pre class="cython line score-0">&#xA0;<span class="">4274</span>:     the contribution of each feature to the model's predictions for each</pre>
<pre class="cython line score-0">&#xA0;<span class="">4275</span>:     instance in the dataset and optionally display a visual summary.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4276</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4277</span>:     Parameters</pre>
<pre class="cython line score-0">&#xA0;<span class="">4278</span>:     ----------</pre>
<pre class="cython line score-0">&#xA0;<span class="">4279</span>:     X : ndarray or DataFrame</pre>
<pre class="cython line score-0">&#xA0;<span class="">4280</span>:         The feature matrix for which to calculate feature contributions.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4281</span>:     model : sklearn.base.BaseEstimator, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">4282</span>:         A pre-trained tree-based machine learning model from scikit-learn (e.g.,</pre>
<pre class="cython line score-0">&#xA0;<span class="">4283</span>:         RandomForest). If None, a new RandomForestClassifier will be trained on `X`.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4284</span>:     view : bool, optional</pre>
<pre class="cython line score-0">&#xA0;<span class="">4285</span>:         If True, displays a visual summary of feature contributions using SHAP's</pre>
<pre class="cython line score-0">&#xA0;<span class="">4286</span>:         visualization tools. Default is False.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4287</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4288</span>:     Returns</pre>
<pre class="cython line score-0">&#xA0;<span class="">4289</span>:     -------</pre>
<pre class="cython line score-0">&#xA0;<span class="">4290</span>:     ndarray</pre>
<pre class="cython line score-0">&#xA0;<span class="">4291</span>:         A matrix of SHAP values where each row corresponds to an instance and</pre>
<pre class="cython line score-0">&#xA0;<span class="">4292</span>:         each column corresponds to a feature's contribution to that instance's</pre>
<pre class="cython line score-0">&#xA0;<span class="">4293</span>:         prediction.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4294</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4295</span>:     Notes</pre>
<pre class="cython line score-0">&#xA0;<span class="">4296</span>:     -----</pre>
<pre class="cython line score-0">&#xA0;<span class="">4297</span>:     The function defaults to creating and using a RandomForestClassifier if no</pre>
<pre class="cython line score-0">&#xA0;<span class="">4298</span>:     model is provided. It is more efficient to pass a pre-trained model if</pre>
<pre class="cython line score-0">&#xA0;<span class="">4299</span>:     available.</pre>
<pre class="cython line score-0">&#xA0;<span class="">4300</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4301</span>:     Examples</pre>
<pre class="cython line score-0">&#xA0;<span class="">4302</span>:     --------</pre>
<pre class="cython line score-0">&#xA0;<span class="">4303</span>:     &gt;&gt;&gt; from sklearn.datasets import load_iris</pre>
<pre class="cython line score-0">&#xA0;<span class="">4304</span>:     &gt;&gt;&gt; from gofast.tools.mlutils import get_feature_contributions</pre>
<pre class="cython line score-0">&#xA0;<span class="">4305</span>:     &gt;&gt;&gt; data = load_iris()</pre>
<pre class="cython line score-0">&#xA0;<span class="">4306</span>:     &gt;&gt;&gt; X = data['data']</pre>
<pre class="cython line score-0">&#xA0;<span class="">4307</span>:     &gt;&gt;&gt; model = RandomForestClassifier(random_state=42)</pre>
<pre class="cython line score-0">&#xA0;<span class="">4308</span>:     &gt;&gt;&gt; model.fit(X, data['target'])</pre>
<pre class="cython line score-0">&#xA0;<span class="">4309</span>:     &gt;&gt;&gt; contributions = get_feature_contributions(X, model, view=True)</pre>
<pre class="cython line score-0">&#xA0;<span class="">4310</span>:     """</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4311</span>:     import shap</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(4311,0,<span class='error_goto'>__PYX_ERR(0, 4311, __pyx_L1_error)</span>)
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_ImportDottedModule</span>(__pyx_n_s_shap, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4311, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_shap = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4312</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4313</span>:     # If no model is provided, train a RandomForestClassifier</pre>
<pre class="cython line score-0" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4314</span>:     if model is None:</pre>
<pre class='cython code score-0 '>  <span class='trace'>__Pyx_TraceLine</span>(4314,0,<span class='error_goto'>__PYX_ERR(0, 4314, __pyx_L1_error)</span>)
  __pyx_t_2 = (__pyx_v_model == Py_None);
  if (__pyx_t_2) {
/*  */
  }
</pre><pre class="cython line score-19" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4315</span>:         model = RandomForestClassifier(n_estimators=100, random_state=42)</pre>
<pre class='cython code score-19 '>    <span class='trace'>__Pyx_TraceLine</span>(4315,0,<span class='error_goto'>__PYX_ERR(0, 4315, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_RandomForestClassifier);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4315, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4315, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_n_estimators, __pyx_int_100) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4315, __pyx_L1_error)</span>
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_3, __pyx_n_s_random_state, __pyx_int_42) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4315, __pyx_L1_error)</span>
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_empty_tuple, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4315, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_model, __pyx_t_4);
    __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4316</span>:         # Dummy target, assuming unsupervised setup for example</pre>
<pre class="cython line score-43" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4317</span>:         model.fit(X, np.zeros(X.shape[0]))</pre>
<pre class='cython code score-43 '>    <span class='trace'>__Pyx_TraceLine</span>(4317,0,<span class='error_goto'>__PYX_ERR(0, 4317, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_model, __pyx_n_s_fit);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4317, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_5, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4317, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_5, __pyx_n_s_zeros);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4317, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_X, __pyx_n_s_shape);<span class='error_goto'> if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4317, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_5);
    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_t_5, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 4317, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = NULL;
    __pyx_t_8 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
      __pyx_t_5 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
      if (likely(__pyx_t_5)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_5);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
        __pyx_t_8 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_t_7};
      __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_7); __pyx_t_7 = 0;
      if (unlikely(!__pyx_t_1)) <span class='error_goto'>__PYX_ERR(0, 4317, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    __pyx_t_6 = NULL;
    __pyx_t_8 = 0;
    #if CYTHON_UNPACK_METHODS
    if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
      __pyx_t_6 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
      if (likely(__pyx_t_6)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
        __pyx_t_8 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[3] = {__pyx_t_6, __pyx_v_X, __pyx_t_1};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_8, 2+__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 4317, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    }
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4318</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4319</span>:     # Create the Tree explainer and calculate SHAP values</pre>
<pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4320</span>:     explainer = shap.TreeExplainer(model)</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(4320,0,<span class='error_goto'>__PYX_ERR(0, 4320, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_shap, __pyx_n_s_TreeExplainer);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4320, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_1 = NULL;
  __pyx_t_8 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_1)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_8 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_v_model};
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 4320, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_v_explainer = __pyx_t_4;
  __pyx_t_4 = 0;
</pre><pre class="cython line score-16" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4321</span>:     shap_values = explainer.shap_values(X)</pre>
<pre class='cython code score-16 '>  <span class='trace'>__Pyx_TraceLine</span>(4321,0,<span class='error_goto'>__PYX_ERR(0, 4321, __pyx_L1_error)</span>)
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_explainer, __pyx_n_s_shap_values);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4321, __pyx_L1_error)</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  __pyx_t_1 = NULL;
  __pyx_t_8 = 0;
  #if CYTHON_UNPACK_METHODS
  if (likely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_3))) {
    __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_3);
    if (likely(__pyx_t_1)) {
      PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_3, function);
      __pyx_t_8 = 1;
    }
  }
  #endif
  {
    PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_v_X};
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_3, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 4321, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_v_shap_values = __pyx_t_4;
  __pyx_t_4 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4322</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4323</span>:     # SHAP returns a list for multi-class, we sum across all classes for overall importance</pre>
<pre class="cython line score-5" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4324</span>:     if isinstance(shap_values, list):</pre>
<pre class='cython code score-5 '>  <span class='trace'>__Pyx_TraceLine</span>(4324,0,<span class='error_goto'>__PYX_ERR(0, 4324, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='py_c_api'>PyList_Check</span>(__pyx_v_shap_values); 
  if (__pyx_t_2) {
/*  */
  }
</pre><pre class="cython line score-44" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4325</span>:         shap_values = np.sum(np.abs(shap_values), axis=0)</pre>
<pre class='cython code score-44 '>    <span class='trace'>__Pyx_TraceLine</span>(4325,0,<span class='error_goto'>__PYX_ERR(0, 4325, __pyx_L1_error)</span>)
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_4, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4325, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_4, __pyx_n_s_sum);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4325, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_t_1, __pyx_n_s_np);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4325, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_t_1, __pyx_n_s_abs);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4325, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = NULL;
    __pyx_t_8 = 0;
    #if CYTHON_UNPACK_METHODS
    if (unlikely(<span class='py_c_api'>PyMethod_Check</span>(__pyx_t_6))) {
      __pyx_t_1 = <span class='py_macro_api'>PyMethod_GET_SELF</span>(__pyx_t_6);
      if (likely(__pyx_t_1)) {
        PyObject* function = <span class='py_macro_api'>PyMethod_GET_FUNCTION</span>(__pyx_t_6);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_t_1);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(function);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_t_6, function);
        __pyx_t_8 = 1;
      }
    }
    #endif
    {
      PyObject *__pyx_callargs[2] = {__pyx_t_1, __pyx_v_shap_values};
      __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyObject_FastCall</span>(__pyx_t_6, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
      <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
      if (unlikely(!__pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 4325, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    __pyx_t_6 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4325, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_4);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_t_4)) <span class='error_goto'>__PYX_ERR(0, 4325, __pyx_L1_error)</span>;
    __pyx_t_4 = 0;
    __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4325, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_4, __pyx_n_s_axis, __pyx_int_0) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4325, __pyx_L1_error)</span>
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_3, __pyx_t_6, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4325, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_shap_values, __pyx_t_1);
    __pyx_t_1 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4326</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4327</span>:     # Visualization if view is True</pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4328</span>:     if view:</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(4328,0,<span class='error_goto'>__PYX_ERR(0, 4328, __pyx_L1_error)</span>)
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_PyObject_IsTrue</span>(__pyx_v_view); if (unlikely((__pyx_t_2 &lt; 0))) <span class='error_goto'>__PYX_ERR(0, 4328, __pyx_L1_error)</span>
  if (__pyx_t_2) {
/*  */
  }
</pre><pre class="cython line score-25" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4329</span>:         shap.summary_plot(shap_values, X, feature_names=model.feature_names_in_ if hasattr(</pre>
<pre class='cython code score-25 '>    <span class='trace'>__Pyx_TraceLine</span>(4329,0,<span class='error_goto'>__PYX_ERR(0, 4329, __pyx_L1_error)</span>)
    __pyx_t_1 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_shap, __pyx_n_s_summary_plot);<span class='error_goto'> if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4329, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
    __pyx_t_4 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4329, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_4);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_shap_values);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_shap_values);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_v_shap_values)) <span class='error_goto'>__PYX_ERR(0, 4329, __pyx_L1_error)</span>;
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_X);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_X);
    if (<span class='pyx_c_api'>__Pyx_PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_v_X)) <span class='error_goto'>__PYX_ERR(0, 4329, __pyx_L1_error)</span>;
    __pyx_t_6 = <span class='pyx_c_api'>__Pyx_PyDict_NewPresized</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4329, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_6);
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(4330,0,<span class='error_goto'>__PYX_ERR(0, 4330, __pyx_L1_error)</span>)
    __pyx_t_2 = <span class='pyx_c_api'>__Pyx_HasAttr</span>(__pyx_v_model, __pyx_n_u_feature_names_in);<span class='error_goto'> if (unlikely(__pyx_t_2 == ((int)-1))) __PYX_ERR(0, 4329, __pyx_L1_error)</span>
    if (__pyx_t_2) {
/*  */
      <span class='trace'>__Pyx_TraceLine</span>(4329,0,<span class='error_goto'>__PYX_ERR(0, 4329, __pyx_L1_error)</span>)
      __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyObject_GetAttrStr</span>(__pyx_v_model, __pyx_n_s_feature_names_in);<span class='error_goto'> if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 4329, __pyx_L1_error)</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_7);
      __pyx_t_3 = __pyx_t_7;
      __pyx_t_7 = 0;
    } else {
/*  */
    <span class='trace'>__Pyx_TraceLine</span>(4329,0,<span class='error_goto'>__PYX_ERR(0, 4329, __pyx_L1_error)</span>)
    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_4, __pyx_t_6);<span class='error_goto'> if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4329, __pyx_L1_error)</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_6); __pyx_t_6 = 0;
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-7" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4330</span>:             model, 'feature_names_in_') else None)</pre>
<pre class='cython code score-7 '>      <span class='trace'>__Pyx_TraceLine</span>(4330,0,<span class='error_goto'>__PYX_ERR(0, 4330, __pyx_L1_error)</span>)
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
      __pyx_t_3 = Py_None;
    }
    if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_t_6, __pyx_n_s_feature_names, __pyx_t_3) &lt; 0) <span class='error_goto'>__PYX_ERR(0, 4329, __pyx_L1_error)</span>
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4331</span>: </pre>
<pre class="cython line score-2" onclick="(function(s){s.display=s.display==='block'?'none':'block'})(this.nextElementSibling.style)">+<span class="">4332</span>:     return shap_values</pre>
<pre class='cython code score-2 '>  <span class='trace'>__Pyx_TraceLine</span>(4332,0,<span class='error_goto'>__PYX_ERR(0, 4332, __pyx_L1_error)</span>)
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_shap_values);
  __pyx_r = __pyx_v_shap_values;
  goto __pyx_L0;
</pre><pre class="cython line score-0">&#xA0;<span class="">4333</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4334</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4335</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4336</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4337</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4338</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4339</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4340</span>: </pre>
<pre class="cython line score-0">&#xA0;<span class="">4341</span>: </pre>
</div></body></html>
